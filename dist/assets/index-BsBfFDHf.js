function Ioe(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const o=Object.getOwnPropertyDescriptor(n,r);o&&Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function $$(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var DF={exports:{}},$x={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o3;function Moe(){if(o3)return $x;o3=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,o){var s=null;if(o!==void 0&&(s=""+o),r.key!==void 0&&(s=""+r.key),"key"in r){o={};for(var a in r)a!=="key"&&(o[a]=r[a])}else o=r;return r=o.ref,{$$typeof:i,type:n,key:s,ref:r!==void 0?r:null,props:o}}return $x.Fragment=e,$x.jsx=t,$x.jsxs=t,$x}var s3;function Roe(){return s3||(s3=1,DF.exports=Moe()),DF.exports}var Es=Roe(),UF={exports:{}},Oi={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3;function koe(){if(a3)return Oi;a3=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function d($){return $===null||typeof $!="object"?null:($=h&&$[h]||$["@@iterator"],typeof $=="function"?$:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function _($,ee,oe){this.props=$,this.context=ee,this.refs=v,this.updater=oe||p}_.prototype.isReactComponent={},_.prototype.setState=function($,ee){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ee,"setState")},_.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function b(){}b.prototype=_.prototype;function x($,ee,oe){this.props=$,this.context=ee,this.refs=v,this.updater=oe||p}var C=x.prototype=new b;C.constructor=x,g(C,_.prototype),C.isPureReactComponent=!0;var S=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function M($,ee,oe,ge,se,Ae){return oe=Ae.ref,{$$typeof:i,type:$,key:ee,ref:oe!==void 0?oe:null,props:Ae}}function k($,ee){return M($.type,ee,void 0,void 0,void 0,$.props)}function F($){return typeof $=="object"&&$!==null&&$.$$typeof===i}function P($){var ee={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(oe){return ee[oe]})}var Q=/\/+/g;function N($,ee){return typeof $=="object"&&$!==null&&$.key!=null?P(""+$.key):ee.toString(36)}function W(){}function q($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(W,W):($.status="pending",$.then(function(ee){$.status==="pending"&&($.status="fulfilled",$.value=ee)},function(ee){$.status==="pending"&&($.status="rejected",$.reason=ee)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function J($,ee,oe,ge,se){var Ae=typeof $;(Ae==="undefined"||Ae==="boolean")&&($=null);var we=!1;if($===null)we=!0;else switch(Ae){case"bigint":case"string":case"number":we=!0;break;case"object":switch($.$$typeof){case i:case e:we=!0;break;case u:return we=$._init,J(we($._payload),ee,oe,ge,se)}}if(we)return se=se($),we=ge===""?"."+N($,0):ge,S(se)?(oe="",we!=null&&(oe=we.replace(Q,"$&/")+"/"),J(se,ee,oe,"",function(Re){return Re})):se!=null&&(F(se)&&(se=k(se,oe+(se.key==null||$&&$.key===se.key?"":(""+se.key).replace(Q,"$&/")+"/")+we)),ee.push(se)),1;we=0;var xe=ge===""?".":ge+":";if(S($))for(var Be=0;Be<$.length;Be++)ge=$[Be],Ae=xe+N(ge,Be),we+=J(ge,ee,oe,Ae,se);else if(Be=d($),typeof Be=="function")for($=Be.call($),Be=0;!(ge=$.next()).done;)ge=ge.value,Ae=xe+N(ge,Be++),we+=J(ge,ee,oe,Ae,se);else if(Ae==="object"){if(typeof $.then=="function")return J(q($),ee,oe,ge,se);throw ee=String($),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return we}function V($,ee,oe){if($==null)return $;var ge=[],se=0;return J($,ge,"","",function(Ae){return ee.call(oe,Ae,se++)}),ge}function Y($){if($._status===-1){var ee=$._result;ee=ee(),ee.then(function(oe){($._status===0||$._status===-1)&&($._status=1,$._result=oe)},function(oe){($._status===0||$._status===-1)&&($._status=2,$._result=oe)}),$._status===-1&&($._status=0,$._result=ee)}if($._status===1)return $._result.default;throw $._result}var Z=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function ue(){}return Oi.Children={map:V,forEach:function($,ee,oe){V($,function(){ee.apply(this,arguments)},oe)},count:function($){var ee=0;return V($,function(){ee++}),ee},toArray:function($){return V($,function(ee){return ee})||[]},only:function($){if(!F($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Oi.Component=_,Oi.Fragment=t,Oi.Profiler=r,Oi.PureComponent=x,Oi.StrictMode=n,Oi.Suspense=l,Oi.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Oi.__COMPILER_RUNTIME={__proto__:null,c:function($){return E.H.useMemoCache($)}},Oi.cache=function($){return function(){return $.apply(null,arguments)}},Oi.cloneElement=function($,ee,oe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ge=g({},$.props),se=$.key,Ae=void 0;if(ee!=null)for(we in ee.ref!==void 0&&(Ae=void 0),ee.key!==void 0&&(se=""+ee.key),ee)!I.call(ee,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ee.ref===void 0||(ge[we]=ee[we]);var we=arguments.length-2;if(we===1)ge.children=oe;else if(1<we){for(var xe=Array(we),Be=0;Be<we;Be++)xe[Be]=arguments[Be+2];ge.children=xe}return M($.type,se,void 0,void 0,Ae,ge)},Oi.createContext=function($){return $={$$typeof:s,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},Oi.createElement=function($,ee,oe){var ge,se={},Ae=null;if(ee!=null)for(ge in ee.key!==void 0&&(Ae=""+ee.key),ee)I.call(ee,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(se[ge]=ee[ge]);var we=arguments.length-2;if(we===1)se.children=oe;else if(1<we){for(var xe=Array(we),Be=0;Be<we;Be++)xe[Be]=arguments[Be+2];se.children=xe}if($&&$.defaultProps)for(ge in we=$.defaultProps,we)se[ge]===void 0&&(se[ge]=we[ge]);return M($,Ae,void 0,void 0,null,se)},Oi.createRef=function(){return{current:null}},Oi.forwardRef=function($){return{$$typeof:a,render:$}},Oi.isValidElement=F,Oi.lazy=function($){return{$$typeof:u,_payload:{_status:-1,_result:$},_init:Y}},Oi.memo=function($,ee){return{$$typeof:c,type:$,compare:ee===void 0?null:ee}},Oi.startTransition=function($){var ee=E.T,oe={};E.T=oe;try{var ge=$(),se=E.S;se!==null&&se(oe,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(ue,Z)}catch(Ae){Z(Ae)}finally{E.T=ee}},Oi.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Oi.use=function($){return E.H.use($)},Oi.useActionState=function($,ee,oe){return E.H.useActionState($,ee,oe)},Oi.useCallback=function($,ee){return E.H.useCallback($,ee)},Oi.useContext=function($){return E.H.useContext($)},Oi.useDebugValue=function(){},Oi.useDeferredValue=function($,ee){return E.H.useDeferredValue($,ee)},Oi.useEffect=function($,ee,oe){var ge=E.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect($,ee)},Oi.useId=function(){return E.H.useId()},Oi.useImperativeHandle=function($,ee,oe){return E.H.useImperativeHandle($,ee,oe)},Oi.useInsertionEffect=function($,ee){return E.H.useInsertionEffect($,ee)},Oi.useLayoutEffect=function($,ee){return E.H.useLayoutEffect($,ee)},Oi.useMemo=function($,ee){return E.H.useMemo($,ee)},Oi.useOptimistic=function($,ee){return E.H.useOptimistic($,ee)},Oi.useReducer=function($,ee,oe){return E.H.useReducer($,ee,oe)},Oi.useRef=function($){return E.H.useRef($)},Oi.useState=function($){return E.H.useState($)},Oi.useSyncExternalStore=function($,ee,oe){return E.H.useSyncExternalStore($,ee,oe)},Oi.useTransition=function(){return E.H.useTransition()},Oi.version="19.1.0",Oi}var l3;function mQ(){return l3||(l3=1,UF.exports=koe()),UF.exports}var ne=mQ();const _e=$$(ne),Foe=Ioe({__proto__:null,default:_e},[ne]);var PF={exports:{}},Xx={},LF={exports:{}},OF={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c3;function Doe(){return c3||(c3=1,function(i){function e(V,Y){var Z=V.length;V.push(Y);e:for(;0<Z;){var ue=Z-1>>>1,$=V[ue];if(0<r($,Y))V[ue]=Y,V[Z]=$,Z=ue;else break e}}function t(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var Y=V[0],Z=V.pop();if(Z!==Y){V[0]=Z;e:for(var ue=0,$=V.length,ee=$>>>1;ue<ee;){var oe=2*(ue+1)-1,ge=V[oe],se=oe+1,Ae=V[se];if(0>r(ge,Z))se<$&&0>r(Ae,ge)?(V[ue]=Ae,V[se]=Z,ue=se):(V[ue]=ge,V[oe]=Z,ue=oe);else if(se<$&&0>r(Ae,Z))V[ue]=Ae,V[se]=Z,ue=se;else break e}}return Y}function r(V,Y){var Z=V.sortIndex-Y.sortIndex;return Z!==0?Z:V.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();i.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,h=null,d=3,p=!1,g=!1,v=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function S(V){for(var Y=t(c);Y!==null;){if(Y.callback===null)n(c);else if(Y.startTime<=V)n(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(c)}}function E(V){if(v=!1,S(V),!g)if(t(l)!==null)g=!0,I||(I=!0,N());else{var Y=t(c);Y!==null&&J(E,Y.startTime-V)}}var I=!1,M=-1,k=5,F=-1;function P(){return _?!0:!(i.unstable_now()-F<k)}function Q(){if(_=!1,I){var V=i.unstable_now();F=V;var Y=!0;try{e:{g=!1,v&&(v=!1,x(M),M=-1),p=!0;var Z=d;try{t:{for(S(V),h=t(l);h!==null&&!(h.expirationTime>V&&P());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,d=h.priorityLevel;var $=ue(h.expirationTime<=V);if(V=i.unstable_now(),typeof $=="function"){h.callback=$,S(V),Y=!0;break t}h===t(l)&&n(l),S(V)}else n(l);h=t(l)}if(h!==null)Y=!0;else{var ee=t(c);ee!==null&&J(E,ee.startTime-V),Y=!1}}break e}finally{h=null,d=Z,p=!1}Y=void 0}}finally{Y?N():I=!1}}}var N;if(typeof C=="function")N=function(){C(Q)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,q=W.port2;W.port1.onmessage=Q,N=function(){q.postMessage(null)}}else N=function(){b(Q,0)};function J(V,Y){M=b(function(){V(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return d},i.unstable_next=function(V){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var Z=d;d=Y;try{return V()}finally{d=Z}},i.unstable_requestPaint=function(){_=!0},i.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=d;d=V;try{return Y()}finally{d=Z}},i.unstable_scheduleCallback=function(V,Y,Z){var ue=i.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ue+Z:ue):Z=ue,V){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Z+$,V={id:u++,callback:Y,priorityLevel:V,startTime:Z,expirationTime:$,sortIndex:-1},Z>ue?(V.sortIndex=Z,e(c,V),t(l)===null&&V===t(c)&&(v?(x(M),M=-1):v=!0,J(E,Z-ue))):(V.sortIndex=$,e(l,V),g||p||(g=!0,I||(I=!0,N()))),V},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(V){var Y=d;return function(){var Z=d;d=Y;try{return V.apply(this,arguments)}finally{d=Z}}}}(OF)),OF}var u3;function Uoe(){return u3||(u3=1,LF.exports=Doe()),LF.exports}var QF={exports:{}},Ba={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h3;function Poe(){if(h3)return Ba;h3=1;var i=mQ();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(l,c,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:h==null?null:""+h,children:l,containerInfo:c,implementation:u}}var s=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Ba.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ba.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return o(l,c,null,u)},Ba.flushSync=function(l){var c=s.T,u=n.p;try{if(s.T=null,n.p=2,l)return l()}finally{s.T=c,n.p=u,n.d.f()}},Ba.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(l,c))},Ba.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},Ba.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,h=a(u,c.crossOrigin),d=typeof c.integrity=="string"?c.integrity:void 0,p=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?n.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:d,fetchPriority:p}):u==="script"&&n.d.X(l,{crossOrigin:h,integrity:d,fetchPriority:p,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Ba.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=a(c.as,c.crossOrigin);n.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(l)},Ba.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,h=a(u,c.crossOrigin);n.d.L(l,u,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Ba.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=a(c.as,c.crossOrigin);n.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(l)},Ba.requestFormReset=function(l){n.d.r(l)},Ba.unstable_batchedUpdates=function(l,c){return l(c)},Ba.useFormState=function(l,c,u){return s.H.useFormState(l,c,u)},Ba.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ba.version="19.1.0",Ba}var A3;function X$(){if(A3)return QF.exports;A3=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),QF.exports=Poe(),QF.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3;function Loe(){if(d3)return Xx;d3=1;var i=Uoe(),e=mQ(),t=X$();function n(A){var f="https://react.dev/errors/"+A;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+A+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function o(A){var f=A,y=A;if(A.alternate)for(;f.return;)f=f.return;else{A=f;do f=A,(f.flags&4098)!==0&&(y=f.return),A=f.return;while(A)}return f.tag===3?y:null}function s(A){if(A.tag===13){var f=A.memoizedState;if(f===null&&(A=A.alternate,A!==null&&(f=A.memoizedState)),f!==null)return f.dehydrated}return null}function a(A){if(o(A)!==A)throw Error(n(188))}function l(A){var f=A.alternate;if(!f){if(f=o(A),f===null)throw Error(n(188));return f!==A?null:A}for(var y=A,B=f;;){var R=y.return;if(R===null)break;var L=R.alternate;if(L===null){if(B=R.return,B!==null){y=B;continue}break}if(R.child===L.child){for(L=R.child;L;){if(L===y)return a(R),A;if(L===B)return a(R),f;L=L.sibling}throw Error(n(188))}if(y.return!==B.return)y=R,B=L;else{for(var ie=!1,de=R.child;de;){if(de===y){ie=!0,y=R,B=L;break}if(de===B){ie=!0,B=R,y=L;break}de=de.sibling}if(!ie){for(de=L.child;de;){if(de===y){ie=!0,y=L,B=R;break}if(de===B){ie=!0,B=L,y=R;break}de=de.sibling}if(!ie)throw Error(n(189))}}if(y.alternate!==B)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?A:f}function c(A){var f=A.tag;if(f===5||f===26||f===27||f===6)return A;for(A=A.child;A!==null;){if(f=c(A),f!==null)return f;A=A.sibling}return null}var u=Object.assign,h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),C=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function N(A){return A===null||typeof A!="object"?null:(A=Q&&A[Q]||A["@@iterator"],typeof A=="function"?A:null)}var W=Symbol.for("react.client.reference");function q(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===W?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case g:return"Fragment";case _:return"Profiler";case v:return"StrictMode";case E:return"Suspense";case I:return"SuspenseList";case F:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case p:return"Portal";case C:return(A.displayName||"Context")+".Provider";case x:return(A._context.displayName||"Context")+".Consumer";case S:var f=A.render;return A=A.displayName,A||(A=f.displayName||f.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case M:return f=A.displayName||null,f!==null?f:q(A.type)||"Memo";case k:f=A._payload,A=A._init;try{return q(A(f))}catch{}}return null}var J=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ue=[],$=-1;function ee(A){return{current:A}}function oe(A){0>$||(A.current=ue[$],ue[$]=null,$--)}function ge(A,f){$++,ue[$]=A.current,A.current=f}var se=ee(null),Ae=ee(null),we=ee(null),xe=ee(null);function Be(A,f){switch(ge(we,f),ge(Ae,A),ge(se,null),f.nodeType){case 9:case 11:A=(A=f.documentElement)&&(A=A.namespaceURI)?FH(A):0;break;default:if(A=f.tagName,f=f.namespaceURI)f=FH(f),A=DH(f,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}oe(se),ge(se,A)}function Re(){oe(se),oe(Ae),oe(we)}function ke(A){A.memoizedState!==null&&ge(xe,A);var f=se.current,y=DH(f,A.type);f!==y&&(ge(Ae,A),ge(se,y))}function Pe(A){Ae.current===A&&(oe(se),oe(Ae)),xe.current===A&&(oe(xe),Vx._currentValue=Z)}var ve=Object.prototype.hasOwnProperty,te=i.unstable_scheduleCallback,H=i.unstable_cancelCallback,le=i.unstable_shouldYield,U=i.unstable_requestPaint,z=i.unstable_now,j=i.unstable_getCurrentPriorityLevel,re=i.unstable_ImmediatePriority,ae=i.unstable_UserBlockingPriority,X=i.unstable_NormalPriority,G=i.unstable_LowPriority,ce=i.unstable_IdlePriority,Te=i.log,Ie=i.unstable_setDisableYieldValue,ye=null,Ue=null;function De(A){if(typeof Te=="function"&&Ie(A),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(ye,A)}catch{}}var Ge=Math.clz32?Math.clz32:st,ct=Math.log,Ve=Math.LN2;function st(A){return A>>>=0,A===0?32:31-(ct(A)/Ve|0)|0}var rt=256,yt=4194304;function At(A){var f=A&42;if(f!==0)return f;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function Ut(A,f,y){var B=A.pendingLanes;if(B===0)return 0;var R=0,L=A.suspendedLanes,ie=A.pingedLanes;A=A.warmLanes;var de=B&134217727;return de!==0?(B=de&~L,B!==0?R=At(B):(ie&=de,ie!==0?R=At(ie):y||(y=de&~A,y!==0&&(R=At(y))))):(de=B&~L,de!==0?R=At(de):ie!==0?R=At(ie):y||(y=B&~A,y!==0&&(R=At(y)))),R===0?0:f!==0&&f!==R&&(f&L)===0&&(L=R&-R,y=f&-f,L>=y||L===32&&(y&4194048)!==0)?f:R}function Tt(A,f){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&f)===0}function It(A,f){switch(A){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ee(){var A=rt;return rt<<=1,(rt&4194048)===0&&(rt=256),A}function pt(){var A=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),A}function Ne(A){for(var f=[],y=0;31>y;y++)f.push(A);return f}function je(A,f){A.pendingLanes|=f,f!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function ft(A,f,y,B,R,L){var ie=A.pendingLanes;A.pendingLanes=y,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=y,A.entangledLanes&=y,A.errorRecoveryDisabledLanes&=y,A.shellSuspendCounter=0;var de=A.entanglements,Se=A.expirationTimes,ze=A.hiddenUpdates;for(y=ie&~y;0<y;){var it=31-Ge(y),at=1<<it;de[it]=0,Se[it]=-1;var $e=ze[it];if($e!==null)for(ze[it]=null,it=0;it<$e.length;it++){var Ye=$e[it];Ye!==null&&(Ye.lane&=-536870913)}y&=~at}B!==0&&dt(A,B,0),L!==0&&R===0&&A.tag!==0&&(A.suspendedLanes|=L&~(ie&~f))}function dt(A,f,y){A.pendingLanes|=f,A.suspendedLanes&=~f;var B=31-Ge(f);A.entangledLanes|=f,A.entanglements[B]=A.entanglements[B]|1073741824|y&4194090}function mt(A,f){var y=A.entangledLanes|=f;for(A=A.entanglements;y;){var B=31-Ge(y),R=1<<B;R&f|A[B]&f&&(A[B]|=f),y&=~R}}function zt(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function gi(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function $t(){var A=Y.p;return A!==0?A:(A=window.event,A===void 0?32:JH(A.type))}function Bi(A,f){var y=Y.p;try{return Y.p=A,f()}finally{Y.p=y}}var Di=Math.random().toString(36).slice(2),sn="__reactFiber$"+Di,ci="__reactProps$"+Di,er="__reactContainer$"+Di,xo="__reactEvents$"+Di,Ml="__reactListeners$"+Di,No="__reactHandles$"+Di,as="__reactResources$"+Di,oa="__reactMarker$"+Di;function Rl(A){delete A[sn],delete A[ci],delete A[xo],delete A[Ml],delete A[No]}function sa(A){var f=A[sn];if(f)return f;for(var y=A.parentNode;y;){if(f=y[er]||y[sn]){if(y=f.alternate,f.child!==null||y!==null&&y.child!==null)for(A=OH(A);A!==null;){if(y=A[sn])return y;A=OH(A)}return f}A=y,y=A.parentNode}return null}function kn(A){if(A=A[sn]||A[er]){var f=A.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return A}return null}function dn(A){var f=A.tag;if(f===5||f===26||f===27||f===6)return A.stateNode;throw Error(n(33))}function ls(A){var f=A[as];return f||(f=A[as]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function wt(A){A[oa]=!0}var kl=new Set,aa={};function so(A,f){pe(A,f),pe(A+"Capture",f)}function pe(A,f){for(aa[A]=f,A=0;A<f.length;A++)kl.add(f[A])}var Le=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),We={},Ke={};function Oe(A){return ve.call(Ke,A)?!0:ve.call(We,A)?!1:Le.test(A)?Ke[A]=!0:(We[A]=!0,!1)}function ht(A,f,y){if(Oe(f))if(y===null)A.removeAttribute(f);else{switch(typeof y){case"undefined":case"function":case"symbol":A.removeAttribute(f);return;case"boolean":var B=f.toLowerCase().slice(0,5);if(B!=="data-"&&B!=="aria-"){A.removeAttribute(f);return}}A.setAttribute(f,""+y)}}function _t(A,f,y){if(y===null)A.removeAttribute(f);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(f);return}A.setAttribute(f,""+y)}}function xt(A,f,y,B){if(B===null)A.removeAttribute(y);else{switch(typeof B){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(y);return}A.setAttributeNS(f,y,""+B)}}var Mt,Wt;function Gt(A){if(Mt===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);Mt=f&&f[1]||"",Wt=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mt+A+Wt}var Ht=!1;function mi(A,f){if(!A||Ht)return"";Ht=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var B={DetermineComponentFrameRoot:function(){try{if(f){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(Ye){var $e=Ye}Reflect.construct(A,[],at)}else{try{at.call()}catch(Ye){$e=Ye}A.call(at.prototype)}}else{try{throw Error()}catch(Ye){$e=Ye}(at=A())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(Ye){if(Ye&&$e&&typeof Ye.stack=="string")return[Ye.stack,$e.stack]}return[null,null]}};B.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(B.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(B.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=B.DetermineComponentFrameRoot(),ie=L[0],de=L[1];if(ie&&de){var Se=ie.split(`
`),ze=de.split(`
`);for(R=B=0;B<Se.length&&!Se[B].includes("DetermineComponentFrameRoot");)B++;for(;R<ze.length&&!ze[R].includes("DetermineComponentFrameRoot");)R++;if(B===Se.length||R===ze.length)for(B=Se.length-1,R=ze.length-1;1<=B&&0<=R&&Se[B]!==ze[R];)R--;for(;1<=B&&0<=R;B--,R--)if(Se[B]!==ze[R]){if(B!==1||R!==1)do if(B--,R--,0>R||Se[B]!==ze[R]){var it=`
`+Se[B].replace(" at new "," at ");return A.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",A.displayName)),it}while(1<=B&&0<=R);break}}}finally{Ht=!1,Error.prepareStackTrace=y}return(y=A?A.displayName||A.name:"")?Gt(y):""}function $i(A){switch(A.tag){case 26:case 27:case 5:return Gt(A.type);case 16:return Gt("Lazy");case 13:return Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return mi(A.type,!1);case 11:return mi(A.type.render,!1);case 1:return mi(A.type,!0);case 31:return Gt("Activity");default:return""}}function _n(A){try{var f="";do f+=$i(A),A=A.return;while(A);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function Ei(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function si(A){var f=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Vt(A){var f=si(A)?"checked":"value",y=Object.getOwnPropertyDescriptor(A.constructor.prototype,f),B=""+A[f];if(!A.hasOwnProperty(f)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var R=y.get,L=y.set;return Object.defineProperty(A,f,{configurable:!0,get:function(){return R.call(this)},set:function(ie){B=""+ie,L.call(this,ie)}}),Object.defineProperty(A,f,{enumerable:y.enumerable}),{getValue:function(){return B},setValue:function(ie){B=""+ie},stopTracking:function(){A._valueTracker=null,delete A[f]}}}}function xn(A){A._valueTracker||(A._valueTracker=Vt(A))}function Ti(A){if(!A)return!1;var f=A._valueTracker;if(!f)return!0;var y=f.getValue(),B="";return A&&(B=si(A)?A.checked?"true":"false":A.value),A=B,A!==y?(f.setValue(A),!0):!1}function ao(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var la=/[\n"\\]/g;function Xi(A){return A.replace(la,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function ca(A,f,y,B,R,L,ie,de){A.name="",ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?A.type=ie:A.removeAttribute("type"),f!=null?ie==="number"?(f===0&&A.value===""||A.value!=f)&&(A.value=""+Ei(f)):A.value!==""+Ei(f)&&(A.value=""+Ei(f)):ie!=="submit"&&ie!=="reset"||A.removeAttribute("value"),f!=null?Sr(A,ie,Ei(f)):y!=null?Sr(A,ie,Ei(y)):B!=null&&A.removeAttribute("value"),R==null&&L!=null&&(A.defaultChecked=!!L),R!=null&&(A.checked=R&&typeof R!="function"&&typeof R!="symbol"),de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?A.name=""+Ei(de):A.removeAttribute("name")}function an(A,f,y,B,R,L,ie,de){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(A.type=L),f!=null||y!=null){if(!(L!=="submit"&&L!=="reset"||f!=null))return;y=y!=null?""+Ei(y):"",f=f!=null?""+Ei(f):y,de||f===A.value||(A.value=f),A.defaultValue=f}B=B??R,B=typeof B!="function"&&typeof B!="symbol"&&!!B,A.checked=de?A.checked:!!B,A.defaultChecked=!!B,ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"&&(A.name=ie)}function Sr(A,f,y){f==="number"&&ao(A.ownerDocument)===A||A.defaultValue===""+y||(A.defaultValue=""+y)}function tr(A,f,y,B){if(A=A.options,f){f={};for(var R=0;R<y.length;R++)f["$"+y[R]]=!0;for(y=0;y<A.length;y++)R=f.hasOwnProperty("$"+A[y].value),A[y].selected!==R&&(A[y].selected=R),R&&B&&(A[y].defaultSelected=!0)}else{for(y=""+Ei(y),f=null,R=0;R<A.length;R++){if(A[R].value===y){A[R].selected=!0,B&&(A[R].defaultSelected=!0);return}f!==null||A[R].disabled||(f=A[R])}f!==null&&(f.selected=!0)}}function Qn(A,f,y){if(f!=null&&(f=""+Ei(f),f!==A.value&&(A.value=f),y==null)){A.defaultValue!==f&&(A.defaultValue=f);return}A.defaultValue=y!=null?""+Ei(y):""}function Or(A,f,y,B){if(f==null){if(B!=null){if(y!=null)throw Error(n(92));if(J(B)){if(1<B.length)throw Error(n(93));B=B[0]}y=B}y==null&&(y=""),f=y}y=Ei(f),A.defaultValue=y,B=A.textContent,B===y&&B!==""&&B!==null&&(A.value=B)}function cs(A,f){if(f){var y=A.firstChild;if(y&&y===A.lastChild&&y.nodeType===3){y.nodeValue=f;return}}A.textContent=f}var Ho=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hc(A,f,y){var B=f.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?B?A.setProperty(f,""):f==="float"?A.cssFloat="":A[f]="":B?A.setProperty(f,y):typeof y!="number"||y===0||Ho.has(f)?f==="float"?A.cssFloat=y:A[f]=(""+y).trim():A[f]=y+"px"}function zc(A,f,y){if(f!=null&&typeof f!="object")throw Error(n(62));if(A=A.style,y!=null){for(var B in y)!y.hasOwnProperty(B)||f!=null&&f.hasOwnProperty(B)||(B.indexOf("--")===0?A.setProperty(B,""):B==="float"?A.cssFloat="":A[B]="");for(var R in f)B=f[R],f.hasOwnProperty(R)&&y[R]!==B&&Hc(A,R,B)}else for(var L in f)f.hasOwnProperty(L)&&Hc(A,L,f[L])}function KA(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$A=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gu(A){return $A.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}var XA=null;function Vu(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Fl=null,Gc=null;function ua(A){var f=kn(A);if(f&&(A=f.stateNode)){var y=A[ci]||null;e:switch(A=f.stateNode,f.type){case"input":if(ca(A,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),f=y.name,y.type==="radio"&&f!=null){for(y=A;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+Xi(""+f)+'"][type="radio"]'),f=0;f<y.length;f++){var B=y[f];if(B!==A&&B.form===A.form){var R=B[ci]||null;if(!R)throw Error(n(90));ca(B,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(f=0;f<y.length;f++)B=y[f],B.form===A.form&&Ti(B)}break e;case"textarea":Qn(A,y.value,y.defaultValue);break e;case"select":f=y.value,f!=null&&tr(A,!!y.multiple,f,!1)}}}var YA=!1;function zg(A,f,y){if(YA)return A(f,y);YA=!0;try{var B=A(f);return B}finally{if(YA=!1,(Fl!==null||Gc!==null)&&(Me(),Fl&&(f=Fl,A=Gc,Gc=Fl=null,ua(f),A)))for(f=0;f<A.length;f++)ua(A[f])}}function qu(A,f){var y=A.stateNode;if(y===null)return null;var B=y[ci]||null;if(B===null)return null;y=B[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(B=!B.disabled)||(A=A.type,B=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!B;break e;default:A=!1}if(A)return null;if(y&&typeof y!="function")throw Error(n(231,f,typeof y));return y}var zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wh=!1;if(zo)try{var ac={};Object.defineProperty(ac,"passive",{get:function(){Wh=!0}}),window.addEventListener("test",ac,ac),window.removeEventListener("test",ac,ac)}catch{Wh=!1}var Ls=null,Vc=null,Os=null;function Lp(){if(Os)return Os;var A,f=Vc,y=f.length,B,R="value"in Ls?Ls.value:Ls.textContent,L=R.length;for(A=0;A<y&&f[A]===R[A];A++);var ie=y-A;for(B=1;B<=ie&&f[y-B]===R[L-B];B++);return Os=R.slice(A,1<B?1-B:void 0)}function Wu(A){var f=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&f===13&&(A=13)):A=f,A===10&&(A=13),32<=A||A===13?A:0}function ha(){return!0}function lc(){return!1}function Co(A){function f(y,B,R,L,ie){this._reactName=y,this._targetInst=R,this.type=B,this.nativeEvent=L,this.target=ie,this.currentTarget=null;for(var de in A)A.hasOwnProperty(de)&&(y=A[de],this[de]=y?y(L):L[de]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?ha:lc,this.isPropagationStopped=lc,this}return u(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),f}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ju=Co(Qs),Yr=u({},Qs,{view:0,detail:0}),Bo=Co(Yr),Ku,$u,Xu,ZA=u({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Xu&&(Xu&&A.type==="mousemove"?(Ku=A.screenX-Xu.screenX,$u=A.screenY-Xu.screenY):$u=Ku=0,Xu=A),Ku)},movementY:function(A){return"movementY"in A?A.movementY:$u}}),So=Co(ZA),Go=u({},ZA,{dataTransfer:0}),Eo=Co(Go),cc=u({},Yr,{relatedTarget:0}),JA=Co(cc),US=u({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),kw=Co(US),Fw=u({},Qs,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),PS=Co(Fw),Dw=u({},Qs,{data:0}),Fv=Co(Dw),Uw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OS(A){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(A):(A=Pw[A])?!!f[A]:!1}function uc(){return OS}var Lw=u({},Yr,{key:function(A){if(A.key){var f=Uw[A.key]||A.key;if(f!=="Unidentified")return f}return A.type==="keypress"?(A=Wu(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?LS[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(A){return A.type==="keypress"?Wu(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?Wu(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),QS=Co(Lw),jh=u({},ZA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=Co(jh),Ow=u({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),Qw=Co(Ow),Gg=u({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dv=Co(Gg),ed=u({},ZA,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),us=Co(ed),Uv=u({},Qs,{newState:0,oldState:0}),NS=Co(Uv),Nw=[9,13,27,32],td=zo&&"CompositionEvent"in window,id=null;zo&&"documentMode"in document&&(id=document.documentMode);var Pv=zo&&"TextEvent"in window&&!id,Hw=zo&&(!td||id&&8<id&&11>=id),Aa=" ",zw=!1;function Lv(A,f){switch(A){case"keyup":return Nw.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gw(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var nd=!1;function Vw(A,f){switch(A){case"compositionend":return Gw(f);case"keypress":return f.which!==32?null:(zw=!0,Aa);case"textInput":return A=f.data,A===Aa&&zw?null:A;default:return null}}function qw(A,f){if(nd)return A==="compositionend"||!td&&Lv(A,f)?(A=Lp(),Os=Vc=Ls=null,nd=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Hw&&f.locale!=="ko"?null:f.data;default:return null}}var HS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vg(A){var f=A&&A.nodeName&&A.nodeName.toLowerCase();return f==="input"?!!HS[A.type]:f==="textarea"}function Op(A,f,y,B){Fl?Gc?Gc.push(B):Gc=[B]:Fl=B,f=OE(f,"onChange"),0<f.length&&(y=new ju("onChange","change",null,y,B),A.push({event:y,listeners:f}))}var Nn=null,qg=null;function nF(A){TH(A,0)}function Wg(A){var f=dn(A);if(Ti(f))return A}function Qp(A,f){if(A==="change")return f}var Yu=!1;if(zo){var Ov;if(zo){var Qv="oninput"in document;if(!Qv){var Kh=document.createElement("div");Kh.setAttribute("oninput","return;"),Qv=typeof Kh.oninput=="function"}Ov=Qv}else Ov=!1;Yu=Ov&&(!document.documentMode||9<document.documentMode)}function da(){Nn&&(Nn.detachEvent("onpropertychange",Ww),qg=Nn=null)}function Ww(A){if(A.propertyName==="value"&&Wg(qg)){var f=[];Op(f,qg,A,Vu(A)),zg(nF,f)}}function zS(A,f,y){A==="focusin"?(da(),Nn=f,qg=y,Nn.attachEvent("onpropertychange",Ww)):A==="focusout"&&da()}function GS(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return Wg(qg)}function jw(A,f){if(A==="click")return Wg(f)}function Kw(A,f){if(A==="input"||A==="change")return Wg(f)}function Nv(A,f){return A===f&&(A!==0||1/A===1/f)||A!==A&&f!==f}var pa=typeof Object.is=="function"?Object.is:Nv;function Np(A,f){if(pa(A,f))return!0;if(typeof A!="object"||A===null||typeof f!="object"||f===null)return!1;var y=Object.keys(A),B=Object.keys(f);if(y.length!==B.length)return!1;for(B=0;B<y.length;B++){var R=y[B];if(!ve.call(f,R)||!pa(A[R],f[R]))return!1}return!0}function $w(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function Dl(A,f){var y=$w(A);A=0;for(var B;y;){if(y.nodeType===3){if(B=A+y.textContent.length,A<=f&&B>=f)return{node:y,offset:f-A};A=B}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=$w(y)}}function Hv(A,f){return A&&f?A===f?!0:A&&A.nodeType===3?!1:f&&f.nodeType===3?Hv(A,f.parentNode):"contains"in A?A.contains(f):A.compareDocumentPosition?!!(A.compareDocumentPosition(f)&16):!1:!1}function Xw(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var f=ao(A.document);f instanceof A.HTMLIFrameElement;){try{var y=typeof f.contentWindow.location.href=="string"}catch{y=!1}if(y)A=f.contentWindow;else break;f=ao(A.document)}return f}function jg(A){var f=A&&A.nodeName&&A.nodeName.toLowerCase();return f&&(f==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||f==="textarea"||A.contentEditable==="true")}var fa=zo&&"documentMode"in document&&11>=document.documentMode,rd=null,Ns=null,Hp=null,hc=!1;function od(A,f,y){var B=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;hc||rd==null||rd!==ao(B)||(B=rd,"selectionStart"in B&&jg(B)?B={start:B.selectionStart,end:B.selectionEnd}:(B=(B.ownerDocument&&B.ownerDocument.defaultView||window).getSelection(),B={anchorNode:B.anchorNode,anchorOffset:B.anchorOffset,focusNode:B.focusNode,focusOffset:B.focusOffset}),Hp&&Np(Hp,B)||(Hp=B,B=OE(Ns,"onSelect"),0<B.length&&(f=new ju("onSelect","select",null,f,y),A.push({event:f,listeners:B}),f.target=rd)))}function ja(A,f){var y={};return y[A.toLowerCase()]=f.toLowerCase(),y["Webkit"+A]="webkit"+f,y["Moz"+A]="moz"+f,y}var $h={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Kg={},Zu={};zo&&(Zu=document.createElement("div").style,"AnimationEvent"in window||(delete $h.animationend.animation,delete $h.animationiteration.animation,delete $h.animationstart.animation),"TransitionEvent"in window||delete $h.transitionend.transition);function Xh(A){if(Kg[A])return Kg[A];if(!$h[A])return A;var f=$h[A],y;for(y in f)if(f.hasOwnProperty(y)&&y in Zu)return Kg[A]=f[y];return A}var sd=Xh("animationend"),zp=Xh("animationiteration"),Yh=Xh("animationstart"),VS=Xh("transitionrun"),qS=Xh("transitionstart"),Yw=Xh("transitioncancel"),Zw=Xh("transitionend"),$g=new Map,zv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zv.push("scrollEnd");function Ka(A,f){$g.set(A,f),so(f,[A])}var Gv=new WeakMap;function ga(A,f){if(typeof A=="object"&&A!==null){var y=Gv.get(A);return y!==void 0?y:(f={value:A,source:f,stack:_n(f)},Gv.set(A,f),f)}return{value:A,source:f,stack:_n(f)}}var $a=[],Zh=0,Hs=0;function Xg(){for(var A=Zh,f=Hs=Zh=0;f<A;){var y=$a[f];$a[f++]=null;var B=$a[f];$a[f++]=null;var R=$a[f];$a[f++]=null;var L=$a[f];if($a[f++]=null,B!==null&&R!==null){var ie=B.pending;ie===null?R.next=R:(R.next=ie.next,ie.next=R),B.pending=R}L!==0&&Jw(y,R,L)}}function To(A,f,y,B){$a[Zh++]=A,$a[Zh++]=f,$a[Zh++]=y,$a[Zh++]=B,Hs|=B,A.lanes|=B,A=A.alternate,A!==null&&(A.lanes|=B)}function Vv(A,f,y,B){return To(A,f,y,B),qv(A)}function Jh(A,f){return To(A,null,null,f),qv(A)}function Jw(A,f,y){A.lanes|=y;var B=A.alternate;B!==null&&(B.lanes|=y);for(var R=!1,L=A.return;L!==null;)L.childLanes|=y,B=L.alternate,B!==null&&(B.childLanes|=y),L.tag===22&&(A=L.stateNode,A===null||A._visibility&1||(R=!0)),A=L,L=L.return;return A.tag===3?(L=A.stateNode,R&&f!==null&&(R=31-Ge(y),A=L.hiddenUpdates,B=A[R],B===null?A[R]=[f]:B.push(f),f.lane=y|536870912),L):null}function qv(A){if(50<Td)throw Td=0,m=null,Error(n(185));for(var f=A.return;f!==null;)A=f,f=A.return;return A.tag===3?A.stateNode:null}var ma={};function WS(A,f,y,B){this.tag=A,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=B,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zs(A,f,y,B){return new WS(A,f,y,B)}function eA(A){return A=A.prototype,!(!A||!A.isReactComponent)}function Wc(A,f){var y=A.alternate;return y===null?(y=zs(A.tag,f,A.key,A.mode),y.elementType=A.elementType,y.type=A.type,y.stateNode=A.stateNode,y.alternate=A,A.alternate=y):(y.pendingProps=f,y.type=A.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=A.flags&65011712,y.childLanes=A.childLanes,y.lanes=A.lanes,y.child=A.child,y.memoizedProps=A.memoizedProps,y.memoizedState=A.memoizedState,y.updateQueue=A.updateQueue,f=A.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=A.sibling,y.index=A.index,y.ref=A.ref,y.refCleanup=A.refCleanup,y}function ex(A,f){A.flags&=65011714;var y=A.alternate;return y===null?(A.childLanes=0,A.lanes=f,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=y.childLanes,A.lanes=y.lanes,A.child=y.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=y.memoizedProps,A.memoizedState=y.memoizedState,A.updateQueue=y.updateQueue,A.type=y.type,f=y.dependencies,A.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),A}function Yg(A,f,y,B,R,L){var ie=0;if(B=A,typeof A=="function")eA(A)&&(ie=1);else if(typeof A=="string")ie=goe(A,y,se.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case F:return A=zs(31,y,f,R),A.elementType=F,A.lanes=L,A;case g:return tA(y.children,R,L,f);case v:ie=8,R|=24;break;case _:return A=zs(12,y,f,R|2),A.elementType=_,A.lanes=L,A;case E:return A=zs(13,y,f,R),A.elementType=E,A.lanes=L,A;case I:return A=zs(19,y,f,R),A.elementType=I,A.lanes=L,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case b:case C:ie=10;break e;case x:ie=9;break e;case S:ie=11;break e;case M:ie=14;break e;case k:ie=16,B=null;break e}ie=29,y=Error(n(130,A===null?"null":typeof A,"")),B=null}return f=zs(ie,y,f,R),f.elementType=A,f.type=B,f.lanes=L,f}function tA(A,f,y,B){return A=zs(7,A,B,f),A.lanes=y,A}function Zg(A,f,y){return A=zs(6,A,null,f),A.lanes=y,A}function Jg(A,f,y){return f=zs(4,A.children!==null?A.children:[],A.key,f),f.lanes=y,f.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},f}var Gp=[],Vp=0,em=null,tm=0,Vo=[],Gs=0,iA=null,jc=1,Kc="";function Xa(A,f){Gp[Vp++]=tm,Gp[Vp++]=em,em=A,tm=f}function tx(A,f,y){Vo[Gs++]=jc,Vo[Gs++]=Kc,Vo[Gs++]=iA,iA=A;var B=jc;A=Kc;var R=32-Ge(B)-1;B&=~(1<<R),y+=1;var L=32-Ge(f)+R;if(30<L){var ie=R-R%5;L=(B&(1<<ie)-1).toString(32),B>>=ie,R-=ie,jc=1<<32-Ge(f)+R|y<<R|B,Kc=L+A}else jc=1<<L|y<<R|B,Kc=A}function hn(A){A.return!==null&&(Xa(A,1),tx(A,1,0))}function im(A){for(;A===em;)em=Gp[--Vp],Gp[Vp]=null,tm=Gp[--Vp],Gp[Vp]=null;for(;A===iA;)iA=Vo[--Gs],Vo[Gs]=null,Kc=Vo[--Gs],Vo[Gs]=null,jc=Vo[--Gs],Vo[Gs]=null}var Vs=null,pr=null,An=!1,ad=null,$c=!1,nm=Error(n(519));function _a(A){var f=Error(n(418,""));throw ld(ga(f,A)),nm}function ix(A){var f=A.stateNode,y=A.type,B=A.memoizedProps;switch(f[sn]=A,f[ci]=B,y){case"dialog":en("cancel",f),en("close",f);break;case"iframe":case"object":case"embed":en("load",f);break;case"video":case"audio":for(y=0;y<Ox.length;y++)en(Ox[y],f);break;case"source":en("error",f);break;case"img":case"image":case"link":en("error",f),en("load",f);break;case"details":en("toggle",f);break;case"input":en("invalid",f),an(f,B.value,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name,!0),xn(f);break;case"select":en("invalid",f);break;case"textarea":en("invalid",f),Or(f,B.value,B.defaultValue,B.children),xn(f)}y=B.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||f.textContent===""+y||B.suppressHydrationWarning===!0||kH(f.textContent,y)?(B.popover!=null&&(en("beforetoggle",f),en("toggle",f)),B.onScroll!=null&&en("scroll",f),B.onScrollEnd!=null&&en("scrollend",f),B.onClick!=null&&(f.onclick=QE),f=!0):f=!1,f||_a(A)}function rm(A){for(Vs=A.return;Vs;)switch(Vs.tag){case 5:case 13:$c=!1;return;case 27:case 3:$c=!0;return;default:Vs=Vs.return}}function Ac(A){if(A!==Vs)return!1;if(!An)return rm(A),An=!0,!1;var f=A.tag,y;if((y=f!==3&&f!==27)&&((y=f===5)&&(y=A.type,y=!(y!=="form"&&y!=="button")||bF(A.type,A.memoizedProps)),y=!y),y&&pr&&_a(A),rm(A),f===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));e:{for(A=A.nextSibling,f=0;A;){if(A.nodeType===8)if(y=A.data,y==="/$"){if(f===0){pr=hh(A.nextSibling);break e}f--}else y!=="$"&&y!=="$!"&&y!=="$?"||f++;A=A.nextSibling}pr=null}}else f===27?(f=pr,of(A.type)?(A=CF,CF=null,pr=A):pr=f):pr=Vs?hh(A.stateNode.nextSibling):null;return!0}function qp(){pr=Vs=null,An=!1}function Wv(){var A=ad;return A!==null&&(Mo===null?Mo=A:Mo.push.apply(Mo,A),ad=null),A}function ld(A){ad===null?ad=[A]:ad.push(A)}var nx=ee(null),nA=null,Xc=null;function Ju(A,f,y){ge(nx,f._currentValue),f._currentValue=y}function Yc(A){A._currentValue=nx.current,oe(nx)}function jv(A,f,y){for(;A!==null;){var B=A.alternate;if((A.childLanes&f)!==f?(A.childLanes|=f,B!==null&&(B.childLanes|=f)):B!==null&&(B.childLanes&f)!==f&&(B.childLanes|=f),A===y)break;A=A.return}}function om(A,f,y,B){var R=A.child;for(R!==null&&(R.return=A);R!==null;){var L=R.dependencies;if(L!==null){var ie=R.child;L=L.firstContext;e:for(;L!==null;){var de=L;L=R;for(var Se=0;Se<f.length;Se++)if(de.context===f[Se]){L.lanes|=y,de=L.alternate,de!==null&&(de.lanes|=y),jv(L.return,y,A),B||(ie=null);break e}L=de.next}}else if(R.tag===18){if(ie=R.return,ie===null)throw Error(n(341));ie.lanes|=y,L=ie.alternate,L!==null&&(L.lanes|=y),jv(ie,y,A),ie=null}else ie=R.child;if(ie!==null)ie.return=R;else for(ie=R;ie!==null;){if(ie===A){ie=null;break}if(R=ie.sibling,R!==null){R.return=ie.return,ie=R;break}ie=ie.return}R=ie}}function cd(A,f,y,B){A=null;for(var R=f,L=!1;R!==null;){if(!L){if((R.flags&524288)!==0)L=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var ie=R.alternate;if(ie===null)throw Error(n(387));if(ie=ie.memoizedProps,ie!==null){var de=R.type;pa(R.pendingProps.value,ie.value)||(A!==null?A.push(de):A=[de])}}else if(R===xe.current){if(ie=R.alternate,ie===null)throw Error(n(387));ie.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(A!==null?A.push(Vx):A=[Vx])}R=R.return}A!==null&&om(f,A,y,B),f.flags|=262144}function sm(A){for(A=A.firstContext;A!==null;){if(!pa(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function bi(A){nA=A,Xc=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function hs(A){return Kv(nA,A)}function As(A,f){return nA===null&&bi(A),Kv(A,f)}function Kv(A,f){var y=f._currentValue;if(f={context:f,memoizedValue:y,next:null},Xc===null){if(A===null)throw Error(n(308));Xc=f,A.dependencies={lanes:0,firstContext:f},A.flags|=524288}else Xc=Xc.next=f;return y}var rF=typeof AbortController<"u"?AbortController:function(){var A=[],f=this.signal={aborted:!1,addEventListener:function(y,B){A.push(B)}};this.abort=function(){f.aborted=!0,A.forEach(function(y){return y()})}},$v=i.unstable_scheduleCallback,Wp=i.unstable_NormalPriority,ir={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xv(){return{controller:new rF,data:new Map,refCount:0}}function ud(A){A.refCount--,A.refCount===0&&$v(Wp,function(){A.controller.abort()})}var am=null,Yv=0,Ya=0,rA=null;function rx(A,f){if(am===null){var y=am=[];Yv=0,Ya=hF(),rA={status:"pending",value:void 0,then:function(B){y.push(B)}}}return Yv++,f.then(Zv,Zv),f}function Zv(){if(--Yv===0&&am!==null){rA!==null&&(rA.status="fulfilled");var A=am;am=null,Ya=0,rA=null;for(var f=0;f<A.length;f++)(0,A[f])()}}function ox(A,f){var y=[],B={status:"pending",value:null,reason:null,then:function(R){y.push(R)}};return A.then(function(){B.status="fulfilled",B.value=f;for(var R=0;R<y.length;R++)(0,y[R])(f)},function(R){for(B.status="rejected",B.reason=R,R=0;R<y.length;R++)(0,y[R])(void 0)}),B}var eh=V.S;V.S=function(A,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&rx(A,f),eh!==null&&eh(A,f)};var oA=ee(null);function sx(){var A=oA.current;return A!==null?A:jt.pooledCache}function lm(A,f){f===null?ge(oA,oA.current):ge(oA,f.pool)}function jS(){var A=sx();return A===null?null:{parent:ir._currentValue,pool:A}}var ei=Error(n(460)),Jv=Error(n(474)),hd=Error(n(542)),ax={then:function(){}};function KS(A){return A=A.status,A==="fulfilled"||A==="rejected"}function cm(){}function jp(A,f,y){switch(y=A[y],y===void 0?A.push(f):y!==f&&(f.then(cm,cm),f=y),f.status){case"fulfilled":return f.value;case"rejected":throw A=f.reason,XS(A),A;default:if(typeof f.status=="string")f.then(cm,cm);else{if(A=jt,A!==null&&100<A.shellSuspendCounter)throw Error(n(482));A=f,A.status="pending",A.then(function(B){if(f.status==="pending"){var R=f;R.status="fulfilled",R.value=B}},function(B){if(f.status==="pending"){var R=f;R.status="rejected",R.reason=B}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw A=f.reason,XS(A),A}throw um=f,ei}}var um=null;function $S(){if(um===null)throw Error(n(459));var A=um;return um=null,A}function XS(A){if(A===ei||A===hd)throw Error(n(483))}var sA=!1;function lx(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hm(A,f){A=A.updateQueue,f.updateQueue===A&&(f.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function th(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function dc(A,f,y){var B=A.updateQueue;if(B===null)return null;if(B=B.shared,(vn&2)!==0){var R=B.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),B.pending=f,f=qv(A),Jw(A,null,y),f}return To(A,B,f,y),qv(A)}function Kp(A,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194048)!==0)){var B=f.lanes;B&=A.pendingLanes,y|=B,f.lanes=y,mt(A,y)}}function cx(A,f){var y=A.updateQueue,B=A.alternate;if(B!==null&&(B=B.updateQueue,y===B)){var R=null,L=null;if(y=y.firstBaseUpdate,y!==null){do{var ie={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};L===null?R=L=ie:L=L.next=ie,y=y.next}while(y!==null);L===null?R=L=f:L=L.next=f}else R=L=f;y={baseState:B.baseState,firstBaseUpdate:R,lastBaseUpdate:L,shared:B.shared,callbacks:B.callbacks},A.updateQueue=y;return}A=y.lastBaseUpdate,A===null?y.firstBaseUpdate=f:A.next=f,y.lastBaseUpdate=f}var ux=!1;function Ad(){if(ux){var A=rA;if(A!==null)throw A}}function Za(A,f,y,B){ux=!1;var R=A.updateQueue;sA=!1;var L=R.firstBaseUpdate,ie=R.lastBaseUpdate,de=R.shared.pending;if(de!==null){R.shared.pending=null;var Se=de,ze=Se.next;Se.next=null,ie===null?L=ze:ie.next=ze,ie=Se;var it=A.alternate;it!==null&&(it=it.updateQueue,de=it.lastBaseUpdate,de!==ie&&(de===null?it.firstBaseUpdate=ze:de.next=ze,it.lastBaseUpdate=Se))}if(L!==null){var at=R.baseState;ie=0,it=ze=Se=null,de=L;do{var $e=de.lane&-536870913,Ye=$e!==de.lane;if(Ye?(kt&$e)===$e:(B&$e)===$e){$e!==0&&$e===Ya&&(ux=!0),it!==null&&(it=it.next={lane:0,tag:de.tag,payload:de.payload,callback:null,next:null});e:{var hi=A,ti=de;$e=f;var Vn=y;switch(ti.tag){case 1:if(hi=ti.payload,typeof hi=="function"){at=hi.call(Vn,at,$e);break e}at=hi;break e;case 3:hi.flags=hi.flags&-65537|128;case 0:if(hi=ti.payload,$e=typeof hi=="function"?hi.call(Vn,at,$e):hi,$e==null)break e;at=u({},at,$e);break e;case 2:sA=!0}}$e=de.callback,$e!==null&&(A.flags|=64,Ye&&(A.flags|=8192),Ye=R.callbacks,Ye===null?R.callbacks=[$e]:Ye.push($e))}else Ye={lane:$e,tag:de.tag,payload:de.payload,callback:de.callback,next:null},it===null?(ze=it=Ye,Se=at):it=it.next=Ye,ie|=$e;if(de=de.next,de===null){if(de=R.shared.pending,de===null)break;Ye=de,de=Ye.next,Ye.next=null,R.lastBaseUpdate=Ye,R.shared.pending=null}}while(!0);it===null&&(Se=at),R.baseState=Se,R.firstBaseUpdate=ze,R.lastBaseUpdate=it,L===null&&(R.shared.lanes=0),bn|=ie,A.lanes=ie,A.memoizedState=at}}function qo(A,f){if(typeof A!="function")throw Error(n(191,A));A.call(f)}function ih(A,f){var y=A.callbacks;if(y!==null)for(A.callbacks=null,A=0;A<y.length;A++)qo(y[A],f)}var Wo=ee(null),Am=ee(0);function YS(A,f){A=mc,ge(Am,A),ge(Wo,f),mc=A|f.baseLanes}function ds(){ge(Am,mc),ge(Wo,Wo.current)}function nh(){mc=Am.current,oe(Wo),oe(Am)}var aA=0,Ui=null,Cn=null,Zr=null,dm=!1,$p=!1,lA=!1,e0=0,Zc=0,Ul=null,oF=0;function Qr(){throw Error(n(321))}function hx(A,f){if(f===null)return!1;for(var y=0;y<f.length&&y<A.length;y++)if(!pa(A[y],f[y]))return!1;return!0}function dd(A,f,y,B,R,L){return aA=L,Ui=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,V.H=A===null||A.memoizedState===null?SE:EE,lA=!1,L=y(B,R),lA=!1,$p&&(L=JS(f,y,B,R)),ZS(A),L}function ZS(A){V.H=_m;var f=Cn!==null&&Cn.next!==null;if(aA=0,Zr=Cn=Ui=null,dm=!1,Zc=0,Ul=null,f)throw Error(n(300));A===null||rn||(A=A.dependencies,A!==null&&sm(A)&&(rn=!0))}function JS(A,f,y,B){Ui=A;var R=0;do{if($p&&(Ul=null),Zc=0,$p=!1,25<=R)throw Error(n(301));if(R+=1,Zr=Cn=null,A.updateQueue!=null){var L=A.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}V.H=lF,L=f(y,B)}while($p);return L}function sF(){var A=V.H,f=A.useState()[0];return f=typeof f.then=="function"?pm(f):f,A=A.useState()[0],(Cn!==null?Cn.memoizedState:null)!==A&&(Ui.flags|=1024),f}function pd(){var A=e0!==0;return e0=0,A}function Ax(A,f,y){f.updateQueue=A.updateQueue,f.flags&=-2053,A.lanes&=~y}function dx(A){if(dm){for(A=A.memoizedState;A!==null;){var f=A.queue;f!==null&&(f.pending=null),A=A.next}dm=!1}aA=0,Zr=Cn=Ui=null,$p=!1,Zc=e0=0,Ul=null}function va(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?Ui.memoizedState=Zr=A:Zr=Zr.next=A,Zr}function Jr(){if(Cn===null){var A=Ui.alternate;A=A!==null?A.memoizedState:null}else A=Cn.next;var f=Zr===null?Ui.memoizedState:Zr.next;if(f!==null)Zr=f,Cn=A;else{if(A===null)throw Ui.alternate===null?Error(n(467)):Error(n(310));Cn=A,A={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},Zr===null?Ui.memoizedState=Zr=A:Zr=Zr.next=A}return Zr}function px(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pm(A){var f=Zc;return Zc+=1,Ul===null&&(Ul=[]),A=jp(Ul,A,f),f=Ui,(Zr===null?f.memoizedState:Zr.next)===null&&(f=f.alternate,V.H=f===null||f.memoizedState===null?SE:EE),A}function t0(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return pm(A);if(A.$$typeof===C)return hs(A)}throw Error(n(438,String(A)))}function fx(A){var f=null,y=Ui.updateQueue;if(y!==null&&(f=y.memoCache),f==null){var B=Ui.alternate;B!==null&&(B=B.updateQueue,B!==null&&(B=B.memoCache,B!=null&&(f={data:B.data.map(function(R){return R.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),y===null&&(y=px(),Ui.updateQueue=y),y.memoCache=f,y=f.data[f.index],y===void 0)for(y=f.data[f.index]=Array(A),B=0;B<A;B++)y[B]=P;return f.index++,y}function rh(A,f){return typeof f=="function"?f(A):f}function i0(A){var f=Jr();return gx(f,Cn,A)}function gx(A,f,y){var B=A.queue;if(B===null)throw Error(n(311));B.lastRenderedReducer=y;var R=A.baseQueue,L=B.pending;if(L!==null){if(R!==null){var ie=R.next;R.next=L.next,L.next=ie}f.baseQueue=R=L,B.pending=null}if(L=A.baseState,R===null)A.memoizedState=L;else{f=R.next;var de=ie=null,Se=null,ze=f,it=!1;do{var at=ze.lane&-536870913;if(at!==ze.lane?(kt&at)===at:(aA&at)===at){var $e=ze.revertLane;if($e===0)Se!==null&&(Se=Se.next={lane:0,revertLane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),at===Ya&&(it=!0);else if((aA&$e)===$e){ze=ze.next,$e===Ya&&(it=!0);continue}else at={lane:0,revertLane:ze.revertLane,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Se===null?(de=Se=at,ie=L):Se=Se.next=at,Ui.lanes|=$e,bn|=$e;at=ze.action,lA&&y(L,at),L=ze.hasEagerState?ze.eagerState:y(L,at)}else $e={lane:at,revertLane:ze.revertLane,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Se===null?(de=Se=$e,ie=L):Se=Se.next=$e,Ui.lanes|=at,bn|=at;ze=ze.next}while(ze!==null&&ze!==f);if(Se===null?ie=L:Se.next=de,!pa(L,A.memoizedState)&&(rn=!0,it&&(y=rA,y!==null)))throw y;A.memoizedState=L,A.baseState=ie,A.baseQueue=Se,B.lastRenderedState=L}return R===null&&(B.lanes=0),[A.memoizedState,B.dispatch]}function mx(A){var f=Jr(),y=f.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=A;var B=y.dispatch,R=y.pending,L=f.memoizedState;if(R!==null){y.pending=null;var ie=R=R.next;do L=A(L,ie.action),ie=ie.next;while(ie!==R);pa(L,f.memoizedState)||(rn=!0),f.memoizedState=L,f.baseQueue===null&&(f.baseState=L),y.lastRenderedState=L}return[L,B]}function _x(A,f,y){var B=Ui,R=Jr(),L=An;if(L){if(y===void 0)throw Error(n(407));y=y()}else y=f();var ie=!pa((Cn||R).memoizedState,y);ie&&(R.memoizedState=y,rn=!0),R=R.queue;var de=iE.bind(null,B,R,A);if(fm(2048,8,de,[A]),R.getSnapshot!==f||ie||Zr!==null&&Zr.memoizedState.tag&1){if(B.flags|=2048,fd(9,s0(),tE.bind(null,B,R,y,f),null),jt===null)throw Error(n(349));L||(aA&124)!==0||eE(B,f,y)}return y}function eE(A,f,y){A.flags|=16384,A={getSnapshot:f,value:y},f=Ui.updateQueue,f===null?(f=px(),Ui.updateQueue=f,f.stores=[A]):(y=f.stores,y===null?f.stores=[A]:y.push(A))}function tE(A,f,y,B){f.value=y,f.getSnapshot=B,nE(f)&&rE(A)}function iE(A,f,y){return y(function(){nE(f)&&rE(A)})}function nE(A){var f=A.getSnapshot;A=A.value;try{var y=f();return!pa(A,y)}catch{return!0}}function rE(A){var f=Jh(A,2);f!==null&&D(f,A,2)}function vx(A){var f=va();if(typeof A=="function"){var y=A;if(A=y(),lA){De(!0);try{y()}finally{De(!1)}}}return f.memoizedState=f.baseState=A,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:A},f}function bx(A,f,y,B){return A.baseState=y,gx(A,Cn,typeof B=="function"?B:rh)}function oE(A,f,y,B,R){if(mm(A))throw Error(n(485));if(A=f.action,A!==null){var L={payload:R,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ie){L.listeners.push(ie)}};V.T!==null?y(!0):L.isTransition=!1,B(L),y=f.pending,y===null?(L.next=f.pending=L,sE(f,L)):(L.next=y.next,f.pending=y.next=L)}}function sE(A,f){var y=f.action,B=f.payload,R=A.state;if(f.isTransition){var L=V.T,ie={};V.T=ie;try{var de=y(R,B),Se=V.S;Se!==null&&Se(ie,de),yx(A,f,de)}catch(ze){n0(A,f,ze)}finally{V.T=L}}else try{L=y(R,B),yx(A,f,L)}catch(ze){n0(A,f,ze)}}function yx(A,f,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(B){wx(A,f,B)},function(B){return n0(A,f,B)}):wx(A,f,y)}function wx(A,f,y){f.status="fulfilled",f.value=y,r0(f),A.state=y,f=A.pending,f!==null&&(y=f.next,y===f?A.pending=null:(y=y.next,f.next=y,sE(A,y)))}function n0(A,f,y){var B=A.pending;if(A.pending=null,B!==null){B=B.next;do f.status="rejected",f.reason=y,r0(f),f=f.next;while(f!==B)}A.action=null}function r0(A){A=A.listeners;for(var f=0;f<A.length;f++)(0,A[f])()}function o0(A,f){return f}function aE(A,f){if(An){var y=jt.formState;if(y!==null){e:{var B=Ui;if(An){if(pr){t:{for(var R=pr,L=$c;R.nodeType!==8;){if(!L){R=null;break t}if(R=hh(R.nextSibling),R===null){R=null;break t}}L=R.data,R=L==="F!"||L==="F"?R:null}if(R){pr=hh(R.nextSibling),B=R.data==="F!";break e}}_a(B)}B=!1}B&&(f=y[0])}}return y=va(),y.memoizedState=y.baseState=f,B={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o0,lastRenderedState:f},y.queue=B,y=CE.bind(null,Ui,B),B.dispatch=y,B=vx(!1),L=Ex.bind(null,Ui,!1,B.queue),B=va(),R={state:f,dispatch:null,action:A,pending:null},B.queue=R,y=oE.bind(null,Ui,R,L,y),R.dispatch=y,B.memoizedState=A,[f,y,!1]}function lE(A){var f=Jr();return cE(f,Cn,A)}function cE(A,f,y){if(f=gx(A,f,o0)[0],A=i0(rh)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var B=pm(f)}catch(ie){throw ie===ei?hd:ie}else B=f;f=Jr();var R=f.queue,L=R.dispatch;return y!==f.memoizedState&&(Ui.flags|=2048,fd(9,s0(),aF.bind(null,R,y),null)),[B,L,A]}function aF(A,f){A.action=f}function xx(A){var f=Jr(),y=Cn;if(y!==null)return cE(f,y,A);Jr(),f=f.memoizedState,y=Jr();var B=y.queue.dispatch;return y.memoizedState=A,[f,B,!1]}function fd(A,f,y,B){return A={tag:A,create:y,deps:B,inst:f,next:null},f=Ui.updateQueue,f===null&&(f=px(),Ui.updateQueue=f),y=f.lastEffect,y===null?f.lastEffect=A.next=A:(B=y.next,y.next=A,A.next=B,f.lastEffect=A),A}function s0(){return{destroy:void 0,resource:void 0}}function uE(){return Jr().memoizedState}function a0(A,f,y,B){var R=va();B=B===void 0?null:B,Ui.flags|=A,R.memoizedState=fd(1|f,s0(),y,B)}function fm(A,f,y,B){var R=Jr();B=B===void 0?null:B;var L=R.memoizedState.inst;Cn!==null&&B!==null&&hx(B,Cn.memoizedState.deps)?R.memoizedState=fd(f,L,y,B):(Ui.flags|=A,R.memoizedState=fd(1|f,L,y,B))}function hE(A,f){a0(8390656,8,A,f)}function AE(A,f){fm(2048,8,A,f)}function dE(A,f){return fm(4,2,A,f)}function pE(A,f){return fm(4,4,A,f)}function fE(A,f){if(typeof f=="function"){A=A();var y=f(A);return function(){typeof y=="function"?y():f(null)}}if(f!=null)return A=A(),f.current=A,function(){f.current=null}}function gE(A,f,y){y=y!=null?y.concat([A]):null,fm(4,4,fE.bind(null,f,A),y)}function Cx(){}function mE(A,f){var y=Jr();f=f===void 0?null:f;var B=y.memoizedState;return f!==null&&hx(f,B[1])?B[0]:(y.memoizedState=[A,f],A)}function _E(A,f){var y=Jr();f=f===void 0?null:f;var B=y.memoizedState;if(f!==null&&hx(f,B[1]))return B[0];if(B=A(),lA){De(!0);try{A()}finally{De(!1)}}return y.memoizedState=[B,f],B}function l0(A,f,y){return y===void 0||(aA&1073741824)!==0?A.memoizedState=f:(A.memoizedState=y,A=T(),Ui.lanes|=A,bn|=A,y)}function vE(A,f,y,B){return pa(y,f)?y:Wo.current!==null?(A=l0(A,y,B),pa(A,f)||(rn=!0),A):(aA&42)===0?(rn=!0,A.memoizedState=y):(A=T(),Ui.lanes|=A,bn|=A,f)}function bE(A,f,y,B,R){var L=Y.p;Y.p=L!==0&&8>L?L:8;var ie=V.T,de={};V.T=de,Ex(A,!1,f,y);try{var Se=R(),ze=V.S;if(ze!==null&&ze(de,Se),Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var it=ox(Se,B);gm(A,f,it,w(A))}else gm(A,f,B,w(A))}catch(at){gm(A,f,{then:function(){},status:"rejected",reason:at},w())}finally{Y.p=L,V.T=ie}}function Pl(){}function c0(A,f,y,B){if(A.tag!==5)throw Error(n(476));var R=u0(A).queue;bE(A,R,f,Z,y===null?Pl:function(){return Bx(A),y(B)})}function u0(A){var f=A.memoizedState;if(f!==null)return f;f={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:Z},next:null};var y={};return f.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:y},next:null},A.memoizedState=f,A=A.alternate,A!==null&&(A.memoizedState=f),f}function Bx(A){var f=u0(A).next.queue;gm(A,f,{},w())}function h0(){return hs(Vx)}function Sx(){return Jr().memoizedState}function yE(){return Jr().memoizedState}function wE(A){for(var f=A.return;f!==null;){switch(f.tag){case 24:case 3:var y=w();A=th(y);var B=dc(f,A,y);B!==null&&(D(B,f,y),Kp(B,f,y)),f={cache:Xv()},A.payload=f;return}f=f.return}}function xE(A,f,y){var B=w();y={lane:B,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},mm(A)?BE(f,y):(y=Vv(A,f,y,B),y!==null&&(D(y,A,B),jo(y,f,B)))}function CE(A,f,y){var B=w();gm(A,f,y,B)}function gm(A,f,y,B){var R={lane:B,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(mm(A))BE(f,R);else{var L=A.alternate;if(A.lanes===0&&(L===null||L.lanes===0)&&(L=f.lastRenderedReducer,L!==null))try{var ie=f.lastRenderedState,de=L(ie,y);if(R.hasEagerState=!0,R.eagerState=de,pa(de,ie))return To(A,f,R,0),jt===null&&Xg(),!1}catch{}finally{}if(y=Vv(A,f,R,B),y!==null)return D(y,A,B),jo(y,f,B),!0}return!1}function Ex(A,f,y,B){if(B={lane:2,revertLane:hF(),action:B,hasEagerState:!1,eagerState:null,next:null},mm(A)){if(f)throw Error(n(479))}else f=Vv(A,y,B,2),f!==null&&D(f,A,2)}function mm(A){var f=A.alternate;return A===Ui||f!==null&&f===Ui}function BE(A,f){$p=dm=!0;var y=A.pending;y===null?f.next=f:(f.next=y.next,y.next=f),A.pending=f}function jo(A,f,y){if((y&4194048)!==0){var B=f.lanes;B&=A.pendingLanes,y|=B,f.lanes=y,mt(A,y)}}var _m={readContext:hs,use:t0,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useLayoutEffect:Qr,useInsertionEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useSyncExternalStore:Qr,useId:Qr,useHostTransitionStatus:Qr,useFormState:Qr,useActionState:Qr,useOptimistic:Qr,useMemoCache:Qr,useCacheRefresh:Qr},SE={readContext:hs,use:t0,useCallback:function(A,f){return va().memoizedState=[A,f===void 0?null:f],A},useContext:hs,useEffect:hE,useImperativeHandle:function(A,f,y){y=y!=null?y.concat([A]):null,a0(4194308,4,fE.bind(null,f,A),y)},useLayoutEffect:function(A,f){return a0(4194308,4,A,f)},useInsertionEffect:function(A,f){a0(4,2,A,f)},useMemo:function(A,f){var y=va();f=f===void 0?null:f;var B=A();if(lA){De(!0);try{A()}finally{De(!1)}}return y.memoizedState=[B,f],B},useReducer:function(A,f,y){var B=va();if(y!==void 0){var R=y(f);if(lA){De(!0);try{y(f)}finally{De(!1)}}}else R=f;return B.memoizedState=B.baseState=R,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:R},B.queue=A,A=A.dispatch=xE.bind(null,Ui,A),[B.memoizedState,A]},useRef:function(A){var f=va();return A={current:A},f.memoizedState=A},useState:function(A){A=vx(A);var f=A.queue,y=CE.bind(null,Ui,f);return f.dispatch=y,[A.memoizedState,y]},useDebugValue:Cx,useDeferredValue:function(A,f){var y=va();return l0(y,A,f)},useTransition:function(){var A=vx(!1);return A=bE.bind(null,Ui,A.queue,!0,!1),va().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,f,y){var B=Ui,R=va();if(An){if(y===void 0)throw Error(n(407));y=y()}else{if(y=f(),jt===null)throw Error(n(349));(kt&124)!==0||eE(B,f,y)}R.memoizedState=y;var L={value:y,getSnapshot:f};return R.queue=L,hE(iE.bind(null,B,L,A),[A]),B.flags|=2048,fd(9,s0(),tE.bind(null,B,L,y,f),null),y},useId:function(){var A=va(),f=jt.identifierPrefix;if(An){var y=Kc,B=jc;y=(B&~(1<<32-Ge(B)-1)).toString(32)+y,f="«"+f+"R"+y,y=e0++,0<y&&(f+="H"+y.toString(32)),f+="»"}else y=oF++,f="«"+f+"r"+y.toString(32)+"»";return A.memoizedState=f},useHostTransitionStatus:h0,useFormState:aE,useActionState:aE,useOptimistic:function(A){var f=va();f.memoizedState=f.baseState=A;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=y,f=Ex.bind(null,Ui,!0,y),y.dispatch=f,[A,f]},useMemoCache:fx,useCacheRefresh:function(){return va().memoizedState=wE.bind(null,Ui)}},EE={readContext:hs,use:t0,useCallback:mE,useContext:hs,useEffect:AE,useImperativeHandle:gE,useInsertionEffect:dE,useLayoutEffect:pE,useMemo:_E,useReducer:i0,useRef:uE,useState:function(){return i0(rh)},useDebugValue:Cx,useDeferredValue:function(A,f){var y=Jr();return vE(y,Cn.memoizedState,A,f)},useTransition:function(){var A=i0(rh)[0],f=Jr().memoizedState;return[typeof A=="boolean"?A:pm(A),f]},useSyncExternalStore:_x,useId:Sx,useHostTransitionStatus:h0,useFormState:lE,useActionState:lE,useOptimistic:function(A,f){var y=Jr();return bx(y,Cn,A,f)},useMemoCache:fx,useCacheRefresh:yE},lF={readContext:hs,use:t0,useCallback:mE,useContext:hs,useEffect:AE,useImperativeHandle:gE,useInsertionEffect:dE,useLayoutEffect:pE,useMemo:_E,useReducer:mx,useRef:uE,useState:function(){return mx(rh)},useDebugValue:Cx,useDeferredValue:function(A,f){var y=Jr();return Cn===null?l0(y,A,f):vE(y,Cn.memoizedState,A,f)},useTransition:function(){var A=mx(rh)[0],f=Jr().memoizedState;return[typeof A=="boolean"?A:pm(A),f]},useSyncExternalStore:_x,useId:Sx,useHostTransitionStatus:h0,useFormState:xx,useActionState:xx,useOptimistic:function(A,f){var y=Jr();return Cn!==null?bx(y,Cn,A,f):(y.baseState=A,[A,y.queue.dispatch])},useMemoCache:fx,useCacheRefresh:yE},gd=null,md=0;function oh(A){var f=md;return md+=1,gd===null&&(gd=[]),jp(gd,A,f)}function Jc(A,f){f=f.props.ref,A.ref=f!==void 0?f:null}function ps(A,f){throw f.$$typeof===h?Error(n(525)):(A=Object.prototype.toString.call(f),Error(n(31,A==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":A)))}function TE(A){var f=A._init;return f(A._payload)}function IE(A){function f(Qe,Fe){if(A){var He=Qe.deletions;He===null?(Qe.deletions=[Fe],Qe.flags|=16):He.push(Fe)}}function y(Qe,Fe){if(!A)return null;for(;Fe!==null;)f(Qe,Fe),Fe=Fe.sibling;return null}function B(Qe){for(var Fe=new Map;Qe!==null;)Qe.key!==null?Fe.set(Qe.key,Qe):Fe.set(Qe.index,Qe),Qe=Qe.sibling;return Fe}function R(Qe,Fe){return Qe=Wc(Qe,Fe),Qe.index=0,Qe.sibling=null,Qe}function L(Qe,Fe,He){return Qe.index=He,A?(He=Qe.alternate,He!==null?(He=He.index,He<Fe?(Qe.flags|=67108866,Fe):He):(Qe.flags|=67108866,Fe)):(Qe.flags|=1048576,Fe)}function ie(Qe){return A&&Qe.alternate===null&&(Qe.flags|=67108866),Qe}function de(Qe,Fe,He,ot){return Fe===null||Fe.tag!==6?(Fe=Zg(He,Qe.mode,ot),Fe.return=Qe,Fe):(Fe=R(Fe,He),Fe.return=Qe,Fe)}function Se(Qe,Fe,He,ot){var Qt=He.type;return Qt===g?it(Qe,Fe,He.props.children,ot,He.key):Fe!==null&&(Fe.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===k&&TE(Qt)===Fe.type)?(Fe=R(Fe,He.props),Jc(Fe,He),Fe.return=Qe,Fe):(Fe=Yg(He.type,He.key,He.props,null,Qe.mode,ot),Jc(Fe,He),Fe.return=Qe,Fe)}function ze(Qe,Fe,He,ot){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==He.containerInfo||Fe.stateNode.implementation!==He.implementation?(Fe=Jg(He,Qe.mode,ot),Fe.return=Qe,Fe):(Fe=R(Fe,He.children||[]),Fe.return=Qe,Fe)}function it(Qe,Fe,He,ot,Qt){return Fe===null||Fe.tag!==7?(Fe=tA(He,Qe.mode,ot,Qt),Fe.return=Qe,Fe):(Fe=R(Fe,He),Fe.return=Qe,Fe)}function at(Qe,Fe,He){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=Zg(""+Fe,Qe.mode,He),Fe.return=Qe,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case d:return He=Yg(Fe.type,Fe.key,Fe.props,null,Qe.mode,He),Jc(He,Fe),He.return=Qe,He;case p:return Fe=Jg(Fe,Qe.mode,He),Fe.return=Qe,Fe;case k:var ot=Fe._init;return Fe=ot(Fe._payload),at(Qe,Fe,He)}if(J(Fe)||N(Fe))return Fe=tA(Fe,Qe.mode,He,null),Fe.return=Qe,Fe;if(typeof Fe.then=="function")return at(Qe,oh(Fe),He);if(Fe.$$typeof===C)return at(Qe,As(Qe,Fe),He);ps(Qe,Fe)}return null}function $e(Qe,Fe,He,ot){var Qt=Fe!==null?Fe.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Qt!==null?null:de(Qe,Fe,""+He,ot);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case d:return He.key===Qt?Se(Qe,Fe,He,ot):null;case p:return He.key===Qt?ze(Qe,Fe,He,ot):null;case k:return Qt=He._init,He=Qt(He._payload),$e(Qe,Fe,He,ot)}if(J(He)||N(He))return Qt!==null?null:it(Qe,Fe,He,ot,null);if(typeof He.then=="function")return $e(Qe,Fe,oh(He),ot);if(He.$$typeof===C)return $e(Qe,Fe,As(Qe,He),ot);ps(Qe,He)}return null}function Ye(Qe,Fe,He,ot,Qt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Qe=Qe.get(He)||null,de(Fe,Qe,""+ot,Qt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case d:return Qe=Qe.get(ot.key===null?He:ot.key)||null,Se(Fe,Qe,ot,Qt);case p:return Qe=Qe.get(ot.key===null?He:ot.key)||null,ze(Fe,Qe,ot,Qt);case k:var Yi=ot._init;return ot=Yi(ot._payload),Ye(Qe,Fe,He,ot,Qt)}if(J(ot)||N(ot))return Qe=Qe.get(He)||null,it(Fe,Qe,ot,Qt,null);if(typeof ot.then=="function")return Ye(Qe,Fe,He,oh(ot),Qt);if(ot.$$typeof===C)return Ye(Qe,Fe,He,As(Fe,ot),Qt);ps(Fe,ot)}return null}function hi(Qe,Fe,He,ot){for(var Qt=null,Yi=null,qt=Fe,ri=Fe=0,bs=null;qt!==null&&ri<He.length;ri++){qt.index>ri?(bs=qt,qt=null):bs=qt.sibling;var mn=$e(Qe,qt,He[ri],ot);if(mn===null){qt===null&&(qt=bs);break}A&&qt&&mn.alternate===null&&f(Qe,qt),Fe=L(mn,Fe,ri),Yi===null?Qt=mn:Yi.sibling=mn,Yi=mn,qt=bs}if(ri===He.length)return y(Qe,qt),An&&Xa(Qe,ri),Qt;if(qt===null){for(;ri<He.length;ri++)qt=at(Qe,He[ri],ot),qt!==null&&(Fe=L(qt,Fe,ri),Yi===null?Qt=qt:Yi.sibling=qt,Yi=qt);return An&&Xa(Qe,ri),Qt}for(qt=B(qt);ri<He.length;ri++)bs=Ye(qt,Qe,ri,He[ri],ot),bs!==null&&(A&&bs.alternate!==null&&qt.delete(bs.key===null?ri:bs.key),Fe=L(bs,Fe,ri),Yi===null?Qt=bs:Yi.sibling=bs,Yi=bs);return A&&qt.forEach(function(uf){return f(Qe,uf)}),An&&Xa(Qe,ri),Qt}function ti(Qe,Fe,He,ot){if(He==null)throw Error(n(151));for(var Qt=null,Yi=null,qt=Fe,ri=Fe=0,bs=null,mn=He.next();qt!==null&&!mn.done;ri++,mn=He.next()){qt.index>ri?(bs=qt,qt=null):bs=qt.sibling;var uf=$e(Qe,qt,mn.value,ot);if(uf===null){qt===null&&(qt=bs);break}A&&qt&&uf.alternate===null&&f(Qe,qt),Fe=L(uf,Fe,ri),Yi===null?Qt=uf:Yi.sibling=uf,Yi=uf,qt=bs}if(mn.done)return y(Qe,qt),An&&Xa(Qe,ri),Qt;if(qt===null){for(;!mn.done;ri++,mn=He.next())mn=at(Qe,mn.value,ot),mn!==null&&(Fe=L(mn,Fe,ri),Yi===null?Qt=mn:Yi.sibling=mn,Yi=mn);return An&&Xa(Qe,ri),Qt}for(qt=B(qt);!mn.done;ri++,mn=He.next())mn=Ye(qt,Qe,ri,mn.value,ot),mn!==null&&(A&&mn.alternate!==null&&qt.delete(mn.key===null?ri:mn.key),Fe=L(mn,Fe,ri),Yi===null?Qt=mn:Yi.sibling=mn,Yi=mn);return A&&qt.forEach(function(Toe){return f(Qe,Toe)}),An&&Xa(Qe,ri),Qt}function Vn(Qe,Fe,He,ot){if(typeof He=="object"&&He!==null&&He.type===g&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case d:e:{for(var Qt=He.key;Fe!==null;){if(Fe.key===Qt){if(Qt=He.type,Qt===g){if(Fe.tag===7){y(Qe,Fe.sibling),ot=R(Fe,He.props.children),ot.return=Qe,Qe=ot;break e}}else if(Fe.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===k&&TE(Qt)===Fe.type){y(Qe,Fe.sibling),ot=R(Fe,He.props),Jc(ot,He),ot.return=Qe,Qe=ot;break e}y(Qe,Fe);break}else f(Qe,Fe);Fe=Fe.sibling}He.type===g?(ot=tA(He.props.children,Qe.mode,ot,He.key),ot.return=Qe,Qe=ot):(ot=Yg(He.type,He.key,He.props,null,Qe.mode,ot),Jc(ot,He),ot.return=Qe,Qe=ot)}return ie(Qe);case p:e:{for(Qt=He.key;Fe!==null;){if(Fe.key===Qt)if(Fe.tag===4&&Fe.stateNode.containerInfo===He.containerInfo&&Fe.stateNode.implementation===He.implementation){y(Qe,Fe.sibling),ot=R(Fe,He.children||[]),ot.return=Qe,Qe=ot;break e}else{y(Qe,Fe);break}else f(Qe,Fe);Fe=Fe.sibling}ot=Jg(He,Qe.mode,ot),ot.return=Qe,Qe=ot}return ie(Qe);case k:return Qt=He._init,He=Qt(He._payload),Vn(Qe,Fe,He,ot)}if(J(He))return hi(Qe,Fe,He,ot);if(N(He)){if(Qt=N(He),typeof Qt!="function")throw Error(n(150));return He=Qt.call(He),ti(Qe,Fe,He,ot)}if(typeof He.then=="function")return Vn(Qe,Fe,oh(He),ot);if(He.$$typeof===C)return Vn(Qe,Fe,As(Qe,He),ot);ps(Qe,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Fe!==null&&Fe.tag===6?(y(Qe,Fe.sibling),ot=R(Fe,He),ot.return=Qe,Qe=ot):(y(Qe,Fe),ot=Zg(He,Qe.mode,ot),ot.return=Qe,Qe=ot),ie(Qe)):y(Qe,Fe)}return function(Qe,Fe,He,ot){try{md=0;var Qt=Vn(Qe,Fe,He,ot);return gd=null,Qt}catch(qt){if(qt===ei||qt===hd)throw qt;var Yi=zs(29,qt,null,Qe.mode);return Yi.lanes=ot,Yi.return=Qe,Yi}finally{}}}var cA=IE(!0),A0=IE(!1),qs=ee(null),Ll=null;function uA(A){var f=A.alternate;ge(lo,lo.current&1),ge(qs,A),Ll===null&&(f===null||Wo.current!==null||f.memoizedState!==null)&&(Ll=A)}function ME(A){if(A.tag===22){if(ge(lo,lo.current),ge(qs,A),Ll===null){var f=A.alternate;f!==null&&f.memoizedState!==null&&(Ll=A)}}else Io()}function Io(){ge(lo,lo.current),ge(qs,qs.current)}function eu(A){oe(qs),Ll===A&&(Ll=null),oe(lo)}var lo=ee(0);function vm(A){for(var f=A;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||xF(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===A)break;for(;f.sibling===null;){if(f.return===null||f.return===A)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Tx(A,f,y,B){f=A.memoizedState,y=y(B,f),y=y==null?f:u({},f,y),A.memoizedState=y,A.lanes===0&&(A.updateQueue.baseState=y)}var Ix={enqueueSetState:function(A,f,y){A=A._reactInternals;var B=w(),R=th(B);R.payload=f,y!=null&&(R.callback=y),f=dc(A,R,B),f!==null&&(D(f,A,B),Kp(f,A,B))},enqueueReplaceState:function(A,f,y){A=A._reactInternals;var B=w(),R=th(B);R.tag=1,R.payload=f,y!=null&&(R.callback=y),f=dc(A,R,B),f!==null&&(D(f,A,B),Kp(f,A,B))},enqueueForceUpdate:function(A,f){A=A._reactInternals;var y=w(),B=th(y);B.tag=2,f!=null&&(B.callback=f),f=dc(A,B,y),f!==null&&(D(f,A,y),Kp(f,A,y))}};function RE(A,f,y,B,R,L,ie){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(B,L,ie):f.prototype&&f.prototype.isPureReactComponent?!Np(y,B)||!Np(R,L):!0}function Xp(A,f,y,B){A=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,B),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,B),f.state!==A&&Ix.enqueueReplaceState(f,f.state,null)}function co(A,f){var y=f;if("ref"in f){y={};for(var B in f)B!=="ref"&&(y[B]=f[B])}if(A=A.defaultProps){y===f&&(y=u({},y));for(var R in A)y[R]===void 0&&(y[R]=A[R])}return y}var fs=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Mx(A){fs(A)}function _d(A){console.error(A)}function vd(A){fs(A)}function bd(A,f){try{var y=A.onUncaughtError;y(f.value,{componentStack:f.stack})}catch(B){setTimeout(function(){throw B})}}function bm(A,f,y){try{var B=A.onCaughtError;B(y.value,{componentStack:y.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function ba(A,f,y){return y=th(y),y.tag=3,y.payload={element:null},y.callback=function(){bd(A,f)},y}function Ja(A){return A=th(A),A.tag=3,A}function hA(A,f,y,B){var R=y.type.getDerivedStateFromError;if(typeof R=="function"){var L=B.value;A.payload=function(){return R(L)},A.callback=function(){bm(f,y,B)}}var ie=y.stateNode;ie!==null&&typeof ie.componentDidCatch=="function"&&(A.callback=function(){bm(f,y,B),typeof R!="function"&&(_c===null?_c=new Set([this]):_c.add(this));var de=B.stack;this.componentDidCatch(B.value,{componentStack:de!==null?de:""})})}function tu(A,f,y,B,R){if(y.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){if(f=y.alternate,f!==null&&cd(f,y,R,!0),y=qs.current,y!==null){switch(y.tag){case 13:return Ll===null?yi():y.alternate===null&&pn===0&&(pn=3),y.flags&=-257,y.flags|=65536,y.lanes=R,B===ax?y.flags|=16384:(f=y.updateQueue,f===null?y.updateQueue=new Set([B]):f.add(B),Dx(A,B,R)),!1;case 22:return y.flags|=65536,B===ax?y.flags|=16384:(f=y.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([B])},y.updateQueue=f):(y=f.retryQueue,y===null?f.retryQueue=new Set([B]):y.add(B)),Dx(A,B,R)),!1}throw Error(n(435,y.tag))}return Dx(A,B,R),yi(),!1}if(An)return f=qs.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=R,B!==nm&&(A=Error(n(422),{cause:B}),ld(ga(A,y)))):(B!==nm&&(f=Error(n(423),{cause:B}),ld(ga(f,y))),A=A.current.alternate,A.flags|=65536,R&=-R,A.lanes|=R,B=ga(B,y),R=ba(A.stateNode,B,R),cx(A,R),pn!==4&&(pn=2)),!1;var L=Error(n(520),{cause:B});if(L=ga(L,y),cu===null?cu=[L]:cu.push(L),pn!==4&&(pn=2),f===null)return!0;B=ga(B,y),y=f;do{switch(y.tag){case 3:return y.flags|=65536,A=R&-R,y.lanes|=A,A=ba(y.stateNode,B,A),cx(y,A),!1;case 1:if(f=y.type,L=y.stateNode,(y.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(_c===null||!_c.has(L))))return y.flags|=65536,R&=-R,y.lanes|=R,R=Ja(R),hA(R,A,y,B),cx(y,R),!1}y=y.return}while(y!==null);return!1}var iu=Error(n(461)),rn=!1;function Nr(A,f,y,B){f.child=A===null?A0(f,null,y,B):cA(f,A.child,y,B)}function sh(A,f,y,B,R){y=y.render;var L=f.ref;if("ref"in B){var ie={};for(var de in B)de!=="ref"&&(ie[de]=B[de])}else ie=B;return bi(f),B=dd(A,f,y,ie,L,R),de=pd(),A!==null&&!rn?(Ax(A,f,R),Ws(A,f,R)):(An&&de&&hn(f),f.flags|=1,Nr(A,f,B,R),f.child)}function ym(A,f,y,B,R){if(A===null){var L=y.type;return typeof L=="function"&&!eA(L)&&L.defaultProps===void 0&&y.compare===null?(f.tag=15,f.type=L,gs(A,f,L,B,R)):(A=Yg(y.type,null,B,f,f.mode,R),A.ref=f.ref,A.return=f,f.child=A)}if(L=A.child,!nu(A,R)){var ie=L.memoizedProps;if(y=y.compare,y=y!==null?y:Np,y(ie,B)&&A.ref===f.ref)return Ws(A,f,R)}return f.flags|=1,A=Wc(L,B),A.ref=f.ref,A.return=f,f.child=A}function gs(A,f,y,B,R){if(A!==null){var L=A.memoizedProps;if(Np(L,B)&&A.ref===f.ref)if(rn=!1,f.pendingProps=B=L,nu(A,R))(A.flags&131072)!==0&&(rn=!0);else return f.lanes=A.lanes,Ws(A,f,R)}return Ol(A,f,y,B,R)}function Ko(A,f,y){var B=f.pendingProps,R=B.children,L=A!==null?A.memoizedState:null;if(B.mode==="hidden"){if((f.flags&128)!==0){if(B=L!==null?L.baseLanes|y:y,A!==null){for(R=f.child=A.child,L=0;R!==null;)L=L|R.lanes|R.childLanes,R=R.sibling;f.childLanes=L&~B}else f.childLanes=0,f.child=null;return ln(A,f,B,y)}if((y&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},A!==null&&lm(f,L!==null?L.cachePool:null),L!==null?YS(f,L):ds(),ME(f);else return f.lanes=f.childLanes=536870912,ln(A,f,L!==null?L.baseLanes|y:y,y)}else L!==null?(lm(f,L.cachePool),YS(f,L),Io(),f.memoizedState=null):(A!==null&&lm(f,null),ds(),Io());return Nr(A,f,R,y),f.child}function ln(A,f,y,B){var R=sx();return R=R===null?null:{parent:ir._currentValue,pool:R},f.memoizedState={baseLanes:y,cachePool:R},A!==null&&lm(f,null),ds(),ME(f),A!==null&&cd(A,f,B,!0),null}function ya(A,f){var y=f.ref;if(y===null)A!==null&&A.ref!==null&&(f.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(n(284));(A===null||A.ref!==y)&&(f.flags|=4194816)}}function Ol(A,f,y,B,R){return bi(f),y=dd(A,f,y,B,void 0,R),B=pd(),A!==null&&!rn?(Ax(A,f,R),Ws(A,f,R)):(An&&B&&hn(f),f.flags|=1,Nr(A,f,y,R),f.child)}function d0(A,f,y,B,R,L){return bi(f),f.updateQueue=null,y=JS(f,B,y,R),ZS(A),B=pd(),A!==null&&!rn?(Ax(A,f,L),Ws(A,f,L)):(An&&B&&hn(f),f.flags|=1,Nr(A,f,y,L),f.child)}function el(A,f,y,B,R){if(bi(f),f.stateNode===null){var L=ma,ie=y.contextType;typeof ie=="object"&&ie!==null&&(L=hs(ie)),L=new y(B,L),f.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=Ix,f.stateNode=L,L._reactInternals=f,L=f.stateNode,L.props=B,L.state=f.memoizedState,L.refs={},lx(f),ie=y.contextType,L.context=typeof ie=="object"&&ie!==null?hs(ie):ma,L.state=f.memoizedState,ie=y.getDerivedStateFromProps,typeof ie=="function"&&(Tx(f,y,ie,B),L.state=f.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(ie=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),ie!==L.state&&Ix.enqueueReplaceState(L,L.state,null),Za(f,B,L,R),Ad(),L.state=f.memoizedState),typeof L.componentDidMount=="function"&&(f.flags|=4194308),B=!0}else if(A===null){L=f.stateNode;var de=f.memoizedProps,Se=co(y,de);L.props=Se;var ze=L.context,it=y.contextType;ie=ma,typeof it=="object"&&it!==null&&(ie=hs(it));var at=y.getDerivedStateFromProps;it=typeof at=="function"||typeof L.getSnapshotBeforeUpdate=="function",de=f.pendingProps!==de,it||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(de||ze!==ie)&&Xp(f,L,B,ie),sA=!1;var $e=f.memoizedState;L.state=$e,Za(f,B,L,R),Ad(),ze=f.memoizedState,de||$e!==ze||sA?(typeof at=="function"&&(Tx(f,y,at,B),ze=f.memoizedState),(Se=sA||RE(f,y,Se,B,$e,ze,ie))?(it||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(f.flags|=4194308)):(typeof L.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=B,f.memoizedState=ze),L.props=B,L.state=ze,L.context=ie,B=Se):(typeof L.componentDidMount=="function"&&(f.flags|=4194308),B=!1)}else{L=f.stateNode,hm(A,f),ie=f.memoizedProps,it=co(y,ie),L.props=it,at=f.pendingProps,$e=L.context,ze=y.contextType,Se=ma,typeof ze=="object"&&ze!==null&&(Se=hs(ze)),de=y.getDerivedStateFromProps,(ze=typeof de=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ie!==at||$e!==Se)&&Xp(f,L,B,Se),sA=!1,$e=f.memoizedState,L.state=$e,Za(f,B,L,R),Ad();var Ye=f.memoizedState;ie!==at||$e!==Ye||sA||A!==null&&A.dependencies!==null&&sm(A.dependencies)?(typeof de=="function"&&(Tx(f,y,de,B),Ye=f.memoizedState),(it=sA||RE(f,y,it,B,$e,Ye,Se)||A!==null&&A.dependencies!==null&&sm(A.dependencies))?(ze||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(B,Ye,Se),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(B,Ye,Se)),typeof L.componentDidUpdate=="function"&&(f.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof L.componentDidUpdate!="function"||ie===A.memoizedProps&&$e===A.memoizedState||(f.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ie===A.memoizedProps&&$e===A.memoizedState||(f.flags|=1024),f.memoizedProps=B,f.memoizedState=Ye),L.props=B,L.state=Ye,L.context=Se,B=it):(typeof L.componentDidUpdate!="function"||ie===A.memoizedProps&&$e===A.memoizedState||(f.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ie===A.memoizedProps&&$e===A.memoizedState||(f.flags|=1024),B=!1)}return L=B,ya(A,f),B=(f.flags&128)!==0,L||B?(L=f.stateNode,y=B&&typeof y.getDerivedStateFromError!="function"?null:L.render(),f.flags|=1,A!==null&&B?(f.child=cA(f,A.child,null,R),f.child=cA(f,null,y,R)):Nr(A,f,y,R),f.memoizedState=L.state,A=f.child):A=Ws(A,f,R),A}function yd(A,f,y,B){return qp(),f.flags|=256,Nr(A,f,y,B),f.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yp(A){return{baseLanes:A,cachePool:jS()}}function AA(A,f,y){return A=A!==null?A.childLanes&~y:0,f&&(A|=Ca),A}function p0(A,f,y){var B=f.pendingProps,R=!1,L=(f.flags&128)!==0,ie;if((ie=L)||(ie=A!==null&&A.memoizedState===null?!1:(lo.current&2)!==0),ie&&(R=!0,f.flags&=-129),ie=(f.flags&32)!==0,f.flags&=-33,A===null){if(An){if(R?uA(f):Io(),An){var de=pr,Se;if(Se=de){e:{for(Se=de,de=$c;Se.nodeType!==8;){if(!de){de=null;break e}if(Se=hh(Se.nextSibling),Se===null){de=null;break e}}de=Se}de!==null?(f.memoizedState={dehydrated:de,treeContext:iA!==null?{id:jc,overflow:Kc}:null,retryLane:536870912,hydrationErrors:null},Se=zs(18,null,null,0),Se.stateNode=de,Se.return=f,f.child=Se,Vs=f,pr=null,Se=!0):Se=!1}Se||_a(f)}if(de=f.memoizedState,de!==null&&(de=de.dehydrated,de!==null))return xF(de)?f.lanes=32:f.lanes=536870912,null;eu(f)}return de=B.children,B=B.fallback,R?(Io(),R=f.mode,de=Jp({mode:"hidden",children:de},R),B=tA(B,R,y,null),de.return=f,B.return=f,de.sibling=B,f.child=de,R=f.child,R.memoizedState=Yp(y),R.childLanes=AA(A,ie,y),f.memoizedState=wm,B):(uA(f),Zp(f,de))}if(Se=A.memoizedState,Se!==null&&(de=Se.dehydrated,de!==null)){if(L)f.flags&256?(uA(f),f.flags&=-257,f=dA(A,f,y)):f.memoizedState!==null?(Io(),f.child=A.child,f.flags|=128,f=null):(Io(),R=B.fallback,de=f.mode,B=Jp({mode:"visible",children:B.children},de),R=tA(R,de,y,null),R.flags|=2,B.return=f,R.return=f,B.sibling=R,f.child=B,cA(f,A.child,null,y),B=f.child,B.memoizedState=Yp(y),B.childLanes=AA(A,ie,y),f.memoizedState=wm,f=R);else if(uA(f),xF(de)){if(ie=de.nextSibling&&de.nextSibling.dataset,ie)var ze=ie.dgst;ie=ze,B=Error(n(419)),B.stack="",B.digest=ie,ld({value:B,source:null,stack:null}),f=dA(A,f,y)}else if(rn||cd(A,f,y,!1),ie=(y&A.childLanes)!==0,rn||ie){if(ie=jt,ie!==null&&(B=y&-y,B=(B&42)!==0?1:zt(B),B=(B&(ie.suspendedLanes|y))!==0?0:B,B!==0&&B!==Se.retryLane))throw Se.retryLane=B,Jh(A,B),D(ie,A,B),iu;de.data==="$?"||yi(),f=dA(A,f,y)}else de.data==="$?"?(f.flags|=192,f.child=A.child,f=null):(A=Se.treeContext,pr=hh(de.nextSibling),Vs=f,An=!0,ad=null,$c=!1,A!==null&&(Vo[Gs++]=jc,Vo[Gs++]=Kc,Vo[Gs++]=iA,jc=A.id,Kc=A.overflow,iA=f),f=Zp(f,B.children),f.flags|=4096);return f}return R?(Io(),R=B.fallback,de=f.mode,Se=A.child,ze=Se.sibling,B=Wc(Se,{mode:"hidden",children:B.children}),B.subtreeFlags=Se.subtreeFlags&65011712,ze!==null?R=Wc(ze,R):(R=tA(R,de,y,null),R.flags|=2),R.return=f,B.return=f,B.sibling=R,f.child=B,B=R,R=f.child,de=A.child.memoizedState,de===null?de=Yp(y):(Se=de.cachePool,Se!==null?(ze=ir._currentValue,Se=Se.parent!==ze?{parent:ze,pool:ze}:Se):Se=jS(),de={baseLanes:de.baseLanes|y,cachePool:Se}),R.memoizedState=de,R.childLanes=AA(A,ie,y),f.memoizedState=wm,B):(uA(f),y=A.child,A=y.sibling,y=Wc(y,{mode:"visible",children:B.children}),y.return=f,y.sibling=null,A!==null&&(ie=f.deletions,ie===null?(f.deletions=[A],f.flags|=16):ie.push(A)),f.child=y,f.memoizedState=null,y)}function Zp(A,f){return f=Jp({mode:"visible",children:f},A.mode),f.return=A,A.child=f}function Jp(A,f){return A=zs(22,A,null,f),A.lanes=0,A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},A}function dA(A,f,y){return cA(f,A.child,null,y),A=Zp(f,f.pendingProps.children),A.flags|=2,f.memoizedState=null,A}function ef(A,f,y){A.lanes|=f;var B=A.alternate;B!==null&&(B.lanes|=f),jv(A.return,f,y)}function xm(A,f,y,B,R){var L=A.memoizedState;L===null?A.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:B,tail:y,tailMode:R}:(L.isBackwards=f,L.rendering=null,L.renderingStartTime=0,L.last=B,L.tail=y,L.tailMode=R)}function pA(A,f,y){var B=f.pendingProps,R=B.revealOrder,L=B.tail;if(Nr(A,f,B.children,y),B=lo.current,(B&2)!==0)B=B&1|2,f.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=f.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&ef(A,y,f);else if(A.tag===19)ef(A,y,f);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===f)break e;for(;A.sibling===null;){if(A.return===null||A.return===f)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}B&=1}switch(ge(lo,B),R){case"forwards":for(y=f.child,R=null;y!==null;)A=y.alternate,A!==null&&vm(A)===null&&(R=y),y=y.sibling;y=R,y===null?(R=f.child,f.child=null):(R=y.sibling,y.sibling=null),xm(f,!1,R,y,L);break;case"backwards":for(y=null,R=f.child,f.child=null;R!==null;){if(A=R.alternate,A!==null&&vm(A)===null){f.child=R;break}A=R.sibling,R.sibling=y,y=R,R=A}xm(f,!0,y,null,L);break;case"together":xm(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ws(A,f,y){if(A!==null&&(f.dependencies=A.dependencies),bn|=f.lanes,(y&f.childLanes)===0)if(A!==null){if(cd(A,f,y,!1),(y&f.childLanes)===0)return null}else return null;if(A!==null&&f.child!==A.child)throw Error(n(153));if(f.child!==null){for(A=f.child,y=Wc(A,A.pendingProps),f.child=y,y.return=f;A.sibling!==null;)A=A.sibling,y=y.sibling=Wc(A,A.pendingProps),y.return=f;y.sibling=null}return f.child}function nu(A,f){return(A.lanes&f)!==0?!0:(A=A.dependencies,!!(A!==null&&sm(A)))}function Rx(A,f,y){switch(f.tag){case 3:Be(f,f.stateNode.containerInfo),Ju(f,ir,A.memoizedState.cache),qp();break;case 27:case 5:ke(f);break;case 4:Be(f,f.stateNode.containerInfo);break;case 10:Ju(f,f.type,f.memoizedProps.value);break;case 13:var B=f.memoizedState;if(B!==null)return B.dehydrated!==null?(uA(f),f.flags|=128,null):(y&f.child.childLanes)!==0?p0(A,f,y):(uA(f),A=Ws(A,f,y),A!==null?A.sibling:null);uA(f);break;case 19:var R=(A.flags&128)!==0;if(B=(y&f.childLanes)!==0,B||(cd(A,f,y,!1),B=(y&f.childLanes)!==0),R){if(B)return pA(A,f,y);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),ge(lo,lo.current),B)break;return null;case 22:case 23:return f.lanes=0,Ko(A,f,y);case 24:Ju(f,ir,A.memoizedState.cache)}return Ws(A,f,y)}function kE(A,f,y){if(A!==null)if(A.memoizedProps!==f.pendingProps)rn=!0;else{if(!nu(A,y)&&(f.flags&128)===0)return rn=!1,Rx(A,f,y);rn=(A.flags&131072)!==0}else rn=!1,An&&(f.flags&1048576)!==0&&tx(f,tm,f.index);switch(f.lanes=0,f.tag){case 16:e:{A=f.pendingProps;var B=f.elementType,R=B._init;if(B=R(B._payload),f.type=B,typeof B=="function")eA(B)?(A=co(B,A),f.tag=1,f=el(null,f,B,A,y)):(f.tag=0,f=Ol(null,f,B,A,y));else{if(B!=null){if(R=B.$$typeof,R===S){f.tag=11,f=sh(null,f,B,A,y);break e}else if(R===M){f.tag=14,f=ym(null,f,B,A,y);break e}}throw f=q(B)||B,Error(n(306,f,""))}}return f;case 0:return Ol(A,f,f.type,f.pendingProps,y);case 1:return B=f.type,R=co(B,f.pendingProps),el(A,f,B,R,y);case 3:e:{if(Be(f,f.stateNode.containerInfo),A===null)throw Error(n(387));B=f.pendingProps;var L=f.memoizedState;R=L.element,hm(A,f),Za(f,B,null,y);var ie=f.memoizedState;if(B=ie.cache,Ju(f,ir,B),B!==L.cache&&om(f,[ir],y,!0),Ad(),B=ie.element,L.isDehydrated)if(L={element:B,isDehydrated:!1,cache:ie.cache},f.updateQueue.baseState=L,f.memoizedState=L,f.flags&256){f=yd(A,f,B,y);break e}else if(B!==R){R=ga(Error(n(424)),f),ld(R),f=yd(A,f,B,y);break e}else{switch(A=f.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(pr=hh(A.firstChild),Vs=f,An=!0,ad=null,$c=!0,y=A0(f,null,B,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(qp(),B===R){f=Ws(A,f,y);break e}Nr(A,f,B,y)}f=f.child}return f;case 26:return ya(A,f),A===null?(y=zH(f.type,null,f.pendingProps,null))?f.memoizedState=y:An||(y=f.type,A=f.pendingProps,B=NE(we.current).createElement(y),B[sn]=f,B[ci]=A,Ks(B,y,A),wt(B),f.stateNode=B):f.memoizedState=zH(f.type,A.memoizedProps,f.pendingProps,A.memoizedState),null;case 27:return ke(f),A===null&&An&&(B=f.stateNode=QH(f.type,f.pendingProps,we.current),Vs=f,$c=!0,R=pr,of(f.type)?(CF=R,pr=hh(B.firstChild)):pr=R),Nr(A,f,f.pendingProps.children,y),ya(A,f),A===null&&(f.flags|=4194304),f.child;case 5:return A===null&&An&&((R=B=pr)&&(B=noe(B,f.type,f.pendingProps,$c),B!==null?(f.stateNode=B,Vs=f,pr=hh(B.firstChild),$c=!1,R=!0):R=!1),R||_a(f)),ke(f),R=f.type,L=f.pendingProps,ie=A!==null?A.memoizedProps:null,B=L.children,bF(R,L)?B=null:ie!==null&&bF(R,ie)&&(f.flags|=32),f.memoizedState!==null&&(R=dd(A,f,sF,null,null,y),Vx._currentValue=R),ya(A,f),Nr(A,f,B,y),f.child;case 6:return A===null&&An&&((A=y=pr)&&(y=roe(y,f.pendingProps,$c),y!==null?(f.stateNode=y,Vs=f,pr=null,A=!0):A=!1),A||_a(f)),null;case 13:return p0(A,f,y);case 4:return Be(f,f.stateNode.containerInfo),B=f.pendingProps,A===null?f.child=cA(f,null,B,y):Nr(A,f,B,y),f.child;case 11:return sh(A,f,f.type,f.pendingProps,y);case 7:return Nr(A,f,f.pendingProps,y),f.child;case 8:return Nr(A,f,f.pendingProps.children,y),f.child;case 12:return Nr(A,f,f.pendingProps.children,y),f.child;case 10:return B=f.pendingProps,Ju(f,f.type,B.value),Nr(A,f,B.children,y),f.child;case 9:return R=f.type._context,B=f.pendingProps.children,bi(f),R=hs(R),B=B(R),f.flags|=1,Nr(A,f,B,y),f.child;case 14:return ym(A,f,f.type,f.pendingProps,y);case 15:return gs(A,f,f.type,f.pendingProps,y);case 19:return pA(A,f,y);case 31:return B=f.pendingProps,y=f.mode,B={mode:B.mode,children:B.children},A===null?(y=Jp(B,y),y.ref=f.ref,f.child=y,y.return=f,f=y):(y=Wc(A.child,B),y.ref=f.ref,f.child=y,y.return=f,f=y),f;case 22:return Ko(A,f,y);case 24:return bi(f),B=hs(ir),A===null?(R=sx(),R===null&&(R=jt,L=Xv(),R.pooledCache=L,L.refCount++,L!==null&&(R.pooledCacheLanes|=y),R=L),f.memoizedState={parent:B,cache:R},lx(f),Ju(f,ir,R)):((A.lanes&y)!==0&&(hm(A,f),Za(f,null,null,y),Ad()),R=A.memoizedState,L=f.memoizedState,R.parent!==B?(R={parent:B,cache:B},f.memoizedState=R,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=R),Ju(f,ir,B)):(B=L.cache,Ju(f,ir,B),B!==R.cache&&om(f,[ir],y,!0))),Nr(A,f,f.pendingProps.children,y),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function tl(A){A.flags|=4}function f0(A,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!jH(f)){if(f=qs.current,f!==null&&((kt&4194048)===kt?Ll!==null:(kt&62914560)!==kt&&(kt&536870912)===0||f!==Ll))throw um=ax,Jv;A.flags|=8192}}function wd(A,f){f!==null&&(A.flags|=4),A.flags&16384&&(f=A.tag!==22?pt():536870912,A.lanes|=f,Xo|=f)}function ru(A,f){if(!An)switch(A.tailMode){case"hidden":f=A.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?A.tail=null:y.sibling=null;break;case"collapsed":y=A.tail;for(var B=null;y!==null;)y.alternate!==null&&(B=y),y=y.sibling;B===null?f||A.tail===null?A.tail=null:A.tail.sibling=null:B.sibling=null}}function Bn(A){var f=A.alternate!==null&&A.alternate.child===A.child,y=0,B=0;if(f)for(var R=A.child;R!==null;)y|=R.lanes|R.childLanes,B|=R.subtreeFlags&65011712,B|=R.flags&65011712,R.return=A,R=R.sibling;else for(R=A.child;R!==null;)y|=R.lanes|R.childLanes,B|=R.subtreeFlags,B|=R.flags,R.return=A,R=R.sibling;return A.subtreeFlags|=B,A.childLanes=y,f}function Cm(A,f,y){var B=f.pendingProps;switch(im(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(f),null;case 1:return Bn(f),null;case 3:return y=f.stateNode,B=null,A!==null&&(B=A.memoizedState.cache),f.memoizedState.cache!==B&&(f.flags|=2048),Yc(ir),Re(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(A===null||A.child===null)&&(Ac(f)?tl(f):A===null||A.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Wv())),Bn(f),null;case 26:return y=f.memoizedState,A===null?(tl(f),y!==null?(Bn(f),f0(f,y)):(Bn(f),f.flags&=-16777217)):y?y!==A.memoizedState?(tl(f),Bn(f),f0(f,y)):(Bn(f),f.flags&=-16777217):(A.memoizedProps!==B&&tl(f),Bn(f),f.flags&=-16777217),null;case 27:Pe(f),y=we.current;var R=f.type;if(A!==null&&f.stateNode!=null)A.memoizedProps!==B&&tl(f);else{if(!B){if(f.stateNode===null)throw Error(n(166));return Bn(f),null}A=se.current,Ac(f)?ix(f):(A=QH(R,B,y),f.stateNode=A,tl(f))}return Bn(f),null;case 5:if(Pe(f),y=f.type,A!==null&&f.stateNode!=null)A.memoizedProps!==B&&tl(f);else{if(!B){if(f.stateNode===null)throw Error(n(166));return Bn(f),null}if(A=se.current,Ac(f))ix(f);else{switch(R=NE(we.current),A){case 1:A=R.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:A=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":A=R.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":A=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":A=R.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof B.is=="string"?R.createElement("select",{is:B.is}):R.createElement("select"),B.multiple?A.multiple=!0:B.size&&(A.size=B.size);break;default:A=typeof B.is=="string"?R.createElement(y,{is:B.is}):R.createElement(y)}}A[sn]=f,A[ci]=B;e:for(R=f.child;R!==null;){if(R.tag===5||R.tag===6)A.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===f)break e;for(;R.sibling===null;){if(R.return===null||R.return===f)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}f.stateNode=A;e:switch(Ks(A,y,B),y){case"button":case"input":case"select":case"textarea":A=!!B.autoFocus;break e;case"img":A=!0;break e;default:A=!1}A&&tl(f)}}return Bn(f),f.flags&=-16777217,null;case 6:if(A&&f.stateNode!=null)A.memoizedProps!==B&&tl(f);else{if(typeof B!="string"&&f.stateNode===null)throw Error(n(166));if(A=we.current,Ac(f)){if(A=f.stateNode,y=f.memoizedProps,B=null,R=Vs,R!==null)switch(R.tag){case 27:case 5:B=R.memoizedProps}A[sn]=f,A=!!(A.nodeValue===y||B!==null&&B.suppressHydrationWarning===!0||kH(A.nodeValue,y)),A||_a(f)}else A=NE(A).createTextNode(B),A[sn]=f,f.stateNode=A}return Bn(f),null;case 13:if(B=f.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(R=Ac(f),B!==null&&B.dehydrated!==null){if(A===null){if(!R)throw Error(n(318));if(R=f.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(n(317));R[sn]=f}else qp(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Bn(f),R=!1}else R=Wv(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=R),R=!0;if(!R)return f.flags&256?(eu(f),f):(eu(f),null)}if(eu(f),(f.flags&128)!==0)return f.lanes=y,f;if(y=B!==null,A=A!==null&&A.memoizedState!==null,y){B=f.child,R=null,B.alternate!==null&&B.alternate.memoizedState!==null&&B.alternate.memoizedState.cachePool!==null&&(R=B.alternate.memoizedState.cachePool.pool);var L=null;B.memoizedState!==null&&B.memoizedState.cachePool!==null&&(L=B.memoizedState.cachePool.pool),L!==R&&(B.flags|=2048)}return y!==A&&y&&(f.child.flags|=8192),wd(f,f.updateQueue),Bn(f),null;case 4:return Re(),A===null&&fF(f.stateNode.containerInfo),Bn(f),null;case 10:return Yc(f.type),Bn(f),null;case 19:if(oe(lo),R=f.memoizedState,R===null)return Bn(f),null;if(B=(f.flags&128)!==0,L=R.rendering,L===null)if(B)ru(R,!1);else{if(pn!==0||A!==null&&(A.flags&128)!==0)for(A=f.child;A!==null;){if(L=vm(A),L!==null){for(f.flags|=128,ru(R,!1),A=L.updateQueue,f.updateQueue=A,wd(f,A),f.subtreeFlags=0,A=y,y=f.child;y!==null;)ex(y,A),y=y.sibling;return ge(lo,lo.current&1|2),f.child}A=A.sibling}R.tail!==null&&z()>nf&&(f.flags|=128,B=!0,ru(R,!1),f.lanes=4194304)}else{if(!B)if(A=vm(L),A!==null){if(f.flags|=128,B=!0,A=A.updateQueue,f.updateQueue=A,wd(f,A),ru(R,!0),R.tail===null&&R.tailMode==="hidden"&&!L.alternate&&!An)return Bn(f),null}else 2*z()-R.renderingStartTime>nf&&y!==536870912&&(f.flags|=128,B=!0,ru(R,!1),f.lanes=4194304);R.isBackwards?(L.sibling=f.child,f.child=L):(A=R.last,A!==null?A.sibling=L:f.child=L,R.last=L)}return R.tail!==null?(f=R.tail,R.rendering=f,R.tail=f.sibling,R.renderingStartTime=z(),f.sibling=null,A=lo.current,ge(lo,B?A&1|2:A&1),f):(Bn(f),null);case 22:case 23:return eu(f),nh(),B=f.memoizedState!==null,A!==null?A.memoizedState!==null!==B&&(f.flags|=8192):B&&(f.flags|=8192),B?(y&536870912)!==0&&(f.flags&128)===0&&(Bn(f),f.subtreeFlags&6&&(f.flags|=8192)):Bn(f),y=f.updateQueue,y!==null&&wd(f,y.retryQueue),y=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(y=A.memoizedState.cachePool.pool),B=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(B=f.memoizedState.cachePool.pool),B!==y&&(f.flags|=2048),A!==null&&oe(oA),null;case 24:return y=null,A!==null&&(y=A.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),Yc(ir),Bn(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function xd(A,f){switch(im(f),f.tag){case 1:return A=f.flags,A&65536?(f.flags=A&-65537|128,f):null;case 3:return Yc(ir),Re(),A=f.flags,(A&65536)!==0&&(A&128)===0?(f.flags=A&-65537|128,f):null;case 26:case 27:case 5:return Pe(f),null;case 13:if(eu(f),A=f.memoizedState,A!==null&&A.dehydrated!==null){if(f.alternate===null)throw Error(n(340));qp()}return A=f.flags,A&65536?(f.flags=A&-65537|128,f):null;case 19:return oe(lo),null;case 4:return Re(),null;case 10:return Yc(f.type),null;case 22:case 23:return eu(f),nh(),A!==null&&oe(oA),A=f.flags,A&65536?(f.flags=A&-65537|128,f):null;case 24:return Yc(ir),null;case 25:return null;default:return null}}function kx(A,f){switch(im(f),f.tag){case 3:Yc(ir),Re();break;case 26:case 27:case 5:Pe(f);break;case 4:Re();break;case 13:eu(f);break;case 19:oe(lo);break;case 10:Yc(f.type);break;case 22:case 23:eu(f),nh(),A!==null&&oe(oA);break;case 24:Yc(ir)}}function ou(A,f){try{var y=f.updateQueue,B=y!==null?y.lastEffect:null;if(B!==null){var R=B.next;y=R;do{if((y.tag&A)===A){B=void 0;var L=y.create,ie=y.inst;B=L(),ie.destroy=B}y=y.next}while(y!==R)}}catch(de){Ji(f,f.return,de)}}function pc(A,f,y){try{var B=f.updateQueue,R=B!==null?B.lastEffect:null;if(R!==null){var L=R.next;B=L;do{if((B.tag&A)===A){var ie=B.inst,de=ie.destroy;if(de!==void 0){ie.destroy=void 0,R=f;var Se=y,ze=de;try{ze()}catch(it){Ji(R,Se,it)}}}B=B.next}while(B!==L)}}catch(it){Ji(f,f.return,it)}}function il(A){var f=A.updateQueue;if(f!==null){var y=A.stateNode;try{ih(f,y)}catch(B){Ji(A,A.return,B)}}}function su(A,f,y){y.props=co(A.type,A.memoizedProps),y.state=A.memoizedState;try{y.componentWillUnmount()}catch(B){Ji(A,f,B)}}function fr(A,f){try{var y=A.ref;if(y!==null){switch(A.tag){case 26:case 27:case 5:var B=A.stateNode;break;case 30:B=A.stateNode;break;default:B=A.stateNode}typeof y=="function"?A.refCleanup=y(B):y.current=B}}catch(R){Ji(A,f,R)}}function $o(A,f){var y=A.ref,B=A.refCleanup;if(y!==null)if(typeof B=="function")try{B()}catch(R){Ji(A,f,R)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(R){Ji(A,f,R)}else y.current=null}function Ii(A){var f=A.type,y=A.memoizedProps,B=A.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":y.autoFocus&&B.focus();break e;case"img":y.src?B.src=y.src:y.srcSet&&(B.srcset=y.srcSet)}}catch(R){Ji(A,A.return,R)}}function Fn(A,f,y){try{var B=A.stateNode;Zre(B,A.type,y,f),B[ci]=f}catch(R){Ji(A,A.return,R)}}function Hr(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&of(A.type)||A.tag===4}function tf(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||Hr(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&of(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function fA(A,f,y){var B=A.tag;if(B===5||B===6)A=A.stateNode,f?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(A,f):(f=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,f.appendChild(A),y=y._reactRootContainer,y!=null||f.onclick!==null||(f.onclick=QE));else if(B!==4&&(B===27&&of(A.type)&&(y=A.stateNode,f=null),A=A.child,A!==null))for(fA(A,f,y),A=A.sibling;A!==null;)fA(A,f,y),A=A.sibling}function au(A,f,y){var B=A.tag;if(B===5||B===6)A=A.stateNode,f?y.insertBefore(A,f):y.appendChild(A);else if(B!==4&&(B===27&&of(A.type)&&(y=A.stateNode),A=A.child,A!==null))for(au(A,f,y),A=A.sibling;A!==null;)au(A,f,y),A=A.sibling}function Bm(A){var f=A.stateNode,y=A.memoizedProps;try{for(var B=A.type,R=f.attributes;R.length;)f.removeAttributeNode(R[0]);Ks(f,B,y),f[sn]=A,f[ci]=y}catch(L){Ji(A,A.return,L)}}var nl=!1,Hn=!1,Fx=!1,g0=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function Cd(A,f){if(A=A.containerInfo,_F=WE,A=Xw(A),jg(A)){if("selectionStart"in A)var y={start:A.selectionStart,end:A.selectionEnd};else e:{y=(y=A.ownerDocument)&&y.defaultView||window;var B=y.getSelection&&y.getSelection();if(B&&B.rangeCount!==0){y=B.anchorNode;var R=B.anchorOffset,L=B.focusNode;B=B.focusOffset;try{y.nodeType,L.nodeType}catch{y=null;break e}var ie=0,de=-1,Se=-1,ze=0,it=0,at=A,$e=null;t:for(;;){for(var Ye;at!==y||R!==0&&at.nodeType!==3||(de=ie+R),at!==L||B!==0&&at.nodeType!==3||(Se=ie+B),at.nodeType===3&&(ie+=at.nodeValue.length),(Ye=at.firstChild)!==null;)$e=at,at=Ye;for(;;){if(at===A)break t;if($e===y&&++ze===R&&(de=ie),$e===L&&++it===B&&(Se=ie),(Ye=at.nextSibling)!==null)break;at=$e,$e=at.parentNode}at=Ye}y=de===-1||Se===-1?null:{start:de,end:Se}}else y=null}y=y||{start:0,end:0}}else y=null;for(vF={focusedElem:A,selectionRange:y},WE=!1,Dn=f;Dn!==null;)if(f=Dn,A=f.child,(f.subtreeFlags&1024)!==0&&A!==null)A.return=f,Dn=A;else for(;Dn!==null;){switch(f=Dn,L=f.alternate,A=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((A&1024)!==0&&L!==null){A=void 0,y=f,R=L.memoizedProps,L=L.memoizedState,B=y.stateNode;try{var hi=co(y.type,R,y.elementType===y.type);A=B.getSnapshotBeforeUpdate(hi,L),B.__reactInternalSnapshotBeforeUpdate=A}catch(ti){Ji(y,y.return,ti)}}break;case 3:if((A&1024)!==0){if(A=f.stateNode.containerInfo,y=A.nodeType,y===9)wF(A);else if(y===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":wF(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(n(163))}if(A=f.sibling,A!==null){A.return=f.return,Dn=A;break}Dn=f.return}}function ah(A,f,y){var B=y.flags;switch(y.tag){case 0:case 11:case 15:ch(A,y),B&4&&ou(5,y);break;case 1:if(ch(A,y),B&4)if(A=y.stateNode,f===null)try{A.componentDidMount()}catch(ie){Ji(y,y.return,ie)}else{var R=co(y.type,f.memoizedProps);f=f.memoizedState;try{A.componentDidUpdate(R,f,A.__reactInternalSnapshotBeforeUpdate)}catch(ie){Ji(y,y.return,ie)}}B&64&&il(y),B&512&&fr(y,y.return);break;case 3:if(ch(A,y),B&64&&(A=y.updateQueue,A!==null)){if(f=null,y.child!==null)switch(y.child.tag){case 27:case 5:f=y.child.stateNode;break;case 1:f=y.child.stateNode}try{ih(A,f)}catch(ie){Ji(y,y.return,ie)}}break;case 27:f===null&&B&4&&Bm(y);case 26:case 5:ch(A,y),f===null&&B&4&&Ii(y),B&512&&fr(y,y.return);break;case 12:ch(A,y);break;case 13:ch(A,y),B&4&&m0(A,y),B&64&&(A=y.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(y=Hre.bind(null,y),ooe(A,y))));break;case 22:if(B=y.memoizedState!==null||nl,!B){f=f!==null&&f.memoizedState!==null||Hn,R=nl;var L=Hn;nl=B,(Hn=f)&&!L?ms(A,y,(y.subtreeFlags&8772)!==0):ch(A,y),nl=R,Hn=L}break;case 30:break;default:ch(A,y)}}function gA(A){var f=A.alternate;f!==null&&(A.alternate=null,gA(f)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(f=A.stateNode,f!==null&&Rl(f)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var zn=null,js=!1;function lu(A,f,y){for(y=y.child;y!==null;)uo(A,f,y),y=y.sibling}function uo(A,f,y){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(ye,y)}catch{}switch(y.tag){case 26:Hn||$o(y,f),lu(A,f,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:Hn||$o(y,f);var B=zn,R=js;of(y.type)&&(zn=y.stateNode,js=!1),lu(A,f,y),Nx(y.stateNode),zn=B,js=R;break;case 5:Hn||$o(y,f);case 6:if(B=zn,R=js,zn=null,lu(A,f,y),zn=B,js=R,zn!==null)if(js)try{(zn.nodeType===9?zn.body:zn.nodeName==="HTML"?zn.ownerDocument.body:zn).removeChild(y.stateNode)}catch(L){Ji(y,f,L)}else try{zn.removeChild(y.stateNode)}catch(L){Ji(y,f,L)}break;case 18:zn!==null&&(js?(A=zn,LH(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,y.stateNode),Kx(A)):LH(zn,y.stateNode));break;case 4:B=zn,R=js,zn=y.stateNode.containerInfo,js=!0,lu(A,f,y),zn=B,js=R;break;case 0:case 11:case 14:case 15:Hn||pc(2,y,f),Hn||pc(4,y,f),lu(A,f,y);break;case 1:Hn||($o(y,f),B=y.stateNode,typeof B.componentWillUnmount=="function"&&su(y,f,B)),lu(A,f,y);break;case 21:lu(A,f,y);break;case 22:Hn=(B=Hn)||y.memoizedState!==null,lu(A,f,y),Hn=B;break;default:lu(A,f,y)}}function m0(A,f){if(f.memoizedState===null&&(A=f.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{Kx(A)}catch(y){Ji(f,f.return,y)}}function _0(A){switch(A.tag){case 13:case 19:var f=A.stateNode;return f===null&&(f=A.stateNode=new g0),f;case 22:return A=A.stateNode,f=A._retryCache,f===null&&(f=A._retryCache=new g0),f;default:throw Error(n(435,A.tag))}}function lh(A,f){var y=_0(A);f.forEach(function(B){var R=zre.bind(null,A,B);y.has(B)||(y.add(B),B.then(R,R))})}function zr(A,f){var y=f.deletions;if(y!==null)for(var B=0;B<y.length;B++){var R=y[B],L=A,ie=f,de=ie;e:for(;de!==null;){switch(de.tag){case 27:if(of(de.type)){zn=de.stateNode,js=!1;break e}break;case 5:zn=de.stateNode,js=!1;break e;case 3:case 4:zn=de.stateNode.containerInfo,js=!0;break e}de=de.return}if(zn===null)throw Error(n(160));uo(L,ie,R),zn=null,js=!1,L=R.alternate,L!==null&&(L.return=null),R.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)FE(f,A),f=f.sibling}var fc=null;function FE(A,f){var y=A.alternate,B=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:zr(f,A),rl(A),B&4&&(pc(3,A,A.return),ou(3,A),pc(5,A,A.return));break;case 1:zr(f,A),rl(A),B&512&&(Hn||y===null||$o(y,y.return)),B&64&&nl&&(A=A.updateQueue,A!==null&&(B=A.callbacks,B!==null&&(y=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=y===null?B:y.concat(B))));break;case 26:var R=fc;if(zr(f,A),rl(A),B&512&&(Hn||y===null||$o(y,y.return)),B&4){var L=y!==null?y.memoizedState:null;if(B=A.memoizedState,y===null)if(B===null)if(A.stateNode===null){e:{B=A.type,y=A.memoizedProps,R=R.ownerDocument||R;t:switch(B){case"title":L=R.getElementsByTagName("title")[0],(!L||L[oa]||L[sn]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=R.createElement(B),R.head.insertBefore(L,R.querySelector("head > title"))),Ks(L,B,y),L[sn]=A,wt(L),B=L;break e;case"link":var ie=qH("link","href",R).get(B+(y.href||""));if(ie){for(var de=0;de<ie.length;de++)if(L=ie[de],L.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&L.getAttribute("rel")===(y.rel==null?null:y.rel)&&L.getAttribute("title")===(y.title==null?null:y.title)&&L.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){ie.splice(de,1);break t}}L=R.createElement(B),Ks(L,B,y),R.head.appendChild(L);break;case"meta":if(ie=qH("meta","content",R).get(B+(y.content||""))){for(de=0;de<ie.length;de++)if(L=ie[de],L.getAttribute("content")===(y.content==null?null:""+y.content)&&L.getAttribute("name")===(y.name==null?null:y.name)&&L.getAttribute("property")===(y.property==null?null:y.property)&&L.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&L.getAttribute("charset")===(y.charSet==null?null:y.charSet)){ie.splice(de,1);break t}}L=R.createElement(B),Ks(L,B,y),R.head.appendChild(L);break;default:throw Error(n(468,B))}L[sn]=A,wt(L),B=L}A.stateNode=B}else WH(R,A.type,A.stateNode);else A.stateNode=VH(R,B,A.memoizedProps);else L!==B?(L===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):L.count--,B===null?WH(R,A.type,A.stateNode):VH(R,B,A.memoizedProps)):B===null&&A.stateNode!==null&&Fn(A,A.memoizedProps,y.memoizedProps)}break;case 27:zr(f,A),rl(A),B&512&&(Hn||y===null||$o(y,y.return)),y!==null&&B&4&&Fn(A,A.memoizedProps,y.memoizedProps);break;case 5:if(zr(f,A),rl(A),B&512&&(Hn||y===null||$o(y,y.return)),A.flags&32){R=A.stateNode;try{cs(R,"")}catch(Ye){Ji(A,A.return,Ye)}}B&4&&A.stateNode!=null&&(R=A.memoizedProps,Fn(A,R,y!==null?y.memoizedProps:R)),B&1024&&(Fx=!0);break;case 6:if(zr(f,A),rl(A),B&4){if(A.stateNode===null)throw Error(n(162));B=A.memoizedProps,y=A.stateNode;try{y.nodeValue=B}catch(Ye){Ji(A,A.return,Ye)}}break;case 3:if(GE=null,R=fc,fc=HE(f.containerInfo),zr(f,A),fc=R,rl(A),B&4&&y!==null&&y.memoizedState.isDehydrated)try{Kx(f.containerInfo)}catch(Ye){Ji(A,A.return,Ye)}Fx&&(Fx=!1,gr(A));break;case 4:B=fc,fc=HE(A.stateNode.containerInfo),zr(f,A),rl(A),fc=B;break;case 12:zr(f,A),rl(A);break;case 13:zr(f,A),rl(A),A.child.flags&8192&&A.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Mm=z()),B&4&&(B=A.updateQueue,B!==null&&(A.updateQueue=null,lh(A,B)));break;case 22:R=A.memoizedState!==null;var Se=y!==null&&y.memoizedState!==null,ze=nl,it=Hn;if(nl=ze||R,Hn=it||Se,zr(f,A),Hn=it,nl=ze,rl(A),B&8192)e:for(f=A.stateNode,f._visibility=R?f._visibility&-2:f._visibility|1,R&&(y===null||Se||nl||Hn||Ql(A)),y=null,f=A;;){if(f.tag===5||f.tag===26){if(y===null){Se=y=f;try{if(L=Se.stateNode,R)ie=L.style,typeof ie.setProperty=="function"?ie.setProperty("display","none","important"):ie.display="none";else{de=Se.stateNode;var at=Se.memoizedProps.style,$e=at!=null&&at.hasOwnProperty("display")?at.display:null;de.style.display=$e==null||typeof $e=="boolean"?"":(""+$e).trim()}}catch(Ye){Ji(Se,Se.return,Ye)}}}else if(f.tag===6){if(y===null){Se=f;try{Se.stateNode.nodeValue=R?"":Se.memoizedProps}catch(Ye){Ji(Se,Se.return,Ye)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===A)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===A)break e;for(;f.sibling===null;){if(f.return===null||f.return===A)break e;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}B&4&&(B=A.updateQueue,B!==null&&(y=B.retryQueue,y!==null&&(B.retryQueue=null,lh(A,y))));break;case 19:zr(f,A),rl(A),B&4&&(B=A.updateQueue,B!==null&&(A.updateQueue=null,lh(A,B)));break;case 30:break;case 21:break;default:zr(f,A),rl(A)}}function rl(A){var f=A.flags;if(f&2){try{for(var y,B=A.return;B!==null;){if(Hr(B)){y=B;break}B=B.return}if(y==null)throw Error(n(160));switch(y.tag){case 27:var R=y.stateNode,L=tf(A);au(A,L,R);break;case 5:var ie=y.stateNode;y.flags&32&&(cs(ie,""),y.flags&=-33);var de=tf(A);au(A,de,ie);break;case 3:case 4:var Se=y.stateNode.containerInfo,ze=tf(A);fA(A,ze,Se);break;default:throw Error(n(161))}}catch(it){Ji(A,A.return,it)}A.flags&=-3}f&4096&&(A.flags&=-4097)}function gr(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var f=A;gr(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),A=A.sibling}}function ch(A,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)ah(A,f.alternate,f),f=f.sibling}function Ql(A){for(A=A.child;A!==null;){var f=A;switch(f.tag){case 0:case 11:case 14:case 15:pc(4,f,f.return),Ql(f);break;case 1:$o(f,f.return);var y=f.stateNode;typeof y.componentWillUnmount=="function"&&su(f,f.return,y),Ql(f);break;case 27:Nx(f.stateNode);case 26:case 5:$o(f,f.return),Ql(f);break;case 22:f.memoizedState===null&&Ql(f);break;case 30:Ql(f);break;default:Ql(f)}A=A.sibling}}function ms(A,f,y){for(y=y&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var B=f.alternate,R=A,L=f,ie=L.flags;switch(L.tag){case 0:case 11:case 15:ms(R,L,y),ou(4,L);break;case 1:if(ms(R,L,y),B=L,R=B.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(ze){Ji(B,B.return,ze)}if(B=L,R=B.updateQueue,R!==null){var de=B.stateNode;try{var Se=R.shared.hiddenCallbacks;if(Se!==null)for(R.shared.hiddenCallbacks=null,R=0;R<Se.length;R++)qo(Se[R],de)}catch(ze){Ji(B,B.return,ze)}}y&&ie&64&&il(L),fr(L,L.return);break;case 27:Bm(L);case 26:case 5:ms(R,L,y),y&&B===null&&ie&4&&Ii(L),fr(L,L.return);break;case 12:ms(R,L,y);break;case 13:ms(R,L,y),y&&ie&4&&m0(R,L);break;case 22:L.memoizedState===null&&ms(R,L,y),fr(L,L.return);break;case 30:break;default:ms(R,L,y)}f=f.sibling}}function nr(A,f){var y=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(y=A.memoizedState.cachePool.pool),A=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(A=f.memoizedState.cachePool.pool),A!==y&&(A!=null&&A.refCount++,y!=null&&ud(y))}function Sm(A,f){A=null,f.alternate!==null&&(A=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==A&&(f.refCount++,A!=null&&ud(A))}function gc(A,f,y,B){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)ho(A,f,y,B),f=f.sibling}function ho(A,f,y,B){var R=f.flags;switch(f.tag){case 0:case 11:case 15:gc(A,f,y,B),R&2048&&ou(9,f);break;case 1:gc(A,f,y,B);break;case 3:gc(A,f,y,B),R&2048&&(A=null,f.alternate!==null&&(A=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==A&&(f.refCount++,A!=null&&ud(A)));break;case 12:if(R&2048){gc(A,f,y,B),A=f.stateNode;try{var L=f.memoizedProps,ie=L.id,de=L.onPostCommit;typeof de=="function"&&de(ie,f.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(Se){Ji(f,f.return,Se)}}else gc(A,f,y,B);break;case 13:gc(A,f,y,B);break;case 23:break;case 22:L=f.stateNode,ie=f.alternate,f.memoizedState!==null?L._visibility&2?gc(A,f,y,B):Er(A,f):L._visibility&2?gc(A,f,y,B):(L._visibility|=2,Bd(A,f,y,B,(f.subtreeFlags&10256)!==0)),R&2048&&nr(ie,f);break;case 24:gc(A,f,y,B),R&2048&&Sm(f.alternate,f);break;default:gc(A,f,y,B)}}function Bd(A,f,y,B,R){for(R=R&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var L=A,ie=f,de=y,Se=B,ze=ie.flags;switch(ie.tag){case 0:case 11:case 15:Bd(L,ie,de,Se,R),ou(8,ie);break;case 23:break;case 22:var it=ie.stateNode;ie.memoizedState!==null?it._visibility&2?Bd(L,ie,de,Se,R):Er(L,ie):(it._visibility|=2,Bd(L,ie,de,Se,R)),R&&ze&2048&&nr(ie.alternate,ie);break;case 24:Bd(L,ie,de,Se,R),R&&ze&2048&&Sm(ie.alternate,ie);break;default:Bd(L,ie,de,Se,R)}f=f.sibling}}function Er(A,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var y=A,B=f,R=B.flags;switch(B.tag){case 22:Er(y,B),R&2048&&nr(B.alternate,B);break;case 24:Er(y,B),R&2048&&Sm(B.alternate,B);break;default:Er(y,B)}f=f.sibling}}var _s=8192;function vs(A){if(A.subtreeFlags&_s)for(A=A.child;A!==null;)Sd(A),A=A.sibling}function Sd(A){switch(A.tag){case 26:vs(A),A.flags&_s&&A.memoizedState!==null&&_oe(fc,A.memoizedState,A.memoizedProps);break;case 5:vs(A);break;case 3:case 4:var f=fc;fc=HE(A.stateNode.containerInfo),vs(A),fc=f;break;case 22:A.memoizedState===null&&(f=A.alternate,f!==null&&f.memoizedState!==null?(f=_s,_s=16777216,vs(A),_s=f):vs(A));break;default:vs(A)}}function DE(A){var f=A.alternate;if(f!==null&&(A=f.child,A!==null)){f.child=null;do f=A.sibling,A.sibling=null,A=f;while(A!==null)}}function mA(A){var f=A.deletions;if((A.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var B=f[y];Dn=B,Tm(B,A)}DE(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)Em(A),A=A.sibling}function Em(A){switch(A.tag){case 0:case 11:case 15:mA(A),A.flags&2048&&pc(9,A,A.return);break;case 3:mA(A);break;case 12:mA(A);break;case 22:var f=A.stateNode;A.memoizedState!==null&&f._visibility&2&&(A.return===null||A.return.tag!==13)?(f._visibility&=-3,Ed(A)):mA(A);break;default:mA(A)}}function Ed(A){var f=A.deletions;if((A.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var B=f[y];Dn=B,Tm(B,A)}DE(A)}for(A=A.child;A!==null;){switch(f=A,f.tag){case 0:case 11:case 15:pc(8,f,f.return),Ed(f);break;case 22:y=f.stateNode,y._visibility&2&&(y._visibility&=-3,Ed(f));break;default:Ed(f)}A=A.sibling}}function Tm(A,f){for(;Dn!==null;){var y=Dn;switch(y.tag){case 0:case 11:case 15:pc(8,y,f);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var B=y.memoizedState.cachePool.pool;B!=null&&B.refCount++}break;case 24:ud(y.memoizedState.cache)}if(B=y.child,B!==null)B.return=y,Dn=B;else e:for(y=A;Dn!==null;){B=Dn;var R=B.sibling,L=B.return;if(gA(B),B===y){Dn=null;break e}if(R!==null){R.return=L,Dn=R;break e}Dn=L}}}var v0={getCacheForType:function(A){var f=hs(ir),y=f.data.get(A);return y===void 0&&(y=A(),f.data.set(A,y)),y}},Im=typeof WeakMap=="function"?WeakMap:Map,vn=0,jt=null,Lt=null,kt=0,Ot=0,Gi=null,eo=!1,wa=!1,_A=!1,mc=0,pn=0,bn=0,xa=0,uh=0,Ca=0,Xo=0,cu=null,Mo=null,Nl=!1,Mm=0,nf=1/0,vA=null,_c=null,rr=0,vc=null,Hl=null,uu=0,Rm=0,km=null,rf=null,Td=0,m=null;function w(){if((vn&2)!==0&&kt!==0)return kt&-kt;if(V.T!==null){var A=Ya;return A!==0?A:hF()}return $t()}function T(){Ca===0&&(Ca=(kt&536870912)===0||An?Ee():536870912);var A=qs.current;return A!==null&&(A.flags|=32),Ca}function D(A,f,y){(A===jt&&(Ot===2||Ot===9)||A.cancelPendingCommit!==null)&&(lt(A,0),be(A,kt,Ca,!1)),je(A,y),((vn&2)===0||A!==jt)&&(A===jt&&((vn&2)===0&&(xa|=y),pn===4&&be(A,kt,Ca,!1)),bA(A))}function O(A,f,y){if((vn&6)!==0)throw Error(n(327));var B=!y&&(f&124)===0&&(f&A.expiredLanes)===0||Tt(A,f),R=B?tt(A,f):Ze(A,f,!0),L=B;do{if(R===0){wa&&!B&&be(A,f,0,!1);break}else{if(y=A.current.alternate,L&&!fe(y)){R=Ze(A,f,!1),L=!1;continue}if(R===2){if(L=f,A.errorRecoveryDisabledLanes&L)var ie=0;else ie=A.pendingLanes&-536870913,ie=ie!==0?ie:ie&536870912?536870912:0;if(ie!==0){f=ie;e:{var de=A;R=cu;var Se=de.current.memoizedState.isDehydrated;if(Se&&(lt(de,ie).flags|=256),ie=Ze(de,ie,!1),ie!==2){if(_A&&!Se){de.errorRecoveryDisabledLanes|=L,xa|=L,R=4;break e}L=Mo,Mo=R,L!==null&&(Mo===null?Mo=L:Mo.push.apply(Mo,L))}R=ie}if(L=!1,R!==2)continue}}if(R===1){lt(A,0),be(A,f,0,!0);break}e:{switch(B=A,L=R,L){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:be(B,f,Ca,!eo);break e;case 2:Mo=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(R=Mm+300-z(),10<R)){if(be(B,f,Ca,!eo),Ut(B,0,!0)!==0)break e;B.timeoutHandle=UH(K.bind(null,B,y,Mo,vA,Nl,f,Ca,xa,Xo,eo,L,2,-0,0),R);break e}K(B,y,Mo,vA,Nl,f,Ca,xa,Xo,eo,L,0,-0,0)}}break}while(!0);bA(A)}function K(A,f,y,B,R,L,ie,de,Se,ze,it,at,$e,Ye){if(A.timeoutHandle=-1,at=f.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(Gx={stylesheets:null,count:0,unsuspend:moe},Sd(f),at=voe(),at!==null)){A.cancelPendingCommit=at(fn.bind(null,A,f,L,y,B,R,ie,de,Se,it,1,$e,Ye)),be(A,L,ie,!ze);return}fn(A,f,L,y,B,R,ie,de,Se)}function fe(A){for(var f=A;;){var y=f.tag;if((y===0||y===11||y===15)&&f.flags&16384&&(y=f.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var B=0;B<y.length;B++){var R=y[B],L=R.getSnapshot;R=R.value;try{if(!pa(L(),R))return!1}catch{return!1}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===A)break;for(;f.sibling===null;){if(f.return===null||f.return===A)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function be(A,f,y,B){f&=~uh,f&=~xa,A.suspendedLanes|=f,A.pingedLanes&=~f,B&&(A.warmLanes|=f),B=A.expirationTimes;for(var R=f;0<R;){var L=31-Ge(R),ie=1<<L;B[L]=-1,R&=~ie}y!==0&&dt(A,y,f)}function Me(){return(vn&6)===0?(Lx(0),!1):!0}function Je(){if(Lt!==null){if(Ot===0)var A=Lt.return;else A=Lt,Xc=nA=null,dx(A),gd=null,md=0,A=Lt;for(;A!==null;)kx(A.alternate,A),A=A.return;Lt=null}}function lt(A,f){var y=A.timeoutHandle;y!==-1&&(A.timeoutHandle=-1,eoe(y)),y=A.cancelPendingCommit,y!==null&&(A.cancelPendingCommit=null,y()),Je(),jt=A,Lt=y=Wc(A.current,null),kt=f,Ot=0,Gi=null,eo=!1,wa=Tt(A,f),_A=!1,Xo=Ca=uh=xa=bn=pn=0,Mo=cu=null,Nl=!1,(f&8)!==0&&(f|=f&32);var B=A.entangledLanes;if(B!==0)for(A=A.entanglements,B&=f;0<B;){var R=31-Ge(B),L=1<<R;f|=A[R],B&=~L}return mc=f,Xg(),y}function Bt(A,f){Ui=null,V.H=_m,f===ei||f===hd?(f=$S(),Ot=3):f===Jv?(f=$S(),Ot=4):Ot=f===iu?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Gi=f,Lt===null&&(pn=1,bd(A,ga(f,A.current)))}function gt(){var A=V.H;return V.H=_m,A===null?_m:A}function ui(){var A=V.A;return V.A=v0,A}function yi(){pn=4,eo||(kt&4194048)!==kt&&qs.current!==null||(wa=!0),(bn&134217727)===0&&(xa&134217727)===0||jt===null||be(jt,kt,Ca,!1)}function Ze(A,f,y){var B=vn;vn|=2;var R=gt(),L=ui();(jt!==A||kt!==f)&&(vA=null,lt(A,f)),f=!1;var ie=pn;e:do try{if(Ot!==0&&Lt!==null){var de=Lt,Se=Gi;switch(Ot){case 8:Je(),ie=6;break e;case 3:case 2:case 9:case 6:qs.current===null&&(f=!0);var ze=Ot;if(Ot=0,Gi=null,Pi(A,de,Se,ze),y&&wa){ie=0;break e}break;default:ze=Ot,Ot=0,Gi=null,Pi(A,de,Se,ze)}}qe(),ie=pn;break}catch(it){Bt(A,it)}while(!0);return f&&A.shellSuspendCounter++,Xc=nA=null,vn=B,V.H=R,V.A=L,Lt===null&&(jt=null,kt=0,Xg()),ie}function qe(){for(;Lt!==null;)wi(Lt)}function tt(A,f){var y=vn;vn|=2;var B=gt(),R=ui();jt!==A||kt!==f?(vA=null,nf=z()+500,lt(A,f)):wa=Tt(A,f);e:do try{if(Ot!==0&&Lt!==null){f=Lt;var L=Gi;t:switch(Ot){case 1:Ot=0,Gi=null,Pi(A,f,L,1);break;case 2:case 9:if(KS(L)){Ot=0,Gi=null,ni(f);break}f=function(){Ot!==2&&Ot!==9||jt!==A||(Ot=7),bA(A)},L.then(f,f);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:KS(L)?(Ot=0,Gi=null,ni(f)):(Ot=0,Gi=null,Pi(A,f,L,7));break;case 5:var ie=null;switch(Lt.tag){case 26:ie=Lt.memoizedState;case 5:case 27:var de=Lt;if(!ie||jH(ie)){Ot=0,Gi=null;var Se=de.sibling;if(Se!==null)Lt=Se;else{var ze=de.return;ze!==null?(Lt=ze,Yt(ze)):Lt=null}break t}}Ot=0,Gi=null,Pi(A,f,L,5);break;case 6:Ot=0,Gi=null,Pi(A,f,L,6);break;case 8:Je(),pn=6;break e;default:throw Error(n(462))}}Ct();break}catch(it){Bt(A,it)}while(!0);return Xc=nA=null,V.H=B,V.A=R,vn=y,Lt!==null?0:(jt=null,kt=0,Xg(),pn)}function Ct(){for(;Lt!==null&&!le();)wi(Lt)}function wi(A){var f=kE(A.alternate,A,mc);A.memoizedProps=A.pendingProps,f===null?Yt(A):Lt=f}function ni(A){var f=A,y=f.alternate;switch(f.tag){case 15:case 0:f=d0(y,f,f.pendingProps,f.type,void 0,kt);break;case 11:f=d0(y,f,f.pendingProps,f.type.render,f.ref,kt);break;case 5:dx(f);default:kx(y,f),f=Lt=ex(f,mc),f=kE(y,f,mc)}A.memoizedProps=A.pendingProps,f===null?Yt(A):Lt=f}function Pi(A,f,y,B){Xc=nA=null,dx(f),gd=null,md=0;var R=f.return;try{if(tu(A,R,f,y,kt)){pn=1,bd(A,ga(y,A.current)),Lt=null;return}}catch(L){if(R!==null)throw Lt=R,L;pn=1,bd(A,ga(y,A.current)),Lt=null;return}f.flags&32768?(An||B===1?A=!0:wa||(kt&536870912)!==0?A=!1:(eo=A=!0,(B===2||B===9||B===3||B===6)&&(B=qs.current,B!==null&&B.tag===13&&(B.flags|=16384))),yn(f,A)):Yt(f)}function Yt(A){var f=A;do{if((f.flags&32768)!==0){yn(f,eo);return}A=f.return;var y=Cm(f.alternate,f,mc);if(y!==null){Lt=y;return}if(f=f.sibling,f!==null){Lt=f;return}Lt=f=A}while(f!==null);pn===0&&(pn=5)}function yn(A,f){do{var y=xd(A.alternate,A);if(y!==null){y.flags&=32767,Lt=y;return}if(y=A.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!f&&(A=A.sibling,A!==null)){Lt=A;return}Lt=A=y}while(A!==null);pn=6,Lt=null}function fn(A,f,y,B,R,L,ie,de,Se){A.cancelPendingCommit=null;do ji();while(rr!==0);if((vn&6)!==0)throw Error(n(327));if(f!==null){if(f===A.current)throw Error(n(177));if(L=f.lanes|f.childLanes,L|=Hs,ft(A,y,L,ie,de,Se),A===jt&&(Lt=jt=null,kt=0),Hl=f,vc=A,uu=y,Rm=L,km=R,rf=B,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,Gre(X,function(){return bc(),null})):(A.callbackNode=null,A.callbackPriority=0),B=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||B){B=V.T,V.T=null,R=Y.p,Y.p=2,ie=vn,vn|=4;try{Cd(A,f,y)}finally{vn=ie,Y.p=R,V.T=B}}rr=1,gn(),ai(),Li()}}function gn(){if(rr===1){rr=0;var A=vc,f=Hl,y=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||y){y=V.T,V.T=null;var B=Y.p;Y.p=2;var R=vn;vn|=4;try{FE(f,A);var L=vF,ie=Xw(A.containerInfo),de=L.focusedElem,Se=L.selectionRange;if(ie!==de&&de&&de.ownerDocument&&Hv(de.ownerDocument.documentElement,de)){if(Se!==null&&jg(de)){var ze=Se.start,it=Se.end;if(it===void 0&&(it=ze),"selectionStart"in de)de.selectionStart=ze,de.selectionEnd=Math.min(it,de.value.length);else{var at=de.ownerDocument||document,$e=at&&at.defaultView||window;if($e.getSelection){var Ye=$e.getSelection(),hi=de.textContent.length,ti=Math.min(Se.start,hi),Vn=Se.end===void 0?ti:Math.min(Se.end,hi);!Ye.extend&&ti>Vn&&(ie=Vn,Vn=ti,ti=ie);var Qe=Dl(de,ti),Fe=Dl(de,Vn);if(Qe&&Fe&&(Ye.rangeCount!==1||Ye.anchorNode!==Qe.node||Ye.anchorOffset!==Qe.offset||Ye.focusNode!==Fe.node||Ye.focusOffset!==Fe.offset)){var He=at.createRange();He.setStart(Qe.node,Qe.offset),Ye.removeAllRanges(),ti>Vn?(Ye.addRange(He),Ye.extend(Fe.node,Fe.offset)):(He.setEnd(Fe.node,Fe.offset),Ye.addRange(He))}}}}for(at=[],Ye=de;Ye=Ye.parentNode;)Ye.nodeType===1&&at.push({element:Ye,left:Ye.scrollLeft,top:Ye.scrollTop});for(typeof de.focus=="function"&&de.focus(),de=0;de<at.length;de++){var ot=at[de];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}WE=!!_F,vF=_F=null}finally{vn=R,Y.p=B,V.T=y}}A.current=f,rr=2}}function ai(){if(rr===2){rr=0;var A=vc,f=Hl,y=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||y){y=V.T,V.T=null;var B=Y.p;Y.p=2;var R=vn;vn|=4;try{ah(A,f.alternate,f)}finally{vn=R,Y.p=B,V.T=y}}rr=3}}function Li(){if(rr===4||rr===3){rr=0,U();var A=vc,f=Hl,y=uu,B=rf;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?rr=5:(rr=0,Hl=vc=null,or(A,A.pendingLanes));var R=A.pendingLanes;if(R===0&&(_c=null),gi(y),f=f.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(ye,f,void 0,(f.current.flags&128)===128)}catch{}if(B!==null){f=V.T,R=Y.p,Y.p=2,V.T=null;try{for(var L=A.onRecoverableError,ie=0;ie<B.length;ie++){var de=B[ie];L(de.value,{componentStack:de.stack})}}finally{V.T=f,Y.p=R}}(uu&3)!==0&&ji(),bA(A),R=A.pendingLanes,(y&4194090)!==0&&(R&42)!==0?A===m?Td++:(Td=0,m=A):Td=0,Lx(0)}}function or(A,f){(A.pooledCacheLanes&=f)===0&&(f=A.pooledCache,f!=null&&(A.pooledCache=null,ud(f)))}function ji(A){return gn(),ai(),Li(),bc()}function bc(){if(rr!==5)return!1;var A=vc,f=Rm;Rm=0;var y=gi(uu),B=V.T,R=Y.p;try{Y.p=32>y?32:y,V.T=null,y=km,km=null;var L=vc,ie=uu;if(rr=0,Hl=vc=null,uu=0,(vn&6)!==0)throw Error(n(331));var de=vn;if(vn|=4,Em(L.current),ho(L,L.current,ie,y),vn=de,Lx(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(ye,L)}catch{}return!0}finally{Y.p=R,V.T=B,or(A,f)}}function Fm(A,f,y){f=ga(y,f),f=ba(A.stateNode,f,2),A=dc(A,f,2),A!==null&&(je(A,2),bA(A))}function Ji(A,f,y){if(A.tag===3)Fm(A,A,y);else for(;f!==null;){if(f.tag===3){Fm(f,A,y);break}else if(f.tag===1){var B=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof B.componentDidCatch=="function"&&(_c===null||!_c.has(B))){A=ga(y,A),y=Ja(2),B=dc(f,y,2),B!==null&&(hA(y,B,f,A),je(B,2),bA(B));break}}f=f.return}}function Dx(A,f,y){var B=A.pingCache;if(B===null){B=A.pingCache=new Im;var R=new Set;B.set(f,R)}else R=B.get(f),R===void 0&&(R=new Set,B.set(f,R));R.has(y)||(_A=!0,R.add(y),A=Ux.bind(null,A,f,y),f.then(A,A))}function Ux(A,f,y){var B=A.pingCache;B!==null&&B.delete(f),A.pingedLanes|=A.suspendedLanes&y,A.warmLanes&=~y,jt===A&&(kt&y)===y&&(pn===4||pn===3&&(kt&62914560)===kt&&300>z()-Mm?(vn&2)===0&&lt(A,0):uh|=y,Xo===kt&&(Xo=0)),bA(A)}function Px(A,f){f===0&&(f=pt()),A=Jh(A,f),A!==null&&(je(A,f),bA(A))}function Hre(A){var f=A.memoizedState,y=0;f!==null&&(y=f.retryLane),Px(A,y)}function zre(A,f){var y=0;switch(A.tag){case 13:var B=A.stateNode,R=A.memoizedState;R!==null&&(y=R.retryLane);break;case 19:B=A.stateNode;break;case 22:B=A.stateNode._retryCache;break;default:throw Error(n(314))}B!==null&&B.delete(f),Px(A,y)}function Gre(A,f){return te(A,f)}var UE=null,b0=null,cF=!1,PE=!1,uF=!1,Dm=0;function bA(A){A!==b0&&A.next===null&&(b0===null?UE=b0=A:b0=b0.next=A),PE=!0,cF||(cF=!0,qre())}function Lx(A,f){if(!uF&&PE){uF=!0;do for(var y=!1,B=UE;B!==null;){if(A!==0){var R=B.pendingLanes;if(R===0)var L=0;else{var ie=B.suspendedLanes,de=B.pingedLanes;L=(1<<31-Ge(42|A)+1)-1,L&=R&~(ie&~de),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(y=!0,BH(B,L))}else L=kt,L=Ut(B,B===jt?L:0,B.cancelPendingCommit!==null||B.timeoutHandle!==-1),(L&3)===0||Tt(B,L)||(y=!0,BH(B,L));B=B.next}while(y);uF=!1}}function Vre(){wH()}function wH(){PE=cF=!1;var A=0;Dm!==0&&(Jre()&&(A=Dm),Dm=0);for(var f=z(),y=null,B=UE;B!==null;){var R=B.next,L=xH(B,f);L===0?(B.next=null,y===null?UE=R:y.next=R,R===null&&(b0=y)):(y=B,(A!==0||(L&3)!==0)&&(PE=!0)),B=R}Lx(A)}function xH(A,f){for(var y=A.suspendedLanes,B=A.pingedLanes,R=A.expirationTimes,L=A.pendingLanes&-62914561;0<L;){var ie=31-Ge(L),de=1<<ie,Se=R[ie];Se===-1?((de&y)===0||(de&B)!==0)&&(R[ie]=It(de,f)):Se<=f&&(A.expiredLanes|=de),L&=~de}if(f=jt,y=kt,y=Ut(A,A===f?y:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),B=A.callbackNode,y===0||A===f&&(Ot===2||Ot===9)||A.cancelPendingCommit!==null)return B!==null&&B!==null&&H(B),A.callbackNode=null,A.callbackPriority=0;if((y&3)===0||Tt(A,y)){if(f=y&-y,f===A.callbackPriority)return f;switch(B!==null&&H(B),gi(y)){case 2:case 8:y=ae;break;case 32:y=X;break;case 268435456:y=ce;break;default:y=X}return B=CH.bind(null,A),y=te(y,B),A.callbackPriority=f,A.callbackNode=y,f}return B!==null&&B!==null&&H(B),A.callbackPriority=2,A.callbackNode=null,2}function CH(A,f){if(rr!==0&&rr!==5)return A.callbackNode=null,A.callbackPriority=0,null;var y=A.callbackNode;if(ji()&&A.callbackNode!==y)return null;var B=kt;return B=Ut(A,A===jt?B:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),B===0?null:(O(A,B,f),xH(A,z()),A.callbackNode!=null&&A.callbackNode===y?CH.bind(null,A):null)}function BH(A,f){if(ji())return null;O(A,f,!0)}function qre(){toe(function(){(vn&6)!==0?te(re,Vre):wH()})}function hF(){return Dm===0&&(Dm=Ee()),Dm}function SH(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:Gu(""+A)}function EH(A,f){var y=f.ownerDocument.createElement("input");return y.name=f.name,y.value=f.value,A.id&&y.setAttribute("form",A.id),f.parentNode.insertBefore(y,f),A=new FormData(A),y.parentNode.removeChild(y),A}function Wre(A,f,y,B,R){if(f==="submit"&&y&&y.stateNode===R){var L=SH((R[ci]||null).action),ie=B.submitter;ie&&(f=(f=ie[ci]||null)?SH(f.formAction):ie.getAttribute("formAction"),f!==null&&(L=f,ie=null));var de=new ju("action","action",null,B,R);A.push({event:de,listeners:[{instance:null,listener:function(){if(B.defaultPrevented){if(Dm!==0){var Se=ie?EH(R,ie):new FormData(R);c0(y,{pending:!0,data:Se,method:R.method,action:L},null,Se)}}else typeof L=="function"&&(de.preventDefault(),Se=ie?EH(R,ie):new FormData(R),c0(y,{pending:!0,data:Se,method:R.method,action:L},L,Se))},currentTarget:R}]})}}for(var AF=0;AF<zv.length;AF++){var dF=zv[AF],jre=dF.toLowerCase(),Kre=dF[0].toUpperCase()+dF.slice(1);Ka(jre,"on"+Kre)}Ka(sd,"onAnimationEnd"),Ka(zp,"onAnimationIteration"),Ka(Yh,"onAnimationStart"),Ka("dblclick","onDoubleClick"),Ka("focusin","onFocus"),Ka("focusout","onBlur"),Ka(VS,"onTransitionRun"),Ka(qS,"onTransitionStart"),Ka(Yw,"onTransitionCancel"),Ka(Zw,"onTransitionEnd"),pe("onMouseEnter",["mouseout","mouseover"]),pe("onMouseLeave",["mouseout","mouseover"]),pe("onPointerEnter",["pointerout","pointerover"]),pe("onPointerLeave",["pointerout","pointerover"]),so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),so("onBeforeInput",["compositionend","keypress","textInput","paste"]),so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ox="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$re=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ox));function TH(A,f){f=(f&4)!==0;for(var y=0;y<A.length;y++){var B=A[y],R=B.event;B=B.listeners;e:{var L=void 0;if(f)for(var ie=B.length-1;0<=ie;ie--){var de=B[ie],Se=de.instance,ze=de.currentTarget;if(de=de.listener,Se!==L&&R.isPropagationStopped())break e;L=de,R.currentTarget=ze;try{L(R)}catch(it){fs(it)}R.currentTarget=null,L=Se}else for(ie=0;ie<B.length;ie++){if(de=B[ie],Se=de.instance,ze=de.currentTarget,de=de.listener,Se!==L&&R.isPropagationStopped())break e;L=de,R.currentTarget=ze;try{L(R)}catch(it){fs(it)}R.currentTarget=null,L=Se}}}}function en(A,f){var y=f[xo];y===void 0&&(y=f[xo]=new Set);var B=A+"__bubble";y.has(B)||(IH(f,A,2,!1),y.add(B))}function pF(A,f,y){var B=0;f&&(B|=4),IH(y,A,B,f)}var LE="_reactListening"+Math.random().toString(36).slice(2);function fF(A){if(!A[LE]){A[LE]=!0,kl.forEach(function(y){y!=="selectionchange"&&($re.has(y)||pF(y,!1,A),pF(y,!0,A))});var f=A.nodeType===9?A:A.ownerDocument;f===null||f[LE]||(f[LE]=!0,pF("selectionchange",!1,f))}}function IH(A,f,y,B){switch(JH(f)){case 2:var R=woe;break;case 8:R=xoe;break;default:R=IF}y=R.bind(null,f,y,A),R=void 0,!Wh||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(R=!0),B?R!==void 0?A.addEventListener(f,y,{capture:!0,passive:R}):A.addEventListener(f,y,!0):R!==void 0?A.addEventListener(f,y,{passive:R}):A.addEventListener(f,y,!1)}function gF(A,f,y,B,R){var L=B;if((f&1)===0&&(f&2)===0&&B!==null)e:for(;;){if(B===null)return;var ie=B.tag;if(ie===3||ie===4){var de=B.stateNode.containerInfo;if(de===R)break;if(ie===4)for(ie=B.return;ie!==null;){var Se=ie.tag;if((Se===3||Se===4)&&ie.stateNode.containerInfo===R)return;ie=ie.return}for(;de!==null;){if(ie=sa(de),ie===null)return;if(Se=ie.tag,Se===5||Se===6||Se===26||Se===27){B=L=ie;continue e}de=de.parentNode}}B=B.return}zg(function(){var ze=L,it=Vu(y),at=[];e:{var $e=$g.get(A);if($e!==void 0){var Ye=ju,hi=A;switch(A){case"keypress":if(Wu(y)===0)break e;case"keydown":case"keyup":Ye=QS;break;case"focusin":hi="focus",Ye=JA;break;case"focusout":hi="blur",Ye=JA;break;case"beforeblur":case"afterblur":Ye=JA;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=Eo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=Qw;break;case sd:case zp:case Yh:Ye=kw;break;case Zw:Ye=Dv;break;case"scroll":case"scrollend":Ye=Bo;break;case"wheel":Ye=us;break;case"copy":case"cut":case"paste":Ye=PS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=qc;break;case"toggle":case"beforetoggle":Ye=NS}var ti=(f&4)!==0,Vn=!ti&&(A==="scroll"||A==="scrollend"),Qe=ti?$e!==null?$e+"Capture":null:$e;ti=[];for(var Fe=ze,He;Fe!==null;){var ot=Fe;if(He=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||He===null||Qe===null||(ot=qu(Fe,Qe),ot!=null&&ti.push(Qx(Fe,ot,He))),Vn)break;Fe=Fe.return}0<ti.length&&($e=new Ye($e,hi,null,y,it),at.push({event:$e,listeners:ti}))}}if((f&7)===0){e:{if($e=A==="mouseover"||A==="pointerover",Ye=A==="mouseout"||A==="pointerout",$e&&y!==XA&&(hi=y.relatedTarget||y.fromElement)&&(sa(hi)||hi[er]))break e;if((Ye||$e)&&($e=it.window===it?it:($e=it.ownerDocument)?$e.defaultView||$e.parentWindow:window,Ye?(hi=y.relatedTarget||y.toElement,Ye=ze,hi=hi?sa(hi):null,hi!==null&&(Vn=o(hi),ti=hi.tag,hi!==Vn||ti!==5&&ti!==27&&ti!==6)&&(hi=null)):(Ye=null,hi=ze),Ye!==hi)){if(ti=So,ot="onMouseLeave",Qe="onMouseEnter",Fe="mouse",(A==="pointerout"||A==="pointerover")&&(ti=qc,ot="onPointerLeave",Qe="onPointerEnter",Fe="pointer"),Vn=Ye==null?$e:dn(Ye),He=hi==null?$e:dn(hi),$e=new ti(ot,Fe+"leave",Ye,y,it),$e.target=Vn,$e.relatedTarget=He,ot=null,sa(it)===ze&&(ti=new ti(Qe,Fe+"enter",hi,y,it),ti.target=He,ti.relatedTarget=Vn,ot=ti),Vn=ot,Ye&&hi)t:{for(ti=Ye,Qe=hi,Fe=0,He=ti;He;He=y0(He))Fe++;for(He=0,ot=Qe;ot;ot=y0(ot))He++;for(;0<Fe-He;)ti=y0(ti),Fe--;for(;0<He-Fe;)Qe=y0(Qe),He--;for(;Fe--;){if(ti===Qe||Qe!==null&&ti===Qe.alternate)break t;ti=y0(ti),Qe=y0(Qe)}ti=null}else ti=null;Ye!==null&&MH(at,$e,Ye,ti,!1),hi!==null&&Vn!==null&&MH(at,Vn,hi,ti,!0)}}e:{if($e=ze?dn(ze):window,Ye=$e.nodeName&&$e.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&$e.type==="file")var Qt=Qp;else if(Vg($e))if(Yu)Qt=Kw;else{Qt=GS;var Yi=zS}else Ye=$e.nodeName,!Ye||Ye.toLowerCase()!=="input"||$e.type!=="checkbox"&&$e.type!=="radio"?ze&&KA(ze.elementType)&&(Qt=Qp):Qt=jw;if(Qt&&(Qt=Qt(A,ze))){Op(at,Qt,y,it);break e}Yi&&Yi(A,$e,ze),A==="focusout"&&ze&&$e.type==="number"&&ze.memoizedProps.value!=null&&Sr($e,"number",$e.value)}switch(Yi=ze?dn(ze):window,A){case"focusin":(Vg(Yi)||Yi.contentEditable==="true")&&(rd=Yi,Ns=ze,Hp=null);break;case"focusout":Hp=Ns=rd=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,od(at,y,it);break;case"selectionchange":if(fa)break;case"keydown":case"keyup":od(at,y,it)}var qt;if(td)e:{switch(A){case"compositionstart":var ri="onCompositionStart";break e;case"compositionend":ri="onCompositionEnd";break e;case"compositionupdate":ri="onCompositionUpdate";break e}ri=void 0}else nd?Lv(A,y)&&(ri="onCompositionEnd"):A==="keydown"&&y.keyCode===229&&(ri="onCompositionStart");ri&&(Hw&&y.locale!=="ko"&&(nd||ri!=="onCompositionStart"?ri==="onCompositionEnd"&&nd&&(qt=Lp()):(Ls=it,Vc="value"in Ls?Ls.value:Ls.textContent,nd=!0)),Yi=OE(ze,ri),0<Yi.length&&(ri=new Fv(ri,A,null,y,it),at.push({event:ri,listeners:Yi}),qt?ri.data=qt:(qt=Gw(y),qt!==null&&(ri.data=qt)))),(qt=Pv?Vw(A,y):qw(A,y))&&(ri=OE(ze,"onBeforeInput"),0<ri.length&&(Yi=new Fv("onBeforeInput","beforeinput",null,y,it),at.push({event:Yi,listeners:ri}),Yi.data=qt)),Wre(at,A,ze,y,it)}TH(at,f)})}function Qx(A,f,y){return{instance:A,listener:f,currentTarget:y}}function OE(A,f){for(var y=f+"Capture",B=[];A!==null;){var R=A,L=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||L===null||(R=qu(A,y),R!=null&&B.unshift(Qx(A,R,L)),R=qu(A,f),R!=null&&B.push(Qx(A,R,L))),A.tag===3)return B;A=A.return}return[]}function y0(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function MH(A,f,y,B,R){for(var L=f._reactName,ie=[];y!==null&&y!==B;){var de=y,Se=de.alternate,ze=de.stateNode;if(de=de.tag,Se!==null&&Se===B)break;de!==5&&de!==26&&de!==27||ze===null||(Se=ze,R?(ze=qu(y,L),ze!=null&&ie.unshift(Qx(y,ze,Se))):R||(ze=qu(y,L),ze!=null&&ie.push(Qx(y,ze,Se)))),y=y.return}ie.length!==0&&A.push({event:f,listeners:ie})}var Xre=/\r\n?/g,Yre=/\u0000|\uFFFD/g;function RH(A){return(typeof A=="string"?A:""+A).replace(Xre,`
`).replace(Yre,"")}function kH(A,f){return f=RH(f),RH(A)===f}function QE(){}function Gn(A,f,y,B,R,L){switch(y){case"children":typeof B=="string"?f==="body"||f==="textarea"&&B===""||cs(A,B):(typeof B=="number"||typeof B=="bigint")&&f!=="body"&&cs(A,""+B);break;case"className":_t(A,"class",B);break;case"tabIndex":_t(A,"tabindex",B);break;case"dir":case"role":case"viewBox":case"width":case"height":_t(A,y,B);break;case"style":zc(A,B,L);break;case"data":if(f!=="object"){_t(A,"data",B);break}case"src":case"href":if(B===""&&(f!=="a"||y!=="href")){A.removeAttribute(y);break}if(B==null||typeof B=="function"||typeof B=="symbol"||typeof B=="boolean"){A.removeAttribute(y);break}B=Gu(""+B),A.setAttribute(y,B);break;case"action":case"formAction":if(typeof B=="function"){A.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(y==="formAction"?(f!=="input"&&Gn(A,f,"name",R.name,R,null),Gn(A,f,"formEncType",R.formEncType,R,null),Gn(A,f,"formMethod",R.formMethod,R,null),Gn(A,f,"formTarget",R.formTarget,R,null)):(Gn(A,f,"encType",R.encType,R,null),Gn(A,f,"method",R.method,R,null),Gn(A,f,"target",R.target,R,null)));if(B==null||typeof B=="symbol"||typeof B=="boolean"){A.removeAttribute(y);break}B=Gu(""+B),A.setAttribute(y,B);break;case"onClick":B!=null&&(A.onclick=QE);break;case"onScroll":B!=null&&en("scroll",A);break;case"onScrollEnd":B!=null&&en("scrollend",A);break;case"dangerouslySetInnerHTML":if(B!=null){if(typeof B!="object"||!("__html"in B))throw Error(n(61));if(y=B.__html,y!=null){if(R.children!=null)throw Error(n(60));A.innerHTML=y}}break;case"multiple":A.multiple=B&&typeof B!="function"&&typeof B!="symbol";break;case"muted":A.muted=B&&typeof B!="function"&&typeof B!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(B==null||typeof B=="function"||typeof B=="boolean"||typeof B=="symbol"){A.removeAttribute("xlink:href");break}y=Gu(""+B),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":B!=null&&typeof B!="function"&&typeof B!="symbol"?A.setAttribute(y,""+B):A.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":B&&typeof B!="function"&&typeof B!="symbol"?A.setAttribute(y,""):A.removeAttribute(y);break;case"capture":case"download":B===!0?A.setAttribute(y,""):B!==!1&&B!=null&&typeof B!="function"&&typeof B!="symbol"?A.setAttribute(y,B):A.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":B!=null&&typeof B!="function"&&typeof B!="symbol"&&!isNaN(B)&&1<=B?A.setAttribute(y,B):A.removeAttribute(y);break;case"rowSpan":case"start":B==null||typeof B=="function"||typeof B=="symbol"||isNaN(B)?A.removeAttribute(y):A.setAttribute(y,B);break;case"popover":en("beforetoggle",A),en("toggle",A),ht(A,"popover",B);break;case"xlinkActuate":xt(A,"http://www.w3.org/1999/xlink","xlink:actuate",B);break;case"xlinkArcrole":xt(A,"http://www.w3.org/1999/xlink","xlink:arcrole",B);break;case"xlinkRole":xt(A,"http://www.w3.org/1999/xlink","xlink:role",B);break;case"xlinkShow":xt(A,"http://www.w3.org/1999/xlink","xlink:show",B);break;case"xlinkTitle":xt(A,"http://www.w3.org/1999/xlink","xlink:title",B);break;case"xlinkType":xt(A,"http://www.w3.org/1999/xlink","xlink:type",B);break;case"xmlBase":xt(A,"http://www.w3.org/XML/1998/namespace","xml:base",B);break;case"xmlLang":xt(A,"http://www.w3.org/XML/1998/namespace","xml:lang",B);break;case"xmlSpace":xt(A,"http://www.w3.org/XML/1998/namespace","xml:space",B);break;case"is":ht(A,"is",B);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=qh.get(y)||y,ht(A,y,B))}}function mF(A,f,y,B,R,L){switch(y){case"style":zc(A,B,L);break;case"dangerouslySetInnerHTML":if(B!=null){if(typeof B!="object"||!("__html"in B))throw Error(n(61));if(y=B.__html,y!=null){if(R.children!=null)throw Error(n(60));A.innerHTML=y}}break;case"children":typeof B=="string"?cs(A,B):(typeof B=="number"||typeof B=="bigint")&&cs(A,""+B);break;case"onScroll":B!=null&&en("scroll",A);break;case"onScrollEnd":B!=null&&en("scrollend",A);break;case"onClick":B!=null&&(A.onclick=QE);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(R=y.endsWith("Capture"),f=y.slice(2,R?y.length-7:void 0),L=A[ci]||null,L=L!=null?L[y]:null,typeof L=="function"&&A.removeEventListener(f,L,R),typeof B=="function")){typeof L!="function"&&L!==null&&(y in A?A[y]=null:A.hasAttribute(y)&&A.removeAttribute(y)),A.addEventListener(f,B,R);break e}y in A?A[y]=B:B===!0?A.setAttribute(y,""):ht(A,y,B)}}}function Ks(A,f,y){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":en("error",A),en("load",A);var B=!1,R=!1,L;for(L in y)if(y.hasOwnProperty(L)){var ie=y[L];if(ie!=null)switch(L){case"src":B=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Gn(A,f,L,ie,y,null)}}R&&Gn(A,f,"srcSet",y.srcSet,y,null),B&&Gn(A,f,"src",y.src,y,null);return;case"input":en("invalid",A);var de=L=ie=R=null,Se=null,ze=null;for(B in y)if(y.hasOwnProperty(B)){var it=y[B];if(it!=null)switch(B){case"name":R=it;break;case"type":ie=it;break;case"checked":Se=it;break;case"defaultChecked":ze=it;break;case"value":L=it;break;case"defaultValue":de=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,f));break;default:Gn(A,f,B,it,y,null)}}an(A,L,de,Se,ze,ie,R,!1),xn(A);return;case"select":en("invalid",A),B=ie=L=null;for(R in y)if(y.hasOwnProperty(R)&&(de=y[R],de!=null))switch(R){case"value":L=de;break;case"defaultValue":ie=de;break;case"multiple":B=de;default:Gn(A,f,R,de,y,null)}f=L,y=ie,A.multiple=!!B,f!=null?tr(A,!!B,f,!1):y!=null&&tr(A,!!B,y,!0);return;case"textarea":en("invalid",A),L=R=B=null;for(ie in y)if(y.hasOwnProperty(ie)&&(de=y[ie],de!=null))switch(ie){case"value":B=de;break;case"defaultValue":R=de;break;case"children":L=de;break;case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(91));break;default:Gn(A,f,ie,de,y,null)}Or(A,B,R,L),xn(A);return;case"option":for(Se in y)if(y.hasOwnProperty(Se)&&(B=y[Se],B!=null))switch(Se){case"selected":A.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Gn(A,f,Se,B,y,null)}return;case"dialog":en("beforetoggle",A),en("toggle",A),en("cancel",A),en("close",A);break;case"iframe":case"object":en("load",A);break;case"video":case"audio":for(B=0;B<Ox.length;B++)en(Ox[B],A);break;case"image":en("error",A),en("load",A);break;case"details":en("toggle",A);break;case"embed":case"source":case"link":en("error",A),en("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in y)if(y.hasOwnProperty(ze)&&(B=y[ze],B!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Gn(A,f,ze,B,y,null)}return;default:if(KA(f)){for(it in y)y.hasOwnProperty(it)&&(B=y[it],B!==void 0&&mF(A,f,it,B,y,void 0));return}}for(de in y)y.hasOwnProperty(de)&&(B=y[de],B!=null&&Gn(A,f,de,B,y,null))}function Zre(A,f,y,B){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,L=null,ie=null,de=null,Se=null,ze=null,it=null;for(Ye in y){var at=y[Ye];if(y.hasOwnProperty(Ye)&&at!=null)switch(Ye){case"checked":break;case"value":break;case"defaultValue":Se=at;default:B.hasOwnProperty(Ye)||Gn(A,f,Ye,null,B,at)}}for(var $e in B){var Ye=B[$e];if(at=y[$e],B.hasOwnProperty($e)&&(Ye!=null||at!=null))switch($e){case"type":L=Ye;break;case"name":R=Ye;break;case"checked":ze=Ye;break;case"defaultChecked":it=Ye;break;case"value":ie=Ye;break;case"defaultValue":de=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(n(137,f));break;default:Ye!==at&&Gn(A,f,$e,Ye,B,at)}}ca(A,ie,de,Se,ze,it,L,R);return;case"select":Ye=ie=de=$e=null;for(L in y)if(Se=y[L],y.hasOwnProperty(L)&&Se!=null)switch(L){case"value":break;case"multiple":Ye=Se;default:B.hasOwnProperty(L)||Gn(A,f,L,null,B,Se)}for(R in B)if(L=B[R],Se=y[R],B.hasOwnProperty(R)&&(L!=null||Se!=null))switch(R){case"value":$e=L;break;case"defaultValue":de=L;break;case"multiple":ie=L;default:L!==Se&&Gn(A,f,R,L,B,Se)}f=de,y=ie,B=Ye,$e!=null?tr(A,!!y,$e,!1):!!B!=!!y&&(f!=null?tr(A,!!y,f,!0):tr(A,!!y,y?[]:"",!1));return;case"textarea":Ye=$e=null;for(de in y)if(R=y[de],y.hasOwnProperty(de)&&R!=null&&!B.hasOwnProperty(de))switch(de){case"value":break;case"children":break;default:Gn(A,f,de,null,B,R)}for(ie in B)if(R=B[ie],L=y[ie],B.hasOwnProperty(ie)&&(R!=null||L!=null))switch(ie){case"value":$e=R;break;case"defaultValue":Ye=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(n(91));break;default:R!==L&&Gn(A,f,ie,R,B,L)}Qn(A,$e,Ye);return;case"option":for(var hi in y)if($e=y[hi],y.hasOwnProperty(hi)&&$e!=null&&!B.hasOwnProperty(hi))switch(hi){case"selected":A.selected=!1;break;default:Gn(A,f,hi,null,B,$e)}for(Se in B)if($e=B[Se],Ye=y[Se],B.hasOwnProperty(Se)&&$e!==Ye&&($e!=null||Ye!=null))switch(Se){case"selected":A.selected=$e&&typeof $e!="function"&&typeof $e!="symbol";break;default:Gn(A,f,Se,$e,B,Ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ti in y)$e=y[ti],y.hasOwnProperty(ti)&&$e!=null&&!B.hasOwnProperty(ti)&&Gn(A,f,ti,null,B,$e);for(ze in B)if($e=B[ze],Ye=y[ze],B.hasOwnProperty(ze)&&$e!==Ye&&($e!=null||Ye!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(n(137,f));break;default:Gn(A,f,ze,$e,B,Ye)}return;default:if(KA(f)){for(var Vn in y)$e=y[Vn],y.hasOwnProperty(Vn)&&$e!==void 0&&!B.hasOwnProperty(Vn)&&mF(A,f,Vn,void 0,B,$e);for(it in B)$e=B[it],Ye=y[it],!B.hasOwnProperty(it)||$e===Ye||$e===void 0&&Ye===void 0||mF(A,f,it,$e,B,Ye);return}}for(var Qe in y)$e=y[Qe],y.hasOwnProperty(Qe)&&$e!=null&&!B.hasOwnProperty(Qe)&&Gn(A,f,Qe,null,B,$e);for(at in B)$e=B[at],Ye=y[at],!B.hasOwnProperty(at)||$e===Ye||$e==null&&Ye==null||Gn(A,f,at,$e,B,Ye)}var _F=null,vF=null;function NE(A){return A.nodeType===9?A:A.ownerDocument}function FH(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DH(A,f){if(A===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&f==="foreignObject"?0:A}function bF(A,f){return A==="textarea"||A==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var yF=null;function Jre(){var A=window.event;return A&&A.type==="popstate"?A===yF?!1:(yF=A,!0):(yF=null,!1)}var UH=typeof setTimeout=="function"?setTimeout:void 0,eoe=typeof clearTimeout=="function"?clearTimeout:void 0,PH=typeof Promise=="function"?Promise:void 0,toe=typeof queueMicrotask=="function"?queueMicrotask:typeof PH<"u"?function(A){return PH.resolve(null).then(A).catch(ioe)}:UH;function ioe(A){setTimeout(function(){throw A})}function of(A){return A==="head"}function LH(A,f){var y=f,B=0,R=0;do{var L=y.nextSibling;if(A.removeChild(y),L&&L.nodeType===8)if(y=L.data,y==="/$"){if(0<B&&8>B){y=B;var ie=A.ownerDocument;if(y&1&&Nx(ie.documentElement),y&2&&Nx(ie.body),y&4)for(y=ie.head,Nx(y),ie=y.firstChild;ie;){var de=ie.nextSibling,Se=ie.nodeName;ie[oa]||Se==="SCRIPT"||Se==="STYLE"||Se==="LINK"&&ie.rel.toLowerCase()==="stylesheet"||y.removeChild(ie),ie=de}}if(R===0){A.removeChild(L),Kx(f);return}R--}else y==="$"||y==="$?"||y==="$!"?R++:B=y.charCodeAt(0)-48;else B=0;y=L}while(y);Kx(f)}function wF(A){var f=A.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var y=f;switch(f=f.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":wF(y),Rl(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}A.removeChild(y)}}function noe(A,f,y,B){for(;A.nodeType===1;){var R=y;if(A.nodeName.toLowerCase()!==f.toLowerCase()){if(!B&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(B){if(!A[oa])switch(f){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(L=A.getAttribute("rel"),L==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(L!==R.rel||A.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||A.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||A.getAttribute("title")!==(R.title==null?null:R.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(L=A.getAttribute("src"),(L!==(R.src==null?null:R.src)||A.getAttribute("type")!==(R.type==null?null:R.type)||A.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&L&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(f==="input"&&A.type==="hidden"){var L=R.name==null?null:""+R.name;if(R.type==="hidden"&&A.getAttribute("name")===L)return A}else return A;if(A=hh(A.nextSibling),A===null)break}return null}function roe(A,f,y){if(f==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!y||(A=hh(A.nextSibling),A===null))return null;return A}function xF(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState==="complete"}function ooe(A,f){var y=A.ownerDocument;if(A.data!=="$?"||y.readyState==="complete")f();else{var B=function(){f(),y.removeEventListener("DOMContentLoaded",B)};y.addEventListener("DOMContentLoaded",B),A._reactRetry=B}}function hh(A){for(;A!=null;A=A.nextSibling){var f=A.nodeType;if(f===1||f===3)break;if(f===8){if(f=A.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return A}var CF=null;function OH(A){A=A.previousSibling;for(var f=0;A;){if(A.nodeType===8){var y=A.data;if(y==="$"||y==="$!"||y==="$?"){if(f===0)return A;f--}else y==="/$"&&f++}A=A.previousSibling}return null}function QH(A,f,y){switch(f=NE(y),A){case"html":if(A=f.documentElement,!A)throw Error(n(452));return A;case"head":if(A=f.head,!A)throw Error(n(453));return A;case"body":if(A=f.body,!A)throw Error(n(454));return A;default:throw Error(n(451))}}function Nx(A){for(var f=A.attributes;f.length;)A.removeAttributeNode(f[0]);Rl(A)}var hu=new Map,NH=new Set;function HE(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var Id=Y.d;Y.d={f:soe,r:aoe,D:loe,C:coe,L:uoe,m:hoe,X:doe,S:Aoe,M:poe};function soe(){var A=Id.f(),f=Me();return A||f}function aoe(A){var f=kn(A);f!==null&&f.tag===5&&f.type==="form"?Bx(f):Id.r(A)}var w0=typeof document>"u"?null:document;function HH(A,f,y){var B=w0;if(B&&typeof f=="string"&&f){var R=Xi(f);R='link[rel="'+A+'"][href="'+R+'"]',typeof y=="string"&&(R+='[crossorigin="'+y+'"]'),NH.has(R)||(NH.add(R),A={rel:A,crossOrigin:y,href:f},B.querySelector(R)===null&&(f=B.createElement("link"),Ks(f,"link",A),wt(f),B.head.appendChild(f)))}}function loe(A){Id.D(A),HH("dns-prefetch",A,null)}function coe(A,f){Id.C(A,f),HH("preconnect",A,f)}function uoe(A,f,y){Id.L(A,f,y);var B=w0;if(B&&A&&f){var R='link[rel="preload"][as="'+Xi(f)+'"]';f==="image"&&y&&y.imageSrcSet?(R+='[imagesrcset="'+Xi(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(R+='[imagesizes="'+Xi(y.imageSizes)+'"]')):R+='[href="'+Xi(A)+'"]';var L=R;switch(f){case"style":L=x0(A);break;case"script":L=C0(A)}hu.has(L)||(A=u({rel:"preload",href:f==="image"&&y&&y.imageSrcSet?void 0:A,as:f},y),hu.set(L,A),B.querySelector(R)!==null||f==="style"&&B.querySelector(Hx(L))||f==="script"&&B.querySelector(zx(L))||(f=B.createElement("link"),Ks(f,"link",A),wt(f),B.head.appendChild(f)))}}function hoe(A,f){Id.m(A,f);var y=w0;if(y&&A){var B=f&&typeof f.as=="string"?f.as:"script",R='link[rel="modulepreload"][as="'+Xi(B)+'"][href="'+Xi(A)+'"]',L=R;switch(B){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=C0(A)}if(!hu.has(L)&&(A=u({rel:"modulepreload",href:A},f),hu.set(L,A),y.querySelector(R)===null)){switch(B){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(zx(L)))return}B=y.createElement("link"),Ks(B,"link",A),wt(B),y.head.appendChild(B)}}}function Aoe(A,f,y){Id.S(A,f,y);var B=w0;if(B&&A){var R=ls(B).hoistableStyles,L=x0(A);f=f||"default";var ie=R.get(L);if(!ie){var de={loading:0,preload:null};if(ie=B.querySelector(Hx(L)))de.loading=5;else{A=u({rel:"stylesheet",href:A,"data-precedence":f},y),(y=hu.get(L))&&BF(A,y);var Se=ie=B.createElement("link");wt(Se),Ks(Se,"link",A),Se._p=new Promise(function(ze,it){Se.onload=ze,Se.onerror=it}),Se.addEventListener("load",function(){de.loading|=1}),Se.addEventListener("error",function(){de.loading|=2}),de.loading|=4,zE(ie,f,B)}ie={type:"stylesheet",instance:ie,count:1,state:de},R.set(L,ie)}}}function doe(A,f){Id.X(A,f);var y=w0;if(y&&A){var B=ls(y).hoistableScripts,R=C0(A),L=B.get(R);L||(L=y.querySelector(zx(R)),L||(A=u({src:A,async:!0},f),(f=hu.get(R))&&SF(A,f),L=y.createElement("script"),wt(L),Ks(L,"link",A),y.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},B.set(R,L))}}function poe(A,f){Id.M(A,f);var y=w0;if(y&&A){var B=ls(y).hoistableScripts,R=C0(A),L=B.get(R);L||(L=y.querySelector(zx(R)),L||(A=u({src:A,async:!0,type:"module"},f),(f=hu.get(R))&&SF(A,f),L=y.createElement("script"),wt(L),Ks(L,"link",A),y.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},B.set(R,L))}}function zH(A,f,y,B){var R=(R=we.current)?HE(R):null;if(!R)throw Error(n(446));switch(A){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(f=x0(y.href),y=ls(R).hoistableStyles,B=y.get(f),B||(B={type:"style",instance:null,count:0,state:null},y.set(f,B)),B):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){A=x0(y.href);var L=ls(R).hoistableStyles,ie=L.get(A);if(ie||(R=R.ownerDocument||R,ie={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(A,ie),(L=R.querySelector(Hx(A)))&&!L._p&&(ie.instance=L,ie.state.loading=5),hu.has(A)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},hu.set(A,y),L||foe(R,A,y,ie.state))),f&&B===null)throw Error(n(528,""));return ie}if(f&&B!==null)throw Error(n(529,""));return null;case"script":return f=y.async,y=y.src,typeof y=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=C0(y),y=ls(R).hoistableScripts,B=y.get(f),B||(B={type:"script",instance:null,count:0,state:null},y.set(f,B)),B):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,A))}}function x0(A){return'href="'+Xi(A)+'"'}function Hx(A){return'link[rel="stylesheet"]['+A+"]"}function GH(A){return u({},A,{"data-precedence":A.precedence,precedence:null})}function foe(A,f,y,B){A.querySelector('link[rel="preload"][as="style"]['+f+"]")?B.loading=1:(f=A.createElement("link"),B.preload=f,f.addEventListener("load",function(){return B.loading|=1}),f.addEventListener("error",function(){return B.loading|=2}),Ks(f,"link",y),wt(f),A.head.appendChild(f))}function C0(A){return'[src="'+Xi(A)+'"]'}function zx(A){return"script[async]"+A}function VH(A,f,y){if(f.count++,f.instance===null)switch(f.type){case"style":var B=A.querySelector('style[data-href~="'+Xi(y.href)+'"]');if(B)return f.instance=B,wt(B),B;var R=u({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return B=(A.ownerDocument||A).createElement("style"),wt(B),Ks(B,"style",R),zE(B,y.precedence,A),f.instance=B;case"stylesheet":R=x0(y.href);var L=A.querySelector(Hx(R));if(L)return f.state.loading|=4,f.instance=L,wt(L),L;B=GH(y),(R=hu.get(R))&&BF(B,R),L=(A.ownerDocument||A).createElement("link"),wt(L);var ie=L;return ie._p=new Promise(function(de,Se){ie.onload=de,ie.onerror=Se}),Ks(L,"link",B),f.state.loading|=4,zE(L,y.precedence,A),f.instance=L;case"script":return L=C0(y.src),(R=A.querySelector(zx(L)))?(f.instance=R,wt(R),R):(B=y,(R=hu.get(L))&&(B=u({},y),SF(B,R)),A=A.ownerDocument||A,R=A.createElement("script"),wt(R),Ks(R,"link",B),A.head.appendChild(R),f.instance=R);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(B=f.instance,f.state.loading|=4,zE(B,y.precedence,A));return f.instance}function zE(A,f,y){for(var B=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=B.length?B[B.length-1]:null,L=R,ie=0;ie<B.length;ie++){var de=B[ie];if(de.dataset.precedence===f)L=de;else if(L!==R)break}L?L.parentNode.insertBefore(A,L.nextSibling):(f=y.nodeType===9?y.head:y,f.insertBefore(A,f.firstChild))}function BF(A,f){A.crossOrigin==null&&(A.crossOrigin=f.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=f.referrerPolicy),A.title==null&&(A.title=f.title)}function SF(A,f){A.crossOrigin==null&&(A.crossOrigin=f.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=f.referrerPolicy),A.integrity==null&&(A.integrity=f.integrity)}var GE=null;function qH(A,f,y){if(GE===null){var B=new Map,R=GE=new Map;R.set(y,B)}else R=GE,B=R.get(y),B||(B=new Map,R.set(y,B));if(B.has(A))return B;for(B.set(A,null),y=y.getElementsByTagName(A),R=0;R<y.length;R++){var L=y[R];if(!(L[oa]||L[sn]||A==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var ie=L.getAttribute(f)||"";ie=A+ie;var de=B.get(ie);de?de.push(L):B.set(ie,[L])}}return B}function WH(A,f,y){A=A.ownerDocument||A,A.head.insertBefore(y,f==="title"?A.querySelector("head > title"):null)}function goe(A,f,y){if(y===1||f.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return A=f.disabled,typeof f.precedence=="string"&&A==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function jH(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}var Gx=null;function moe(){}function _oe(A,f,y){if(Gx===null)throw Error(n(475));var B=Gx;if(f.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var R=x0(y.href),L=A.querySelector(Hx(R));if(L){A=L._p,A!==null&&typeof A=="object"&&typeof A.then=="function"&&(B.count++,B=VE.bind(B),A.then(B,B)),f.state.loading|=4,f.instance=L,wt(L);return}L=A.ownerDocument||A,y=GH(y),(R=hu.get(R))&&BF(y,R),L=L.createElement("link"),wt(L);var ie=L;ie._p=new Promise(function(de,Se){ie.onload=de,ie.onerror=Se}),Ks(L,"link",y),f.instance=L}B.stylesheets===null&&(B.stylesheets=new Map),B.stylesheets.set(f,A),(A=f.state.preload)&&(f.state.loading&3)===0&&(B.count++,f=VE.bind(B),A.addEventListener("load",f),A.addEventListener("error",f))}}function voe(){if(Gx===null)throw Error(n(475));var A=Gx;return A.stylesheets&&A.count===0&&EF(A,A.stylesheets),0<A.count?function(f){var y=setTimeout(function(){if(A.stylesheets&&EF(A,A.stylesheets),A.unsuspend){var B=A.unsuspend;A.unsuspend=null,B()}},6e4);return A.unsuspend=f,function(){A.unsuspend=null,clearTimeout(y)}}:null}function VE(){if(this.count--,this.count===0){if(this.stylesheets)EF(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var qE=null;function EF(A,f){A.stylesheets=null,A.unsuspend!==null&&(A.count++,qE=new Map,f.forEach(boe,A),qE=null,VE.call(A))}function boe(A,f){if(!(f.state.loading&4)){var y=qE.get(A);if(y)var B=y.get(null);else{y=new Map,qE.set(A,y);for(var R=A.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<R.length;L++){var ie=R[L];(ie.nodeName==="LINK"||ie.getAttribute("media")!=="not all")&&(y.set(ie.dataset.precedence,ie),B=ie)}B&&y.set(null,B)}R=f.instance,ie=R.getAttribute("data-precedence"),L=y.get(ie)||B,L===B&&y.set(null,R),y.set(ie,R),this.count++,B=VE.bind(this),R.addEventListener("load",B),R.addEventListener("error",B),L?L.parentNode.insertBefore(R,L.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(R,A.firstChild)),f.state.loading|=4}}var Vx={$$typeof:C,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function yoe(A,f,y,B,R,L,ie,de){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=B,this.onUncaughtError=R,this.onCaughtError=L,this.onRecoverableError=ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function KH(A,f,y,B,R,L,ie,de,Se,ze,it,at){return A=new yoe(A,f,y,ie,de,Se,ze,at),f=1,L===!0&&(f|=24),L=zs(3,null,null,f),A.current=L,L.stateNode=A,f=Xv(),f.refCount++,A.pooledCache=f,f.refCount++,L.memoizedState={element:B,isDehydrated:y,cache:f},lx(L),A}function $H(A){return A?(A=ma,A):ma}function XH(A,f,y,B,R,L){R=$H(R),B.context===null?B.context=R:B.pendingContext=R,B=th(f),B.payload={element:y},L=L===void 0?null:L,L!==null&&(B.callback=L),y=dc(A,B,f),y!==null&&(D(y,A,f),Kp(y,A,f))}function YH(A,f){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var y=A.retryLane;A.retryLane=y!==0&&y<f?y:f}}function TF(A,f){YH(A,f),(A=A.alternate)&&YH(A,f)}function ZH(A){if(A.tag===13){var f=Jh(A,67108864);f!==null&&D(f,A,67108864),TF(A,67108864)}}var WE=!0;function woe(A,f,y,B){var R=V.T;V.T=null;var L=Y.p;try{Y.p=2,IF(A,f,y,B)}finally{Y.p=L,V.T=R}}function xoe(A,f,y,B){var R=V.T;V.T=null;var L=Y.p;try{Y.p=8,IF(A,f,y,B)}finally{Y.p=L,V.T=R}}function IF(A,f,y,B){if(WE){var R=MF(B);if(R===null)gF(A,f,B,jE,y),e3(A,B);else if(Boe(R,A,f,y,B))B.stopPropagation();else if(e3(A,B),f&4&&-1<Coe.indexOf(A)){for(;R!==null;){var L=kn(R);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var ie=At(L.pendingLanes);if(ie!==0){var de=L;for(de.pendingLanes|=2,de.entangledLanes|=2;ie;){var Se=1<<31-Ge(ie);de.entanglements[1]|=Se,ie&=~Se}bA(L),(vn&6)===0&&(nf=z()+500,Lx(0))}}break;case 13:de=Jh(L,2),de!==null&&D(de,L,2),Me(),TF(L,2)}if(L=MF(B),L===null&&gF(A,f,B,jE,y),L===R)break;R=L}R!==null&&B.stopPropagation()}else gF(A,f,B,null,y)}}function MF(A){return A=Vu(A),RF(A)}var jE=null;function RF(A){if(jE=null,A=sa(A),A!==null){var f=o(A);if(f===null)A=null;else{var y=f.tag;if(y===13){if(A=s(f),A!==null)return A;A=null}else if(y===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;A=null}else f!==A&&(A=null)}}return jE=A,null}function JH(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(j()){case re:return 2;case ae:return 8;case X:case G:return 32;case ce:return 268435456;default:return 32}default:return 32}}var kF=!1,sf=null,af=null,lf=null,qx=new Map,Wx=new Map,cf=[],Coe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e3(A,f){switch(A){case"focusin":case"focusout":sf=null;break;case"dragenter":case"dragleave":af=null;break;case"mouseover":case"mouseout":lf=null;break;case"pointerover":case"pointerout":qx.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wx.delete(f.pointerId)}}function jx(A,f,y,B,R,L){return A===null||A.nativeEvent!==L?(A={blockedOn:f,domEventName:y,eventSystemFlags:B,nativeEvent:L,targetContainers:[R]},f!==null&&(f=kn(f),f!==null&&ZH(f)),A):(A.eventSystemFlags|=B,f=A.targetContainers,R!==null&&f.indexOf(R)===-1&&f.push(R),A)}function Boe(A,f,y,B,R){switch(f){case"focusin":return sf=jx(sf,A,f,y,B,R),!0;case"dragenter":return af=jx(af,A,f,y,B,R),!0;case"mouseover":return lf=jx(lf,A,f,y,B,R),!0;case"pointerover":var L=R.pointerId;return qx.set(L,jx(qx.get(L)||null,A,f,y,B,R)),!0;case"gotpointercapture":return L=R.pointerId,Wx.set(L,jx(Wx.get(L)||null,A,f,y,B,R)),!0}return!1}function t3(A){var f=sa(A.target);if(f!==null){var y=o(f);if(y!==null){if(f=y.tag,f===13){if(f=s(y),f!==null){A.blockedOn=f,Bi(A.priority,function(){if(y.tag===13){var B=w();B=zt(B);var R=Jh(y,B);R!==null&&D(R,y,B),TF(y,B)}});return}}else if(f===3&&y.stateNode.current.memoizedState.isDehydrated){A.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}A.blockedOn=null}function KE(A){if(A.blockedOn!==null)return!1;for(var f=A.targetContainers;0<f.length;){var y=MF(A.nativeEvent);if(y===null){y=A.nativeEvent;var B=new y.constructor(y.type,y);XA=B,y.target.dispatchEvent(B),XA=null}else return f=kn(y),f!==null&&ZH(f),A.blockedOn=y,!1;f.shift()}return!0}function i3(A,f,y){KE(A)&&y.delete(f)}function Soe(){kF=!1,sf!==null&&KE(sf)&&(sf=null),af!==null&&KE(af)&&(af=null),lf!==null&&KE(lf)&&(lf=null),qx.forEach(i3),Wx.forEach(i3)}function $E(A,f){A.blockedOn===f&&(A.blockedOn=null,kF||(kF=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Soe)))}var XE=null;function n3(A){XE!==A&&(XE=A,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){XE===A&&(XE=null);for(var f=0;f<A.length;f+=3){var y=A[f],B=A[f+1],R=A[f+2];if(typeof B!="function"){if(RF(B||y)===null)continue;break}var L=kn(y);L!==null&&(A.splice(f,3),f-=3,c0(L,{pending:!0,data:R,method:y.method,action:B},B,R))}}))}function Kx(A){function f(Se){return $E(Se,A)}sf!==null&&$E(sf,A),af!==null&&$E(af,A),lf!==null&&$E(lf,A),qx.forEach(f),Wx.forEach(f);for(var y=0;y<cf.length;y++){var B=cf[y];B.blockedOn===A&&(B.blockedOn=null)}for(;0<cf.length&&(y=cf[0],y.blockedOn===null);)t3(y),y.blockedOn===null&&cf.shift();if(y=(A.ownerDocument||A).$$reactFormReplay,y!=null)for(B=0;B<y.length;B+=3){var R=y[B],L=y[B+1],ie=R[ci]||null;if(typeof L=="function")ie||n3(y);else if(ie){var de=null;if(L&&L.hasAttribute("formAction")){if(R=L,ie=L[ci]||null)de=ie.formAction;else if(RF(R)!==null)continue}else de=ie.action;typeof de=="function"?y[B+1]=de:(y.splice(B,3),B-=3),n3(y)}}}function FF(A){this._internalRoot=A}YE.prototype.render=FF.prototype.render=function(A){var f=this._internalRoot;if(f===null)throw Error(n(409));var y=f.current,B=w();XH(y,B,A,f,null,null)},YE.prototype.unmount=FF.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var f=A.containerInfo;XH(A.current,2,null,A,null,null),Me(),f[er]=null}};function YE(A){this._internalRoot=A}YE.prototype.unstable_scheduleHydration=function(A){if(A){var f=$t();A={blockedOn:null,target:A,priority:f};for(var y=0;y<cf.length&&f!==0&&f<cf[y].priority;y++);cf.splice(y,0,A),y===0&&t3(A)}};var r3=e.version;if(r3!=="19.1.0")throw Error(n(527,r3,"19.1.0"));Y.findDOMNode=function(A){var f=A._reactInternals;if(f===void 0)throw typeof A.render=="function"?Error(n(188)):(A=Object.keys(A).join(","),Error(n(268,A)));return A=l(f),A=A!==null?c(A):null,A=A===null?null:A.stateNode,A};var Eoe={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ZE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ZE.isDisabled&&ZE.supportsFiber)try{ye=ZE.inject(Eoe),Ue=ZE}catch{}}return Xx.createRoot=function(A,f){if(!r(A))throw Error(n(299));var y=!1,B="",R=Mx,L=_d,ie=vd,de=null;return f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(B=f.identifierPrefix),f.onUncaughtError!==void 0&&(R=f.onUncaughtError),f.onCaughtError!==void 0&&(L=f.onCaughtError),f.onRecoverableError!==void 0&&(ie=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(de=f.unstable_transitionCallbacks)),f=KH(A,1,!1,null,null,y,B,R,L,ie,de,null),A[er]=f.current,fF(A),new FF(f)},Xx.hydrateRoot=function(A,f,y){if(!r(A))throw Error(n(299));var B=!1,R="",L=Mx,ie=_d,de=vd,Se=null,ze=null;return y!=null&&(y.unstable_strictMode===!0&&(B=!0),y.identifierPrefix!==void 0&&(R=y.identifierPrefix),y.onUncaughtError!==void 0&&(L=y.onUncaughtError),y.onCaughtError!==void 0&&(ie=y.onCaughtError),y.onRecoverableError!==void 0&&(de=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(Se=y.unstable_transitionCallbacks),y.formState!==void 0&&(ze=y.formState)),f=KH(A,1,!0,f,y??null,B,R,L,ie,de,Se,ze),f.context=$H(null),y=f.current,B=w(),B=zt(B),R=th(B),R.callback=null,dc(y,R,B),y=B,f.current.lanes=y,je(f,y),bA(f),A[er]=f.current,fF(A),new YE(f)},Xx.version="19.1.0",Xx}var p3;function Ooe(){if(p3)return PF.exports;p3=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),PF.exports=Loe(),PF.exports}var _Q=Ooe();const Qoe="modulepreload",Noe=function(i,e){return new URL(i,e).href},f3={},Hoe=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let s=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=s(t.map(u=>{if(u=Noe(u,n),u in f3)return;f3[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(!!n)for(let v=a.length-1;v>=0;v--){const _=a[v];if(_.href===u&&(!h||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Qoe,h||(g.as="script"),g.crossOrigin="",g.href=u,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((v,_)=>{g.addEventListener("load",v),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return r.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const aS="172",g_={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},m_={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Y$=0,gL=1,Z$=2,zoe=3,J$=0,TR=1,F2=2,Th=3,Pu=0,Us=1,vo=2,Ph=0,q_=1,mL=2,_L=3,vL=4,eX=5,Zf=100,tX=101,iX=102,nX=103,rX=104,oX=200,sX=201,aX=202,lX=203,LM=204,OM=205,cX=206,uX=207,hX=208,AX=209,dX=210,pX=211,fX=212,gX=213,mX=214,QM=0,NM=1,HM=2,sv=3,zM=4,GM=5,VM=6,qM=7,lS=0,_X=1,vX=2,Mu=0,vQ=1,bQ=2,yQ=3,IR=4,bX=5,wQ=6,Ry=7,bL="attached",yX="detached",vg=300,Mp=301,bg=302,av=303,cB=304,dw=306,Tl=1e3,dr=1001,Rp=1002,Pr=1003,Bv=1004,Goe=1004,PA=1005,Voe=1005,Ni=1006,vp=1007,qoe=1007,na=1008,yL=1008,Wr=1009,MR=1010,RR=1011,ky=1012,cS=1013,HA=1014,yr=1015,yo=1016,kR=1017,FR=1018,lv=1020,xQ=35902,CQ=1021,BQ=1022,On=1023,SQ=1024,EQ=1025,W_=1026,cv=1027,fp=1028,uS=1029,ng=1030,DR=1031,Woe=1032,UR=1033,D2=33776,vy=33777,U2=33778,by=33779,uB=35840,WM=35841,hB=35842,jM=35843,AB=36196,dB=37492,pB=37496,Fy=37808,KM=37809,$M=37810,XM=37811,Dy=37812,YM=37813,ZM=37814,JM=37815,e5=37816,t5=37817,i5=37818,n5=37819,r5=37820,o5=37821,yy=36492,s5=36494,fB=36495,TQ=36283,a5=36284,l5=36285,c5=36286,Uy=2200,j_=2201,gB=2202,uv=2300,hv=2301,HI=2302,F_=2400,D_=2401,mB=2402,PR=2500,IQ=2501,wX=0,MQ=1,u5=2,xX=3200,RQ=3201,joe=3202,Koe=3203,Ug=0,CX=1,Fc="",fi="srgb",Xn="srgb-linear",_B="linear",Pn="srgb",$oe=0,__=7680,Xoe=7681,Yoe=7682,Zoe=7683,Joe=34055,ese=34056,tse=5386,ise=512,nse=513,rse=514,ose=515,sse=516,ase=517,lse=518,wL=519,BX=512,SX=513,EX=514,kQ=515,TX=516,IX=517,MX=518,RX=519,vB=35044,cse=35048,use=35040,hse=35045,Ase=35049,dse=35041,pse=35046,fse=35050,gse=35042,mse="100",xL="300 es",Fh=2e3,bB=2001;class oc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let o=0,s=r.length;o<s;o++)r[o].call(this,e);e.target=null}}}const Sa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let g3=1234567;const K_=Math.PI/180,Py=180/Math.PI;function Lc(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Sa[i&255]+Sa[i>>8&255]+Sa[i>>16&255]+Sa[i>>24&255]+"-"+Sa[e&255]+Sa[e>>8&255]+"-"+Sa[e>>16&15|64]+Sa[e>>24&255]+"-"+Sa[t&63|128]+Sa[t>>8&255]+"-"+Sa[t>>16&255]+Sa[t>>24&255]+Sa[n&255]+Sa[n>>8&255]+Sa[n>>16&255]+Sa[n>>24&255]).toLowerCase()}function xi(i,e,t){return Math.max(e,Math.min(t,i))}function FQ(i,e){return(i%e+e)%e}function _se(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function vse(i,e,t){return i!==e?(t-i)/(e-i):0}function P2(i,e,t){return(1-t)*i+t*e}function bse(i,e,t,n){return P2(i,e,1-Math.exp(-t*n))}function yse(i,e=1){return e-Math.abs(FQ(i,e*2)-e)}function wse(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function xse(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function Cse(i,e){return i+Math.floor(Math.random()*(e-i+1))}function Bse(i,e){return i+Math.random()*(e-i)}function Sse(i){return i*(.5-Math.random())}function Ese(i){i!==void 0&&(g3=i);let e=g3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Tse(i){return i*K_}function Ise(i){return i*Py}function Mse(i){return(i&i-1)===0&&i!==0}function Rse(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function kse(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function Fse(i,e,t,n,r){const o=Math.cos,s=Math.sin,a=o(t/2),l=s(t/2),c=o((e+n)/2),u=s((e+n)/2),h=o((e-n)/2),d=s((e-n)/2),p=o((n-e)/2),g=s((n-e)/2);switch(r){case"XYX":i.set(a*u,l*h,l*d,a*c);break;case"YZY":i.set(l*d,a*u,l*h,a*c);break;case"ZXZ":i.set(l*h,l*d,a*u,a*c);break;case"XZX":i.set(a*u,l*g,l*p,a*c);break;case"YXY":i.set(l*p,a*u,l*g,a*c);break;case"ZYZ":i.set(l*g,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function xl(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Ri(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const Uo={DEG2RAD:K_,RAD2DEG:Py,generateUUID:Lc,clamp:xi,euclideanModulo:FQ,mapLinear:_se,inverseLerp:vse,lerp:P2,damp:bse,pingpong:yse,smoothstep:wse,smootherstep:xse,randInt:Cse,randFloat:Bse,randFloatSpread:Sse,seededRandom:Ese,degToRad:Tse,radToDeg:Ise,isPowerOfTwo:Mse,ceilPowerOfTwo:Rse,floorPowerOfTwo:kse,setQuaternionFromProperEuler:Fse,normalize:Ri,denormalize:xl};class et{constructor(e=0,t=0){et.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=xi(this.x,e.x,t.x),this.y=xi(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=xi(this.x,e,t),this.y=xi(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xi(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xi(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*n-s*r+e.x,this.y=o*r+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class pi{constructor(e,t,n,r,o,s,a,l,c){pi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,o,s,a,l,c)}set(e,t,n,r,o,s,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=o,u[5]=l,u[6]=n,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,s=n[0],a=n[3],l=n[6],c=n[1],u=n[4],h=n[7],d=n[2],p=n[5],g=n[8],v=r[0],_=r[3],b=r[6],x=r[1],C=r[4],S=r[7],E=r[2],I=r[5],M=r[8];return o[0]=s*v+a*x+l*E,o[3]=s*_+a*C+l*I,o[6]=s*b+a*S+l*M,o[1]=c*v+u*x+h*E,o[4]=c*_+u*C+h*I,o[7]=c*b+u*S+h*M,o[2]=d*v+p*x+g*E,o[5]=d*_+p*C+g*I,o[8]=d*b+p*S+g*M,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*s*u-t*a*c-n*o*u+n*a*l+r*o*c-r*s*l}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*s-a*c,d=a*l-u*o,p=c*o-s*l,g=t*h+n*d+r*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=h*v,e[1]=(r*c-u*n)*v,e[2]=(a*n-r*s)*v,e[3]=d*v,e[4]=(u*t-r*l)*v,e[5]=(r*o-a*t)*v,e[6]=p*v,e[7]=(n*l-c*t)*v,e[8]=(s*t-n*o)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(n*l,n*c,-n*(l*s+c*a)+s+e,-r*c,r*l,-r*(-c*s+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(NF.makeScale(e,t)),this}rotate(e){return this.premultiply(NF.makeRotation(-e)),this}translate(e,t){return this.premultiply(NF.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const NF=new pi;function kX(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const Dse={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ly(i,e){return new Dse[i](e)}function yB(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function FX(){const i=yB("canvas");return i.style.display="block",i}const m3={};function Zb(i){i in m3||(m3[i]=!0,console.warn(i))}function Use(i,e,t){return new Promise(function(n,r){function o(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:n()}}setTimeout(o,t)})}function Pse(i){const e=i.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Lse(i){const e=i.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const _3=new pi().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),v3=new pi().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Ose(){const i={enabled:!0,workingColorSpace:Xn,spaces:{},convert:function(r,o,s){return this.enabled===!1||o===s||!o||!s||(this.spaces[o].transfer===Pn&&(r.r=bp(r.r),r.g=bp(r.g),r.b=bp(r.b)),this.spaces[o].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[o].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===Pn&&(r.r=wy(r.r),r.g=wy(r.g),r.b=wy(r.b))),r},fromWorkingColorSpace:function(r,o){return this.convert(r,this.workingColorSpace,o)},toWorkingColorSpace:function(r,o){return this.convert(r,o,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Fc?_B:this.spaces[r].transfer},getLuminanceCoefficients:function(r,o=this.workingColorSpace){return r.fromArray(this.spaces[o].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,o,s){return r.copy(this.spaces[o].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[Xn]:{primaries:e,whitePoint:n,transfer:_B,toXYZ:_3,fromXYZ:v3,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:fi},outputColorSpaceConfig:{drawingBufferColorSpace:fi}},[fi]:{primaries:e,whitePoint:n,transfer:Pn,toXYZ:_3,fromXYZ:v3,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:fi}}}),i}const _i=Ose();function bp(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function wy(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let B0;class DX{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{B0===void 0&&(B0=yB("canvas")),B0.width=e.width,B0.height=e.height;const n=B0.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=B0}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=yB("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),o=r.data;for(let s=0;s<o.length;s++)o[s]=bp(o[s]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(bp(t[n]/255)*255):t[n]=bp(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Qse=0;class rg{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Qse++}),this.uuid=Lc(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let s=0,a=r.length;s<a;s++)r[s].isDataTexture?o.push(HF(r[s].image)):o.push(HF(r[s]))}else o=HF(r);n.url=o}return t||(e.images[this.uuid]=n),n}}function HF(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?DX.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Nse=0,Rn=class zI extends oc{constructor(e=zI.DEFAULT_IMAGE,t=zI.DEFAULT_MAPPING,n=dr,r=dr,o=Ni,s=na,a=On,l=Wr,c=zI.DEFAULT_ANISOTROPY,u=Fc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Nse++}),this.uuid=Lc(),this.name="",this.source=new rg(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new et(0,0),this.repeat=new et(1,1),this.center=new et(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new pi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==vg)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Tl:e.x=e.x-Math.floor(e.x);break;case dr:e.x=e.x<0?0:1;break;case Rp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Tl:e.y=e.y-Math.floor(e.y);break;case dr:e.y=e.y<0?0:1;break;case Rp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}};Rn.DEFAULT_IMAGE=null;Rn.DEFAULT_MAPPING=vg;Rn.DEFAULT_ANISOTROPY=1;class Wi{constructor(e=0,t=0,n=0,r=1){Wi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r+s[12]*o,this.y=s[1]*t+s[5]*n+s[9]*r+s[13]*o,this.z=s[2]*t+s[6]*n+s[10]*r+s[14]*o,this.w=s[3]*t+s[7]*n+s[11]*r+s[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,o;const l=e.elements,c=l[0],u=l[4],h=l[8],d=l[1],p=l[5],g=l[9],v=l[2],_=l[6],b=l[10];if(Math.abs(u-d)<.01&&Math.abs(h-v)<.01&&Math.abs(g-_)<.01){if(Math.abs(u+d)<.1&&Math.abs(h+v)<.1&&Math.abs(g+_)<.1&&Math.abs(c+p+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(c+1)/2,S=(p+1)/2,E=(b+1)/2,I=(u+d)/4,M=(h+v)/4,k=(g+_)/4;return C>S&&C>E?C<.01?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(C),r=I/n,o=M/n):S>E?S<.01?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(S),n=I/r,o=k/r):E<.01?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(E),n=M/o,r=k/o),this.set(n,r,o,t),this}let x=Math.sqrt((_-g)*(_-g)+(h-v)*(h-v)+(d-u)*(d-u));return Math.abs(x)<.001&&(x=1),this.x=(_-g)/x,this.y=(h-v)/x,this.z=(d-u)/x,this.w=Math.acos((c+p+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=xi(this.x,e.x,t.x),this.y=xi(this.y,e.y,t.y),this.z=xi(this.z,e.z,t.z),this.w=xi(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=xi(this.x,e,t),this.y=xi(this.y,e,t),this.z=xi(this.z,e,t),this.w=xi(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xi(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class LR extends oc{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Wi(0,0,e,t),this.scissorTest=!1,this.viewport=new Wi(0,0,e,t);const r={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ni,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const o=new Rn(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);o.flipY=!1,o.generateMipmaps=n.generateMipmaps,o.internalFormat=n.internalFormat,this.textures=[];const s=n.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,o=this.textures.length;r<o;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const t=Object.assign({},e.texture.image);return this.texture.source=new rg(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Il extends LR{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class hS extends Rn{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Pr,this.minFilter=Pr,this.wrapR=dr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Hse extends Il{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new hS(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class AS extends Rn{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Pr,this.minFilter=Pr,this.wrapR=dr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class zse extends Il{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new AS(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Mn{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,o,s,a){let l=n[r+0],c=n[r+1],u=n[r+2],h=n[r+3];const d=o[s+0],p=o[s+1],g=o[s+2],v=o[s+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h;return}if(a===1){e[t+0]=d,e[t+1]=p,e[t+2]=g,e[t+3]=v;return}if(h!==v||l!==d||c!==p||u!==g){let _=1-a;const b=l*d+c*p+u*g+h*v,x=b>=0?1:-1,C=1-b*b;if(C>Number.EPSILON){const E=Math.sqrt(C),I=Math.atan2(E,b*x);_=Math.sin(_*I)/E,a=Math.sin(a*I)/E}const S=a*x;if(l=l*_+d*S,c=c*_+p*S,u=u*_+g*S,h=h*_+v*S,_===1-a){const E=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=E,c*=E,u*=E,h*=E}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,n,r,o,s){const a=n[r],l=n[r+1],c=n[r+2],u=n[r+3],h=o[s],d=o[s+1],p=o[s+2],g=o[s+3];return e[t]=a*g+u*h+l*p-c*d,e[t+1]=l*g+u*d+c*h-a*p,e[t+2]=c*g+u*p+a*d-l*h,e[t+3]=u*g-a*h-l*d-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(n/2),u=a(r/2),h=a(o/2),d=l(n/2),p=l(r/2),g=l(o/2);switch(s){case"XYZ":this._x=d*u*h+c*p*g,this._y=c*p*h-d*u*g,this._z=c*u*g+d*p*h,this._w=c*u*h-d*p*g;break;case"YXZ":this._x=d*u*h+c*p*g,this._y=c*p*h-d*u*g,this._z=c*u*g-d*p*h,this._w=c*u*h+d*p*g;break;case"ZXY":this._x=d*u*h-c*p*g,this._y=c*p*h+d*u*g,this._z=c*u*g+d*p*h,this._w=c*u*h-d*p*g;break;case"ZYX":this._x=d*u*h-c*p*g,this._y=c*p*h+d*u*g,this._z=c*u*g-d*p*h,this._w=c*u*h+d*p*g;break;case"YZX":this._x=d*u*h+c*p*g,this._y=c*p*h+d*u*g,this._z=c*u*g-d*p*h,this._w=c*u*h-d*p*g;break;case"XZY":this._x=d*u*h-c*p*g,this._y=c*p*h-d*u*g,this._z=c*u*g+d*p*h,this._w=c*u*h+d*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],o=t[8],s=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],d=n+a+h;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(u-l)*p,this._y=(o-c)*p,this._z=(s-r)*p}else if(n>a&&n>h){const p=2*Math.sqrt(1+n-a-h);this._w=(u-l)/p,this._x=.25*p,this._y=(r+s)/p,this._z=(o+c)/p}else if(a>h){const p=2*Math.sqrt(1+a-n-h);this._w=(o-c)/p,this._x=(r+s)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+h-n-a);this._w=(s-r)/p,this._x=(o+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xi(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,o=e._z,s=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=n*u+s*a+r*c-o*l,this._y=r*u+s*l+o*a-n*c,this._z=o*u+s*c+n*l-r*a,this._w=s*u-n*a-r*l-o*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,o=this._z,s=this._w;let a=s*e._w+n*e._x+r*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=n,this._y=r,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-t;return this._w=p*s+t*this._w,this._x=p*n+t*this._x,this._y=p*r+t*this._y,this._z=p*o+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=s*h+this._w*d,this._x=n*h+this._x*d,this._y=r*h+this._y*d,this._z=o*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),o=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class he{constructor(e=0,t=0,n=0){he.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(b3.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(b3.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*r,this.y=o[1]*t+o[4]*n+o[7]*r,this.z=o[2]*t+o[5]*n+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=e.elements,s=1/(o[3]*t+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])*s,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])*s,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=2*(s*r-a*n),u=2*(a*t-o*r),h=2*(o*n-s*t);return this.x=t+l*c+s*h-a*u,this.y=n+l*u+a*c-o*h,this.z=r+l*h+o*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r,this.y=o[1]*t+o[5]*n+o[9]*r,this.z=o[2]*t+o[6]*n+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=xi(this.x,e.x,t.x),this.y=xi(this.y,e.y,t.y),this.z=xi(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=xi(this.x,e,t),this.y=xi(this.y,e,t),this.z=xi(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xi(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,o=e.z,s=t.x,a=t.y,l=t.z;return this.x=r*l-o*a,this.y=o*s-n*l,this.z=n*a-r*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return zF.copy(this).projectOnVector(e),this.sub(zF)}reflect(e){return this.sub(zF.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xi(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const zF=new he,b3=new Mn;class vr{constructor(e=new he(1/0,1/0,1/0),t=new he(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Ah.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Ah.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Ah.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const o=n.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,Ah):Ah.fromBufferAttribute(o,s),Ah.applyMatrix4(e.matrixWorld),this.expandByPoint(Ah);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),JE.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),JE.copy(n.boundingBox)),JE.applyMatrix4(e.matrixWorld),this.union(JE)}const r=e.children;for(let o=0,s=r.length;o<s;o++)this.expandByObject(r[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ah),Ah.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Yx),eT.subVectors(this.max,Yx),S0.subVectors(e.a,Yx),E0.subVectors(e.b,Yx),T0.subVectors(e.c,Yx),hf.subVectors(E0,S0),Af.subVectors(T0,E0),Um.subVectors(S0,T0);let t=[0,-hf.z,hf.y,0,-Af.z,Af.y,0,-Um.z,Um.y,hf.z,0,-hf.x,Af.z,0,-Af.x,Um.z,0,-Um.x,-hf.y,hf.x,0,-Af.y,Af.x,0,-Um.y,Um.x,0];return!GF(t,S0,E0,T0,eT)||(t=[1,0,0,0,1,0,0,0,1],!GF(t,S0,E0,T0,eT))?!1:(tT.crossVectors(hf,Af),t=[tT.x,tT.y,tT.z],GF(t,S0,E0,T0,eT))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ah).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ah).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Md[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Md[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Md[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Md[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Md[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Md[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Md[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Md[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Md),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Md=[new he,new he,new he,new he,new he,new he,new he,new he],Ah=new he,JE=new vr,S0=new he,E0=new he,T0=new he,hf=new he,Af=new he,Um=new he,Yx=new he,eT=new he,tT=new he,Pm=new he;function GF(i,e,t,n,r){for(let o=0,s=i.length-3;o<=s;o+=3){Pm.fromArray(i,o);const a=r.x*Math.abs(Pm.x)+r.y*Math.abs(Pm.y)+r.z*Math.abs(Pm.z),l=e.dot(Pm),c=t.dot(Pm),u=n.dot(Pm);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Gse=new vr,Zx=new he,VF=new he;class Oo{constructor(e=new he,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):Gse.setFromPoints(e).getCenter(n);let r=0;for(let o=0,s=e.length;o<s;o++)r=Math.max(r,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Zx.subVectors(e,this.center);const t=Zx.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(Zx,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(VF.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Zx.copy(e.center).add(VF)),this.expandByPoint(Zx.copy(e.center).sub(VF))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Rd=new he,qF=new he,iT=new he,df=new he,WF=new he,nT=new he,jF=new he;class Sv{constructor(e=new he,t=new he(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Rd)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Rd.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Rd.copy(this.origin).addScaledVector(this.direction,t),Rd.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){qF.copy(e).add(t).multiplyScalar(.5),iT.copy(t).sub(e).normalize(),df.copy(this.origin).sub(qF);const o=e.distanceTo(t)*.5,s=-this.direction.dot(iT),a=df.dot(this.direction),l=-df.dot(iT),c=df.lengthSq(),u=Math.abs(1-s*s);let h,d,p,g;if(u>0)if(h=s*l-a,d=s*a-l,g=o*u,h>=0)if(d>=-g)if(d<=g){const v=1/u;h*=v,d*=v,p=h*(h+s*d+2*a)+d*(s*h+d+2*l)+c}else d=o,h=Math.max(0,-(s*d+a)),p=-h*h+d*(d+2*l)+c;else d=-o,h=Math.max(0,-(s*d+a)),p=-h*h+d*(d+2*l)+c;else d<=-g?(h=Math.max(0,-(-s*o+a)),d=h>0?-o:Math.min(Math.max(-o,-l),o),p=-h*h+d*(d+2*l)+c):d<=g?(h=0,d=Math.min(Math.max(-o,-l),o),p=d*(d+2*l)+c):(h=Math.max(0,-(s*o+a)),d=h>0?o:Math.min(Math.max(-o,-l),o),p=-h*h+d*(d+2*l)+c);else d=s>0?-o:o,h=Math.max(0,-(s*d+a)),p=-h*h+d*(d+2*l)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(qF).addScaledVector(iT,d),p}intersectSphere(e,t){Rd.subVectors(e.center,this.origin);const n=Rd.dot(this.direction),r=Rd.dot(Rd)-n*n,o=e.radius*e.radius;if(r>o)return null;const s=Math.sqrt(o-r),a=n-s,l=n+s;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,o,s,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,d=this.origin;return c>=0?(n=(e.min.x-d.x)*c,r=(e.max.x-d.x)*c):(n=(e.max.x-d.x)*c,r=(e.min.x-d.x)*c),u>=0?(o=(e.min.y-d.y)*u,s=(e.max.y-d.y)*u):(o=(e.max.y-d.y)*u,s=(e.min.y-d.y)*u),n>s||o>r||((o>n||isNaN(n))&&(n=o),(s<r||isNaN(r))&&(r=s),h>=0?(a=(e.min.z-d.z)*h,l=(e.max.z-d.z)*h):(a=(e.max.z-d.z)*h,l=(e.min.z-d.z)*h),n>l||a>r)||((a>n||n!==n)&&(n=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,Rd)!==null}intersectTriangle(e,t,n,r,o){WF.subVectors(t,e),nT.subVectors(n,e),jF.crossVectors(WF,nT);let s=this.direction.dot(jF),a;if(s>0){if(r)return null;a=1}else if(s<0)a=-1,s=-s;else return null;df.subVectors(this.origin,e);const l=a*this.direction.dot(nT.crossVectors(df,nT));if(l<0)return null;const c=a*this.direction.dot(WF.cross(df));if(c<0||l+c>s)return null;const u=-a*df.dot(jF);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class St{constructor(e,t,n,r,o,s,a,l,c,u,h,d,p,g,v,_){St.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,o,s,a,l,c,u,h,d,p,g,v,_)}set(e,t,n,r,o,s,a,l,c,u,h,d,p,g,v,_){const b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=r,b[1]=o,b[5]=s,b[9]=a,b[13]=l,b[2]=c,b[6]=u,b[10]=h,b[14]=d,b[3]=p,b[7]=g,b[11]=v,b[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new St().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/I0.setFromMatrixColumn(e,0).length(),o=1/I0.setFromMatrixColumn(e,1).length(),s=1/I0.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,o=e.z,s=Math.cos(n),a=Math.sin(n),l=Math.cos(r),c=Math.sin(r),u=Math.cos(o),h=Math.sin(o);if(e.order==="XYZ"){const d=s*u,p=s*h,g=a*u,v=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=p+g*c,t[5]=d-v*c,t[9]=-a*l,t[2]=v-d*c,t[6]=g+p*c,t[10]=s*l}else if(e.order==="YXZ"){const d=l*u,p=l*h,g=c*u,v=c*h;t[0]=d+v*a,t[4]=g*a-p,t[8]=s*c,t[1]=s*h,t[5]=s*u,t[9]=-a,t[2]=p*a-g,t[6]=v+d*a,t[10]=s*l}else if(e.order==="ZXY"){const d=l*u,p=l*h,g=c*u,v=c*h;t[0]=d-v*a,t[4]=-s*h,t[8]=g+p*a,t[1]=p+g*a,t[5]=s*u,t[9]=v-d*a,t[2]=-s*c,t[6]=a,t[10]=s*l}else if(e.order==="ZYX"){const d=s*u,p=s*h,g=a*u,v=a*h;t[0]=l*u,t[4]=g*c-p,t[8]=d*c+v,t[1]=l*h,t[5]=v*c+d,t[9]=p*c-g,t[2]=-c,t[6]=a*l,t[10]=s*l}else if(e.order==="YZX"){const d=s*l,p=s*c,g=a*l,v=a*c;t[0]=l*u,t[4]=v-d*h,t[8]=g*h+p,t[1]=h,t[5]=s*u,t[9]=-a*u,t[2]=-c*u,t[6]=p*h+g,t[10]=d-v*h}else if(e.order==="XZY"){const d=s*l,p=s*c,g=a*l,v=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=d*h+v,t[5]=s*u,t[9]=p*h-g,t[2]=g*h-p,t[6]=a*u,t[10]=v*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Vse,e,qse)}lookAt(e,t,n){const r=this.elements;return yc.subVectors(e,t),yc.lengthSq()===0&&(yc.z=1),yc.normalize(),pf.crossVectors(n,yc),pf.lengthSq()===0&&(Math.abs(n.z)===1?yc.x+=1e-4:yc.z+=1e-4,yc.normalize(),pf.crossVectors(n,yc)),pf.normalize(),rT.crossVectors(yc,pf),r[0]=pf.x,r[4]=rT.x,r[8]=yc.x,r[1]=pf.y,r[5]=rT.y,r[9]=yc.y,r[2]=pf.z,r[6]=rT.z,r[10]=yc.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,s=n[0],a=n[4],l=n[8],c=n[12],u=n[1],h=n[5],d=n[9],p=n[13],g=n[2],v=n[6],_=n[10],b=n[14],x=n[3],C=n[7],S=n[11],E=n[15],I=r[0],M=r[4],k=r[8],F=r[12],P=r[1],Q=r[5],N=r[9],W=r[13],q=r[2],J=r[6],V=r[10],Y=r[14],Z=r[3],ue=r[7],$=r[11],ee=r[15];return o[0]=s*I+a*P+l*q+c*Z,o[4]=s*M+a*Q+l*J+c*ue,o[8]=s*k+a*N+l*V+c*$,o[12]=s*F+a*W+l*Y+c*ee,o[1]=u*I+h*P+d*q+p*Z,o[5]=u*M+h*Q+d*J+p*ue,o[9]=u*k+h*N+d*V+p*$,o[13]=u*F+h*W+d*Y+p*ee,o[2]=g*I+v*P+_*q+b*Z,o[6]=g*M+v*Q+_*J+b*ue,o[10]=g*k+v*N+_*V+b*$,o[14]=g*F+v*W+_*Y+b*ee,o[3]=x*I+C*P+S*q+E*Z,o[7]=x*M+C*Q+S*J+E*ue,o[11]=x*k+C*N+S*V+E*$,o[15]=x*F+C*W+S*Y+E*ee,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],d=e[10],p=e[14],g=e[3],v=e[7],_=e[11],b=e[15];return g*(+o*l*h-r*c*h-o*a*d+n*c*d+r*a*p-n*l*p)+v*(+t*l*p-t*c*d+o*s*d-r*s*p+r*c*u-o*l*u)+_*(+t*c*h-t*a*p-o*s*h+n*s*p+o*a*u-n*c*u)+b*(-r*a*u-t*l*h+t*a*d+r*s*h-n*s*d+n*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],p=e[11],g=e[12],v=e[13],_=e[14],b=e[15],x=h*_*c-v*d*c+v*l*p-a*_*p-h*l*b+a*d*b,C=g*d*c-u*_*c-g*l*p+s*_*p+u*l*b-s*d*b,S=u*v*c-g*h*c+g*a*p-s*v*p-u*a*b+s*h*b,E=g*h*l-u*v*l-g*a*d+s*v*d+u*a*_-s*h*_,I=t*x+n*C+r*S+o*E;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/I;return e[0]=x*M,e[1]=(v*d*o-h*_*o-v*r*p+n*_*p+h*r*b-n*d*b)*M,e[2]=(a*_*o-v*l*o+v*r*c-n*_*c-a*r*b+n*l*b)*M,e[3]=(h*l*o-a*d*o-h*r*c+n*d*c+a*r*p-n*l*p)*M,e[4]=C*M,e[5]=(u*_*o-g*d*o+g*r*p-t*_*p-u*r*b+t*d*b)*M,e[6]=(g*l*o-s*_*o-g*r*c+t*_*c+s*r*b-t*l*b)*M,e[7]=(s*d*o-u*l*o+u*r*c-t*d*c-s*r*p+t*l*p)*M,e[8]=S*M,e[9]=(g*h*o-u*v*o-g*n*p+t*v*p+u*n*b-t*h*b)*M,e[10]=(s*v*o-g*a*o+g*n*c-t*v*c-s*n*b+t*a*b)*M,e[11]=(u*a*o-s*h*o-u*n*c+t*h*c+s*n*p-t*a*p)*M,e[12]=E*M,e[13]=(u*v*r-g*h*r+g*n*d-t*v*d-u*n*_+t*h*_)*M,e[14]=(g*a*r-s*v*r-g*n*l+t*v*l+s*n*_-t*a*_)*M,e[15]=(s*h*r-u*a*r+u*n*l-t*h*l-s*n*d+t*a*d)*M,this}scale(e){const t=this.elements,n=e.x,r=e.y,o=e.z;return t[0]*=n,t[4]*=r,t[8]*=o,t[1]*=n,t[5]*=r,t[9]*=o,t[2]*=n,t[6]*=r,t[10]*=o,t[3]*=n,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),o=1-n,s=e.x,a=e.y,l=e.z,c=o*s,u=o*a;return this.set(c*s+n,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+n,u*l-r*s,0,c*l-r*a,u*l+r*s,o*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,o,s){return this.set(1,n,o,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,o=t._x,s=t._y,a=t._z,l=t._w,c=o+o,u=s+s,h=a+a,d=o*c,p=o*u,g=o*h,v=s*u,_=s*h,b=a*h,x=l*c,C=l*u,S=l*h,E=n.x,I=n.y,M=n.z;return r[0]=(1-(v+b))*E,r[1]=(p+S)*E,r[2]=(g-C)*E,r[3]=0,r[4]=(p-S)*I,r[5]=(1-(d+b))*I,r[6]=(_+x)*I,r[7]=0,r[8]=(g+C)*M,r[9]=(_-x)*M,r[10]=(1-(d+v))*M,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let o=I0.set(r[0],r[1],r[2]).length();const s=I0.set(r[4],r[5],r[6]).length(),a=I0.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],dh.copy(this);const c=1/o,u=1/s,h=1/a;return dh.elements[0]*=c,dh.elements[1]*=c,dh.elements[2]*=c,dh.elements[4]*=u,dh.elements[5]*=u,dh.elements[6]*=u,dh.elements[8]*=h,dh.elements[9]*=h,dh.elements[10]*=h,t.setFromRotationMatrix(dh),n.x=o,n.y=s,n.z=a,this}makePerspective(e,t,n,r,o,s,a=Fh){const l=this.elements,c=2*o/(t-e),u=2*o/(n-r),h=(t+e)/(t-e),d=(n+r)/(n-r);let p,g;if(a===Fh)p=-(s+o)/(s-o),g=-2*s*o/(s-o);else if(a===bB)p=-s/(s-o),g=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,o,s,a=Fh){const l=this.elements,c=1/(t-e),u=1/(n-r),h=1/(s-o),d=(t+e)*c,p=(n+r)*u;let g,v;if(a===Fh)g=(s+o)*h,v=-2*h;else if(a===bB)g=o*h,v=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=v,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const I0=new he,dh=new St,Vse=new he(0,0,0),qse=new he(1,1,1),pf=new he,rT=new he,yc=new he,y3=new St,w3=new Mn;class io{constructor(e=0,t=0,n=0,r=io.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,o=r[0],s=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],p=r[10];switch(t){case"XYZ":this._y=Math.asin(xi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-xi(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(xi(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-xi(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(xi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-xi(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return y3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(y3,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return w3.setFromEuler(this),this.setFromQuaternion(w3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}io.DEFAULT_ORDER="XYZ";class Ly{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Wse=0;const x3=new he,M0=new Mn,kd=new St,oT=new he,Jx=new he,jse=new he,Kse=new Mn,C3=new he(1,0,0),B3=new he(0,1,0),S3=new he(0,0,1),E3={type:"added"},$se={type:"removed"},R0={type:"childadded",child:null},KF={type:"childremoved",child:null};class Si extends oc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Wse++}),this.uuid=Lc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Si.DEFAULT_UP.clone();const e=new he,t=new io,n=new Mn,r=new he(1,1,1);function o(){n.setFromEuler(t,!1)}function s(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new St},normalMatrix:{value:new pi}}),this.matrix=new St,this.matrixWorld=new St,this.matrixAutoUpdate=Si.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Si.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ly,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return M0.setFromAxisAngle(e,t),this.quaternion.multiply(M0),this}rotateOnWorldAxis(e,t){return M0.setFromAxisAngle(e,t),this.quaternion.premultiply(M0),this}rotateX(e){return this.rotateOnAxis(C3,e)}rotateY(e){return this.rotateOnAxis(B3,e)}rotateZ(e){return this.rotateOnAxis(S3,e)}translateOnAxis(e,t){return x3.copy(e).applyQuaternion(this.quaternion),this.position.add(x3.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(C3,e)}translateY(e){return this.translateOnAxis(B3,e)}translateZ(e){return this.translateOnAxis(S3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(kd.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?oT.copy(e):oT.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Jx.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?kd.lookAt(Jx,oT,this.up):kd.lookAt(oT,Jx,this.up),this.quaternion.setFromRotationMatrix(kd),r&&(kd.extractRotation(r.matrixWorld),M0.setFromRotationMatrix(kd),this.quaternion.premultiply(M0.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(E3),R0.child=e,this.dispatchEvent(R0),R0.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent($se),KF.child=e,this.dispatchEvent(KF),KF.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),kd.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),kd.multiply(e.parent.matrixWorld)),e.applyMatrix4(kd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(E3),R0.child=e,this.dispatchEvent(R0),R0.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let o=0,s=r.length;o<s;o++)r[o].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jx,e,jse),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jx,Kse,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let o=0,s=r.length;o<s;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];o(e.shapes,h)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));r.material=a}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(o(e.animations,l))}}if(t){const a=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),h=s(e.shapes),d=s(e.skeletons),p=s(e.animations),g=s(e.nodes);a.length>0&&(n.geometries=a),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),u.length>0&&(n.images=u),h.length>0&&(n.shapes=h),d.length>0&&(n.skeletons=d),p.length>0&&(n.animations=p),g.length>0&&(n.nodes=g)}return n.object=r,n;function s(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}Si.DEFAULT_UP=new he(0,1,0);Si.DEFAULT_MATRIX_AUTO_UPDATE=!0;Si.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ph=new he,Fd=new he,$F=new he,Dd=new he,k0=new he,F0=new he,T3=new he,XF=new he,YF=new he,ZF=new he,JF=new Wi,eD=new Wi,tD=new Wi;class Ha{constructor(e=new he,t=new he,n=new he){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),ph.subVectors(e,t),r.cross(ph);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,n,r,o){ph.subVectors(r,t),Fd.subVectors(n,t),$F.subVectors(e,t);const s=ph.dot(ph),a=ph.dot(Fd),l=ph.dot($F),c=Fd.dot(Fd),u=Fd.dot($F),h=s*c-a*a;if(h===0)return o.set(0,0,0),null;const d=1/h,p=(c*l-a*u)*d,g=(s*u-a*l)*d;return o.set(1-p-g,g,p)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Dd)===null?!1:Dd.x>=0&&Dd.y>=0&&Dd.x+Dd.y<=1}static getInterpolation(e,t,n,r,o,s,a,l){return this.getBarycoord(e,t,n,r,Dd)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Dd.x),l.addScaledVector(s,Dd.y),l.addScaledVector(a,Dd.z),l)}static getInterpolatedAttribute(e,t,n,r,o,s){return JF.setScalar(0),eD.setScalar(0),tD.setScalar(0),JF.fromBufferAttribute(e,t),eD.fromBufferAttribute(e,n),tD.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(JF,o.x),s.addScaledVector(eD,o.y),s.addScaledVector(tD,o.z),s}static isFrontFacing(e,t,n,r){return ph.subVectors(n,t),Fd.subVectors(e,t),ph.cross(Fd).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ph.subVectors(this.c,this.b),Fd.subVectors(this.a,this.b),ph.cross(Fd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ha.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ha.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,o){return Ha.getInterpolation(e,this.a,this.b,this.c,t,n,r,o)}containsPoint(e){return Ha.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ha.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,o=this.c;let s,a;k0.subVectors(r,n),F0.subVectors(o,n),XF.subVectors(e,n);const l=k0.dot(XF),c=F0.dot(XF);if(l<=0&&c<=0)return t.copy(n);YF.subVectors(e,r);const u=k0.dot(YF),h=F0.dot(YF);if(u>=0&&h<=u)return t.copy(r);const d=l*h-u*c;if(d<=0&&l>=0&&u<=0)return s=l/(l-u),t.copy(n).addScaledVector(k0,s);ZF.subVectors(e,o);const p=k0.dot(ZF),g=F0.dot(ZF);if(g>=0&&p<=g)return t.copy(o);const v=p*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(n).addScaledVector(F0,a);const _=u*g-p*h;if(_<=0&&h-u>=0&&p-g>=0)return T3.subVectors(o,r),a=(h-u)/(h-u+(p-g)),t.copy(r).addScaledVector(T3,a);const b=1/(_+v+d);return s=v*b,a=d*b,t.copy(n).addScaledVector(k0,s).addScaledVector(F0,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const UX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ff={h:0,s:0,l:0},sT={h:0,s:0,l:0};function iD(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class ut{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=fi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,_i.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=_i.workingColorSpace){return this.r=e,this.g=t,this.b=n,_i.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=_i.workingColorSpace){if(e=FQ(e,1),t=xi(t,0,1),n=xi(n,0,1),t===0)this.r=this.g=this.b=n;else{const o=n<=.5?n*(1+t):n+t-n*t,s=2*n-o;this.r=iD(s,o,e+1/3),this.g=iD(s,o,e),this.b=iD(s,o,e-1/3)}return _i.toWorkingColorSpace(this,r),this}setStyle(e,t=fi){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=r[1],a=r[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=fi){const n=UX[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=bp(e.r),this.g=bp(e.g),this.b=bp(e.b),this}copyLinearToSRGB(e){return this.r=wy(e.r),this.g=wy(e.g),this.b=wy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fi){return _i.fromWorkingColorSpace(Ea.copy(this),e),Math.round(xi(Ea.r*255,0,255))*65536+Math.round(xi(Ea.g*255,0,255))*256+Math.round(xi(Ea.b*255,0,255))}getHexString(e=fi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=_i.workingColorSpace){_i.fromWorkingColorSpace(Ea.copy(this),t);const n=Ea.r,r=Ea.g,o=Ea.b,s=Math.max(n,r,o),a=Math.min(n,r,o);let l,c;const u=(a+s)/2;if(a===s)l=0,c=0;else{const h=s-a;switch(c=u<=.5?h/(s+a):h/(2-s-a),s){case n:l=(r-o)/h+(r<o?6:0);break;case r:l=(o-n)/h+2;break;case o:l=(n-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=_i.workingColorSpace){return _i.fromWorkingColorSpace(Ea.copy(this),t),e.r=Ea.r,e.g=Ea.g,e.b=Ea.b,e}getStyle(e=fi){_i.fromWorkingColorSpace(Ea.copy(this),e);const t=Ea.r,n=Ea.g,r=Ea.b;return e!==fi?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(ff),this.setHSL(ff.h+e,ff.s+t,ff.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(ff),e.getHSL(sT);const n=P2(ff.h,sT.h,t),r=P2(ff.s,sT.s,t),o=P2(ff.l,sT.l,t);return this.setHSL(n,r,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,o=e.elements;return this.r=o[0]*t+o[3]*n+o[6]*r,this.g=o[1]*t+o[4]*n+o[7]*r,this.b=o[2]*t+o[5]*n+o[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ea=new ut;ut.NAMES=UX;let Xse=0,no=class extends oc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Xse++}),this.uuid=Lc(),this.name="",this.type="Material",this.blending=q_,this.side=Pu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=LM,this.blendDst=OM,this.blendEquation=Zf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ut(0,0,0),this.blendAlpha=0,this.depthFunc=sv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=wL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=__,this.stencilZFail=__,this.stencilZPass=__,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==q_&&(n.blending=this.blending),this.side!==Pu&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==LM&&(n.blendSrc=this.blendSrc),this.blendDst!==OM&&(n.blendDst=this.blendDst),this.blendEquation!==Zf&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==sv&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==wL&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==__&&(n.stencilFail=this.stencilFail),this.stencilZFail!==__&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==__&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(t){const o=r(e.textures),s=r(e.images);o.length>0&&(n.textures=o),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let o=0;o!==r;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}};class ns extends no{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new io,this.combine=lS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ap=Yse();function Yse(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(n[l]=0,n[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(n[l]=1024>>-c-14,n[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(n[l]=c+15<<10,n[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(n[l]=31744,n[l|256]=64512,r[l]=24,r[l|256]=24):(n[l]=31744,n[l|256]=64512,r[l]=13,r[l|256]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;(c&8388608)===0;)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:o,exponentTable:s,offsetTable:a}}function $l(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=xi(i,-65504,65504),Ap.floatView[0]=i;const e=Ap.uint32View[0],t=e>>23&511;return Ap.baseTable[t]+((e&8388607)>>Ap.shiftTable[t])}function s2(i){const e=i>>10;return Ap.uint32View[0]=Ap.mantissaTable[Ap.offsetTable[e]+(i&1023)]+Ap.exponentTable[e],Ap.floatView[0]}const a2={toHalfFloat:$l,fromHalfFloat:s2},Ro=new he,aT=new et;class Ci{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=vB,this.updateRanges=[],this.gpuType=yr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)aT.fromBufferAttribute(this,t),aT.applyMatrix3(e),this.setXY(t,aT.x,aT.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Ro.fromBufferAttribute(this,t),Ro.applyMatrix3(e),this.setXYZ(t,Ro.x,Ro.y,Ro.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Ro.fromBufferAttribute(this,t),Ro.applyMatrix4(e),this.setXYZ(t,Ro.x,Ro.y,Ro.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ro.fromBufferAttribute(this,t),Ro.applyNormalMatrix(e),this.setXYZ(t,Ro.x,Ro.y,Ro.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ro.fromBufferAttribute(this,t),Ro.transformDirection(e),this.setXYZ(t,Ro.x,Ro.y,Ro.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=xl(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Ri(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=xl(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ri(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=xl(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ri(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=xl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ri(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=xl(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ri(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Ri(t,this.array),n=Ri(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Ri(t,this.array),n=Ri(n,this.array),r=Ri(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.normalized&&(t=Ri(t,this.array),n=Ri(n,this.array),r=Ri(r,this.array),o=Ri(o,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==vB&&(e.usage=this.usage),e}}class Zse extends Ci{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Jse extends Ci{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class eae extends Ci{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class tae extends Ci{constructor(e,t,n){super(new Int16Array(e),t,n)}}class OR extends Ci{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class iae extends Ci{constructor(e,t,n){super(new Int32Array(e),t,n)}}class DQ extends Ci{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class nae extends Ci{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=s2(this.array[e*this.itemSize]);return this.normalized&&(t=xl(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ri(t,this.array)),this.array[e*this.itemSize]=$l(t),this}getY(e){let t=s2(this.array[e*this.itemSize+1]);return this.normalized&&(t=xl(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ri(t,this.array)),this.array[e*this.itemSize+1]=$l(t),this}getZ(e){let t=s2(this.array[e*this.itemSize+2]);return this.normalized&&(t=xl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ri(t,this.array)),this.array[e*this.itemSize+2]=$l(t),this}getW(e){let t=s2(this.array[e*this.itemSize+3]);return this.normalized&&(t=xl(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ri(t,this.array)),this.array[e*this.itemSize+3]=$l(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Ri(t,this.array),n=Ri(n,this.array)),this.array[e+0]=$l(t),this.array[e+1]=$l(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Ri(t,this.array),n=Ri(n,this.array),r=Ri(r,this.array)),this.array[e+0]=$l(t),this.array[e+1]=$l(n),this.array[e+2]=$l(r),this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.normalized&&(t=Ri(t,this.array),n=Ri(n,this.array),r=Ri(r,this.array),o=Ri(o,this.array)),this.array[e+0]=$l(t),this.array[e+1]=$l(n),this.array[e+2]=$l(r),this.array[e+3]=$l(o),this}}class vt extends Ci{constructor(e,t,n){super(new Float32Array(e),t,n)}}let rae=0;const Au=new St,nD=new Si,D0=new he,wc=new vr,eC=new vr,ys=new he;class Kt extends oc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:rae++}),this.uuid=Lc(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(kX(e)?DQ:OR)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new pi().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Au.makeRotationFromQuaternion(e),this.applyMatrix4(Au),this}rotateX(e){return Au.makeRotationX(e),this.applyMatrix4(Au),this}rotateY(e){return Au.makeRotationY(e),this.applyMatrix4(Au),this}rotateZ(e){return Au.makeRotationZ(e),this.applyMatrix4(Au),this}translate(e,t,n){return Au.makeTranslation(e,t,n),this.applyMatrix4(Au),this}scale(e,t,n){return Au.makeScale(e,t,n),this.applyMatrix4(Au),this}lookAt(e){return nD.lookAt(e),nD.updateMatrix(),this.applyMatrix4(nD.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(D0).negate(),this.translate(D0.x,D0.y,D0.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let r=0,o=e.length;r<o;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}this.setAttribute("position",new vt(n,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const o=e[r];t.setXYZ(r,o.x,o.y,o.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new he(-1/0,-1/0,-1/0),new he(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const o=t[n];wc.setFromBufferAttribute(o),this.morphTargetsRelative?(ys.addVectors(this.boundingBox.min,wc.min),this.boundingBox.expandByPoint(ys),ys.addVectors(this.boundingBox.max,wc.max),this.boundingBox.expandByPoint(ys)):(this.boundingBox.expandByPoint(wc.min),this.boundingBox.expandByPoint(wc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Oo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new he,1/0);return}if(e){const n=this.boundingSphere.center;if(wc.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++){const a=t[o];eC.setFromBufferAttribute(a),this.morphTargetsRelative?(ys.addVectors(wc.min,eC.min),wc.expandByPoint(ys),ys.addVectors(wc.max,eC.max),wc.expandByPoint(ys)):(wc.expandByPoint(eC.min),wc.expandByPoint(eC.max))}wc.getCenter(n);let r=0;for(let o=0,s=e.count;o<s;o++)ys.fromBufferAttribute(e,o),r=Math.max(r,n.distanceToSquared(ys));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ys.fromBufferAttribute(a,c),l&&(D0.fromBufferAttribute(e,c),ys.add(D0)),r=Math.max(r,n.distanceToSquared(ys))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,r=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ci(new Float32Array(4*n.count),4));const s=this.getAttribute("tangent"),a=[],l=[];for(let k=0;k<n.count;k++)a[k]=new he,l[k]=new he;const c=new he,u=new he,h=new he,d=new et,p=new et,g=new et,v=new he,_=new he;function b(k,F,P){c.fromBufferAttribute(n,k),u.fromBufferAttribute(n,F),h.fromBufferAttribute(n,P),d.fromBufferAttribute(o,k),p.fromBufferAttribute(o,F),g.fromBufferAttribute(o,P),u.sub(c),h.sub(c),p.sub(d),g.sub(d);const Q=1/(p.x*g.y-g.x*p.y);isFinite(Q)&&(v.copy(u).multiplyScalar(g.y).addScaledVector(h,-p.y).multiplyScalar(Q),_.copy(h).multiplyScalar(p.x).addScaledVector(u,-g.x).multiplyScalar(Q),a[k].add(v),a[F].add(v),a[P].add(v),l[k].add(_),l[F].add(_),l[P].add(_))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let k=0,F=x.length;k<F;++k){const P=x[k],Q=P.start,N=P.count;for(let W=Q,q=Q+N;W<q;W+=3)b(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const C=new he,S=new he,E=new he,I=new he;function M(k){E.fromBufferAttribute(r,k),I.copy(E);const F=a[k];C.copy(F),C.sub(E.multiplyScalar(E.dot(F))).normalize(),S.crossVectors(I,F);const Q=S.dot(l[k])<0?-1:1;s.setXYZW(k,C.x,C.y,C.z,Q)}for(let k=0,F=x.length;k<F;++k){const P=x[k],Q=P.start,N=P.count;for(let W=Q,q=Q+N;W<q;W+=3)M(e.getX(W+0)),M(e.getX(W+1)),M(e.getX(W+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Ci(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let d=0,p=n.count;d<p;d++)n.setXYZ(d,0,0,0);const r=new he,o=new he,s=new he,a=new he,l=new he,c=new he,u=new he,h=new he;if(e)for(let d=0,p=e.count;d<p;d+=3){const g=e.getX(d+0),v=e.getX(d+1),_=e.getX(d+2);r.fromBufferAttribute(t,g),o.fromBufferAttribute(t,v),s.fromBufferAttribute(t,_),u.subVectors(s,o),h.subVectors(r,o),u.cross(h),a.fromBufferAttribute(n,g),l.fromBufferAttribute(n,v),c.fromBufferAttribute(n,_),a.add(u),l.add(u),c.add(u),n.setXYZ(g,a.x,a.y,a.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(_,c.x,c.y,c.z)}else for(let d=0,p=t.count;d<p;d+=3)r.fromBufferAttribute(t,d+0),o.fromBufferAttribute(t,d+1),s.fromBufferAttribute(t,d+2),u.subVectors(s,o),h.subVectors(r,o),u.cross(h),n.setXYZ(d+0,u.x,u.y,u.z),n.setXYZ(d+1,u.x,u.y,u.z),n.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ys.fromBufferAttribute(e,t),ys.normalize(),e.setXYZ(t,ys.x,ys.y,ys.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,d=new c.constructor(l.length*u);let p=0,g=0;for(let v=0,_=l.length;v<_;v++){a.isInterleavedBufferAttribute?p=l[v]*a.data.stride+a.offset:p=l[v]*u;for(let b=0;b<u;b++)d[g++]=c[p++]}return new Ci(d,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Kt,n=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,n);t.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const l=[],c=o[a];for(let u=0,h=c.length;u<h;u++){const d=c[u],p=e(d,n);l.push(p)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const c=s[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const c=n[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,d=c.length;h<d;h++){const p=c[h];u.push(p.toJSON(e.data))}u.length>0&&(r[l]=u,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const o=e.morphAttributes;for(const c in o){const u=[],h=o[c];for(let d=0,p=h.length;d<p;d++)u.push(h[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const h=s[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const I3=new St,Lm=new Sv,lT=new Oo,M3=new he,cT=new he,uT=new he,hT=new he,rD=new he,AT=new he,R3=new he,dT=new he;class Fi extends Si{constructor(e=new Kt,t=new ns){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,o=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(o&&a){AT.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=a[l],h=o[l];u!==0&&(rD.fromBufferAttribute(h,e),s?AT.addScaledVector(rD,u):AT.addScaledVector(rD.sub(t),u))}t.add(AT)}return t}raycast(e,t){const n=this.geometry,r=this.material,o=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),lT.copy(n.boundingSphere),lT.applyMatrix4(o),Lm.copy(e.ray).recast(e.near),!(lT.containsPoint(Lm.origin)===!1&&(Lm.intersectSphere(lT,M3)===null||Lm.origin.distanceToSquared(M3)>(e.far-e.near)**2))&&(I3.copy(o).invert(),Lm.copy(e.ray).applyMatrix4(I3),!(n.boundingBox!==null&&Lm.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Lm)))}_computeIntersections(e,t,n){let r;const o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,h=o.attributes.normal,d=o.groups,p=o.drawRange;if(a!==null)if(Array.isArray(s))for(let g=0,v=d.length;g<v;g++){const _=d[g],b=s[_.materialIndex],x=Math.max(_.start,p.start),C=Math.min(a.count,Math.min(_.start+_.count,p.start+p.count));for(let S=x,E=C;S<E;S+=3){const I=a.getX(S),M=a.getX(S+1),k=a.getX(S+2);r=pT(this,b,e,n,c,u,h,I,M,k),r&&(r.faceIndex=Math.floor(S/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const g=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);for(let _=g,b=v;_<b;_+=3){const x=a.getX(_),C=a.getX(_+1),S=a.getX(_+2);r=pT(this,s,e,n,c,u,h,x,C,S),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(s))for(let g=0,v=d.length;g<v;g++){const _=d[g],b=s[_.materialIndex],x=Math.max(_.start,p.start),C=Math.min(l.count,Math.min(_.start+_.count,p.start+p.count));for(let S=x,E=C;S<E;S+=3){const I=S,M=S+1,k=S+2;r=pT(this,b,e,n,c,u,h,I,M,k),r&&(r.faceIndex=Math.floor(S/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const g=Math.max(0,p.start),v=Math.min(l.count,p.start+p.count);for(let _=g,b=v;_<b;_+=3){const x=_,C=_+1,S=_+2;r=pT(this,s,e,n,c,u,h,x,C,S),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}}}function oae(i,e,t,n,r,o,s,a){let l;if(e.side===Us?l=n.intersectTriangle(s,o,r,!0,a):l=n.intersectTriangle(r,o,s,e.side===Pu,a),l===null)return null;dT.copy(a),dT.applyMatrix4(i.matrixWorld);const c=t.ray.origin.distanceTo(dT);return c<t.near||c>t.far?null:{distance:c,point:dT.clone(),object:i}}function pT(i,e,t,n,r,o,s,a,l,c){i.getVertexPosition(a,cT),i.getVertexPosition(l,uT),i.getVertexPosition(c,hT);const u=oae(i,e,t,n,cT,uT,hT,R3);if(u){const h=new he;Ha.getBarycoord(R3,cT,uT,hT,h),r&&(u.uv=Ha.getInterpolatedAttribute(r,a,l,c,h,new et)),o&&(u.uv1=Ha.getInterpolatedAttribute(o,a,l,c,h,new et)),s&&(u.normal=Ha.getInterpolatedAttribute(s,a,l,c,h,new he),u.normal.dot(n.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new he,materialIndex:0};Ha.getNormal(cT,uT,hT,d.normal),u.face=d,u.barycoord=h}return u}class zh extends Kt{constructor(e=1,t=1,n=1,r=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:o,depthSegments:s};const a=this;r=Math.floor(r),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],u=[],h=[];let d=0,p=0;g("z","y","x",-1,-1,n,t,e,s,o,0),g("z","y","x",1,-1,n,t,-e,s,o,1),g("x","z","y",1,1,e,n,t,r,s,2),g("x","z","y",1,-1,e,n,-t,r,s,3),g("x","y","z",1,-1,e,t,n,r,o,4),g("x","y","z",-1,-1,e,t,-n,r,o,5),this.setIndex(l),this.setAttribute("position",new vt(c,3)),this.setAttribute("normal",new vt(u,3)),this.setAttribute("uv",new vt(h,2));function g(v,_,b,x,C,S,E,I,M,k,F){const P=S/M,Q=E/k,N=S/2,W=E/2,q=I/2,J=M+1,V=k+1;let Y=0,Z=0;const ue=new he;for(let $=0;$<V;$++){const ee=$*Q-W;for(let oe=0;oe<J;oe++){const ge=oe*P-N;ue[v]=ge*x,ue[_]=ee*C,ue[b]=q,c.push(ue.x,ue.y,ue.z),ue[v]=0,ue[_]=0,ue[b]=I>0?1:-1,u.push(ue.x,ue.y,ue.z),h.push(oe/M),h.push(1-$/k),Y+=1}}for(let $=0;$<k;$++)for(let ee=0;ee<M;ee++){const oe=d+ee+J*$,ge=d+ee+J*($+1),se=d+(ee+1)+J*($+1),Ae=d+(ee+1)+J*$;l.push(oe,ge,Ae),l.push(ge,se,Ae),Z+=6}a.addGroup(p,Z,F),p+=Z,d+=Y}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Oy(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function dl(i){const e={};for(let t=0;t<i.length;t++){const n=Oy(i[t]);for(const r in n)e[r]=n[r]}return e}function sae(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function PX(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:_i.workingColorSpace}const UQ={clone:Oy,merge:dl};var aae=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,lae=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class qa extends no{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=aae,this.fragmentShader=lae,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Oy(e.uniforms),this.uniformsGroups=sae(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class QR extends Si{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new St,this.projectionMatrix=new St,this.projectionMatrixInverse=new St,this.coordinateSystem=Fh}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const gf=new he,k3=new et,F3=new et;class Kn extends QR{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Py*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(K_*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Py*2*Math.atan(Math.tan(K_*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){gf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(gf.x,gf.y).multiplyScalar(-e/gf.z),gf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(gf.x,gf.y).multiplyScalar(-e/gf.z)}getViewSize(e,t){return this.getViewBounds(e,k3,F3),t.subVectors(F3,k3)}setViewOffset(e,t,n,r,o,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(K_*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,o=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*r/l,t-=s.offsetY*n/c,r*=s.width/l,n*=s.height/c}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const U0=-90,P0=1;class h5 extends Si{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Kn(U0,P0,e,t);r.layers=this.layers,this.add(r);const o=new Kn(U0,P0,e,t);o.layers=this.layers,this.add(o);const s=new Kn(U0,P0,e,t);s.layers=this.layers,this.add(s);const a=new Kn(U0,P0,e,t);a.layers=this.layers,this.add(a);const l=new Kn(U0,P0,e,t);l.layers=this.layers,this.add(l);const c=new Kn(U0,P0,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,o,s,a,l]=t;for(const c of t)this.remove(c);if(e===Fh)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===bB)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,l,c,u]=this.children,h=e.getRenderTarget(),d=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const v=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,o),e.setRenderTarget(n,1,r),e.render(t,s),e.setRenderTarget(n,2,r),e.render(t,a),e.setRenderTarget(n,3,r),e.render(t,l),e.setRenderTarget(n,4,r),e.render(t,c),n.texture.generateMipmaps=v,e.setRenderTarget(n,5,r),e.render(t,u),e.setRenderTarget(h,d,p),e.xr.enabled=g,n.texture.needsPMREMUpdate=!0}}class dS extends Rn{constructor(e,t,n,r,o,s,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Mp,super(e,t,n,r,o,s,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class NR extends Il{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new dS(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Ni}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new zh(5,5,5),o=new qa({name:"CubemapFromEquirect",uniforms:Oy(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Us,blending:Ph});o.uniforms.tEquirect.value=t;const s=new Fi(r,o),a=t.minFilter;return t.minFilter===na&&(t.minFilter=Ni),new h5(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,n,r){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,n,r);e.setRenderTarget(o)}}class HR{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ut(e),this.density=t}clone(){return new HR(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class zR{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new ut(e),this.near=t,this.far=n}clone(){return new zR(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Lu extends Si{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new io,this.environmentIntensity=1,this.environmentRotation=new io,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class pS{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=vB,this.updateRanges=[],this.version=0,this.uuid=Lc()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Lc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Lc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ol=new he;class yg{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)ol.fromBufferAttribute(this,t),ol.applyMatrix4(e),this.setXYZ(t,ol.x,ol.y,ol.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ol.fromBufferAttribute(this,t),ol.applyNormalMatrix(e),this.setXYZ(t,ol.x,ol.y,ol.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ol.fromBufferAttribute(this,t),ol.transformDirection(e),this.setXYZ(t,ol.x,ol.y,ol.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=xl(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Ri(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Ri(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ri(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ri(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ri(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=xl(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=xl(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=xl(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=xl(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ri(t,this.array),n=Ri(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ri(t,this.array),n=Ri(n,this.array),r=Ri(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ri(t,this.array),n=Ri(n,this.array),r=Ri(r,this.array),o=Ri(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new Ci(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new yg(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class PQ extends no{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let L0;const tC=new he,O0=new he,Q0=new he,N0=new et,iC=new et,LX=new St,fT=new he,nC=new he,gT=new he,D3=new et,oD=new et,U3=new et;class OX extends Si{constructor(e=new PQ){if(super(),this.isSprite=!0,this.type="Sprite",L0===void 0){L0=new Kt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new pS(t,5);L0.setIndex([0,1,2,0,2,3]),L0.setAttribute("position",new yg(n,3,0,!1)),L0.setAttribute("uv",new yg(n,2,3,!1))}this.geometry=L0,this.material=e,this.center=new et(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),O0.setFromMatrixScale(this.matrixWorld),LX.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Q0.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&O0.multiplyScalar(-Q0.z);const n=this.material.rotation;let r,o;n!==0&&(o=Math.cos(n),r=Math.sin(n));const s=this.center;mT(fT.set(-.5,-.5,0),Q0,s,O0,r,o),mT(nC.set(.5,-.5,0),Q0,s,O0,r,o),mT(gT.set(.5,.5,0),Q0,s,O0,r,o),D3.set(0,0),oD.set(1,0),U3.set(1,1);let a=e.ray.intersectTriangle(fT,nC,gT,!1,tC);if(a===null&&(mT(nC.set(-.5,.5,0),Q0,s,O0,r,o),oD.set(0,1),a=e.ray.intersectTriangle(fT,gT,nC,!1,tC),a===null))return;const l=e.ray.origin.distanceTo(tC);l<e.near||l>e.far||t.push({distance:l,point:tC.clone(),uv:Ha.getInterpolation(tC,fT,nC,gT,D3,oD,U3,new et),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function mT(i,e,t,n,r,o){N0.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(iC.x=o*N0.x-r*N0.y,iC.y=r*N0.x+o*N0.y):iC.copy(N0),i.copy(e),i.x+=iC.x,i.y+=iC.y,i.applyMatrix4(LX)}const _T=new he,P3=new he;class QX extends Si{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const o=t[n];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let o;for(o=0;o<r.length&&!(t<r[o].distance);o++);return r.splice(o,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const r=t.splice(n,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let o=t[n].distance;if(t[n].object.visible&&(o-=o*t[n].hysteresis),e<o)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){_T.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(_T);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){_T.setFromMatrixPosition(e.matrixWorld),P3.setFromMatrixPosition(this.matrixWorld);const n=_T.distanceTo(P3)/e.zoom;t[0].object.visible=!0;let r,o;for(r=1,o=t.length;r<o;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),n>=s)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<o;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,o=n.length;r<o;r++){const s=n[r];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const L3=new he,O3=new Wi,Q3=new Wi,cae=new he,N3=new St,vT=new he,sD=new Oo,H3=new St,aD=new Sv;class GR extends Fi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=bL,this.bindMatrix=new St,this.bindMatrixInverse=new St,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new vr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,vT),this.boundingBox.expandByPoint(vT)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Oo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,vT),this.boundingSphere.expandByPoint(vT)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),sD.copy(this.boundingSphere),sD.applyMatrix4(r),e.ray.intersectsSphere(sD)!==!1&&(H3.copy(r).invert(),aD.copy(e.ray).applyMatrix4(H3),!(this.boundingBox!==null&&aD.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,aD)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Wi,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===bL?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===yX?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;O3.fromBufferAttribute(r.attributes.skinIndex,e),Q3.fromBufferAttribute(r.attributes.skinWeight,e),L3.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const s=Q3.getComponent(o);if(s!==0){const a=O3.getComponent(o);N3.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(cae.copy(L3).applyMatrix4(N3),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Qy extends Si{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ru extends Rn{constructor(e=null,t=1,n=1,r,o,s,a,l,c=Pr,u=Pr,h,d){super(null,s,a,l,c,u,r,o,h,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const z3=new St,uae=new St;class pw{constructor(e=[],t=[]){this.uuid=Lc(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new St)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new St;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const a=e[o]?e[o].matrixWorld:uae;z3.multiplyMatrices(a,t[o]),z3.toArray(n,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new pw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Ru(t,e,e,On,yr);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const o=e.bones[n];let s=t[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new Qy),this.bones.push(s),this.boneInverses.push(new St().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,o=t.length;r<o;r++){const s=t[r];e.bones.push(s.uuid);const a=n[r];e.boneInverses.push(a.toArray())}return e}}class wg extends Ci{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const H0=new St,G3=new St,bT=[],V3=new vr,hae=new St,rC=new Fi,oC=new Oo;class LQ extends Fi{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new wg(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,hae)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new vr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,H0),V3.copy(e.boundingBox).applyMatrix4(H0),this.boundingBox.union(V3)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Oo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,H0),oC.copy(e.boundingSphere).applyMatrix4(H0),this.boundingSphere.union(oC)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,o=n.length+1,s=e*o+1;for(let a=0;a<n.length;a++)n[a]=r[s+a]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(rC.geometry=this.geometry,rC.material=this.material,rC.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),oC.copy(this.boundingSphere),oC.applyMatrix4(n),e.ray.intersectsSphere(oC)!==!1))for(let o=0;o<r;o++){this.getMatrixAt(o,H0),G3.multiplyMatrices(n,H0),rC.matrixWorld=G3,rC.raycast(e,bT);for(let s=0,a=bT.length;s<a;s++){const l=bT[s];l.instanceId=o,l.object=this,t.push(l)}bT.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new wg(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;this.morphTexture===null&&(this.morphTexture=new Ru(new Float32Array(r*this.count),r,this.count,fp,yr));const o=this.morphTexture.source.data.data;let s=0;for(let c=0;c<n.length;c++)s+=n[c];const a=this.geometry.morphTargetsRelative?1:1-s,l=r*e;o[l]=a,o.set(n,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const lD=new he,Aae=new he,dae=new pi;class cp{constructor(e=new he(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=lD.subVectors(n,t).cross(Aae.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(lD),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(e.start).addScaledVector(n,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||dae.getNormalMatrix(e),r=this.coplanarPoint(lD).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Om=new Oo,yT=new he;class fS{constructor(e=new cp,t=new cp,n=new cp,r=new cp,o=new cp,s=new cp){this.planes=[e,t,n,r,o,s]}set(e,t,n,r,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Fh){const n=this.planes,r=e.elements,o=r[0],s=r[1],a=r[2],l=r[3],c=r[4],u=r[5],h=r[6],d=r[7],p=r[8],g=r[9],v=r[10],_=r[11],b=r[12],x=r[13],C=r[14],S=r[15];if(n[0].setComponents(l-o,d-c,_-p,S-b).normalize(),n[1].setComponents(l+o,d+c,_+p,S+b).normalize(),n[2].setComponents(l+s,d+u,_+g,S+x).normalize(),n[3].setComponents(l-s,d-u,_-g,S-x).normalize(),n[4].setComponents(l-a,d-h,_-v,S-C).normalize(),t===Fh)n[5].setComponents(l+a,d+h,_+v,S+C).normalize();else if(t===bB)n[5].setComponents(a,h,v,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Om.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Om.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Om)}intersectsSprite(e){return Om.center.set(0,0,0),Om.radius=.7071067811865476,Om.applyMatrix4(e.matrixWorld),this.intersectsSphere(Om)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(yT.x=r.normal.x>0?e.max.x:e.min.x,yT.y=r.normal.y>0?e.max.y:e.min.y,yT.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(yT)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function cD(i,e){return i-e}function pae(i,e){return i.z-e.z}function fae(i,e){return e.z-i.z}class gae{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const o=this.pool,s=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const a=o[this.index];s.push(a),this.index++,a.start=e,a.count=t,a.z=n,a.index=r}reset(){this.list.length=0,this.index=0}}const zl=new St,mae=new ut(1,1,1),uD=new fS,wT=new vr,Qm=new Oo,sC=new he,q3=new he,_ae=new he,hD=new gae,Ta=new Fi,xT=[];function vae(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const r=i.count;for(let o=0;o<r;o++)for(let s=0;s<n;s++)e.setComponent(o+t,s,i.getComponent(o,s))}else e.array.set(i.array,t*n);e.needsUpdate=!0}function Nm(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)e[n]=i[n]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class NX extends Fi{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,n=t*2,r){super(new Kt,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Ru(t,e,e,On,yr);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Ru(t,e,e,uS,HA);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Ru(t,e,e,On,yr);n.colorSpace=_i.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const s=e.getAttribute(o),{array:a,itemSize:l,normalized:c}=s,u=new a.constructor(n*l),h=new Ci(u,l,c);t.setAttribute(o,h)}if(e.getIndex()!==null){const o=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Ci(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),o=t.getAttribute(n);if(r.itemSize!==o.itemSize||r.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vr);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const o=t[n].geometryIndex;this.getMatrixAt(n,zl),this.getBoundingBoxAt(o,wT).applyMatrix4(zl),e.union(wT)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Oo);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const o=t[n].geometryIndex;this.getMatrixAt(n,zl),this.getBoundingSphereAt(o,Qm).applyMatrix4(zl),e.union(Qm)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(cD),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=n):(r=this._instanceInfo.length,this._instanceInfo.push(n));const o=this._matricesTexture;zl.identity().toArray(o.image.data,r*16),o.needsUpdate=!0;const s=this._colorsTexture;return s&&(mae.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=n===-1?s.count:n),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(cD),l=this._availableGeometryIds.shift(),o[l]=r):(l=this._geometryCount,this._geometryCount++,o.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=n.getIndex()!==null,o=n.getIndex(),s=t.getIndex(),a=this._geometryInfo[e];if(r&&s.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const u in n.attributes){const h=t.getAttribute(u),d=n.getAttribute(u);vae(h,d,l);const p=h.itemSize;for(let g=h.count,v=c;g<v;g++){const _=l+g;for(let b=0;b<p;b++)d.setComponent(_,b,0)}d.needsUpdate=!0,d.addUpdateRange(l*p,c*p)}if(r){const u=a.indexStart,h=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let d=0;d<s.count;d++)o.setX(u+d,l+s.getX(d));for(let d=s.count,p=h;d<p;d++)o.setX(u+d,l);o.needsUpdate=!0,o.addUpdateRange(u,a.reservedIndexCount)}return a.start=r?a.indexStart:a.vertexStart,a.count=r?a.indexCount:a.vertexCount,a.boundingBox=null,t.boundingBox!==null&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,t.boundingSphere!==null&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let r=0,o=n.length;r<o;r++)n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map((s,a)=>a).sort((s,a)=>n[s].vertexStart-n[a].vertexStart),o=this.geometry;for(let s=0,a=n.length;s<a;s++){const l=r[s],c=n[l];if(c.active!==!1){if(o.index!==null){if(c.indexStart!==t){const{indexStart:u,vertexStart:h,reservedIndexCount:d}=c,p=o.index,g=p.array,v=e-h;for(let _=u;_<u+d;_++)g[_]=g[_]+v;p.array.copyWithin(t,u,u+d),p.addUpdateRange(t,d),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:h}=c,d=o.attributes;for(const p in d){const g=d[p],{array:v,itemSize:_}=g;v.copyWithin(e*_,u*_,(u+h)*_),g.addUpdateRange(e*_,h*_)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=o.index?c.indexStart:c.vertexStart,this._nextIndexStart=o.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const o=new vr,s=n.index,a=n.attributes.position;for(let l=r.start,c=r.start+r.count;l<c;l++){let u=l;s&&(u=s.getX(u)),o.expandByPoint(sC.fromBufferAttribute(a,u))}r.boundingBox=o}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const o=new Oo;this.getBoundingBoxAt(e,wT),wT.getCenter(o.center);const s=n.index,a=n.attributes.position;let l=0;for(let c=r.start,u=r.start+r.count;c<u;c++){let h=c;s&&(h=s.getX(h)),sC.fromBufferAttribute(a,h),l=Math.max(l,o.center.distanceToSquared(sC))}o.radius=Math.sqrt(l),r.boundingSphere=o}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(cD);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),o=new Int32Array(e);Nm(this._multiDrawCounts,r),Nm(this._multiDrawStarts,o),this._multiDrawCounts=r,this._multiDrawStarts=o,this._maxInstanceCount=e;const s=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Nm(s.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),Nm(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Nm(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...n.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Kt,this._initializeGeometry(o));const s=this.geometry;o.index&&Nm(o.index.array,s.index.array);for(const a in o.attributes)Nm(o.attributes[a].array,s.attributes[a].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,o=this.matrixWorld,s=this.geometry;Ta.material=this.material,Ta.geometry.index=s.index,Ta.geometry.attributes=s.attributes,Ta.geometry.boundingBox===null&&(Ta.geometry.boundingBox=new vr),Ta.geometry.boundingSphere===null&&(Ta.geometry.boundingSphere=new Oo);for(let a=0,l=n.length;a<l;a++){if(!n[a].visible||!n[a].active)continue;const c=n[a].geometryIndex,u=r[c];Ta.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(a,Ta.matrixWorld).premultiply(o),this.getBoundingBoxAt(c,Ta.geometry.boundingBox),this.getBoundingSphereAt(c,Ta.geometry.boundingSphere),Ta.raycast(e,xT);for(let h=0,d=xT.length;h<d;h++){const p=xT[h];p.object=this,p.batchId=a,t.push(p)}xT.length=0}Ta.material=null,Ta.geometry.index=null,Ta.geometry.attributes={},Ta.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,r,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),a=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,h=this._geometryInfo,d=this.perObjectFrustumCulled,p=this._indirectTexture,g=p.image.data;d&&(zl.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),uD.setFromProjectionMatrix(zl,e.coordinateSystem));let v=0;if(this.sortObjects){zl.copy(this.matrixWorld).invert(),sC.setFromMatrixPosition(n.matrixWorld).applyMatrix4(zl),q3.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(zl);for(let x=0,C=l.length;x<C;x++)if(l[x].visible&&l[x].active){const S=l[x].geometryIndex;this.getMatrixAt(x,zl),this.getBoundingSphereAt(S,Qm).applyMatrix4(zl);let E=!1;if(d&&(E=!uD.intersectsSphere(Qm)),!E){const I=h[S],M=_ae.subVectors(Qm.center,sC).dot(q3);hD.push(I.start,I.count,M,x)}}const _=hD.list,b=this.customSort;b===null?_.sort(o.transparent?fae:pae):b.call(this,_,n);for(let x=0,C=_.length;x<C;x++){const S=_[x];c[v]=S.start*a,u[v]=S.count,g[v]=S.index,v++}hD.reset()}else for(let _=0,b=l.length;_<b;_++)if(l[_].visible&&l[_].active){const x=l[_].geometryIndex;let C=!1;if(d&&(this.getMatrixAt(_,zl),this.getBoundingSphereAt(x,Qm).applyMatrix4(zl),C=!uD.intersectsSphere(Qm)),!C){const S=h[x];c[v]=S.start*a,u[v]=S.count,g[v]=_,v++}}p.needsUpdate=!0,this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,o,s){this.onBeforeRender(e,null,r,o,s)}}class Qo extends no{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ut(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const A5=new he,d5=new he,W3=new St,aC=new Sv,CT=new Oo,AD=new he,j3=new he;class Ou extends Si{constructor(e=new Kt,t=new Qo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,o=t.count;r<o;r++)A5.fromBufferAttribute(t,r-1),d5.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=A5.distanceTo(d5);e.setAttribute("lineDistance",new vt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),CT.copy(n.boundingSphere),CT.applyMatrix4(r),CT.radius+=o,e.ray.intersectsSphere(CT)===!1)return;W3.copy(r).invert(),aC.copy(e.ray).applyMatrix4(W3);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=n.index,d=n.attributes.position;if(u!==null){const p=Math.max(0,s.start),g=Math.min(u.count,s.start+s.count);for(let v=p,_=g-1;v<_;v+=c){const b=u.getX(v),x=u.getX(v+1),C=BT(this,e,aC,l,b,x);C&&t.push(C)}if(this.isLineLoop){const v=u.getX(g-1),_=u.getX(p),b=BT(this,e,aC,l,v,_);b&&t.push(b)}}else{const p=Math.max(0,s.start),g=Math.min(d.count,s.start+s.count);for(let v=p,_=g-1;v<_;v+=c){const b=BT(this,e,aC,l,v,v+1);b&&t.push(b)}if(this.isLineLoop){const v=BT(this,e,aC,l,g-1,p);v&&t.push(v)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function BT(i,e,t,n,r,o){const s=i.geometry.attributes.position;if(A5.fromBufferAttribute(s,r),d5.fromBufferAttribute(s,o),t.distanceSqToSegment(A5,d5,AD,j3)>n)return;AD.applyMatrix4(i.matrixWorld);const l=e.ray.origin.distanceTo(AD);if(!(l<e.near||l>e.far))return{distance:l,point:j3.clone().applyMatrix4(i.matrixWorld),index:r,face:null,faceIndex:null,barycoord:null,object:i}}const K3=new he,$3=new he;class Nc extends Ou{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,o=t.count;r<o;r+=2)K3.fromBufferAttribute(t,r),$3.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+K3.distanceTo($3);e.setAttribute("lineDistance",new vt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class OQ extends Ou{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class og extends no{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const X3=new St,CL=new Sv,ST=new Oo,ET=new he;class xy extends Si{constructor(e=new Kt,t=new og){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),ST.copy(n.boundingSphere),ST.applyMatrix4(r),ST.radius+=o,e.ray.intersectsSphere(ST)===!1)return;X3.copy(r).invert(),CL.copy(e.ray).applyMatrix4(X3);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=n.index,h=n.attributes.position;if(c!==null){const d=Math.max(0,s.start),p=Math.min(c.count,s.start+s.count);for(let g=d,v=p;g<v;g++){const _=c.getX(g);ET.fromBufferAttribute(h,_),Y3(ET,_,l,r,e,t,this)}}else{const d=Math.max(0,s.start),p=Math.min(h.count,s.start+s.count);for(let g=d,v=p;g<v;g++)ET.fromBufferAttribute(h,g),Y3(ET,g,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function Y3(i,e,t,n,r,o,s){const a=CL.distanceSqToPoint(i);if(a<t){const l=new he;CL.closestPointToPoint(i,l),l.applyMatrix4(n);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class Dc extends Si{constructor(){super(),this.isGroup=!0,this.type="Group"}}class HX extends Rn{constructor(e,t,n,r,o,s,a,l,c){super(e,t,n,r,o,s,a,l,c),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:Ni,this.magFilter=o!==void 0?o:Ni,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class bae extends Rn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Pr,this.minFilter=Pr,this.generateMipmaps=!1,this.needsUpdate=!0}}class yp extends Rn{constructor(e,t,n,r,o,s,a,l,c,u,h,d){super(null,s,a,l,c,u,r,o,h,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class zX extends yp{constructor(e,t,n,r,o,s){super(e,t,n,o,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=dr,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class GX extends yp{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Mp),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class VX extends Rn{constructor(e,t,n,r,o,s,a,l,c){super(e,t,n,r,o,s,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class QQ extends Rn{constructor(e,t,n,r,o,s,a,l,c,u=W_){if(u!==W_&&u!==cv)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&u===W_&&(n=HA),n===void 0&&u===cv&&(n=lv),super(null,r,o,s,a,l,u,n,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Pr,this.minFilter=l!==void 0?l:Pr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Hu{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),o=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),o+=n.distanceTo(r),t.push(o),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const o=n.length;let s;t?s=t:s=e*n[o-1];let a=0,l=o-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=n[r]-s,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,n[r]===s)return r/(o-1);const u=n[r],d=n[r+1]-u,p=(s-u)/d;return(r+p)/(o-1)}getTangent(e,t){let r=e-1e-4,o=e+1e-4;r<0&&(r=0),o>1&&(o=1);const s=this.getPoint(r),a=this.getPoint(o),l=t||(s.isVector2?new et:new he);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new he,r=[],o=[],s=[],a=new he,l=new St;for(let p=0;p<=e;p++){const g=p/e;r[p]=this.getTangentAt(g,new he)}o[0]=new he,s[0]=new he;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),h=Math.abs(r[0].y),d=Math.abs(r[0].z);u<=c&&(c=u,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),d<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],a),s[0].crossVectors(r[0],o[0]);for(let p=1;p<=e;p++){if(o[p]=o[p-1].clone(),s[p]=s[p-1].clone(),a.crossVectors(r[p-1],r[p]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(xi(r[p-1].dot(r[p]),-1,1));o[p].applyMatrix4(l.makeRotationAxis(a,g))}s[p].crossVectors(r[p],o[p])}if(t===!0){let p=Math.acos(xi(o[0].dot(o[e]),-1,1));p/=e,r[0].dot(a.crossVectors(o[0],o[e]))>0&&(p=-p);for(let g=1;g<=e;g++)o[g].applyMatrix4(l.makeRotationAxis(r[g],p*g)),s[g].crossVectors(r[g],o[g])}return{tangents:r,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class VR extends Hu{constructor(e=0,t=0,n=1,r=1,o=0,s=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new et){const n=t,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(s?o=0:o=r),this.aClockwise===!0&&!s&&(o===r?o=-r:o=o-r);const a=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=l-this.aX,p=c-this.aY;l=d*u-p*h+this.aX,c=d*h+p*u+this.aY}return n.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class qX extends VR{constructor(e,t,n,r,o,s){super(e,t,n,n,r,o,s),this.isArcCurve=!0,this.type="ArcCurve"}}function NQ(){let i=0,e=0,t=0,n=0;function r(o,s,a,l){i=o,e=a,t=-3*o+3*s-2*a-l,n=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){r(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,u,h){let d=(s-o)/c-(a-o)/(c+u)+(a-s)/u,p=(a-s)/u-(l-s)/(u+h)+(l-a)/h;d*=u,p*=u,r(s,a,d,p)},calc:function(o){const s=o*o,a=s*o;return i+e*o+t*s+n*a}}}const TT=new he,dD=new NQ,pD=new NQ,fD=new NQ;class WX extends Hu{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new he){const n=t,r=this.points,o=r.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%o]:(TT.subVectors(r[0],r[1]).add(r[0]),c=TT);const h=r[a%o],d=r[(a+1)%o];if(this.closed||a+2<o?u=r[(a+2)%o]:(TT.subVectors(r[o-1],r[o-2]).add(r[o-1]),u=TT),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(h),p),v=Math.pow(h.distanceToSquared(d),p),_=Math.pow(d.distanceToSquared(u),p);v<1e-4&&(v=1),g<1e-4&&(g=v),_<1e-4&&(_=v),dD.initNonuniformCatmullRom(c.x,h.x,d.x,u.x,g,v,_),pD.initNonuniformCatmullRom(c.y,h.y,d.y,u.y,g,v,_),fD.initNonuniformCatmullRom(c.z,h.z,d.z,u.z,g,v,_)}else this.curveType==="catmullrom"&&(dD.initCatmullRom(c.x,h.x,d.x,u.x,this.tension),pD.initCatmullRom(c.y,h.y,d.y,u.y,this.tension),fD.initCatmullRom(c.z,h.z,d.z,u.z,this.tension));return n.set(dD.calc(l),pD.calc(l),fD.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new he().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Z3(i,e,t,n,r){const o=(n-e)*.5,s=(r-t)*.5,a=i*i,l=i*a;return(2*t-2*n+o+s)*l+(-3*t+3*n-2*o-s)*a+o*i+t}function yae(i,e){const t=1-i;return t*t*e}function wae(i,e){return 2*(1-i)*i*e}function xae(i,e){return i*i*e}function L2(i,e,t,n){return yae(i,e)+wae(i,t)+xae(i,n)}function Cae(i,e){const t=1-i;return t*t*t*e}function Bae(i,e){const t=1-i;return 3*t*t*i*e}function Sae(i,e){return 3*(1-i)*i*i*e}function Eae(i,e){return i*i*i*e}function O2(i,e,t,n,r){return Cae(i,e)+Bae(i,t)+Sae(i,n)+Eae(i,r)}class HQ extends Hu{constructor(e=new et,t=new et,n=new et,r=new et){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new et){const n=t,r=this.v0,o=this.v1,s=this.v2,a=this.v3;return n.set(O2(e,r.x,o.x,s.x,a.x),O2(e,r.y,o.y,s.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class jX extends Hu{constructor(e=new he,t=new he,n=new he,r=new he){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new he){const n=t,r=this.v0,o=this.v1,s=this.v2,a=this.v3;return n.set(O2(e,r.x,o.x,s.x,a.x),O2(e,r.y,o.y,s.y,a.y),O2(e,r.z,o.z,s.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class zQ extends Hu{constructor(e=new et,t=new et){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new et){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new et){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class KX extends Hu{constructor(e=new he,t=new he){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new he){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new he){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class GQ extends Hu{constructor(e=new et,t=new et,n=new et){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new et){const n=t,r=this.v0,o=this.v1,s=this.v2;return n.set(L2(e,r.x,o.x,s.x),L2(e,r.y,o.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class VQ extends Hu{constructor(e=new he,t=new he,n=new he){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new he){const n=t,r=this.v0,o=this.v1,s=this.v2;return n.set(L2(e,r.x,o.x,s.x),L2(e,r.y,o.y,s.y),L2(e,r.z,o.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qQ extends Hu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new et){const n=t,r=this.points,o=(r.length-1)*e,s=Math.floor(o),a=o-s,l=r[s===0?s:s-1],c=r[s],u=r[s>r.length-2?r.length-1:s+1],h=r[s>r.length-3?r.length-1:s+2];return n.set(Z3(a,l.x,c.x,u.x,h.x),Z3(a,l.y,c.y,u.y,h.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new et().fromArray(r))}return this}}var p5=Object.freeze({__proto__:null,ArcCurve:qX,CatmullRomCurve3:WX,CubicBezierCurve:HQ,CubicBezierCurve3:jX,EllipseCurve:VR,LineCurve:zQ,LineCurve3:KX,QuadraticBezierCurve:GQ,QuadraticBezierCurve3:VQ,SplineCurve:qQ});class $X extends Hu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new p5[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=n){const s=r[o]-n,a=this.curves[o],l=a.getLength(),c=l===0?0:1-s/l;return a.getPointAt(c,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,o=this.curves;r<o.length;r++){const s=o[r],a=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];n&&n.equals(u)||(t.push(u),n=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new p5[r.type]().fromJSON(r))}return this}}class wB extends $X{constructor(e){super(),this.type="Path",this.currentPoint=new et,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new zQ(this.currentPoint.clone(),new et(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const o=new GQ(this.currentPoint.clone(),new et(e,t),new et(n,r));return this.curves.push(o),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,o,s){const a=new HQ(this.currentPoint.clone(),new et(e,t),new et(n,r),new et(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new qQ(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,o,s){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,n,r,o,s),this}absarc(e,t,n,r,o,s){return this.absellipse(e,t,n,n,r,o,s),this}ellipse(e,t,n,r,o,s,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,n,r,o,s,a,l),this}absellipse(e,t,n,r,o,s,a,l){const c=new VR(e,t,n,r,o,s,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class gS extends Kt{constructor(e=[new et(0,-.5),new et(.5,0),new et(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=xi(r,0,Math.PI*2);const o=[],s=[],a=[],l=[],c=[],u=1/t,h=new he,d=new et,p=new he,g=new he,v=new he;let _=0,b=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:_=e[x+1].x-e[x].x,b=e[x+1].y-e[x].y,p.x=b*1,p.y=-_,p.z=b*0,v.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:_=e[x+1].x-e[x].x,b=e[x+1].y-e[x].y,p.x=b*1,p.y=-_,p.z=b*0,g.copy(p),p.x+=v.x,p.y+=v.y,p.z+=v.z,p.normalize(),l.push(p.x,p.y,p.z),v.copy(g)}for(let x=0;x<=t;x++){const C=n+x*u*r,S=Math.sin(C),E=Math.cos(C);for(let I=0;I<=e.length-1;I++){h.x=e[I].x*S,h.y=e[I].y,h.z=e[I].x*E,s.push(h.x,h.y,h.z),d.x=x/t,d.y=I/(e.length-1),a.push(d.x,d.y);const M=l[3*I+0]*S,k=l[3*I+1],F=l[3*I+0]*E;c.push(M,k,F)}}for(let x=0;x<t;x++)for(let C=0;C<e.length-1;C++){const S=C+x*e.length,E=S,I=S+e.length,M=S+e.length+1,k=S+1;o.push(E,I,k),o.push(M,k,I)}this.setIndex(o),this.setAttribute("position",new vt(s,3)),this.setAttribute("uv",new vt(a,2)),this.setAttribute("normal",new vt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gS(e.points,e.segments,e.phiStart,e.phiLength)}}class qR extends gS{constructor(e=1,t=1,n=4,r=8){const o=new wB;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new qR(e.radius,e.length,e.capSegments,e.radialSegments)}}class WR extends Kt{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const o=[],s=[],a=[],l=[],c=new he,u=new et;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,d=3;h<=t;h++,d+=3){const p=n+h/t*r;c.x=e*Math.cos(p),c.y=e*Math.sin(p),s.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(s[d]/e+1)/2,u.y=(s[d+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=t;h++)o.push(h,h+1,0);this.setIndex(o),this.setAttribute("position",new vt(s,3)),this.setAttribute("normal",new vt(a,3)),this.setAttribute("uv",new vt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WR(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class fw extends Kt{constructor(e=1,t=1,n=1,r=32,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),o=Math.floor(o);const u=[],h=[],d=[],p=[];let g=0;const v=[],_=n/2;let b=0;x(),s===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(u),this.setAttribute("position",new vt(h,3)),this.setAttribute("normal",new vt(d,3)),this.setAttribute("uv",new vt(p,2));function x(){const S=new he,E=new he;let I=0;const M=(t-e)/n;for(let k=0;k<=o;k++){const F=[],P=k/o,Q=P*(t-e)+e;for(let N=0;N<=r;N++){const W=N/r,q=W*l+a,J=Math.sin(q),V=Math.cos(q);E.x=Q*J,E.y=-P*n+_,E.z=Q*V,h.push(E.x,E.y,E.z),S.set(J,M,V).normalize(),d.push(S.x,S.y,S.z),p.push(W,1-P),F.push(g++)}v.push(F)}for(let k=0;k<r;k++)for(let F=0;F<o;F++){const P=v[F][k],Q=v[F+1][k],N=v[F+1][k+1],W=v[F][k+1];(e>0||F!==0)&&(u.push(P,Q,W),I+=3),(t>0||F!==o-1)&&(u.push(Q,N,W),I+=3)}c.addGroup(b,I,0),b+=I}function C(S){const E=g,I=new et,M=new he;let k=0;const F=S===!0?e:t,P=S===!0?1:-1;for(let N=1;N<=r;N++)h.push(0,_*P,0),d.push(0,P,0),p.push(.5,.5),g++;const Q=g;for(let N=0;N<=r;N++){const q=N/r*l+a,J=Math.cos(q),V=Math.sin(q);M.x=F*V,M.y=_*P,M.z=F*J,h.push(M.x,M.y,M.z),d.push(0,P,0),I.x=J*.5+.5,I.y=V*.5*P+.5,p.push(I.x,I.y),g++}for(let N=0;N<r;N++){const W=E+N,q=Q+N;S===!0?u.push(q,q+1,W):u.push(q+1,q,W),k+=3}c.addGroup(b,k,S===!0?1:2),b+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fw(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class jR extends fw{constructor(e=1,t=1,n=32,r=1,o=!1,s=0,a=Math.PI*2){super(0,e,t,n,r,o,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new jR(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Pg extends Kt{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const o=[],s=[];a(r),c(n),u(),this.setAttribute("position",new vt(o,3)),this.setAttribute("normal",new vt(o.slice(),3)),this.setAttribute("uv",new vt(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const C=new he,S=new he,E=new he;for(let I=0;I<t.length;I+=3)p(t[I+0],C),p(t[I+1],S),p(t[I+2],E),l(C,S,E,x)}function l(x,C,S,E){const I=E+1,M=[];for(let k=0;k<=I;k++){M[k]=[];const F=x.clone().lerp(S,k/I),P=C.clone().lerp(S,k/I),Q=I-k;for(let N=0;N<=Q;N++)N===0&&k===I?M[k][N]=F:M[k][N]=F.clone().lerp(P,N/Q)}for(let k=0;k<I;k++)for(let F=0;F<2*(I-k)-1;F++){const P=Math.floor(F/2);F%2===0?(d(M[k][P+1]),d(M[k+1][P]),d(M[k][P])):(d(M[k][P+1]),d(M[k+1][P+1]),d(M[k+1][P]))}}function c(x){const C=new he;for(let S=0;S<o.length;S+=3)C.x=o[S+0],C.y=o[S+1],C.z=o[S+2],C.normalize().multiplyScalar(x),o[S+0]=C.x,o[S+1]=C.y,o[S+2]=C.z}function u(){const x=new he;for(let C=0;C<o.length;C+=3){x.x=o[C+0],x.y=o[C+1],x.z=o[C+2];const S=_(x)/2/Math.PI+.5,E=b(x)/Math.PI+.5;s.push(S,1-E)}g(),h()}function h(){for(let x=0;x<s.length;x+=6){const C=s[x+0],S=s[x+2],E=s[x+4],I=Math.max(C,S,E),M=Math.min(C,S,E);I>.9&&M<.1&&(C<.2&&(s[x+0]+=1),S<.2&&(s[x+2]+=1),E<.2&&(s[x+4]+=1))}}function d(x){o.push(x.x,x.y,x.z)}function p(x,C){const S=x*3;C.x=e[S+0],C.y=e[S+1],C.z=e[S+2]}function g(){const x=new he,C=new he,S=new he,E=new he,I=new et,M=new et,k=new et;for(let F=0,P=0;F<o.length;F+=9,P+=6){x.set(o[F+0],o[F+1],o[F+2]),C.set(o[F+3],o[F+4],o[F+5]),S.set(o[F+6],o[F+7],o[F+8]),I.set(s[P+0],s[P+1]),M.set(s[P+2],s[P+3]),k.set(s[P+4],s[P+5]),E.copy(x).add(C).add(S).divideScalar(3);const Q=_(E);v(I,P+0,x,Q),v(M,P+2,C,Q),v(k,P+4,S,Q)}}function v(x,C,S,E){E<0&&x.x===1&&(s[C]=x.x-1),S.x===0&&S.z===0&&(s[C]=E/2/Math.PI+.5)}function _(x){return Math.atan2(x.z,-x.x)}function b(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pg(e.vertices,e.indices,e.radius,e.details)}}class KR extends Pg{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new KR(e.radius,e.detail)}}const IT=new he,MT=new he,gD=new he,RT=new Ha;class XX extends Kt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),o=Math.cos(K_*t),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),d={},p=[];for(let g=0;g<l;g+=3){s?(c[0]=s.getX(g),c[1]=s.getX(g+1),c[2]=s.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:v,b:_,c:b}=RT;if(v.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),b.fromBufferAttribute(a,c[2]),RT.getNormal(gD),h[0]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,h[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,h[2]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let x=0;x<3;x++){const C=(x+1)%3,S=h[x],E=h[C],I=RT[u[x]],M=RT[u[C]],k=`${S}_${E}`,F=`${E}_${S}`;F in d&&d[F]?(gD.dot(d[F].normal)<=o&&(p.push(I.x,I.y,I.z),p.push(M.x,M.y,M.z)),d[F]=null):k in d||(d[k]={index0:c[x],index1:c[C],normal:gD.clone()})}}for(const g in d)if(d[g]){const{index0:v,index1:_}=d[g];IT.fromBufferAttribute(a,v),MT.fromBufferAttribute(a,_),p.push(IT.x,IT.y,IT.z),p.push(MT.x,MT.y,MT.z)}this.setAttribute("position",new vt(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class $_ extends wB{constructor(e){super(e),this.uuid=Lc(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new wB().fromJSON(r))}return this}}const Tae={triangulate:function(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let o=YX(i,0,r,t,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c,u,h,d,p;if(n&&(o=Fae(i,e,o,t)),i.length>80*t){a=c=i[0],l=u=i[1];for(let g=t;g<r;g+=t)h=i[g],d=i[g+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);p=Math.max(c-a,u-l),p=p!==0?32767/p:0}return xB(o,s,t,a,l,p,0),s}};function YX(i,e,t,n,r){let o,s;if(r===Vae(i,e,t,n)>0)for(o=e;o<t;o+=n)s=J3(o,i[o],i[o+1],s);else for(o=t-n;o>=e;o-=n)s=J3(o,i[o],i[o+1],s);return s&&$R(s,s.next)&&(BB(s),s=s.next),s}function Av(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&($R(t,t.next)||$r(t.prev,t,t.next)===0)){if(BB(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function xB(i,e,t,n,r,o,s){if(!i)return;!s&&o&&Oae(i,n,r,o);let a=i,l,c;for(;i.prev!==i.next;){if(l=i.prev,c=i.next,o?Mae(i,n,r,o):Iae(i)){e.push(l.i/t|0),e.push(i.i/t|0),e.push(c.i/t|0),BB(i),i=c.next,a=c.next;continue}if(i=c,i===a){s?s===1?(i=Rae(Av(i),e,t),xB(i,e,t,n,r,o,2)):s===2&&kae(i,e,t,n,r,o):xB(Av(i),e,t,n,r,o,1);break}}}function Iae(i){const e=i.prev,t=i,n=i.next;if($r(e,t,n)>=0)return!1;const r=e.x,o=t.x,s=n.x,a=e.y,l=t.y,c=n.y,u=r<o?r<s?r:s:o<s?o:s,h=a<l?a<c?a:c:l<c?l:c,d=r>o?r>s?r:s:o>s?o:s,p=a>l?a>c?a:c:l>c?l:c;let g=n.next;for(;g!==e;){if(g.x>=u&&g.x<=d&&g.y>=h&&g.y<=p&&cy(r,a,o,l,s,c,g.x,g.y)&&$r(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function Mae(i,e,t,n){const r=i.prev,o=i,s=i.next;if($r(r,o,s)>=0)return!1;const a=r.x,l=o.x,c=s.x,u=r.y,h=o.y,d=s.y,p=a<l?a<c?a:c:l<c?l:c,g=u<h?u<d?u:d:h<d?h:d,v=a>l?a>c?a:c:l>c?l:c,_=u>h?u>d?u:d:h>d?h:d,b=BL(p,g,e,t,n),x=BL(v,_,e,t,n);let C=i.prevZ,S=i.nextZ;for(;C&&C.z>=b&&S&&S.z<=x;){if(C.x>=p&&C.x<=v&&C.y>=g&&C.y<=_&&C!==r&&C!==s&&cy(a,u,l,h,c,d,C.x,C.y)&&$r(C.prev,C,C.next)>=0||(C=C.prevZ,S.x>=p&&S.x<=v&&S.y>=g&&S.y<=_&&S!==r&&S!==s&&cy(a,u,l,h,c,d,S.x,S.y)&&$r(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;C&&C.z>=b;){if(C.x>=p&&C.x<=v&&C.y>=g&&C.y<=_&&C!==r&&C!==s&&cy(a,u,l,h,c,d,C.x,C.y)&&$r(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;S&&S.z<=x;){if(S.x>=p&&S.x<=v&&S.y>=g&&S.y<=_&&S!==r&&S!==s&&cy(a,u,l,h,c,d,S.x,S.y)&&$r(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function Rae(i,e,t){let n=i;do{const r=n.prev,o=n.next.next;!$R(r,o)&&ZX(r,n,n.next,o)&&CB(r,o)&&CB(o,r)&&(e.push(r.i/t|0),e.push(n.i/t|0),e.push(o.i/t|0),BB(n),BB(n.next),n=i=o),n=n.next}while(n!==i);return Av(n)}function kae(i,e,t,n,r,o){let s=i;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&Hae(s,a)){let l=JX(s,a);s=Av(s,s.next),l=Av(l,l.next),xB(s,e,t,n,r,o,0),xB(l,e,t,n,r,o,0);return}a=a.next}s=s.next}while(s!==i)}function Fae(i,e,t,n){const r=[];let o,s,a,l,c;for(o=0,s=e.length;o<s;o++)a=e[o]*n,l=o<s-1?e[o+1]*n:i.length,c=YX(i,a,l,n,!1),c===c.next&&(c.steiner=!0),r.push(Nae(c));for(r.sort(Dae),o=0;o<r.length;o++)t=Uae(r[o],t);return t}function Dae(i,e){return i.x-e.x}function Uae(i,e){const t=Pae(i,e);if(!t)return e;const n=JX(t,i);return Av(n,n.next),Av(t,t.next)}function Pae(i,e){let t=e,n=-1/0,r;const o=i.x,s=i.y;do{if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const d=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=o&&d>n&&(n=d,r=t.x<t.next.x?t:t.next,d===o))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let u=1/0,h;t=r;do o>=t.x&&t.x>=l&&o!==t.x&&cy(s<c?o:n,s,l,c,s<c?n:o,s,t.x,t.y)&&(h=Math.abs(s-t.y)/(o-t.x),CB(t,i)&&(h<u||h===u&&(t.x>r.x||t.x===r.x&&Lae(r,t)))&&(r=t,u=h)),t=t.next;while(t!==a);return r}function Lae(i,e){return $r(i.prev,i,e.prev)<0&&$r(e.next,i,i.next)<0}function Oae(i,e,t,n){let r=i;do r.z===0&&(r.z=BL(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,Qae(r)}function Qae(i){let e,t,n,r,o,s,a,l,c=1;do{for(t=i,i=null,o=null,s=0;t;){for(s++,n=t,a=0,e=0;e<c&&(a++,n=n.nextZ,!!n);e++);for(l=c;a>0||l>0&&n;)a!==0&&(l===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,a--):(r=n,n=n.nextZ,l--),o?o.nextZ=r:i=r,r.prevZ=o,o=r;t=n}o.nextZ=null,c*=2}while(s>1);return i}function BL(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function Nae(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function cy(i,e,t,n,r,o,s,a){return(r-s)*(e-a)>=(i-s)*(o-a)&&(i-s)*(n-a)>=(t-s)*(e-a)&&(t-s)*(o-a)>=(r-s)*(n-a)}function Hae(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!zae(i,e)&&(CB(i,e)&&CB(e,i)&&Gae(i,e)&&($r(i.prev,i,e.prev)||$r(i,e.prev,e))||$R(i,e)&&$r(i.prev,i,i.next)>0&&$r(e.prev,e,e.next)>0)}function $r(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function $R(i,e){return i.x===e.x&&i.y===e.y}function ZX(i,e,t,n){const r=FT($r(i,e,t)),o=FT($r(i,e,n)),s=FT($r(t,n,i)),a=FT($r(t,n,e));return!!(r!==o&&s!==a||r===0&&kT(i,t,e)||o===0&&kT(i,n,e)||s===0&&kT(t,i,n)||a===0&&kT(t,e,n))}function kT(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function FT(i){return i>0?1:i<0?-1:0}function zae(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&ZX(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function CB(i,e){return $r(i.prev,i,i.next)<0?$r(i,e,i.next)>=0&&$r(i,i.prev,e)>=0:$r(i,e,i.prev)<0||$r(i,i.next,e)<0}function Gae(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,o=(i.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&r<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function JX(i,e){const t=new SL(i.i,i.x,i.y),n=new SL(e.i,e.x,e.y),r=i.next,o=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,o.next=n,n.prev=o,n}function J3(i,e,t,n){const r=new SL(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function BB(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function SL(i,e,t){this.i=i,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Vae(i,e,t,n){let r=0;for(let o=e,s=t-n;o<t;o+=n)r+=(i[s]-i[o])*(i[o+1]+i[s+1]),s=o;return r}class Lh{static area(e){const t=e.length;let n=0;for(let r=t-1,o=0;o<t;r=o++)n+=e[r].x*e[o].y-e[o].x*e[r].y;return n*.5}static isClockWise(e){return Lh.area(e)<0}static triangulateShape(e,t){const n=[],r=[],o=[];ez(e),tz(n,e);let s=e.length;t.forEach(ez);for(let l=0;l<t.length;l++)r.push(s),s+=t[l].length,tz(n,t[l]);const a=Tae.triangulate(n,r);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}}function ez(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function tz(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class XR extends Kt{constructor(e=new $_([new et(.5,.5),new et(-.5,.5),new et(-.5,-.5),new et(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];s(c)}this.setAttribute("position",new vt(r,3)),this.setAttribute("uv",new vt(o,2)),this.computeVertexNormals();function s(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:p-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:qae;let C,S=!1,E,I,M,k;b&&(C=b.getSpacedPoints(u),S=!0,d=!1,E=b.computeFrenetFrames(u,!1),I=new he,M=new he,k=new he),d||(_=0,p=0,g=0,v=0);const F=a.extractPoints(c);let P=F.shape;const Q=F.holes;if(!Lh.isClockWise(P)){P=P.reverse();for(let ve=0,te=Q.length;ve<te;ve++){const H=Q[ve];Lh.isClockWise(H)&&(Q[ve]=H.reverse())}}const W=Lh.triangulateShape(P,Q),q=P;for(let ve=0,te=Q.length;ve<te;ve++){const H=Q[ve];P=P.concat(H)}function J(ve,te,H){return te||console.error("THREE.ExtrudeGeometry: vec does not exist"),ve.clone().addScaledVector(te,H)}const V=P.length,Y=W.length;function Z(ve,te,H){let le,U,z;const j=ve.x-te.x,re=ve.y-te.y,ae=H.x-ve.x,X=H.y-ve.y,G=j*j+re*re,ce=j*X-re*ae;if(Math.abs(ce)>Number.EPSILON){const Te=Math.sqrt(G),Ie=Math.sqrt(ae*ae+X*X),ye=te.x-re/Te,Ue=te.y+j/Te,De=H.x-X/Ie,Ge=H.y+ae/Ie,ct=((De-ye)*X-(Ge-Ue)*ae)/(j*X-re*ae);le=ye+j*ct-ve.x,U=Ue+re*ct-ve.y;const Ve=le*le+U*U;if(Ve<=2)return new et(le,U);z=Math.sqrt(Ve/2)}else{let Te=!1;j>Number.EPSILON?ae>Number.EPSILON&&(Te=!0):j<-Number.EPSILON?ae<-Number.EPSILON&&(Te=!0):Math.sign(re)===Math.sign(X)&&(Te=!0),Te?(le=-re,U=j,z=Math.sqrt(G)):(le=j,U=re,z=Math.sqrt(G/2))}return new et(le/z,U/z)}const ue=[];for(let ve=0,te=q.length,H=te-1,le=ve+1;ve<te;ve++,H++,le++)H===te&&(H=0),le===te&&(le=0),ue[ve]=Z(q[ve],q[H],q[le]);const $=[];let ee,oe=ue.concat();for(let ve=0,te=Q.length;ve<te;ve++){const H=Q[ve];ee=[];for(let le=0,U=H.length,z=U-1,j=le+1;le<U;le++,z++,j++)z===U&&(z=0),j===U&&(j=0),ee[le]=Z(H[le],H[z],H[j]);$.push(ee),oe=oe.concat(ee)}for(let ve=0;ve<_;ve++){const te=ve/_,H=p*Math.cos(te*Math.PI/2),le=g*Math.sin(te*Math.PI/2)+v;for(let U=0,z=q.length;U<z;U++){const j=J(q[U],ue[U],le);xe(j.x,j.y,-H)}for(let U=0,z=Q.length;U<z;U++){const j=Q[U];ee=$[U];for(let re=0,ae=j.length;re<ae;re++){const X=J(j[re],ee[re],le);xe(X.x,X.y,-H)}}}const ge=g+v;for(let ve=0;ve<V;ve++){const te=d?J(P[ve],oe[ve],ge):P[ve];S?(M.copy(E.normals[0]).multiplyScalar(te.x),I.copy(E.binormals[0]).multiplyScalar(te.y),k.copy(C[0]).add(M).add(I),xe(k.x,k.y,k.z)):xe(te.x,te.y,0)}for(let ve=1;ve<=u;ve++)for(let te=0;te<V;te++){const H=d?J(P[te],oe[te],ge):P[te];S?(M.copy(E.normals[ve]).multiplyScalar(H.x),I.copy(E.binormals[ve]).multiplyScalar(H.y),k.copy(C[ve]).add(M).add(I),xe(k.x,k.y,k.z)):xe(H.x,H.y,h/u*ve)}for(let ve=_-1;ve>=0;ve--){const te=ve/_,H=p*Math.cos(te*Math.PI/2),le=g*Math.sin(te*Math.PI/2)+v;for(let U=0,z=q.length;U<z;U++){const j=J(q[U],ue[U],le);xe(j.x,j.y,h+H)}for(let U=0,z=Q.length;U<z;U++){const j=Q[U];ee=$[U];for(let re=0,ae=j.length;re<ae;re++){const X=J(j[re],ee[re],le);S?xe(X.x,X.y+C[u-1].y,C[u-1].x+H):xe(X.x,X.y,h+H)}}}se(),Ae();function se(){const ve=r.length/3;if(d){let te=0,H=V*te;for(let le=0;le<Y;le++){const U=W[le];Be(U[2]+H,U[1]+H,U[0]+H)}te=u+_*2,H=V*te;for(let le=0;le<Y;le++){const U=W[le];Be(U[0]+H,U[1]+H,U[2]+H)}}else{for(let te=0;te<Y;te++){const H=W[te];Be(H[2],H[1],H[0])}for(let te=0;te<Y;te++){const H=W[te];Be(H[0]+V*u,H[1]+V*u,H[2]+V*u)}}n.addGroup(ve,r.length/3-ve,0)}function Ae(){const ve=r.length/3;let te=0;we(q,te),te+=q.length;for(let H=0,le=Q.length;H<le;H++){const U=Q[H];we(U,te),te+=U.length}n.addGroup(ve,r.length/3-ve,1)}function we(ve,te){let H=ve.length;for(;--H>=0;){const le=H;let U=H-1;U<0&&(U=ve.length-1);for(let z=0,j=u+_*2;z<j;z++){const re=V*z,ae=V*(z+1),X=te+le+re,G=te+U+re,ce=te+U+ae,Te=te+le+ae;Re(X,G,ce,Te)}}}function xe(ve,te,H){l.push(ve),l.push(te),l.push(H)}function Be(ve,te,H){ke(ve),ke(te),ke(H);const le=r.length/3,U=x.generateTopUV(n,r,le-3,le-2,le-1);Pe(U[0]),Pe(U[1]),Pe(U[2])}function Re(ve,te,H,le){ke(ve),ke(te),ke(le),ke(te),ke(H),ke(le);const U=r.length/3,z=x.generateSideWallUV(n,r,U-6,U-3,U-2,U-1);Pe(z[0]),Pe(z[1]),Pe(z[3]),Pe(z[1]),Pe(z[2]),Pe(z[3])}function ke(ve){r.push(l[ve*3+0]),r.push(l[ve*3+1]),r.push(l[ve*3+2])}function Pe(ve){o.push(ve.x),o.push(ve.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return Wae(t,n,e)}static fromJSON(e,t){const n=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=t[e.shapes[o]];n.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new p5[r.type]().fromJSON(r)),new XR(n,e.options)}}const qae={generateTopUV:function(i,e,t,n,r){const o=e[t*3],s=e[t*3+1],a=e[n*3],l=e[n*3+1],c=e[r*3],u=e[r*3+1];return[new et(o,s),new et(a,l),new et(c,u)]},generateSideWallUV:function(i,e,t,n,r,o){const s=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[n*3],u=e[n*3+1],h=e[n*3+2],d=e[r*3],p=e[r*3+1],g=e[r*3+2],v=e[o*3],_=e[o*3+1],b=e[o*3+2];return Math.abs(a-u)<Math.abs(s-c)?[new et(s,1-l),new et(c,1-h),new et(d,1-g),new et(v,1-b)]:[new et(a,1-l),new et(u,1-h),new et(p,1-g),new et(_,1-b)]}};function Wae(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const o=i[n];t.shapes.push(o.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class YR extends Pg{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new YR(e.radius,e.detail)}}class mS extends Pg{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mS(e.radius,e.detail)}}class sc extends Kt{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const o=e/2,s=t/2,a=Math.floor(n),l=Math.floor(r),c=a+1,u=l+1,h=e/a,d=t/l,p=[],g=[],v=[],_=[];for(let b=0;b<u;b++){const x=b*d-s;for(let C=0;C<c;C++){const S=C*h-o;g.push(S,-x,0),v.push(0,0,1),_.push(C/a),_.push(1-b/l)}}for(let b=0;b<l;b++)for(let x=0;x<a;x++){const C=x+c*b,S=x+c*(b+1),E=x+1+c*(b+1),I=x+1+c*b;p.push(C,S,I),p.push(S,E,I)}this.setIndex(p),this.setAttribute("position",new vt(g,3)),this.setAttribute("normal",new vt(v,3)),this.setAttribute("uv",new vt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sc(e.width,e.height,e.widthSegments,e.heightSegments)}}class ZR extends Kt{constructor(e=.5,t=1,n=32,r=1,o=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:s},n=Math.max(3,n),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let h=e;const d=(t-e)/r,p=new he,g=new et;for(let v=0;v<=r;v++){for(let _=0;_<=n;_++){const b=o+_/n*s;p.x=h*Math.cos(b),p.y=h*Math.sin(b),l.push(p.x,p.y,p.z),c.push(0,0,1),g.x=(p.x/t+1)/2,g.y=(p.y/t+1)/2,u.push(g.x,g.y)}h+=d}for(let v=0;v<r;v++){const _=v*(n+1);for(let b=0;b<n;b++){const x=b+_,C=x,S=x+n+1,E=x+n+2,I=x+1;a.push(C,S,I),a.push(S,E,I)}}this.setIndex(a),this.setAttribute("position",new vt(l,3)),this.setAttribute("normal",new vt(c,3)),this.setAttribute("uv",new vt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ZR(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class JR extends Kt{constructor(e=new $_([new et(0,.5),new et(-.5,-.5),new et(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],o=[],s=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(n),this.setAttribute("position",new vt(r,3)),this.setAttribute("normal",new vt(o,3)),this.setAttribute("uv",new vt(s,2));function c(u){const h=r.length/3,d=u.extractPoints(t);let p=d.shape;const g=d.holes;Lh.isClockWise(p)===!1&&(p=p.reverse());for(let _=0,b=g.length;_<b;_++){const x=g[_];Lh.isClockWise(x)===!0&&(g[_]=x.reverse())}const v=Lh.triangulateShape(p,g);for(let _=0,b=g.length;_<b;_++){const x=g[_];p=p.concat(x)}for(let _=0,b=p.length;_<b;_++){const x=p[_];r.push(x.x,x.y,0),o.push(0,0,1),s.push(x.x,x.y)}for(let _=0,b=v.length;_<b;_++){const x=v[_],C=x[0]+h,S=x[1]+h,E=x[2]+h;n.push(C,S,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return jae(t,e)}static fromJSON(e,t){const n=[];for(let r=0,o=e.shapes.length;r<o;r++){const s=t[e.shapes[r]];n.push(s)}return new JR(n,e.curveSegments)}}function jae(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class gw extends Kt{constructor(e=1,t=32,n=16,r=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:o,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const l=Math.min(s+a,Math.PI);let c=0;const u=[],h=new he,d=new he,p=[],g=[],v=[],_=[];for(let b=0;b<=n;b++){const x=[],C=b/n;let S=0;b===0&&s===0?S=.5/t:b===n&&l===Math.PI&&(S=-.5/t);for(let E=0;E<=t;E++){const I=E/t;h.x=-e*Math.cos(r+I*o)*Math.sin(s+C*a),h.y=e*Math.cos(s+C*a),h.z=e*Math.sin(r+I*o)*Math.sin(s+C*a),g.push(h.x,h.y,h.z),d.copy(h).normalize(),v.push(d.x,d.y,d.z),_.push(I+S,1-C),x.push(c++)}u.push(x)}for(let b=0;b<n;b++)for(let x=0;x<t;x++){const C=u[b][x+1],S=u[b][x],E=u[b+1][x],I=u[b+1][x+1];(b!==0||s>0)&&p.push(C,S,I),(b!==n-1||l<Math.PI)&&p.push(S,E,I)}this.setIndex(p),this.setAttribute("position",new vt(g,3)),this.setAttribute("normal",new vt(v,3)),this.setAttribute("uv",new vt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gw(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ek extends Pg{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ek(e.radius,e.detail)}}class tk extends Kt{constructor(e=1,t=.4,n=12,r=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:o},n=Math.floor(n),r=Math.floor(r);const s=[],a=[],l=[],c=[],u=new he,h=new he,d=new he;for(let p=0;p<=n;p++)for(let g=0;g<=r;g++){const v=g/r*o,_=p/n*Math.PI*2;h.x=(e+t*Math.cos(_))*Math.cos(v),h.y=(e+t*Math.cos(_))*Math.sin(v),h.z=t*Math.sin(_),a.push(h.x,h.y,h.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),d.subVectors(h,u).normalize(),l.push(d.x,d.y,d.z),c.push(g/r),c.push(p/n)}for(let p=1;p<=n;p++)for(let g=1;g<=r;g++){const v=(r+1)*p+g-1,_=(r+1)*(p-1)+g-1,b=(r+1)*(p-1)+g,x=(r+1)*p+g;s.push(v,_,x),s.push(_,b,x)}this.setIndex(s),this.setAttribute("position",new vt(a,3)),this.setAttribute("normal",new vt(l,3)),this.setAttribute("uv",new vt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tk(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ik extends Kt{constructor(e=1,t=.4,n=64,r=8,o=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:o,q:s},n=Math.floor(n),r=Math.floor(r);const a=[],l=[],c=[],u=[],h=new he,d=new he,p=new he,g=new he,v=new he,_=new he,b=new he;for(let C=0;C<=n;++C){const S=C/n*o*Math.PI*2;x(S,o,s,e,p),x(S+.01,o,s,e,g),_.subVectors(g,p),b.addVectors(g,p),v.crossVectors(_,b),b.crossVectors(v,_),v.normalize(),b.normalize();for(let E=0;E<=r;++E){const I=E/r*Math.PI*2,M=-t*Math.cos(I),k=t*Math.sin(I);h.x=p.x+(M*b.x+k*v.x),h.y=p.y+(M*b.y+k*v.y),h.z=p.z+(M*b.z+k*v.z),l.push(h.x,h.y,h.z),d.subVectors(h,p).normalize(),c.push(d.x,d.y,d.z),u.push(C/n),u.push(E/r)}}for(let C=1;C<=n;C++)for(let S=1;S<=r;S++){const E=(r+1)*(C-1)+(S-1),I=(r+1)*C+(S-1),M=(r+1)*C+S,k=(r+1)*(C-1)+S;a.push(E,I,k),a.push(I,M,k)}this.setIndex(a),this.setAttribute("position",new vt(l,3)),this.setAttribute("normal",new vt(c,3)),this.setAttribute("uv",new vt(u,2));function x(C,S,E,I,M){const k=Math.cos(C),F=Math.sin(C),P=E/S*C,Q=Math.cos(P);M.x=I*(2+Q)*.5*k,M.y=I*(2+Q)*F*.5,M.z=I*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ik(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class nk extends Kt{constructor(e=new VQ(new he(-1,-1,0),new he(-1,1,0),new he(1,1,0)),t=64,n=1,r=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o};const s=e.computeFrenetFrames(t,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new he,l=new he,c=new et;let u=new he;const h=[],d=[],p=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new vt(h,3)),this.setAttribute("normal",new vt(d,3)),this.setAttribute("uv",new vt(p,2));function v(){for(let C=0;C<t;C++)_(C);_(o===!1?t:0),x(),b()}function _(C){u=e.getPointAt(C/t,u);const S=s.normals[C],E=s.binormals[C];for(let I=0;I<=r;I++){const M=I/r*Math.PI*2,k=Math.sin(M),F=-Math.cos(M);l.x=F*S.x+k*E.x,l.y=F*S.y+k*E.y,l.z=F*S.z+k*E.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=u.x+n*l.x,a.y=u.y+n*l.y,a.z=u.z+n*l.z,h.push(a.x,a.y,a.z)}}function b(){for(let C=1;C<=t;C++)for(let S=1;S<=r;S++){const E=(r+1)*(C-1)+(S-1),I=(r+1)*C+(S-1),M=(r+1)*C+S,k=(r+1)*(C-1)+S;g.push(E,I,k),g.push(I,M,k)}}function x(){for(let C=0;C<=t;C++)for(let S=0;S<=r;S++)c.x=C/t,c.y=S/r,p.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new nk(new p5[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class eY extends Kt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new he,o=new he;if(e.index!==null){const s=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],d=h.start,p=h.count;for(let g=d,v=d+p;g<v;g+=3)for(let _=0;_<3;_++){const b=a.getX(g+_),x=a.getX(g+(_+1)%3);r.fromBufferAttribute(s,b),o.fromBufferAttribute(s,x),iz(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(s,u),o.fromBufferAttribute(s,h),iz(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new vt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function iz(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var nz=Object.freeze({__proto__:null,BoxGeometry:zh,CapsuleGeometry:qR,CircleGeometry:WR,ConeGeometry:jR,CylinderGeometry:fw,DodecahedronGeometry:KR,EdgesGeometry:XX,ExtrudeGeometry:XR,IcosahedronGeometry:YR,LatheGeometry:gS,OctahedronGeometry:mS,PlaneGeometry:sc,PolyhedronGeometry:Pg,RingGeometry:ZR,ShapeGeometry:JR,SphereGeometry:gw,TetrahedronGeometry:ek,TorusGeometry:tk,TorusKnotGeometry:ik,TubeGeometry:nk,WireframeGeometry:eY});class tY extends no{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ut(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class iY extends qa{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class dv extends no{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ug,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new io,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zu extends dv{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new et(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ut(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Cy extends no{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ut(16777215),this.specular=new ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ug,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new io,this.combine=lS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nY extends no{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ug,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class rY extends no{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ug,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class WQ extends no{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ug,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new io,this.combine=lS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _S extends no{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=xX,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class rk extends no{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class oY extends no{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ug,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sY extends Qo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function U_(i,e,t){return!i||!t&&i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function aY(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function lY(i){function e(r,o){return i[r]-i[o]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function EL(i,e,t){const n=i.length,r=new i.constructor(n);for(let o=0,s=0;s!==n;++o){const a=t[o]*e;for(let l=0;l!==e;++l)r[s++]=i[a+l]}return r}function jQ(i,e,t,n){let r=1,o=i[0];for(;o!==void 0&&o[n]===void 0;)o=i[r++];if(o===void 0)return;let s=o[n];if(s!==void 0)if(Array.isArray(s))do s=o[n],s!==void 0&&(e.push(o.time),t.push.apply(t,s)),o=i[r++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[n],s!==void 0&&(e.push(o.time),s.toArray(t,t.length)),o=i[r++];while(o!==void 0);else do s=o[n],s!==void 0&&(e.push(o.time),t.push(s)),o=i[r++];while(o!==void 0)}function Kae(i,e,t,n,r=30){const o=i.clone();o.name=e;const s=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],u=c.getValueSize(),h=[],d=[];for(let p=0;p<c.times.length;++p){const g=c.times[p]*r;if(!(g<t||g>=n)){h.push(c.times[p]);for(let v=0;v<u;++v)d.push(c.values[p*u+v])}}h.length!==0&&(c.times=U_(h,c.times.constructor),c.values=U_(d,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o}function $ae(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,o=e/n;for(let s=0;s<r;++s){const a=t.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=i.tracks.find(function(b){return b.name===a.name&&b.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let d=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);const g=a.times.length-1;let v;if(o<=a.times[0]){const b=u,x=h-u;v=a.values.slice(b,x)}else if(o>=a.times[g]){const b=g*h+u,x=b+h-u;v=a.values.slice(b,x)}else{const b=a.createInterpolant(),x=u,C=h-u;b.evaluate(o),v=b.resultBuffer.slice(x,C)}l==="quaternion"&&new Mn().fromArray(v).normalize().conjugate().toArray(v);const _=c.times.length;for(let b=0;b<_;++b){const x=b*p+d;if(l==="quaternion")Mn.multiplyQuaternionsFlat(c.values,x,v,0,c.values,x);else{const C=p-d*2;for(let S=0;S<C;++S)c.values[x+S]-=v[S]}}}return i.blendMode=IQ,i}const Xae={convertArray:U_,isTypedArray:aY,getKeyframeOrder:lY,sortedArray:EL,flattenJSON:jQ,subclip:Kae,makeClipAdditive:$ae};class mw{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],o=t[n-1];e:{t:{let s;i:{n:if(!(e<r)){for(let a=n+2;;){if(r===void 0){if(e<o)break n;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(o=r,r=t[++n],e<r)break t}s=t.length;break i}if(!(e>=o)){const a=t[1];e<a&&(n=2,o=a);for(let l=n-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=o,o=t[--n-1],e>=o)break t}s=n,n=0;break i}break e}for(;n<s;){const a=n+s>>>1;e<t[a]?s=a:n=a+1}if(r=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r;for(let s=0;s!==r;++s)t[s]=n[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class cY extends mw{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:F_,endingEnd:F_}}intervalChanged_(e,t,n){const r=this.parameterPositions;let o=e-2,s=e+1,a=r[o],l=r[s];if(a===void 0)switch(this.getSettings_().endingStart){case D_:o=e,a=2*t-n;break;case mB:o=r.length-2,a=t+r[o]-r[o+1];break;default:o=e,a=n}if(l===void 0)switch(this.getSettings_().endingEnd){case D_:s=e,l=2*n-t;break;case mB:s=1,l=n+r[1]-r[0];break;default:s=e-1,l=t}const c=(n-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-n),this._offsetPrev=o*u,this._offsetNext=s*u}interpolate_(e,t,n,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,p=this._weightNext,g=(n-t)/(r-t),v=g*g,_=v*g,b=-d*_+2*d*v-d*g,x=(1+d)*_+(-1.5-2*d)*v+(-.5+d)*g+1,C=(-1-p)*_+(1.5+p)*v+.5*g,S=p*_-p*v;for(let E=0;E!==a;++E)o[E]=b*s[u+E]+x*s[c+E]+C*s[l+E]+S*s[h+E];return o}}class KQ extends mw{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(n-t)/(r-t),h=1-u;for(let d=0;d!==a;++d)o[d]=s[c+d]*h+s[l+d]*u;return o}}class uY extends mw{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Gh{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=U_(t,this.TimeBufferType),this.values=U_(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:U_(e.times,Array),values:U_(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new uY(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new KQ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new cY(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case uv:t=this.InterpolantFactoryMethodDiscrete;break;case hv:t=this.InterpolantFactoryMethodLinear;break;case HI:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return uv;case this.InterpolantFactoryMethodLinear:return hv;case this.InterpolantFactoryMethodSmooth:return HI}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let o=0,s=r-1;for(;o!==r&&n[o]<e;)++o;for(;s!==-1&&n[s]>t;)--s;if(++s,o!==0||s!==r){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=n.slice(o,s),this.values=this.values.slice(o*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,o=n.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const l=n[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(r!==void 0&&aY(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===HI,o=e.length-1;let s=1;for(let a=1;a<o;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*n,d=h-n,p=h+n;for(let g=0;g!==n;++g){const v=t[h+g];if(v!==t[d+g]||v!==t[p+g]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];const h=a*n,d=s*n;for(let p=0;p!==n;++p)t[d+p]=t[h+p]}++s}}if(o>0){e[s]=e[o];for(let a=o*n,l=s*n,c=0;c!==n;++c)t[l+c]=t[a+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Gh.prototype.TimeBufferType=Float32Array;Gh.prototype.ValueBufferType=Float32Array;Gh.prototype.DefaultInterpolation=hv;class Ev extends Gh{constructor(e,t,n){super(e,t,n)}}Ev.prototype.ValueTypeName="bool";Ev.prototype.ValueBufferType=Array;Ev.prototype.DefaultInterpolation=uv;Ev.prototype.InterpolantFactoryMethodLinear=void 0;Ev.prototype.InterpolantFactoryMethodSmooth=void 0;class $Q extends Gh{}$Q.prototype.ValueTypeName="color";class xg extends Gh{}xg.prototype.ValueTypeName="number";class hY extends mw{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(n-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Mn.slerpFlat(o,0,s,c-a,s,c,l);return o}}class kp extends Gh{InterpolantFactoryMethodLinear(e){return new hY(this.times,this.values,this.getValueSize(),e)}}kp.prototype.ValueTypeName="quaternion";kp.prototype.InterpolantFactoryMethodSmooth=void 0;class Tv extends Gh{constructor(e,t,n){super(e,t,n)}}Tv.prototype.ValueTypeName="string";Tv.prototype.ValueBufferType=Array;Tv.prototype.DefaultInterpolation=uv;Tv.prototype.InterpolantFactoryMethodLinear=void 0;Tv.prototype.InterpolantFactoryMethodSmooth=void 0;class Cg extends Gh{}Cg.prototype.ValueTypeName="vector";class pv{constructor(e="",t=-1,n=[],r=PR){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Lc(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let s=0,a=n.length;s!==a;++s)t.push(Zae(n[s]).scale(r));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=n.length;o!==s;++o)t.push(Gh.toJSON(n[o]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const o=t.length,s=[];for(let a=0;a<o;a++){let l=[],c=[];l.push((a+o-1)%o,a,(a+1)%o),c.push(0,1,0);const u=lY(l);l=EL(l,1,u),c=EL(c,1,u),!r&&l[0]===0&&(l.push(o),c.push(c[0])),s.push(new xg(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(o);if(u&&u.length>1){const h=u[1];let d=r[h];d||(r[h]=d=[]),d.push(c)}}const s=[];for(const a in r)s.push(this.CreateFromMorphTargetSequence(a,r[a],t,n));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(h,d,p,g,v){if(p.length!==0){const _=[],b=[];jQ(p,_,b,g),_.length!==0&&v.push(new h(d,_,b))}},r=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const d=c[h].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const p={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let v=0;v<d[g].morphTargets.length;v++)p[d[g].morphTargets[v]]=-1;for(const v in p){const _=[],b=[];for(let x=0;x!==d[g].morphTargets.length;++x){const C=d[g];_.push(C.time),b.push(C.morphTarget===v?1:0)}r.push(new xg(".morphTargetInfluence["+v+"]",_,b))}l=p.length*s}else{const p=".bones["+t[h].name+"]";n(Cg,p+".position",d,"pos",r),n(kp,p+".quaternion",d,"rot",r),n(Cg,p+".scale",d,"scl",r)}}return r.length===0?null:new this(o,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Yae(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return xg;case"vector":case"vector2":case"vector3":case"vector4":return Cg;case"color":return $Q;case"quaternion":return kp;case"bool":case"boolean":return Ev;case"string":return Tv}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function Zae(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Yae(i.type);if(i.times===void 0){const t=[],n=[];jQ(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const gp={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class ok{constructor(e,t,n){const r=this;let o=!1,s=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(u){a++,o===!1&&r.onStart!==void 0&&r.onStart(u,s,a),o=!0},this.itemEnd=function(u){s++,r.onProgress!==void 0&&r.onProgress(u,s,a),s===a&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,d=c.length;h<d;h+=2){const p=c[h],g=c[h+1];if(p.global&&(p.lastIndex=0),p.test(u))return g}return null}}}const uy=new ok;class Cr{constructor(e){this.manager=e!==void 0?e:uy,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,o){n.load(e,r,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Cr.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ud={};class Jae extends Error{constructor(e,t){super(e),this.response=t}}class ro extends Cr{constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=gp.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Ud[e]!==void 0){Ud[e].push({onLoad:t,onProgress:n,onError:r});return}Ud[e]=[],Ud[e].push({onLoad:t,onProgress:n,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Ud[e],h=c.body.getReader(),d=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),p=d?parseInt(d):0,g=p!==0;let v=0;const _=new ReadableStream({start(b){x();function x(){h.read().then(({done:C,value:S})=>{if(C)b.close();else{v+=S.byteLength;const E=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:p});for(let I=0,M=u.length;I<M;I++){const k=u[I];k.onProgress&&k.onProgress(E)}b.enqueue(S),x()}},C=>{b.error(C)})}}});return new Response(_)}else throw new Jae(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),d=h&&h[1]?h[1].toLowerCase():void 0,p=new TextDecoder(d);return c.arrayBuffer().then(g=>p.decode(g))}}}).then(c=>{gp.add(e,c);const u=Ud[e];delete Ud[e];for(let h=0,d=u.length;h<d;h++){const p=u[h];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=Ud[e];if(u===void 0)throw this.manager.itemError(e),c;delete Ud[e];for(let h=0,d=u.length;h<d;h++){const p=u[h];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class ele extends Cr{constructor(e){super(e)}load(e,t,n,r){const o=this,s=new ro(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=pv.parse(e[n]);t.push(r)}return t}}class tle extends Cr{constructor(e){super(e)}load(e,t,n,r){const o=this,s=[],a=new yp,l=new ro(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function u(h){l.load(e[h],function(d){const p=o.parse(d,!0);s[h]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(a.minFilter=Ni),a.image=s,a.format=p.format,a.needsUpdate=!0,t&&t(a))},n,r)}if(Array.isArray(e))for(let h=0,d=e.length;h<d;++h)u(h);else l.load(e,function(h){const d=o.parse(h,!0);if(d.isCubemap){const p=d.mipmaps.length/d.mipmapCount;for(let g=0;g<p;g++){s[g]={mipmaps:[]};for(let v=0;v<d.mipmapCount;v++)s[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+v]),s[g].format=d.format,s[g].width=d.width,s[g].height=d.height}a.image=s}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=Ni),a.format=d.format,a.needsUpdate=!0,t&&t(a)},n,r);return a}}class SB extends Cr{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=gp.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;const a=yB("img");function l(){u(),gp.add(e,this),t&&t(this),o.manager.itemEnd(e)}function c(h){u(),r&&r(h),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class ile extends Cr{constructor(e){super(e)}load(e,t,n,r){const o=new dS;o.colorSpace=fi;const s=new SB(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(c){s.load(e[c],function(u){o.images[c]=u,a++,a===6&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return o}}class AY extends Cr{constructor(e){super(e)}load(e,t,n,r){const o=this,s=new Ru,a=new ro(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(l){let c;try{c=o.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:dr,s.wrapT=c.wrapT!==void 0?c.wrapT:dr,s.magFilter=c.magFilter!==void 0?c.magFilter:Ni,s.minFilter=c.minFilter!==void 0?c.minFilter:Ni,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=na),c.mipmapCount===1&&(s.minFilter=Ni),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,t&&t(s,c)},n,r),s}}class sk extends Cr{constructor(e){super(e)}load(e,t,n,r){const o=new Rn,s=new SB(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,t!==void 0&&t(o)},n,r),o}}class Lg extends Si{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ut(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class dY extends Lg{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Si.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ut(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const mD=new St,rz=new he,oz=new he;class XQ{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new et(512,512),this.map=null,this.mapPass=null,this.matrix=new St,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new fS,this._frameExtents=new et(1,1),this._viewportCount=1,this._viewports=[new Wi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;rz.setFromMatrixPosition(e.matrixWorld),t.position.copy(rz),oz.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(oz),t.updateMatrixWorld(),mD.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mD),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(mD)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class nle extends XQ{constructor(){super(new Kn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Py*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(n!==t.fov||r!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=r,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class ak extends Lg{constructor(e,t,n=0,r=Math.PI/3,o=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Si.DEFAULT_UP),this.updateMatrix(),this.target=new Si,this.distance=n,this.angle=r,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new nle}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const sz=new St,lC=new he,_D=new he;class rle extends XQ{constructor(){super(new Kn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new et(4,2),this._viewportCount=6,this._viewports=[new Wi(2,1,1,1),new Wi(0,1,1,1),new Wi(3,1,1,1),new Wi(1,1,1,1),new Wi(3,0,1,1),new Wi(1,0,1,1)],this._cubeDirections=[new he(1,0,0),new he(-1,0,0),new he(0,0,1),new he(0,0,-1),new he(0,1,0),new he(0,-1,0)],this._cubeUps=[new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,0,1),new he(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,o=e.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),lC.setFromMatrixPosition(e.matrixWorld),n.position.copy(lC),_D.copy(n.position),_D.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(_D),n.updateMatrixWorld(),r.makeTranslation(-lC.x,-lC.y,-lC.z),sz.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sz)}}class Ny extends Lg{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new rle}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class nc extends QR{constructor(e=-1,t=1,n=1,r=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=n-e,s=n+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class ole extends XQ{constructor(){super(new nc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class vS extends Lg{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Si.DEFAULT_UP),this.updateMatrix(),this.target=new Si,this.shadow=new ole}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class YQ extends Lg{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class pY extends Lg{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class fY{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new he)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*o),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],1.092548*(n*r)),t.addScaledVector(s[5],1.092548*(r*o)),t.addScaledVector(s[6],.315392*(3*o*o-1)),t.addScaledVector(s[7],1.092548*(n*o)),t.addScaledVector(s[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*r),t.addScaledVector(s[2],2*.511664*o),t.addScaledVector(s[3],2*.511664*n),t.addScaledVector(s[4],2*.429043*n*r),t.addScaledVector(s[5],2*.429043*r*o),t.addScaledVector(s[6],.743125*o*o-.247708),t.addScaledVector(s[7],2*.429043*n*o),t.addScaledVector(s[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,o=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*o,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*n*o,t[8]=.546274*(n*n-r*r)}}class ZQ extends Lg{constructor(e=new fY,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class lk extends Cr{constructor(e){super(e),this.textures={}}load(e,t,n,r){const o=this,s=new ro(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(r.uniforms[o]={},s.type){case"t":r.uniforms[o].value=n(s.value);break;case"c":r.uniforms[o].value=new ut().setHex(s.value);break;case"v2":r.uniforms[o].value=new et().fromArray(s.value);break;case"v3":r.uniforms[o].value=new he().fromArray(s.value);break;case"v4":r.uniforms[o].value=new Wi().fromArray(s.value);break;case"m3":r.uniforms[o].value=new pi().fromArray(s.value);break;case"m4":r.uniforms[o].value=new St().fromArray(s.value);break;default:r.uniforms[o].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new et().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new et().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return lk.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:tY,SpriteMaterial:PQ,RawShaderMaterial:iY,ShaderMaterial:qa,PointsMaterial:og,MeshPhysicalMaterial:zu,MeshStandardMaterial:dv,MeshPhongMaterial:Cy,MeshToonMaterial:nY,MeshNormalMaterial:rY,MeshLambertMaterial:WQ,MeshDepthMaterial:_S,MeshDistanceMaterial:rk,MeshBasicMaterial:ns,MeshMatcapMaterial:oY,LineDashedMaterial:sY,LineBasicMaterial:Qo,Material:no};return new t[e]}}class wp{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class JQ extends Kt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class gY extends Cr{constructor(e){super(e)}load(e,t,n,r){const o=this,s=new ro(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(p,g){if(t[g]!==void 0)return t[g];const _=p.interleavedBuffers[g],b=o(p,_.buffer),x=ly(_.type,b),C=new pS(x,_.stride);return C.uuid=_.uuid,t[g]=C,C}function o(p,g){if(n[g]!==void 0)return n[g];const _=p.arrayBuffers[g],b=new Uint32Array(_).buffer;return n[g]=b,b}const s=e.isInstancedBufferGeometry?new JQ:new Kt,a=e.data.index;if(a!==void 0){const p=ly(a.type,a.array);s.setIndex(new Ci(p,1))}const l=e.data.attributes;for(const p in l){const g=l[p];let v;if(g.isInterleavedBufferAttribute){const _=r(e.data,g.data);v=new yg(_,g.itemSize,g.offset,g.normalized)}else{const _=ly(g.type,g.array),b=g.isInstancedBufferAttribute?wg:Ci;v=new b(_,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),s.setAttribute(p,v)}const c=e.data.morphAttributes;if(c)for(const p in c){const g=c[p],v=[];for(let _=0,b=g.length;_<b;_++){const x=g[_];let C;if(x.isInterleavedBufferAttribute){const S=r(e.data,x.data);C=new yg(S,x.itemSize,x.offset,x.normalized)}else{const S=ly(x.type,x.array);C=new Ci(S,x.itemSize,x.normalized)}x.name!==void 0&&(C.name=x.name),v.push(C)}s.morphAttributes[p]=v}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let p=0,g=h.length;p!==g;++p){const v=h[p];s.addGroup(v.start,v.count,v.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const p=new he;d.center!==void 0&&p.fromArray(d.center),s.boundingSphere=new Oo(p,d.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class sle extends Cr{constructor(e){super(e)}load(e,t,n,r){const o=this,s=this.path===""?wp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new ro(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?wp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const o=new ro(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,t),a=JSON.parse(s),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,o,l,a,n),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),t!==void 0){let h=!1;for(const d in s)if(s[d].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,r,a,s,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const o=new $_().fromJSON(e[n]);t[o.uuid]=o}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=new pw().fromJSON(e[o],r);n[a.uuid]=a}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new gY;for(let o=0,s=e.length;o<s;o++){let a;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in nz?a=nz[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),n[l.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const o=new lk;o.setTextures(t);for(let s=0,a=e.length;s<a;s++){const l=e[s];n[l.uuid]===void 0&&(n[l.uuid]=o.parse(l)),r[l.uuid]=n[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],o=pv.parse(r);t[o.uuid]=o}return t}parseImages(e,t){const n=this,r={};let o;function s(l){return n.manager.itemStart(l),o.load(l,function(){n.manager.itemEnd(l)},void 0,function(){n.manager.itemError(l),n.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:n.resourcePath+c;return s(u)}else return l.data?{data:ly(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new ok(t);o=new SB(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],d=h.url;if(Array.isArray(d)){const p=[];for(let g=0,v=d.length;g<v;g++){const _=d[g],b=a(_);b!==null&&(b instanceof HTMLImageElement?p.push(b):p.push(new Ru(b.data,b.width,b.height)))}r[h.uuid]=new rg(p)}else{const p=a(h.url);r[h.uuid]=new rg(p)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function o(s){if(typeof s=="string"){const a=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return s.data?{data:ly(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new SB(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const u=[];for(let h=0,d=c.length;h<d;h++){const p=c[h],g=await o(p);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new Ru(g.data,g.width,g.height)))}n[l.uuid]=new rg(u)}else{const u=await o(l.url);n[l.uuid]=new rg(u)}}}return n}parseTextures(e,t){function n(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const r={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new dS,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Ru:u=new Rn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=n(a.mapping,ale)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=n(a.wrap[0],az),u.wrapT=n(a.wrap[1],az)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.minFilter!==void 0&&(u.minFilter=n(a.minFilter,lz)),a.magFilter!==void 0&&(u.magFilter=n(a.magFilter,lz)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,t,n,r,o){let s;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const p=[];for(let g=0,v=d.length;g<v;g++){const _=d[g];n[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),p.push(n[_])}return p}return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),n[d]}}function c(d){return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),r[d]}let u,h;switch(e.type){case"Scene":s=new Lu,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new ut(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new zR(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new HR(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Kn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new nc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new YQ(e.color,e.intensity);break;case"DirectionalLight":s=new vS(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new Ny(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new pY(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new ak(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new dY(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new ZQ().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),h=l(e.material),s=new GR(u,h),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),h=l(e.material),s=new Fi(u,h);break;case"InstancedMesh":u=a(e.geometry),h=l(e.material);const d=e.count,p=e.instanceMatrix,g=e.instanceColor;s=new LQ(u,h,d),s.instanceMatrix=new wg(new Float32Array(p.array),16),g!==void 0&&(s.instanceColor=new wg(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":u=a(e.geometry),h=l(e.material),s=new NX(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),s.geometry=u,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(v=>{const _=new vr;_.min.fromArray(v.boxMin),_.max.fromArray(v.boxMax);const b=new Oo;return b.radius=v.sphereRadius,b.center.fromArray(v.sphereCenter),{boxInitialized:v.boxInitialized,box:_,sphereInitialized:v.sphereInitialized,sphere:b}}),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":s=new QX;break;case"Line":s=new Ou(a(e.geometry),l(e.material));break;case"LineLoop":s=new OQ(a(e.geometry),l(e.material));break;case"LineSegments":s=new Nc(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new xy(a(e.geometry),l(e.material));break;case"Sprite":s=new OX(l(e.material));break;case"Group":s=new Dc;break;case"Bone":s=new Qy;break;default:s=new Si}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let p=0;p<d.length;p++)s.add(this.parseObject(d[p],t,n,r,o))}if(e.animations!==void 0){const d=e.animations;for(let p=0;p<d.length;p++){const g=d[p];s.animations.push(o[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const d=e.levels;for(let p=0;p<d.length;p++){const g=d[p],v=s.getObjectByProperty("uuid",g.object);v!==void 0&&s.addLevel(v,g.distance,g.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);r!==void 0?t.target=r:t.target=new Si}})}}const ale={UVMapping:vg,CubeReflectionMapping:Mp,CubeRefractionMapping:bg,EquirectangularReflectionMapping:av,EquirectangularRefractionMapping:cB,CubeUVReflectionMapping:dw},az={RepeatWrapping:Tl,ClampToEdgeWrapping:dr,MirroredRepeatWrapping:Rp},lz={NearestFilter:Pr,NearestMipmapNearestFilter:Bv,NearestMipmapLinearFilter:PA,LinearFilter:Ni,LinearMipmapNearestFilter:vp,LinearMipmapLinearFilter:na};class mY extends Cr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=gp.get(e);if(s!==void 0){if(o.manager.itemStart(e),s.then){s.then(c=>{t&&t(c),o.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return gp.add(e,c),t&&t(c),o.manager.itemEnd(e),c}).catch(function(c){r&&r(c),gp.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});gp.add(e,l),o.manager.itemStart(e)}}let DT;class eN{static getContext(){return DT===void 0&&(DT=new(window.AudioContext||window.webkitAudioContext)),DT}static setContext(e){DT=e}}class lle extends Cr{constructor(e){super(e)}load(e,t,n,r){const o=this,s=new ro(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const c=l.slice(0);eN.getContext().decodeAudioData(c,function(h){t(h)}).catch(a)}catch(c){a(c)}},n,r);function a(l){r?r(l):console.error(l),o.manager.itemError(e)}}}const cz=new St,uz=new St,Hm=new St;class cle{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Kn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Kn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Hm.copy(e.projectionMatrix);const r=t.eyeSep/2,o=r*t.near/t.focus,s=t.near*Math.tan(K_*t.fov*.5)/t.zoom;let a,l;uz.elements[12]=-r,cz.elements[12]=r,a=-s*t.aspect+o,l=s*t.aspect+o,Hm.elements[0]=2*t.near/(l-a),Hm.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Hm),a=-s*t.aspect-o,l=s*t.aspect-o,Hm.elements[0]=2*t.near/(l-a),Hm.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Hm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(uz),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(cz)}}class _Y extends Kn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class tN{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=hz(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=hz();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function hz(){return performance.now()}const zm=new he,Az=new Mn,ule=new he,Gm=new he;class hle extends Si{constructor(){super(),this.type="AudioListener",this.context=eN.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new tN}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(zm,Az,ule),Gm.set(0,0,-1).applyQuaternion(Az),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(zm.x,r),t.positionY.linearRampToValueAtTime(zm.y,r),t.positionZ.linearRampToValueAtTime(zm.z,r),t.forwardX.linearRampToValueAtTime(Gm.x,r),t.forwardY.linearRampToValueAtTime(Gm.y,r),t.forwardZ.linearRampToValueAtTime(Gm.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(zm.x,zm.y,zm.z),t.setOrientation(Gm.x,Gm.y,Gm.z,n.x,n.y,n.z)}}class vY extends Si{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Vm=new he,dz=new Mn,Ale=new he,qm=new he;class dle extends vY{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Vm,dz,Ale),qm.set(0,0,1).applyQuaternion(dz);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Vm.x,n),t.positionY.linearRampToValueAtTime(Vm.y,n),t.positionZ.linearRampToValueAtTime(Vm.z,n),t.orientationX.linearRampToValueAtTime(qm.x,n),t.orientationY.linearRampToValueAtTime(qm.y,n),t.orientationZ.linearRampToValueAtTime(qm.z,n)}else t.setPosition(Vm.x,Vm.y,Vm.z),t.setOrientation(qm.x,qm.y,qm.z)}}class ple{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class bY{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,o,s;switch(t){case"quaternion":r=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,o=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==r;++a)n[o+a]=n[a];s=t}else{s+=t;const a=t/s;this._mixBufferRegion(n,o,0,a,r)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=t*this._origIndex;this._mixBufferRegion(n,r,l,1-o,t)}s>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){a.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let o=n,s=r;o!==s;++o)t[o]=t[r+o%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,o){if(r>=.5)for(let s=0;s!==o;++s)e[t+s]=e[n+s]}_slerp(e,t,n,r){Mn.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,o){const s=this._workIndex*o;Mn.multiplyQuaternionsFlat(e,s,e,t,e,n),Mn.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,n,r,o){const s=1-r;for(let a=0;a!==o;++a){const l=t+a;e[l]=e[l]*s+e[n+a]*r}}_lerpAdditive(e,t,n,r,o){for(let s=0;s!==o;++s){const a=t+s;e[a]=e[a]+e[n+s]*r}}}const iN="\\[\\]\\.:\\/",fle=new RegExp("["+iN+"]","g"),nN="[^"+iN+"]",gle="[^"+iN.replace("\\.","")+"]",mle=/((?:WC+[\/:])*)/.source.replace("WC",nN),_le=/(WCOD+)?/.source.replace("WCOD",gle),vle=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",nN),ble=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",nN),yle=new RegExp("^"+mle+_le+vle+ble+"$"),wle=["material","materials","bones","map"];class xle{constructor(e,t,n){const r=n||ki.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class ki{constructor(e,t,n){this.path=t,this.parsedPath=n||ki.parseTrackName(t),this.node=ki.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new ki.Composite(e,t,n):new ki(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(fle,"")}static parseTrackName(e){const t=yle.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=n.nodeName.substring(r+1);wle.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===t||a.uuid===t)return a;const l=n(a.children);if(l)return l}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let o=t.propertyIndex;if(e||(e=ki.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let c=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[r];if(s===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ki.Composite=xle;ki.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ki.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ki.prototype.GetterByBindingType=[ki.prototype._getValue_direct,ki.prototype._getValue_array,ki.prototype._getValue_arrayElement,ki.prototype._getValue_toArray];ki.prototype.SetterByBindingTypeAndVersioning=[[ki.prototype._setValue_direct,ki.prototype._setValue_direct_setNeedsUpdate,ki.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ki.prototype._setValue_array,ki.prototype._setValue_array_setNeedsUpdate,ki.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ki.prototype._setValue_arrayElement,ki.prototype._setValue_arrayElement_setNeedsUpdate,ki.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ki.prototype._setValue_fromArray,ki.prototype._setValue_fromArray_setNeedsUpdate,ki.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Cle{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Lc(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const d=arguments[u],p=d.uuid;let g=t[p];if(g===void 0){g=l++,t[p]=g,e.push(d);for(let v=0,_=s;v!==_;++v)o[v].push(new ki(d,n[v],r[v]))}else if(g<c){a=e[g];const v=--c,_=e[v];t[_.uuid]=g,e[g]=_,t[p]=v,e[v]=d;for(let b=0,x=s;b!==x;++b){const C=o[b],S=C[v];let E=C[g];C[g]=S,E===void 0&&(E=new ki(d,n[b],r[b])),C[v]=E}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const l=arguments[s],c=l.uuid,u=t[c];if(u!==void 0&&u>=o){const h=o++,d=e[h];t[d.uuid]=u,e[u]=d,t[c]=h,e[h]=l;for(let p=0,g=r;p!==g;++p){const v=n[p],_=v[h],b=v[u];v[u]=_,v[h]=b}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_,s=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,h=t[u];if(h!==void 0)if(delete t[u],h<o){const d=--o,p=e[d],g=--s,v=e[g];t[p.uuid]=h,e[h]=p,t[v.uuid]=d,e[d]=v,e.pop();for(let _=0,b=r;_!==b;++_){const x=n[_],C=x[d],S=x[g];x[h]=C,x[d]=S,x.pop()}}else{const d=--s,p=e[d];d>0&&(t[p.uuid]=h),e[h]=p,e.pop();for(let g=0,v=r;g!==v;++g){const _=n[g];_[h]=_[d],_.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const o=this._bindings;if(r!==void 0)return o[r];const s=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);r=o.length,n[e]=r,s.push(e),a.push(t),o.push(h);for(let d=u,p=l.length;d!==p;++d){const g=l[d];h[d]=new ki(g,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,l=s[a],c=e[a];t[c]=n,s[n]=l,s.pop(),o[n]=o[a],o.pop(),r[n]=r[a],r.pop()}}}class yY{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const o=t.tracks,s=o.length,a=new Array(s),l={endingStart:F_,endingEnd:F_};for(let c=0;c!==s;++c){const u=o[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=j_,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,o=e._clip.duration,s=o/r,a=r/o;e.warp(1,s,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,o=r.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=o,l[1]=o+n,c[0]=e/s,c[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*n;l<0||n===0?t=0:(this._startTime=null,t=n*l)}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case IQ:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(s),c[u].accumulateAdditive(a);break;case PR:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(s),c[u].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,o=this._loopCount;const s=n===gB;if(e===0)return o===-1?r:s&&(o&1)===1?t-r:r;if(n===Uy){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,o+=Math.abs(a);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(s&&(o&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=D_,r.endingEnd=D_):(e?r.endingStart=this.zeroSlopeAtStart?D_:F_:r.endingStart=mB,t?r.endingEnd=this.zeroSlopeAtEnd?D_:F_:r.endingEnd=mB)}_scheduleFading(e,t,n){const r=this._mixer,o=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=t,a[1]=o+e,l[1]=n,this}}const Ble=new Float32Array(1);class wY extends oc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,o=r.length,s=e._propertyBindings,a=e._interpolants,l=n.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==o;++h){const d=r[h],p=d.name;let g=u[p];if(g!==void 0)++g.referenceCount,s[h]=g;else{if(g=s[h],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,p));continue}const v=t&&t._propertyBindings[h].binding.parsedPath;g=new bY(ki.create(n,p,v),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,p),s[h]=g}a[h].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,o=this._actionsByClip;let s=o[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete h[d],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,o=this._bindings;let s=r[t];s===void 0&&(s={},r[t]=s),s[n]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,o=n.path,s=this._bindingsByRootAndName,a=s[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[o],Object.keys(a).length===0&&delete s[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new KQ(new Float32Array(2),new Float32Array(2),1,Ble),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=t[r];e.__cacheIndex=r,t[r]=e,o.__cacheIndex=n,t[n]=o}clipAction(e,t,n){const r=t||this._root,o=r.uuid;let s=typeof e=="string"?pv.findByName(r,e):e;const a=s!==null?s.uuid:e,l=this._actionsByClip[a];let c=null;if(n===void 0&&(s!==null?n=s.blendMode:n=PR),l!==void 0){const h=l.actionByRoot[o];if(h!==void 0&&h.blendMode===n)return h;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const u=new yY(this,s,t,n);return this._bindAction(u,c),this._addInactiveAction(u,a,o),u}existingAction(e,t){const n=t||this._root,r=n.uuid,o=typeof e=="string"?pv.findByName(n,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(r,e,o,s);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,o=r[n];if(o!==void 0){const s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){const c=s[a];this._deactivateAction(c);const u=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,t[u]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const s in n){const a=n[s].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,o=r[t];if(o!==void 0)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Sle extends LR{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new AS(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Ele extends LR{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=n,this.texture=new hS(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class rN{constructor(e){this.value=e}clone(){return new rN(this.value.clone===void 0?this.value:this.value.clone())}}let Tle=0;class Ile extends oc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Tle++}),this.name="",this.usage=vB,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const o=Array.isArray(t[n])?t[n]:[t[n]];for(let s=0;s<o.length;s++)this.uniforms.push(o[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class Mle extends pS{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Rle{constructor(e,t,n,r,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const pz=new St;class oN{constructor(e,t,n=0,r=1/0){this.ray=new Sv(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Ly,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return pz.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(pz),this}intersectObject(e,t=!0,n=[]){return TL(e,this,n,t),n.sort(fz),n}intersectObjects(e,t=!0,n=[]){for(let r=0,o=e.length;r<o;r++)TL(e[r],this,n,t);return n.sort(fz),n}}function fz(i,e){return i.distance-e.distance}function TL(i,e,t,n){let r=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(r=!1),r===!0&&n===!0){const o=i.children;for(let s=0,a=o.length;s<a;s++)TL(o[s],e,t,!0)}}class X_{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=xi(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(xi(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class kle{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class sN{constructor(e,t,n,r){sN.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const o=this.elements;return o[0]=e,o[2]=t,o[1]=n,o[3]=r,this}}const gz=new et;class Fle{constructor(e=new et(1/0,1/0),t=new et(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=gz.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,gz).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const mz=new he,UT=new he;class Dle{constructor(e=new he,t=new he){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){mz.subVectors(e,this.start),UT.subVectors(this.end,this.start);const n=UT.dot(UT);let o=UT.dot(mz)/n;return t&&(o=xi(o,0,1)),o}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _z=new he;class Ule extends Si{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Kt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,l=32;s<l;s++,a++){const c=s/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}n.setAttribute("position",new vt(r,3));const o=new Qo({fog:!1,toneMapped:!1});this.cone=new Nc(n,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),_z.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_z),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const mf=new he,PT=new St,vD=new St;class Ple extends Nc{constructor(e){const t=xY(e),n=new Kt,r=[],o=[],s=new ut(0,0,1),a=new ut(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}n.setAttribute("position",new vt(r,3)),n.setAttribute("color",new vt(o,3));const l=new Qo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");vD.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<t.length;o++){const a=t[o];a.parent&&a.parent.isBone&&(PT.multiplyMatrices(vD,a.matrixWorld),mf.setFromMatrixPosition(PT),r.setXYZ(s,mf.x,mf.y,mf.z),PT.multiplyMatrices(vD,a.parent.matrixWorld),mf.setFromMatrixPosition(PT),r.setXYZ(s+1,mf.x,mf.y,mf.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function xY(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push.apply(e,xY(i.children[t]));return e}class Lle extends Fi{constructor(e,t,n){const r=new gw(t,4,2),o=new ns({wireframe:!0,fog:!1,toneMapped:!1});super(r,o),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Ole=new he,vz=new ut,bz=new ut;class Qle extends Si{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new mS(t);r.rotateY(Math.PI*.5),this.material=new ns({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),s=new Float32Array(o.count*3);r.setAttribute("color",new Ci(s,3)),this.add(new Fi(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");vz.copy(this.light.color),bz.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const o=n<r/2?vz:bz;t.setXYZ(n,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Ole.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Nle extends Nc{constructor(e=10,t=10,n=4473924,r=8947848){n=new ut(n),r=new ut(r);const o=t/2,s=e/t,a=e/2,l=[],c=[];for(let d=0,p=0,g=-a;d<=t;d++,g+=s){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=d===o?n:r;v.toArray(c,p),p+=3,v.toArray(c,p),p+=3,v.toArray(c,p),p+=3,v.toArray(c,p),p+=3}const u=new Kt;u.setAttribute("position",new vt(l,3)),u.setAttribute("color",new vt(c,3));const h=new Qo({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Hle extends Nc{constructor(e=10,t=16,n=8,r=64,o=4473924,s=8947848){o=new ut(o),s=new ut(s);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const d=h/t*(Math.PI*2),p=Math.sin(d)*e,g=Math.cos(d)*e;a.push(0,0,0),a.push(p,0,g);const v=h&1?o:s;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let h=0;h<n;h++){const d=h&1?o:s,p=e-e/n*h;for(let g=0;g<r;g++){let v=g/r*(Math.PI*2),_=Math.sin(v)*p,b=Math.cos(v)*p;a.push(_,0,b),l.push(d.r,d.g,d.b),v=(g+1)/r*(Math.PI*2),_=Math.sin(v)*p,b=Math.cos(v)*p,a.push(_,0,b),l.push(d.r,d.g,d.b)}}const c=new Kt;c.setAttribute("position",new vt(a,3)),c.setAttribute("color",new vt(l,3));const u=new Qo({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const yz=new he,LT=new he,wz=new he;class zle extends Si{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Kt;r.setAttribute("position",new vt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Qo({fog:!1,toneMapped:!1});this.lightPlane=new Ou(r,o),this.add(this.lightPlane),r=new Kt,r.setAttribute("position",new vt([0,0,0,0,0,1],3)),this.targetLine=new Ou(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),yz.setFromMatrixPosition(this.light.matrixWorld),LT.setFromMatrixPosition(this.light.target.matrixWorld),wz.subVectors(LT,yz),this.lightPlane.lookAt(LT),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(LT),this.targetLine.scale.z=wz.length()}}const OT=new he,to=new QR;class Gle extends Nc{constructor(e){const t=new Kt,n=new Qo({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],s={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){r.push(0,0,0),o.push(0,0,0),s[g]===void 0&&(s[g]=[]),s[g].push(r.length/3-1)}t.setAttribute("position",new vt(r,3)),t.setAttribute("color",new vt(o,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new ut(16755200),u=new ut(16711680),h=new ut(43775),d=new ut(16777215),p=new ut(3355443);this.setColors(c,u,h,d,p)}setColors(e,t,n,r,o){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,o.r,o.g,o.b),a.setXYZ(41,o.r,o.g,o.b),a.setXYZ(42,o.r,o.g,o.b),a.setXYZ(43,o.r,o.g,o.b),a.setXYZ(44,o.r,o.g,o.b),a.setXYZ(45,o.r,o.g,o.b),a.setXYZ(46,o.r,o.g,o.b),a.setXYZ(47,o.r,o.g,o.b),a.setXYZ(48,o.r,o.g,o.b),a.setXYZ(49,o.r,o.g,o.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;to.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===Fh?-1:0;Ao("c",t,e,to,0,0,o),Ao("t",t,e,to,0,0,1),Ao("n1",t,e,to,-1,-1,o),Ao("n2",t,e,to,n,-1,o),Ao("n3",t,e,to,-1,r,o),Ao("n4",t,e,to,n,r,o),Ao("f1",t,e,to,-1,-1,1),Ao("f2",t,e,to,n,-1,1),Ao("f3",t,e,to,-1,r,1),Ao("f4",t,e,to,n,r,1),Ao("u1",t,e,to,n*.7,r*1.1,o),Ao("u2",t,e,to,-1*.7,r*1.1,o),Ao("u3",t,e,to,0,r*2,o),Ao("cf1",t,e,to,-1,0,1),Ao("cf2",t,e,to,n,0,1),Ao("cf3",t,e,to,0,-1,1),Ao("cf4",t,e,to,0,r,1),Ao("cn1",t,e,to,-1,0,o),Ao("cn2",t,e,to,n,0,o),Ao("cn3",t,e,to,0,-1,o),Ao("cn4",t,e,to,0,r,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ao(i,e,t,n,r,o,s){OT.set(r,o,s).unproject(n);const a=e[i];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],OT.x,OT.y,OT.z)}}const QT=new vr;class Vle extends Nc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),o=new Kt;o.setIndex(new Ci(n,1)),o.setAttribute("position",new Ci(r,3)),super(o,new Qo({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&QT.setFromObject(this.object),QT.isEmpty())return;const t=QT.min,n=QT.max,r=this.geometry.attributes.position,o=r.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=t.x,o[4]=n.y,o[5]=n.z,o[6]=t.x,o[7]=t.y,o[8]=n.z,o[9]=n.x,o[10]=t.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=t.z,o[15]=t.x,o[16]=n.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=n.x,o[22]=t.y,o[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class qle extends Nc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Kt;o.setIndex(new Ci(n,1)),o.setAttribute("position",new vt(r,3)),super(o,new Qo({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Wle extends Ou{constructor(e,t=1,n=16776960){const r=n,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Kt;s.setAttribute("position",new vt(o,3)),s.computeBoundingSphere(),super(s,new Qo({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Kt;l.setAttribute("position",new vt(a,3)),l.computeBoundingSphere(),this.add(new Fi(l,new ns({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const xz=new he;let NT,bD;class jle extends Si{constructor(e=new he(0,0,1),t=new he(0,0,0),n=1,r=16776960,o=n*.2,s=o*.2){super(),this.type="ArrowHelper",NT===void 0&&(NT=new Kt,NT.setAttribute("position",new vt([0,0,0,0,1,0],3)),bD=new fw(0,.5,1,5,1),bD.translate(0,-.5,0)),this.position.copy(t),this.line=new Ou(NT,new Qo({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Fi(bD,new ns({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{xz.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(xz,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Kle extends Nc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Kt;r.setAttribute("position",new vt(t,3)),r.setAttribute("color",new vt(n,3));const o=new Qo({vertexColors:!0,toneMapped:!1});super(r,o),this.type="AxesHelper"}setColors(e,t,n){const r=new ut,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(t),r.toArray(o,6),r.toArray(o,9),r.set(n),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $le{constructor(){this.type="ShapePath",this.color=new ut,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new wB,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,o,s){return this.currentPath.bezierCurveTo(e,t,n,r,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const x=[];for(let C=0,S=b.length;C<S;C++){const E=b[C],I=new $_;I.curves=E.curves,x.push(I)}return x}function n(b,x){const C=x.length;let S=!1;for(let E=C-1,I=0;I<C;E=I++){let M=x[E],k=x[I],F=k.x-M.x,P=k.y-M.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(M=x[I],F=-F,k=x[E],P=-P),b.y<M.y||b.y>k.y)continue;if(b.y===M.y){if(b.x===M.x)return!0}else{const Q=P*(b.x-M.x)-F*(b.y-M.y);if(Q===0)return!0;if(Q<0)continue;S=!S}}else{if(b.y!==M.y)continue;if(k.x<=b.x&&b.x<=M.x||M.x<=b.x&&b.x<=k.x)return!0}}return S}const r=Lh.isClockWise,o=this.subPaths;if(o.length===0)return[];let s,a,l;const c=[];if(o.length===1)return a=o[0],l=new $_,l.curves=a.curves,c.push(l),c;let u=!r(o[0].getPoints());u=e?!u:u;const h=[],d=[];let p=[],g=0,v;d[g]=void 0,p[g]=[];for(let b=0,x=o.length;b<x;b++)a=o[b],v=a.getPoints(),s=r(v),s=e?!s:s,s?(!u&&d[g]&&g++,d[g]={s:new $_,p:v},d[g].s.curves=a.curves,u&&g++,p[g]=[]):p[g].push({h:a,p:v[0]});if(!d[0])return t(o);if(d.length>1){let b=!1,x=0;for(let C=0,S=d.length;C<S;C++)h[C]=[];for(let C=0,S=d.length;C<S;C++){const E=p[C];for(let I=0;I<E.length;I++){const M=E[I];let k=!0;for(let F=0;F<d.length;F++)n(M.p,d[F].p)&&(C!==F&&x++,k?(k=!1,h[F].push(M)):b=!0);k&&h[C].push(M)}}x>0&&b===!1&&(p=h)}let _;for(let b=0,x=d.length;b<x;b++){l=d[b].s,c.push(l),_=p[b];for(let C=0,S=_.length;C<S;C++)l.holes.push(_[C].h)}return c}}class Xle extends oc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function Yle(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function Zle(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function Jle(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function IL(i,e,t,n){const r=ece(n);switch(t){case CQ:return i*e;case SQ:return i*e;case EQ:return i*e*2;case fp:return i*e/r.components*r.byteLength;case uS:return i*e/r.components*r.byteLength;case ng:return i*e*2/r.components*r.byteLength;case DR:return i*e*2/r.components*r.byteLength;case BQ:return i*e*3/r.components*r.byteLength;case On:return i*e*4/r.components*r.byteLength;case UR:return i*e*4/r.components*r.byteLength;case D2:case vy:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case U2:case by:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case WM:case jM:return Math.max(i,16)*Math.max(e,8)/4;case uB:case hB:return Math.max(i,8)*Math.max(e,8)/2;case AB:case dB:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case pB:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Fy:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case KM:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case $M:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case XM:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case Dy:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case YM:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case ZM:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case JM:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case e5:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case t5:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case i5:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case n5:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case r5:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case o5:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case yy:case s5:case fB:return Math.ceil(i/4)*Math.ceil(e/4)*16;case TQ:case a5:return Math.ceil(i/4)*Math.ceil(e/4)*8;case l5:case c5:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function ece(i){switch(i){case Wr:case MR:return{byteLength:1,components:1};case ky:case RR:case yo:return{byteLength:2,components:1};case kR:case FR:return{byteLength:2,components:4};case HA:case cS:case yr:return{byteLength:4,components:1};case xQ:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}const tce={contain:Yle,cover:Zle,fill:Jle,getByteLength:IL};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:aS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=aS);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function CY(){let i=null,e=!1,t=null,n=null;function r(o,s){t(o,s),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){i=o}}}function ice(i){const e=new WeakMap;function t(a,l){const c=a.array,u=a.usage,h=c.byteLength,d=i.createBuffer();i.bindBuffer(l,d),i.bufferData(l,c,u),a.onUploadCallback();let p;if(c instanceof Float32Array)p=i.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?p=i.HALF_FLOAT:p=i.UNSIGNED_SHORT;else if(c instanceof Int16Array)p=i.SHORT;else if(c instanceof Uint32Array)p=i.UNSIGNED_INT;else if(c instanceof Int32Array)p=i.INT;else if(c instanceof Int8Array)p=i.BYTE;else if(c instanceof Uint8Array)p=i.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)p=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:d,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:h}}function n(a,l,c){const u=l.array,h=l.updateRanges;if(i.bindBuffer(c,a),h.length===0)i.bufferSubData(c,0,u);else{h.sort((p,g)=>p.start-g.start);let d=0;for(let p=1;p<h.length;p++){const g=h[d],v=h[p];v.start<=g.start+g.count+1?g.count=Math.max(g.count,v.start+v.count-g.start):(++d,h[d]=v)}h.length=d+1;for(let p=0,g=h.length;p<g;p++){const v=h[p];i.bufferSubData(c,v.start*u.BYTES_PER_ELEMENT,u,v.start,v.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(i.deleteBuffer(l.buffer),e.delete(a))}function s(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,t(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(c.buffer,a,l),c.version=a.version}}return{get:r,remove:o,update:s}}var nce=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,rce=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,oce=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,sce=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ace=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,lce=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,cce=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,uce=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,hce=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Ace=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,dce=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,pce=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,fce=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,gce=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,mce=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,_ce=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,vce=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,bce=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,yce=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,wce=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,xce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Cce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Bce=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Sce=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Ece=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Tce=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Ice=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Mce=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Rce=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,kce=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Fce="gl_FragColor = linearToOutputTexel( gl_FragColor );",Dce=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Uce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Pce=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Lce=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Oce=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Qce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Nce=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Hce=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,zce=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Gce=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Vce=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,qce=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Wce=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,jce=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Kce=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,$ce=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Xce=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Yce=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Zce=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Jce=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,eue=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,tue=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,iue=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,nue=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,rue=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,oue=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,sue=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,aue=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,lue=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,cue=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,uue=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,hue=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Aue=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,due=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,pue=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,fue=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,gue=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,mue=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,_ue=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,vue=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,bue=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,yue=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,wue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Cue=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Bue=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Sue=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Eue=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Tue=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Iue=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Mue=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Rue=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,kue=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Fue=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Due=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Uue=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Pue=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Lue=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Oue=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Que=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Nue=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Hue=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,zue=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Gue=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Vue=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,que=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Wue=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,jue=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Kue=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,$ue=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Xue=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Yue=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Zue=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Jue=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ehe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,the=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ihe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,nhe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ohe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,she=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ahe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lhe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,che=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,uhe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,hhe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Ahe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,dhe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,phe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fhe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ghe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,mhe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_he=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vhe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bhe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,yhe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,whe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,xhe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Che=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bhe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,She=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Ehe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,The=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ihe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mhe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Rhe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,khe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Fhe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dhe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Uhe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Mi={alphahash_fragment:nce,alphahash_pars_fragment:rce,alphamap_fragment:oce,alphamap_pars_fragment:sce,alphatest_fragment:ace,alphatest_pars_fragment:lce,aomap_fragment:cce,aomap_pars_fragment:uce,batching_pars_vertex:hce,batching_vertex:Ace,begin_vertex:dce,beginnormal_vertex:pce,bsdfs:fce,iridescence_fragment:gce,bumpmap_pars_fragment:mce,clipping_planes_fragment:_ce,clipping_planes_pars_fragment:vce,clipping_planes_pars_vertex:bce,clipping_planes_vertex:yce,color_fragment:wce,color_pars_fragment:xce,color_pars_vertex:Cce,color_vertex:Bce,common:Sce,cube_uv_reflection_fragment:Ece,defaultnormal_vertex:Tce,displacementmap_pars_vertex:Ice,displacementmap_vertex:Mce,emissivemap_fragment:Rce,emissivemap_pars_fragment:kce,colorspace_fragment:Fce,colorspace_pars_fragment:Dce,envmap_fragment:Uce,envmap_common_pars_fragment:Pce,envmap_pars_fragment:Lce,envmap_pars_vertex:Oce,envmap_physical_pars_fragment:$ce,envmap_vertex:Qce,fog_vertex:Nce,fog_pars_vertex:Hce,fog_fragment:zce,fog_pars_fragment:Gce,gradientmap_pars_fragment:Vce,lightmap_pars_fragment:qce,lights_lambert_fragment:Wce,lights_lambert_pars_fragment:jce,lights_pars_begin:Kce,lights_toon_fragment:Xce,lights_toon_pars_fragment:Yce,lights_phong_fragment:Zce,lights_phong_pars_fragment:Jce,lights_physical_fragment:eue,lights_physical_pars_fragment:tue,lights_fragment_begin:iue,lights_fragment_maps:nue,lights_fragment_end:rue,logdepthbuf_fragment:oue,logdepthbuf_pars_fragment:sue,logdepthbuf_pars_vertex:aue,logdepthbuf_vertex:lue,map_fragment:cue,map_pars_fragment:uue,map_particle_fragment:hue,map_particle_pars_fragment:Aue,metalnessmap_fragment:due,metalnessmap_pars_fragment:pue,morphinstance_vertex:fue,morphcolor_vertex:gue,morphnormal_vertex:mue,morphtarget_pars_vertex:_ue,morphtarget_vertex:vue,normal_fragment_begin:bue,normal_fragment_maps:yue,normal_pars_fragment:wue,normal_pars_vertex:xue,normal_vertex:Cue,normalmap_pars_fragment:Bue,clearcoat_normal_fragment_begin:Sue,clearcoat_normal_fragment_maps:Eue,clearcoat_pars_fragment:Tue,iridescence_pars_fragment:Iue,opaque_fragment:Mue,packing:Rue,premultiplied_alpha_fragment:kue,project_vertex:Fue,dithering_fragment:Due,dithering_pars_fragment:Uue,roughnessmap_fragment:Pue,roughnessmap_pars_fragment:Lue,shadowmap_pars_fragment:Oue,shadowmap_pars_vertex:Que,shadowmap_vertex:Nue,shadowmask_pars_fragment:Hue,skinbase_vertex:zue,skinning_pars_vertex:Gue,skinning_vertex:Vue,skinnormal_vertex:que,specularmap_fragment:Wue,specularmap_pars_fragment:jue,tonemapping_fragment:Kue,tonemapping_pars_fragment:$ue,transmission_fragment:Xue,transmission_pars_fragment:Yue,uv_pars_fragment:Zue,uv_pars_vertex:Jue,uv_vertex:ehe,worldpos_vertex:the,background_vert:ihe,background_frag:nhe,backgroundCube_vert:rhe,backgroundCube_frag:ohe,cube_vert:she,cube_frag:ahe,depth_vert:lhe,depth_frag:che,distanceRGBA_vert:uhe,distanceRGBA_frag:hhe,equirect_vert:Ahe,equirect_frag:dhe,linedashed_vert:phe,linedashed_frag:fhe,meshbasic_vert:ghe,meshbasic_frag:mhe,meshlambert_vert:_he,meshlambert_frag:vhe,meshmatcap_vert:bhe,meshmatcap_frag:yhe,meshnormal_vert:whe,meshnormal_frag:xhe,meshphong_vert:Che,meshphong_frag:Bhe,meshphysical_vert:She,meshphysical_frag:Ehe,meshtoon_vert:The,meshtoon_frag:Ihe,points_vert:Mhe,points_frag:Rhe,shadow_vert:khe,shadow_frag:Fhe,sprite_vert:Dhe,sprite_frag:Uhe},Et={common:{diffuse:{value:new ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new pi},alphaMap:{value:null},alphaMapTransform:{value:new pi},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new pi}},envmap:{envMap:{value:null},envMapRotation:{value:new pi},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new pi}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new pi}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new pi},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new pi},normalScale:{value:new et(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new pi},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new pi}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new pi}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new pi}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new pi},alphaTest:{value:0},uvTransform:{value:new pi}},sprite:{diffuse:{value:new ut(16777215)},opacity:{value:1},center:{value:new et(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new pi},alphaMap:{value:null},alphaMapTransform:{value:new pi},alphaTest:{value:0}}},kh={basic:{uniforms:dl([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.fog]),vertexShader:Mi.meshbasic_vert,fragmentShader:Mi.meshbasic_frag},lambert:{uniforms:dl([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,Et.lights,{emissive:{value:new ut(0)}}]),vertexShader:Mi.meshlambert_vert,fragmentShader:Mi.meshlambert_frag},phong:{uniforms:dl([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,Et.lights,{emissive:{value:new ut(0)},specular:{value:new ut(1118481)},shininess:{value:30}}]),vertexShader:Mi.meshphong_vert,fragmentShader:Mi.meshphong_frag},standard:{uniforms:dl([Et.common,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.roughnessmap,Et.metalnessmap,Et.fog,Et.lights,{emissive:{value:new ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mi.meshphysical_vert,fragmentShader:Mi.meshphysical_frag},toon:{uniforms:dl([Et.common,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.gradientmap,Et.fog,Et.lights,{emissive:{value:new ut(0)}}]),vertexShader:Mi.meshtoon_vert,fragmentShader:Mi.meshtoon_frag},matcap:{uniforms:dl([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,{matcap:{value:null}}]),vertexShader:Mi.meshmatcap_vert,fragmentShader:Mi.meshmatcap_frag},points:{uniforms:dl([Et.points,Et.fog]),vertexShader:Mi.points_vert,fragmentShader:Mi.points_frag},dashed:{uniforms:dl([Et.common,Et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mi.linedashed_vert,fragmentShader:Mi.linedashed_frag},depth:{uniforms:dl([Et.common,Et.displacementmap]),vertexShader:Mi.depth_vert,fragmentShader:Mi.depth_frag},normal:{uniforms:dl([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,{opacity:{value:1}}]),vertexShader:Mi.meshnormal_vert,fragmentShader:Mi.meshnormal_frag},sprite:{uniforms:dl([Et.sprite,Et.fog]),vertexShader:Mi.sprite_vert,fragmentShader:Mi.sprite_frag},background:{uniforms:{uvTransform:{value:new pi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Mi.background_vert,fragmentShader:Mi.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new pi}},vertexShader:Mi.backgroundCube_vert,fragmentShader:Mi.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mi.cube_vert,fragmentShader:Mi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mi.equirect_vert,fragmentShader:Mi.equirect_frag},distanceRGBA:{uniforms:dl([Et.common,Et.displacementmap,{referencePosition:{value:new he},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mi.distanceRGBA_vert,fragmentShader:Mi.distanceRGBA_frag},shadow:{uniforms:dl([Et.lights,Et.fog,{color:{value:new ut(0)},opacity:{value:1}}]),vertexShader:Mi.shadow_vert,fragmentShader:Mi.shadow_frag}};kh.physical={uniforms:dl([kh.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new pi},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new pi},clearcoatNormalScale:{value:new et(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new pi},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new pi},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new pi},sheen:{value:0},sheenColor:{value:new ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new pi},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new pi},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new pi},transmissionSamplerSize:{value:new et},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new pi},attenuationDistance:{value:0},attenuationColor:{value:new ut(0)},specularColor:{value:new ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new pi},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new pi},anisotropyVector:{value:new et},anisotropyMap:{value:null},anisotropyMapTransform:{value:new pi}}]),vertexShader:Mi.meshphysical_vert,fragmentShader:Mi.meshphysical_frag};const HT={r:0,b:0,g:0},Wm=new io,Phe=new St;function Lhe(i,e,t,n,r,o,s){const a=new ut(0);let l=o===!0?0:1,c,u,h=null,d=0,p=null;function g(C){let S=C.isScene===!0?C.background:null;return S&&S.isTexture&&(S=(C.backgroundBlurriness>0?t:e).get(S)),S}function v(C){let S=!1;const E=g(C);E===null?b(a,l):E&&E.isColor&&(b(E,1),S=!0);const I=i.xr.getEnvironmentBlendMode();I==="additive"?n.buffers.color.setClear(0,0,0,1,s):I==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,s),(i.autoClear||S)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function _(C,S){const E=g(S);E&&(E.isCubeTexture||E.mapping===dw)?(u===void 0&&(u=new Fi(new zh(1,1,1),new qa({name:"BackgroundCubeMaterial",uniforms:Oy(kh.backgroundCube.uniforms),vertexShader:kh.backgroundCube.vertexShader,fragmentShader:kh.backgroundCube.fragmentShader,side:Us,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(I,M,k){this.matrixWorld.copyPosition(k.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),Wm.copy(S.backgroundRotation),Wm.x*=-1,Wm.y*=-1,Wm.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Wm.y*=-1,Wm.z*=-1),u.material.uniforms.envMap.value=E,u.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Phe.makeRotationFromEuler(Wm)),u.material.toneMapped=_i.getTransfer(E.colorSpace)!==Pn,(h!==E||d!==E.version||p!==i.toneMapping)&&(u.material.needsUpdate=!0,h=E,d=E.version,p=i.toneMapping),u.layers.enableAll(),C.unshift(u,u.geometry,u.material,0,0,null)):E&&E.isTexture&&(c===void 0&&(c=new Fi(new sc(2,2),new qa({name:"BackgroundMaterial",uniforms:Oy(kh.background.uniforms),vertexShader:kh.background.vertexShader,fragmentShader:kh.background.fragmentShader,side:Pu,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=E,c.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,c.material.toneMapped=_i.getTransfer(E.colorSpace)!==Pn,E.matrixAutoUpdate===!0&&E.updateMatrix(),c.material.uniforms.uvTransform.value.copy(E.matrix),(h!==E||d!==E.version||p!==i.toneMapping)&&(c.material.needsUpdate=!0,h=E,d=E.version,p=i.toneMapping),c.layers.enableAll(),C.unshift(c,c.geometry,c.material,0,0,null))}function b(C,S){C.getRGB(HT,PX(i)),n.buffers.color.setClear(HT.r,HT.g,HT.b,S,s)}function x(){u!==void 0&&(u.geometry.dispose(),u.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return a},setClearColor:function(C,S=1){a.set(C),l=S,b(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(C){l=C,b(a,l)},render:v,addToRenderList:_,dispose:x}}function Ohe(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=d(null);let o=r,s=!1;function a(P,Q,N,W,q){let J=!1;const V=h(W,N,Q);o!==V&&(o=V,c(o.object)),J=p(P,W,N,q),J&&g(P,W,N,q),q!==null&&e.update(q,i.ELEMENT_ARRAY_BUFFER),(J||s)&&(s=!1,S(P,Q,N,W),q!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(q).buffer))}function l(){return i.createVertexArray()}function c(P){return i.bindVertexArray(P)}function u(P){return i.deleteVertexArray(P)}function h(P,Q,N){const W=N.wireframe===!0;let q=n[P.id];q===void 0&&(q={},n[P.id]=q);let J=q[Q.id];J===void 0&&(J={},q[Q.id]=J);let V=J[W];return V===void 0&&(V=d(l()),J[W]=V),V}function d(P){const Q=[],N=[],W=[];for(let q=0;q<t;q++)Q[q]=0,N[q]=0,W[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Q,enabledAttributes:N,attributeDivisors:W,object:P,attributes:{},index:null}}function p(P,Q,N,W){const q=o.attributes,J=Q.attributes;let V=0;const Y=N.getAttributes();for(const Z in Y)if(Y[Z].location>=0){const $=q[Z];let ee=J[Z];if(ee===void 0&&(Z==="instanceMatrix"&&P.instanceMatrix&&(ee=P.instanceMatrix),Z==="instanceColor"&&P.instanceColor&&(ee=P.instanceColor)),$===void 0||$.attribute!==ee||ee&&$.data!==ee.data)return!0;V++}return o.attributesNum!==V||o.index!==W}function g(P,Q,N,W){const q={},J=Q.attributes;let V=0;const Y=N.getAttributes();for(const Z in Y)if(Y[Z].location>=0){let $=J[Z];$===void 0&&(Z==="instanceMatrix"&&P.instanceMatrix&&($=P.instanceMatrix),Z==="instanceColor"&&P.instanceColor&&($=P.instanceColor));const ee={};ee.attribute=$,$&&$.data&&(ee.data=$.data),q[Z]=ee,V++}o.attributes=q,o.attributesNum=V,o.index=W}function v(){const P=o.newAttributes;for(let Q=0,N=P.length;Q<N;Q++)P[Q]=0}function _(P){b(P,0)}function b(P,Q){const N=o.newAttributes,W=o.enabledAttributes,q=o.attributeDivisors;N[P]=1,W[P]===0&&(i.enableVertexAttribArray(P),W[P]=1),q[P]!==Q&&(i.vertexAttribDivisor(P,Q),q[P]=Q)}function x(){const P=o.newAttributes,Q=o.enabledAttributes;for(let N=0,W=Q.length;N<W;N++)Q[N]!==P[N]&&(i.disableVertexAttribArray(N),Q[N]=0)}function C(P,Q,N,W,q,J,V){V===!0?i.vertexAttribIPointer(P,Q,N,q,J):i.vertexAttribPointer(P,Q,N,W,q,J)}function S(P,Q,N,W){v();const q=W.attributes,J=N.getAttributes(),V=Q.defaultAttributeValues;for(const Y in J){const Z=J[Y];if(Z.location>=0){let ue=q[Y];if(ue===void 0&&(Y==="instanceMatrix"&&P.instanceMatrix&&(ue=P.instanceMatrix),Y==="instanceColor"&&P.instanceColor&&(ue=P.instanceColor)),ue!==void 0){const $=ue.normalized,ee=ue.itemSize,oe=e.get(ue);if(oe===void 0)continue;const ge=oe.buffer,se=oe.type,Ae=oe.bytesPerElement,we=se===i.INT||se===i.UNSIGNED_INT||ue.gpuType===cS;if(ue.isInterleavedBufferAttribute){const xe=ue.data,Be=xe.stride,Re=ue.offset;if(xe.isInstancedInterleavedBuffer){for(let ke=0;ke<Z.locationSize;ke++)b(Z.location+ke,xe.meshPerAttribute);P.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let ke=0;ke<Z.locationSize;ke++)_(Z.location+ke);i.bindBuffer(i.ARRAY_BUFFER,ge);for(let ke=0;ke<Z.locationSize;ke++)C(Z.location+ke,ee/Z.locationSize,se,$,Be*Ae,(Re+ee/Z.locationSize*ke)*Ae,we)}else{if(ue.isInstancedBufferAttribute){for(let xe=0;xe<Z.locationSize;xe++)b(Z.location+xe,ue.meshPerAttribute);P.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let xe=0;xe<Z.locationSize;xe++)_(Z.location+xe);i.bindBuffer(i.ARRAY_BUFFER,ge);for(let xe=0;xe<Z.locationSize;xe++)C(Z.location+xe,ee/Z.locationSize,se,$,ee*Ae,ee/Z.locationSize*xe*Ae,we)}}else if(V!==void 0){const $=V[Y];if($!==void 0)switch($.length){case 2:i.vertexAttrib2fv(Z.location,$);break;case 3:i.vertexAttrib3fv(Z.location,$);break;case 4:i.vertexAttrib4fv(Z.location,$);break;default:i.vertexAttrib1fv(Z.location,$)}}}}x()}function E(){k();for(const P in n){const Q=n[P];for(const N in Q){const W=Q[N];for(const q in W)u(W[q].object),delete W[q];delete Q[N]}delete n[P]}}function I(P){if(n[P.id]===void 0)return;const Q=n[P.id];for(const N in Q){const W=Q[N];for(const q in W)u(W[q].object),delete W[q];delete Q[N]}delete n[P.id]}function M(P){for(const Q in n){const N=n[Q];if(N[P.id]===void 0)continue;const W=N[P.id];for(const q in W)u(W[q].object),delete W[q];delete N[P.id]}}function k(){F(),s=!0,o!==r&&(o=r,c(o.object))}function F(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:k,resetDefaultState:F,dispose:E,releaseStatesOfGeometry:I,releaseStatesOfProgram:M,initAttributes:v,enableAttribute:_,disableUnusedAttributes:x}}function Qhe(i,e,t){let n;function r(c){n=c}function o(c,u){i.drawArrays(n,c,u),t.update(u,n,1)}function s(c,u,h){h!==0&&(i.drawArraysInstanced(n,c,u,h),t.update(u,n,h))}function a(c,u,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,c,0,u,0,h);let p=0;for(let g=0;g<h;g++)p+=u[g];t.update(p,n,1)}function l(c,u,h,d){if(h===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let g=0;g<c.length;g++)s(c[g],u[g],d[g]);else{p.multiDrawArraysInstancedWEBGL(n,c,0,u,0,d,0,h);let g=0;for(let v=0;v<h;v++)g+=u[v]*d[v];t.update(g,n,1)}}this.setMode=r,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Nhe(i,e,t,n){let r;function o(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");r=i.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(M){return!(M!==On&&n.convert(M)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(M){const k=M===yo&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==Wr&&n.convert(M)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==yr&&!k)}function l(M){if(M==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const h=t.logarithmicDepthBuffer===!0,d=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),p=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),g=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=i.getParameter(i.MAX_TEXTURE_SIZE),_=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),b=i.getParameter(i.MAX_VERTEX_ATTRIBS),x=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),C=i.getParameter(i.MAX_VARYING_VECTORS),S=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),E=g>0,I=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:h,reverseDepthBuffer:d,maxTextures:p,maxVertexTextures:g,maxTextureSize:v,maxCubemapSize:_,maxAttributes:b,maxVertexUniforms:x,maxVaryings:C,maxFragmentUniforms:S,vertexTextures:E,maxSamples:I}}function Hhe(i){const e=this;let t=null,n=0,r=!1,o=!1;const s=new cp,a=new pi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,d){const p=h.length!==0||d||n!==0||r;return r=d,n=h.length,p},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(h,d){t=u(h,d,0)},this.setState=function(h,d,p){const g=h.clippingPlanes,v=h.clipIntersection,_=h.clipShadows,b=i.get(h);if(!r||g===null||g.length===0||o&&!_)o?u(null):c();else{const x=o?0:n,C=x*4;let S=b.clippingState||null;l.value=S,S=u(g,d,C,p);for(let E=0;E!==C;++E)S[E]=t[E];b.clippingState=S,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(h,d,p,g){const v=h!==null?h.length:0;let _=null;if(v!==0){if(_=l.value,g!==!0||_===null){const b=p+v*4,x=d.matrixWorldInverse;a.getNormalMatrix(x),(_===null||_.length<b)&&(_=new Float32Array(b));for(let C=0,S=p;C!==v;++C,S+=4)s.copy(h[C]).applyMatrix4(x,a),s.normal.toArray(_,S),_[S+3]=s.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,_}}function zhe(i){let e=new WeakMap;function t(s,a){return a===av?s.mapping=Mp:a===cB&&(s.mapping=bg),s}function n(s){if(s&&s.isTexture){const a=s.mapping;if(a===av||a===cB)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new NR(l.height);return c.fromEquirectangularTexture(i,s),e.set(s,c),s.addEventListener("dispose",r),t(c.texture,s.mapping)}else return null}}return s}function r(s){const a=s.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:n,dispose:o}}const hy=4,Cz=[.125,.215,.35,.446,.526,.582],T_=20,yD=new nc,Bz=new ut;let wD=null,xD=0,CD=0,BD=!1;const v_=(1+Math.sqrt(5))/2,z0=1/v_,Sz=[new he(-v_,z0,0),new he(v_,z0,0),new he(-z0,0,v_),new he(z0,0,v_),new he(0,v_,-z0),new he(0,v_,z0),new he(-1,1,-1),new he(1,1,-1),new he(-1,1,1),new he(1,1,1)];class ML{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){wD=this._renderer.getRenderTarget(),xD=this._renderer.getActiveCubeFace(),CD=this._renderer.getActiveMipmapLevel(),BD=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,n,r,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Iz(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Tz(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(wD,xD,CD),this._renderer.xr.enabled=BD,e.scissorTest=!1,zT(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Mp||e.mapping===bg?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),wD=this._renderer.getRenderTarget(),xD=this._renderer.getActiveCubeFace(),CD=this._renderer.getActiveMipmapLevel(),BD=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Ni,minFilter:Ni,generateMipmaps:!1,type:yo,format:On,colorSpace:Xn,depthBuffer:!1},r=Ez(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Ez(e,t,n);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Ghe(o)),this._blurMaterial=Vhe(o,e,t)}return r}_compileMaterial(e){const t=new Fi(this._lodPlanes[0],e);this._renderer.compile(t,yD)}_sceneToCubeUV(e,t,n,r){const a=new Kn(90,1,t,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,d=u.toneMapping;u.getClearColor(Bz),u.toneMapping=Mu,u.autoClear=!1;const p=new ns({name:"PMREM.Background",side:Us,depthWrite:!1,depthTest:!1}),g=new Fi(new zh,p);let v=!1;const _=e.background;_?_.isColor&&(p.color.copy(_),e.background=null,v=!0):(p.color.copy(Bz),v=!0);for(let b=0;b<6;b++){const x=b%3;x===0?(a.up.set(0,l[b],0),a.lookAt(c[b],0,0)):x===1?(a.up.set(0,0,l[b]),a.lookAt(0,c[b],0)):(a.up.set(0,l[b],0),a.lookAt(0,0,c[b]));const C=this._cubeSize;zT(r,x*C,b>2?C:0,C,C),u.setRenderTarget(r),v&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=d,u.autoClear=h,e.background=_}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Mp||e.mapping===bg;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Iz()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Tz());const o=r?this._cubemapMaterial:this._equirectMaterial,s=new Fi(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;zT(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(s,yD)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let o=1;o<r;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=Sz[(r-o-1)%Sz.length];this._blur(e,o-1,o,s,a)}t.autoClear=n}_blur(e,t,n,r,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,r,"latitudinal",o),this._halfBlur(s,e,n,n,r,"longitudinal",o)}_halfBlur(e,t,n,r,o,s,a){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new Fi(this._lodPlanes[r],c),d=c.uniforms,p=this._sizeLods[n]-1,g=isFinite(o)?Math.PI/(2*p):2*Math.PI/(2*T_-1),v=o/g,_=isFinite(o)?1+Math.floor(u*v):T_;_>T_&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${T_}`);const b=[];let x=0;for(let M=0;M<T_;++M){const k=M/v,F=Math.exp(-k*k/2);b.push(F),M===0?x+=F:M<_&&(x+=2*F)}for(let M=0;M<b.length;M++)b[M]=b[M]/x;d.envMap.value=e.texture,d.samples.value=_,d.weights.value=b,d.latitudinal.value=s==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:C}=this;d.dTheta.value=g,d.mipInt.value=C-n;const S=this._sizeLods[r],E=3*S*(r>C-hy?r-C+hy:0),I=4*(this._cubeSize-S);zT(t,E,I,3*S,2*S),l.setRenderTarget(t),l.render(h,yD)}}function Ghe(i){const e=[],t=[],n=[];let r=i;const o=i-hy+1+Cz.length;for(let s=0;s<o;s++){const a=Math.pow(2,r);t.push(a);let l=1/a;s>i-hy?l=Cz[s-i+hy-1]:s===0&&(l=0),n.push(l);const c=1/(a-2),u=-c,h=1+c,d=[u,u,h,u,h,h,u,u,h,h,u,h],p=6,g=6,v=3,_=2,b=1,x=new Float32Array(v*g*p),C=new Float32Array(_*g*p),S=new Float32Array(b*g*p);for(let I=0;I<p;I++){const M=I%3*2/3-1,k=I>2?0:-1,F=[M,k,0,M+2/3,k,0,M+2/3,k+1,0,M,k,0,M+2/3,k+1,0,M,k+1,0];x.set(F,v*g*I),C.set(d,_*g*I);const P=[I,I,I,I,I,I];S.set(P,b*g*I)}const E=new Kt;E.setAttribute("position",new Ci(x,v)),E.setAttribute("uv",new Ci(C,_)),E.setAttribute("faceIndex",new Ci(S,b)),e.push(E),r>hy&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function Ez(i,e,t){const n=new Il(i,e,t);return n.texture.mapping=dw,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function zT(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function Vhe(i,e,t){const n=new Float32Array(T_),r=new he(0,1,0);return new qa({name:"SphericalGaussianBlur",defines:{n:T_,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:aN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ph,depthTest:!1,depthWrite:!1})}function Tz(){return new qa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:aN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ph,depthTest:!1,depthWrite:!1})}function Iz(){return new qa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:aN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ph,depthTest:!1,depthWrite:!1})}function aN(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function qhe(i){let e=new WeakMap,t=null;function n(a){if(a&&a.isTexture){const l=a.mapping,c=l===av||l===cB,u=l===Mp||l===bg;if(c||u){let h=e.get(a);const d=h!==void 0?h.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==d)return t===null&&(t=new ML(i)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(h!==void 0)return h.texture;{const p=a.image;return c&&p&&p.height>0||u&&p&&r(p)?(t===null&&(t=new ML(i)),h=c?t.fromEquirectangular(a):t.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",o),h.texture):null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:s}}function Whe(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const r=t(n);return r===null&&Zb("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function jhe(i,e,t,n){const r={},o=new WeakMap;function s(h){const d=h.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);d.removeEventListener("dispose",s),delete r[d.id];const p=o.get(d);p&&(e.remove(p),o.delete(d)),n.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(h,d){return r[d.id]===!0||(d.addEventListener("dispose",s),r[d.id]=!0,t.memory.geometries++),d}function l(h){const d=h.attributes;for(const p in d)e.update(d[p],i.ARRAY_BUFFER)}function c(h){const d=[],p=h.index,g=h.attributes.position;let v=0;if(p!==null){const x=p.array;v=p.version;for(let C=0,S=x.length;C<S;C+=3){const E=x[C+0],I=x[C+1],M=x[C+2];d.push(E,I,I,M,M,E)}}else if(g!==void 0){const x=g.array;v=g.version;for(let C=0,S=x.length/3-1;C<S;C+=3){const E=C+0,I=C+1,M=C+2;d.push(E,I,I,M,M,E)}}else return;const _=new(kX(d)?DQ:OR)(d,1);_.version=v;const b=o.get(h);b&&e.remove(b),o.set(h,_)}function u(h){const d=o.get(h);if(d){const p=h.index;p!==null&&d.version<p.version&&c(h)}else c(h);return o.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function Khe(i,e,t){let n;function r(d){n=d}let o,s;function a(d){o=d.type,s=d.bytesPerElement}function l(d,p){i.drawElements(n,p,o,d*s),t.update(p,n,1)}function c(d,p,g){g!==0&&(i.drawElementsInstanced(n,p,o,d*s,g),t.update(p,n,g))}function u(d,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,p,0,o,d,0,g);let _=0;for(let b=0;b<g;b++)_+=p[b];t.update(_,n,1)}function h(d,p,g,v){if(g===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let b=0;b<d.length;b++)c(d[b]/s,p[b],v[b]);else{_.multiDrawElementsInstancedWEBGL(n,p,0,o,d,0,v,0,g);let b=0;for(let x=0;x<g;x++)b+=p[x]*v[x];t.update(b,n,1)}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function $he(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,s,a){switch(t.calls++,s){case i.TRIANGLES:t.triangles+=a*(o/3);break;case i.LINES:t.lines+=a*(o/2);break;case i.LINE_STRIP:t.lines+=a*(o-1);break;case i.LINE_LOOP:t.lines+=a*o;break;case i.POINTS:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function Xhe(i,e,t){const n=new WeakMap,r=new Wi;function o(s,a,l){const c=s.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=u!==void 0?u.length:0;let d=n.get(a);if(d===void 0||d.count!==h){let F=function(){M.dispose(),n.delete(a),a.removeEventListener("dispose",F)};d!==void 0&&d.texture.dispose();const p=a.morphAttributes.position!==void 0,g=a.morphAttributes.normal!==void 0,v=a.morphAttributes.color!==void 0,_=a.morphAttributes.position||[],b=a.morphAttributes.normal||[],x=a.morphAttributes.color||[];let C=0;p===!0&&(C=1),g===!0&&(C=2),v===!0&&(C=3);let S=a.attributes.position.count*C,E=1;S>e.maxTextureSize&&(E=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const I=new Float32Array(S*E*4*h),M=new hS(I,S,E,h);M.type=yr,M.needsUpdate=!0;const k=C*4;for(let P=0;P<h;P++){const Q=_[P],N=b[P],W=x[P],q=S*E*4*P;for(let J=0;J<Q.count;J++){const V=J*k;p===!0&&(r.fromBufferAttribute(Q,J),I[q+V+0]=r.x,I[q+V+1]=r.y,I[q+V+2]=r.z,I[q+V+3]=0),g===!0&&(r.fromBufferAttribute(N,J),I[q+V+4]=r.x,I[q+V+5]=r.y,I[q+V+6]=r.z,I[q+V+7]=0),v===!0&&(r.fromBufferAttribute(W,J),I[q+V+8]=r.x,I[q+V+9]=r.y,I[q+V+10]=r.z,I[q+V+11]=W.itemSize===4?r.w:1)}}d={count:h,texture:M,size:new et(S,E)},n.set(a,d),a.addEventListener("dispose",F)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(i,"morphTexture",s.morphTexture,t);else{let p=0;for(let v=0;v<c.length;v++)p+=c[v];const g=a.morphTargetsRelative?1:1-p;l.getUniforms().setValue(i,"morphTargetBaseInfluence",g),l.getUniforms().setValue(i,"morphTargetInfluences",c)}l.getUniforms().setValue(i,"morphTargetsTexture",d.texture,t),l.getUniforms().setValue(i,"morphTargetsTextureSize",d.size)}return{update:o}}function Yhe(i,e,t,n){let r=new WeakMap;function o(l){const c=n.render.frame,u=l.geometry,h=e.get(l,u);if(r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,i.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,i.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;r.get(d)!==c&&(d.update(),r.set(d,c))}return h}function s(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:o,dispose:s}}const BY=new Rn,Mz=new QQ(1,1),SY=new hS,EY=new AS,TY=new dS,Rz=[],kz=[],Fz=new Float32Array(16),Dz=new Float32Array(9),Uz=new Float32Array(4);function _w(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let o=Rz[r];if(o===void 0&&(o=new Float32Array(r),Rz[r]=o),e!==0){n.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,i[s].toArray(o,a)}return o}function rs(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function os(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function ck(i,e){let t=kz[e];t===void 0&&(t=new Int32Array(e),kz[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function Zhe(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function Jhe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(rs(t,e))return;i.uniform2fv(this.addr,e),os(t,e)}}function eAe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(rs(t,e))return;i.uniform3fv(this.addr,e),os(t,e)}}function tAe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(rs(t,e))return;i.uniform4fv(this.addr,e),os(t,e)}}function iAe(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(rs(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),os(t,e)}else{if(rs(t,n))return;Uz.set(n),i.uniformMatrix2fv(this.addr,!1,Uz),os(t,n)}}function nAe(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(rs(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),os(t,e)}else{if(rs(t,n))return;Dz.set(n),i.uniformMatrix3fv(this.addr,!1,Dz),os(t,n)}}function rAe(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(rs(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),os(t,e)}else{if(rs(t,n))return;Fz.set(n),i.uniformMatrix4fv(this.addr,!1,Fz),os(t,n)}}function oAe(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function sAe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(rs(t,e))return;i.uniform2iv(this.addr,e),os(t,e)}}function aAe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(rs(t,e))return;i.uniform3iv(this.addr,e),os(t,e)}}function lAe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(rs(t,e))return;i.uniform4iv(this.addr,e),os(t,e)}}function cAe(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function uAe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(rs(t,e))return;i.uniform2uiv(this.addr,e),os(t,e)}}function hAe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(rs(t,e))return;i.uniform3uiv(this.addr,e),os(t,e)}}function AAe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(rs(t,e))return;i.uniform4uiv(this.addr,e),os(t,e)}}function dAe(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let o;this.type===i.SAMPLER_2D_SHADOW?(Mz.compareFunction=kQ,o=Mz):o=BY,t.setTexture2D(e||o,r)}function pAe(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||EY,r)}function fAe(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||TY,r)}function gAe(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||SY,r)}function mAe(i){switch(i){case 5126:return Zhe;case 35664:return Jhe;case 35665:return eAe;case 35666:return tAe;case 35674:return iAe;case 35675:return nAe;case 35676:return rAe;case 5124:case 35670:return oAe;case 35667:case 35671:return sAe;case 35668:case 35672:return aAe;case 35669:case 35673:return lAe;case 5125:return cAe;case 36294:return uAe;case 36295:return hAe;case 36296:return AAe;case 35678:case 36198:case 36298:case 36306:case 35682:return dAe;case 35679:case 36299:case 36307:return pAe;case 35680:case 36300:case 36308:case 36293:return fAe;case 36289:case 36303:case 36311:case 36292:return gAe}}function _Ae(i,e){i.uniform1fv(this.addr,e)}function vAe(i,e){const t=_w(e,this.size,2);i.uniform2fv(this.addr,t)}function bAe(i,e){const t=_w(e,this.size,3);i.uniform3fv(this.addr,t)}function yAe(i,e){const t=_w(e,this.size,4);i.uniform4fv(this.addr,t)}function wAe(i,e){const t=_w(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function xAe(i,e){const t=_w(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function CAe(i,e){const t=_w(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function BAe(i,e){i.uniform1iv(this.addr,e)}function SAe(i,e){i.uniform2iv(this.addr,e)}function EAe(i,e){i.uniform3iv(this.addr,e)}function TAe(i,e){i.uniform4iv(this.addr,e)}function IAe(i,e){i.uniform1uiv(this.addr,e)}function MAe(i,e){i.uniform2uiv(this.addr,e)}function RAe(i,e){i.uniform3uiv(this.addr,e)}function kAe(i,e){i.uniform4uiv(this.addr,e)}function FAe(i,e,t){const n=this.cache,r=e.length,o=ck(t,r);rs(n,o)||(i.uniform1iv(this.addr,o),os(n,o));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||BY,o[s])}function DAe(i,e,t){const n=this.cache,r=e.length,o=ck(t,r);rs(n,o)||(i.uniform1iv(this.addr,o),os(n,o));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||EY,o[s])}function UAe(i,e,t){const n=this.cache,r=e.length,o=ck(t,r);rs(n,o)||(i.uniform1iv(this.addr,o),os(n,o));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||TY,o[s])}function PAe(i,e,t){const n=this.cache,r=e.length,o=ck(t,r);rs(n,o)||(i.uniform1iv(this.addr,o),os(n,o));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||SY,o[s])}function LAe(i){switch(i){case 5126:return _Ae;case 35664:return vAe;case 35665:return bAe;case 35666:return yAe;case 35674:return wAe;case 35675:return xAe;case 35676:return CAe;case 5124:case 35670:return BAe;case 35667:case 35671:return SAe;case 35668:case 35672:return EAe;case 35669:case 35673:return TAe;case 5125:return IAe;case 36294:return MAe;case 36295:return RAe;case 36296:return kAe;case 35678:case 36198:case 36298:case 36306:case 35682:return FAe;case 35679:case 36299:case 36307:return DAe;case 35680:case 36300:case 36308:case 36293:return UAe;case 36289:case 36303:case 36311:case 36292:return PAe}}class OAe{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=mAe(t.type)}}class QAe{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=LAe(t.type)}}class NAe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let o=0,s=r.length;o!==s;++o){const a=r[o];a.setValue(e,t[a.id],n)}}}const SD=/(\w+)(\])?(\[|\.)?/g;function Pz(i,e){i.seq.push(e),i.map[e.id]=e}function HAe(i,e,t){const n=i.name,r=n.length;for(SD.lastIndex=0;;){const o=SD.exec(n),s=SD.lastIndex;let a=o[1];const l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===r){Pz(t,c===void 0?new OAe(a,i,e):new QAe(a,i,e));break}else{let h=t.map[a];h===void 0&&(h=new NAe(a),Pz(t,h)),t=h}}}class GI{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const o=e.getActiveUniform(t,r),s=e.getUniformLocation(t,o.name);HAe(o,s,this)}}setValue(e,t,n,r){const o=this.map[t];o!==void 0&&o.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let o=0,s=t.length;o!==s;++o){const a=t[o],l=n[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,o=e.length;r!==o;++r){const s=e[r];s.id in t&&n.push(s)}return n}}function Lz(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const zAe=37297;let GAe=0;function VAe(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let s=r;s<o;s++){const a=s+1;n.push(`${a===e?">":" "} ${a}: ${t[s]}`)}return n.join(`
`)}const Oz=new pi;function qAe(i){_i._getMatrix(Oz,_i.workingColorSpace,i);const e=`mat3( ${Oz.elements.map(t=>t.toFixed(4))} )`;switch(_i.getTransfer(i)){case _B:return[e,"LinearTransferOETF"];case Pn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function Qz(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),r=i.getShaderInfoLog(e).trim();if(n&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const s=parseInt(o[1]);return t.toUpperCase()+`

`+r+`

`+VAe(i.getShaderSource(e),s)}else return r}function WAe(i,e){const t=qAe(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function jAe(i,e){let t;switch(e){case vQ:t="Linear";break;case bQ:t="Reinhard";break;case yQ:t="Cineon";break;case IR:t="ACESFilmic";break;case wQ:t="AgX";break;case Ry:t="Neutral";break;case bX:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const GT=new he;function KAe(){_i.getLuminanceCoefficients(GT);const i=GT.x.toFixed(4),e=GT.y.toFixed(4),t=GT.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function $Ae(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(l2).join(`
`)}function XAe(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function YAe(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const o=i.getActiveAttrib(e,r),s=o.name;let a=1;o.type===i.FLOAT_MAT2&&(a=2),o.type===i.FLOAT_MAT3&&(a=3),o.type===i.FLOAT_MAT4&&(a=4),t[s]={type:o.type,location:i.getAttribLocation(e,s),locationSize:a}}return t}function l2(i){return i!==""}function Nz(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Hz(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ZAe=/^[ \t]*#include +<([\w\d./]+)>/gm;function RL(i){return i.replace(ZAe,ede)}const JAe=new Map;function ede(i,e){let t=Mi[e];if(t===void 0){const n=JAe.get(e);if(n!==void 0)t=Mi[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return RL(t)}const tde=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function zz(i){return i.replace(tde,ide)}function ide(i,e,t,n){let r="";for(let o=parseInt(e);o<parseInt(t);o++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function Gz(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function nde(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===TR?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===F2?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Th&&(e="SHADOWMAP_TYPE_VSM"),e}function rde(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Mp:case bg:e="ENVMAP_TYPE_CUBE";break;case dw:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ode(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case bg:e="ENVMAP_MODE_REFRACTION";break}return e}function sde(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case lS:e="ENVMAP_BLENDING_MULTIPLY";break;case _X:e="ENVMAP_BLENDING_MIX";break;case vX:e="ENVMAP_BLENDING_ADD";break}return e}function ade(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function lde(i,e,t,n){const r=i.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const l=nde(t),c=rde(t),u=ode(t),h=sde(t),d=ade(t),p=$Ae(t),g=XAe(o),v=r.createProgram();let _,b,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(l2).join(`
`),_.length>0&&(_+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(l2).join(`
`),b.length>0&&(b+=`
`)):(_=[Gz(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(l2).join(`
`),b=[Gz(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Mu?"#define TONE_MAPPING":"",t.toneMapping!==Mu?Mi.tonemapping_pars_fragment:"",t.toneMapping!==Mu?jAe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Mi.colorspace_pars_fragment,WAe("linearToOutputTexel",t.outputColorSpace),KAe(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(l2).join(`
`)),s=RL(s),s=Nz(s,t),s=Hz(s,t),a=RL(a),a=Nz(a,t),a=Hz(a,t),s=zz(s),a=zz(a),t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,_=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,b=["#define varying in",t.glslVersion===xL?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===xL?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const C=x+_+s,S=x+b+a,E=Lz(r,r.VERTEX_SHADER,C),I=Lz(r,r.FRAGMENT_SHADER,S);r.attachShader(v,E),r.attachShader(v,I),t.index0AttributeName!==void 0?r.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v);function M(Q){if(i.debug.checkShaderErrors){const N=r.getProgramInfoLog(v).trim(),W=r.getShaderInfoLog(E).trim(),q=r.getShaderInfoLog(I).trim();let J=!0,V=!0;if(r.getProgramParameter(v,r.LINK_STATUS)===!1)if(J=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,v,E,I);else{const Y=Qz(r,E,"vertex"),Z=Qz(r,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(v,r.VALIDATE_STATUS)+`

Material Name: `+Q.name+`
Material Type: `+Q.type+`

Program Info Log: `+N+`
`+Y+`
`+Z)}else N!==""?console.warn("THREE.WebGLProgram: Program Info Log:",N):(W===""||q==="")&&(V=!1);V&&(Q.diagnostics={runnable:J,programLog:N,vertexShader:{log:W,prefix:_},fragmentShader:{log:q,prefix:b}})}r.deleteShader(E),r.deleteShader(I),k=new GI(r,v),F=YAe(r,v)}let k;this.getUniforms=function(){return k===void 0&&M(this),k};let F;this.getAttributes=function(){return F===void 0&&M(this),F};let P=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=r.getProgramParameter(v,zAe)),P},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=GAe++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=I,this}let cde=0;class ude{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),o=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new hde(e),t.set(e,n)),n}}class hde{constructor(e){this.id=cde++,this.code=e,this.usedTimes=0}}function Ade(i,e,t,n,r,o,s){const a=new Ly,l=new ude,c=new Set,u=[],h=r.logarithmicDepthBuffer,d=r.vertexTextures;let p=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(F){return c.add(F),F===0?"uv":`uv${F}`}function _(F,P,Q,N,W){const q=N.fog,J=W.geometry,V=F.isMeshStandardMaterial?N.environment:null,Y=(F.isMeshStandardMaterial?t:e).get(F.envMap||V),Z=Y&&Y.mapping===dw?Y.image.height:null,ue=g[F.type];F.precision!==null&&(p=r.getMaxPrecision(F.precision),p!==F.precision&&console.warn("THREE.WebGLProgram.getParameters:",F.precision,"not supported, using",p,"instead."));const $=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,ee=$!==void 0?$.length:0;let oe=0;J.morphAttributes.position!==void 0&&(oe=1),J.morphAttributes.normal!==void 0&&(oe=2),J.morphAttributes.color!==void 0&&(oe=3);let ge,se,Ae,we;if(ue){const $t=kh[ue];ge=$t.vertexShader,se=$t.fragmentShader}else ge=F.vertexShader,se=F.fragmentShader,l.update(F),Ae=l.getVertexShaderID(F),we=l.getFragmentShaderID(F);const xe=i.getRenderTarget(),Be=i.state.buffers.depth.getReversed(),Re=W.isInstancedMesh===!0,ke=W.isBatchedMesh===!0,Pe=!!F.map,ve=!!F.matcap,te=!!Y,H=!!F.aoMap,le=!!F.lightMap,U=!!F.bumpMap,z=!!F.normalMap,j=!!F.displacementMap,re=!!F.emissiveMap,ae=!!F.metalnessMap,X=!!F.roughnessMap,G=F.anisotropy>0,ce=F.clearcoat>0,Te=F.dispersion>0,Ie=F.iridescence>0,ye=F.sheen>0,Ue=F.transmission>0,De=G&&!!F.anisotropyMap,Ge=ce&&!!F.clearcoatMap,ct=ce&&!!F.clearcoatNormalMap,Ve=ce&&!!F.clearcoatRoughnessMap,st=Ie&&!!F.iridescenceMap,rt=Ie&&!!F.iridescenceThicknessMap,yt=ye&&!!F.sheenColorMap,At=ye&&!!F.sheenRoughnessMap,Ut=!!F.specularMap,Tt=!!F.specularColorMap,It=!!F.specularIntensityMap,Ee=Ue&&!!F.transmissionMap,pt=Ue&&!!F.thicknessMap,Ne=!!F.gradientMap,je=!!F.alphaMap,ft=F.alphaTest>0,dt=!!F.alphaHash,mt=!!F.extensions;let zt=Mu;F.toneMapped&&(xe===null||xe.isXRRenderTarget===!0)&&(zt=i.toneMapping);const gi={shaderID:ue,shaderType:F.type,shaderName:F.name,vertexShader:ge,fragmentShader:se,defines:F.defines,customVertexShaderID:Ae,customFragmentShaderID:we,isRawShaderMaterial:F.isRawShaderMaterial===!0,glslVersion:F.glslVersion,precision:p,batching:ke,batchingColor:ke&&W._colorsTexture!==null,instancing:Re,instancingColor:Re&&W.instanceColor!==null,instancingMorph:Re&&W.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:xe===null?i.outputColorSpace:xe.isXRRenderTarget===!0?xe.texture.colorSpace:Xn,alphaToCoverage:!!F.alphaToCoverage,map:Pe,matcap:ve,envMap:te,envMapMode:te&&Y.mapping,envMapCubeUVHeight:Z,aoMap:H,lightMap:le,bumpMap:U,normalMap:z,displacementMap:d&&j,emissiveMap:re,normalMapObjectSpace:z&&F.normalMapType===CX,normalMapTangentSpace:z&&F.normalMapType===Ug,metalnessMap:ae,roughnessMap:X,anisotropy:G,anisotropyMap:De,clearcoat:ce,clearcoatMap:Ge,clearcoatNormalMap:ct,clearcoatRoughnessMap:Ve,dispersion:Te,iridescence:Ie,iridescenceMap:st,iridescenceThicknessMap:rt,sheen:ye,sheenColorMap:yt,sheenRoughnessMap:At,specularMap:Ut,specularColorMap:Tt,specularIntensityMap:It,transmission:Ue,transmissionMap:Ee,thicknessMap:pt,gradientMap:Ne,opaque:F.transparent===!1&&F.blending===q_&&F.alphaToCoverage===!1,alphaMap:je,alphaTest:ft,alphaHash:dt,combine:F.combine,mapUv:Pe&&v(F.map.channel),aoMapUv:H&&v(F.aoMap.channel),lightMapUv:le&&v(F.lightMap.channel),bumpMapUv:U&&v(F.bumpMap.channel),normalMapUv:z&&v(F.normalMap.channel),displacementMapUv:j&&v(F.displacementMap.channel),emissiveMapUv:re&&v(F.emissiveMap.channel),metalnessMapUv:ae&&v(F.metalnessMap.channel),roughnessMapUv:X&&v(F.roughnessMap.channel),anisotropyMapUv:De&&v(F.anisotropyMap.channel),clearcoatMapUv:Ge&&v(F.clearcoatMap.channel),clearcoatNormalMapUv:ct&&v(F.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ve&&v(F.clearcoatRoughnessMap.channel),iridescenceMapUv:st&&v(F.iridescenceMap.channel),iridescenceThicknessMapUv:rt&&v(F.iridescenceThicknessMap.channel),sheenColorMapUv:yt&&v(F.sheenColorMap.channel),sheenRoughnessMapUv:At&&v(F.sheenRoughnessMap.channel),specularMapUv:Ut&&v(F.specularMap.channel),specularColorMapUv:Tt&&v(F.specularColorMap.channel),specularIntensityMapUv:It&&v(F.specularIntensityMap.channel),transmissionMapUv:Ee&&v(F.transmissionMap.channel),thicknessMapUv:pt&&v(F.thicknessMap.channel),alphaMapUv:je&&v(F.alphaMap.channel),vertexTangents:!!J.attributes.tangent&&(z||G),vertexColors:F.vertexColors,vertexAlphas:F.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!J.attributes.uv&&(Pe||je),fog:!!q,useFog:F.fog===!0,fogExp2:!!q&&q.isFogExp2,flatShading:F.flatShading===!0,sizeAttenuation:F.sizeAttenuation===!0,logarithmicDepthBuffer:h,reverseDepthBuffer:Be,skinning:W.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:ee,morphTextureStride:oe,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:F.dithering,shadowMapEnabled:i.shadowMap.enabled&&Q.length>0,shadowMapType:i.shadowMap.type,toneMapping:zt,decodeVideoTexture:Pe&&F.map.isVideoTexture===!0&&_i.getTransfer(F.map.colorSpace)===Pn,decodeVideoTextureEmissive:re&&F.emissiveMap.isVideoTexture===!0&&_i.getTransfer(F.emissiveMap.colorSpace)===Pn,premultipliedAlpha:F.premultipliedAlpha,doubleSided:F.side===vo,flipSided:F.side===Us,useDepthPacking:F.depthPacking>=0,depthPacking:F.depthPacking||0,index0AttributeName:F.index0AttributeName,extensionClipCullDistance:mt&&F.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(mt&&F.extensions.multiDraw===!0||ke)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:F.customProgramCacheKey()};return gi.vertexUv1s=c.has(1),gi.vertexUv2s=c.has(2),gi.vertexUv3s=c.has(3),c.clear(),gi}function b(F){const P=[];if(F.shaderID?P.push(F.shaderID):(P.push(F.customVertexShaderID),P.push(F.customFragmentShaderID)),F.defines!==void 0)for(const Q in F.defines)P.push(Q),P.push(F.defines[Q]);return F.isRawShaderMaterial===!1&&(x(P,F),C(P,F),P.push(i.outputColorSpace)),P.push(F.customProgramCacheKey),P.join()}function x(F,P){F.push(P.precision),F.push(P.outputColorSpace),F.push(P.envMapMode),F.push(P.envMapCubeUVHeight),F.push(P.mapUv),F.push(P.alphaMapUv),F.push(P.lightMapUv),F.push(P.aoMapUv),F.push(P.bumpMapUv),F.push(P.normalMapUv),F.push(P.displacementMapUv),F.push(P.emissiveMapUv),F.push(P.metalnessMapUv),F.push(P.roughnessMapUv),F.push(P.anisotropyMapUv),F.push(P.clearcoatMapUv),F.push(P.clearcoatNormalMapUv),F.push(P.clearcoatRoughnessMapUv),F.push(P.iridescenceMapUv),F.push(P.iridescenceThicknessMapUv),F.push(P.sheenColorMapUv),F.push(P.sheenRoughnessMapUv),F.push(P.specularMapUv),F.push(P.specularColorMapUv),F.push(P.specularIntensityMapUv),F.push(P.transmissionMapUv),F.push(P.thicknessMapUv),F.push(P.combine),F.push(P.fogExp2),F.push(P.sizeAttenuation),F.push(P.morphTargetsCount),F.push(P.morphAttributeCount),F.push(P.numDirLights),F.push(P.numPointLights),F.push(P.numSpotLights),F.push(P.numSpotLightMaps),F.push(P.numHemiLights),F.push(P.numRectAreaLights),F.push(P.numDirLightShadows),F.push(P.numPointLightShadows),F.push(P.numSpotLightShadows),F.push(P.numSpotLightShadowsWithMaps),F.push(P.numLightProbes),F.push(P.shadowMapType),F.push(P.toneMapping),F.push(P.numClippingPlanes),F.push(P.numClipIntersection),F.push(P.depthPacking)}function C(F,P){a.disableAll(),P.supportsVertexTextures&&a.enable(0),P.instancing&&a.enable(1),P.instancingColor&&a.enable(2),P.instancingMorph&&a.enable(3),P.matcap&&a.enable(4),P.envMap&&a.enable(5),P.normalMapObjectSpace&&a.enable(6),P.normalMapTangentSpace&&a.enable(7),P.clearcoat&&a.enable(8),P.iridescence&&a.enable(9),P.alphaTest&&a.enable(10),P.vertexColors&&a.enable(11),P.vertexAlphas&&a.enable(12),P.vertexUv1s&&a.enable(13),P.vertexUv2s&&a.enable(14),P.vertexUv3s&&a.enable(15),P.vertexTangents&&a.enable(16),P.anisotropy&&a.enable(17),P.alphaHash&&a.enable(18),P.batching&&a.enable(19),P.dispersion&&a.enable(20),P.batchingColor&&a.enable(21),F.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.reverseDepthBuffer&&a.enable(4),P.skinning&&a.enable(5),P.morphTargets&&a.enable(6),P.morphNormals&&a.enable(7),P.morphColors&&a.enable(8),P.premultipliedAlpha&&a.enable(9),P.shadowMapEnabled&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.transmission&&a.enable(15),P.sheen&&a.enable(16),P.opaque&&a.enable(17),P.pointsUvs&&a.enable(18),P.decodeVideoTexture&&a.enable(19),P.decodeVideoTextureEmissive&&a.enable(20),P.alphaToCoverage&&a.enable(21),F.push(a.mask)}function S(F){const P=g[F.type];let Q;if(P){const N=kh[P];Q=UQ.clone(N.uniforms)}else Q=F.uniforms;return Q}function E(F,P){let Q;for(let N=0,W=u.length;N<W;N++){const q=u[N];if(q.cacheKey===P){Q=q,++Q.usedTimes;break}}return Q===void 0&&(Q=new lde(i,P,F,o),u.push(Q)),Q}function I(F){if(--F.usedTimes===0){const P=u.indexOf(F);u[P]=u[u.length-1],u.pop(),F.destroy()}}function M(F){l.remove(F)}function k(){l.dispose()}return{getParameters:_,getProgramCacheKey:b,getUniforms:S,acquireProgram:E,releaseProgram:I,releaseShaderCache:M,programs:u,dispose:k}}function dde(){let i=new WeakMap;function e(s){return i.has(s)}function t(s){let a=i.get(s);return a===void 0&&(a={},i.set(s,a)),a}function n(s){i.delete(s)}function r(s,a,l){i.get(s)[a]=l}function o(){i=new WeakMap}return{has:e,get:t,remove:n,update:r,dispose:o}}function pde(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function Vz(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function qz(){const i=[];let e=0;const t=[],n=[],r=[];function o(){e=0,t.length=0,n.length=0,r.length=0}function s(h,d,p,g,v,_){let b=i[e];return b===void 0?(b={id:h.id,object:h,geometry:d,material:p,groupOrder:g,renderOrder:h.renderOrder,z:v,group:_},i[e]=b):(b.id=h.id,b.object=h,b.geometry=d,b.material=p,b.groupOrder=g,b.renderOrder=h.renderOrder,b.z=v,b.group=_),e++,b}function a(h,d,p,g,v,_){const b=s(h,d,p,g,v,_);p.transmission>0?n.push(b):p.transparent===!0?r.push(b):t.push(b)}function l(h,d,p,g,v,_){const b=s(h,d,p,g,v,_);p.transmission>0?n.unshift(b):p.transparent===!0?r.unshift(b):t.unshift(b)}function c(h,d){t.length>1&&t.sort(h||pde),n.length>1&&n.sort(d||Vz),r.length>1&&r.sort(d||Vz)}function u(){for(let h=e,d=i.length;h<d;h++){const p=i[h];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:n,transparent:r,init:o,push:a,unshift:l,finish:u,sort:c}}function fde(){let i=new WeakMap;function e(n,r){const o=i.get(n);let s;return o===void 0?(s=new qz,i.set(n,[s])):r>=o.length?(s=new qz,o.push(s)):s=o[r],s}function t(){i=new WeakMap}return{get:e,dispose:t}}function gde(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new he,color:new ut};break;case"SpotLight":t={position:new he,direction:new he,color:new ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new he,color:new ut,distance:0,decay:0};break;case"HemisphereLight":t={direction:new he,skyColor:new ut,groundColor:new ut};break;case"RectAreaLight":t={color:new ut,position:new he,halfWidth:new he,halfHeight:new he};break}return i[e.id]=t,t}}}function mde(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let _de=0;function vde(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function bde(i){const e=new gde,t=mde(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)n.probe.push(new he);const r=new he,o=new St,s=new St;function a(c){let u=0,h=0,d=0;for(let F=0;F<9;F++)n.probe[F].set(0,0,0);let p=0,g=0,v=0,_=0,b=0,x=0,C=0,S=0,E=0,I=0,M=0;c.sort(vde);for(let F=0,P=c.length;F<P;F++){const Q=c[F],N=Q.color,W=Q.intensity,q=Q.distance,J=Q.shadow&&Q.shadow.map?Q.shadow.map.texture:null;if(Q.isAmbientLight)u+=N.r*W,h+=N.g*W,d+=N.b*W;else if(Q.isLightProbe){for(let V=0;V<9;V++)n.probe[V].addScaledVector(Q.sh.coefficients[V],W);M++}else if(Q.isDirectionalLight){const V=e.get(Q);if(V.color.copy(Q.color).multiplyScalar(Q.intensity),Q.castShadow){const Y=Q.shadow,Z=t.get(Q);Z.shadowIntensity=Y.intensity,Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,n.directionalShadow[p]=Z,n.directionalShadowMap[p]=J,n.directionalShadowMatrix[p]=Q.shadow.matrix,x++}n.directional[p]=V,p++}else if(Q.isSpotLight){const V=e.get(Q);V.position.setFromMatrixPosition(Q.matrixWorld),V.color.copy(N).multiplyScalar(W),V.distance=q,V.coneCos=Math.cos(Q.angle),V.penumbraCos=Math.cos(Q.angle*(1-Q.penumbra)),V.decay=Q.decay,n.spot[v]=V;const Y=Q.shadow;if(Q.map&&(n.spotLightMap[E]=Q.map,E++,Y.updateMatrices(Q),Q.castShadow&&I++),n.spotLightMatrix[v]=Y.matrix,Q.castShadow){const Z=t.get(Q);Z.shadowIntensity=Y.intensity,Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,n.spotShadow[v]=Z,n.spotShadowMap[v]=J,S++}v++}else if(Q.isRectAreaLight){const V=e.get(Q);V.color.copy(N).multiplyScalar(W),V.halfWidth.set(Q.width*.5,0,0),V.halfHeight.set(0,Q.height*.5,0),n.rectArea[_]=V,_++}else if(Q.isPointLight){const V=e.get(Q);if(V.color.copy(Q.color).multiplyScalar(Q.intensity),V.distance=Q.distance,V.decay=Q.decay,Q.castShadow){const Y=Q.shadow,Z=t.get(Q);Z.shadowIntensity=Y.intensity,Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,Z.shadowCameraNear=Y.camera.near,Z.shadowCameraFar=Y.camera.far,n.pointShadow[g]=Z,n.pointShadowMap[g]=J,n.pointShadowMatrix[g]=Q.shadow.matrix,C++}n.point[g]=V,g++}else if(Q.isHemisphereLight){const V=e.get(Q);V.skyColor.copy(Q.color).multiplyScalar(W),V.groundColor.copy(Q.groundColor).multiplyScalar(W),n.hemi[b]=V,b++}}_>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Et.LTC_FLOAT_1,n.rectAreaLTC2=Et.LTC_FLOAT_2):(n.rectAreaLTC1=Et.LTC_HALF_1,n.rectAreaLTC2=Et.LTC_HALF_2)),n.ambient[0]=u,n.ambient[1]=h,n.ambient[2]=d;const k=n.hash;(k.directionalLength!==p||k.pointLength!==g||k.spotLength!==v||k.rectAreaLength!==_||k.hemiLength!==b||k.numDirectionalShadows!==x||k.numPointShadows!==C||k.numSpotShadows!==S||k.numSpotMaps!==E||k.numLightProbes!==M)&&(n.directional.length=p,n.spot.length=v,n.rectArea.length=_,n.point.length=g,n.hemi.length=b,n.directionalShadow.length=x,n.directionalShadowMap.length=x,n.pointShadow.length=C,n.pointShadowMap.length=C,n.spotShadow.length=S,n.spotShadowMap.length=S,n.directionalShadowMatrix.length=x,n.pointShadowMatrix.length=C,n.spotLightMatrix.length=S+E-I,n.spotLightMap.length=E,n.numSpotLightShadowsWithMaps=I,n.numLightProbes=M,k.directionalLength=p,k.pointLength=g,k.spotLength=v,k.rectAreaLength=_,k.hemiLength=b,k.numDirectionalShadows=x,k.numPointShadows=C,k.numSpotShadows=S,k.numSpotMaps=E,k.numLightProbes=M,n.version=_de++)}function l(c,u){let h=0,d=0,p=0,g=0,v=0;const _=u.matrixWorldInverse;for(let b=0,x=c.length;b<x;b++){const C=c[b];if(C.isDirectionalLight){const S=n.directional[h];S.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),S.direction.sub(r),S.direction.transformDirection(_),h++}else if(C.isSpotLight){const S=n.spot[p];S.position.setFromMatrixPosition(C.matrixWorld),S.position.applyMatrix4(_),S.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),S.direction.sub(r),S.direction.transformDirection(_),p++}else if(C.isRectAreaLight){const S=n.rectArea[g];S.position.setFromMatrixPosition(C.matrixWorld),S.position.applyMatrix4(_),s.identity(),o.copy(C.matrixWorld),o.premultiply(_),s.extractRotation(o),S.halfWidth.set(C.width*.5,0,0),S.halfHeight.set(0,C.height*.5,0),S.halfWidth.applyMatrix4(s),S.halfHeight.applyMatrix4(s),g++}else if(C.isPointLight){const S=n.point[d];S.position.setFromMatrixPosition(C.matrixWorld),S.position.applyMatrix4(_),d++}else if(C.isHemisphereLight){const S=n.hemi[v];S.direction.setFromMatrixPosition(C.matrixWorld),S.direction.transformDirection(_),v++}}}return{setup:a,setupView:l,state:n}}function Wz(i){const e=new bde(i),t=[],n=[];function r(u){c.camera=u,t.length=0,n.length=0}function o(u){t.push(u)}function s(u){n.push(u)}function a(){e.setup(t)}function l(u){e.setupView(t,u)}const c={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:o,pushShadow:s}}function yde(i){let e=new WeakMap;function t(r,o=0){const s=e.get(r);let a;return s===void 0?(a=new Wz(i),e.set(r,[a])):o>=s.length?(a=new Wz(i),s.push(a)):a=s[o],a}function n(){e=new WeakMap}return{get:t,dispose:n}}const wde=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xde=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Cde(i,e,t){let n=new fS;const r=new et,o=new et,s=new Wi,a=new _S({depthPacking:RQ}),l=new rk,c={},u=t.maxTextureSize,h={[Pu]:Us,[Us]:Pu,[vo]:vo},d=new qa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new et},radius:{value:4}},vertexShader:wde,fragmentShader:xde}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const g=new Kt;g.setAttribute("position",new Ci(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Fi(g,d),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=TR;let b=this.type;this.render=function(I,M,k){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||I.length===0)return;const F=i.getRenderTarget(),P=i.getActiveCubeFace(),Q=i.getActiveMipmapLevel(),N=i.state;N.setBlending(Ph),N.buffers.color.setClear(1,1,1,1),N.buffers.depth.setTest(!0),N.setScissorTest(!1);const W=b!==Th&&this.type===Th,q=b===Th&&this.type!==Th;for(let J=0,V=I.length;J<V;J++){const Y=I[J],Z=Y.shadow;if(Z===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;r.copy(Z.mapSize);const ue=Z.getFrameExtents();if(r.multiply(ue),o.copy(Z.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(o.x=Math.floor(u/ue.x),r.x=o.x*ue.x,Z.mapSize.x=o.x),r.y>u&&(o.y=Math.floor(u/ue.y),r.y=o.y*ue.y,Z.mapSize.y=o.y)),Z.map===null||W===!0||q===!0){const ee=this.type!==Th?{minFilter:Pr,magFilter:Pr}:{};Z.map!==null&&Z.map.dispose(),Z.map=new Il(r.x,r.y,ee),Z.map.texture.name=Y.name+".shadowMap",Z.camera.updateProjectionMatrix()}i.setRenderTarget(Z.map),i.clear();const $=Z.getViewportCount();for(let ee=0;ee<$;ee++){const oe=Z.getViewport(ee);s.set(o.x*oe.x,o.y*oe.y,o.x*oe.z,o.y*oe.w),N.viewport(s),Z.updateMatrices(Y,ee),n=Z.getFrustum(),S(M,k,Z.camera,Y,this.type)}Z.isPointLightShadow!==!0&&this.type===Th&&x(Z,k),Z.needsUpdate=!1}b=this.type,_.needsUpdate=!1,i.setRenderTarget(F,P,Q)};function x(I,M){const k=e.update(v);d.defines.VSM_SAMPLES!==I.blurSamples&&(d.defines.VSM_SAMPLES=I.blurSamples,p.defines.VSM_SAMPLES=I.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new Il(r.x,r.y)),d.uniforms.shadow_pass.value=I.map.texture,d.uniforms.resolution.value=I.mapSize,d.uniforms.radius.value=I.radius,i.setRenderTarget(I.mapPass),i.clear(),i.renderBufferDirect(M,null,k,d,v,null),p.uniforms.shadow_pass.value=I.mapPass.texture,p.uniforms.resolution.value=I.mapSize,p.uniforms.radius.value=I.radius,i.setRenderTarget(I.map),i.clear(),i.renderBufferDirect(M,null,k,p,v,null)}function C(I,M,k,F){let P=null;const Q=k.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(Q!==void 0)P=Q;else if(P=k.isPointLight===!0?l:a,i.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const N=P.uuid,W=M.uuid;let q=c[N];q===void 0&&(q={},c[N]=q);let J=q[W];J===void 0&&(J=P.clone(),q[W]=J,M.addEventListener("dispose",E)),P=J}if(P.visible=M.visible,P.wireframe=M.wireframe,F===Th?P.side=M.shadowSide!==null?M.shadowSide:M.side:P.side=M.shadowSide!==null?M.shadowSide:h[M.side],P.alphaMap=M.alphaMap,P.alphaTest=M.alphaTest,P.map=M.map,P.clipShadows=M.clipShadows,P.clippingPlanes=M.clippingPlanes,P.clipIntersection=M.clipIntersection,P.displacementMap=M.displacementMap,P.displacementScale=M.displacementScale,P.displacementBias=M.displacementBias,P.wireframeLinewidth=M.wireframeLinewidth,P.linewidth=M.linewidth,k.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const N=i.properties.get(P);N.light=k}return P}function S(I,M,k,F,P){if(I.visible===!1)return;if(I.layers.test(M.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&P===Th)&&(!I.frustumCulled||n.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,I.matrixWorld);const W=e.update(I),q=I.material;if(Array.isArray(q)){const J=W.groups;for(let V=0,Y=J.length;V<Y;V++){const Z=J[V],ue=q[Z.materialIndex];if(ue&&ue.visible){const $=C(I,ue,F,P);I.onBeforeShadow(i,I,M,k,W,$,Z),i.renderBufferDirect(k,null,W,$,I,Z),I.onAfterShadow(i,I,M,k,W,$,Z)}}}else if(q.visible){const J=C(I,q,F,P);I.onBeforeShadow(i,I,M,k,W,J,null),i.renderBufferDirect(k,null,W,J,I,null),I.onAfterShadow(i,I,M,k,W,J,null)}}const N=I.children;for(let W=0,q=N.length;W<q;W++)S(N[W],M,k,F,P)}function E(I){I.target.removeEventListener("dispose",E);for(const k in c){const F=c[k],P=I.target.uuid;P in F&&(F[P].dispose(),delete F[P])}}}const Bde={[QM]:NM,[HM]:VM,[zM]:qM,[sv]:GM,[NM]:QM,[VM]:HM,[qM]:zM,[GM]:sv};function Sde(i,e){function t(){let Ee=!1;const pt=new Wi;let Ne=null;const je=new Wi(0,0,0,0);return{setMask:function(ft){Ne!==ft&&!Ee&&(i.colorMask(ft,ft,ft,ft),Ne=ft)},setLocked:function(ft){Ee=ft},setClear:function(ft,dt,mt,zt,gi){gi===!0&&(ft*=zt,dt*=zt,mt*=zt),pt.set(ft,dt,mt,zt),je.equals(pt)===!1&&(i.clearColor(ft,dt,mt,zt),je.copy(pt))},reset:function(){Ee=!1,Ne=null,je.set(-1,0,0,0)}}}function n(){let Ee=!1,pt=!1,Ne=null,je=null,ft=null;return{setReversed:function(dt){if(pt!==dt){const mt=e.get("EXT_clip_control");pt?mt.clipControlEXT(mt.LOWER_LEFT_EXT,mt.ZERO_TO_ONE_EXT):mt.clipControlEXT(mt.LOWER_LEFT_EXT,mt.NEGATIVE_ONE_TO_ONE_EXT);const zt=ft;ft=null,this.setClear(zt)}pt=dt},getReversed:function(){return pt},setTest:function(dt){dt?xe(i.DEPTH_TEST):Be(i.DEPTH_TEST)},setMask:function(dt){Ne!==dt&&!Ee&&(i.depthMask(dt),Ne=dt)},setFunc:function(dt){if(pt&&(dt=Bde[dt]),je!==dt){switch(dt){case QM:i.depthFunc(i.NEVER);break;case NM:i.depthFunc(i.ALWAYS);break;case HM:i.depthFunc(i.LESS);break;case sv:i.depthFunc(i.LEQUAL);break;case zM:i.depthFunc(i.EQUAL);break;case GM:i.depthFunc(i.GEQUAL);break;case VM:i.depthFunc(i.GREATER);break;case qM:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}je=dt}},setLocked:function(dt){Ee=dt},setClear:function(dt){ft!==dt&&(pt&&(dt=1-dt),i.clearDepth(dt),ft=dt)},reset:function(){Ee=!1,Ne=null,je=null,ft=null,pt=!1}}}function r(){let Ee=!1,pt=null,Ne=null,je=null,ft=null,dt=null,mt=null,zt=null,gi=null;return{setTest:function($t){Ee||($t?xe(i.STENCIL_TEST):Be(i.STENCIL_TEST))},setMask:function($t){pt!==$t&&!Ee&&(i.stencilMask($t),pt=$t)},setFunc:function($t,Bi,Di){(Ne!==$t||je!==Bi||ft!==Di)&&(i.stencilFunc($t,Bi,Di),Ne=$t,je=Bi,ft=Di)},setOp:function($t,Bi,Di){(dt!==$t||mt!==Bi||zt!==Di)&&(i.stencilOp($t,Bi,Di),dt=$t,mt=Bi,zt=Di)},setLocked:function($t){Ee=$t},setClear:function($t){gi!==$t&&(i.clearStencil($t),gi=$t)},reset:function(){Ee=!1,pt=null,Ne=null,je=null,ft=null,dt=null,mt=null,zt=null,gi=null}}}const o=new t,s=new n,a=new r,l=new WeakMap,c=new WeakMap;let u={},h={},d=new WeakMap,p=[],g=null,v=!1,_=null,b=null,x=null,C=null,S=null,E=null,I=null,M=new ut(0,0,0),k=0,F=!1,P=null,Q=null,N=null,W=null,q=null;const J=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let V=!1,Y=0;const Z=i.getParameter(i.VERSION);Z.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(Z)[1]),V=Y>=1):Z.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),V=Y>=2);let ue=null,$={};const ee=i.getParameter(i.SCISSOR_BOX),oe=i.getParameter(i.VIEWPORT),ge=new Wi().fromArray(ee),se=new Wi().fromArray(oe);function Ae(Ee,pt,Ne,je){const ft=new Uint8Array(4),dt=i.createTexture();i.bindTexture(Ee,dt),i.texParameteri(Ee,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(Ee,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let mt=0;mt<Ne;mt++)Ee===i.TEXTURE_3D||Ee===i.TEXTURE_2D_ARRAY?i.texImage3D(pt,0,i.RGBA,1,1,je,0,i.RGBA,i.UNSIGNED_BYTE,ft):i.texImage2D(pt+mt,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,ft);return dt}const we={};we[i.TEXTURE_2D]=Ae(i.TEXTURE_2D,i.TEXTURE_2D,1),we[i.TEXTURE_CUBE_MAP]=Ae(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),we[i.TEXTURE_2D_ARRAY]=Ae(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),we[i.TEXTURE_3D]=Ae(i.TEXTURE_3D,i.TEXTURE_3D,1,1),o.setClear(0,0,0,1),s.setClear(1),a.setClear(0),xe(i.DEPTH_TEST),s.setFunc(sv),U(!1),z(gL),xe(i.CULL_FACE),H(Ph);function xe(Ee){u[Ee]!==!0&&(i.enable(Ee),u[Ee]=!0)}function Be(Ee){u[Ee]!==!1&&(i.disable(Ee),u[Ee]=!1)}function Re(Ee,pt){return h[Ee]!==pt?(i.bindFramebuffer(Ee,pt),h[Ee]=pt,Ee===i.DRAW_FRAMEBUFFER&&(h[i.FRAMEBUFFER]=pt),Ee===i.FRAMEBUFFER&&(h[i.DRAW_FRAMEBUFFER]=pt),!0):!1}function ke(Ee,pt){let Ne=p,je=!1;if(Ee){Ne=d.get(pt),Ne===void 0&&(Ne=[],d.set(pt,Ne));const ft=Ee.textures;if(Ne.length!==ft.length||Ne[0]!==i.COLOR_ATTACHMENT0){for(let dt=0,mt=ft.length;dt<mt;dt++)Ne[dt]=i.COLOR_ATTACHMENT0+dt;Ne.length=ft.length,je=!0}}else Ne[0]!==i.BACK&&(Ne[0]=i.BACK,je=!0);je&&i.drawBuffers(Ne)}function Pe(Ee){return g!==Ee?(i.useProgram(Ee),g=Ee,!0):!1}const ve={[Zf]:i.FUNC_ADD,[tX]:i.FUNC_SUBTRACT,[iX]:i.FUNC_REVERSE_SUBTRACT};ve[nX]=i.MIN,ve[rX]=i.MAX;const te={[oX]:i.ZERO,[sX]:i.ONE,[aX]:i.SRC_COLOR,[LM]:i.SRC_ALPHA,[dX]:i.SRC_ALPHA_SATURATE,[hX]:i.DST_COLOR,[cX]:i.DST_ALPHA,[lX]:i.ONE_MINUS_SRC_COLOR,[OM]:i.ONE_MINUS_SRC_ALPHA,[AX]:i.ONE_MINUS_DST_COLOR,[uX]:i.ONE_MINUS_DST_ALPHA,[pX]:i.CONSTANT_COLOR,[fX]:i.ONE_MINUS_CONSTANT_COLOR,[gX]:i.CONSTANT_ALPHA,[mX]:i.ONE_MINUS_CONSTANT_ALPHA};function H(Ee,pt,Ne,je,ft,dt,mt,zt,gi,$t){if(Ee===Ph){v===!0&&(Be(i.BLEND),v=!1);return}if(v===!1&&(xe(i.BLEND),v=!0),Ee!==eX){if(Ee!==_||$t!==F){if((b!==Zf||S!==Zf)&&(i.blendEquation(i.FUNC_ADD),b=Zf,S=Zf),$t)switch(Ee){case q_:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case mL:i.blendFunc(i.ONE,i.ONE);break;case _L:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case vL:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ee);break}else switch(Ee){case q_:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case mL:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case _L:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case vL:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ee);break}x=null,C=null,E=null,I=null,M.set(0,0,0),k=0,_=Ee,F=$t}return}ft=ft||pt,dt=dt||Ne,mt=mt||je,(pt!==b||ft!==S)&&(i.blendEquationSeparate(ve[pt],ve[ft]),b=pt,S=ft),(Ne!==x||je!==C||dt!==E||mt!==I)&&(i.blendFuncSeparate(te[Ne],te[je],te[dt],te[mt]),x=Ne,C=je,E=dt,I=mt),(zt.equals(M)===!1||gi!==k)&&(i.blendColor(zt.r,zt.g,zt.b,gi),M.copy(zt),k=gi),_=Ee,F=!1}function le(Ee,pt){Ee.side===vo?Be(i.CULL_FACE):xe(i.CULL_FACE);let Ne=Ee.side===Us;pt&&(Ne=!Ne),U(Ne),Ee.blending===q_&&Ee.transparent===!1?H(Ph):H(Ee.blending,Ee.blendEquation,Ee.blendSrc,Ee.blendDst,Ee.blendEquationAlpha,Ee.blendSrcAlpha,Ee.blendDstAlpha,Ee.blendColor,Ee.blendAlpha,Ee.premultipliedAlpha),s.setFunc(Ee.depthFunc),s.setTest(Ee.depthTest),s.setMask(Ee.depthWrite),o.setMask(Ee.colorWrite);const je=Ee.stencilWrite;a.setTest(je),je&&(a.setMask(Ee.stencilWriteMask),a.setFunc(Ee.stencilFunc,Ee.stencilRef,Ee.stencilFuncMask),a.setOp(Ee.stencilFail,Ee.stencilZFail,Ee.stencilZPass)),re(Ee.polygonOffset,Ee.polygonOffsetFactor,Ee.polygonOffsetUnits),Ee.alphaToCoverage===!0?xe(i.SAMPLE_ALPHA_TO_COVERAGE):Be(i.SAMPLE_ALPHA_TO_COVERAGE)}function U(Ee){P!==Ee&&(Ee?i.frontFace(i.CW):i.frontFace(i.CCW),P=Ee)}function z(Ee){Ee!==Y$?(xe(i.CULL_FACE),Ee!==Q&&(Ee===gL?i.cullFace(i.BACK):Ee===Z$?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):Be(i.CULL_FACE),Q=Ee}function j(Ee){Ee!==N&&(V&&i.lineWidth(Ee),N=Ee)}function re(Ee,pt,Ne){Ee?(xe(i.POLYGON_OFFSET_FILL),(W!==pt||q!==Ne)&&(i.polygonOffset(pt,Ne),W=pt,q=Ne)):Be(i.POLYGON_OFFSET_FILL)}function ae(Ee){Ee?xe(i.SCISSOR_TEST):Be(i.SCISSOR_TEST)}function X(Ee){Ee===void 0&&(Ee=i.TEXTURE0+J-1),ue!==Ee&&(i.activeTexture(Ee),ue=Ee)}function G(Ee,pt,Ne){Ne===void 0&&(ue===null?Ne=i.TEXTURE0+J-1:Ne=ue);let je=$[Ne];je===void 0&&(je={type:void 0,texture:void 0},$[Ne]=je),(je.type!==Ee||je.texture!==pt)&&(ue!==Ne&&(i.activeTexture(Ne),ue=Ne),i.bindTexture(Ee,pt||we[Ee]),je.type=Ee,je.texture=pt)}function ce(){const Ee=$[ue];Ee!==void 0&&Ee.type!==void 0&&(i.bindTexture(Ee.type,null),Ee.type=void 0,Ee.texture=void 0)}function Te(){try{i.compressedTexImage2D.apply(i,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Ie(){try{i.compressedTexImage3D.apply(i,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function ye(){try{i.texSubImage2D.apply(i,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Ue(){try{i.texSubImage3D.apply(i,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function De(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Ge(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function ct(){try{i.texStorage2D.apply(i,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Ve(){try{i.texStorage3D.apply(i,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function st(){try{i.texImage2D.apply(i,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function rt(){try{i.texImage3D.apply(i,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function yt(Ee){ge.equals(Ee)===!1&&(i.scissor(Ee.x,Ee.y,Ee.z,Ee.w),ge.copy(Ee))}function At(Ee){se.equals(Ee)===!1&&(i.viewport(Ee.x,Ee.y,Ee.z,Ee.w),se.copy(Ee))}function Ut(Ee,pt){let Ne=c.get(pt);Ne===void 0&&(Ne=new WeakMap,c.set(pt,Ne));let je=Ne.get(Ee);je===void 0&&(je=i.getUniformBlockIndex(pt,Ee.name),Ne.set(Ee,je))}function Tt(Ee,pt){const je=c.get(pt).get(Ee);l.get(pt)!==je&&(i.uniformBlockBinding(pt,je,Ee.__bindingPointIndex),l.set(pt,je))}function It(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),s.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),u={},ue=null,$={},h={},d=new WeakMap,p=[],g=null,v=!1,_=null,b=null,x=null,C=null,S=null,E=null,I=null,M=new ut(0,0,0),k=0,F=!1,P=null,Q=null,N=null,W=null,q=null,ge.set(0,0,i.canvas.width,i.canvas.height),se.set(0,0,i.canvas.width,i.canvas.height),o.reset(),s.reset(),a.reset()}return{buffers:{color:o,depth:s,stencil:a},enable:xe,disable:Be,bindFramebuffer:Re,drawBuffers:ke,useProgram:Pe,setBlending:H,setMaterial:le,setFlipSided:U,setCullFace:z,setLineWidth:j,setPolygonOffset:re,setScissorTest:ae,activeTexture:X,bindTexture:G,unbindTexture:ce,compressedTexImage2D:Te,compressedTexImage3D:Ie,texImage2D:st,texImage3D:rt,updateUBOMapping:Ut,uniformBlockBinding:Tt,texStorage2D:ct,texStorage3D:Ve,texSubImage2D:ye,texSubImage3D:Ue,compressedTexSubImage2D:De,compressedTexSubImage3D:Ge,scissor:yt,viewport:At,reset:It}}function Ede(i,e,t,n,r,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new et,u=new WeakMap;let h;const d=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(X,G){return p?new OffscreenCanvas(X,G):yB("canvas")}function v(X,G,ce){let Te=1;const Ie=ae(X);if((Ie.width>ce||Ie.height>ce)&&(Te=ce/Math.max(Ie.width,Ie.height)),Te<1)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap||typeof VideoFrame<"u"&&X instanceof VideoFrame){const ye=Math.floor(Te*Ie.width),Ue=Math.floor(Te*Ie.height);h===void 0&&(h=g(ye,Ue));const De=G?g(ye,Ue):h;return De.width=ye,De.height=Ue,De.getContext("2d").drawImage(X,0,0,ye,Ue),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ie.width+"x"+Ie.height+") to ("+ye+"x"+Ue+")."),De}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ie.width+"x"+Ie.height+")."),X;return X}function _(X){return X.generateMipmaps}function b(X){i.generateMipmap(X)}function x(X){return X.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:X.isWebGL3DRenderTarget?i.TEXTURE_3D:X.isWebGLArrayRenderTarget||X.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function C(X,G,ce,Te,Ie=!1){if(X!==null){if(i[X]!==void 0)return i[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let ye=G;if(G===i.RED&&(ce===i.FLOAT&&(ye=i.R32F),ce===i.HALF_FLOAT&&(ye=i.R16F),ce===i.UNSIGNED_BYTE&&(ye=i.R8)),G===i.RED_INTEGER&&(ce===i.UNSIGNED_BYTE&&(ye=i.R8UI),ce===i.UNSIGNED_SHORT&&(ye=i.R16UI),ce===i.UNSIGNED_INT&&(ye=i.R32UI),ce===i.BYTE&&(ye=i.R8I),ce===i.SHORT&&(ye=i.R16I),ce===i.INT&&(ye=i.R32I)),G===i.RG&&(ce===i.FLOAT&&(ye=i.RG32F),ce===i.HALF_FLOAT&&(ye=i.RG16F),ce===i.UNSIGNED_BYTE&&(ye=i.RG8)),G===i.RG_INTEGER&&(ce===i.UNSIGNED_BYTE&&(ye=i.RG8UI),ce===i.UNSIGNED_SHORT&&(ye=i.RG16UI),ce===i.UNSIGNED_INT&&(ye=i.RG32UI),ce===i.BYTE&&(ye=i.RG8I),ce===i.SHORT&&(ye=i.RG16I),ce===i.INT&&(ye=i.RG32I)),G===i.RGB_INTEGER&&(ce===i.UNSIGNED_BYTE&&(ye=i.RGB8UI),ce===i.UNSIGNED_SHORT&&(ye=i.RGB16UI),ce===i.UNSIGNED_INT&&(ye=i.RGB32UI),ce===i.BYTE&&(ye=i.RGB8I),ce===i.SHORT&&(ye=i.RGB16I),ce===i.INT&&(ye=i.RGB32I)),G===i.RGBA_INTEGER&&(ce===i.UNSIGNED_BYTE&&(ye=i.RGBA8UI),ce===i.UNSIGNED_SHORT&&(ye=i.RGBA16UI),ce===i.UNSIGNED_INT&&(ye=i.RGBA32UI),ce===i.BYTE&&(ye=i.RGBA8I),ce===i.SHORT&&(ye=i.RGBA16I),ce===i.INT&&(ye=i.RGBA32I)),G===i.RGB&&ce===i.UNSIGNED_INT_5_9_9_9_REV&&(ye=i.RGB9_E5),G===i.RGBA){const Ue=Ie?_B:_i.getTransfer(Te);ce===i.FLOAT&&(ye=i.RGBA32F),ce===i.HALF_FLOAT&&(ye=i.RGBA16F),ce===i.UNSIGNED_BYTE&&(ye=Ue===Pn?i.SRGB8_ALPHA8:i.RGBA8),ce===i.UNSIGNED_SHORT_4_4_4_4&&(ye=i.RGBA4),ce===i.UNSIGNED_SHORT_5_5_5_1&&(ye=i.RGB5_A1)}return(ye===i.R16F||ye===i.R32F||ye===i.RG16F||ye===i.RG32F||ye===i.RGBA16F||ye===i.RGBA32F)&&e.get("EXT_color_buffer_float"),ye}function S(X,G){let ce;return X?G===null||G===HA||G===lv?ce=i.DEPTH24_STENCIL8:G===yr?ce=i.DEPTH32F_STENCIL8:G===ky&&(ce=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):G===null||G===HA||G===lv?ce=i.DEPTH_COMPONENT24:G===yr?ce=i.DEPTH_COMPONENT32F:G===ky&&(ce=i.DEPTH_COMPONENT16),ce}function E(X,G){return _(X)===!0||X.isFramebufferTexture&&X.minFilter!==Pr&&X.minFilter!==Ni?Math.log2(Math.max(G.width,G.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?G.mipmaps.length:1}function I(X){const G=X.target;G.removeEventListener("dispose",I),k(G),G.isVideoTexture&&u.delete(G)}function M(X){const G=X.target;G.removeEventListener("dispose",M),P(G)}function k(X){const G=n.get(X);if(G.__webglInit===void 0)return;const ce=X.source,Te=d.get(ce);if(Te){const Ie=Te[G.__cacheKey];Ie.usedTimes--,Ie.usedTimes===0&&F(X),Object.keys(Te).length===0&&d.delete(ce)}n.remove(X)}function F(X){const G=n.get(X);i.deleteTexture(G.__webglTexture);const ce=X.source,Te=d.get(ce);delete Te[G.__cacheKey],s.memory.textures--}function P(X){const G=n.get(X);if(X.depthTexture&&(X.depthTexture.dispose(),n.remove(X.depthTexture)),X.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++){if(Array.isArray(G.__webglFramebuffer[Te]))for(let Ie=0;Ie<G.__webglFramebuffer[Te].length;Ie++)i.deleteFramebuffer(G.__webglFramebuffer[Te][Ie]);else i.deleteFramebuffer(G.__webglFramebuffer[Te]);G.__webglDepthbuffer&&i.deleteRenderbuffer(G.__webglDepthbuffer[Te])}else{if(Array.isArray(G.__webglFramebuffer))for(let Te=0;Te<G.__webglFramebuffer.length;Te++)i.deleteFramebuffer(G.__webglFramebuffer[Te]);else i.deleteFramebuffer(G.__webglFramebuffer);if(G.__webglDepthbuffer&&i.deleteRenderbuffer(G.__webglDepthbuffer),G.__webglMultisampledFramebuffer&&i.deleteFramebuffer(G.__webglMultisampledFramebuffer),G.__webglColorRenderbuffer)for(let Te=0;Te<G.__webglColorRenderbuffer.length;Te++)G.__webglColorRenderbuffer[Te]&&i.deleteRenderbuffer(G.__webglColorRenderbuffer[Te]);G.__webglDepthRenderbuffer&&i.deleteRenderbuffer(G.__webglDepthRenderbuffer)}const ce=X.textures;for(let Te=0,Ie=ce.length;Te<Ie;Te++){const ye=n.get(ce[Te]);ye.__webglTexture&&(i.deleteTexture(ye.__webglTexture),s.memory.textures--),n.remove(ce[Te])}n.remove(X)}let Q=0;function N(){Q=0}function W(){const X=Q;return X>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+r.maxTextures),Q+=1,X}function q(X){const G=[];return G.push(X.wrapS),G.push(X.wrapT),G.push(X.wrapR||0),G.push(X.magFilter),G.push(X.minFilter),G.push(X.anisotropy),G.push(X.internalFormat),G.push(X.format),G.push(X.type),G.push(X.generateMipmaps),G.push(X.premultiplyAlpha),G.push(X.flipY),G.push(X.unpackAlignment),G.push(X.colorSpace),G.join()}function J(X,G){const ce=n.get(X);if(X.isVideoTexture&&j(X),X.isRenderTargetTexture===!1&&X.version>0&&ce.__version!==X.version){const Te=X.image;if(Te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{se(ce,X,G);return}}t.bindTexture(i.TEXTURE_2D,ce.__webglTexture,i.TEXTURE0+G)}function V(X,G){const ce=n.get(X);if(X.version>0&&ce.__version!==X.version){se(ce,X,G);return}t.bindTexture(i.TEXTURE_2D_ARRAY,ce.__webglTexture,i.TEXTURE0+G)}function Y(X,G){const ce=n.get(X);if(X.version>0&&ce.__version!==X.version){se(ce,X,G);return}t.bindTexture(i.TEXTURE_3D,ce.__webglTexture,i.TEXTURE0+G)}function Z(X,G){const ce=n.get(X);if(X.version>0&&ce.__version!==X.version){Ae(ce,X,G);return}t.bindTexture(i.TEXTURE_CUBE_MAP,ce.__webglTexture,i.TEXTURE0+G)}const ue={[Tl]:i.REPEAT,[dr]:i.CLAMP_TO_EDGE,[Rp]:i.MIRRORED_REPEAT},$={[Pr]:i.NEAREST,[Bv]:i.NEAREST_MIPMAP_NEAREST,[PA]:i.NEAREST_MIPMAP_LINEAR,[Ni]:i.LINEAR,[vp]:i.LINEAR_MIPMAP_NEAREST,[na]:i.LINEAR_MIPMAP_LINEAR},ee={[BX]:i.NEVER,[RX]:i.ALWAYS,[SX]:i.LESS,[kQ]:i.LEQUAL,[EX]:i.EQUAL,[MX]:i.GEQUAL,[TX]:i.GREATER,[IX]:i.NOTEQUAL};function oe(X,G){if(G.type===yr&&e.has("OES_texture_float_linear")===!1&&(G.magFilter===Ni||G.magFilter===vp||G.magFilter===PA||G.magFilter===na||G.minFilter===Ni||G.minFilter===vp||G.minFilter===PA||G.minFilter===na)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(X,i.TEXTURE_WRAP_S,ue[G.wrapS]),i.texParameteri(X,i.TEXTURE_WRAP_T,ue[G.wrapT]),(X===i.TEXTURE_3D||X===i.TEXTURE_2D_ARRAY)&&i.texParameteri(X,i.TEXTURE_WRAP_R,ue[G.wrapR]),i.texParameteri(X,i.TEXTURE_MAG_FILTER,$[G.magFilter]),i.texParameteri(X,i.TEXTURE_MIN_FILTER,$[G.minFilter]),G.compareFunction&&(i.texParameteri(X,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(X,i.TEXTURE_COMPARE_FUNC,ee[G.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(G.magFilter===Pr||G.minFilter!==PA&&G.minFilter!==na||G.type===yr&&e.has("OES_texture_float_linear")===!1)return;if(G.anisotropy>1||n.get(G).__currentAnisotropy){const ce=e.get("EXT_texture_filter_anisotropic");i.texParameterf(X,ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,r.getMaxAnisotropy())),n.get(G).__currentAnisotropy=G.anisotropy}}}function ge(X,G){let ce=!1;X.__webglInit===void 0&&(X.__webglInit=!0,G.addEventListener("dispose",I));const Te=G.source;let Ie=d.get(Te);Ie===void 0&&(Ie={},d.set(Te,Ie));const ye=q(G);if(ye!==X.__cacheKey){Ie[ye]===void 0&&(Ie[ye]={texture:i.createTexture(),usedTimes:0},s.memory.textures++,ce=!0),Ie[ye].usedTimes++;const Ue=Ie[X.__cacheKey];Ue!==void 0&&(Ie[X.__cacheKey].usedTimes--,Ue.usedTimes===0&&F(G)),X.__cacheKey=ye,X.__webglTexture=Ie[ye].texture}return ce}function se(X,G,ce){let Te=i.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(Te=i.TEXTURE_2D_ARRAY),G.isData3DTexture&&(Te=i.TEXTURE_3D);const Ie=ge(X,G),ye=G.source;t.bindTexture(Te,X.__webglTexture,i.TEXTURE0+ce);const Ue=n.get(ye);if(ye.version!==Ue.__version||Ie===!0){t.activeTexture(i.TEXTURE0+ce);const De=_i.getPrimaries(_i.workingColorSpace),Ge=G.colorSpace===Fc?null:_i.getPrimaries(G.colorSpace),ct=G.colorSpace===Fc||De===Ge?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,G.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,G.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,ct);let Ve=v(G.image,!1,r.maxTextureSize);Ve=re(G,Ve);const st=o.convert(G.format,G.colorSpace),rt=o.convert(G.type);let yt=C(G.internalFormat,st,rt,G.colorSpace,G.isVideoTexture);oe(Te,G);let At;const Ut=G.mipmaps,Tt=G.isVideoTexture!==!0,It=Ue.__version===void 0||Ie===!0,Ee=ye.dataReady,pt=E(G,Ve);if(G.isDepthTexture)yt=S(G.format===cv,G.type),It&&(Tt?t.texStorage2D(i.TEXTURE_2D,1,yt,Ve.width,Ve.height):t.texImage2D(i.TEXTURE_2D,0,yt,Ve.width,Ve.height,0,st,rt,null));else if(G.isDataTexture)if(Ut.length>0){Tt&&It&&t.texStorage2D(i.TEXTURE_2D,pt,yt,Ut[0].width,Ut[0].height);for(let Ne=0,je=Ut.length;Ne<je;Ne++)At=Ut[Ne],Tt?Ee&&t.texSubImage2D(i.TEXTURE_2D,Ne,0,0,At.width,At.height,st,rt,At.data):t.texImage2D(i.TEXTURE_2D,Ne,yt,At.width,At.height,0,st,rt,At.data);G.generateMipmaps=!1}else Tt?(It&&t.texStorage2D(i.TEXTURE_2D,pt,yt,Ve.width,Ve.height),Ee&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,Ve.width,Ve.height,st,rt,Ve.data)):t.texImage2D(i.TEXTURE_2D,0,yt,Ve.width,Ve.height,0,st,rt,Ve.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){Tt&&It&&t.texStorage3D(i.TEXTURE_2D_ARRAY,pt,yt,Ut[0].width,Ut[0].height,Ve.depth);for(let Ne=0,je=Ut.length;Ne<je;Ne++)if(At=Ut[Ne],G.format!==On)if(st!==null)if(Tt){if(Ee)if(G.layerUpdates.size>0){const ft=IL(At.width,At.height,G.format,G.type);for(const dt of G.layerUpdates){const mt=At.data.subarray(dt*ft/At.data.BYTES_PER_ELEMENT,(dt+1)*ft/At.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Ne,0,0,dt,At.width,At.height,1,st,mt)}G.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Ne,0,0,0,At.width,At.height,Ve.depth,st,At.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,Ne,yt,At.width,At.height,Ve.depth,0,At.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Tt?Ee&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,Ne,0,0,0,At.width,At.height,Ve.depth,st,rt,At.data):t.texImage3D(i.TEXTURE_2D_ARRAY,Ne,yt,At.width,At.height,Ve.depth,0,st,rt,At.data)}else{Tt&&It&&t.texStorage2D(i.TEXTURE_2D,pt,yt,Ut[0].width,Ut[0].height);for(let Ne=0,je=Ut.length;Ne<je;Ne++)At=Ut[Ne],G.format!==On?st!==null?Tt?Ee&&t.compressedTexSubImage2D(i.TEXTURE_2D,Ne,0,0,At.width,At.height,st,At.data):t.compressedTexImage2D(i.TEXTURE_2D,Ne,yt,At.width,At.height,0,At.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Tt?Ee&&t.texSubImage2D(i.TEXTURE_2D,Ne,0,0,At.width,At.height,st,rt,At.data):t.texImage2D(i.TEXTURE_2D,Ne,yt,At.width,At.height,0,st,rt,At.data)}else if(G.isDataArrayTexture)if(Tt){if(It&&t.texStorage3D(i.TEXTURE_2D_ARRAY,pt,yt,Ve.width,Ve.height,Ve.depth),Ee)if(G.layerUpdates.size>0){const Ne=IL(Ve.width,Ve.height,G.format,G.type);for(const je of G.layerUpdates){const ft=Ve.data.subarray(je*Ne/Ve.data.BYTES_PER_ELEMENT,(je+1)*Ne/Ve.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,je,Ve.width,Ve.height,1,st,rt,ft)}G.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Ve.width,Ve.height,Ve.depth,st,rt,Ve.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,yt,Ve.width,Ve.height,Ve.depth,0,st,rt,Ve.data);else if(G.isData3DTexture)Tt?(It&&t.texStorage3D(i.TEXTURE_3D,pt,yt,Ve.width,Ve.height,Ve.depth),Ee&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Ve.width,Ve.height,Ve.depth,st,rt,Ve.data)):t.texImage3D(i.TEXTURE_3D,0,yt,Ve.width,Ve.height,Ve.depth,0,st,rt,Ve.data);else if(G.isFramebufferTexture){if(It)if(Tt)t.texStorage2D(i.TEXTURE_2D,pt,yt,Ve.width,Ve.height);else{let Ne=Ve.width,je=Ve.height;for(let ft=0;ft<pt;ft++)t.texImage2D(i.TEXTURE_2D,ft,yt,Ne,je,0,st,rt,null),Ne>>=1,je>>=1}}else if(Ut.length>0){if(Tt&&It){const Ne=ae(Ut[0]);t.texStorage2D(i.TEXTURE_2D,pt,yt,Ne.width,Ne.height)}for(let Ne=0,je=Ut.length;Ne<je;Ne++)At=Ut[Ne],Tt?Ee&&t.texSubImage2D(i.TEXTURE_2D,Ne,0,0,st,rt,At):t.texImage2D(i.TEXTURE_2D,Ne,yt,st,rt,At);G.generateMipmaps=!1}else if(Tt){if(It){const Ne=ae(Ve);t.texStorage2D(i.TEXTURE_2D,pt,yt,Ne.width,Ne.height)}Ee&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,st,rt,Ve)}else t.texImage2D(i.TEXTURE_2D,0,yt,st,rt,Ve);_(G)&&b(Te),Ue.__version=ye.version,G.onUpdate&&G.onUpdate(G)}X.__version=G.version}function Ae(X,G,ce){if(G.image.length!==6)return;const Te=ge(X,G),Ie=G.source;t.bindTexture(i.TEXTURE_CUBE_MAP,X.__webglTexture,i.TEXTURE0+ce);const ye=n.get(Ie);if(Ie.version!==ye.__version||Te===!0){t.activeTexture(i.TEXTURE0+ce);const Ue=_i.getPrimaries(_i.workingColorSpace),De=G.colorSpace===Fc?null:_i.getPrimaries(G.colorSpace),Ge=G.colorSpace===Fc||Ue===De?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,G.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,G.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ge);const ct=G.isCompressedTexture||G.image[0].isCompressedTexture,Ve=G.image[0]&&G.image[0].isDataTexture,st=[];for(let je=0;je<6;je++)!ct&&!Ve?st[je]=v(G.image[je],!0,r.maxCubemapSize):st[je]=Ve?G.image[je].image:G.image[je],st[je]=re(G,st[je]);const rt=st[0],yt=o.convert(G.format,G.colorSpace),At=o.convert(G.type),Ut=C(G.internalFormat,yt,At,G.colorSpace),Tt=G.isVideoTexture!==!0,It=ye.__version===void 0||Te===!0,Ee=Ie.dataReady;let pt=E(G,rt);oe(i.TEXTURE_CUBE_MAP,G);let Ne;if(ct){Tt&&It&&t.texStorage2D(i.TEXTURE_CUBE_MAP,pt,Ut,rt.width,rt.height);for(let je=0;je<6;je++){Ne=st[je].mipmaps;for(let ft=0;ft<Ne.length;ft++){const dt=Ne[ft];G.format!==On?yt!==null?Tt?Ee&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+je,ft,0,0,dt.width,dt.height,yt,dt.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+je,ft,Ut,dt.width,dt.height,0,dt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Tt?Ee&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+je,ft,0,0,dt.width,dt.height,yt,At,dt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+je,ft,Ut,dt.width,dt.height,0,yt,At,dt.data)}}}else{if(Ne=G.mipmaps,Tt&&It){Ne.length>0&&pt++;const je=ae(st[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,pt,Ut,je.width,je.height)}for(let je=0;je<6;je++)if(Ve){Tt?Ee&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,st[je].width,st[je].height,yt,At,st[je].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,Ut,st[je].width,st[je].height,0,yt,At,st[je].data);for(let ft=0;ft<Ne.length;ft++){const mt=Ne[ft].image[je].image;Tt?Ee&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+je,ft+1,0,0,mt.width,mt.height,yt,At,mt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+je,ft+1,Ut,mt.width,mt.height,0,yt,At,mt.data)}}else{Tt?Ee&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,yt,At,st[je]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,Ut,yt,At,st[je]);for(let ft=0;ft<Ne.length;ft++){const dt=Ne[ft];Tt?Ee&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+je,ft+1,0,0,yt,At,dt.image[je]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+je,ft+1,Ut,yt,At,dt.image[je])}}}_(G)&&b(i.TEXTURE_CUBE_MAP),ye.__version=Ie.version,G.onUpdate&&G.onUpdate(G)}X.__version=G.version}function we(X,G,ce,Te,Ie,ye){const Ue=o.convert(ce.format,ce.colorSpace),De=o.convert(ce.type),Ge=C(ce.internalFormat,Ue,De,ce.colorSpace),ct=n.get(G),Ve=n.get(ce);if(Ve.__renderTarget=G,!ct.__hasExternalTextures){const st=Math.max(1,G.width>>ye),rt=Math.max(1,G.height>>ye);Ie===i.TEXTURE_3D||Ie===i.TEXTURE_2D_ARRAY?t.texImage3D(Ie,ye,Ge,st,rt,G.depth,0,Ue,De,null):t.texImage2D(Ie,ye,Ge,st,rt,0,Ue,De,null)}t.bindFramebuffer(i.FRAMEBUFFER,X),z(G)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Te,Ie,Ve.__webglTexture,0,U(G)):(Ie===i.TEXTURE_2D||Ie>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Ie<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Te,Ie,Ve.__webglTexture,ye),t.bindFramebuffer(i.FRAMEBUFFER,null)}function xe(X,G,ce){if(i.bindRenderbuffer(i.RENDERBUFFER,X),G.depthBuffer){const Te=G.depthTexture,Ie=Te&&Te.isDepthTexture?Te.type:null,ye=S(G.stencilBuffer,Ie),Ue=G.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,De=U(G);z(G)?a.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,De,ye,G.width,G.height):ce?i.renderbufferStorageMultisample(i.RENDERBUFFER,De,ye,G.width,G.height):i.renderbufferStorage(i.RENDERBUFFER,ye,G.width,G.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ue,i.RENDERBUFFER,X)}else{const Te=G.textures;for(let Ie=0;Ie<Te.length;Ie++){const ye=Te[Ie],Ue=o.convert(ye.format,ye.colorSpace),De=o.convert(ye.type),Ge=C(ye.internalFormat,Ue,De,ye.colorSpace),ct=U(G);ce&&z(G)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,ct,Ge,G.width,G.height):z(G)?a.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,ct,Ge,G.width,G.height):i.renderbufferStorage(i.RENDERBUFFER,Ge,G.width,G.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function Be(X,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,X),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Te=n.get(G.depthTexture);Te.__renderTarget=G,(!Te.__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),J(G.depthTexture,0);const Ie=Te.__webglTexture,ye=U(G);if(G.depthTexture.format===W_)z(G)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Ie,0,ye):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Ie,0);else if(G.depthTexture.format===cv)z(G)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Ie,0,ye):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Ie,0);else throw new Error("Unknown depthTexture format")}function Re(X){const G=n.get(X),ce=X.isWebGLCubeRenderTarget===!0;if(G.__boundDepthTexture!==X.depthTexture){const Te=X.depthTexture;if(G.__depthDisposeCallback&&G.__depthDisposeCallback(),Te){const Ie=()=>{delete G.__boundDepthTexture,delete G.__depthDisposeCallback,Te.removeEventListener("dispose",Ie)};Te.addEventListener("dispose",Ie),G.__depthDisposeCallback=Ie}G.__boundDepthTexture=Te}if(X.depthTexture&&!G.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");Be(G.__webglFramebuffer,X)}else if(ce){G.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)if(t.bindFramebuffer(i.FRAMEBUFFER,G.__webglFramebuffer[Te]),G.__webglDepthbuffer[Te]===void 0)G.__webglDepthbuffer[Te]=i.createRenderbuffer(),xe(G.__webglDepthbuffer[Te],X,!1);else{const Ie=X.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,ye=G.__webglDepthbuffer[Te];i.bindRenderbuffer(i.RENDERBUFFER,ye),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ie,i.RENDERBUFFER,ye)}}else if(t.bindFramebuffer(i.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer===void 0)G.__webglDepthbuffer=i.createRenderbuffer(),xe(G.__webglDepthbuffer,X,!1);else{const Te=X.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ie=G.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Ie),i.framebufferRenderbuffer(i.FRAMEBUFFER,Te,i.RENDERBUFFER,Ie)}t.bindFramebuffer(i.FRAMEBUFFER,null)}function ke(X,G,ce){const Te=n.get(X);G!==void 0&&we(Te.__webglFramebuffer,X,X.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),ce!==void 0&&Re(X)}function Pe(X){const G=X.texture,ce=n.get(X),Te=n.get(G);X.addEventListener("dispose",M);const Ie=X.textures,ye=X.isWebGLCubeRenderTarget===!0,Ue=Ie.length>1;if(Ue||(Te.__webglTexture===void 0&&(Te.__webglTexture=i.createTexture()),Te.__version=G.version,s.memory.textures++),ye){ce.__webglFramebuffer=[];for(let De=0;De<6;De++)if(G.mipmaps&&G.mipmaps.length>0){ce.__webglFramebuffer[De]=[];for(let Ge=0;Ge<G.mipmaps.length;Ge++)ce.__webglFramebuffer[De][Ge]=i.createFramebuffer()}else ce.__webglFramebuffer[De]=i.createFramebuffer()}else{if(G.mipmaps&&G.mipmaps.length>0){ce.__webglFramebuffer=[];for(let De=0;De<G.mipmaps.length;De++)ce.__webglFramebuffer[De]=i.createFramebuffer()}else ce.__webglFramebuffer=i.createFramebuffer();if(Ue)for(let De=0,Ge=Ie.length;De<Ge;De++){const ct=n.get(Ie[De]);ct.__webglTexture===void 0&&(ct.__webglTexture=i.createTexture(),s.memory.textures++)}if(X.samples>0&&z(X)===!1){ce.__webglMultisampledFramebuffer=i.createFramebuffer(),ce.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,ce.__webglMultisampledFramebuffer);for(let De=0;De<Ie.length;De++){const Ge=Ie[De];ce.__webglColorRenderbuffer[De]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,ce.__webglColorRenderbuffer[De]);const ct=o.convert(Ge.format,Ge.colorSpace),Ve=o.convert(Ge.type),st=C(Ge.internalFormat,ct,Ve,Ge.colorSpace,X.isXRRenderTarget===!0),rt=U(X);i.renderbufferStorageMultisample(i.RENDERBUFFER,rt,st,X.width,X.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+De,i.RENDERBUFFER,ce.__webglColorRenderbuffer[De])}i.bindRenderbuffer(i.RENDERBUFFER,null),X.depthBuffer&&(ce.__webglDepthRenderbuffer=i.createRenderbuffer(),xe(ce.__webglDepthRenderbuffer,X,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(ye){t.bindTexture(i.TEXTURE_CUBE_MAP,Te.__webglTexture),oe(i.TEXTURE_CUBE_MAP,G);for(let De=0;De<6;De++)if(G.mipmaps&&G.mipmaps.length>0)for(let Ge=0;Ge<G.mipmaps.length;Ge++)we(ce.__webglFramebuffer[De][Ge],X,G,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+De,Ge);else we(ce.__webglFramebuffer[De],X,G,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+De,0);_(G)&&b(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ue){for(let De=0,Ge=Ie.length;De<Ge;De++){const ct=Ie[De],Ve=n.get(ct);t.bindTexture(i.TEXTURE_2D,Ve.__webglTexture),oe(i.TEXTURE_2D,ct),we(ce.__webglFramebuffer,X,ct,i.COLOR_ATTACHMENT0+De,i.TEXTURE_2D,0),_(ct)&&b(i.TEXTURE_2D)}t.unbindTexture()}else{let De=i.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(De=X.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(De,Te.__webglTexture),oe(De,G),G.mipmaps&&G.mipmaps.length>0)for(let Ge=0;Ge<G.mipmaps.length;Ge++)we(ce.__webglFramebuffer[Ge],X,G,i.COLOR_ATTACHMENT0,De,Ge);else we(ce.__webglFramebuffer,X,G,i.COLOR_ATTACHMENT0,De,0);_(G)&&b(De),t.unbindTexture()}X.depthBuffer&&Re(X)}function ve(X){const G=X.textures;for(let ce=0,Te=G.length;ce<Te;ce++){const Ie=G[ce];if(_(Ie)){const ye=x(X),Ue=n.get(Ie).__webglTexture;t.bindTexture(ye,Ue),b(ye),t.unbindTexture()}}}const te=[],H=[];function le(X){if(X.samples>0){if(z(X)===!1){const G=X.textures,ce=X.width,Te=X.height;let Ie=i.COLOR_BUFFER_BIT;const ye=X.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ue=n.get(X),De=G.length>1;if(De)for(let Ge=0;Ge<G.length;Ge++)t.bindFramebuffer(i.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Ge,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,Ue.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Ge,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,Ue.__webglFramebuffer);for(let Ge=0;Ge<G.length;Ge++){if(X.resolveDepthBuffer&&(X.depthBuffer&&(Ie|=i.DEPTH_BUFFER_BIT),X.stencilBuffer&&X.resolveStencilBuffer&&(Ie|=i.STENCIL_BUFFER_BIT)),De){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,Ue.__webglColorRenderbuffer[Ge]);const ct=n.get(G[Ge]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,ct,0)}i.blitFramebuffer(0,0,ce,Te,0,0,ce,Te,Ie,i.NEAREST),l===!0&&(te.length=0,H.length=0,te.push(i.COLOR_ATTACHMENT0+Ge),X.depthBuffer&&X.resolveDepthBuffer===!1&&(te.push(ye),H.push(ye),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,H)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,te))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),De)for(let Ge=0;Ge<G.length;Ge++){t.bindFramebuffer(i.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Ge,i.RENDERBUFFER,Ue.__webglColorRenderbuffer[Ge]);const ct=n.get(G[Ge]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,Ue.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Ge,i.TEXTURE_2D,ct,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,Ue.__webglMultisampledFramebuffer)}else if(X.depthBuffer&&X.resolveDepthBuffer===!1&&l){const G=X.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[G])}}}function U(X){return Math.min(r.maxSamples,X.samples)}function z(X){const G=n.get(X);return X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&G.__useRenderToTexture!==!1}function j(X){const G=s.render.frame;u.get(X)!==G&&(u.set(X,G),X.update())}function re(X,G){const ce=X.colorSpace,Te=X.format,Ie=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||ce!==Xn&&ce!==Fc&&(_i.getTransfer(ce)===Pn?(Te!==On||Ie!==Wr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ce)),G}function ae(X){return typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement?(c.width=X.naturalWidth||X.width,c.height=X.naturalHeight||X.height):typeof VideoFrame<"u"&&X instanceof VideoFrame?(c.width=X.displayWidth,c.height=X.displayHeight):(c.width=X.width,c.height=X.height),c}this.allocateTextureUnit=W,this.resetTextureUnits=N,this.setTexture2D=J,this.setTexture2DArray=V,this.setTexture3D=Y,this.setTextureCube=Z,this.rebindTextures=ke,this.setupRenderTarget=Pe,this.updateRenderTargetMipmap=ve,this.updateMultisampleRenderTarget=le,this.setupDepthRenderbuffer=Re,this.setupFrameBufferTexture=we,this.useMultisampledRTT=z}function IY(i,e){function t(n,r=Fc){let o;const s=_i.getTransfer(r);if(n===Wr)return i.UNSIGNED_BYTE;if(n===kR)return i.UNSIGNED_SHORT_4_4_4_4;if(n===FR)return i.UNSIGNED_SHORT_5_5_5_1;if(n===xQ)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===MR)return i.BYTE;if(n===RR)return i.SHORT;if(n===ky)return i.UNSIGNED_SHORT;if(n===cS)return i.INT;if(n===HA)return i.UNSIGNED_INT;if(n===yr)return i.FLOAT;if(n===yo)return i.HALF_FLOAT;if(n===CQ)return i.ALPHA;if(n===BQ)return i.RGB;if(n===On)return i.RGBA;if(n===SQ)return i.LUMINANCE;if(n===EQ)return i.LUMINANCE_ALPHA;if(n===W_)return i.DEPTH_COMPONENT;if(n===cv)return i.DEPTH_STENCIL;if(n===fp)return i.RED;if(n===uS)return i.RED_INTEGER;if(n===ng)return i.RG;if(n===DR)return i.RG_INTEGER;if(n===UR)return i.RGBA_INTEGER;if(n===D2||n===vy||n===U2||n===by)if(s===Pn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(n===D2)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===vy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===U2)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===by)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(n===D2)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===vy)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===U2)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===by)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===uB||n===WM||n===hB||n===jM)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(n===uB)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===WM)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===hB)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===jM)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===AB||n===dB||n===pB)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(n===AB||n===dB)return s===Pn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(n===pB)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===Fy||n===KM||n===$M||n===XM||n===Dy||n===YM||n===ZM||n===JM||n===e5||n===t5||n===i5||n===n5||n===r5||n===o5)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(n===Fy)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===KM)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===$M)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===XM)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Dy)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===YM)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===ZM)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===JM)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===e5)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===t5)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===i5)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===n5)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===r5)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===o5)return s===Pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===yy||n===s5||n===fB)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(n===yy)return s===Pn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===s5)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===fB)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===TQ||n===a5||n===l5||n===c5)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(n===yy)return o.COMPRESSED_RED_RGTC1_EXT;if(n===a5)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===l5)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===c5)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===lv?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const Tde={type:"move"};class ED{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Dc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Dc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new he,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new he),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Dc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new he,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new he),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,o=null,s=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const v of e.hand.values()){const _=t.getJointPose(v,n),b=this._getHandJoint(c,v);_!==null&&(b.matrix.fromArray(_.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=_.radius),b.visible=_!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],d=u.position.distanceTo(h.position),p=.02,g=.005;c.inputState.pinching&&d>p+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=p-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&o!==null&&(r=o),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Tde)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Dc;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}const Ide=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Mde=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Rde{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(this.texture===null){const r=new Rn,o=e.properties.get(r);o.__webglTexture=t.texture,(t.depthNear!==n.depthNear||t.depthFar!==n.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new qa({vertexShader:Ide,fragmentShader:Mde,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Fi(new sc(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class kde extends oc{constructor(e,t){super();const n=this;let r=null,o=1,s=null,a="local-floor",l=1,c=null,u=null,h=null,d=null,p=null,g=null;const v=new Rde,_=t.getContextAttributes();let b=null,x=null;const C=[],S=[],E=new et;let I=null;const M=new Kn;M.viewport=new Wi;const k=new Kn;k.viewport=new Wi;const F=[M,k],P=new _Y;let Q=null,N=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let Ae=C[se];return Ae===void 0&&(Ae=new ED,C[se]=Ae),Ae.getTargetRaySpace()},this.getControllerGrip=function(se){let Ae=C[se];return Ae===void 0&&(Ae=new ED,C[se]=Ae),Ae.getGripSpace()},this.getHand=function(se){let Ae=C[se];return Ae===void 0&&(Ae=new ED,C[se]=Ae),Ae.getHandSpace()};function W(se){const Ae=S.indexOf(se.inputSource);if(Ae===-1)return;const we=C[Ae];we!==void 0&&(we.update(se.inputSource,se.frame,c||s),we.dispatchEvent({type:se.type,data:se.inputSource}))}function q(){r.removeEventListener("select",W),r.removeEventListener("selectstart",W),r.removeEventListener("selectend",W),r.removeEventListener("squeeze",W),r.removeEventListener("squeezestart",W),r.removeEventListener("squeezeend",W),r.removeEventListener("end",q),r.removeEventListener("inputsourceschange",J);for(let se=0;se<C.length;se++){const Ae=S[se];Ae!==null&&(S[se]=null,C[se].disconnect(Ae))}Q=null,N=null,v.reset(),e.setRenderTarget(b),p=null,d=null,h=null,r=null,x=null,ge.stop(),n.isPresenting=!1,e.setPixelRatio(I),e.setSize(E.width,E.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){o=se,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){a=se,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(se){c=se},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return h},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(se){if(r=se,r!==null){if(b=e.getRenderTarget(),r.addEventListener("select",W),r.addEventListener("selectstart",W),r.addEventListener("selectend",W),r.addEventListener("squeeze",W),r.addEventListener("squeezestart",W),r.addEventListener("squeezeend",W),r.addEventListener("end",q),r.addEventListener("inputsourceschange",J),_.xrCompatible!==!0&&await t.makeXRCompatible(),I=e.getPixelRatio(),e.getSize(E),r.enabledFeatures!==void 0&&r.enabledFeatures.includes("layers")){let we=null,xe=null,Be=null;_.depth&&(Be=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,we=_.stencil?cv:W_,xe=_.stencil?lv:HA);const Re={colorFormat:t.RGBA8,depthFormat:Be,scaleFactor:o};h=new XRWebGLBinding(r,t),d=h.createProjectionLayer(Re),r.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),x=new Il(d.textureWidth,d.textureHeight,{format:On,type:Wr,depthTexture:new QQ(d.textureWidth,d.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,we),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1})}else{const we={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:o};p=new XRWebGLLayer(r,t,we),r.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),x=new Il(p.framebufferWidth,p.framebufferHeight,{format:On,type:Wr,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}x.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await r.requestReferenceSpace(a),ge.setContext(r),ge.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function J(se){for(let Ae=0;Ae<se.removed.length;Ae++){const we=se.removed[Ae],xe=S.indexOf(we);xe>=0&&(S[xe]=null,C[xe].disconnect(we))}for(let Ae=0;Ae<se.added.length;Ae++){const we=se.added[Ae];let xe=S.indexOf(we);if(xe===-1){for(let Re=0;Re<C.length;Re++)if(Re>=S.length){S.push(we),xe=Re;break}else if(S[Re]===null){S[Re]=we,xe=Re;break}if(xe===-1)break}const Be=C[xe];Be&&Be.connect(we)}}const V=new he,Y=new he;function Z(se,Ae,we){V.setFromMatrixPosition(Ae.matrixWorld),Y.setFromMatrixPosition(we.matrixWorld);const xe=V.distanceTo(Y),Be=Ae.projectionMatrix.elements,Re=we.projectionMatrix.elements,ke=Be[14]/(Be[10]-1),Pe=Be[14]/(Be[10]+1),ve=(Be[9]+1)/Be[5],te=(Be[9]-1)/Be[5],H=(Be[8]-1)/Be[0],le=(Re[8]+1)/Re[0],U=ke*H,z=ke*le,j=xe/(-H+le),re=j*-H;if(Ae.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(re),se.translateZ(j),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert(),Be[10]===-1)se.projectionMatrix.copy(Ae.projectionMatrix),se.projectionMatrixInverse.copy(Ae.projectionMatrixInverse);else{const ae=ke+j,X=Pe+j,G=U-re,ce=z+(xe-re),Te=ve*Pe/X*ae,Ie=te*Pe/X*ae;se.projectionMatrix.makePerspective(G,ce,Te,Ie,ae,X),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}}function ue(se,Ae){Ae===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(Ae.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(r===null)return;let Ae=se.near,we=se.far;v.texture!==null&&(v.depthNear>0&&(Ae=v.depthNear),v.depthFar>0&&(we=v.depthFar)),P.near=k.near=M.near=Ae,P.far=k.far=M.far=we,(Q!==P.near||N!==P.far)&&(r.updateRenderState({depthNear:P.near,depthFar:P.far}),Q=P.near,N=P.far),M.layers.mask=se.layers.mask|2,k.layers.mask=se.layers.mask|4,P.layers.mask=M.layers.mask|k.layers.mask;const xe=se.parent,Be=P.cameras;ue(P,xe);for(let Re=0;Re<Be.length;Re++)ue(Be[Re],xe);Be.length===2?Z(P,M,k):P.projectionMatrix.copy(M.projectionMatrix),$(se,P,xe)};function $(se,Ae,we){we===null?se.matrix.copy(Ae.matrixWorld):(se.matrix.copy(we.matrixWorld),se.matrix.invert(),se.matrix.multiply(Ae.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(Ae.projectionMatrix),se.projectionMatrixInverse.copy(Ae.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=Py*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(d===null&&p===null))return l},this.setFoveation=function(se){l=se,d!==null&&(d.fixedFoveation=se),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=se)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(P)};let ee=null;function oe(se,Ae){if(u=Ae.getViewerPose(c||s),g=Ae,u!==null){const we=u.views;p!==null&&(e.setRenderTargetFramebuffer(x,p.framebuffer),e.setRenderTarget(x));let xe=!1;we.length!==P.cameras.length&&(P.cameras.length=0,xe=!0);for(let Re=0;Re<we.length;Re++){const ke=we[Re];let Pe=null;if(p!==null)Pe=p.getViewport(ke);else{const te=h.getViewSubImage(d,ke);Pe=te.viewport,Re===0&&(e.setRenderTargetTextures(x,te.colorTexture,d.ignoreDepthValues?void 0:te.depthStencilTexture),e.setRenderTarget(x))}let ve=F[Re];ve===void 0&&(ve=new Kn,ve.layers.enable(Re),ve.viewport=new Wi,F[Re]=ve),ve.matrix.fromArray(ke.transform.matrix),ve.matrix.decompose(ve.position,ve.quaternion,ve.scale),ve.projectionMatrix.fromArray(ke.projectionMatrix),ve.projectionMatrixInverse.copy(ve.projectionMatrix).invert(),ve.viewport.set(Pe.x,Pe.y,Pe.width,Pe.height),Re===0&&(P.matrix.copy(ve.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),xe===!0&&P.cameras.push(ve)}const Be=r.enabledFeatures;if(Be&&Be.includes("depth-sensing")){const Re=h.getDepthInformation(we[0]);Re&&Re.isValid&&Re.texture&&v.init(e,Re,r.renderState)}}for(let we=0;we<C.length;we++){const xe=S[we],Be=C[we];xe!==null&&Be!==void 0&&Be.update(xe,Ae,c||s)}ee&&ee(se,Ae),Ae.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:Ae}),g=null}const ge=new CY;ge.setAnimationLoop(oe),this.setAnimationLoop=function(se){ee=se},this.dispose=function(){}}}const jm=new io,Fde=new St;function Dde(i,e){function t(_,b){_.matrixAutoUpdate===!0&&_.updateMatrix(),b.value.copy(_.matrix)}function n(_,b){b.color.getRGB(_.fogColor.value,PX(i)),b.isFog?(_.fogNear.value=b.near,_.fogFar.value=b.far):b.isFogExp2&&(_.fogDensity.value=b.density)}function r(_,b,x,C,S){b.isMeshBasicMaterial||b.isMeshLambertMaterial?o(_,b):b.isMeshToonMaterial?(o(_,b),h(_,b)):b.isMeshPhongMaterial?(o(_,b),u(_,b)):b.isMeshStandardMaterial?(o(_,b),d(_,b),b.isMeshPhysicalMaterial&&p(_,b,S)):b.isMeshMatcapMaterial?(o(_,b),g(_,b)):b.isMeshDepthMaterial?o(_,b):b.isMeshDistanceMaterial?(o(_,b),v(_,b)):b.isMeshNormalMaterial?o(_,b):b.isLineBasicMaterial?(s(_,b),b.isLineDashedMaterial&&a(_,b)):b.isPointsMaterial?l(_,b,x,C):b.isSpriteMaterial?c(_,b):b.isShadowMaterial?(_.color.value.copy(b.color),_.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function o(_,b){_.opacity.value=b.opacity,b.color&&_.diffuse.value.copy(b.color),b.emissive&&_.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(_.map.value=b.map,t(b.map,_.mapTransform)),b.alphaMap&&(_.alphaMap.value=b.alphaMap,t(b.alphaMap,_.alphaMapTransform)),b.bumpMap&&(_.bumpMap.value=b.bumpMap,t(b.bumpMap,_.bumpMapTransform),_.bumpScale.value=b.bumpScale,b.side===Us&&(_.bumpScale.value*=-1)),b.normalMap&&(_.normalMap.value=b.normalMap,t(b.normalMap,_.normalMapTransform),_.normalScale.value.copy(b.normalScale),b.side===Us&&_.normalScale.value.negate()),b.displacementMap&&(_.displacementMap.value=b.displacementMap,t(b.displacementMap,_.displacementMapTransform),_.displacementScale.value=b.displacementScale,_.displacementBias.value=b.displacementBias),b.emissiveMap&&(_.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,_.emissiveMapTransform)),b.specularMap&&(_.specularMap.value=b.specularMap,t(b.specularMap,_.specularMapTransform)),b.alphaTest>0&&(_.alphaTest.value=b.alphaTest);const x=e.get(b),C=x.envMap,S=x.envMapRotation;C&&(_.envMap.value=C,jm.copy(S),jm.x*=-1,jm.y*=-1,jm.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(jm.y*=-1,jm.z*=-1),_.envMapRotation.value.setFromMatrix4(Fde.makeRotationFromEuler(jm)),_.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=b.reflectivity,_.ior.value=b.ior,_.refractionRatio.value=b.refractionRatio),b.lightMap&&(_.lightMap.value=b.lightMap,_.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,_.lightMapTransform)),b.aoMap&&(_.aoMap.value=b.aoMap,_.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,_.aoMapTransform))}function s(_,b){_.diffuse.value.copy(b.color),_.opacity.value=b.opacity,b.map&&(_.map.value=b.map,t(b.map,_.mapTransform))}function a(_,b){_.dashSize.value=b.dashSize,_.totalSize.value=b.dashSize+b.gapSize,_.scale.value=b.scale}function l(_,b,x,C){_.diffuse.value.copy(b.color),_.opacity.value=b.opacity,_.size.value=b.size*x,_.scale.value=C*.5,b.map&&(_.map.value=b.map,t(b.map,_.uvTransform)),b.alphaMap&&(_.alphaMap.value=b.alphaMap,t(b.alphaMap,_.alphaMapTransform)),b.alphaTest>0&&(_.alphaTest.value=b.alphaTest)}function c(_,b){_.diffuse.value.copy(b.color),_.opacity.value=b.opacity,_.rotation.value=b.rotation,b.map&&(_.map.value=b.map,t(b.map,_.mapTransform)),b.alphaMap&&(_.alphaMap.value=b.alphaMap,t(b.alphaMap,_.alphaMapTransform)),b.alphaTest>0&&(_.alphaTest.value=b.alphaTest)}function u(_,b){_.specular.value.copy(b.specular),_.shininess.value=Math.max(b.shininess,1e-4)}function h(_,b){b.gradientMap&&(_.gradientMap.value=b.gradientMap)}function d(_,b){_.metalness.value=b.metalness,b.metalnessMap&&(_.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,_.metalnessMapTransform)),_.roughness.value=b.roughness,b.roughnessMap&&(_.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,_.roughnessMapTransform)),b.envMap&&(_.envMapIntensity.value=b.envMapIntensity)}function p(_,b,x){_.ior.value=b.ior,b.sheen>0&&(_.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),_.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(_.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,_.sheenColorMapTransform)),b.sheenRoughnessMap&&(_.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,_.sheenRoughnessMapTransform))),b.clearcoat>0&&(_.clearcoat.value=b.clearcoat,_.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(_.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,_.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(_.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Us&&_.clearcoatNormalScale.value.negate())),b.dispersion>0&&(_.dispersion.value=b.dispersion),b.iridescence>0&&(_.iridescence.value=b.iridescence,_.iridescenceIOR.value=b.iridescenceIOR,_.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(_.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,_.iridescenceMapTransform)),b.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),b.transmission>0&&(_.transmission.value=b.transmission,_.transmissionSamplerMap.value=x.texture,_.transmissionSamplerSize.value.set(x.width,x.height),b.transmissionMap&&(_.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,_.transmissionMapTransform)),_.thickness.value=b.thickness,b.thicknessMap&&(_.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=b.attenuationDistance,_.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(_.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(_.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=b.specularIntensity,_.specularColor.value.copy(b.specularColor),b.specularColorMap&&(_.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,_.specularColorMapTransform)),b.specularIntensityMap&&(_.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,_.specularIntensityMapTransform))}function g(_,b){b.matcap&&(_.matcap.value=b.matcap)}function v(_,b){const x=e.get(b).light;_.referencePosition.value.setFromMatrixPosition(x.matrixWorld),_.nearDistance.value=x.shadow.camera.near,_.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function Ude(i,e,t,n){let r={},o={},s=[];const a=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function l(x,C){const S=C.program;n.uniformBlockBinding(x,S)}function c(x,C){let S=r[x.id];S===void 0&&(g(x),S=u(x),r[x.id]=S,x.addEventListener("dispose",_));const E=C.program;n.updateUBOMapping(x,E);const I=e.render.frame;o[x.id]!==I&&(d(x),o[x.id]=I)}function u(x){const C=h();x.__bindingPointIndex=C;const S=i.createBuffer(),E=x.__size,I=x.usage;return i.bindBuffer(i.UNIFORM_BUFFER,S),i.bufferData(i.UNIFORM_BUFFER,E,I),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,C,S),S}function h(){for(let x=0;x<a;x++)if(s.indexOf(x)===-1)return s.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(x){const C=r[x.id],S=x.uniforms,E=x.__cache;i.bindBuffer(i.UNIFORM_BUFFER,C);for(let I=0,M=S.length;I<M;I++){const k=Array.isArray(S[I])?S[I]:[S[I]];for(let F=0,P=k.length;F<P;F++){const Q=k[F];if(p(Q,I,F,E)===!0){const N=Q.__offset,W=Array.isArray(Q.value)?Q.value:[Q.value];let q=0;for(let J=0;J<W.length;J++){const V=W[J],Y=v(V);typeof V=="number"||typeof V=="boolean"?(Q.__data[0]=V,i.bufferSubData(i.UNIFORM_BUFFER,N+q,Q.__data)):V.isMatrix3?(Q.__data[0]=V.elements[0],Q.__data[1]=V.elements[1],Q.__data[2]=V.elements[2],Q.__data[3]=0,Q.__data[4]=V.elements[3],Q.__data[5]=V.elements[4],Q.__data[6]=V.elements[5],Q.__data[7]=0,Q.__data[8]=V.elements[6],Q.__data[9]=V.elements[7],Q.__data[10]=V.elements[8],Q.__data[11]=0):(V.toArray(Q.__data,q),q+=Y.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,N,Q.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function p(x,C,S,E){const I=x.value,M=C+"_"+S;if(E[M]===void 0)return typeof I=="number"||typeof I=="boolean"?E[M]=I:E[M]=I.clone(),!0;{const k=E[M];if(typeof I=="number"||typeof I=="boolean"){if(k!==I)return E[M]=I,!0}else if(k.equals(I)===!1)return k.copy(I),!0}return!1}function g(x){const C=x.uniforms;let S=0;const E=16;for(let M=0,k=C.length;M<k;M++){const F=Array.isArray(C[M])?C[M]:[C[M]];for(let P=0,Q=F.length;P<Q;P++){const N=F[P],W=Array.isArray(N.value)?N.value:[N.value];for(let q=0,J=W.length;q<J;q++){const V=W[q],Y=v(V),Z=S%E,ue=Z%Y.boundary,$=Z+ue;S+=ue,$!==0&&E-$<Y.storage&&(S+=E-$),N.__data=new Float32Array(Y.storage/Float32Array.BYTES_PER_ELEMENT),N.__offset=S,S+=Y.storage}}}const I=S%E;return I>0&&(S+=E-I),x.__size=S,x.__cache={},this}function v(x){const C={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(C.boundary=4,C.storage=4):x.isVector2?(C.boundary=8,C.storage=8):x.isVector3||x.isColor?(C.boundary=16,C.storage=12):x.isVector4?(C.boundary=16,C.storage=16):x.isMatrix3?(C.boundary=48,C.storage=48):x.isMatrix4?(C.boundary=64,C.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),C}function _(x){const C=x.target;C.removeEventListener("dispose",_);const S=s.indexOf(C.__bindingPointIndex);s.splice(S,1),i.deleteBuffer(r[C.id]),delete r[C.id],delete o[C.id]}function b(){for(const x in r)i.deleteBuffer(r[x]);s=[],r={},o={}}return{bind:l,update:c,dispose:b}}class uk{constructor(e={}){const{canvas:t=FX(),context:n=null,depth:r=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1,reverseDepthBuffer:d=!1}=e;this.isWebGLRenderer=!0;let p;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=n.getContextAttributes().alpha}else p=s;const g=new Uint32Array(4),v=new Int32Array(4);let _=null,b=null;const x=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=fi,this.toneMapping=Mu,this.toneMappingExposure=1;const S=this;let E=!1,I=0,M=0,k=null,F=-1,P=null;const Q=new Wi,N=new Wi;let W=null;const q=new ut(0);let J=0,V=t.width,Y=t.height,Z=1,ue=null,$=null;const ee=new Wi(0,0,V,Y),oe=new Wi(0,0,V,Y);let ge=!1;const se=new fS;let Ae=!1,we=!1;this.transmissionResolutionScale=1;const xe=new St,Be=new St,Re=new he,ke=new Wi,Pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ve=!1;function te(){return k===null?Z:1}let H=n;function le(pe,Le){return t.getContext(pe,Le)}try{const pe={alpha:!0,depth:r,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${aS}`),t.addEventListener("webglcontextlost",je,!1),t.addEventListener("webglcontextrestored",ft,!1),t.addEventListener("webglcontextcreationerror",dt,!1),H===null){const Le="webgl2";if(H=le(Le,pe),H===null)throw le(Le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(pe){throw console.error("THREE.WebGLRenderer: "+pe.message),pe}let U,z,j,re,ae,X,G,ce,Te,Ie,ye,Ue,De,Ge,ct,Ve,st,rt,yt,At,Ut,Tt,It,Ee;function pt(){U=new Whe(H),U.init(),Tt=new IY(H,U),z=new Nhe(H,U,e,Tt),j=new Sde(H,U),z.reverseDepthBuffer&&d&&j.buffers.depth.setReversed(!0),re=new $he(H),ae=new dde,X=new Ede(H,U,j,ae,z,Tt,re),G=new zhe(S),ce=new qhe(S),Te=new ice(H),It=new Ohe(H,Te),Ie=new jhe(H,Te,re,It),ye=new Yhe(H,Ie,Te,re),yt=new Xhe(H,z,X),Ve=new Hhe(ae),Ue=new Ade(S,G,ce,U,z,It,Ve),De=new Dde(S,ae),Ge=new fde,ct=new yde(U),rt=new Lhe(S,G,ce,j,ye,p,l),st=new Cde(S,ye,z),Ee=new Ude(H,re,z,j),At=new Qhe(H,U,re),Ut=new Khe(H,U,re),re.programs=Ue.programs,S.capabilities=z,S.extensions=U,S.properties=ae,S.renderLists=Ge,S.shadowMap=st,S.state=j,S.info=re}pt();const Ne=new kde(S,H);this.xr=Ne,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const pe=U.get("WEBGL_lose_context");pe&&pe.loseContext()},this.forceContextRestore=function(){const pe=U.get("WEBGL_lose_context");pe&&pe.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(pe){pe!==void 0&&(Z=pe,this.setSize(V,Y,!1))},this.getSize=function(pe){return pe.set(V,Y)},this.setSize=function(pe,Le,We=!0){if(Ne.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}V=pe,Y=Le,t.width=Math.floor(pe*Z),t.height=Math.floor(Le*Z),We===!0&&(t.style.width=pe+"px",t.style.height=Le+"px"),this.setViewport(0,0,pe,Le)},this.getDrawingBufferSize=function(pe){return pe.set(V*Z,Y*Z).floor()},this.setDrawingBufferSize=function(pe,Le,We){V=pe,Y=Le,Z=We,t.width=Math.floor(pe*We),t.height=Math.floor(Le*We),this.setViewport(0,0,pe,Le)},this.getCurrentViewport=function(pe){return pe.copy(Q)},this.getViewport=function(pe){return pe.copy(ee)},this.setViewport=function(pe,Le,We,Ke){pe.isVector4?ee.set(pe.x,pe.y,pe.z,pe.w):ee.set(pe,Le,We,Ke),j.viewport(Q.copy(ee).multiplyScalar(Z).round())},this.getScissor=function(pe){return pe.copy(oe)},this.setScissor=function(pe,Le,We,Ke){pe.isVector4?oe.set(pe.x,pe.y,pe.z,pe.w):oe.set(pe,Le,We,Ke),j.scissor(N.copy(oe).multiplyScalar(Z).round())},this.getScissorTest=function(){return ge},this.setScissorTest=function(pe){j.setScissorTest(ge=pe)},this.setOpaqueSort=function(pe){ue=pe},this.setTransparentSort=function(pe){$=pe},this.getClearColor=function(pe){return pe.copy(rt.getClearColor())},this.setClearColor=function(){rt.setClearColor.apply(rt,arguments)},this.getClearAlpha=function(){return rt.getClearAlpha()},this.setClearAlpha=function(){rt.setClearAlpha.apply(rt,arguments)},this.clear=function(pe=!0,Le=!0,We=!0){let Ke=0;if(pe){let Oe=!1;if(k!==null){const ht=k.texture.format;Oe=ht===UR||ht===DR||ht===uS}if(Oe){const ht=k.texture.type,_t=ht===Wr||ht===HA||ht===ky||ht===lv||ht===kR||ht===FR,xt=rt.getClearColor(),Mt=rt.getClearAlpha(),Wt=xt.r,Gt=xt.g,Ht=xt.b;_t?(g[0]=Wt,g[1]=Gt,g[2]=Ht,g[3]=Mt,H.clearBufferuiv(H.COLOR,0,g)):(v[0]=Wt,v[1]=Gt,v[2]=Ht,v[3]=Mt,H.clearBufferiv(H.COLOR,0,v))}else Ke|=H.COLOR_BUFFER_BIT}Le&&(Ke|=H.DEPTH_BUFFER_BIT),We&&(Ke|=H.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),H.clear(Ke)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",je,!1),t.removeEventListener("webglcontextrestored",ft,!1),t.removeEventListener("webglcontextcreationerror",dt,!1),rt.dispose(),Ge.dispose(),ct.dispose(),ae.dispose(),G.dispose(),ce.dispose(),ye.dispose(),It.dispose(),Ee.dispose(),Ue.dispose(),Ne.dispose(),Ne.removeEventListener("sessionstart",sn),Ne.removeEventListener("sessionend",ci),er.stop()};function je(pe){pe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function ft(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const pe=re.autoReset,Le=st.enabled,We=st.autoUpdate,Ke=st.needsUpdate,Oe=st.type;pt(),re.autoReset=pe,st.enabled=Le,st.autoUpdate=We,st.needsUpdate=Ke,st.type=Oe}function dt(pe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",pe.statusMessage)}function mt(pe){const Le=pe.target;Le.removeEventListener("dispose",mt),zt(Le)}function zt(pe){gi(pe),ae.remove(pe)}function gi(pe){const Le=ae.get(pe).programs;Le!==void 0&&(Le.forEach(function(We){Ue.releaseProgram(We)}),pe.isShaderMaterial&&Ue.releaseShaderCache(pe))}this.renderBufferDirect=function(pe,Le,We,Ke,Oe,ht){Le===null&&(Le=Pe);const _t=Oe.isMesh&&Oe.matrixWorld.determinant()<0,xt=dn(pe,Le,We,Ke,Oe);j.setMaterial(Ke,_t);let Mt=We.index,Wt=1;if(Ke.wireframe===!0){if(Mt=Ie.getWireframeAttribute(We),Mt===void 0)return;Wt=2}const Gt=We.drawRange,Ht=We.attributes.position;let mi=Gt.start*Wt,$i=(Gt.start+Gt.count)*Wt;ht!==null&&(mi=Math.max(mi,ht.start*Wt),$i=Math.min($i,(ht.start+ht.count)*Wt)),Mt!==null?(mi=Math.max(mi,0),$i=Math.min($i,Mt.count)):Ht!=null&&(mi=Math.max(mi,0),$i=Math.min($i,Ht.count));const _n=$i-mi;if(_n<0||_n===1/0)return;It.setup(Oe,Ke,xt,We,Mt);let Ei,si=At;if(Mt!==null&&(Ei=Te.get(Mt),si=Ut,si.setIndex(Ei)),Oe.isMesh)Ke.wireframe===!0?(j.setLineWidth(Ke.wireframeLinewidth*te()),si.setMode(H.LINES)):si.setMode(H.TRIANGLES);else if(Oe.isLine){let Vt=Ke.linewidth;Vt===void 0&&(Vt=1),j.setLineWidth(Vt*te()),Oe.isLineSegments?si.setMode(H.LINES):Oe.isLineLoop?si.setMode(H.LINE_LOOP):si.setMode(H.LINE_STRIP)}else Oe.isPoints?si.setMode(H.POINTS):Oe.isSprite&&si.setMode(H.TRIANGLES);if(Oe.isBatchedMesh)if(Oe._multiDrawInstances!==null)si.renderMultiDrawInstances(Oe._multiDrawStarts,Oe._multiDrawCounts,Oe._multiDrawCount,Oe._multiDrawInstances);else if(U.get("WEBGL_multi_draw"))si.renderMultiDraw(Oe._multiDrawStarts,Oe._multiDrawCounts,Oe._multiDrawCount);else{const Vt=Oe._multiDrawStarts,xn=Oe._multiDrawCounts,Ti=Oe._multiDrawCount,ao=Mt?Te.get(Mt).bytesPerElement:1,la=ae.get(Ke).currentProgram.getUniforms();for(let Xi=0;Xi<Ti;Xi++)la.setValue(H,"_gl_DrawID",Xi),si.render(Vt[Xi]/ao,xn[Xi])}else if(Oe.isInstancedMesh)si.renderInstances(mi,_n,Oe.count);else if(We.isInstancedBufferGeometry){const Vt=We._maxInstanceCount!==void 0?We._maxInstanceCount:1/0,xn=Math.min(We.instanceCount,Vt);si.renderInstances(mi,_n,xn)}else si.render(mi,_n)};function $t(pe,Le,We){pe.transparent===!0&&pe.side===vo&&pe.forceSinglePass===!1?(pe.side=Us,pe.needsUpdate=!0,Rl(pe,Le,We),pe.side=Pu,pe.needsUpdate=!0,Rl(pe,Le,We),pe.side=vo):Rl(pe,Le,We)}this.compile=function(pe,Le,We=null){We===null&&(We=pe),b=ct.get(We),b.init(Le),C.push(b),We.traverseVisible(function(Oe){Oe.isLight&&Oe.layers.test(Le.layers)&&(b.pushLight(Oe),Oe.castShadow&&b.pushShadow(Oe))}),pe!==We&&pe.traverseVisible(function(Oe){Oe.isLight&&Oe.layers.test(Le.layers)&&(b.pushLight(Oe),Oe.castShadow&&b.pushShadow(Oe))}),b.setupLights();const Ke=new Set;return pe.traverse(function(Oe){if(!(Oe.isMesh||Oe.isPoints||Oe.isLine||Oe.isSprite))return;const ht=Oe.material;if(ht)if(Array.isArray(ht))for(let _t=0;_t<ht.length;_t++){const xt=ht[_t];$t(xt,We,Oe),Ke.add(xt)}else $t(ht,We,Oe),Ke.add(ht)}),C.pop(),b=null,Ke},this.compileAsync=function(pe,Le,We=null){const Ke=this.compile(pe,Le,We);return new Promise(Oe=>{function ht(){if(Ke.forEach(function(_t){ae.get(_t).currentProgram.isReady()&&Ke.delete(_t)}),Ke.size===0){Oe(pe);return}setTimeout(ht,10)}U.get("KHR_parallel_shader_compile")!==null?ht():setTimeout(ht,10)})};let Bi=null;function Di(pe){Bi&&Bi(pe)}function sn(){er.stop()}function ci(){er.start()}const er=new CY;er.setAnimationLoop(Di),typeof self<"u"&&er.setContext(self),this.setAnimationLoop=function(pe){Bi=pe,Ne.setAnimationLoop(pe),pe===null?er.stop():er.start()},Ne.addEventListener("sessionstart",sn),Ne.addEventListener("sessionend",ci),this.render=function(pe,Le){if(Le!==void 0&&Le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;if(pe.matrixWorldAutoUpdate===!0&&pe.updateMatrixWorld(),Le.parent===null&&Le.matrixWorldAutoUpdate===!0&&Le.updateMatrixWorld(),Ne.enabled===!0&&Ne.isPresenting===!0&&(Ne.cameraAutoUpdate===!0&&Ne.updateCamera(Le),Le=Ne.getCamera()),pe.isScene===!0&&pe.onBeforeRender(S,pe,Le,k),b=ct.get(pe,C.length),b.init(Le),C.push(b),Be.multiplyMatrices(Le.projectionMatrix,Le.matrixWorldInverse),se.setFromProjectionMatrix(Be),we=this.localClippingEnabled,Ae=Ve.init(this.clippingPlanes,we),_=Ge.get(pe,x.length),_.init(),x.push(_),Ne.enabled===!0&&Ne.isPresenting===!0){const ht=S.xr.getDepthSensingMesh();ht!==null&&xo(ht,Le,-1/0,S.sortObjects)}xo(pe,Le,0,S.sortObjects),_.finish(),S.sortObjects===!0&&_.sort(ue,$),ve=Ne.enabled===!1||Ne.isPresenting===!1||Ne.hasDepthSensing()===!1,ve&&rt.addToRenderList(_,pe),this.info.render.frame++,Ae===!0&&Ve.beginShadows();const We=b.state.shadowsArray;st.render(We,pe,Le),Ae===!0&&Ve.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ke=_.opaque,Oe=_.transmissive;if(b.setupLights(),Le.isArrayCamera){const ht=Le.cameras;if(Oe.length>0)for(let _t=0,xt=ht.length;_t<xt;_t++){const Mt=ht[_t];No(Ke,Oe,pe,Mt)}ve&&rt.render(pe);for(let _t=0,xt=ht.length;_t<xt;_t++){const Mt=ht[_t];Ml(_,pe,Mt,Mt.viewport)}}else Oe.length>0&&No(Ke,Oe,pe,Le),ve&&rt.render(pe),Ml(_,pe,Le);k!==null&&M===0&&(X.updateMultisampleRenderTarget(k),X.updateRenderTargetMipmap(k)),pe.isScene===!0&&pe.onAfterRender(S,pe,Le),It.resetDefaultState(),F=-1,P=null,C.pop(),C.length>0?(b=C[C.length-1],Ae===!0&&Ve.setGlobalState(S.clippingPlanes,b.state.camera)):b=null,x.pop(),x.length>0?_=x[x.length-1]:_=null};function xo(pe,Le,We,Ke){if(pe.visible===!1)return;if(pe.layers.test(Le.layers)){if(pe.isGroup)We=pe.renderOrder;else if(pe.isLOD)pe.autoUpdate===!0&&pe.update(Le);else if(pe.isLight)b.pushLight(pe),pe.castShadow&&b.pushShadow(pe);else if(pe.isSprite){if(!pe.frustumCulled||se.intersectsSprite(pe)){Ke&&ke.setFromMatrixPosition(pe.matrixWorld).applyMatrix4(Be);const _t=ye.update(pe),xt=pe.material;xt.visible&&_.push(pe,_t,xt,We,ke.z,null)}}else if((pe.isMesh||pe.isLine||pe.isPoints)&&(!pe.frustumCulled||se.intersectsObject(pe))){const _t=ye.update(pe),xt=pe.material;if(Ke&&(pe.boundingSphere!==void 0?(pe.boundingSphere===null&&pe.computeBoundingSphere(),ke.copy(pe.boundingSphere.center)):(_t.boundingSphere===null&&_t.computeBoundingSphere(),ke.copy(_t.boundingSphere.center)),ke.applyMatrix4(pe.matrixWorld).applyMatrix4(Be)),Array.isArray(xt)){const Mt=_t.groups;for(let Wt=0,Gt=Mt.length;Wt<Gt;Wt++){const Ht=Mt[Wt],mi=xt[Ht.materialIndex];mi&&mi.visible&&_.push(pe,_t,mi,We,ke.z,Ht)}}else xt.visible&&_.push(pe,_t,xt,We,ke.z,null)}}const ht=pe.children;for(let _t=0,xt=ht.length;_t<xt;_t++)xo(ht[_t],Le,We,Ke)}function Ml(pe,Le,We,Ke){const Oe=pe.opaque,ht=pe.transmissive,_t=pe.transparent;b.setupLightsView(We),Ae===!0&&Ve.setGlobalState(S.clippingPlanes,We),Ke&&j.viewport(Q.copy(Ke)),Oe.length>0&&as(Oe,Le,We),ht.length>0&&as(ht,Le,We),_t.length>0&&as(_t,Le,We),j.buffers.depth.setTest(!0),j.buffers.depth.setMask(!0),j.buffers.color.setMask(!0),j.setPolygonOffset(!1)}function No(pe,Le,We,Ke){if((We.isScene===!0?We.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[Ke.id]===void 0&&(b.state.transmissionRenderTarget[Ke.id]=new Il(1,1,{generateMipmaps:!0,type:U.has("EXT_color_buffer_half_float")||U.has("EXT_color_buffer_float")?yo:Wr,minFilter:na,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:_i.workingColorSpace}));const ht=b.state.transmissionRenderTarget[Ke.id],_t=Ke.viewport||Q;ht.setSize(_t.z*S.transmissionResolutionScale,_t.w*S.transmissionResolutionScale);const xt=S.getRenderTarget();S.setRenderTarget(ht),S.getClearColor(q),J=S.getClearAlpha(),J<1&&S.setClearColor(16777215,.5),S.clear(),ve&&rt.render(We);const Mt=S.toneMapping;S.toneMapping=Mu;const Wt=Ke.viewport;if(Ke.viewport!==void 0&&(Ke.viewport=void 0),b.setupLightsView(Ke),Ae===!0&&Ve.setGlobalState(S.clippingPlanes,Ke),as(pe,We,Ke),X.updateMultisampleRenderTarget(ht),X.updateRenderTargetMipmap(ht),U.has("WEBGL_multisampled_render_to_texture")===!1){let Gt=!1;for(let Ht=0,mi=Le.length;Ht<mi;Ht++){const $i=Le[Ht],_n=$i.object,Ei=$i.geometry,si=$i.material,Vt=$i.group;if(si.side===vo&&_n.layers.test(Ke.layers)){const xn=si.side;si.side=Us,si.needsUpdate=!0,oa(_n,We,Ke,Ei,si,Vt),si.side=xn,si.needsUpdate=!0,Gt=!0}}Gt===!0&&(X.updateMultisampleRenderTarget(ht),X.updateRenderTargetMipmap(ht))}S.setRenderTarget(xt),S.setClearColor(q,J),Wt!==void 0&&(Ke.viewport=Wt),S.toneMapping=Mt}function as(pe,Le,We){const Ke=Le.isScene===!0?Le.overrideMaterial:null;for(let Oe=0,ht=pe.length;Oe<ht;Oe++){const _t=pe[Oe],xt=_t.object,Mt=_t.geometry,Wt=Ke===null?_t.material:Ke,Gt=_t.group;xt.layers.test(We.layers)&&oa(xt,Le,We,Mt,Wt,Gt)}}function oa(pe,Le,We,Ke,Oe,ht){pe.onBeforeRender(S,Le,We,Ke,Oe,ht),pe.modelViewMatrix.multiplyMatrices(We.matrixWorldInverse,pe.matrixWorld),pe.normalMatrix.getNormalMatrix(pe.modelViewMatrix),Oe.onBeforeRender(S,Le,We,Ke,pe,ht),Oe.transparent===!0&&Oe.side===vo&&Oe.forceSinglePass===!1?(Oe.side=Us,Oe.needsUpdate=!0,S.renderBufferDirect(We,Le,Ke,Oe,pe,ht),Oe.side=Pu,Oe.needsUpdate=!0,S.renderBufferDirect(We,Le,Ke,Oe,pe,ht),Oe.side=vo):S.renderBufferDirect(We,Le,Ke,Oe,pe,ht),pe.onAfterRender(S,Le,We,Ke,Oe,ht)}function Rl(pe,Le,We){Le.isScene!==!0&&(Le=Pe);const Ke=ae.get(pe),Oe=b.state.lights,ht=b.state.shadowsArray,_t=Oe.state.version,xt=Ue.getParameters(pe,Oe.state,ht,Le,We),Mt=Ue.getProgramCacheKey(xt);let Wt=Ke.programs;Ke.environment=pe.isMeshStandardMaterial?Le.environment:null,Ke.fog=Le.fog,Ke.envMap=(pe.isMeshStandardMaterial?ce:G).get(pe.envMap||Ke.environment),Ke.envMapRotation=Ke.environment!==null&&pe.envMap===null?Le.environmentRotation:pe.envMapRotation,Wt===void 0&&(pe.addEventListener("dispose",mt),Wt=new Map,Ke.programs=Wt);let Gt=Wt.get(Mt);if(Gt!==void 0){if(Ke.currentProgram===Gt&&Ke.lightsStateVersion===_t)return kn(pe,xt),Gt}else xt.uniforms=Ue.getUniforms(pe),pe.onBeforeCompile(xt,S),Gt=Ue.acquireProgram(xt,Mt),Wt.set(Mt,Gt),Ke.uniforms=xt.uniforms;const Ht=Ke.uniforms;return(!pe.isShaderMaterial&&!pe.isRawShaderMaterial||pe.clipping===!0)&&(Ht.clippingPlanes=Ve.uniform),kn(pe,xt),Ke.needsLights=wt(pe),Ke.lightsStateVersion=_t,Ke.needsLights&&(Ht.ambientLightColor.value=Oe.state.ambient,Ht.lightProbe.value=Oe.state.probe,Ht.directionalLights.value=Oe.state.directional,Ht.directionalLightShadows.value=Oe.state.directionalShadow,Ht.spotLights.value=Oe.state.spot,Ht.spotLightShadows.value=Oe.state.spotShadow,Ht.rectAreaLights.value=Oe.state.rectArea,Ht.ltc_1.value=Oe.state.rectAreaLTC1,Ht.ltc_2.value=Oe.state.rectAreaLTC2,Ht.pointLights.value=Oe.state.point,Ht.pointLightShadows.value=Oe.state.pointShadow,Ht.hemisphereLights.value=Oe.state.hemi,Ht.directionalShadowMap.value=Oe.state.directionalShadowMap,Ht.directionalShadowMatrix.value=Oe.state.directionalShadowMatrix,Ht.spotShadowMap.value=Oe.state.spotShadowMap,Ht.spotLightMatrix.value=Oe.state.spotLightMatrix,Ht.spotLightMap.value=Oe.state.spotLightMap,Ht.pointShadowMap.value=Oe.state.pointShadowMap,Ht.pointShadowMatrix.value=Oe.state.pointShadowMatrix),Ke.currentProgram=Gt,Ke.uniformsList=null,Gt}function sa(pe){if(pe.uniformsList===null){const Le=pe.currentProgram.getUniforms();pe.uniformsList=GI.seqWithValue(Le.seq,pe.uniforms)}return pe.uniformsList}function kn(pe,Le){const We=ae.get(pe);We.outputColorSpace=Le.outputColorSpace,We.batching=Le.batching,We.batchingColor=Le.batchingColor,We.instancing=Le.instancing,We.instancingColor=Le.instancingColor,We.instancingMorph=Le.instancingMorph,We.skinning=Le.skinning,We.morphTargets=Le.morphTargets,We.morphNormals=Le.morphNormals,We.morphColors=Le.morphColors,We.morphTargetsCount=Le.morphTargetsCount,We.numClippingPlanes=Le.numClippingPlanes,We.numIntersection=Le.numClipIntersection,We.vertexAlphas=Le.vertexAlphas,We.vertexTangents=Le.vertexTangents,We.toneMapping=Le.toneMapping}function dn(pe,Le,We,Ke,Oe){Le.isScene!==!0&&(Le=Pe),X.resetTextureUnits();const ht=Le.fog,_t=Ke.isMeshStandardMaterial?Le.environment:null,xt=k===null?S.outputColorSpace:k.isXRRenderTarget===!0?k.texture.colorSpace:Xn,Mt=(Ke.isMeshStandardMaterial?ce:G).get(Ke.envMap||_t),Wt=Ke.vertexColors===!0&&!!We.attributes.color&&We.attributes.color.itemSize===4,Gt=!!We.attributes.tangent&&(!!Ke.normalMap||Ke.anisotropy>0),Ht=!!We.morphAttributes.position,mi=!!We.morphAttributes.normal,$i=!!We.morphAttributes.color;let _n=Mu;Ke.toneMapped&&(k===null||k.isXRRenderTarget===!0)&&(_n=S.toneMapping);const Ei=We.morphAttributes.position||We.morphAttributes.normal||We.morphAttributes.color,si=Ei!==void 0?Ei.length:0,Vt=ae.get(Ke),xn=b.state.lights;if(Ae===!0&&(we===!0||pe!==P)){const Qn=pe===P&&Ke.id===F;Ve.setState(Ke,pe,Qn)}let Ti=!1;Ke.version===Vt.__version?(Vt.needsLights&&Vt.lightsStateVersion!==xn.state.version||Vt.outputColorSpace!==xt||Oe.isBatchedMesh&&Vt.batching===!1||!Oe.isBatchedMesh&&Vt.batching===!0||Oe.isBatchedMesh&&Vt.batchingColor===!0&&Oe.colorTexture===null||Oe.isBatchedMesh&&Vt.batchingColor===!1&&Oe.colorTexture!==null||Oe.isInstancedMesh&&Vt.instancing===!1||!Oe.isInstancedMesh&&Vt.instancing===!0||Oe.isSkinnedMesh&&Vt.skinning===!1||!Oe.isSkinnedMesh&&Vt.skinning===!0||Oe.isInstancedMesh&&Vt.instancingColor===!0&&Oe.instanceColor===null||Oe.isInstancedMesh&&Vt.instancingColor===!1&&Oe.instanceColor!==null||Oe.isInstancedMesh&&Vt.instancingMorph===!0&&Oe.morphTexture===null||Oe.isInstancedMesh&&Vt.instancingMorph===!1&&Oe.morphTexture!==null||Vt.envMap!==Mt||Ke.fog===!0&&Vt.fog!==ht||Vt.numClippingPlanes!==void 0&&(Vt.numClippingPlanes!==Ve.numPlanes||Vt.numIntersection!==Ve.numIntersection)||Vt.vertexAlphas!==Wt||Vt.vertexTangents!==Gt||Vt.morphTargets!==Ht||Vt.morphNormals!==mi||Vt.morphColors!==$i||Vt.toneMapping!==_n||Vt.morphTargetsCount!==si)&&(Ti=!0):(Ti=!0,Vt.__version=Ke.version);let ao=Vt.currentProgram;Ti===!0&&(ao=Rl(Ke,Le,Oe));let la=!1,Xi=!1,ca=!1;const an=ao.getUniforms(),Sr=Vt.uniforms;if(j.useProgram(ao.program)&&(la=!0,Xi=!0,ca=!0),Ke.id!==F&&(F=Ke.id,Xi=!0),la||P!==pe){j.buffers.depth.getReversed()?(xe.copy(pe.projectionMatrix),Pse(xe),Lse(xe),an.setValue(H,"projectionMatrix",xe)):an.setValue(H,"projectionMatrix",pe.projectionMatrix),an.setValue(H,"viewMatrix",pe.matrixWorldInverse);const Or=an.map.cameraPosition;Or!==void 0&&Or.setValue(H,Re.setFromMatrixPosition(pe.matrixWorld)),z.logarithmicDepthBuffer&&an.setValue(H,"logDepthBufFC",2/(Math.log(pe.far+1)/Math.LN2)),(Ke.isMeshPhongMaterial||Ke.isMeshToonMaterial||Ke.isMeshLambertMaterial||Ke.isMeshBasicMaterial||Ke.isMeshStandardMaterial||Ke.isShaderMaterial)&&an.setValue(H,"isOrthographic",pe.isOrthographicCamera===!0),P!==pe&&(P=pe,Xi=!0,ca=!0)}if(Oe.isSkinnedMesh){an.setOptional(H,Oe,"bindMatrix"),an.setOptional(H,Oe,"bindMatrixInverse");const Qn=Oe.skeleton;Qn&&(Qn.boneTexture===null&&Qn.computeBoneTexture(),an.setValue(H,"boneTexture",Qn.boneTexture,X))}Oe.isBatchedMesh&&(an.setOptional(H,Oe,"batchingTexture"),an.setValue(H,"batchingTexture",Oe._matricesTexture,X),an.setOptional(H,Oe,"batchingIdTexture"),an.setValue(H,"batchingIdTexture",Oe._indirectTexture,X),an.setOptional(H,Oe,"batchingColorTexture"),Oe._colorsTexture!==null&&an.setValue(H,"batchingColorTexture",Oe._colorsTexture,X));const tr=We.morphAttributes;if((tr.position!==void 0||tr.normal!==void 0||tr.color!==void 0)&&yt.update(Oe,We,ao),(Xi||Vt.receiveShadow!==Oe.receiveShadow)&&(Vt.receiveShadow=Oe.receiveShadow,an.setValue(H,"receiveShadow",Oe.receiveShadow)),Ke.isMeshGouraudMaterial&&Ke.envMap!==null&&(Sr.envMap.value=Mt,Sr.flipEnvMap.value=Mt.isCubeTexture&&Mt.isRenderTargetTexture===!1?-1:1),Ke.isMeshStandardMaterial&&Ke.envMap===null&&Le.environment!==null&&(Sr.envMapIntensity.value=Le.environmentIntensity),Xi&&(an.setValue(H,"toneMappingExposure",S.toneMappingExposure),Vt.needsLights&&ls(Sr,ca),ht&&Ke.fog===!0&&De.refreshFogUniforms(Sr,ht),De.refreshMaterialUniforms(Sr,Ke,Z,Y,b.state.transmissionRenderTarget[pe.id]),GI.upload(H,sa(Vt),Sr,X)),Ke.isShaderMaterial&&Ke.uniformsNeedUpdate===!0&&(GI.upload(H,sa(Vt),Sr,X),Ke.uniformsNeedUpdate=!1),Ke.isSpriteMaterial&&an.setValue(H,"center",Oe.center),an.setValue(H,"modelViewMatrix",Oe.modelViewMatrix),an.setValue(H,"normalMatrix",Oe.normalMatrix),an.setValue(H,"modelMatrix",Oe.matrixWorld),Ke.isShaderMaterial||Ke.isRawShaderMaterial){const Qn=Ke.uniformsGroups;for(let Or=0,cs=Qn.length;Or<cs;Or++){const Ho=Qn[Or];Ee.update(Ho,ao),Ee.bind(Ho,ao)}}return ao}function ls(pe,Le){pe.ambientLightColor.needsUpdate=Le,pe.lightProbe.needsUpdate=Le,pe.directionalLights.needsUpdate=Le,pe.directionalLightShadows.needsUpdate=Le,pe.pointLights.needsUpdate=Le,pe.pointLightShadows.needsUpdate=Le,pe.spotLights.needsUpdate=Le,pe.spotLightShadows.needsUpdate=Le,pe.rectAreaLights.needsUpdate=Le,pe.hemisphereLights.needsUpdate=Le}function wt(pe){return pe.isMeshLambertMaterial||pe.isMeshToonMaterial||pe.isMeshPhongMaterial||pe.isMeshStandardMaterial||pe.isShadowMaterial||pe.isShaderMaterial&&pe.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return k},this.setRenderTargetTextures=function(pe,Le,We){ae.get(pe.texture).__webglTexture=Le,ae.get(pe.depthTexture).__webglTexture=We;const Ke=ae.get(pe);Ke.__hasExternalTextures=!0,Ke.__autoAllocateDepthBuffer=We===void 0,Ke.__autoAllocateDepthBuffer||U.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ke.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(pe,Le){const We=ae.get(pe);We.__webglFramebuffer=Le,We.__useDefaultFramebuffer=Le===void 0};const kl=H.createFramebuffer();this.setRenderTarget=function(pe,Le=0,We=0){k=pe,I=Le,M=We;let Ke=!0,Oe=null,ht=!1,_t=!1;if(pe){const Mt=ae.get(pe);if(Mt.__useDefaultFramebuffer!==void 0)j.bindFramebuffer(H.FRAMEBUFFER,null),Ke=!1;else if(Mt.__webglFramebuffer===void 0)X.setupRenderTarget(pe);else if(Mt.__hasExternalTextures)X.rebindTextures(pe,ae.get(pe.texture).__webglTexture,ae.get(pe.depthTexture).__webglTexture);else if(pe.depthBuffer){const Ht=pe.depthTexture;if(Mt.__boundDepthTexture!==Ht){if(Ht!==null&&ae.has(Ht)&&(pe.width!==Ht.image.width||pe.height!==Ht.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");X.setupDepthRenderbuffer(pe)}}const Wt=pe.texture;(Wt.isData3DTexture||Wt.isDataArrayTexture||Wt.isCompressedArrayTexture)&&(_t=!0);const Gt=ae.get(pe).__webglFramebuffer;pe.isWebGLCubeRenderTarget?(Array.isArray(Gt[Le])?Oe=Gt[Le][We]:Oe=Gt[Le],ht=!0):pe.samples>0&&X.useMultisampledRTT(pe)===!1?Oe=ae.get(pe).__webglMultisampledFramebuffer:Array.isArray(Gt)?Oe=Gt[We]:Oe=Gt,Q.copy(pe.viewport),N.copy(pe.scissor),W=pe.scissorTest}else Q.copy(ee).multiplyScalar(Z).floor(),N.copy(oe).multiplyScalar(Z).floor(),W=ge;if(We!==0&&(Oe=kl),j.bindFramebuffer(H.FRAMEBUFFER,Oe)&&Ke&&j.drawBuffers(pe,Oe),j.viewport(Q),j.scissor(N),j.setScissorTest(W),ht){const Mt=ae.get(pe.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Mt.__webglTexture,We)}else if(_t){const Mt=ae.get(pe.texture),Wt=Le;H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,Mt.__webglTexture,We,Wt)}else if(pe!==null&&We!==0){const Mt=ae.get(pe.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,Mt.__webglTexture,We)}F=-1},this.readRenderTargetPixels=function(pe,Le,We,Ke,Oe,ht,_t){if(!(pe&&pe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xt=ae.get(pe).__webglFramebuffer;if(pe.isWebGLCubeRenderTarget&&_t!==void 0&&(xt=xt[_t]),xt){j.bindFramebuffer(H.FRAMEBUFFER,xt);try{const Mt=pe.texture,Wt=Mt.format,Gt=Mt.type;if(!z.textureFormatReadable(Wt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!z.textureTypeReadable(Gt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Le>=0&&Le<=pe.width-Ke&&We>=0&&We<=pe.height-Oe&&H.readPixels(Le,We,Ke,Oe,Tt.convert(Wt),Tt.convert(Gt),ht)}finally{const Mt=k!==null?ae.get(k).__webglFramebuffer:null;j.bindFramebuffer(H.FRAMEBUFFER,Mt)}}},this.readRenderTargetPixelsAsync=async function(pe,Le,We,Ke,Oe,ht,_t){if(!(pe&&pe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let xt=ae.get(pe).__webglFramebuffer;if(pe.isWebGLCubeRenderTarget&&_t!==void 0&&(xt=xt[_t]),xt){const Mt=pe.texture,Wt=Mt.format,Gt=Mt.type;if(!z.textureFormatReadable(Wt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!z.textureTypeReadable(Gt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Le>=0&&Le<=pe.width-Ke&&We>=0&&We<=pe.height-Oe){j.bindFramebuffer(H.FRAMEBUFFER,xt);const Ht=H.createBuffer();H.bindBuffer(H.PIXEL_PACK_BUFFER,Ht),H.bufferData(H.PIXEL_PACK_BUFFER,ht.byteLength,H.STREAM_READ),H.readPixels(Le,We,Ke,Oe,Tt.convert(Wt),Tt.convert(Gt),0);const mi=k!==null?ae.get(k).__webglFramebuffer:null;j.bindFramebuffer(H.FRAMEBUFFER,mi);const $i=H.fenceSync(H.SYNC_GPU_COMMANDS_COMPLETE,0);return H.flush(),await Use(H,$i,4),H.bindBuffer(H.PIXEL_PACK_BUFFER,Ht),H.getBufferSubData(H.PIXEL_PACK_BUFFER,0,ht),H.deleteBuffer(Ht),H.deleteSync($i),ht}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(pe,Le=null,We=0){pe.isTexture!==!0&&(Zb("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Le=arguments[0]||null,pe=arguments[1]);const Ke=Math.pow(2,-We),Oe=Math.floor(pe.image.width*Ke),ht=Math.floor(pe.image.height*Ke),_t=Le!==null?Le.x:0,xt=Le!==null?Le.y:0;X.setTexture2D(pe,0),H.copyTexSubImage2D(H.TEXTURE_2D,We,0,0,_t,xt,Oe,ht),j.unbindTexture()};const aa=H.createFramebuffer(),so=H.createFramebuffer();this.copyTextureToTexture=function(pe,Le,We=null,Ke=null,Oe=0,ht=null){pe.isTexture!==!0&&(Zb("WebGLRenderer: copyTextureToTexture function signature has changed."),Ke=arguments[0]||null,pe=arguments[1],Le=arguments[2],ht=arguments[3]||0,We=null),ht===null&&(Oe!==0?(Zb("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ht=Oe,Oe=0):ht=0);let _t,xt,Mt,Wt,Gt,Ht,mi,$i,_n;const Ei=pe.isCompressedTexture?pe.mipmaps[ht]:pe.image;if(We!==null)_t=We.max.x-We.min.x,xt=We.max.y-We.min.y,Mt=We.isBox3?We.max.z-We.min.z:1,Wt=We.min.x,Gt=We.min.y,Ht=We.isBox3?We.min.z:0;else{const tr=Math.pow(2,-Oe);_t=Math.floor(Ei.width*tr),xt=Math.floor(Ei.height*tr),pe.isDataArrayTexture?Mt=Ei.depth:pe.isData3DTexture?Mt=Math.floor(Ei.depth*tr):Mt=1,Wt=0,Gt=0,Ht=0}Ke!==null?(mi=Ke.x,$i=Ke.y,_n=Ke.z):(mi=0,$i=0,_n=0);const si=Tt.convert(Le.format),Vt=Tt.convert(Le.type);let xn;Le.isData3DTexture?(X.setTexture3D(Le,0),xn=H.TEXTURE_3D):Le.isDataArrayTexture||Le.isCompressedArrayTexture?(X.setTexture2DArray(Le,0),xn=H.TEXTURE_2D_ARRAY):(X.setTexture2D(Le,0),xn=H.TEXTURE_2D),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,Le.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Le.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,Le.unpackAlignment);const Ti=H.getParameter(H.UNPACK_ROW_LENGTH),ao=H.getParameter(H.UNPACK_IMAGE_HEIGHT),la=H.getParameter(H.UNPACK_SKIP_PIXELS),Xi=H.getParameter(H.UNPACK_SKIP_ROWS),ca=H.getParameter(H.UNPACK_SKIP_IMAGES);H.pixelStorei(H.UNPACK_ROW_LENGTH,Ei.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,Ei.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Wt),H.pixelStorei(H.UNPACK_SKIP_ROWS,Gt),H.pixelStorei(H.UNPACK_SKIP_IMAGES,Ht);const an=pe.isDataArrayTexture||pe.isData3DTexture,Sr=Le.isDataArrayTexture||Le.isData3DTexture;if(pe.isDepthTexture){const tr=ae.get(pe),Qn=ae.get(Le),Or=ae.get(tr.__renderTarget),cs=ae.get(Qn.__renderTarget);j.bindFramebuffer(H.READ_FRAMEBUFFER,Or.__webglFramebuffer),j.bindFramebuffer(H.DRAW_FRAMEBUFFER,cs.__webglFramebuffer);for(let Ho=0;Ho<Mt;Ho++)an&&(H.framebufferTextureLayer(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,ae.get(pe).__webglTexture,Oe,Ht+Ho),H.framebufferTextureLayer(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,ae.get(Le).__webglTexture,ht,_n+Ho)),H.blitFramebuffer(Wt,Gt,_t,xt,mi,$i,_t,xt,H.DEPTH_BUFFER_BIT,H.NEAREST);j.bindFramebuffer(H.READ_FRAMEBUFFER,null),j.bindFramebuffer(H.DRAW_FRAMEBUFFER,null)}else if(Oe!==0||pe.isRenderTargetTexture||ae.has(pe)){const tr=ae.get(pe),Qn=ae.get(Le);j.bindFramebuffer(H.READ_FRAMEBUFFER,aa),j.bindFramebuffer(H.DRAW_FRAMEBUFFER,so);for(let Or=0;Or<Mt;Or++)an?H.framebufferTextureLayer(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,tr.__webglTexture,Oe,Ht+Or):H.framebufferTexture2D(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,tr.__webglTexture,Oe),Sr?H.framebufferTextureLayer(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,Qn.__webglTexture,ht,_n+Or):H.framebufferTexture2D(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,Qn.__webglTexture,ht),Oe!==0?H.blitFramebuffer(Wt,Gt,_t,xt,mi,$i,_t,xt,H.COLOR_BUFFER_BIT,H.NEAREST):Sr?H.copyTexSubImage3D(xn,ht,mi,$i,_n+Or,Wt,Gt,_t,xt):H.copyTexSubImage2D(xn,ht,mi,$i,Wt,Gt,_t,xt);j.bindFramebuffer(H.READ_FRAMEBUFFER,null),j.bindFramebuffer(H.DRAW_FRAMEBUFFER,null)}else Sr?pe.isDataTexture||pe.isData3DTexture?H.texSubImage3D(xn,ht,mi,$i,_n,_t,xt,Mt,si,Vt,Ei.data):Le.isCompressedArrayTexture?H.compressedTexSubImage3D(xn,ht,mi,$i,_n,_t,xt,Mt,si,Ei.data):H.texSubImage3D(xn,ht,mi,$i,_n,_t,xt,Mt,si,Vt,Ei):pe.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,ht,mi,$i,_t,xt,si,Vt,Ei.data):pe.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,ht,mi,$i,Ei.width,Ei.height,si,Ei.data):H.texSubImage2D(H.TEXTURE_2D,ht,mi,$i,_t,xt,si,Vt,Ei);H.pixelStorei(H.UNPACK_ROW_LENGTH,Ti),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,ao),H.pixelStorei(H.UNPACK_SKIP_PIXELS,la),H.pixelStorei(H.UNPACK_SKIP_ROWS,Xi),H.pixelStorei(H.UNPACK_SKIP_IMAGES,ca),ht===0&&Le.generateMipmaps&&H.generateMipmap(xn),j.unbindTexture()},this.copyTextureToTexture3D=function(pe,Le,We=null,Ke=null,Oe=0){return pe.isTexture!==!0&&(Zb("WebGLRenderer: copyTextureToTexture3D function signature has changed."),We=arguments[0]||null,Ke=arguments[1]||null,pe=arguments[2],Le=arguments[3],Oe=arguments[4]||0),Zb('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(pe,Le,We,Ke,Oe)},this.initRenderTarget=function(pe){ae.get(pe).__webglFramebuffer===void 0&&X.setupRenderTarget(pe)},this.initTexture=function(pe){pe.isCubeTexture?X.setTextureCube(pe,0):pe.isData3DTexture?X.setTexture3D(pe,0):pe.isDataArrayTexture||pe.isCompressedArrayTexture?X.setTexture2DArray(pe,0):X.setTexture2D(pe,0),j.unbindTexture()},this.resetState=function(){I=0,M=0,k=null,j.reset(),It.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Fh}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=_i._getDrawingBufferColorSpace(e),t.unpackColorSpace=_i._getUnpackColorSpace()}}const Pde=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:IR,AddEquation:Zf,AddOperation:vX,AdditiveAnimationBlendMode:IQ,AdditiveBlending:mL,AgXToneMapping:wQ,AlphaFormat:CQ,AlwaysCompare:RX,AlwaysDepth:NM,AlwaysStencilFunc:wL,AmbientLight:YQ,AnimationAction:yY,AnimationClip:pv,AnimationLoader:ele,AnimationMixer:wY,AnimationObjectGroup:Cle,AnimationUtils:Xae,ArcCurve:qX,ArrayCamera:_Y,ArrowHelper:jle,AttachedBindMode:bL,Audio:vY,AudioAnalyser:ple,AudioContext:eN,AudioListener:hle,AudioLoader:lle,AxesHelper:Kle,BackSide:Us,BasicDepthPacking:xX,BasicShadowMap:J$,BatchedMesh:NX,Bone:Qy,BooleanKeyframeTrack:Ev,Box2:Fle,Box3:vr,Box3Helper:qle,BoxGeometry:zh,BoxHelper:Vle,BufferAttribute:Ci,BufferGeometry:Kt,BufferGeometryLoader:gY,ByteType:MR,Cache:gp,Camera:QR,CameraHelper:Gle,CanvasTexture:VX,CapsuleGeometry:qR,CatmullRomCurve3:WX,CineonToneMapping:yQ,CircleGeometry:WR,ClampToEdgeWrapping:dr,Clock:tN,Color:ut,ColorKeyframeTrack:$Q,ColorManagement:_i,CompressedArrayTexture:zX,CompressedCubeTexture:GX,CompressedTexture:yp,CompressedTextureLoader:tle,ConeGeometry:jR,ConstantAlphaFactor:gX,ConstantColorFactor:pX,Controls:Xle,CubeCamera:h5,CubeReflectionMapping:Mp,CubeRefractionMapping:bg,CubeTexture:dS,CubeTextureLoader:ile,CubeUVReflectionMapping:dw,CubicBezierCurve:HQ,CubicBezierCurve3:jX,CubicInterpolant:cY,CullFaceBack:gL,CullFaceFront:Z$,CullFaceFrontBack:zoe,CullFaceNone:Y$,Curve:Hu,CurvePath:$X,CustomBlending:eX,CustomToneMapping:bX,CylinderGeometry:fw,Cylindrical:kle,Data3DTexture:AS,DataArrayTexture:hS,DataTexture:Ru,DataTextureLoader:AY,DataUtils:a2,DecrementStencilOp:Zoe,DecrementWrapStencilOp:ese,DefaultLoadingManager:uy,DepthFormat:W_,DepthStencilFormat:cv,DepthTexture:QQ,DetachedBindMode:yX,DirectionalLight:vS,DirectionalLightHelper:zle,DiscreteInterpolant:uY,DodecahedronGeometry:KR,DoubleSide:vo,DstAlphaFactor:cX,DstColorFactor:hX,DynamicCopyUsage:fse,DynamicDrawUsage:cse,DynamicReadUsage:Ase,EdgesGeometry:XX,EllipseCurve:VR,EqualCompare:EX,EqualDepth:zM,EqualStencilFunc:rse,EquirectangularReflectionMapping:av,EquirectangularRefractionMapping:cB,Euler:io,EventDispatcher:oc,ExtrudeGeometry:XR,FileLoader:ro,Float16BufferAttribute:nae,Float32BufferAttribute:vt,FloatType:yr,Fog:zR,FogExp2:HR,FramebufferTexture:bae,FrontSide:Pu,Frustum:fS,GLBufferAttribute:Rle,GLSL1:mse,GLSL3:xL,GreaterCompare:TX,GreaterDepth:VM,GreaterEqualCompare:MX,GreaterEqualDepth:GM,GreaterEqualStencilFunc:lse,GreaterStencilFunc:sse,GridHelper:Nle,Group:Dc,HalfFloatType:yo,HemisphereLight:dY,HemisphereLightHelper:Qle,IcosahedronGeometry:YR,ImageBitmapLoader:mY,ImageLoader:SB,ImageUtils:DX,IncrementStencilOp:Yoe,IncrementWrapStencilOp:Joe,InstancedBufferAttribute:wg,InstancedBufferGeometry:JQ,InstancedInterleavedBuffer:Mle,InstancedMesh:LQ,Int16BufferAttribute:tae,Int32BufferAttribute:iae,Int8BufferAttribute:Zse,IntType:cS,InterleavedBuffer:pS,InterleavedBufferAttribute:yg,Interpolant:mw,InterpolateDiscrete:uv,InterpolateLinear:hv,InterpolateSmooth:HI,InvertStencilOp:tse,KeepStencilOp:__,KeyframeTrack:Gh,LOD:QX,LatheGeometry:gS,Layers:Ly,LessCompare:SX,LessDepth:HM,LessEqualCompare:kQ,LessEqualDepth:sv,LessEqualStencilFunc:ose,LessStencilFunc:nse,Light:Lg,LightProbe:ZQ,Line:Ou,Line3:Dle,LineBasicMaterial:Qo,LineCurve:zQ,LineCurve3:KX,LineDashedMaterial:sY,LineLoop:OQ,LineSegments:Nc,LinearFilter:Ni,LinearInterpolant:KQ,LinearMipMapLinearFilter:yL,LinearMipMapNearestFilter:qoe,LinearMipmapLinearFilter:na,LinearMipmapNearestFilter:vp,LinearSRGBColorSpace:Xn,LinearToneMapping:vQ,LinearTransfer:_B,Loader:Cr,LoaderUtils:wp,LoadingManager:ok,LoopOnce:Uy,LoopPingPong:gB,LoopRepeat:j_,LuminanceAlphaFormat:EQ,LuminanceFormat:SQ,MOUSE:g_,Material:no,MaterialLoader:lk,MathUtils:Uo,Matrix2:sN,Matrix3:pi,Matrix4:St,MaxEquation:rX,Mesh:Fi,MeshBasicMaterial:ns,MeshDepthMaterial:_S,MeshDistanceMaterial:rk,MeshLambertMaterial:WQ,MeshMatcapMaterial:oY,MeshNormalMaterial:rY,MeshPhongMaterial:Cy,MeshPhysicalMaterial:zu,MeshStandardMaterial:dv,MeshToonMaterial:nY,MinEquation:nX,MirroredRepeatWrapping:Rp,MixOperation:_X,MultiplyBlending:vL,MultiplyOperation:lS,NearestFilter:Pr,NearestMipMapLinearFilter:Voe,NearestMipMapNearestFilter:Goe,NearestMipmapLinearFilter:PA,NearestMipmapNearestFilter:Bv,NeutralToneMapping:Ry,NeverCompare:BX,NeverDepth:QM,NeverStencilFunc:ise,NoBlending:Ph,NoColorSpace:Fc,NoToneMapping:Mu,NormalAnimationBlendMode:PR,NormalBlending:q_,NotEqualCompare:IX,NotEqualDepth:qM,NotEqualStencilFunc:ase,NumberKeyframeTrack:xg,Object3D:Si,ObjectLoader:sle,ObjectSpaceNormalMap:CX,OctahedronGeometry:mS,OneFactor:sX,OneMinusConstantAlphaFactor:mX,OneMinusConstantColorFactor:fX,OneMinusDstAlphaFactor:uX,OneMinusDstColorFactor:AX,OneMinusSrcAlphaFactor:OM,OneMinusSrcColorFactor:lX,OrthographicCamera:nc,PCFShadowMap:TR,PCFSoftShadowMap:F2,PMREMGenerator:ML,Path:wB,PerspectiveCamera:Kn,Plane:cp,PlaneGeometry:sc,PlaneHelper:Wle,PointLight:Ny,PointLightHelper:Lle,Points:xy,PointsMaterial:og,PolarGridHelper:Hle,PolyhedronGeometry:Pg,PositionalAudio:dle,PropertyBinding:ki,PropertyMixer:bY,QuadraticBezierCurve:GQ,QuadraticBezierCurve3:VQ,Quaternion:Mn,QuaternionKeyframeTrack:kp,QuaternionLinearInterpolant:hY,RED_GREEN_RGTC2_Format:l5,RED_RGTC1_Format:TQ,REVISION:aS,RGBADepthPacking:RQ,RGBAFormat:On,RGBAIntegerFormat:UR,RGBA_ASTC_10x10_Format:n5,RGBA_ASTC_10x5_Format:e5,RGBA_ASTC_10x6_Format:t5,RGBA_ASTC_10x8_Format:i5,RGBA_ASTC_12x10_Format:r5,RGBA_ASTC_12x12_Format:o5,RGBA_ASTC_4x4_Format:Fy,RGBA_ASTC_5x4_Format:KM,RGBA_ASTC_5x5_Format:$M,RGBA_ASTC_6x5_Format:XM,RGBA_ASTC_6x6_Format:Dy,RGBA_ASTC_8x5_Format:YM,RGBA_ASTC_8x6_Format:ZM,RGBA_ASTC_8x8_Format:JM,RGBA_BPTC_Format:yy,RGBA_ETC2_EAC_Format:pB,RGBA_PVRTC_2BPPV1_Format:jM,RGBA_PVRTC_4BPPV1_Format:hB,RGBA_S3TC_DXT1_Format:vy,RGBA_S3TC_DXT3_Format:U2,RGBA_S3TC_DXT5_Format:by,RGBDepthPacking:joe,RGBFormat:BQ,RGBIntegerFormat:Woe,RGB_BPTC_SIGNED_Format:s5,RGB_BPTC_UNSIGNED_Format:fB,RGB_ETC1_Format:AB,RGB_ETC2_Format:dB,RGB_PVRTC_2BPPV1_Format:WM,RGB_PVRTC_4BPPV1_Format:uB,RGB_S3TC_DXT1_Format:D2,RGDepthPacking:Koe,RGFormat:ng,RGIntegerFormat:DR,RawShaderMaterial:iY,Ray:Sv,Raycaster:oN,RectAreaLight:pY,RedFormat:fp,RedIntegerFormat:uS,ReinhardToneMapping:bQ,RenderTarget:LR,RenderTarget3D:Sle,RenderTargetArray:Ele,RepeatWrapping:Tl,ReplaceStencilOp:Xoe,ReverseSubtractEquation:iX,RingGeometry:ZR,SIGNED_RED_GREEN_RGTC2_Format:c5,SIGNED_RED_RGTC1_Format:a5,SRGBColorSpace:fi,SRGBTransfer:Pn,Scene:Lu,ShaderChunk:Mi,ShaderLib:kh,ShaderMaterial:qa,ShadowMaterial:tY,Shape:$_,ShapeGeometry:JR,ShapePath:$le,ShapeUtils:Lh,ShortType:RR,Skeleton:pw,SkeletonHelper:Ple,SkinnedMesh:GR,Source:rg,Sphere:Oo,SphereGeometry:gw,Spherical:X_,SphericalHarmonics3:fY,SplineCurve:qQ,SpotLight:ak,SpotLightHelper:Ule,Sprite:OX,SpriteMaterial:PQ,SrcAlphaFactor:LM,SrcAlphaSaturateFactor:dX,SrcColorFactor:aX,StaticCopyUsage:pse,StaticDrawUsage:vB,StaticReadUsage:hse,StereoCamera:cle,StreamCopyUsage:gse,StreamDrawUsage:use,StreamReadUsage:dse,StringKeyframeTrack:Tv,SubtractEquation:tX,SubtractiveBlending:_L,TOUCH:m_,TangentSpaceNormalMap:Ug,TetrahedronGeometry:ek,Texture:Rn,TextureLoader:sk,TextureUtils:tce,TorusGeometry:tk,TorusKnotGeometry:ik,Triangle:Ha,TriangleFanDrawMode:u5,TriangleStripDrawMode:MQ,TrianglesDrawMode:wX,TubeGeometry:nk,UVMapping:vg,Uint16BufferAttribute:OR,Uint32BufferAttribute:DQ,Uint8BufferAttribute:Jse,Uint8ClampedBufferAttribute:eae,Uniform:rN,UniformsGroup:Ile,UniformsLib:Et,UniformsUtils:UQ,UnsignedByteType:Wr,UnsignedInt248Type:lv,UnsignedInt5999Type:xQ,UnsignedIntType:HA,UnsignedShort4444Type:kR,UnsignedShort5551Type:FR,UnsignedShortType:ky,VSMShadowMap:Th,Vector2:et,Vector3:he,Vector4:Wi,VectorKeyframeTrack:Cg,VideoTexture:HX,WebGL3DRenderTarget:zse,WebGLArrayRenderTarget:Hse,WebGLCoordinateSystem:Fh,WebGLCubeRenderTarget:NR,WebGLRenderTarget:Il,WebGLRenderer:uk,WebGLUtils:IY,WebGPUCoordinateSystem:bB,WireframeGeometry:eY,WrapAroundEnding:mB,ZeroCurvatureEnding:F_,ZeroFactor:oX,ZeroSlopeEnding:D_,ZeroStencilOp:$oe,createCanvasElement:FX},Symbol.toStringTag,{value:"Module"}));/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.8.2
*/var bo=Uint8Array,Uc=Uint16Array,lN=Int32Array,hk=new bo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ak=new bo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kL=new bo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),MY=function(i,e){for(var t=new Uc(31),n=0;n<31;++n)t[n]=e+=1<<i[n-1];for(var r=new lN(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)r[o]=o-t[n]<<5|n;return{b:t,r}},RY=MY(hk,2),kY=RY.b,FL=RY.r;kY[28]=258,FL[258]=28;var FY=MY(Ak,0),Lde=FY.b,jz=FY.r,DL=new Uc(32768);for(var br=0;br<32768;++br){var _f=(br&43690)>>1|(br&21845)<<1;_f=(_f&52428)>>2|(_f&13107)<<2,_f=(_f&61680)>>4|(_f&3855)<<4,DL[br]=((_f&65280)>>8|(_f&255)<<8)>>1}var QA=function(i,e,t){for(var n=i.length,r=0,o=new Uc(e);r<n;++r)i[r]&&++o[i[r]-1];var s=new Uc(e);for(r=1;r<e;++r)s[r]=s[r-1]+o[r-1]<<1;var a;if(t){a=new Uc(1<<e);var l=15-e;for(r=0;r<n;++r)if(i[r])for(var c=r<<4|i[r],u=e-i[r],h=s[i[r]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)a[DL[h]>>l]=c}else for(a=new Uc(n),r=0;r<n;++r)i[r]&&(a[r]=DL[s[i[r]-1]++]>>15-i[r]);return a},Bg=new bo(288);for(var br=0;br<144;++br)Bg[br]=8;for(var br=144;br<256;++br)Bg[br]=9;for(var br=256;br<280;++br)Bg[br]=7;for(var br=280;br<288;++br)Bg[br]=8;var EB=new bo(32);for(var br=0;br<32;++br)EB[br]=5;var Ode=QA(Bg,9,0),Qde=QA(Bg,9,1),Nde=QA(EB,5,0),Hde=QA(EB,5,1),TD=function(i){for(var e=i[0],t=1;t<i.length;++t)i[t]>e&&(e=i[t]);return e},fh=function(i,e,t){var n=e/8|0;return(i[n]|i[n+1]<<8)>>(e&7)&t},ID=function(i,e){var t=e/8|0;return(i[t]|i[t+1]<<8|i[t+2]<<16)>>(e&7)},cN=function(i){return(i+7)/8|0},uN=function(i,e,t){return(t==null||t>i.length)&&(t=i.length),new bo(i.subarray(e,t))},zde=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Jl=function(i,e,t){var n=new Error(e||zde[i]);if(n.code=i,Error.captureStackTrace&&Error.captureStackTrace(n,Jl),!t)throw n;return n},Gde=function(i,e,t,n){var r=i.length,o=0;if(!r||e.f&&!e.l)return t||new bo(0);var s=!t,a=s||e.i!=2,l=e.i;s&&(t=new bo(r*3));var c=function(Pe){var ve=t.length;if(Pe>ve){var te=new bo(Math.max(ve*2,Pe));te.set(t),t=te}},u=e.f||0,h=e.p||0,d=e.b||0,p=e.l,g=e.d,v=e.m,_=e.n,b=r*8;do{if(!p){u=fh(i,h,1);var x=fh(i,h+1,3);if(h+=3,x)if(x==1)p=Qde,g=Hde,v=9,_=5;else if(x==2){var I=fh(i,h,31)+257,M=fh(i,h+10,15)+4,k=I+fh(i,h+5,31)+1;h+=14;for(var F=new bo(k),P=new bo(19),Q=0;Q<M;++Q)P[kL[Q]]=fh(i,h+Q*3,7);h+=M*3;for(var N=TD(P),W=(1<<N)-1,q=QA(P,N,1),Q=0;Q<k;){var J=q[fh(i,h,W)];h+=J&15;var C=J>>4;if(C<16)F[Q++]=C;else{var V=0,Y=0;for(C==16?(Y=3+fh(i,h,3),h+=2,V=F[Q-1]):C==17?(Y=3+fh(i,h,7),h+=3):C==18&&(Y=11+fh(i,h,127),h+=7);Y--;)F[Q++]=V}}var Z=F.subarray(0,I),ue=F.subarray(I);v=TD(Z),_=TD(ue),p=QA(Z,v,1),g=QA(ue,_,1)}else Jl(1);else{var C=cN(h)+4,S=i[C-4]|i[C-3]<<8,E=C+S;if(E>r){l&&Jl(0);break}a&&c(d+S),t.set(i.subarray(C,E),d),e.b=d+=S,e.p=h=E*8,e.f=u;continue}if(h>b){l&&Jl(0);break}}a&&c(d+131072);for(var $=(1<<v)-1,ee=(1<<_)-1,oe=h;;oe=h){var V=p[ID(i,h)&$],ge=V>>4;if(h+=V&15,h>b){l&&Jl(0);break}if(V||Jl(2),ge<256)t[d++]=ge;else if(ge==256){oe=h,p=null;break}else{var se=ge-254;if(ge>264){var Q=ge-257,Ae=hk[Q];se=fh(i,h,(1<<Ae)-1)+kY[Q],h+=Ae}var we=g[ID(i,h)&ee],xe=we>>4;we||Jl(3),h+=we&15;var ue=Lde[xe];if(xe>3){var Ae=Ak[xe];ue+=ID(i,h)&(1<<Ae)-1,h+=Ae}if(h>b){l&&Jl(0);break}a&&c(d+131072);var Be=d+se;if(d<ue){var Re=o-ue,ke=Math.min(ue,Be);for(Re+d<0&&Jl(3);d<ke;++d)t[d]=n[Re+d]}for(;d<Be;++d)t[d]=t[d-ue]}}e.l=p,e.p=oe,e.b=d,e.f=u,p&&(u=1,e.m=v,e.d=g,e.n=_)}while(!u);return d!=t.length&&s?uN(t,0,d):t.subarray(0,d)},Pd=function(i,e,t){t<<=e&7;var n=e/8|0;i[n]|=t,i[n+1]|=t>>8},cC=function(i,e,t){t<<=e&7;var n=e/8|0;i[n]|=t,i[n+1]|=t>>8,i[n+2]|=t>>16},MD=function(i,e){for(var t=[],n=0;n<i.length;++n)i[n]&&t.push({s:n,f:i[n]});var r=t.length,o=t.slice();if(!r)return{t:UY,l:0};if(r==1){var s=new bo(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(E,I){return E.f-I.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=r-1;)a=t[t[c].f<t[h].f?c++:h++],l=t[c!=u&&t[c].f<t[h].f?c++:h++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=o[0].s,n=1;n<r;++n)o[n].s>d&&(d=o[n].s);var p=new Uc(d+1),g=UL(t[u-1],p,0);if(g>e){var n=0,v=0,_=g-e,b=1<<_;for(o.sort(function(I,M){return p[M.s]-p[I.s]||I.f-M.f});n<r;++n){var x=o[n].s;if(p[x]>e)v+=b-(1<<g-p[x]),p[x]=e;else break}for(v>>=_;v>0;){var C=o[n].s;p[C]<e?v-=1<<e-p[C]++-1:++n}for(;n>=0&&v;--n){var S=o[n].s;p[S]==e&&(--p[S],++v)}g=e}return{t:new bo(p),l:g}},UL=function(i,e,t){return i.s==-1?Math.max(UL(i.l,e,t+1),UL(i.r,e,t+1)):e[i.s]=t},Kz=function(i){for(var e=i.length;e&&!i[--e];);for(var t=new Uc(++e),n=0,r=i[0],o=1,s=function(l){t[n++]=l},a=1;a<=e;++a)if(i[a]==r&&a!=e)++o;else{if(!r&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(r),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(r);o=1,r=i[a]}return{c:t.subarray(0,n),n:e}},uC=function(i,e){for(var t=0,n=0;n<e.length;++n)t+=i[n]*e[n];return t},DY=function(i,e,t){var n=t.length,r=cN(e+2);i[r]=n&255,i[r+1]=n>>8,i[r+2]=i[r]^255,i[r+3]=i[r+1]^255;for(var o=0;o<n;++o)i[r+o+4]=t[o];return(r+4+n)*8},$z=function(i,e,t,n,r,o,s,a,l,c,u){Pd(e,u++,t),++r[256];for(var h=MD(r,15),d=h.t,p=h.l,g=MD(o,15),v=g.t,_=g.l,b=Kz(d),x=b.c,C=b.n,S=Kz(v),E=S.c,I=S.n,M=new Uc(19),k=0;k<x.length;++k)++M[x[k]&31];for(var k=0;k<E.length;++k)++M[E[k]&31];for(var F=MD(M,7),P=F.t,Q=F.l,N=19;N>4&&!P[kL[N-1]];--N);var W=c+5<<3,q=uC(r,Bg)+uC(o,EB)+s,J=uC(r,d)+uC(o,v)+s+14+3*N+uC(M,P)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&W<=q&&W<=J)return DY(e,u,i.subarray(l,l+c));var V,Y,Z,ue;if(Pd(e,u,1+(J<q)),u+=2,J<q){V=QA(d,p,0),Y=d,Z=QA(v,_,0),ue=v;var $=QA(P,Q,0);Pd(e,u,C-257),Pd(e,u+5,I-1),Pd(e,u+10,N-4),u+=14;for(var k=0;k<N;++k)Pd(e,u+3*k,P[kL[k]]);u+=3*N;for(var ee=[x,E],oe=0;oe<2;++oe)for(var ge=ee[oe],k=0;k<ge.length;++k){var se=ge[k]&31;Pd(e,u,$[se]),u+=P[se],se>15&&(Pd(e,u,ge[k]>>5&127),u+=ge[k]>>12)}}else V=Ode,Y=Bg,Z=Nde,ue=EB;for(var k=0;k<a;++k){var Ae=n[k];if(Ae>255){var se=Ae>>18&31;cC(e,u,V[se+257]),u+=Y[se+257],se>7&&(Pd(e,u,Ae>>23&31),u+=hk[se]);var we=Ae&31;cC(e,u,Z[we]),u+=ue[we],we>3&&(cC(e,u,Ae>>5&8191),u+=Ak[we])}else cC(e,u,V[Ae]),u+=Y[Ae]}return cC(e,u,V[256]),u+Y[256]},Vde=new lN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),UY=new bo(0),qde=function(i,e,t,n,r,o){var s=o.z||i.length,a=new bo(n+s+5*(1+Math.ceil(s/7e3))+r),l=a.subarray(n,a.length-r),c=o.l,u=(o.r||0)&7;if(e){u&&(l[0]=o.r>>3);for(var h=Vde[e-1],d=h>>13,p=h&8191,g=(1<<t)-1,v=o.p||new Uc(32768),_=o.h||new Uc(g+1),b=Math.ceil(t/3),x=2*b,C=function(H){return(i[H]^i[H+1]<<b^i[H+2]<<x)&g},S=new lN(25e3),E=new Uc(288),I=new Uc(32),M=0,k=0,F=o.i||0,P=0,Q=o.w||0,N=0;F+2<s;++F){var W=C(F),q=F&32767,J=_[W];if(v[q]=J,_[W]=q,Q<=F){var V=s-F;if((M>7e3||P>24576)&&(V>423||!c)){u=$z(i,l,0,S,E,I,k,P,N,F-N,u),P=M=k=0,N=F;for(var Y=0;Y<286;++Y)E[Y]=0;for(var Y=0;Y<30;++Y)I[Y]=0}var Z=2,ue=0,$=p,ee=q-J&32767;if(V>2&&W==C(F-ee))for(var oe=Math.min(d,V)-1,ge=Math.min(32767,F),se=Math.min(258,V);ee<=ge&&--$&&q!=J;){if(i[F+Z]==i[F+Z-ee]){for(var Ae=0;Ae<se&&i[F+Ae]==i[F+Ae-ee];++Ae);if(Ae>Z){if(Z=Ae,ue=ee,Ae>oe)break;for(var we=Math.min(ee,Ae-2),xe=0,Y=0;Y<we;++Y){var Be=F-ee+Y&32767,Re=v[Be],ke=Be-Re&32767;ke>xe&&(xe=ke,J=Be)}}}q=J,J=v[q],ee+=q-J&32767}if(ue){S[P++]=268435456|FL[Z]<<18|jz[ue];var Pe=FL[Z]&31,ve=jz[ue]&31;k+=hk[Pe]+Ak[ve],++E[257+Pe],++I[ve],Q=F+Z,++M}else S[P++]=i[F],++E[i[F]]}}for(F=Math.max(F,Q);F<s;++F)S[P++]=i[F],++E[i[F]];u=$z(i,l,c,S,E,I,k,P,N,F-N,u),c||(o.r=u&7|l[u/8|0]<<3,u-=7,o.h=_,o.p=v,o.i=F,o.w=Q)}else{for(var F=o.w||0;F<s+c;F+=65535){var te=F+65535;te>=s&&(l[u/8|0]=c,te=s),u=DY(l,u+1,i.subarray(F,te))}o.i=s}return uN(a,0,n+cN(u)+r)},Wde=function(){for(var i=new Int32Array(256),e=0;e<256;++e){for(var t=e,n=9;--n;)t=(t&1&&-306674912)^t>>>1;i[e]=t}return i}(),jde=function(){var i=-1;return{p:function(e){for(var t=i,n=0;n<e.length;++n)t=Wde[t&255^e[n]]^t>>>8;i=t},d:function(){return~i}}},Kde=function(i,e,t,n,r){if(!r&&(r={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new bo(o.length+i.length);s.set(o),s.set(i,o.length),i=s,r.w=o.length}return qde(i,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+e.mem,t,n,r)},PY=function(i,e){var t={};for(var n in i)t[n]=i[n];for(var n in e)t[n]=e[n];return t},Js=function(i,e,t){for(;t;++e)i[e]=t,t>>>=8},$de=function(i,e){return((i[0]&15)!=8||i[0]>>4>7||(i[0]<<8|i[1])%31)&&Jl(6,"invalid zlib data"),(i[1]>>5&1)==1&&Jl(6,"invalid zlib data: "+(i[1]&32?"need":"unexpected")+" dictionary"),(i[1]>>3&4)+2};function Xde(i,e){return Kde(i,e||{},0,0)}function Yde(i,e){return Gde(i.subarray($de(i),-4),{i:2},e,e)}var LY=function(i,e,t,n){for(var r in i){var o=i[r],s=e+r,a=n;Array.isArray(o)&&(a=PY(n,o[1]),o=o[0]),o instanceof bo?t[s]=[o,a]:(t[s+="/"]=[new bo(0),a],LY(o,s,t,n))}},Xz=typeof TextEncoder<"u"&&new TextEncoder,Zde=typeof TextDecoder<"u"&&new TextDecoder,Jde=0;try{Zde.decode(UY,{stream:!0}),Jde=1}catch{}function f5(i,e){var t;if(Xz)return Xz.encode(i);for(var n=i.length,r=new bo(i.length+(i.length>>1)),o=0,s=function(c){r[o++]=c},t=0;t<n;++t){if(o+5>r.length){var a=new bo(o+8+(n-t<<1));a.set(r),r=a}var l=i.charCodeAt(t);l<128||e?s(l):l<2048?(s(192|l>>6),s(128|l&63)):l>55295&&l<57344?(l=65536+(l&1047552)|i.charCodeAt(++t)&1023,s(240|l>>18),s(128|l>>12&63),s(128|l>>6&63),s(128|l&63)):(s(224|l>>12),s(128|l>>6&63),s(128|l&63))}return uN(r,0,o)}var PL=function(i){var e=0;if(i)for(var t in i){var n=i[t].length;n>65535&&Jl(9),e+=n+4}return e},Yz=function(i,e,t,n,r,o,s,a){var l=n.length,c=t.extra,u=a&&a.length,h=PL(c);Js(i,e,s!=null?33639248:67324752),e+=4,s!=null&&(i[e++]=20,i[e++]=t.os),i[e]=20,e+=2,i[e++]=t.flag<<1|(o<0&&8),i[e++]=r&&8,i[e++]=t.compression&255,i[e++]=t.compression>>8;var d=new Date(t.mtime==null?Date.now():t.mtime),p=d.getFullYear()-1980;if((p<0||p>119)&&Jl(10),Js(i,e,p<<25|d.getMonth()+1<<21|d.getDate()<<16|d.getHours()<<11|d.getMinutes()<<5|d.getSeconds()>>1),e+=4,o!=-1&&(Js(i,e,t.crc),Js(i,e+4,o<0?-o-2:o),Js(i,e+8,t.size)),Js(i,e+12,l),Js(i,e+14,h),e+=16,s!=null&&(Js(i,e,u),Js(i,e+6,t.attrs),Js(i,e+10,s),e+=14),i.set(n,e),e+=l,h)for(var g in c){var v=c[g],_=v.length;Js(i,e,+g),Js(i,e+2,_),i.set(v,e+4),e+=4+_}return u&&(i.set(a,e),e+=u),e},epe=function(i,e,t,n,r){Js(i,e,101010256),Js(i,e+8,t),Js(i,e+10,t),Js(i,e+12,n),Js(i,e+16,r)};function tpe(i,e){e||(e={});var t={},n=[];LY(i,"",t,e);var r=0,o=0;for(var s in t){var a=t[s],l=a[0],c=a[1],u=c.level==0?0:8,h=f5(s),d=h.length,p=c.comment,g=p&&f5(p),v=g&&g.length,_=PL(c.extra);d>65535&&Jl(11);var b=u?Xde(l,c):l,x=b.length,C=jde();C.p(l),n.push(PY(c,{size:l.length,crc:C.d(),c:b,f:h,m:g,u:d!=s.length||g&&p.length!=v,o:r,compression:u})),r+=30+d+_+x,o+=76+2*(d+_)+(v||0)+x}for(var S=new bo(o+22),E=r,I=o-r,M=0;M<n.length;++M){var h=n[M];Yz(S,h.o,h,h.f,h.u,h.c.length);var k=30+h.f.length+PL(h.extra);S.set(h.c,h.o+k),Yz(S,r,h,h.f,h.u,h.c.length,h.o,h.m),r+=16+k+(h.m?h.m.length:0)}return epe(S,r,n.length,I,E),S}function OY(i,e,t){const n=t.length-i-1;if(e>=t[n])return n-1;if(e<=t[i])return i;let r=i,o=n,s=Math.floor((r+o)/2);for(;e<t[s]||e>=t[s+1];)e<t[s]?o=s:r=s,s=Math.floor((r+o)/2);return s}function ipe(i,e,t,n){const r=[],o=[],s=[];r[0]=1;for(let a=1;a<=t;++a){o[a]=e-n[i+1-a],s[a]=n[i+a]-e;let l=0;for(let c=0;c<a;++c){const u=s[c+1],h=o[a-c],d=r[c]/(u+h);r[c]=l+u*d,l=h*d}r[a]=l}return r}function npe(i,e,t,n){const r=OY(i,n,e),o=ipe(r,n,i,e),s=new Wi(0,0,0,0);for(let a=0;a<=i;++a){const l=t[r-i+a],c=o[a],u=l.w*c;s.x+=l.x*u,s.y+=l.y*u,s.z+=l.z*u,s.w+=l.w*c}return s}function rpe(i,e,t,n,r){const o=[];for(let h=0;h<=t;++h)o[h]=0;const s=[];for(let h=0;h<=n;++h)s[h]=o.slice(0);const a=[];for(let h=0;h<=t;++h)a[h]=o.slice(0);a[0][0]=1;const l=o.slice(0),c=o.slice(0);for(let h=1;h<=t;++h){l[h]=e-r[i+1-h],c[h]=r[i+h]-e;let d=0;for(let p=0;p<h;++p){const g=c[p+1],v=l[h-p];a[h][p]=g+v;const _=a[p][h-1]/a[h][p];a[p][h]=d+g*_,d=v*_}a[h][h]=d}for(let h=0;h<=t;++h)s[0][h]=a[h][t];for(let h=0;h<=t;++h){let d=0,p=1;const g=[];for(let v=0;v<=t;++v)g[v]=o.slice(0);g[0][0]=1;for(let v=1;v<=n;++v){let _=0;const b=h-v,x=t-v;h>=v&&(g[p][0]=g[d][0]/a[x+1][b],_=g[p][0]*a[b][x]);const C=b>=-1?1:-b,S=h-1<=x?v-1:t-h;for(let I=C;I<=S;++I)g[p][I]=(g[d][I]-g[d][I-1])/a[x+1][b+I],_+=g[p][I]*a[b+I][x];h<=x&&(g[p][v]=-g[d][v-1]/a[x+1][h],_+=g[p][v]*a[h][x]),s[v][h]=_;const E=d;d=p,p=E}}let u=t;for(let h=1;h<=n;++h){for(let d=0;d<=t;++d)s[h][d]*=u;u*=t-h}return s}function ope(i,e,t,n,r){const o=r<i?r:i,s=[],a=OY(i,n,e),l=rpe(a,n,i,o,e),c=[];for(let u=0;u<t.length;++u){const h=t[u].clone(),d=h.w;h.x*=d,h.y*=d,h.z*=d,c[u]=h}for(let u=0;u<=o;++u){const h=c[a-i].clone().multiplyScalar(l[u][0]);for(let d=1;d<=i;++d)h.add(c[a-i+d].clone().multiplyScalar(l[u][d]));s[u]=h}for(let u=o+1;u<=r+1;++u)s[u]=new Wi(0,0,0);return s}function spe(i,e){let t=1;for(let r=2;r<=i;++r)t*=r;let n=1;for(let r=2;r<=e;++r)n*=r;for(let r=2;r<=i-e;++r)n*=r;return t/n}function ape(i){const e=i.length,t=[],n=[];for(let o=0;o<e;++o){const s=i[o];t[o]=new he(s.x,s.y,s.z),n[o]=s.w}const r=[];for(let o=0;o<e;++o){const s=t[o].clone();for(let a=1;a<=o;++a)s.sub(r[o-a].clone().multiplyScalar(spe(o,a)*n[a]));r[o]=s.divideScalar(n[0])}return r}function lpe(i,e,t,n,r){const o=ope(i,e,t,n,r);return ape(o)}class cpe extends Hu{constructor(e,t,n,r,o){super();const s=t?t.length-1:0,a=n?n.length:0;this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=r||0,this.endKnot=o||s;for(let l=0;l<a;++l){const c=n[l];this.controlPoints[l]=new Wi(c.x,c.y,c.z,c.w)}}getPoint(e,t=new he){const n=t,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),o=npe(this.degree,this.knots,this.controlPoints,r);return o.w!==1&&o.divideScalar(o.w),n.set(o.x,o.y,o.z)}getTangent(e,t=new he){const n=t,r=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),o=lpe(this.degree,this.knots,this.controlPoints,r,1);return n.copy(o[1]).normalize(),n}toJSON(){const e=super.toJSON();return e.degree=this.degree,e.knots=[...this.knots],e.controlPoints=this.controlPoints.map(t=>t.toArray()),e.startKnot=this.startKnot,e.endKnot=this.endKnot,e}fromJSON(e){return super.fromJSON(e),this.degree=e.degree,this.knots=[...e.knots],this.controlPoints=e.controlPoints.map(t=>new Wi(t[0],t[1],t[2],t[3])),this.startKnot=e.startKnot,this.endKnot=e.endKnot,this}}let Ki,_o,pl;class upe extends Cr{constructor(e){super(e)}load(e,t,n,r){const o=this,s=o.path===""?wp.extractUrlBase(e):o.path,a=new ro(this.manager);a.setPath(o.path),a.setResponseType("arraybuffer"),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(l){try{t(o.parse(l,s))}catch(c){r?r(c):console.error(c),o.manager.itemError(e)}},n,r)}parse(e,t){if(gpe(e))Ki=new fpe().parse(e);else{const r=HY(e);if(!mpe(r))throw new Error("THREE.FBXLoader: Unknown format.");if(Jz(r)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+Jz(r));Ki=new ppe().parse(r)}const n=new sk(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new hpe(n,this.manager).parse(Ki)}}class hpe{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){_o=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),n=this.parseMaterials(t),r=this.parseDeformers(),o=new Ape().parse(r);return this.parseScene(r,o,n),pl}parseConnections(){const e=new Map;return"Connections"in Ki&&Ki.Connections.connections.forEach(function(n){const r=n[0],o=n[1],s=n[2];e.has(r)||e.set(r,{parents:[],children:[]});const a={ID:o,relationship:s};e.get(r).parents.push(a),e.has(o)||e.set(o,{parents:[],children:[]});const l={ID:r,relationship:s};e.get(o).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in Ki.Objects){const n=Ki.Objects.Video;for(const r in n){const o=n[r],s=parseInt(r);if(e[s]=o.RelativeFilename||o.Filename,"Content"in o){const a=o.Content instanceof ArrayBuffer&&o.Content.byteLength>0,l=typeof o.Content=="string"&&o.Content!=="";if(a||l){const c=this.parseImage(n[r]);t[o.RelativeFilename||o.Filename]=c}}}}for(const n in e){const r=e[n];t[r]!==void 0?e[n]=t[r]:e[n]=e[n].split("\\").pop()}return e}parseImage(e){const t=e.Content,n=e.RelativeFilename||e.Filename,r=n.slice(n.lastIndexOf(".")+1).toLowerCase();let o;switch(r){case"bmp":o="image/bmp";break;case"jpg":case"jpeg":o="image/jpeg";break;case"png":o="image/png";break;case"tif":o="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",n),o="image/tga";break;default:console.warn('FBXLoader: Image type "'+r+'" is not supported.');return}if(typeof t=="string")return"data:"+o+";base64,"+t;{const s=new Uint8Array(t);return window.URL.createObjectURL(new Blob([s],{type:o}))}}parseTextures(e){const t=new Map;if("Texture"in Ki.Objects){const n=Ki.Objects.Texture;for(const r in n){const o=this.parseTexture(n[r],e);t.set(parseInt(r),o)}}return t}parseTexture(e,t){const n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;const r=e.WrapModeU,o=e.WrapModeV,s=r!==void 0?r.value:0,a=o!==void 0?o.value:0;if(n.wrapS=s===0?Tl:dr,n.wrapT=a===0?Tl:dr,"Scaling"in e){const l=e.Scaling.value;n.repeat.x=l[0],n.repeat.y=l[1]}if("Translation"in e){const l=e.Translation.value;n.offset.x=l[0],n.offset.y=l[1]}return n}loadTexture(e,t){const n=new Set(["tga","tif","tiff","exr","dds","hdr","ktx2"]),r=e.FileName.split(".").pop().toLowerCase(),o=n.has(r)?this.manager.getHandler(`.${r}`):this.textureLoader;if(!o)return console.warn(`FBXLoader: ${r.toUpperCase()} loader not found, creating placeholder texture for`,e.RelativeFilename),new Rn;const s=o.path;s||o.setPath(this.textureLoader.path);const a=_o.get(e.id).children;let l;a!==void 0&&a.length>0&&t[a[0].ID]!==void 0&&(l=t[a[0].ID],(l.indexOf("blob:")===0||l.indexOf("data:")===0)&&o.setPath(void 0));const c=o.load(l);return o.setPath(s),c}parseMaterials(e){const t=new Map;if("Material"in Ki.Objects){const n=Ki.Objects.Material;for(const r in n){const o=this.parseMaterial(n[r],e);o!==null&&t.set(parseInt(r),o)}}return t}parseMaterial(e,t){const n=e.id,r=e.attrName;let o=e.ShadingModel;if(typeof o=="object"&&(o=o.value),!_o.has(n))return null;const s=this.parseParameters(e,t,n);let a;switch(o.toLowerCase()){case"phong":a=new Cy;break;case"lambert":a=new WQ;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',o),a=new Cy;break}return a.setValues(s),a.name=r,a}parseParameters(e,t,n){const r={};e.BumpFactor&&(r.bumpScale=e.BumpFactor.value),e.Diffuse?r.color=_i.toWorkingColorSpace(new ut().fromArray(e.Diffuse.value),fi):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(r.color=_i.toWorkingColorSpace(new ut().fromArray(e.DiffuseColor.value),fi)),e.DisplacementFactor&&(r.displacementScale=e.DisplacementFactor.value),e.Emissive?r.emissive=_i.toWorkingColorSpace(new ut().fromArray(e.Emissive.value),fi):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(r.emissive=_i.toWorkingColorSpace(new ut().fromArray(e.EmissiveColor.value),fi)),e.EmissiveFactor&&(r.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),r.opacity=1-(e.TransparencyFactor?parseFloat(e.TransparencyFactor.value):0),(r.opacity===1||r.opacity===0)&&(r.opacity=e.Opacity?parseFloat(e.Opacity.value):null,r.opacity===null&&(r.opacity=1-(e.TransparentColor?parseFloat(e.TransparentColor.value[0]):0))),r.opacity<1&&(r.transparent=!0),e.ReflectionFactor&&(r.reflectivity=e.ReflectionFactor.value),e.Shininess&&(r.shininess=e.Shininess.value),e.Specular?r.specular=_i.toWorkingColorSpace(new ut().fromArray(e.Specular.value),fi):e.SpecularColor&&e.SpecularColor.type==="Color"&&(r.specular=_i.toWorkingColorSpace(new ut().fromArray(e.SpecularColor.value),fi));const o=this;return _o.get(n).children.forEach(function(s){const a=s.relationship;switch(a){case"Bump":r.bumpMap=o.getTexture(t,s.ID);break;case"Maya|TEX_ao_map":r.aoMap=o.getTexture(t,s.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":r.map=o.getTexture(t,s.ID),r.map!==void 0&&(r.map.colorSpace=fi);break;case"DisplacementColor":r.displacementMap=o.getTexture(t,s.ID);break;case"EmissiveColor":r.emissiveMap=o.getTexture(t,s.ID),r.emissiveMap!==void 0&&(r.emissiveMap.colorSpace=fi);break;case"NormalMap":case"Maya|TEX_normal_map":r.normalMap=o.getTexture(t,s.ID);break;case"ReflectionColor":r.envMap=o.getTexture(t,s.ID),r.envMap!==void 0&&(r.envMap.mapping=av,r.envMap.colorSpace=fi);break;case"SpecularColor":r.specularMap=o.getTexture(t,s.ID),r.specularMap!==void 0&&(r.specularMap.colorSpace=fi);break;case"TransparentColor":case"TransparencyFactor":r.alphaMap=o.getTexture(t,s.ID),r.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),r}getTexture(e,t){return"LayeredTexture"in Ki.Objects&&t in Ki.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=_o.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in Ki.Objects){const n=Ki.Objects.Deformer;for(const r in n){const o=n[r],s=_o.get(parseInt(r));if(o.attrType==="Skin"){const a=this.parseSkeleton(s,n);a.ID=r,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=s.parents[0].ID,e[r]=a}else if(o.attrType==="BlendShape"){const a={id:r};a.rawTargets=this.parseMorphTargets(s,n),a.id=r,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[r]=a}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const n=[];return e.children.forEach(function(r){const o=t[r.ID];if(o.attrType!=="Cluster")return;const s={ID:r.ID,indices:[],weights:[],transformLink:new St().fromArray(o.TransformLink.a)};"Indexes"in o&&(s.indices=o.Indexes.a,s.weights=o.Weights.a),n.push(s)}),{rawBones:n,bones:[]}}parseMorphTargets(e,t){const n=[];for(let r=0;r<e.children.length;r++){const o=e.children[r],s=t[o.ID],a={name:s.attrName,initialWeight:s.DeformPercent,id:s.id,fullWeights:s.FullWeights.a};if(s.attrType!=="BlendShapeChannel")return;a.geoID=_o.get(parseInt(o.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,n.push(a)}return n}parseScene(e,t,n){pl=new Dc;const r=this.parseModels(e.skeletons,t,n),o=Ki.Objects.Model,s=this;r.forEach(function(l){const c=o[l.ID];s.setLookAtProperties(l,c),_o.get(l.ID).parents.forEach(function(h){const d=r.get(h.ID);d!==void 0&&d.add(l)}),l.parent===null&&pl.add(l)}),this.bindSkeleton(e.skeletons,t,r),this.addGlobalSceneSettings(),pl.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=NY(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const a=new dpe().parse();pl.children.length===1&&pl.children[0].isGroup&&(pl.children[0].animations=a,pl=pl.children[0]),pl.animations=a}parseModels(e,t,n){const r=new Map,o=Ki.Objects.Model;for(const s in o){const a=parseInt(s),l=o[s],c=_o.get(a);let u=this.buildSkeleton(c,e,a,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,t,n);break;case"NurbsCurve":u=this.createCurve(c,t);break;case"LimbNode":case"Root":u=new Qy;break;case"Null":default:u=new Dc;break}u.name=l.attrName?ki.sanitizeNodeName(l.attrName):"",u.userData.originalName=l.attrName,u.ID=a}this.getTransformData(u,l),r.set(a,u)}return r}buildSkeleton(e,t,n,r){let o=null;return e.parents.forEach(function(s){for(const a in t){const l=t[a];l.rawBones.forEach(function(c,u){if(c.ID===s.ID){const h=o;o=new Qy,o.matrixWorld.copy(c.transformLink),o.name=r?ki.sanitizeNodeName(r):"",o.userData.originalName=r,o.ID=n,l.bones[u]=o,h!==null&&o.add(h)}})}}),o}createCamera(e){let t,n;if(e.children.forEach(function(r){const o=Ki.Objects.NodeAttribute[r.ID];o!==void 0&&(n=o)}),n===void 0)t=new Si;else{let r=0;n.CameraProjectionType!==void 0&&n.CameraProjectionType.value===1&&(r=1);let o=1;n.NearPlane!==void 0&&(o=n.NearPlane.value/1e3);let s=1e3;n.FarPlane!==void 0&&(s=n.FarPlane.value/1e3);let a=window.innerWidth,l=window.innerHeight;n.AspectWidth!==void 0&&n.AspectHeight!==void 0&&(a=n.AspectWidth.value,l=n.AspectHeight.value);const c=a/l;let u=45;n.FieldOfView!==void 0&&(u=n.FieldOfView.value);const h=n.FocalLength?n.FocalLength.value:null;switch(r){case 0:t=new Kn(u,c,o,s),h!==null&&t.setFocalLength(h);break;case 1:console.warn("THREE.FBXLoader: Orthographic cameras not supported yet."),t=new Si;break;default:console.warn("THREE.FBXLoader: Unknown camera type "+r+"."),t=new Si;break}}return t}createLight(e){let t,n;if(e.children.forEach(function(r){const o=Ki.Objects.NodeAttribute[r.ID];o!==void 0&&(n=o)}),n===void 0)t=new Si;else{let r;n.LightType===void 0?r=0:r=n.LightType.value;let o=16777215;n.Color!==void 0&&(o=_i.toWorkingColorSpace(new ut().fromArray(n.Color.value),fi));let s=n.Intensity===void 0?1:n.Intensity.value/100;n.CastLightOnObject!==void 0&&n.CastLightOnObject.value===0&&(s=0);let a=0;n.FarAttenuationEnd!==void 0&&(n.EnableFarAttenuation!==void 0&&n.EnableFarAttenuation.value===0?a=0:a=n.FarAttenuationEnd.value);const l=1;switch(r){case 0:t=new Ny(o,s,a,l);break;case 1:t=new vS(o,s);break;case 2:let c=Math.PI/3;n.InnerAngle!==void 0&&(c=Uo.degToRad(n.InnerAngle.value));let u=0;n.OuterAngle!==void 0&&(u=Uo.degToRad(n.OuterAngle.value),u=Math.max(u,1)),t=new ak(o,s,a,c,u,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+n.LightType.value+", defaulting to a PointLight."),t=new Ny(o,s);break}n.CastShadows!==void 0&&n.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,n){let r,o=null,s=null;const a=[];return e.children.forEach(function(l){t.has(l.ID)&&(o=t.get(l.ID)),n.has(l.ID)&&a.push(n.get(l.ID))}),a.length>1?s=a:a.length>0?s=a[0]:(s=new Cy({name:Cr.DEFAULT_MATERIAL_NAME,color:13421772}),a.push(s)),"color"in o.attributes&&a.forEach(function(l){l.vertexColors=!0}),o.FBX_Deformer?(r=new GR(o,s),r.normalizeSkinWeights()):r=new Fi(o,s),r}createCurve(e,t){const n=e.children.reduce(function(o,s){return t.has(s.ID)&&(o=t.get(s.ID)),o},null),r=new Qo({name:Cr.DEFAULT_MATERIAL_NAME,color:3342591,linewidth:1});return new Ou(n,r)}getTransformData(e,t){const n={};"InheritType"in t&&(n.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?n.eulerOrder=TB(t.RotationOrder.value):n.eulerOrder=TB(0),"Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(n.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(n.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(n.rotationPivot=t.RotationPivot.value),e.userData.transformData=n}setLookAtProperties(e,t){"LookAtProperty"in t&&_o.get(e.ID).children.forEach(function(r){if(r.relationship==="LookAtProperty"){const o=Ki.Objects.Model[r.ID];if("Lcl_Translation"in o){const s=o.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(s),pl.add(e.target)):e.lookAt(new he().fromArray(s))}}})}bindSkeleton(e,t,n){const r=this.parsePoseNodes();for(const o in e){const s=e[o];_o.get(parseInt(s.ID)).parents.forEach(function(l){if(t.has(l.ID)){const c=l.ID;_o.get(c).parents.forEach(function(h){n.has(h.ID)&&n.get(h.ID).bind(new pw(s.bones),r[h.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in Ki.Objects){const t=Ki.Objects.Pose;for(const n in t)if(t[n].attrType==="BindPose"&&t[n].NbPoseNodes>0){const r=t[n].PoseNode;Array.isArray(r)?r.forEach(function(o){e[o.Node]=new St().fromArray(o.Matrix.a)}):e[r.Node]=new St().fromArray(r.Matrix.a)}}return e}addGlobalSceneSettings(){if("GlobalSettings"in Ki){if("AmbientColor"in Ki.GlobalSettings){const e=Ki.GlobalSettings.AmbientColor.value,t=e[0],n=e[1],r=e[2];if(t!==0||n!==0||r!==0){const o=new ut().setRGB(t,n,r,fi);pl.add(new YQ(o,1))}}"UnitScaleFactor"in Ki.GlobalSettings&&(pl.userData.unitScaleFactor=Ki.GlobalSettings.UnitScaleFactor.value)}}}class Ape{constructor(){this.negativeMaterialIndices=!1}parse(e){const t=new Map;if("Geometry"in Ki.Objects){const n=Ki.Objects.Geometry;for(const r in n){const o=_o.get(parseInt(r)),s=this.parseGeometry(o,n[r],e);t.set(parseInt(r),s)}}return this.negativeMaterialIndices===!0&&console.warn("THREE.FBXLoader: The FBX file contains invalid (negative) material indices. The asset might not render as expected."),t}parseGeometry(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,n){const r=n.skeletons,o=[],s=e.parents.map(function(h){return Ki.Objects.Model[h.ID]});if(s.length===0)return;const a=e.children.reduce(function(h,d){return r[d.ID]!==void 0&&(h=r[d.ID]),h},null);e.children.forEach(function(h){n.morphTargets[h.ID]!==void 0&&o.push(n.morphTargets[h.ID])});const l=s[0],c={};"RotationOrder"in l&&(c.eulerOrder=TB(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const u=NY(c);return this.genGeometry(t,a,o,u)}genGeometry(e,t,n,r){const o=new Kt;e.attrName&&(o.name=e.attrName);const s=this.parseGeoNode(e,t),a=this.genBuffers(s),l=new vt(a.vertex,3);if(l.applyMatrix4(r),o.setAttribute("position",l),a.colors.length>0&&o.setAttribute("color",new vt(a.colors,3)),t&&(o.setAttribute("skinIndex",new OR(a.weightsIndices,4)),o.setAttribute("skinWeight",new vt(a.vertexWeights,4)),o.FBX_Deformer=t),a.normal.length>0){const c=new pi().getNormalMatrix(r),u=new vt(a.normal,3);u.applyNormalMatrix(c),o.setAttribute("normal",u)}if(a.uvs.forEach(function(c,u){const h=u===0?"uv":`uv${u}`;o.setAttribute(h,new vt(a.uvs[u],2))}),s.material&&s.material.mappingType!=="AllSame"){let c=a.materialIndex[0],u=0;if(a.materialIndex.forEach(function(h,d){h!==c&&(o.addGroup(u,d-u,c),c=h,u=d)}),o.groups.length>0){const h=o.groups[o.groups.length-1],d=h.start+h.count;d!==a.materialIndex.length&&o.addGroup(d,a.materialIndex.length-d,c)}o.groups.length===0&&o.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(o,e,n,r),o}parseGeoNode(e,t){const n={};if(n.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],n.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];let r=0;for(;e.LayerElementUV[r];)e.LayerElementUV[r].UV&&n.uv.push(this.parseUVs(e.LayerElementUV[r])),r++}return n.weightTable={},t!==null&&(n.skeleton=t,t.rawBones.forEach(function(r,o){r.indices.forEach(function(s,a){n.weightTable[s]===void 0&&(n.weightTable[s]=[]),n.weightTable[s].push({id:o,weight:r.weights[a]})})})),n}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let n=0,r=0,o=!1,s=[],a=[],l=[],c=[],u=[],h=[];const d=this;return e.vertexIndices.forEach(function(p,g){let v,_=!1;p<0&&(p=p^-1,_=!0);let b=[],x=[];if(s.push(p*3,p*3+1,p*3+2),e.color){const C=VT(g,n,p,e.color);l.push(C[0],C[1],C[2])}if(e.skeleton){if(e.weightTable[p]!==void 0&&e.weightTable[p].forEach(function(C){x.push(C.weight),b.push(C.id)}),x.length>4){o||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),o=!0);const C=[0,0,0,0],S=[0,0,0,0];x.forEach(function(E,I){let M=E,k=b[I];S.forEach(function(F,P,Q){if(M>F){Q[P]=M,M=F;const N=C[P];C[P]=k,k=N}})}),b=C,x=S}for(;x.length<4;)x.push(0),b.push(0);for(let C=0;C<4;++C)u.push(x[C]),h.push(b[C])}if(e.normal){const C=VT(g,n,p,e.normal);a.push(C[0],C[1],C[2])}e.material&&e.material.mappingType!=="AllSame"&&(v=VT(g,n,p,e.material)[0],v<0&&(d.negativeMaterialIndices=!0,v=0)),e.uv&&e.uv.forEach(function(C,S){const E=VT(g,n,p,C);c[S]===void 0&&(c[S]=[]),c[S].push(E[0]),c[S].push(E[1])}),r++,_&&(d.genFace(t,e,s,v,a,l,c,u,h,r),n++,r=0,s=[],a=[],l=[],c=[],u=[],h=[])}),t}getNormalNewell(e){const t=new he(0,0,0);for(let n=0;n<e.length;n++){const r=e[n],o=e[(n+1)%e.length];t.x+=(r.y-o.y)*(r.z+o.z),t.y+=(r.z-o.z)*(r.x+o.x),t.z+=(r.x-o.x)*(r.y+o.y)}return t.normalize(),t}getNormalTangentAndBitangent(e){const t=this.getNormalNewell(e),r=(Math.abs(t.z)>.5?new he(0,1,0):new he(0,0,1)).cross(t).normalize(),o=t.clone().cross(r).normalize();return{normal:t,tangent:r,bitangent:o}}flattenVertex(e,t,n){return new et(e.dot(t),e.dot(n))}genFace(e,t,n,r,o,s,a,l,c,u){let h;if(u>3){const d=[],p=t.baseVertexPositions||t.vertexPositions;for(let b=0;b<n.length;b+=3)d.push(new he(p[n[b]],p[n[b+1]],p[n[b+2]]));const{tangent:g,bitangent:v}=this.getNormalTangentAndBitangent(d),_=[];for(const b of d)_.push(this.flattenVertex(b,g,v));h=Lh.triangulateShape(_,[])}else h=[[0,1,2]];for(const[d,p,g]of h)e.vertex.push(t.vertexPositions[n[d*3]]),e.vertex.push(t.vertexPositions[n[d*3+1]]),e.vertex.push(t.vertexPositions[n[d*3+2]]),e.vertex.push(t.vertexPositions[n[p*3]]),e.vertex.push(t.vertexPositions[n[p*3+1]]),e.vertex.push(t.vertexPositions[n[p*3+2]]),e.vertex.push(t.vertexPositions[n[g*3]]),e.vertex.push(t.vertexPositions[n[g*3+1]]),e.vertex.push(t.vertexPositions[n[g*3+2]]),t.skeleton&&(e.vertexWeights.push(l[d*4]),e.vertexWeights.push(l[d*4+1]),e.vertexWeights.push(l[d*4+2]),e.vertexWeights.push(l[d*4+3]),e.vertexWeights.push(l[p*4]),e.vertexWeights.push(l[p*4+1]),e.vertexWeights.push(l[p*4+2]),e.vertexWeights.push(l[p*4+3]),e.vertexWeights.push(l[g*4]),e.vertexWeights.push(l[g*4+1]),e.vertexWeights.push(l[g*4+2]),e.vertexWeights.push(l[g*4+3]),e.weightsIndices.push(c[d*4]),e.weightsIndices.push(c[d*4+1]),e.weightsIndices.push(c[d*4+2]),e.weightsIndices.push(c[d*4+3]),e.weightsIndices.push(c[p*4]),e.weightsIndices.push(c[p*4+1]),e.weightsIndices.push(c[p*4+2]),e.weightsIndices.push(c[p*4+3]),e.weightsIndices.push(c[g*4]),e.weightsIndices.push(c[g*4+1]),e.weightsIndices.push(c[g*4+2]),e.weightsIndices.push(c[g*4+3])),t.color&&(e.colors.push(s[d*3]),e.colors.push(s[d*3+1]),e.colors.push(s[d*3+2]),e.colors.push(s[p*3]),e.colors.push(s[p*3+1]),e.colors.push(s[p*3+2]),e.colors.push(s[g*3]),e.colors.push(s[g*3+1]),e.colors.push(s[g*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(o[d*3]),e.normal.push(o[d*3+1]),e.normal.push(o[d*3+2]),e.normal.push(o[p*3]),e.normal.push(o[p*3+1]),e.normal.push(o[p*3+2]),e.normal.push(o[g*3]),e.normal.push(o[g*3+1]),e.normal.push(o[g*3+2])),t.uv&&t.uv.forEach(function(v,_){e.uvs[_]===void 0&&(e.uvs[_]=[]),e.uvs[_].push(a[_][d*2]),e.uvs[_].push(a[_][d*2+1]),e.uvs[_].push(a[_][p*2]),e.uvs[_].push(a[_][p*2+1]),e.uvs[_].push(a[_][g*2]),e.uvs[_].push(a[_][g*2+1])})}addMorphTargets(e,t,n,r){if(n.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const o=this;n.forEach(function(s){s.rawTargets.forEach(function(a){const l=Ki.Objects.Geometry[a.geoID];l!==void 0&&o.genMorphGeometry(e,t,l,r,a.name)})})}genMorphGeometry(e,t,n,r,o){const s=t.Vertices!==void 0?t.Vertices.a:[],a=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],l=n.Vertices!==void 0?n.Vertices.a:[],c=n.Indexes!==void 0?n.Indexes.a:[],u=e.attributes.position.count*3,h=new Float32Array(u);for(let v=0;v<c.length;v++){const _=c[v]*3;h[_]=l[v*3],h[_+1]=l[v*3+1],h[_+2]=l[v*3+2]}const d={vertexIndices:a,vertexPositions:h,baseVertexPositions:s},p=this.genBuffers(d),g=new vt(p.vertex,3);g.name=o||n.attrName,g.applyMatrix4(r),e.morphAttributes.position.push(g)}parseNormals(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Normals.a;let o=[];return n==="IndexToDirect"&&("NormalIndex"in e?o=e.NormalIndex.a:"NormalsIndex"in e&&(o=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:o,mappingType:t,referenceType:n}}parseUVs(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.UV.a;let o=[];return n==="IndexToDirect"&&(o=e.UVIndex.a),{dataSize:2,buffer:r,indices:o,mappingType:t,referenceType:n}}parseVertexColors(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Colors.a;let o=[];n==="IndexToDirect"&&(o=e.ColorIndex.a);for(let s=0,a=new ut;s<r.length;s+=4)a.fromArray(r,s),_i.toWorkingColorSpace(a,fi),a.toArray(r,s);return{dataSize:4,buffer:r,indices:o,mappingType:t,referenceType:n}}parseMaterialIndices(e){const t=e.MappingInformationType,n=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};const r=e.Materials.a,o=[];for(let s=0;s<r.length;++s)o.push(s);return{dataSize:1,buffer:r,indices:o,mappingType:t,referenceType:n}}parseNurbsGeometry(e){const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new Kt;const n=t-1,r=e.KnotVector.a,o=[],s=e.Points.a;for(let h=0,d=s.length;h<d;h+=4)o.push(new Wi().fromArray(s,h));let a,l;if(e.Form==="Closed")o.push(o[0]);else if(e.Form==="Periodic"){a=n,l=r.length-1-a;for(let h=0;h<n;++h)o.push(o[h])}const u=new cpe(n,r,o,a,l).getPoints(o.length*12);return new Kt().setFromPoints(u)}}class dpe{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const n in t){const r=t[n],o=this.addClip(r);e.push(o)}return e}parseClips(){if(Ki.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=Ki.Objects.AnimationCurveNode,t=new Map;for(const n in e){const r=e[n];if(r.attrName.match(/S|R|T|DeformPercent/)!==null){const o={id:r.id,attr:r.attrName,curves:{}};t.set(o.id,o)}}return t}parseAnimationCurves(e){const t=Ki.Objects.AnimationCurve;for(const n in t){const r={id:t[n].id,times:t[n].KeyTime.a.map(_pe),values:t[n].KeyValueFloat.a},o=_o.get(r.id);if(o!==void 0){const s=o.parents[0].ID,a=o.parents[0].relationship;a.match(/X/)?e.get(s).curves.x=r:a.match(/Y/)?e.get(s).curves.y=r:a.match(/Z/)?e.get(s).curves.z=r:a.match(/DeformPercent/)&&e.has(s)&&(e.get(s).curves.morph=r)}}}parseAnimationLayers(e){const t=Ki.Objects.AnimationLayer,n=new Map;for(const r in t){const o=[],s=_o.get(parseInt(r));s!==void 0&&(s.children.forEach(function(l,c){if(e.has(l.ID)){const u=e.get(l.ID);if(u.curves.x!==void 0||u.curves.y!==void 0||u.curves.z!==void 0){if(o[c]===void 0){const h=_o.get(l.ID).parents.filter(function(d){return d.relationship!==void 0})[0].ID;if(h!==void 0){const d=Ki.Objects.Model[h.toString()];if(d===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const p={modelName:d.attrName?ki.sanitizeNodeName(d.attrName):"",ID:d.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};pl.traverse(function(g){g.ID===d.id&&(p.transform=g.matrix,g.userData.transformData&&(p.eulerOrder=g.userData.transformData.eulerOrder))}),p.transform||(p.transform=new St),"PreRotation"in d&&(p.preRotation=d.PreRotation.value),"PostRotation"in d&&(p.postRotation=d.PostRotation.value),o[c]=p}}o[c]&&(o[c][u.attr]=u)}else if(u.curves.morph!==void 0){if(o[c]===void 0){const h=_o.get(l.ID).parents.filter(function(b){return b.relationship!==void 0})[0].ID,d=_o.get(h).parents[0].ID,p=_o.get(d).parents[0].ID,g=_o.get(p).parents[0].ID,v=Ki.Objects.Model[g],_={modelName:v.attrName?ki.sanitizeNodeName(v.attrName):"",morphName:Ki.Objects.Deformer[h].attrName};o[c]=_}o[c][u.attr]=u}}}),n.set(parseInt(r),o))}return n}parseAnimStacks(e){const t=Ki.Objects.AnimationStack,n={};for(const r in t){const o=_o.get(parseInt(r)).children;o.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const s=e.get(o[0].ID);n[r]={name:t[r].attrName,layer:s}}return n}addClip(e){let t=[];const n=this;return e.layer.forEach(function(r){t=t.concat(n.generateTracks(r))}),new pv(e.name,-1,t)}generateTracks(e){const t=[];let n=new he,r=new he;if(e.transform&&e.transform.decompose(n,new Mn,r),n=n.toArray(),r=r.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");o!==void 0&&t.push(o)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const o=this.generateRotationTrack(e.modelName,e.R.curves,e.preRotation,e.postRotation,e.eulerOrder);o!==void 0&&t.push(o)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.S.curves,r,"scale");o!==void 0&&t.push(o)}if(e.DeformPercent!==void 0){const o=this.generateMorphTrack(e);o!==void 0&&t.push(o)}return t}generateVectorTrack(e,t,n,r){const o=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(o,t,n);return new Cg(e+"."+r,o,s)}generateRotationTrack(e,t,n,r,o){let s,a;if(t.x!==void 0&&t.y!==void 0&&t.z!==void 0){const d=this.interpolateRotations(t.x,t.y,t.z,o);s=d[0],a=d[1]}const l=TB(0);n!==void 0&&(n=n.map(Uo.degToRad),n.push(l),n=new io().fromArray(n),n=new Mn().setFromEuler(n)),r!==void 0&&(r=r.map(Uo.degToRad),r.push(l),r=new io().fromArray(r),r=new Mn().setFromEuler(r).invert());const c=new Mn,u=new io,h=[];if(!a||!s)return new kp(e+".quaternion",[0],[0]);for(let d=0;d<a.length;d+=3)u.set(a[d],a[d+1],a[d+2],o),c.setFromEuler(u),n!==void 0&&c.premultiply(n),r!==void 0&&c.multiply(r),d>2&&new Mn().fromArray(h,(d-3)/3*4).dot(c)<0&&c.set(-c.x,-c.y,-c.z,-c.w),c.toArray(h,d/3*4);return new kp(e+".quaternion",s,h)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,n=t.values.map(function(o){return o/100}),r=pl.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new xg(e.modelName+".morphTargetInfluences["+r+"]",t.times,n)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(n,r){return n-r}),t.length>1){let n=1,r=t[0];for(let o=1;o<t.length;o++){const s=t[o];s!==r&&(t[n]=s,r=s,n++)}t=t.slice(0,n)}return t}getKeyframeTrackValues(e,t,n){const r=n,o=[];let s=-1,a=-1,l=-1;return e.forEach(function(c){if(t.x&&(s=t.x.times.indexOf(c)),t.y&&(a=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),s!==-1){const u=t.x.values[s];o.push(u),r[0]=u}else o.push(r[0]);if(a!==-1){const u=t.y.values[a];o.push(u),r[1]=u}else o.push(r[1]);if(l!==-1){const u=t.z.values[l];o.push(u),r[2]=u}else o.push(r[2])}),o}interpolateRotations(e,t,n,r){const o=[],s=[];o.push(e.times[0]),s.push(Uo.degToRad(e.values[0])),s.push(Uo.degToRad(t.values[0])),s.push(Uo.degToRad(n.values[0]));for(let a=1;a<e.values.length;a++){const l=[e.values[a-1],t.values[a-1],n.values[a-1]];if(isNaN(l[0])||isNaN(l[1])||isNaN(l[2]))continue;const c=l.map(Uo.degToRad),u=[e.values[a],t.values[a],n.values[a]];if(isNaN(u[0])||isNaN(u[1])||isNaN(u[2]))continue;const h=u.map(Uo.degToRad),d=[u[0]-l[0],u[1]-l[1],u[2]-l[2]],p=[Math.abs(d[0]),Math.abs(d[1]),Math.abs(d[2])];if(p[0]>=180||p[1]>=180||p[2]>=180){const v=Math.max(...p)/180,_=new io(...c,r),b=new io(...h,r),x=new Mn().setFromEuler(_),C=new Mn().setFromEuler(b);x.dot(C)&&C.set(-C.x,-C.y,-C.z,-C.w);const S=e.times[a-1],E=e.times[a]-S,I=new Mn,M=new io;for(let k=0;k<1;k+=1/v)I.copy(x.clone().slerp(C.clone(),k)),o.push(S+k*E),M.setFromQuaternion(I,r),s.push(M.x),s.push(M.y),s.push(M.z)}else o.push(e.times[a]),s.push(Uo.degToRad(e.values[a])),s.push(Uo.degToRad(t.values[a])),s.push(Uo.degToRad(n.values[a]))}return[o,s]}}class ppe{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new QY,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,n=e.split(/[\r\n]+/);return n.forEach(function(r,o){const s=r.match(/^[\s\t]*;/),a=r.match(/^[\s\t]*$/);if(s||a)return;const l=r.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=r.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=r.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(r,l):c?t.parseNodeProperty(r,c,n[++o]):u?t.popStack():r.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(r)}),this.allNodes}parseNodeBegin(e,t){const n=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),o={name:n},s=this.parseNodeAttr(r),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(n,o):n in a?(n==="PoseNode"?a.PoseNode.push(o):a[n].id!==void 0&&(a[n]={},a[n][a[n].id]=a[n]),s.id!==""&&(a[n][s.id]=o)):typeof s.id=="number"?(a[n]={},a[n][s.id]=o):n!=="Properties70"&&(n==="PoseNode"?a[n]=[o]:a[n]=o),typeof s.id=="number"&&(o.id=s.id),s.name!==""&&(o.attrName=s.name),s.type!==""&&(o.attrType=s.type),this.pushStack(o)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let n="",r="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:n,type:r}}parseNodeProperty(e,t,n){let r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),o=t[2].replace(/^"/,"").replace(/"$/,"").trim();r==="Content"&&o===","&&(o=n.replace(/"/g,"").replace(/,$/,"").trim());const s=this.getCurrentNode();if(s.name==="Properties70"){this.parseNodeSpecialProperty(e,r,o);return}if(r==="C"){const l=o.split(",").slice(1),c=parseInt(l[0]),u=parseInt(l[1]);let h=o.split(",").slice(3);h=h.map(function(d){return d.trim().replace(/^"/,"")}),r="connections",o=[c,u],bpe(o,h),s[r]===void 0&&(s[r]=[])}r==="Node"&&(s.id=o),r in s&&Array.isArray(s[r])?s[r].push(o):r!=="a"?s[r]=o:s.a=o,this.setCurrentProp(s,r),r==="a"&&o.slice(-1)!==","&&(s.a=kD(o))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=kD(t.a))}parseNodeSpecialProperty(e,t,n){const r=n.split('",').map(function(u){return u.trim().replace(/^\"/,"").replace(/\s/,"_")}),o=r[0],s=r[1],a=r[2],l=r[3];let c=r[4];switch(s){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=kD(c);break}this.getPrevNode()[o]={type:s,type2:a,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),o)}}class fpe{parse(e){const t=new Zz(e);t.skip(23);const n=t.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);const r=new QY;for(;!this.endOfContent(t);){const o=this.parseNode(t,n);o!==null&&r.add(o.name,o)}return r}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const n={},r=t>=7500?e.getUint64():e.getUint32(),o=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const s=e.getUint8(),a=e.getString(s);if(r===0)return null;const l=[];for(let d=0;d<o;d++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",u=l.length>1?l[1]:"",h=l.length>2?l[2]:"";for(n.singleProperty=o===1&&e.getOffset()===r;r>e.getOffset();){const d=this.parseNode(e,t);d!==null&&this.parseSubNode(a,n,d)}return n.propertyList=l,typeof c=="number"&&(n.id=c),u!==""&&(n.attrName=u),h!==""&&(n.attrType=h),a!==""&&(n.name=a),n}parseSubNode(e,t,n){if(n.singleProperty===!0){const r=n.propertyList[0];Array.isArray(r)?(t[n.name]=n,n.a=r):t[n.name]=r}else if(e==="Connections"&&n.name==="C"){const r=[];n.propertyList.forEach(function(o,s){s!==0&&r.push(o)}),t.connections===void 0&&(t.connections=[]),t.connections.push(r)}else if(n.name==="Properties70")Object.keys(n).forEach(function(o){t[o]=n[o]});else if(e==="Properties70"&&n.name==="P"){let r=n.propertyList[0],o=n.propertyList[1];const s=n.propertyList[2],a=n.propertyList[3];let l;r.indexOf("Lcl ")===0&&(r=r.replace("Lcl ","Lcl_")),o.indexOf("Lcl ")===0&&(o=o.replace("Lcl ","Lcl_")),o==="Color"||o==="ColorRGB"||o==="Vector"||o==="Vector3D"||o.indexOf("Lcl_")===0?l=[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:l=n.propertyList[4],t[r]={type:o,type2:s,flag:a,value:l}}else t[n.name]===void 0?typeof n.id=="number"?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:n.name==="PoseNode"?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):t[n.name][n.id]===void 0&&(t[n.name][n.id]=n)}parseProperty(e){const t=e.getString(1);let n;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return n=e.getUint32(),e.getArrayBuffer(n);case"S":return n=e.getUint32(),e.getString(n);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const r=e.getUint32(),o=e.getUint32(),s=e.getUint32();if(o===0)switch(t){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}const a=Yde(new Uint8Array(e.getArrayBuffer(s))),l=new Zz(a.buffer);switch(t){case"b":case"c":return l.getBooleanArray(r);case"d":return l.getFloat64Array(r);case"f":return l.getFloat32Array(r);case"i":return l.getInt32Array(r);case"l":return l.getInt64Array(r)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class Zz{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0,this._textDecoder=new TextDecoder}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let n=0;n<e;n++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){const t=this.offset;let n=new Uint8Array(this.dv.buffer,t,e);this.skip(e);const r=n.indexOf(0);return r>=0&&(n=new Uint8Array(this.dv.buffer,t,r)),this._textDecoder.decode(n)}}class QY{add(e,t){this[e]=t}}function gpe(i){const e="Kaydara FBX Binary  \0";return i.byteLength>=e.length&&e===HY(i,0,e.length)}function mpe(i){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function n(r){const o=i[r-1];return i=i.slice(t+r),t++,o}for(let r=0;r<e.length;++r)if(n(1)===e[r])return!1;return!0}function Jz(i){const e=/FBXVersion: (\d+)/,t=i.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function _pe(i){return i/46186158e3}const vpe=[];function VT(i,e,t,n){let r;switch(n.mappingType){case"ByPolygonVertex":r=i;break;case"ByPolygon":r=e;break;case"ByVertice":r=t;break;case"AllSame":r=n.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+n.mappingType)}n.referenceType==="IndexToDirect"&&(r=n.indices[r]);const o=r*n.dataSize,s=o+n.dataSize;return ype(vpe,n.buffer,o,s)}const RD=new io,G0=new he;function NY(i){const e=new St,t=new St,n=new St,r=new St,o=new St,s=new St,a=new St,l=new St,c=new St,u=new St,h=new St,d=new St,p=i.inheritType?i.inheritType:0;i.translation&&e.setPosition(G0.fromArray(i.translation));const g=TB(0);if(i.preRotation){const Q=i.preRotation.map(Uo.degToRad);Q.push(g),t.makeRotationFromEuler(RD.fromArray(Q))}if(i.rotation){const Q=i.rotation.map(Uo.degToRad);Q.push(i.eulerOrder||g),n.makeRotationFromEuler(RD.fromArray(Q))}if(i.postRotation){const Q=i.postRotation.map(Uo.degToRad);Q.push(g),r.makeRotationFromEuler(RD.fromArray(Q)),r.invert()}i.scale&&o.scale(G0.fromArray(i.scale)),i.scalingOffset&&a.setPosition(G0.fromArray(i.scalingOffset)),i.scalingPivot&&s.setPosition(G0.fromArray(i.scalingPivot)),i.rotationOffset&&l.setPosition(G0.fromArray(i.rotationOffset)),i.rotationPivot&&c.setPosition(G0.fromArray(i.rotationPivot)),i.parentMatrixWorld&&(h.copy(i.parentMatrix),u.copy(i.parentMatrixWorld));const v=t.clone().multiply(n).multiply(r),_=new St;_.extractRotation(u);const b=new St;b.copyPosition(u);const x=b.clone().invert().multiply(u),C=_.clone().invert().multiply(x),S=o,E=new St;if(p===0)E.copy(_).multiply(v).multiply(C).multiply(S);else if(p===1)E.copy(_).multiply(C).multiply(v).multiply(S);else{const N=new St().scale(new he().setFromMatrixScale(h)).clone().invert(),W=C.clone().multiply(N);E.copy(_).multiply(v).multiply(W).multiply(S)}const I=c.clone().invert(),M=s.clone().invert();let k=e.clone().multiply(l).multiply(c).multiply(t).multiply(n).multiply(r).multiply(I).multiply(a).multiply(s).multiply(o).multiply(M);const F=new St().copyPosition(k),P=u.clone().multiply(F);return d.copyPosition(P),k=d.clone().multiply(E),k.premultiply(u.invert()),k}function TB(i){i=i||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return i===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[i]}function kD(i){return i.split(",").map(function(t){return parseFloat(t)})}function HY(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=i.byteLength),new TextDecoder().decode(new Uint8Array(i,e,t))}function bpe(i,e){for(let t=0,n=i.length,r=e.length;t<r;t++,n++)i[n]=e[t]}function ype(i,e,t,n){for(let r=t,o=0;r<n;r++,o++)i[o]=e[r];return i}function e7(i,e){if(e===wX)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(e===u5||e===MQ){let t=i.getIndex();if(t===null){const s=[],a=i.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)s.push(l);i.setIndex(s),t=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}const n=t.count-2,r=[];if(e===u5)for(let s=1;s<=n;s++)r.push(t.getX(0)),r.push(t.getX(s)),r.push(t.getX(s+1));else for(let s=0;s<n;s++)s%2===0?(r.push(t.getX(s)),r.push(t.getX(s+1)),r.push(t.getX(s+2))):(r.push(t.getX(s+2)),r.push(t.getX(s+1)),r.push(t.getX(s)));r.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=i.clone();return o.setIndex(r),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),i}class zY extends Cr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Spe(t)}),this.register(function(t){return new Epe(t)}),this.register(function(t){return new Ppe(t)}),this.register(function(t){return new Lpe(t)}),this.register(function(t){return new Ope(t)}),this.register(function(t){return new Ipe(t)}),this.register(function(t){return new Mpe(t)}),this.register(function(t){return new Rpe(t)}),this.register(function(t){return new kpe(t)}),this.register(function(t){return new Bpe(t)}),this.register(function(t){return new Fpe(t)}),this.register(function(t){return new Tpe(t)}),this.register(function(t){return new Upe(t)}),this.register(function(t){return new Dpe(t)}),this.register(function(t){return new xpe(t)}),this.register(function(t){return new Qpe(t)}),this.register(function(t){return new Npe(t)})}load(e,t,n,r){const o=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const c=wp.extractUrlBase(e);s=wp.resolveURL(c,this.path)}else s=wp.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),o.manager.itemError(e),o.manager.itemEnd(e)},l=new ro(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{o.parse(c,s,function(u){t(u),o.manager.itemEnd(e)},a)}catch(u){a(u)}},n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let o;const s={},a={},l=new TextDecoder;if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===GY){try{s[nn.KHR_BINARY_GLTF]=new Hpe(e)}catch(h){r&&r(h);return}o=JSON.parse(s[nn.KHR_BINARY_GLTF].content)}else o=JSON.parse(l.decode(e));else o=e;if(o.asset===void 0||o.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new efe(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const h=this.pluginCallbacks[u](c);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[h.name]=h,s[h.name]=!0}if(o.extensionsUsed)for(let u=0;u<o.extensionsUsed.length;++u){const h=o.extensionsUsed[u],d=o.extensionsRequired||[];switch(h){case nn.KHR_MATERIALS_UNLIT:s[h]=new Cpe;break;case nn.KHR_DRACO_MESH_COMPRESSION:s[h]=new zpe(o,this.dracoLoader);break;case nn.KHR_TEXTURE_TRANSFORM:s[h]=new Gpe;break;case nn.KHR_MESH_QUANTIZATION:s[h]=new Vpe;break;default:d.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}c.setExtensions(s),c.setPlugins(a),c.parse(n,r)}parseAsync(e,t){const n=this;return new Promise(function(r,o){n.parse(e,t,r,o)})}}function wpe(){let i={};return{get:function(e){return i[e]},add:function(e,t){i[e]=t},remove:function(e){delete i[e]},removeAll:function(){i={}}}}const nn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class xpe{constructor(e){this.parser=e,this.name=nn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const o=t[n];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const o=t.json,l=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let c;const u=new ut(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],Xn);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new vS(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Ny(u),c.distance=h;break;case"spot":c=new ak(u),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,sp(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(n,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,o=n.json.nodes[e],a=(o.extensions&&o.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return n._getNodeRef(t.cache,a,l)})}}let Cpe=class{constructor(){this.name=nn.KHR_MATERIALS_UNLIT}getMaterialType(){return ns}extendParams(e,t,n){const r=[];e.color=new ut(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const s=o.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],Xn),e.opacity=s[3]}o.baseColorTexture!==void 0&&r.push(n.assignTexture(e,"map",o.baseColorTexture,fi))}return Promise.all(r)}},Bpe=class{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name].emissiveStrength;return o!==void 0&&(t.emissiveIntensity=o),Promise.resolve()}},Spe=class{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zu}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&o.push(n.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&o.push(n.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(o.push(n.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const a=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new et(a,a)}return Promise.all(o)}},Epe=class{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zu}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name];return t.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}},Tpe=class{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zu}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&o.push(n.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&o.push(n.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(o)}},Ipe=class{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zu}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new ut(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=r.extensions[this.name];if(s.sheenColorFactor!==void 0){const a=s.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Xn)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&o.push(n.assignTexture(t,"sheenColorMap",s.sheenColorTexture,fi)),s.sheenRoughnessTexture!==void 0&&o.push(n.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(o)}},Mpe=class{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zu}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&o.push(n.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(o)}},Rpe=class{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zu}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&o.push(n.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return t.attenuationColor=new ut().setRGB(a[0],a[1],a[2],Xn),Promise.all(o)}},kpe=class{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zu}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name];return t.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}},Fpe=class{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zu}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&o.push(n.assignTexture(t,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return t.specularColor=new ut().setRGB(a[0],a[1],a[2],Xn),s.specularColorTexture!==void 0&&o.push(n.assignTexture(t,"specularColorMap",s.specularColorTexture,fi)),Promise.all(o)}},Dpe=class{constructor(e){this.parser=e,this.name=nn.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zu}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&o.push(n.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(o)}},Upe=class{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zu}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&o.push(n.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(o)}};class Ppe{constructor(e){this.parser=e,this.name=nn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const o=r.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,s)}}class Lpe{constructor(e){this.parser=e,this.name=nn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,o=r.textures[e];if(!o.extensions||!o.extensions[t])return null;const s=o.extensions[t],a=r.images[s.source];let l=n.textureLoader;if(a.uri){const c=n.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(e,s.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Ope{constructor(e){this.parser=e,this.name=nn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,o=r.textures[e];if(!o.extensions||!o.extensions[t])return null;const s=o.extensions[t],a=r.images[s.source];let l=n.textureLoader;if(a.uri){const c=n.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(e,s.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Qpe{constructor(e){this.name=nn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const r=n.extensions[this.name],o=this.parser.getDependency("buffer",r.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,h=r.byteStride,d=new Uint8Array(a,l,c);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(u,h,d,r.mode,r.filter).then(function(p){return p.buffer}):s.ready.then(function(){const p=new ArrayBuffer(u*h);return s.decodeGltfBuffer(new Uint8Array(p),u,h,d,r.mode,r.filter),p})})}else return null}}let Npe=class{constructor(e){this.name=nn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const r=t.meshes[n.mesh];for(const c of r.primitives)if(c.mode!==vu.TRIANGLES&&c.mode!==vu.TRIANGLE_STRIP&&c.mode!==vu.TRIANGLE_FAN&&c.mode!==void 0)return null;const s=n.extensions[this.name].attributes,a=[],l={};for(const c in s)a.push(this.parser.getDependency("accessor",s[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),h=u.isGroup?u.children:[u],d=c[0].count,p=[];for(const g of h){const v=new St,_=new he,b=new Mn,x=new he(1,1,1),C=new LQ(g.geometry,g.material,d);for(let S=0;S<d;S++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&b.fromBufferAttribute(l.ROTATION,S),l.SCALE&&x.fromBufferAttribute(l.SCALE,S),C.setMatrixAt(S,v.compose(_,b,x));for(const S in l)if(S==="_COLOR_0"){const E=l[S];C.instanceColor=new wg(E.array,E.itemSize,E.normalized)}else S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&g.geometry.setAttribute(S,l[S]);Si.prototype.copy.call(C,g),this.parser.assignFinalMaterial(C),p.push(C)}return u.isGroup?(u.clear(),u.add(...p),u):p[0]}))}};const GY="glTF",hC=12,t7={JSON:1313821514,BIN:5130562};class Hpe{constructor(e){this.name=nn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,hC),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==GY)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-hC,o=new DataView(e,hC);let s=0;for(;s<r;){const a=o.getUint32(s,!0);s+=4;const l=o.getUint32(s,!0);if(s+=4,l===t7.JSON){const c=new Uint8Array(e,hC+s,a);this.content=n.decode(c)}else if(l===t7.BIN){const c=hC+s;this.body=e.slice(c,c+a)}s+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class zpe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=nn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,o=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},l={},c={};for(const u in s){const h=LL[u]||u.toLowerCase();a[h]=s[u]}for(const u in e.attributes){const h=LL[u]||u.toLowerCase();if(s[u]!==void 0){const d=n.accessors[e.attributes[u]],p=By[d.componentType];c[h]=p.name,l[h]=d.normalized===!0}}return t.getDependency("bufferView",o).then(function(u){return new Promise(function(h,d){r.decodeDracoFile(u,function(p){for(const g in p.attributes){const v=p.attributes[g],_=l[g];_!==void 0&&(v.normalized=_)}h(p)},a,c,Xn,d)})})}}class Gpe{constructor(){this.name=nn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Vpe{constructor(){this.name=nn.KHR_MESH_QUANTIZATION}}class VY extends mw{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r*3+r;for(let s=0;s!==r;s++)t[s]=n[o+s];return t}interpolate_(e,t,n,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=r-t,h=(n-t)/u,d=h*h,p=d*h,g=e*c,v=g-c,_=-2*p+3*d,b=p-d,x=1-_,C=b-d+h;for(let S=0;S!==a;S++){const E=s[v+S+a],I=s[v+S+l]*u,M=s[g+S+a],k=s[g+S]*u;o[S]=x*E+C*I+_*M+b*k}return o}}const qpe=new Mn;class Wpe extends VY{interpolate_(e,t,n,r){const o=super.interpolate_(e,t,n,r);return qpe.fromArray(o).normalize().toArray(o),o}}const vu={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},By={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},i7={9728:Pr,9729:Ni,9984:Bv,9985:vp,9986:PA,9987:na},n7={33071:dr,33648:Rp,10497:Tl},FD={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},LL={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},vf={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},jpe={CUBICSPLINE:void 0,LINEAR:hv,STEP:uv},DD={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Kpe(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new dv({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Pu})),i.DefaultMaterial}function Km(i,e,t){for(const n in t.extensions)i[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function sp(i,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(i.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function $pe(i,e,t){let n=!1,r=!1,o=!1;for(let c=0,u=e.length;c<u;c++){const h=e[c];if(h.POSITION!==void 0&&(n=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(o=!0),n&&r&&o)break}if(!n&&!r&&!o)return Promise.resolve(i);const s=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const h=e[c];if(n){const d=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):i.attributes.position;s.push(d)}if(r){const d=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):i.attributes.normal;a.push(d)}if(o){const d=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):i.attributes.color;l.push(d)}}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],h=c[1],d=c[2];return n&&(i.morphAttributes.position=u),r&&(i.morphAttributes.normal=h),o&&(i.morphAttributes.color=d),i.morphTargetsRelative=!0,i})}function Xpe(i,e){if(i.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)i.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(i.morphTargetInfluences.length===t.length){i.morphTargetDictionary={};for(let n=0,r=t.length;n<r;n++)i.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ype(i){let e;const t=i.extensions&&i.extensions[nn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+UD(t.attributes):e=i.indices+":"+UD(i.attributes)+":"+i.mode,i.targets!==void 0)for(let n=0,r=i.targets.length;n<r;n++)e+=":"+UD(i.targets[n]);return e}function UD(i){let e="";const t=Object.keys(i).sort();for(let n=0,r=t.length;n<r;n++)e+=t[n]+":"+i[t[n]]+";";return e}function OL(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Zpe(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":i.search(/\.ktx2($|\?)/i)>0||i.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const Jpe=new St;class efe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new wpe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=-1,o=!1,s=-1;if(typeof navigator<"u"){const a=navigator.userAgent;n=/^((?!chrome|android).)*safari/i.test(a)===!0;const l=a.match(/Version\/(\d+)/);r=n&&l?parseInt(l[1],10):-1,o=a.indexOf("Firefox")>-1,s=o?a.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||n&&r<17||o&&s<98?this.textureLoader=new sk(this.options.manager):this.textureLoader=new mY(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ro(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(s){const a={scene:s[0][r.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:r.asset,parser:n,userData:{}};return Km(o,a,r),sp(a,r),Promise.all(n._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,o=t.length;r<o;r++){const s=t[r].joints;for(let a=0,l=s.length;a<l;a++)e[s[a]].isBone=!0}for(let r=0,o=e.length;r<o;r++){const s=e[r];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(n[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),o=(s,a)=>{const l=this.associations.get(s);l!=null&&this.associations.set(a,l);for(const[c,u]of s.children.entries())o(u,a.children[c])};return o(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const o=e(t[r]);o&&n.push(o)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(o){return o.loadNode&&o.loadNode(t)});break;case"mesh":r=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(o,s){return n.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[nn.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(o,s){n.load(wp.resolveURL(t.uri,r.path),o,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const r=t.byteLength||0,o=t.byteOffset||0;return n.slice(o,o+r)})}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const s=FD[r.type],a=By[r.componentType],l=r.normalized===!0,c=new a(r.count*s);return Promise.resolve(new Ci(c,s,l))}const o=[];return r.bufferView!==void 0?o.push(this.getDependency("bufferView",r.bufferView)):o.push(null),r.sparse!==void 0&&(o.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(o).then(function(s){const a=s[0],l=FD[r.type],c=By[r.componentType],u=c.BYTES_PER_ELEMENT,h=u*l,d=r.byteOffset||0,p=r.bufferView!==void 0?n.bufferViews[r.bufferView].byteStride:void 0,g=r.normalized===!0;let v,_;if(p&&p!==h){const b=Math.floor(d/p),x="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+b+":"+r.count;let C=t.cache.get(x);C||(v=new c(a,b*p,r.count*p/u),C=new pS(v,p/u),t.cache.add(x,C)),_=new yg(C,l,d%p/u,g)}else a===null?v=new c(r.count*l):v=new c(a,d,r.count*l),_=new Ci(v,l,g);if(r.sparse!==void 0){const b=FD.SCALAR,x=By[r.sparse.indices.componentType],C=r.sparse.indices.byteOffset||0,S=r.sparse.values.byteOffset||0,E=new x(s[1],C,r.sparse.count*b),I=new c(s[2],S,r.sparse.count*l);a!==null&&(_=new Ci(_.array.slice(),_.itemSize,_.normalized)),_.normalized=!1;for(let M=0,k=E.length;M<k;M++){const F=E[M];if(_.setX(F,I[M*l]),l>=2&&_.setY(F,I[M*l+1]),l>=3&&_.setZ(F,I[M*l+2]),l>=4&&_.setW(F,I[M*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}_.normalized=g}return _})}loadTexture(e){const t=this.json,n=this.options,o=t.textures[e].source,s=t.images[o];let a=this.textureLoader;if(s.uri){const l=n.manager.getHandler(s.uri);l!==null&&(a=l)}return this.loadTextureImage(e,o,a)}loadTextureImage(e,t,n){const r=this,o=this.json,s=o.textures[e],a=o.images[t],l=(a.uri||a.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,n).then(function(u){u.flipY=!1,u.name=s.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const d=(o.samplers||{})[s.sampler]||{};return u.magFilter=i7[d.magFilter]||Ni,u.minFilter=i7[d.minFilter]||na,u.wrapS=n7[d.wrapS]||Tl,u.wrapT=n7[d.wrapT]||Tl,u.generateMipmaps=!u.isCompressedTexture&&u.minFilter!==Pr&&u.minFilter!==Ni,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const n=this,r=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const s=r.images[e],a=self.URL||self.webkitURL;let l=s.uri||"",c=!1;if(s.bufferView!==void 0)l=n.getDependency("bufferView",s.bufferView).then(function(h){c=!0;const d=new Blob([h],{type:s.mimeType});return l=a.createObjectURL(d),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(h){return new Promise(function(d,p){let g=d;t.isImageBitmapLoader===!0&&(g=function(v){const _=new Rn(v);_.needsUpdate=!0,d(_)}),t.load(wp.resolveURL(h,o.path),g,void 0,p)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),sp(h,s),h.userData.mimeType=s.mimeType||Zpe(s.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=u,u}assignTexture(e,t,n,r){const o=this;return this.getDependency("texture",n.index).then(function(s){if(!s)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(s=s.clone(),s.channel=n.texCoord),o.extensions[nn.KHR_TEXTURE_TRANSFORM]){const a=n.extensions!==void 0?n.extensions[nn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=o.associations.get(s);s=o.extensions[nn.KHR_TEXTURE_TRANSFORM].extendTexture(s,a),o.associations.set(s,l)}}return r!==void 0&&(s.colorSpace=r),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=t.attributes.tangent===void 0,o=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new og,no.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(a,l)),n=l}else if(e.isLine){const a="LineBasicMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new Qo,no.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,this.cache.add(a,l)),n=l}if(r||o||s){let a="ClonedMaterial:"+n.uuid+":";r&&(a+="derivative-tangents:"),o&&(a+="vertex-colors:"),s&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=n.clone(),o&&(l.vertexColors=!0),s&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(n))),n=l}e.material=n}getMaterialType(){return dv}loadMaterial(e){const t=this,n=this.json,r=this.extensions,o=n.materials[e];let s;const a={},l=o.extensions||{},c=[];if(l[nn.KHR_MATERIALS_UNLIT]){const h=r[nn.KHR_MATERIALS_UNLIT];s=h.getMaterialType(),c.push(h.extendParams(a,o,t))}else{const h=o.pbrMetallicRoughness||{};if(a.color=new ut(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const d=h.baseColorFactor;a.color.setRGB(d[0],d[1],d[2],Xn),a.opacity=d[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",h.baseColorTexture,fi)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),s=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}o.doubleSided===!0&&(a.side=vo);const u=o.alphaMode||DD.OPAQUE;if(u===DD.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===DD.MASK&&(a.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&s!==ns&&(c.push(t.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new et(1,1),o.normalTexture.scale!==void 0)){const h=o.normalTexture.scale;a.normalScale.set(h,h)}if(o.occlusionTexture!==void 0&&s!==ns&&(c.push(t.assignTexture(a,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&s!==ns){const h=o.emissiveFactor;a.emissive=new ut().setRGB(h[0],h[1],h[2],Xn)}return o.emissiveTexture!==void 0&&s!==ns&&c.push(t.assignTexture(a,"emissiveMap",o.emissiveTexture,fi)),Promise.all(c).then(function(){const h=new s(a);return o.name&&(h.name=o.name),sp(h,o),t.associations.set(h,{materials:e}),o.extensions&&Km(r,h,o),h})}createUniqueName(e){const t=ki.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function o(a){return n[nn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return r7(l,a,t)})}const s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=Ype(c),h=r[u];if(h)s.push(h.promise);else{let d;c.extensions&&c.extensions[nn.KHR_DRACO_MESH_COMPRESSION]?d=o(c):d=r7(new Kt,c,t),r[u]={primitive:c,promise:d},s.push(d)}}return Promise.all(s)}loadMesh(e){const t=this,n=this.json,r=this.extensions,o=n.meshes[e],s=o.primitives,a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l].material===void 0?Kpe(this.cache):this.getDependency("material",s[l].material);a.push(u)}return a.push(t.loadGeometries(s)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],h=[];for(let p=0,g=u.length;p<g;p++){const v=u[p],_=s[p];let b;const x=c[p];if(_.mode===vu.TRIANGLES||_.mode===vu.TRIANGLE_STRIP||_.mode===vu.TRIANGLE_FAN||_.mode===void 0)b=o.isSkinnedMesh===!0?new GR(v,x):new Fi(v,x),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),_.mode===vu.TRIANGLE_STRIP?b.geometry=e7(b.geometry,MQ):_.mode===vu.TRIANGLE_FAN&&(b.geometry=e7(b.geometry,u5));else if(_.mode===vu.LINES)b=new Nc(v,x);else if(_.mode===vu.LINE_STRIP)b=new Ou(v,x);else if(_.mode===vu.LINE_LOOP)b=new OQ(v,x);else if(_.mode===vu.POINTS)b=new xy(v,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(b.geometry.morphAttributes).length>0&&Xpe(b,o),b.name=t.createUniqueName(o.name||"mesh_"+e),sp(b,o),_.extensions&&Km(r,b,_),t.assignFinalMaterial(b),h.push(b)}for(let p=0,g=h.length;p<g;p++)t.associations.set(h[p],{meshes:e,primitives:p});if(h.length===1)return o.extensions&&Km(r,h[0],o),h[0];const d=new Dc;o.extensions&&Km(r,d,o),t.associations.set(d,{meshes:e});for(let p=0,g=h.length;p<g;p++)d.add(h[p]);return d})}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new Kn(Uo.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):n.type==="orthographic"&&(t=new nc(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),sp(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let r=0,o=t.joints.length;r<o;r++)n.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(r){const o=r.pop(),s=r,a=[],l=[];for(let c=0,u=s.length;c<u;c++){const h=s[c];if(h){a.push(h);const d=new St;o!==null&&d.fromArray(o.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new pw(a,l)})}loadAnimation(e){const t=this.json,n=this,r=t.animations[e],o=r.name?r.name:"animation_"+e,s=[],a=[],l=[],c=[],u=[];for(let h=0,d=r.channels.length;h<d;h++){const p=r.channels[h],g=r.samplers[p.sampler],v=p.target,_=v.node,b=r.parameters!==void 0?r.parameters[g.input]:g.input,x=r.parameters!==void 0?r.parameters[g.output]:g.output;v.node!==void 0&&(s.push(this.getDependency("node",_)),a.push(this.getDependency("accessor",b)),l.push(this.getDependency("accessor",x)),c.push(g),u.push(v))}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(h){const d=h[0],p=h[1],g=h[2],v=h[3],_=h[4],b=[];for(let x=0,C=d.length;x<C;x++){const S=d[x],E=p[x],I=g[x],M=v[x],k=_[x];if(S===void 0)continue;S.updateMatrix&&S.updateMatrix();const F=n._createAnimationTracks(S,E,I,M,k);if(F)for(let P=0;P<F.length;P++)b.push(F[P])}return new pv(o,void 0,b)})}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return r.mesh===void 0?null:n.getDependency("mesh",r.mesh).then(function(o){const s=n._getNodeRef(n.meshCache,r.mesh,o);return r.weights!==void 0&&s.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),s})}loadNode(e){const t=this.json,n=this,r=t.nodes[e],o=n._loadNodeShallow(e),s=[],a=r.children||[];for(let c=0,u=a.length;c<u;c++)s.push(n.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):n.getDependency("skin",r.skin);return Promise.all([o,Promise.all(s),l]).then(function(c){const u=c[0],h=c[1],d=c[2];d!==null&&u.traverse(function(p){p.isSkinnedMesh&&p.bind(d,Jpe)});for(let p=0,g=h.length;p<g;p++)u.add(h[p]);return u})}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=t.nodes[e],s=o.name?r.createUniqueName(o.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),o.camera!==void 0&&a.push(r.getDependency("camera",o.camera).then(function(c){return r._getNodeRef(r.cameraCache,o.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(o.isBone===!0?u=new Qy:c.length>1?u=new Dc:c.length===1?u=c[0]:u=new Si,u!==c[0])for(let h=0,d=c.length;h<d;h++)u.add(c[h]);if(o.name&&(u.userData.name=o.name,u.name=s),sp(u,o),o.extensions&&Km(n,u,o),o.matrix!==void 0){const h=new St;h.fromArray(o.matrix),u.applyMatrix4(h)}else o.translation!==void 0&&u.position.fromArray(o.translation),o.rotation!==void 0&&u.quaternion.fromArray(o.rotation),o.scale!==void 0&&u.scale.fromArray(o.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,o=new Dc;n.name&&(o.name=r.createUniqueName(n.name)),sp(o,n),n.extensions&&Km(t,o,n);const s=n.nodes||[],a=[];for(let l=0,c=s.length;l<c;l++)a.push(r.getDependency("node",s[l]));return Promise.all(a).then(function(l){for(let u=0,h=l.length;u<h;u++)o.add(l[u]);const c=u=>{const h=new Map;for(const[d,p]of r.associations)(d instanceof no||d instanceof Rn)&&h.set(d,p);return u.traverse(d=>{const p=r.associations.get(d);p!=null&&h.set(d,p)}),h};return r.associations=c(o),o})}_createAnimationTracks(e,t,n,r,o){const s=[],a=e.name?e.name:e.uuid,l=[];vf[o.path]===vf.weights?e.traverse(function(d){d.morphTargetInfluences&&l.push(d.name?d.name:d.uuid)}):l.push(a);let c;switch(vf[o.path]){case vf.weights:c=xg;break;case vf.rotation:c=kp;break;case vf.position:case vf.scale:c=Cg;break;default:switch(n.itemSize){case 1:c=xg;break;case 2:case 3:default:c=Cg;break}break}const u=r.interpolation!==void 0?jpe[r.interpolation]:hv,h=this._getArrayFromAccessor(n);for(let d=0,p=l.length;d<p;d++){const g=new c(l[d]+"."+vf[o.path],t.array,h,u);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),s.push(g)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=OL(t.constructor),r=new Float32Array(t.length);for(let o=0,s=t.length;o<s;o++)r[o]=t[o]*n;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const r=this instanceof kp?Wpe:VY;return new r(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function tfe(i,e,t){const n=e.attributes,r=new vr;if(n.POSITION!==void 0){const a=t.json.accessors[n.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new he(l[0],l[1],l[2]),new he(c[0],c[1],c[2])),a.normalized){const u=OL(By[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const a=new he,l=new he;for(let c=0,u=o.length;c<u;c++){const h=o[c];if(h.POSITION!==void 0){const d=t.json.accessors[h.POSITION],p=d.min,g=d.max;if(p!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(g[2]))),d.normalized){const v=OL(By[d.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}i.boundingBox=r;const s=new Oo;r.getCenter(s.center),s.radius=r.min.distanceTo(r.max)/2,i.boundingSphere=s}function r7(i,e,t){const n=e.attributes,r=[];function o(s,a){return t.getDependency("accessor",s).then(function(l){i.setAttribute(a,l)})}for(const s in n){const a=LL[s]||s.toLowerCase();a in i.attributes||r.push(o(n[s],a))}if(e.indices!==void 0&&!i.index){const s=t.getDependency("accessor",e.indices).then(function(a){i.setIndex(a)});r.push(s)}return _i.workingColorSpace!==Xn&&"COLOR_0"in n&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${_i.workingColorSpace}" not supported.`),sp(i,e),tfe(i,e,t),Promise.all(r).then(function(){return e.targets!==void 0?$pe(i,e.targets,t):i})}const ife=/^[og]\s*(.+)?/,nfe=/^mtllib /,rfe=/^usemtl /,ofe=/^usemap /,o7=/\s+/,s7=new he,PD=new he,a7=new he,l7=new he,du=new he,qT=new ut;function sfe(){const i={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=t!==!1;return}const n=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(r,o){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const a={index:this.materials.length,name:r||"",mtllib:Array.isArray(o)&&o.length>0?o[o.length-1]:"",smooth:s!==void 0?s.smooth:this.smooth,groupStart:s!==void 0?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(l){const c={index:typeof l=="number"?l:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return c.clone=this.clone.bind(c),c}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(r){const o=this.currentMaterial();if(o&&o.groupEnd===-1&&(o.groupEnd=this.geometry.vertices.length/3,o.groupCount=o.groupEnd-o.groupStart,o.inherited=!1),r&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return r&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),o}},n&&n.name&&typeof n.clone=="function"){const r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/3)*3},parseNormalIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/3)*3},parseUVIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/2)*2},addVertex:function(e,t,n){const r=this.vertices,o=this.object.geometry.vertices;o.push(r[e+0],r[e+1],r[e+2]),o.push(r[t+0],r[t+1],r[t+2]),o.push(r[n+0],r[n+1],r[n+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){const r=this.normals,o=this.object.geometry.normals;o.push(r[e+0],r[e+1],r[e+2]),o.push(r[t+0],r[t+1],r[t+2]),o.push(r[n+0],r[n+1],r[n+2])},addFaceNormal:function(e,t,n){const r=this.vertices,o=this.object.geometry.normals;s7.fromArray(r,e),PD.fromArray(r,t),a7.fromArray(r,n),du.subVectors(a7,PD),l7.subVectors(s7,PD),du.cross(l7),du.normalize(),o.push(du.x,du.y,du.z),o.push(du.x,du.y,du.z),o.push(du.x,du.y,du.z)},addColor:function(e,t,n){const r=this.colors,o=this.object.geometry.colors;r[e]!==void 0&&o.push(r[e+0],r[e+1],r[e+2]),r[t]!==void 0&&o.push(r[t+0],r[t+1],r[t+2]),r[n]!==void 0&&o.push(r[n+0],r[n+1],r[n+2])},addUV:function(e,t,n){const r=this.uvs,o=this.object.geometry.uvs;o.push(r[e+0],r[e+1]),o.push(r[t+0],r[t+1]),o.push(r[n+0],r[n+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,n,r,o,s,a,l,c){const u=this.vertices.length;let h=this.parseVertexIndex(e,u),d=this.parseVertexIndex(t,u),p=this.parseVertexIndex(n,u);if(this.addVertex(h,d,p),this.addColor(h,d,p),a!==void 0&&a!==""){const g=this.normals.length;h=this.parseNormalIndex(a,g),d=this.parseNormalIndex(l,g),p=this.parseNormalIndex(c,g),this.addNormal(h,d,p)}else this.addFaceNormal(h,d,p);if(r!==void 0&&r!==""){const g=this.uvs.length;h=this.parseUVIndex(r,g),d=this.parseUVIndex(o,g),p=this.parseUVIndex(s,g),this.addUV(h,d,p),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let n=0,r=e.length;n<r;n++){const o=this.parseVertexIndex(e[n],t);this.addVertexPoint(o),this.addColor(o)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const n=this.vertices.length,r=this.uvs.length;for(let o=0,s=e.length;o<s;o++)this.addVertexLine(this.parseVertexIndex(e[o],n));for(let o=0,s=t.length;o<s;o++)this.addUVLine(this.parseUVIndex(t[o],r))}};return i.startObject("",!1),i}class afe extends Cr{constructor(e){super(e),this.materials=null}load(e,t,n,r){const o=this,s=new ro(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(o.parse(a))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},n,r)}setMaterials(e){return this.materials=e,this}parse(e){const t=new sfe;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const n=e.split(`
`);let r=[];for(let a=0,l=n.length;a<l;a++){const c=n[a].trimStart();if(c.length===0)continue;const u=c.charAt(0);if(u!=="#")if(u==="v"){const h=c.split(o7);switch(h[0]){case"v":t.vertices.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3])),h.length>=7?(qT.setRGB(parseFloat(h[4]),parseFloat(h[5]),parseFloat(h[6]),fi),t.colors.push(qT.r,qT.g,qT.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3]));break;case"vt":t.uvs.push(parseFloat(h[1]),parseFloat(h[2]));break}}else if(u==="f"){const d=c.slice(1).trim().split(o7),p=[];for(let v=0,_=d.length;v<_;v++){const b=d[v];if(b.length>0){const x=b.split("/");p.push(x)}}const g=p[0];for(let v=1,_=p.length-1;v<_;v++){const b=p[v],x=p[v+1];t.addFace(g[0],b[0],x[0],g[1],b[1],x[1],g[2],b[2],x[2])}}else if(u==="l"){const h=c.substring(1).trim().split(" ");let d=[];const p=[];if(c.indexOf("/")===-1)d=h;else for(let g=0,v=h.length;g<v;g++){const _=h[g].split("/");_[0]!==""&&d.push(_[0]),_[1]!==""&&p.push(_[1])}t.addLineGeometry(d,p)}else if(u==="p"){const d=c.slice(1).trim().split(" ");t.addPointGeometry(d)}else if((r=ife.exec(c))!==null){const h=(" "+r[0].slice(1).trim()).slice(1);t.startObject(h)}else if(rfe.test(c))t.object.startMaterial(c.substring(7).trim(),t.materialLibraries);else if(nfe.test(c))t.materialLibraries.push(c.substring(7).trim());else if(ofe.test(c))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(u==="s"){if(r=c.split(" "),r.length>1){const d=r[1].trim().toLowerCase();t.object.smooth=d!=="0"&&d!=="off"}else t.object.smooth=!0;const h=t.object.currentMaterial();h&&(h.smooth=t.object.smooth)}else{if(c==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+c+'"')}}t.finalize();const o=new Dc;if(o.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let a=0,l=t.objects.length;a<l;a++){const c=t.objects[a],u=c.geometry,h=c.materials,d=u.type==="Line",p=u.type==="Points";let g=!1;if(u.vertices.length===0)continue;const v=new Kt;v.setAttribute("position",new vt(u.vertices,3)),u.normals.length>0&&v.setAttribute("normal",new vt(u.normals,3)),u.colors.length>0&&(g=!0,v.setAttribute("color",new vt(u.colors,3))),u.hasUVIndices===!0&&v.setAttribute("uv",new vt(u.uvs,2));const _=[];for(let x=0,C=h.length;x<C;x++){const S=h[x],E=S.name+"_"+S.smooth+"_"+g;let I=t.materials[E];if(this.materials!==null){if(I=this.materials.create(S.name),d&&I&&!(I instanceof Qo)){const M=new Qo;no.prototype.copy.call(M,I),M.color.copy(I.color),I=M}else if(p&&I&&!(I instanceof og)){const M=new og({size:10,sizeAttenuation:!1});no.prototype.copy.call(M,I),M.color.copy(I.color),M.map=I.map,I=M}}I===void 0&&(d?I=new Qo:p?I=new og({size:1,sizeAttenuation:!1}):I=new Cy,I.name=S.name,I.flatShading=!S.smooth,I.vertexColors=g,t.materials[E]=I),_.push(I)}let b;if(_.length>1){for(let x=0,C=h.length;x<C;x++){const S=h[x];v.addGroup(S.groupStart,S.groupCount,x)}d?b=new Nc(v,_):p?b=new xy(v,_):b=new Fi(v,_)}else d?b=new Nc(v,_[0]):p?b=new xy(v,_[0]):b=new Fi(v,_[0]);b.name=c.name,o.add(b)}else if(t.vertices.length>0){const a=new og({size:1,sizeAttenuation:!1}),l=new Kt;l.setAttribute("position",new vt(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(l.setAttribute("color",new vt(t.colors,3)),a.vertexColors=!0);const c=new xy(l,a);o.add(c)}return o}}const Gl=new ut;class lfe extends Cr{constructor(e){super(e),this.propertyNameMapping={},this.customPropertyMapping={}}load(e,t,n,r){const o=this,s=new ro(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(o.parse(a))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},n,r)}setPropertyNameMapping(e){this.propertyNameMapping=e}setCustomPropertyNameMapping(e){this.customPropertyMapping=e}parse(e){function t(_,b=0){const x=/^ply([\s\S]*)end_header(\r\n|\r|\n)/;let C="";const S=x.exec(_);S!==null&&(C=S[1]);const E={comments:[],elements:[],headerLength:b,objInfo:""},I=C.split(/\r\n|\r|\n/);let M;function k(F,P){const Q={type:F[0]};return Q.type==="list"?(Q.name=F[3],Q.countType=F[1],Q.itemType=F[2]):Q.name=F[1],Q.name in P&&(Q.name=P[Q.name]),Q}for(let F=0;F<I.length;F++){let P=I[F];if(P=P.trim(),P==="")continue;const Q=P.split(/\s+/),N=Q.shift();switch(P=Q.join(" "),N){case"format":E.format=Q[0],E.version=Q[1];break;case"comment":E.comments.push(P);break;case"element":M!==void 0&&E.elements.push(M),M={},M.name=Q[0],M.count=parseInt(Q[1]),M.properties=[];break;case"property":M.properties.push(k(Q,v.propertyNameMapping));break;case"obj_info":E.objInfo=P;break;default:console.log("unhandled",N,Q)}}return M!==void 0&&E.elements.push(M),E}function n(_,b){switch(b){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(_);case"float":case"double":case"float32":case"float64":return parseFloat(_)}}function r(_,b){const x={};for(let C=0;C<_.length;C++){if(b.empty())return null;if(_[C].type==="list"){const S=[],E=n(b.next(),_[C].countType);for(let I=0;I<E;I++){if(b.empty())return null;S.push(n(b.next(),_[C].itemType))}x[_[C].name]=S}else x[_[C].name]=n(b.next(),_[C].type)}return x}function o(){const _={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[],faceVertexColors:[]};for(const b of Object.keys(v.customPropertyMapping))_[b]=[];return _}function s(_){const b=_.map(C=>C.name);function x(C){for(let S=0,E=C.length;S<E;S++){const I=C[S];if(b.includes(I))return I}return null}return{attrX:x(["x","px","posx"])||"x",attrY:x(["y","py","posy"])||"y",attrZ:x(["z","pz","posz"])||"z",attrNX:x(["nx","normalx"]),attrNY:x(["ny","normaly"]),attrNZ:x(["nz","normalz"]),attrS:x(["s","u","texture_u","tx"]),attrT:x(["t","v","texture_v","ty"]),attrR:x(["red","diffuse_red","r","diffuse_r"]),attrG:x(["green","diffuse_green","g","diffuse_g"]),attrB:x(["blue","diffuse_blue","b","diffuse_b"])}}function a(_,b){const x=o(),C=/end_header\s+(\S[\s\S]*\S|\S)\s*$/;let S,E;(E=C.exec(_))!==null?S=E[1].split(/\s+/):S=[];const I=new cfe(S);e:for(let M=0;M<b.elements.length;M++){const k=b.elements[M],F=s(k.properties);for(let P=0;P<k.count;P++){const Q=r(k.properties,I);if(!Q)break e;c(x,k.name,Q,F)}}return l(x)}function l(_){let b=new Kt;_.indices.length>0&&b.setIndex(_.indices),b.setAttribute("position",new vt(_.vertices,3)),_.normals.length>0&&b.setAttribute("normal",new vt(_.normals,3)),_.uvs.length>0&&b.setAttribute("uv",new vt(_.uvs,2)),_.colors.length>0&&b.setAttribute("color",new vt(_.colors,3)),(_.faceVertexUvs.length>0||_.faceVertexColors.length>0)&&(b=b.toNonIndexed(),_.faceVertexUvs.length>0&&b.setAttribute("uv",new vt(_.faceVertexUvs,2)),_.faceVertexColors.length>0&&b.setAttribute("color",new vt(_.faceVertexColors,3)));for(const x of Object.keys(v.customPropertyMapping))_[x].length>0&&b.setAttribute(x,new vt(_[x],v.customPropertyMapping[x].length));return b.computeBoundingSphere(),b}function c(_,b,x,C){if(b==="vertex"){_.vertices.push(x[C.attrX],x[C.attrY],x[C.attrZ]),C.attrNX!==null&&C.attrNY!==null&&C.attrNZ!==null&&_.normals.push(x[C.attrNX],x[C.attrNY],x[C.attrNZ]),C.attrS!==null&&C.attrT!==null&&_.uvs.push(x[C.attrS],x[C.attrT]),C.attrR!==null&&C.attrG!==null&&C.attrB!==null&&(Gl.setRGB(x[C.attrR]/255,x[C.attrG]/255,x[C.attrB]/255,fi),_.colors.push(Gl.r,Gl.g,Gl.b));for(const S of Object.keys(v.customPropertyMapping))for(const E of v.customPropertyMapping[S])_[S].push(x[E])}else if(b==="face"){const S=x.vertex_indices||x.vertex_index,E=x.texcoord;S.length===3?(_.indices.push(S[0],S[1],S[2]),E&&E.length===6&&(_.faceVertexUvs.push(E[0],E[1]),_.faceVertexUvs.push(E[2],E[3]),_.faceVertexUvs.push(E[4],E[5]))):S.length===4&&(_.indices.push(S[0],S[1],S[3]),_.indices.push(S[1],S[2],S[3])),C.attrR!==null&&C.attrG!==null&&C.attrB!==null&&(Gl.setRGB(x[C.attrR]/255,x[C.attrG]/255,x[C.attrB]/255,fi),_.faceVertexColors.push(Gl.r,Gl.g,Gl.b),_.faceVertexColors.push(Gl.r,Gl.g,Gl.b),_.faceVertexColors.push(Gl.r,Gl.g,Gl.b))}}function u(_,b){const x={};let C=0;for(let S=0;S<b.length;S++){const E=b[S],I=E.valueReader;if(E.type==="list"){const M=[],k=E.countReader.read(_+C);C+=E.countReader.size;for(let F=0;F<k;F++)M.push(I.read(_+C)),C+=I.size;x[E.name]=M}else x[E.name]=I.read(_+C),C+=I.size}return[x,C]}function h(_,b,x){function C(S,E,I){switch(E){case"int8":case"char":return{read:M=>S.getInt8(M),size:1};case"uint8":case"uchar":return{read:M=>S.getUint8(M),size:1};case"int16":case"short":return{read:M=>S.getInt16(M,I),size:2};case"uint16":case"ushort":return{read:M=>S.getUint16(M,I),size:2};case"int32":case"int":return{read:M=>S.getInt32(M,I),size:4};case"uint32":case"uint":return{read:M=>S.getUint32(M,I),size:4};case"float32":case"float":return{read:M=>S.getFloat32(M,I),size:4};case"float64":case"double":return{read:M=>S.getFloat64(M,I),size:8}}}for(let S=0,E=_.length;S<E;S++){const I=_[S];I.type==="list"?(I.countReader=C(b,I.countType,x),I.valueReader=C(b,I.itemType,x)):I.valueReader=C(b,I.type,x)}}function d(_,b){const x=o(),C=b.format==="binary_little_endian",S=new DataView(_,b.headerLength);let E,I=0;for(let M=0;M<b.elements.length;M++){const k=b.elements[M],F=k.properties,P=s(F);h(F,S,C);for(let Q=0;Q<k.count;Q++){E=u(I,F),I+=E[1];const N=E[0];c(x,k.name,N,P)}}return l(x)}function p(_){let b=0,x=!0,C="";const S=[],E=new TextDecoder().decode(_.subarray(0,5)),I=/^ply\r\n/.test(E);do{const M=String.fromCharCode(_[b++]);M!==`
`&&M!=="\r"?C+=M:(C==="end_header"&&(x=!1),C!==""&&(S.push(C),C=""))}while(x&&b<_.length);return I===!0&&b++,{headerText:S.join("\r")+"\r",headerLength:b}}let g;const v=this;if(e instanceof ArrayBuffer){const _=new Uint8Array(e),{headerText:b,headerLength:x}=p(_),C=t(b,x);if(C.format==="ascii"){const S=new TextDecoder().decode(_);g=a(S,C)}else g=d(e,C)}else g=a(e,t(e));return g}}class cfe{constructor(e){this.arr=e,this.i=0}empty(){return this.i>=this.arr.length}next(){return this.arr[this.i++]}}class ufe extends Cr{constructor(e){super(e)}load(e,t,n,r){const o=this,s=new ro(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(o.parse(a))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},n,r)}parse(e){function t(c){const u=new DataView(c),h=32/8*3+32/8*3*3+16/8,d=u.getUint32(80,!0);if(80+32/8+d*h===u.byteLength)return!0;const g=[115,111,108,105,100];for(let v=0;v<5;v++)if(n(g,u,v))return!1;return!0}function n(c,u,h){for(let d=0,p=c.length;d<p;d++)if(c[d]!==u.getUint8(h+d))return!1;return!0}function r(c){const u=new DataView(c),h=u.getUint32(80,!0);let d,p,g,v=!1,_,b,x,C,S;for(let Q=0;Q<70;Q++)u.getUint32(Q,!1)==1129270351&&u.getUint8(Q+4)==82&&u.getUint8(Q+5)==61&&(v=!0,_=new Float32Array(h*3*3),b=u.getUint8(Q+6)/255,x=u.getUint8(Q+7)/255,C=u.getUint8(Q+8)/255,S=u.getUint8(Q+9)/255);const E=84,I=12*4+2,M=new Kt,k=new Float32Array(h*3*3),F=new Float32Array(h*3*3),P=new ut;for(let Q=0;Q<h;Q++){const N=E+Q*I,W=u.getFloat32(N,!0),q=u.getFloat32(N+4,!0),J=u.getFloat32(N+8,!0);if(v){const V=u.getUint16(N+48,!0);(V&32768)===0?(d=(V&31)/31,p=(V>>5&31)/31,g=(V>>10&31)/31):(d=b,p=x,g=C)}for(let V=1;V<=3;V++){const Y=N+V*12,Z=Q*3*3+(V-1)*3;k[Z]=u.getFloat32(Y,!0),k[Z+1]=u.getFloat32(Y+4,!0),k[Z+2]=u.getFloat32(Y+8,!0),F[Z]=W,F[Z+1]=q,F[Z+2]=J,v&&(P.setRGB(d,p,g,fi),_[Z]=P.r,_[Z+1]=P.g,_[Z+2]=P.b)}}return M.setAttribute("position",new Ci(k,3)),M.setAttribute("normal",new Ci(F,3)),v&&(M.setAttribute("color",new Ci(_,3)),M.hasColors=!0,M.alpha=S),M}function o(c){const u=new Kt,h=/solid([\s\S]*?)endsolid/g,d=/facet([\s\S]*?)endfacet/g,p=/solid\s(.+)/;let g=0;const v=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,_=new RegExp("vertex"+v+v+v,"g"),b=new RegExp("normal"+v+v+v,"g"),x=[],C=[],S=[],E=new he;let I,M=0,k=0,F=0;for(;(I=h.exec(c))!==null;){k=F;const P=I[0],Q=(I=p.exec(P))!==null?I[1]:"";for(S.push(Q);(I=d.exec(P))!==null;){let q=0,J=0;const V=I[0];for(;(I=b.exec(V))!==null;)E.x=parseFloat(I[1]),E.y=parseFloat(I[2]),E.z=parseFloat(I[3]),J++;for(;(I=_.exec(V))!==null;)x.push(parseFloat(I[1]),parseFloat(I[2]),parseFloat(I[3])),C.push(E.x,E.y,E.z),q++,F++;J!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+g),q!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+g),g++}const N=k,W=F-k;u.userData.groupNames=S,u.addGroup(N,W,M),M++}return u.setAttribute("position",new vt(x,3)),u.setAttribute("normal",new vt(C,3)),u}function s(c){return typeof c!="string"?new TextDecoder().decode(c):c}function a(c){if(typeof c=="string"){const u=new Uint8Array(c.length);for(let h=0;h<c.length;h++)u[h]=c.charCodeAt(h)&255;return u.buffer||u}else return c}const l=a(e);return t(l)?r(l):o(s(e))}}class hfe extends Cr{load(e,t,n,r){const o=this,s=new ro(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(o.parse(a))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},n,r)}parse(e){const t=e.split(`
`),n=[],r=[],o=new ut;for(let a of t){if(a=a.trim(),a.charAt(0)==="#")continue;const l=a.split(/\s+/);if(l.length===3&&(n.push(parseFloat(l[0])),n.push(parseFloat(l[1])),n.push(parseFloat(l[2]))),l.length===6){n.push(parseFloat(l[0])),n.push(parseFloat(l[1])),n.push(parseFloat(l[2]));const c=parseFloat(l[3])/255,u=parseFloat(l[4])/255,h=parseFloat(l[5])/255;o.setRGB(c,u,h,fi),r.push(o.r,o.g,o.b)}}const s=new Kt;return s.setAttribute("position",new vt(n,3)),r.length>0&&s.setAttribute("color",new vt(r,3)),s}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const VI=globalThis,hN=VI.ShadowRoot&&(VI.ShadyCSS===void 0||VI.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,qY=Symbol(),c7=new WeakMap;let Afe=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==qY)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(hN&&e===void 0){const n=t!==void 0&&t.length===1;n&&(e=c7.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&c7.set(t,e))}return e}toString(){return this.cssText}};const dfe=i=>new Afe(typeof i=="string"?i:i+"",void 0,qY),pfe=(i,e)=>{if(hN)i.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const t of e){const n=document.createElement("style"),r=VI.litNonce;r!==void 0&&n.setAttribute("nonce",r),n.textContent=t.cssText,i.appendChild(n)}},u7=hN?i=>i:i=>i instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return dfe(t)})(i):i;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:ffe,defineProperty:gfe,getOwnPropertyDescriptor:mfe,getOwnPropertyNames:_fe,getOwnPropertySymbols:vfe,getPrototypeOf:bfe}=Object,Ag=globalThis,h7=Ag.trustedTypes,yfe=h7?h7.emptyScript:"",LD=Ag.reactiveElementPolyfillSupport,Q2=(i,e)=>i,g5={toAttribute(i,e){switch(e){case Boolean:i=i?yfe:null;break;case Object:case Array:i=i==null?i:JSON.stringify(i)}return i},fromAttribute(i,e){let t=i;switch(e){case Boolean:t=i!==null;break;case Number:t=i===null?null:Number(i);break;case Object:case Array:try{t=JSON.parse(i)}catch{t=null}}return t}},AN=(i,e)=>!ffe(i,e),A7={attribute:!0,type:String,converter:g5,reflect:!1,useDefault:!1,hasChanged:AN};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Ag.litPropertyMetadata??(Ag.litPropertyMetadata=new WeakMap);let I_=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=A7){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),r=this.getPropertyDescriptor(e,n,t);r!==void 0&&gfe(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){const{get:r,set:o}=mfe(this.prototype,e)??{get(){return this[t]},set(s){this[t]=s}};return{get:r,set(s){const a=r==null?void 0:r.call(this);o==null||o.call(this,s),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??A7}static _$Ei(){if(this.hasOwnProperty(Q2("elementProperties")))return;const e=bfe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Q2("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Q2("properties"))){const t=this.properties,n=[..._fe(t),...vfe(t)];for(const r of n)this.createProperty(r,t[r])}const e=this[Symbol.metadata];if(e!==null){const t=litPropertyMetadata.get(e);if(t!==void 0)for(const[n,r]of t)this.elementProperties.set(n,r)}this._$Eh=new Map;for(const[t,n]of this.elementProperties){const r=this._$Eu(t,n);r!==void 0&&this._$Eh.set(r,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const r of n)t.unshift(u7(r))}else e!==void 0&&t.push(u7(e));return t}static _$Eu(e,t){const n=t.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(t=>t(this))}addController(e){var t;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((t=e.hostConnected)==null||t.call(e))}removeController(e){var t;(t=this._$EO)==null||t.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return pfe(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(t=>{var n;return(n=t.hostConnected)==null?void 0:n.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(t=>{var n;return(n=t.hostDisconnected)==null?void 0:n.call(t)})}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ET(e,t){var o;const n=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,n);if(r!==void 0&&n.reflect===!0){const s=(((o=n.converter)==null?void 0:o.toAttribute)!==void 0?n.converter:g5).toAttribute(t,n.type);this._$Em=e,s==null?this.removeAttribute(r):this.setAttribute(r,s),this._$Em=null}}_$AK(e,t){var o,s;const n=this.constructor,r=n._$Eh.get(e);if(r!==void 0&&this._$Em!==r){const a=n.getPropertyOptions(r),l=typeof a.converter=="function"?{fromAttribute:a.converter}:((o=a.converter)==null?void 0:o.fromAttribute)!==void 0?a.converter:g5;this._$Em=r,this[r]=l.fromAttribute(t,a.type)??((s=this._$Ej)==null?void 0:s.get(r))??null,this._$Em=null}}requestUpdate(e,t,n){var r;if(e!==void 0){const o=this.constructor,s=this[e];if(n??(n=o.getPropertyOptions(e)),!((n.hasChanged??AN)(s,t)||n.useDefault&&n.reflect&&s===((r=this._$Ej)==null?void 0:r.get(e))&&!this.hasAttribute(o._$Eu(e,n))))return;this.C(e,t,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:n,reflect:r,wrapped:o},s){n&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,s??t??this[e]),o!==!0||s!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(t=void 0),this._$AL.set(e,t)),r===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[o,s]of this._$Ep)this[o]=s;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[o,s]of r){const{wrapped:a}=s,l=this[o];a!==!0||this._$AL.has(o)||l===void 0||this.C(o,void 0,s,l)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),(n=this._$EO)==null||n.forEach(r=>{var o;return(o=r.hostUpdate)==null?void 0:o.call(r)}),this.update(t)):this._$EM()}catch(r){throw e=!1,this._$EM(),r}e&&this._$AE(t)}willUpdate(e){}_$AE(e){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostUpdated)==null?void 0:r.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(t=>this._$ET(t,this[t]))),this._$EM()}updated(e){}firstUpdated(e){}};I_.elementStyles=[],I_.shadowRootOptions={mode:"open"},I_[Q2("elementProperties")]=new Map,I_[Q2("finalized")]=new Map,LD==null||LD({ReactiveElement:I_}),(Ag.reactiveElementVersions??(Ag.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wfe={attribute:!0,type:String,converter:g5,reflect:!1,hasChanged:AN},xfe=(i=wfe,e,t)=>{const{kind:n,metadata:r}=t;let o=globalThis.litPropertyMetadata.get(r);if(o===void 0&&globalThis.litPropertyMetadata.set(r,o=new Map),n==="setter"&&((i=Object.create(i)).wrapped=!0),o.set(t.name,i),n==="accessor"){const{name:s}=t;return{set(a){const l=e.get.call(this);e.set.call(this,a),this.requestUpdate(s,l,i)},init(a){return a!==void 0&&this.C(s,void 0,i,a),a}}}if(n==="setter"){const{name:s}=t;return function(a){const l=this[s];e.call(this,a),this.requestUpdate(s,l,i)}}throw Error("Unsupported decorator location: "+n)};function oi(i){return(e,t)=>typeof t=="object"?xfe(i,e,t):((n,r,o)=>{const s=r.hasOwnProperty(o);return r.constructor.createProperty(o,n),s?Object.getOwnPropertyDescriptor(r,o):void 0})(i,e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const N2=globalThis,m5=N2.trustedTypes,d7=m5?m5.createPolicy("lit-html",{createHTML:i=>i}):void 0,WY="$lit$",Jf=`lit$${Math.random().toFixed(9).slice(2)}$`,jY="?"+Jf,Cfe=`<${jY}>`,fv=document,IB=()=>fv.createComment(""),MB=i=>i===null||typeof i!="object"&&typeof i!="function",dN=Array.isArray,Bfe=i=>dN(i)||typeof(i==null?void 0:i[Symbol.iterator])=="function",OD=`[ 	
\f\r]`,AC=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,p7=/-->/g,f7=/>/g,$m=RegExp(`>|${OD}(?:([^\\s"'>=/]+)(${OD}*=${OD}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),g7=/'/g,m7=/"/g,KY=/^(?:script|style|textarea|title)$/i,Sfe=i=>(e,...t)=>({_$litType$:i,strings:e,values:t}),dk=Sfe(1),Hy=Symbol.for("lit-noChange"),Ms=Symbol.for("lit-nothing"),_7=new WeakMap,P_=fv.createTreeWalker(fv,129);function $Y(i,e){if(!dN(i)||!i.hasOwnProperty("raw"))throw Error("invalid template strings array");return d7!==void 0?d7.createHTML(e):e}const Efe=(i,e)=>{const t=i.length-1,n=[];let r,o=e===2?"<svg>":e===3?"<math>":"",s=AC;for(let a=0;a<t;a++){const l=i[a];let c,u,h=-1,d=0;for(;d<l.length&&(s.lastIndex=d,u=s.exec(l),u!==null);)d=s.lastIndex,s===AC?u[1]==="!--"?s=p7:u[1]!==void 0?s=f7:u[2]!==void 0?(KY.test(u[2])&&(r=RegExp("</"+u[2],"g")),s=$m):u[3]!==void 0&&(s=$m):s===$m?u[0]===">"?(s=r??AC,h=-1):u[1]===void 0?h=-2:(h=s.lastIndex-u[2].length,c=u[1],s=u[3]===void 0?$m:u[3]==='"'?m7:g7):s===m7||s===g7?s=$m:s===p7||s===f7?s=AC:(s=$m,r=void 0);const p=s===$m&&i[a+1].startsWith("/>")?" ":"";o+=s===AC?l+Cfe:h>=0?(n.push(c),l.slice(0,h)+WY+l.slice(h)+Jf+p):l+Jf+(h===-2?a:p)}return[$Y(i,o+(i[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class RB{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let o=0,s=0;const a=e.length-1,l=this.parts,[c,u]=Efe(e,t);if(this.el=RB.createElement(c,n),P_.currentNode=this.el.content,t===2||t===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(r=P_.nextNode())!==null&&l.length<a;){if(r.nodeType===1){if(r.hasAttributes())for(const h of r.getAttributeNames())if(h.endsWith(WY)){const d=u[s++],p=r.getAttribute(h).split(Jf),g=/([.?@])?(.*)/.exec(d);l.push({type:1,index:o,name:g[2],strings:p,ctor:g[1]==="."?Ife:g[1]==="?"?Mfe:g[1]==="@"?Rfe:pk}),r.removeAttribute(h)}else h.startsWith(Jf)&&(l.push({type:6,index:o}),r.removeAttribute(h));if(KY.test(r.tagName)){const h=r.textContent.split(Jf),d=h.length-1;if(d>0){r.textContent=m5?m5.emptyScript:"";for(let p=0;p<d;p++)r.append(h[p],IB()),P_.nextNode(),l.push({type:2,index:++o});r.append(h[d],IB())}}}else if(r.nodeType===8)if(r.data===jY)l.push({type:2,index:o});else{let h=-1;for(;(h=r.data.indexOf(Jf,h+1))!==-1;)l.push({type:7,index:o}),h+=Jf.length-1}o++}}static createElement(e,t){const n=fv.createElement("template");return n.innerHTML=e,n}}function zy(i,e,t=i,n){var s,a;if(e===Hy)return e;let r=n!==void 0?(s=t._$Co)==null?void 0:s[n]:t._$Cl;const o=MB(e)?void 0:e._$litDirective$;return(r==null?void 0:r.constructor)!==o&&((a=r==null?void 0:r._$AO)==null||a.call(r,!1),o===void 0?r=void 0:(r=new o(i),r._$AT(i,t,n)),n!==void 0?(t._$Co??(t._$Co=[]))[n]=r:t._$Cl=r),r!==void 0&&(e=zy(i,r._$AS(i,e.values),r,n)),e}let Tfe=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,r=((e==null?void 0:e.creationScope)??fv).importNode(t,!0);P_.currentNode=r;let o=P_.nextNode(),s=0,a=0,l=n[0];for(;l!==void 0;){if(s===l.index){let c;l.type===2?c=new pN(o,o.nextSibling,this,e):l.type===1?c=new l.ctor(o,l.name,l.strings,this,e):l.type===6&&(c=new kfe(o,this,e)),this._$AV.push(c),l=n[++a]}s!==(l==null?void 0:l.index)&&(o=P_.nextNode(),s++)}return P_.currentNode=fv,r}p(e){let t=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}},pN=class XY{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,t,n,r){this.type=2,this._$AH=Ms,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=(r==null?void 0:r.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=zy(this,e,t),MB(e)?e===Ms||e==null||e===""?(this._$AH!==Ms&&this._$AR(),this._$AH=Ms):e!==this._$AH&&e!==Hy&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Bfe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Ms&&MB(this._$AH)?this._$AA.nextSibling.data=e:this.T(fv.createTextNode(e)),this._$AH=e}$(e){var o;const{values:t,_$litType$:n}=e,r=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=RB.createElement($Y(n.h,n.h[0]),this.options)),n);if(((o=this._$AH)==null?void 0:o._$AD)===r)this._$AH.p(t);else{const s=new Tfe(r,this),a=s.u(this.options);s.p(t),this.T(a),this._$AH=s}}_$AC(e){let t=_7.get(e.strings);return t===void 0&&_7.set(e.strings,t=new RB(e)),t}k(e){dN(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const o of e)r===t.length?t.push(n=new XY(this.O(IB()),this.O(IB()),this,this.options)):n=t[r],n._$AI(o),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,t);e&&e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){var t;this._$AM===void 0&&(this._$Cv=e,(t=this._$AP)==null||t.call(this,e))}},pk=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,r,o){this.type=1,this._$AH=Ms,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Ms}_$AI(e,t=this,n,r){const o=this.strings;let s=!1;if(o===void 0)e=zy(this,e,t,0),s=!MB(e)||e!==this._$AH&&e!==Hy,s&&(this._$AH=e);else{const a=e;let l,c;for(e=o[0],l=0;l<o.length-1;l++)c=zy(this,a[n+l],t,l),c===Hy&&(c=this._$AH[l]),s||(s=!MB(c)||c!==this._$AH[l]),c===Ms?e=Ms:e!==Ms&&(e+=(c??"")+o[l+1]),this._$AH[l]=c}s&&!r&&this.j(e)}j(e){e===Ms?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},Ife=class extends pk{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ms?void 0:e}},Mfe=class extends pk{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Ms)}},Rfe=class extends pk{constructor(e,t,n,r,o){super(e,t,n,r,o),this.type=5}_$AI(e,t=this){if((e=zy(this,e,t,0)??Ms)===Hy)return;const n=this._$AH,r=e===Ms&&n!==Ms||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,o=e!==Ms&&(n===Ms||r);r&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t;typeof this._$AH=="function"?this._$AH.call(((t=this.options)==null?void 0:t.host)??this.element,e):this._$AH.handleEvent(e)}},kfe=class{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){zy(this,e)}};const QD=N2.litHtmlPolyfillSupport;QD==null||QD(RB,pN),(N2.litHtmlVersions??(N2.litHtmlVersions=[])).push("3.3.0");const YY=(i,e,t)=>{const n=(t==null?void 0:t.renderBefore)??e;let r=n._$litPart$;if(r===void 0){const o=(t==null?void 0:t.renderBefore)??null;n._$litPart$=r=new pN(e.insertBefore(IB(),o),o,void 0,t??{})}return r._$AI(i),r};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Y_=globalThis;class qI extends I_{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const e=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=e.firstChild),e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=YY(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Hy}}var K$;qI._$litElement$=!0,qI.finalized=!0,(K$=Y_.litElementHydrateSupport)==null||K$.call(Y_,{LitElement:qI});const ND=Y_.litElementPolyfillSupport;ND==null||ND({LitElement:qI});(Y_.litElementVersions??(Y_.litElementVersions=[])).push("4.2.0");/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZY=navigator.xr!=null&&self.XRSession!=null&&navigator.xr.isSessionSupported!=null,JY=ZY&&self.XRSession.prototype.requestHitTestSource!=null,HD=self.ResizeObserver!=null,zD=self.IntersectionObserver!=null,eZ=JY;(()=>{const i=navigator.userAgent||navigator.vendor||self.opera;let e=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(e=!0),e})();const Ffe=/android/i.test(navigator.userAgent),Dfe=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!self.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Ufe=/firefox/i.test(navigator.userAgent),Pfe=/OculusBrowser/.test(navigator.userAgent),Lfe=Ffe&&!Ufe&&!Pfe,Ofe=!!(window.webkit&&window.webkit.messageHandlers),v7=(()=>{if(Dfe){if(Ofe)return!!/CriOS\/|EdgiOS\/|FxiOS\/|GSA\/|DuckDuckGo\//.test(navigator.userAgent);{const i=document.createElement("a");return!!(i.relList&&i.relList.supports&&i.relList.supports("ar"))}}else return!1})();/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ=i=>i&&i!=="null"?Qfe(i):null,b7=()=>{if(eZ)return;const i=[];throw ZY||i.push("WebXR Device API"),JY||i.push("WebXR Hit Test API"),new Error(`The following APIs are required for AR, but are missing in this browser: ${i.join(", ")}`)},Qfe=i=>new URL(i,window.location.toString()).toString(),Nfe=(i,e)=>{let t=null;const n=(...r)=>{t==null&&(i(...r),t=self.setTimeout(()=>t=null,e))};return n.flush=()=>{t!=null&&(self.clearTimeout(t),t=null)},n},y7=(i,e)=>{let t=null;return(...n)=>{t!=null&&self.clearTimeout(t),t=self.setTimeout(()=>{t=null,i(...n)},e)}},DA=(i,e,t)=>Math.max(e,Math.min(t,i)),w7=(()=>{const i="model-viewer-debug-mode",e=new RegExp(`[?&]${i}(&|$)`);return()=>self.ModelViewerElement&&self.ModelViewerElement.debugMode||self.location&&self.location.search&&self.location.search.match(e)})(),Hfe=(i=0)=>new Promise(e=>setTimeout(e,i)),zfe=(i,e,t=null)=>new Promise(n=>{function r(o){(!t||t(o))&&(n(o),i.removeEventListener(e,r))}i.addEventListener(e,r)});/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xm=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};const Gfe=.5,Vfe=0,qfe=1,Wfe=1,c2=Symbol("currentEnvironmentMap"),u2=Symbol("currentBackground"),_5=Symbol("updateEnvironment"),WT=Symbol("cancelEnvironmentUpdate"),jfe=i=>{var e,t,n;class r extends i{constructor(){super(...arguments),this.environmentImage=null,this.skyboxImage=null,this.shadowIntensity=Vfe,this.shadowSoftness=qfe,this.exposure=Wfe,this.toneMapping="auto",this.skyboxHeight="0",this[e]=null,this[t]=null,this[n]=null}updated(s){super.updated(s),s.has("shadowIntensity")&&(this[nt].setShadowIntensity(this.shadowIntensity*Gfe),this[Ds]()),s.has("shadowSoftness")&&(this[nt].setShadowSoftness(this.shadowSoftness),this[Ds]()),s.has("exposure")&&(this[nt].exposure=this.exposure,this[Ds]()),s.has("toneMapping")&&(this[nt].toneMapping=this.toneMapping==="aces"?IR:this.toneMapping==="agx"?wQ:this.toneMapping==="reinhard"?bQ:this.toneMapping==="cineon"?yQ:this.toneMapping==="linear"?vQ:this.toneMapping==="none"?Mu:Ry,this[Ds]()),(s.has("environmentImage")||s.has("skyboxImage"))&&this[Gy]()&&this[_5](),s.has("skyboxHeight")&&(this[nt].setGroundedSkybox(),this[Ds]())}hasBakedShadow(){return this[nt].bakedShadows.size>0}async[(e=c2,t=u2,n=WT,_5)](){const{skyboxImage:s,environmentImage:a}=this;this[WT]!=null&&(this[WT](),this[WT]=null);const{textureUtils:l}=this[Ln];if(l==null)return;const c=this[gv].beginActivity("environment-update");try{const{environmentMap:u,skybox:h}=await l.generateEnvironmentMapAndSkybox(tZ(s),a,d=>c(DA(d,0,1)),this.withCredentials);this[c2]!==u&&(this[c2]=u,this.dispatchEvent(new CustomEvent("environment-change"))),h!=null?this[u2]=h.name===u.name?u:h:this[u2]=null,this[nt].setEnvironmentAndSkybox(this[c2],this[u2])}catch(u){if(u instanceof Error)throw this[nt].setEnvironmentAndSkybox(null,null),u}finally{c(1)}}}return Xm([oi({type:String,attribute:"environment-image"})],r.prototype,"environmentImage",void 0),Xm([oi({type:String,attribute:"skybox-image"})],r.prototype,"skyboxImage",void 0),Xm([oi({type:Number,attribute:"shadow-intensity"})],r.prototype,"shadowIntensity",void 0),Xm([oi({type:Number,attribute:"shadow-softness"})],r.prototype,"shadowSoftness",void 0),Xm([oi({type:Number})],r.prototype,"exposure",void 0),Xm([oi({type:String,attribute:"tone-mapping"})],r.prototype,"toneMapping",void 0),Xm([oi({type:String,attribute:"skybox-height"})],r.prototype,"skyboxHeight",void 0),r};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kfe=dk`
<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000">
    <!-- NOTE(cdata): This SVG filter is a stop-gap until we can implement
         support for dynamic re-coloring of UI components -->
    <defs>
      <filter id="drop-shadow" x="-100%" y="-100%" width="300%" height="300%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>
        <feOffset dx="0" dy="0" result="offsetblur"/>
        <feFlood flood-color="#000000"/>
        <feComposite in2="offsetblur" operator="in"/>
        <feMerge>
          <feMergeNode/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>
    <path filter="url(#drop-shadow)" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $fe=dk`
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="36">
    <defs>
        <path id="A" d="M.001.232h24.997V36H.001z" />
    </defs>
    <g transform="translate(-11 -4)" fill="none" fill-rule="evenodd">
        <path fill-opacity="0" fill="#fff" d="M0 0h44v44H0z" />
        <g transform="translate(11 3)">
            <path d="M8.733 11.165c.04-1.108.766-2.027 1.743-2.307a2.54 2.54 0 0 1 .628-.089c.16 0 .314.017.463.044 1.088.2 1.9 1.092 1.9 2.16v8.88h1.26c2.943-1.39 5-4.45 5-8.025a9.01 9.01 0 0 0-1.9-5.56l-.43-.5c-.765-.838-1.683-1.522-2.712-2-1.057-.49-2.226-.77-3.46-.77s-2.4.278-3.46.77c-1.03.478-1.947 1.162-2.71 2l-.43.5a9.01 9.01 0 0 0-1.9 5.56 9.04 9.04 0 0 0 .094 1.305c.03.21.088.41.13.617l.136.624c.083.286.196.56.305.832l.124.333a8.78 8.78 0 0 0 .509.953l.065.122a8.69 8.69 0 0 0 3.521 3.191l1.11.537v-9.178z" fill-opacity=".5" fill="#e4e4e4" />
            <path d="M22.94 26.218l-2.76 7.74c-.172.485-.676.8-1.253.8H12.24c-1.606 0-3.092-.68-3.98-1.82-1.592-2.048-3.647-3.822-6.11-5.27-.095-.055-.15-.137-.152-.23-.004-.1.046-.196.193-.297.56-.393 1.234-.6 1.926-.6a3.43 3.43 0 0 1 .691.069l4.922.994V10.972c0-.663.615-1.203 1.37-1.203s1.373.54 1.373 1.203v9.882h2.953c.273 0 .533.073.757.21l6.257 3.874c.027.017.045.042.07.06.41.296.586.77.426 1.22M4.1 16.614c-.024-.04-.042-.083-.065-.122a8.69 8.69 0 0 1-.509-.953c-.048-.107-.08-.223-.124-.333l-.305-.832c-.058-.202-.09-.416-.136-.624l-.13-.617a9.03 9.03 0 0 1-.094-1.305c0-2.107.714-4.04 1.9-5.56l.43-.5c.764-.84 1.682-1.523 2.71-2 1.058-.49 2.226-.77 3.46-.77s2.402.28 3.46.77c1.03.477 1.947 1.16 2.712 2l.428.5a9 9 0 0 1 1.901 5.559c0 3.577-2.056 6.636-5 8.026h-1.26v-8.882c0-1.067-.822-1.96-1.9-2.16-.15-.028-.304-.044-.463-.044-.22 0-.427.037-.628.09-.977.28-1.703 1.198-1.743 2.306v9.178l-1.11-.537C6.18 19.098 4.96 18 4.1 16.614M22.97 24.09l-6.256-3.874c-.102-.063-.218-.098-.33-.144 2.683-1.8 4.354-4.855 4.354-8.243 0-.486-.037-.964-.104-1.43a9.97 9.97 0 0 0-1.57-4.128l-.295-.408-.066-.092a10.05 10.05 0 0 0-.949-1.078c-.342-.334-.708-.643-1.094-.922-1.155-.834-2.492-1.412-3.94-1.65l-.732-.088-.748-.03a9.29 9.29 0 0 0-1.482.119c-1.447.238-2.786.816-3.94 1.65a9.33 9.33 0 0 0-.813.686 9.59 9.59 0 0 0-.845.877l-.385.437-.36.5-.288.468-.418.778-.04.09c-.593 1.28-.93 2.71-.93 4.222 0 3.832 2.182 7.342 5.56 8.938l1.437.68v4.946L5 25.64a4.44 4.44 0 0 0-.888-.086c-.017 0-.034.003-.05.003-.252.004-.503.033-.75.08a5.08 5.08 0 0 0-.237.056c-.193.046-.382.107-.568.18-.075.03-.15.057-.225.1-.25.114-.494.244-.723.405a1.31 1.31 0 0 0-.566 1.122 1.28 1.28 0 0 0 .645 1.051C4 29.925 5.96 31.614 7.473 33.563a5.06 5.06 0 0 0 .434.491c1.086 1.082 2.656 1.713 4.326 1.715h6.697c.748-.001 1.43-.333 1.858-.872.142-.18.256-.38.336-.602l2.757-7.74c.094-.26.13-.53.112-.794s-.088-.52-.203-.76a2.19 2.19 0 0 0-.821-.91" fill-opacity=".6" fill="#000" />
            <path d="M22.444 24.94l-6.257-3.874a1.45 1.45 0 0 0-.757-.211h-2.953v-9.88c0-.663-.616-1.203-1.373-1.203s-1.37.54-1.37 1.203v16.643l-4.922-.994a3.44 3.44 0 0 0-.692-.069 3.35 3.35 0 0 0-1.925.598c-.147.102-.198.198-.194.298.004.094.058.176.153.23 2.462 1.448 4.517 3.22 6.11 5.27.887 1.14 2.373 1.82 3.98 1.82h6.686c.577 0 1.08-.326 1.253-.8l2.76-7.74c.16-.448-.017-.923-.426-1.22-.025-.02-.043-.043-.07-.06z" fill="#fff" />
            <g transform="translate(0 .769)">
                <mask id="B" fill="#fff">
                    <use xlink:href="#A" />
                </mask>
                <path d="M23.993 24.992a1.96 1.96 0 0 1-.111.794l-2.758 7.74c-.08.22-.194.423-.336.602-.427.54-1.11.87-1.857.872h-6.698c-1.67-.002-3.24-.633-4.326-1.715-.154-.154-.3-.318-.434-.49C5.96 30.846 4 29.157 1.646 27.773c-.385-.225-.626-.618-.645-1.05a1.31 1.31 0 0 1 .566-1.122 4.56 4.56 0 0 1 .723-.405l.225-.1a4.3 4.3 0 0 1 .568-.18l.237-.056c.248-.046.5-.075.75-.08.018 0 .034-.003.05-.003.303-.001.597.027.89.086l3.722.752V20.68l-1.436-.68c-3.377-1.596-5.56-5.106-5.56-8.938 0-1.51.336-2.94.93-4.222.015-.03.025-.06.04-.09.127-.267.268-.525.418-.778.093-.16.186-.316.288-.468.063-.095.133-.186.2-.277L3.773 5c.118-.155.26-.29.385-.437.266-.3.544-.604.845-.877a9.33 9.33 0 0 1 .813-.686C6.97 2.167 8.31 1.59 9.757 1.35a9.27 9.27 0 0 1 1.481-.119 8.82 8.82 0 0 1 .748.031c.247.02.49.05.733.088 1.448.238 2.786.816 3.94 1.65.387.28.752.588 1.094.922a9.94 9.94 0 0 1 .949 1.078l.066.092c.102.133.203.268.295.408a9.97 9.97 0 0 1 1.571 4.128c.066.467.103.945.103 1.43 0 3.388-1.67 6.453-4.353 8.243.11.046.227.08.33.144l6.256 3.874c.37.23.645.55.82.9.115.24.185.498.203.76m.697-1.195c-.265-.55-.677-1.007-1.194-1.326l-5.323-3.297c2.255-2.037 3.564-4.97 3.564-8.114 0-2.19-.637-4.304-1.84-6.114-.126-.188-.26-.37-.4-.552-.645-.848-1.402-1.6-2.252-2.204C15.472.91 13.393.232 11.238.232A10.21 10.21 0 0 0 5.23 2.19c-.848.614-1.606 1.356-2.253 2.205-.136.18-.272.363-.398.55C1.374 6.756.737 8.87.737 11.06c0 4.218 2.407 8.08 6.133 9.842l.863.41v3.092l-2.525-.51c-.356-.07-.717-.106-1.076-.106a5.45 5.45 0 0 0-3.14.996c-.653.46-1.022 1.202-.99 1.983a2.28 2.28 0 0 0 1.138 1.872c2.24 1.318 4.106 2.923 5.543 4.772 1.26 1.62 3.333 2.59 5.55 2.592h6.698c1.42-.001 2.68-.86 3.134-2.138l2.76-7.74c.272-.757.224-1.584-.134-2.325" fill-opacity=".05" fill="#000" mask="url(#B)" />
            </g>
        </g>
    </g>
</svg>`;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xfe=dk`
<svg version="1.1" id="view_x5F_in_x5F_AR_x5F_icon"
	 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px"
	 viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
<rect id="Bounding_Box" x="0" y="0" fill="none" width="24" height="24"/>
<g id="Art_layer">
	<path d="M3,4c0-0.55,0.45-1,1-1h2V1H4C2.35,1,1,2.35,1,4v2h2V4z"/>
	<path d="M20,3c0.55,0,1,0.45,1,1v2h2V4c0-1.65-1.35-3-3-3h-2v2H20z"/>
	<path d="M4,21c-0.55,0-1-0.45-1-1v-2H1v2c0,1.65,1.35,3,3,3h2v-2H4z"/>
	<path d="M20,21c0.55,0,1-0.45,1-1v-2h2v2c0,1.65-1.35,3-3,3h-2v-2H20z"/>
	<g>
		<path d="M18.25,7.6l-5.5-3.18c-0.46-0.27-1.04-0.27-1.5,0L5.75,7.6C5.29,7.87,5,8.36,5,8.9v6.35c0,0.54,0.29,1.03,0.75,1.3
			l5.5,3.18c0.46,0.27,1.04,0.27,1.5,0l5.5-3.18c0.46-0.27,0.75-0.76,0.75-1.3V8.9C19,8.36,18.71,7.87,18.25,7.6z M7,14.96v-4.62
			l4,2.32v4.61L7,14.96z M12,10.93L8,8.61l4-2.31l4,2.31L12,10.93z M13,17.27v-4.61l4-2.32v4.62L13,17.27z"/>
	</g>
</g>
</svg>`;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yfe=dk`
<style>
:host {
  display: block;
  position: relative;
  contain: strict;
  width: 300px;
  height: 150px;
}

.container {
  position: relative;
  overflow: hidden;
}

.userInput {
  width: 100%;
  height: 100%;
  display: none;
  position: relative;
  outline-offset: -1px;
  outline-width: 1px;
}

canvas {
  position: absolute;
  display: none;
  pointer-events: none;
  /* NOTE(cdata): Chrome 76 and below apparently have a bug
   * that causes our canvas not to display pixels unless it is
   * on its own render layer
   * @see https://github.com/google/model-viewer/pull/755#issuecomment-536597893
   */
  transform: translateZ(0);
}

.show {
  display: block;
}

/* Adapted from HTML5 Boilerplate
 *
 * @see https://github.com/h5bp/html5-boilerplate/blob/ceb4620c78fc82e13534fc44202a3f168754873f/dist/css/main.css#L122-L133 */
.screen-reader-only {
  border: 0;
  left: 0;
  top: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  white-space: nowrap;
  width: 1px;
  pointer-events: none;
}

.slot {
  position: absolute;
  pointer-events: none;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.slot > * {
  pointer-events: initial;
}

.annotation-wrapper ::slotted(*) {
  opacity: var(--max-hotspot-opacity, 1);
  transition: opacity 0.3s;
}

.pointer-tumbling .annotation-wrapper ::slotted(*) {
  pointer-events: none;
}

.annotation-wrapper ::slotted(*) {
  pointer-events: initial;
}

.annotation-wrapper.hide ::slotted(*) {
  opacity: var(--min-hotspot-opacity, 0.25);
}

.slot.poster {
  display: none;
  background-color: inherit;
}

.slot.poster.show {
  display: inherit;
}

.slot.poster > * {
  pointer-events: initial;
}

.slot.poster:not(.show) > * {
  pointer-events: none;
}

#default-poster {
  width: 100%;
  height: 100%;
  /* The default poster is a <button> so we need to set display
   * to prevent it from being affected by text-align: */
  display: block;
  position: absolute;
  border: none;
  padding: 0;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: #fff0;
}

#default-progress-bar {
  display: block;
  position: relative;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
}

#default-progress-bar > .bar {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--progress-bar-height, 5px);
  background-color: var(--progress-bar-color, rgba(0, 0, 0, 0.4));
  transition: transform 0.09s;
  transform-origin: top left;
  transform: scaleX(0);
  overflow: hidden;
}

#default-progress-bar > .bar.hide {
  transition: opacity 0.3s 1s;
  opacity: 0;
}

.centered {
  align-items: center;
  justify-content: center;
}

.cover {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.slot.interaction-prompt {
  display: var(--interaction-prompt-display, flex);
  overflow: hidden;
  opacity: 0;
  will-change: opacity;
  transition: opacity 0.3s;
}

.slot.interaction-prompt.visible {
  opacity: 1;
}

.animated-container {
  will-change: transform, opacity;
  opacity: 0;
  transition: opacity 0.3s;
}

.slot.interaction-prompt > * {
  pointer-events: none;
}

.slot.ar-button {
  -moz-user-select: none;
  -webkit-tap-highlight-color: transparent;
  user-select: none;

  display: var(--ar-button-display, block);
}

.slot.ar-button:not(.enabled) {
  display: none;
}

.fab {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: 40px;
  height: 40px;
  cursor: pointer;
  background-color: #fff;
  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.15);
  border-radius: 100px;
}

.fab > * {
  opacity: 0.87;
}

#default-ar-button {
  position: absolute;
  bottom: 16px;
  right: 16px;
  transform: scale(var(--ar-button-scale, 1));
  transform-origin: bottom right;
}

.slot.pan-target {
  display: block;
  position: absolute;
  width: 0;
  height: 0;
  left: 50%;
  top: 50%;
  transform: translate3d(-50%, -50%, 0);
  background-color: transparent;
  opacity: 0;
  transition: opacity 0.3s;
}

#default-pan-target {
  width: 6px;
  height: 6px;
  border-radius: 6px;
  border: 1px solid white;
  box-shadow: 0px 0px 2px 1px rgba(0, 0, 0, 0.8);
}

.slot.default {
  pointer-events: none;
}

.slot.progress-bar {
  pointer-events: none;
}

.slot.exit-webxr-ar-button {
  pointer-events: none;
}

.slot.exit-webxr-ar-button:not(.enabled) {
  display: none;
}

#default-exit-webxr-ar-button {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: env(safe-area-inset-top, 16px);
  right: 16px;
  width: 40px;
  height: 40px;
  box-sizing: border-box;
}

#default-exit-webxr-ar-button > svg {
  fill: #fff;
}
</style>
<div class="container">
  <div class="userInput" tabindex="0" role="img"
      aria-label="3D model">
      <div class="slot canvas">
        <slot name="canvas">
          <canvas></canvas>
        </slot>
      </div>

  </div>

  <!-- NOTE(cdata): We need to wrap slots because browsers without ShadowDOM
        will have their <slot> elements removed by ShadyCSS -->
  <div class="slot poster">
    <slot name="poster">
      <button type="button" id="default-poster" aria-hidden="true" aria-label="Loading 3D model"></button>
    </slot>
  </div>

  <div class="slot ar-button">
    <slot name="ar-button">
      <a id="default-ar-button" part="default-ar-button" class="fab"
          tabindex="2"
          role="button"
          href="javascript:void(0);"
          aria-label="View in your space">
        ${Xfe}
      </a>
    </slot>
  </div>

  <div class="slot pan-target">
    <slot name="pan-target">
      <div id="default-pan-target">
      </div>
    </slot>
  </div>

  <div class="slot interaction-prompt cover centered">
    <div id="prompt" class="animated-container">
      <slot name="interaction-prompt" aria-hidden="true">
        ${$fe}
      </slot>
    </div>
  </div>

  <div id="finger0" class="animated-container cover">
    <slot name="finger0" aria-hidden="true">
    </slot>
  </div>
  <div id="finger1" class="animated-container cover">
    <slot name="finger1" aria-hidden="true">
    </slot>
  </div>

  <div class="slot default">
    <slot></slot>

    <div class="slot progress-bar">
      <slot name="progress-bar">
        <div id="default-progress-bar" aria-hidden="true">
          <div class="bar" part="default-progress-bar"></div>
        </div>
      </slot>
    </div>

    <div class="slot exit-webxr-ar-button">
      <slot name="exit-webxr-ar-button">
        <a id="default-exit-webxr-ar-button" part="default-exit-webxr-ar-button"
            tabindex="3"
            aria-label="Exit AR"
            aria-hidden="true">
          ${Kfe}
        </a>
      </slot>
    </div>
  </div>
</div>
<div class="screen-reader-only" role="region" aria-label="Live announcements">
  <span id="status" role="status"></span>
</div>`,Zfe=i=>{YY(Yfe,i)};var x7=function(){var i="b9H79Tebbbe8Fv9Gbb9Gvuuuuueu9Giuuub9Geueu9Giuuueuikqbeeedddillviebeoweuec:q;iekr;leDo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbeY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVbdE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbiL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtblK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949Wbol79IV9Rbrq:P8Yqdbk;3sezu8Jjjjjbcj;eb9Rgv8Kjjjjbc9:hodnadcefal0mbcuhoaiRbbc:Ge9hmbavaialfgrad9Radz1jjjbhwcj;abad9UhoaicefhldnadTmbaoc;WFbGgocjdaocjd6EhDcbhqinaqae9pmeaDaeaq9RaqaDfae6Egkcsfgocl4cifcd4hxdndndndnaoc9WGgmTmbcbhPcehsawcjdfhzalhHinaraH9Rax6midnaraHaxfgl9RcK6mbczhoinawcj;cbfaogifgoc9WfhOdndndndndnaHaic9WfgAco4fRbbaAci4coG4ciGPlbedibkaO9cb83ibaOcwf9cb83ibxikaOalRblalRbbgAco4gCaCciSgCE86bbaocGfalclfaCfgORbbaAcl4ciGgCaCciSgCE86bbaocVfaOaCfgORbbaAcd4ciGgCaCciSgCE86bbaoc7faOaCfgORbbaAciGgAaAciSgAE86bbaoctfaOaAfgARbbalRbegOco4gCaCciSgCE86bbaoc91faAaCfgARbbaOcl4ciGgCaCciSgCE86bbaoc4faAaCfgARbbaOcd4ciGgCaCciSgCE86bbaoc93faAaCfgARbbaOciGgOaOciSgOE86bbaoc94faAaOfgARbbalRbdgOco4gCaCciSgCE86bbaoc95faAaCfgARbbaOcl4ciGgCaCciSgCE86bbaoc96faAaCfgARbbaOcd4ciGgCaCciSgCE86bbaoc97faAaCfgARbbaOciGgOaOciSgOE86bbaoc98faAaOfgORbbalRbiglco4gAaAciSgAE86bbaoc99faOaAfgORbbalcl4ciGgAaAciSgAE86bbaoc9:faOaAfgORbbalcd4ciGgAaAciSgAE86bbaocufaOaAfgoRbbalciGglalciSglE86bbaoalfhlxdkaOalRbwalRbbgAcl4gCaCcsSgCE86bbaocGfalcwfaCfgORbbaAcsGgAaAcsSgAE86bbaocVfaOaAfgORbbalRbegAcl4gCaCcsSgCE86bbaoc7faOaCfgORbbaAcsGgAaAcsSgAE86bbaoctfaOaAfgORbbalRbdgAcl4gCaCcsSgCE86bbaoc91faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc4faOaAfgORbbalRbigAcl4gCaCcsSgCE86bbaoc93faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc94faOaAfgORbbalRblgAcl4gCaCcsSgCE86bbaoc95faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc96faOaAfgORbbalRbvgAcl4gCaCcsSgCE86bbaoc97faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc98faOaAfgORbbalRbogAcl4gCaCcsSgCE86bbaoc99faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc9:faOaAfgORbbalRbrglcl4gAaAcsSgAE86bbaocufaOaAfgoRbbalcsGglalcsSglE86bbaoalfhlxekaOal8Pbb83bbaOcwfalcwf8Pbb83bbalczfhlkdnaiam9pmbaiczfhoaral9RcL0mekkaiam6mialTmidnakTmbawaPfRbbhOcbhoazhiinaiawcj;cbfaofRbbgAce4cbaAceG9R7aOfgO86bbaiadfhiaocefgoak9hmbkkazcefhzaPcefgPad6hsalhHaPad9hmexvkkcbhlasceGmdxikalaxad2fhCdnakTmbcbhHcehsawcjdfhminaral9Rax6mialTmdalaxfhlawaHfRbbhOcbhoamhiinaiawcj;cbfaofRbbgAce4cbaAceG9R7aOfgO86bbaiadfhiaocefgoak9hmbkamcefhmaHcefgHad6hsaHad9hmbkaChlxikcbhocehsinaral9Rax6mdalTmealaxfhlaocefgoad6hsadao9hmbkaChlxdkcbhlasceGTmekc9:hoxikabaqad2fawcjdfakad2z1jjjb8Aawawcjdfakcufad2fadz1jjjb8Aakaqfhqalmbkc9:hoxekcbc99aral9Radcaadca0ESEhokavcj;ebf8Kjjjjbaok;yzeHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgDce0mbavc;abfcFecjez:jjjjb8AavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhqaicefgwarfhodnaeTmbcmcsaDceSEhkcbhxcbhmcbhDcbhicbhlindnaoaq9nmbc9:hoxikdndnawRbbgrc;Ve0mbavc;abfalarcl4cu7fcsGcitfgPydlhsaPydbhzdnarcsGgPak9pmbavaiarcu7fcsGcdtfydbaxaPEhraPThPdndnadcd9hmbabaDcetfgHaz87ebaHcdfas87ebaHclfar87ebxekabaDcdtfgHazBdbaHclfasBdbaHcwfarBdbkaxaPfhxavc;abfalcitfgHarBdbaHasBdlavaicdtfarBdbavc;abfalcefcsGglcitfgHazBdbaHarBdlaiaPfhialcefhlxdkdndnaPcsSmbamaPfaPc987fcefhmxekaocefhrao8SbbgPcFeGhHdndnaPcu9mmbarhoxekaocvfhoaHcFbGhHcrhPdninar8SbbgOcFbGaPtaHVhHaOcu9kmearcefhraPcrfgPc8J9hmbxdkkarcefhokaHce4cbaHceG9R7amfhmkdndnadcd9hmbabaDcetfgraz87ebarcdfas87ebarclfam87ebxekabaDcdtfgrazBdbarclfasBdbarcwfamBdbkavc;abfalcitfgramBdbarasBdlavaicdtfamBdbavc;abfalcefcsGglcitfgrazBdbaramBdlaicefhialcefhlxekdnarcpe0mbaxcefgOavaiaqarcsGfRbbgPcl49RcsGcdtfydbaPcz6gHEhravaiaP9RcsGcdtfydbaOaHfgsaPcsGgOEhPaOThOdndnadcd9hmbabaDcetfgzax87ebazcdfar87ebazclfaP87ebxekabaDcdtfgzaxBdbazclfarBdbazcwfaPBdbkavaicdtfaxBdbavc;abfalcitfgzarBdbazaxBdlavaicefgicsGcdtfarBdbavc;abfalcefcsGcitfgzaPBdbazarBdlavaiaHfcsGgicdtfaPBdbavc;abfalcdfcsGglcitfgraxBdbaraPBdlalcefhlaiaOfhiasaOfhxxekaxcbaoRbbgzEgAarc;:eSgrfhsazcsGhCazcl4hXdndnazcs0mbascefhOxekashOavaiaX9RcsGcdtfydbhskdndnaCmbaOcefhxxekaOhxavaiaz9RcsGcdtfydbhOkdndnarTmbaocefhrxekaocdfhrao8SbegHcFeGhPdnaHcu9kmbaocofhAaPcFbGhPcrhodninar8SbbgHcFbGaotaPVhPaHcu9kmearcefhraocrfgoc8J9hmbkaAhrxekarcefhrkaPce4cbaPceG9R7amfgmhAkdndnaXcsSmbarhPxekarcefhPar8SbbgocFeGhHdnaocu9kmbarcvfhsaHcFbGhHcrhodninaP8SbbgrcFbGaotaHVhHarcu9kmeaPcefhPaocrfgoc8J9hmbkashPxekaPcefhPkaHce4cbaHceG9R7amfgmhskdndnaCcsSmbaPhoxekaPcefhoaP8SbbgrcFeGhHdnarcu9kmbaPcvfhOaHcFbGhHcrhrdninao8SbbgPcFbGartaHVhHaPcu9kmeaocefhoarcrfgrc8J9hmbkaOhoxekaocefhokaHce4cbaHceG9R7amfgmhOkdndnadcd9hmbabaDcetfgraA87ebarcdfas87ebarclfaO87ebxekabaDcdtfgraABdbarclfasBdbarcwfaOBdbkavc;abfalcitfgrasBdbaraABdlavaicdtfaABdbavc;abfalcefcsGcitfgraOBdbarasBdlavaicefgicsGcdtfasBdbavc;abfalcdfcsGcitfgraABdbaraOBdlavaiazcz6aXcsSVfgicsGcdtfaOBdbaiaCTaCcsSVfhialcifhlkawcefhwalcsGhlaicsGhiaDcifgDae6mbkkcbc99aoaqSEhokavc;aef8Kjjjjbaok:llevu8Jjjjjbcz9Rhvc9:hodnaecvfal0mbcuhoaiRbbc;:eGc;qe9hmbav9cb83iwaicefhraialfc98fhwdnaeTmbdnadcdSmbcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcdtfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfglBdbaoalBdbaDcefgDae9hmbxdkkcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcetfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfgl87ebaoalBdbaDcefgDae9hmbkkcbc99arawSEhokaok:Lvoeue99dud99eud99dndnadcl9hmbaeTmeindndnabcdfgd8Sbb:Yab8Sbbgi:Ygl:l:tabcefgv8Sbbgo:Ygr:l:tgwJbb;:9cawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai86bbdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad86bbdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad86bbabclfhbaecufgembxdkkaeTmbindndnabclfgd8Ueb:Yab8Uebgi:Ygl:l:tabcdfgv8Uebgo:Ygr:l:tgwJb;:FSawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai87ebdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad87ebdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad87ebabcwfhbaecufgembkkk;siliui99iue99dnaeTmbcbhiabhlindndnJ;Zl81Zalcof8UebgvciV:Y:vgoal8Ueb:YNgrJb;:FSNJbbbZJbbb:;arJbbbb9GEMgw:lJbbb9p9DTmbaw:OhDxekcjjjj94hDkalclf8Uebhqalcdf8UebhkabavcefciGaiVcetfaD87ebdndnaoak:YNgwJb;:FSNJbbbZJbbb:;awJbbbb9GEMgx:lJbbb9p9DTmbax:Ohkxekcjjjj94hkkabavcdfciGaiVcetfak87ebdndnaoaq:YNgoJb;:FSNJbbbZJbbb:;aoJbbbb9GEMgx:lJbbb9p9DTmbax:Ohqxekcjjjj94hqkabavcufciGaiVcetfaq87ebdndnJbbjZararN:tawawN:taoaoN:tgrJbbbbarJbbbb9GE:rJb;:FSNJbbbZMgr:lJbbb9p9DTmbar:Ohqxekcjjjj94hqkabavciGaiVcetfaq87ebalcwfhlaiclfhiaecufgembkkk9mbdnadcd4ae2geTmbinababydbgdcwtcw91:Yadce91cjjj;8ifcjjj98G::NUdbabclfhbaecufgembkkk9teiucbcbydj1jjbgeabcifc98GfgbBdj1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaik;LeeeudndnaeabVciGTmbabhixekdndnadcz9pmbabhixekabhiinaiaeydbBdbaiclfaeclfydbBdbaicwfaecwfydbBdbaicxfaecxfydbBdbaiczfhiaeczfheadc9Wfgdcs0mbkkadcl6mbinaiaeydbBdbaeclfheaiclfhiadc98fgdci0mbkkdnadTmbinaiaeRbb86bbaicefhiaecefheadcufgdmbkkabk;aeedudndnabciGTmbabhixekaecFeGc:b:c:ew2hldndnadcz9pmbabhixekabhiinaialBdbaicxfalBdbaicwfalBdbaiclfalBdbaiczfhiadc9Wfgdcs0mbkkadcl6mbinaialBdbaiclfhiadc98fgdci0mbkkdnadTmbinaiae86bbaicefhiadcufgdmbkkabkkkebcjwklz9Kbb",e="b9H79TebbbeKl9Gbb9Gvuuuuueu9Giuuub9Geueuikqbbebeedddilve9Weeeviebeoweuec:q;Aekr;leDo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbdY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVblE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtboK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbrL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949Wbwl79IV9RbDq;t9tqlbzik9:evu8Jjjjjbcz9Rhbcbheincbhdcbhiinabcwfadfaicjuaead4ceGglE86bbaialfhiadcefgdcw9hmbkaec:q:yjjbfai86bbaecitc:q1jjbfab8Piw83ibaecefgecjd9hmbkk;h8JlHud97euo978Jjjjjbcj;kb9Rgv8Kjjjjbc9:hodnadcefal0mbcuhoaiRbbc:Ge9hmbavaialfgrad9Rad;8qbbcj;abad9UhoaicefhldnadTmbaoc;WFbGgocjdaocjd6EhwcbhDinaDae9pmeawaeaD9RaDawfae6Egqcsfgoc9WGgkci2hxakcethmaocl4cifcd4hPabaDad2fhscbhzdnincehHalhOcbhAdninaraO9RaP6miavcj;cbfaAak2fhCaOaPfhlcbhidnakc;ab6mbaral9Rc;Gb6mbcbhoinaCaofhidndndndndnaOaoco4fRbbgXciGPlbedibkaipxbbbbbbbbbbbbbbbbpklbxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklbalczfhlkdndndndndnaXcd4ciGPlbedibkaipxbbbbbbbbbbbbbbbbpklzxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklzalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklzalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklzalczfhlkdndndndndnaXcl4ciGPlbedibkaipxbbbbbbbbbbbbbbbbpklaxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklaalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklaalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklaalczfhlkdndndndndnaXco4Plbedibkaipxbbbbbbbbbbbbbbbbpkl8WxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibaXc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkl8WalclfaYpQbfaXc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibaXc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkl8WalcwfaYpQbfaXc:q:yjjbfRbbfhlxekaialpbbbpkl8Walczfhlkaoc;abfhiaocjefak0meaihoaral9Rc;Fb0mbkkdndnaiak9pmbaici4hoinaral9RcK6mdaCaifhXdndndndndnaOaico4fRbbaocoG4ciGPlbedibkaXpxbbbbbbbbbbbbbbbbpklbxikaXalpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaXalpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaXalpbbbpklbalczfhlkaocdfhoaiczfgiak6mbkkalTmbaAci6hHalhOaAcefgohAaoclSmdxekkcbhlaHceGmdkdnakTmbavcjdfazfhiavazfpbdbhYcbhXinaiavcj;cbfaXfgopblbgLcep9TaLpxeeeeeeeeeeeeeeeegQp9op9Hp9rgLaoakfpblbg8Acep9Ta8AaQp9op9Hp9rg8ApmbzeHdOiAlCvXoQrLgEaoamfpblbg3cep9Ta3aQp9op9Hp9rg3aoaxfpblbg5cep9Ta5aQp9op9Hp9rg5pmbzeHdOiAlCvXoQrLg8EpmbezHdiOAlvCXorQLgQaQpmbedibedibedibediaYp9UgYp9AdbbaiadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaEa8EpmwDKYqk8AExm35Ps8E8FgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaLa8ApmwKDYq8AkEx3m5P8Es8FgLa3a5pmwKDYq8AkEx3m5P8Es8Fg8ApmbezHdiOAlvCXorQLgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaLa8ApmwDKYqk8AExm35Ps8E8FgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfhiaXczfgXak6mbkkazclfgzad6mbkasavcjdfaqad2;8qbbavavcjdfaqcufad2fad;8qbbaqaDfhDc9:hoalmexikkc9:hoxekcbc99aral9Radcaadca0ESEhokavcj;kbf8Kjjjjbaokwbz:bjjjbk;uzeHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgDce0mbavc;abfcFecje;8kbavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhqaicefgwarfhodnaeTmbcmcsaDceSEhkcbhxcbhmcbhDcbhicbhlindnaoaq9nmbc9:hoxikdndnawRbbgrc;Ve0mbavc;abfalarcl4cu7fcsGcitfgPydlhsaPydbhzdnarcsGgPak9pmbavaiarcu7fcsGcdtfydbaxaPEhraPThPdndnadcd9hmbabaDcetfgHaz87ebaHcdfas87ebaHclfar87ebxekabaDcdtfgHazBdbaHclfasBdbaHcwfarBdbkaxaPfhxavc;abfalcitfgHarBdbaHasBdlavaicdtfarBdbavc;abfalcefcsGglcitfgHazBdbaHarBdlaiaPfhialcefhlxdkdndnaPcsSmbamaPfaPc987fcefhmxekaocefhrao8SbbgPcFeGhHdndnaPcu9mmbarhoxekaocvfhoaHcFbGhHcrhPdninar8SbbgOcFbGaPtaHVhHaOcu9kmearcefhraPcrfgPc8J9hmbxdkkarcefhokaHce4cbaHceG9R7amfhmkdndnadcd9hmbabaDcetfgraz87ebarcdfas87ebarclfam87ebxekabaDcdtfgrazBdbarclfasBdbarcwfamBdbkavc;abfalcitfgramBdbarasBdlavaicdtfamBdbavc;abfalcefcsGglcitfgrazBdbaramBdlaicefhialcefhlxekdnarcpe0mbaxcefgOavaiaqarcsGfRbbgPcl49RcsGcdtfydbaPcz6gHEhravaiaP9RcsGcdtfydbaOaHfgsaPcsGgOEhPaOThOdndnadcd9hmbabaDcetfgzax87ebazcdfar87ebazclfaP87ebxekabaDcdtfgzaxBdbazclfarBdbazcwfaPBdbkavaicdtfaxBdbavc;abfalcitfgzarBdbazaxBdlavaicefgicsGcdtfarBdbavc;abfalcefcsGcitfgzaPBdbazarBdlavaiaHfcsGgicdtfaPBdbavc;abfalcdfcsGglcitfgraxBdbaraPBdlalcefhlaiaOfhiasaOfhxxekaxcbaoRbbgzEgAarc;:eSgrfhsazcsGhCazcl4hXdndnazcs0mbascefhOxekashOavaiaX9RcsGcdtfydbhskdndnaCmbaOcefhxxekaOhxavaiaz9RcsGcdtfydbhOkdndnarTmbaocefhrxekaocdfhrao8SbegHcFeGhPdnaHcu9kmbaocofhAaPcFbGhPcrhodninar8SbbgHcFbGaotaPVhPaHcu9kmearcefhraocrfgoc8J9hmbkaAhrxekarcefhrkaPce4cbaPceG9R7amfgmhAkdndnaXcsSmbarhPxekarcefhPar8SbbgocFeGhHdnaocu9kmbarcvfhsaHcFbGhHcrhodninaP8SbbgrcFbGaotaHVhHarcu9kmeaPcefhPaocrfgoc8J9hmbkashPxekaPcefhPkaHce4cbaHceG9R7amfgmhskdndnaCcsSmbaPhoxekaPcefhoaP8SbbgrcFeGhHdnarcu9kmbaPcvfhOaHcFbGhHcrhrdninao8SbbgPcFbGartaHVhHaPcu9kmeaocefhoarcrfgrc8J9hmbkaOhoxekaocefhokaHce4cbaHceG9R7amfgmhOkdndnadcd9hmbabaDcetfgraA87ebarcdfas87ebarclfaO87ebxekabaDcdtfgraABdbarclfasBdbarcwfaOBdbkavc;abfalcitfgrasBdbaraABdlavaicdtfaABdbavc;abfalcefcsGcitfgraOBdbarasBdlavaicefgicsGcdtfasBdbavc;abfalcdfcsGcitfgraABdbaraOBdlavaiazcz6aXcsSVfgicsGcdtfaOBdbaiaCTaCcsSVfhialcifhlkawcefhwalcsGhlaicsGhiaDcifgDae6mbkkcbc99aoaqSEhokavc;aef8Kjjjjbaok:llevu8Jjjjjbcz9Rhvc9:hodnaecvfal0mbcuhoaiRbbc;:eGc;qe9hmbav9cb83iwaicefhraialfc98fhwdnaeTmbdnadcdSmbcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcdtfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfglBdbaoalBdbaDcefgDae9hmbxdkkcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcetfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfgl87ebaoalBdbaDcefgDae9hmbkkcbc99arawSEhokaok:EPliuo97eue978Jjjjjbca9Rhidndnadcl9hmbdnaec98GglTmbcbhvabhdinadadpbbbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDpxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpkbbadczfhdavclfgval6mbkkalae9pmeaiaeciGgvcdtgdVcbczad9R;8kbaiabalcdtfglad;8qbbdnavTmbaiaipblbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDpxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpklbkalaiad;8qbbskdnaec98GgxTmbcbhvabhdinadczfglalpbbbgopxbbbbbbFFbbbbbbFFgkp9oadpbbbgDaopmlvorxmPsCXQL358E8FpxFubbFubbFubbFubbp9op;6eaDaopmbediwDqkzHOAKY8AEgoczp:Sep;6egrp;Geaoczp:Reczp:Sep;6egwp;Gep;Kep;Legopxb;:FSb;:FSb;:FSb;:FSawaopxbbbbbbbbbbbbbbbbp:2egqawpxbbbjbbbjbbbjbbbjgmp9op9rp;Kegwawp;Meaoaop;Mearaqaramp9op9rp;Kegoaop;Mep;Kep;Kep;Jep;Negrp;Mepxbbn0bbn0bbn0bbn0gqp;Keczp:Reawarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9op9qgwaoarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogopmwDKYqk8AExm35Ps8E8Fp9qpkbbadaDakp9oawaopmbezHdiOAlvCXorQLp9qpkbbadcafhdavclfgvax6mbkkaxae9pmbaiaeciGgvcitgdfcbcaad9R;8kbaiabaxcitfglad;8qbbdnavTmbaiaipblzgopxbbbbbbFFbbbbbbFFgkp9oaipblbgDaopmlvorxmPsCXQL358E8FpxFubbFubbFubbFubbp9op;6eaDaopmbediwDqkzHOAKY8AEgoczp:Sep;6egrp;Geaoczp:Reczp:Sep;6egwp;Gep;Kep;Legopxb;:FSb;:FSb;:FSb;:FSawaopxbbbbbbbbbbbbbbbbp:2egqawpxbbbjbbbjbbbjbbbjgmp9op9rp;Kegwawp;Meaoaop;Mearaqaramp9op9rp;Kegoaop;Mep;Kep;Kep;Jep;Negrp;Mepxbbn0bbn0bbn0bbn0gqp;Keczp:Reawarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9op9qgwaoarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogopmwDKYqk8AExm35Ps8E8Fp9qpklzaiaDakp9oawaopmbezHdiOAlvCXorQLp9qpklbkalaiad;8qbbkk;4wllue97euv978Jjjjjbc8W9Rhidnaec98GglTmbcbhvabhoinaiaopbbbgraoczfgwpbbbgDpmlvorxmPsCXQL358E8Fgqczp:Segkclp:RepklbaopxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81Zakpxibbbibbbibbbibbbp9qp;6ep;NegkaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meakarczp:Sep;6ep;Megxaxp;Meakaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgkp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgmp9oaxakp;Mearp;Keczp:Rep9qgxaqakp;Mearp;Keczp:ReaDakp;Mearp;Keamp9op9qgkpmbezHdiOAlvCXorQLgrp5baipblbpEb:T:j83ibaocwfarp5eaipblbpEe:T:j83ibawaxakpmwDKYqk8AExm35Ps8E8Fgkp5baipblbpEd:T:j83ibaocKfakp5eaipblbpEi:T:j83ibaocafhoavclfgval6mbkkdnalae9pmbaiaeciGgvcitgofcbcaao9R;8kbaiabalcitfgwao;8qbbdnavTmbaiaipblbgraipblzgDpmlvorxmPsCXQL358E8Fgqczp:Segkclp:RepklaaipxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81Zakpxibbbibbbibbbibbbp9qp;6ep;NegkaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meakarczp:Sep;6ep;Megxaxp;Meakaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgkp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgmp9oaxakp;Mearp;Keczp:Rep9qgxaqakp;Mearp;Keczp:ReaDakp;Mearp;Keamp9op9qgkpmbezHdiOAlvCXorQLgrp5baipblapEb:T:j83ibaiarp5eaipblapEe:T:j83iwaiaxakpmwDKYqk8AExm35Ps8E8Fgkp5baipblapEd:T:j83izaiakp5eaipblapEi:T:j83iKkawaiao;8qbbkk:Pddiue978Jjjjjbc;ab9Rhidnadcd4ae2glc98GgvTmbcbhdabheinaeaepbbbgocwp:Recwp:Sep;6eaocep:SepxbbjZbbjZbbjZbbjZp:UepxbbjFbbjFbbjFbbjFp9op;Mepkbbaeczfheadclfgdav6mbkkdnaval9pmbaialciGgdcdtgeVcbc;abae9R;8kbaiabavcdtfgvae;8qbbdnadTmbaiaipblbgocwp:Recwp:Sep;6eaocep:SepxbbjZbbjZbbjZbbjZp:UepxbbjFbbjFbbjFbbjFp9op;Mepklbkavaiae;8qbbkk9teiucbcbydj1jjbgeabcifc98GfgbBdj1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaikkkebcjwklz9Tbb",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if(typeof WebAssembly!="object")return{supported:!1};var r=WebAssembly.validate(t)?e:i,o,s=WebAssembly.instantiate(a(r),{}).then(function(b){o=b.instance,o.exports.__wasm_call_ctors()});function a(b){for(var x=new Uint8Array(b.length),C=0;C<b.length;++C){var S=b.charCodeAt(C);x[C]=S>96?S-97:S>64?S-39:S+4}for(var E=0,C=0;C<b.length;++C)x[E++]=x[C]<60?n[x[C]]:(x[C]-60)*64+x[++C];return x.buffer.slice(0,E)}function l(b,x,C,S,E,I){var M=o.exports.sbrk,k=C+3&-4,F=M(k*S),P=M(E.length),Q=new Uint8Array(o.exports.memory.buffer);Q.set(E,P);var N=b(F,C,S,P,E.length);if(N==0&&I&&I(F,k,S),x.set(Q.subarray(F,F+C*S)),M(F-M(0)),N!=0)throw new Error("Malformed buffer data: "+N)}var c={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"},h=[],d=0;function p(b){var x={object:new Worker(b),pending:0,requests:{}};return x.object.onmessage=function(C){var S=C.data;x.pending-=S.count,x.requests[S.id][S.action](S.value),delete x.requests[S.id]},x}function g(b){for(var x="var instance; var ready = WebAssembly.instantiate(new Uint8Array(["+new Uint8Array(a(r))+"]), {}).then(function(result) { instance = result.instance; instance.exports.__wasm_call_ctors(); });self.onmessage = workerProcess;"+l.toString()+_.toString(),C=new Blob([x],{type:"text/javascript"}),S=URL.createObjectURL(C),E=0;E<b;++E)h[E]=p(S);URL.revokeObjectURL(S)}function v(b,x,C,S,E){for(var I=h[0],M=1;M<h.length;++M)h[M].pending<I.pending&&(I=h[M]);return new Promise(function(k,F){var P=new Uint8Array(C),Q=d++;I.pending+=b,I.requests[Q]={resolve:k,reject:F},I.object.postMessage({id:Q,count:b,size:x,source:P,mode:S,filter:E},[P.buffer])})}function _(b){s.then(function(){var x=b.data;try{var C=new Uint8Array(x.count*x.size);l(o.exports[x.mode],C,x.count,x.size,x.source,o.exports[x.filter]),self.postMessage({id:x.id,count:x.count,action:"resolve",value:C},[C.buffer])}catch(S){self.postMessage({id:x.id,count:x.count,action:"reject",value:S})}})}return{ready:s,supported:!0,useWorkers:function(b){g(b)},decodeVertexBuffer:function(b,x,C,S,E){l(o.exports.meshopt_decodeVertexBuffer,b,x,C,S,o.exports[c[E]])},decodeIndexBuffer:function(b,x,C,S){l(o.exports.meshopt_decodeIndexBuffer,b,x,C,S)},decodeIndexSequence:function(b,x,C,S){l(o.exports.meshopt_decodeIndexSequence,b,x,C,S)},decodeGltfBuffer:function(b,x,C,S,E,I){l(o.exports[u[E]],b,x,C,S,o.exports[c[I]])},decodeGltfBufferAsync:function(b,x,C,S,E){return h.length>0?v(b,x,C,u[S],c[E]):s.then(function(){var I=new Uint8Array(b*x);return l(o.exports[u[S]],I,b,x,C,o.exports[c[E]]),I})}}}();const GD=new WeakMap;class Jfe extends Cr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const o=new ro(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,s=>{this.parse(s,t,r)},n,r)}parse(e,t,n=()=>{}){this.decodeDracoFile(e,t,null,null,fi,n).catch(n)}decodeDracoFile(e,t,n,r,o=Xn,s=()=>{}){const a={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n,vertexColorSpace:o};return this.decodeGeometry(e,a).then(t).catch(s)}decodeGeometry(e,t){const n=JSON.stringify(t);if(GD.has(e)){const l=GD.get(e);if(l.key===n)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const o=this.workerNextTaskID++,s=e.byteLength,a=this._getWorker(o,s).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[o]={resolve:c,reject:u},r.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&o&&this._releaseTask(r,o)}),GD.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new Kt;e.index&&t.setIndex(new Ci(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],o=r.name,s=r.array,a=r.itemSize,l=new Ci(s,a);o==="color"&&(this._assignVertexColorSpace(l,r.vertexColorSpace),l.normalized=!(s instanceof Float32Array)),t.setAttribute(o,l)}return t}_assignVertexColorSpace(e,t){if(t!==fi)return;const n=new ut;for(let r=0,o=e.count;r<o;r++)n.fromBufferAttribute(e,r),_i.toWorkingColorSpace(n,fi),e.setXYZ(r,n.r,n.g,n.b)}_loadLibrary(e,t){const n=new ro(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((r,o)=>{n.load(e,r,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const r=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const o=ege.toString(),s=["/* draco decoder */",r,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(o){const s=o.data;switch(s.type){case"decode":r._callbacks[s.id].resolve(s);break;case"error":r._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,o){return r._taskLoad>o._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function ege(){let i,e;onmessage=function(s){const a=s.data;switch(a.type){case"init":i=a.decoderConfig,e=new Promise(function(u){i.onModuleLoaded=function(h){u({draco:h})},DracoDecoderModule(i)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const h=u.draco,d=new h.Decoder;try{const p=t(h,d,new Int8Array(l),c),g=p.attributes.map(v=>v.array.buffer);p.index&&g.push(p.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:p},g)}catch(p){console.error(p),self.postMessage({type:"error",id:a.id,error:p.message})}finally{h.destroy(d)}});break}};function t(s,a,l,c){const u=c.attributeIDs,h=c.attributeTypes;let d,p;const g=a.GetEncodedGeometryType(l);if(g===s.TRIANGULAR_MESH)d=new s.Mesh,p=a.DecodeArrayToMesh(l,l.byteLength,d);else if(g===s.POINT_CLOUD)d=new s.PointCloud,p=a.DecodeArrayToPointCloud(l,l.byteLength,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());const v={index:null,attributes:[]};for(const _ in u){const b=self[h[_]];let x,C;if(c.useUniqueIDs)C=u[_],x=a.GetAttributeByUniqueId(d,C);else{if(C=a.GetAttributeId(d,s[u[_]]),C===-1)continue;x=a.GetAttribute(d,C)}const S=r(s,a,d,_,b,x);_==="color"&&(S.vertexColorSpace=c.vertexColorSpace),v.attributes.push(S)}return g===s.TRIANGULAR_MESH&&(v.index=n(s,a,d)),s.destroy(d),v}function n(s,a,l){const u=l.num_faces()*3,h=u*4,d=s._malloc(h);a.GetTrianglesUInt32Array(l,h,d);const p=new Uint32Array(s.HEAPF32.buffer,d,u).slice();return s._free(d),{array:p,itemSize:1}}function r(s,a,l,c,u,h){const d=h.num_components(),g=l.num_points()*d,v=g*u.BYTES_PER_ELEMENT,_=o(s,u),b=s._malloc(v);a.GetAttributeDataArrayForAllPoints(l,h,_,v,b);const x=new u(s.HEAPF32.buffer,b,g).slice();return s._free(b),{name:c,array:x,itemSize:d}}function o(s,a){switch(a){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}class tge{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const n=this.workersResolve[e];if(n&&n(t),this.queue.length){const{resolve:r,msg:o,transfer:s}=this.queue.shift();this.workersResolve[e]=r,this.workers[e].postMessage(o,s)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise(n=>{const r=this._getIdleWorker();r!==-1?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=n,this.workers[r].postMessage(e,t)):this.queue.push({resolve:n,msg:e,transfer:t})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const ige=0,C7=2,nge=1,B7=2,rge=0,oge=1,sge=10,age=0,iZ=9,nZ=15,rZ=16,oZ=22,sZ=37,aZ=43,lZ=76,cZ=83,uZ=97,hZ=100,AZ=103,dZ=109,pZ=165,fZ=166,fN=1000066e3;let lge=class{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}},dC=class{constructor(e,t,n,r){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+t,n),this._littleEndian=r,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint8Array(e){const t=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._offset,e);return this._offset+=e,t}_skip(e){return this._offset+=e,this}_scan(e,t){t===void 0&&(t=0);const n=this._offset;let r=0;for(;this._dataView.getUint8(this._offset)!==t&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,r)}};const sl=[171,75,84,88,32,50,48,187,13,10,26,10];function S7(i){return new TextDecoder().decode(i)}function cge(i){const e=new Uint8Array(i.buffer,i.byteOffset,sl.length);if(e[0]!==sl[0]||e[1]!==sl[1]||e[2]!==sl[2]||e[3]!==sl[3]||e[4]!==sl[4]||e[5]!==sl[5]||e[6]!==sl[6]||e[7]!==sl[7]||e[8]!==sl[8]||e[9]!==sl[9]||e[10]!==sl[10]||e[11]!==sl[11])throw new Error("Missing KTX 2.0 identifier.");const t=new lge,n=17*Uint32Array.BYTES_PER_ELEMENT,r=new dC(i,sl.length,n,!0);t.vkFormat=r._nextUint32(),t.typeSize=r._nextUint32(),t.pixelWidth=r._nextUint32(),t.pixelHeight=r._nextUint32(),t.pixelDepth=r._nextUint32(),t.layerCount=r._nextUint32(),t.faceCount=r._nextUint32();const o=r._nextUint32();t.supercompressionScheme=r._nextUint32();const s=r._nextUint32(),a=r._nextUint32(),l=r._nextUint32(),c=r._nextUint32(),u=r._nextUint64(),h=r._nextUint64(),d=new dC(i,sl.length+n,3*o*8,!0);for(let Y=0;Y<o;Y++)t.levels.push({levelData:new Uint8Array(i.buffer,i.byteOffset+d._nextUint64(),d._nextUint64()),uncompressedByteLength:d._nextUint64()});const p=new dC(i,s,a,!0),g={vendorId:p._skip(4)._nextUint16(),descriptorType:p._nextUint16(),versionNumber:p._nextUint16(),descriptorBlockSize:p._nextUint16(),colorModel:p._nextUint8(),colorPrimaries:p._nextUint8(),transferFunction:p._nextUint8(),flags:p._nextUint8(),texelBlockDimension:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],bytesPlane:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],samples:[]},v=(g.descriptorBlockSize/4-6)/4;for(let Y=0;Y<v;Y++){const Z={bitOffset:p._nextUint16(),bitLength:p._nextUint8(),channelType:p._nextUint8(),samplePosition:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&Z.channelType?(Z.sampleLower=p._nextInt32(),Z.sampleUpper=p._nextInt32()):(Z.sampleLower=p._nextUint32(),Z.sampleUpper=p._nextUint32()),g.samples[Y]=Z}t.dataFormatDescriptor.length=0,t.dataFormatDescriptor.push(g);const _=new dC(i,l,c,!0);for(;_._offset<c;){const Y=_._nextUint32(),Z=_._scan(Y),ue=S7(Z);if(t.keyValue[ue]=_._nextUint8Array(Y-Z.byteLength-1),ue.match(/^ktx/i)){const $=S7(t.keyValue[ue]);t.keyValue[ue]=$.substring(0,$.lastIndexOf("\0"))}_._skip(Y%4?4-Y%4:0)}if(h<=0)return t;const b=new dC(i,u,h,!0),x=b._nextUint16(),C=b._nextUint16(),S=b._nextUint32(),E=b._nextUint32(),I=b._nextUint32(),M=b._nextUint32(),k=[];for(let Y=0;Y<o;Y++)k.push({imageFlags:b._nextUint32(),rgbSliceByteOffset:b._nextUint32(),rgbSliceByteLength:b._nextUint32(),alphaSliceByteOffset:b._nextUint32(),alphaSliceByteLength:b._nextUint32()});const F=u+b._offset,P=F+S,Q=P+E,N=Q+I,W=new Uint8Array(i.buffer,i.byteOffset+F,S),q=new Uint8Array(i.buffer,i.byteOffset+P,E),J=new Uint8Array(i.buffer,i.byteOffset+Q,I),V=new Uint8Array(i.buffer,i.byteOffset+N,M);return t.globalData={endpointCount:x,selectorCount:C,imageDescs:k,endpointsData:W,selectorsData:q,tablesData:J,extendedData:V},t}let VD,np,QL;const qD={env:{emscripten_notify_memory_growth:function(i){QL=new Uint8Array(np.exports.memory.buffer)}}};let uge=class{init(){return VD||(VD=typeof fetch<"u"?fetch("data:application/wasm;base64,"+E7).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,qD)).then(this._init):WebAssembly.instantiate(Buffer.from(E7,"base64"),qD).then(this._init),VD)}_init(e){np=e.instance,qD.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!np)throw new Error("ZSTDDecoder: Await .init() before decoding.");const n=e.byteLength,r=np.exports.malloc(n);QL.set(e,r),t=t||Number(np.exports.ZSTD_findDecompressedSize(r,n));const o=np.exports.malloc(t),s=np.exports.ZSTD_decompress(o,t,r,n),a=QL.slice(o,o+s);return np.exports.free(r),np.exports.free(o),a}};const E7="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",hge="display-p3",Age="display-p3-linear",WD=new WeakMap;let jD=0,KD;class Su extends Cr{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new tge,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}async detectSupportAsync(e){return this.workerConfig={astcSupported:await e.hasFeatureAsync("texture-compression-astc"),astcHDRSupported:!1,etc1Supported:await e.hasFeatureAsync("texture-compression-etc1"),etc2Supported:await e.hasFeatureAsync("texture-compression-etc2"),dxtSupported:await e.hasFeatureAsync("texture-compression-bc"),bptcSupported:await e.hasFeatureAsync("texture-compression-bptc"),pvrtcSupported:await e.hasFeatureAsync("texture-compression-pvrtc")},this}detectSupport(e){return e.isWebGPURenderer===!0?this.workerConfig={astcSupported:e.hasFeature("texture-compression-astc"),astcHDRSupported:!1,etc1Supported:e.hasFeature("texture-compression-etc1"),etc2Supported:e.hasFeature("texture-compression-etc2"),dxtSupported:e.hasFeature("texture-compression-bc"),bptcSupported:e.hasFeature("texture-compression-bptc"),pvrtcSupported:e.hasFeature("texture-compression-pvrtc")}:this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),astcHDRSupported:e.extensions.has("WEBGL_compressed_texture_astc")&&e.extensions.get("WEBGL_compressed_texture_astc").getSupportedProfiles().includes("hdr"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}init(){if(!this.transcoderPending){const e=new ro(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const t=e.loadAsync("basis_transcoder.js"),n=new ro(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const r=n.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([t,r]).then(([o,s])=>{const a=Su.BasisWorker.toString(),l=["/* constants */","let _EngineFormat = "+JSON.stringify(Su.EngineFormat),"let _EngineType = "+JSON.stringify(Su.EngineType),"let _TranscoderFormat = "+JSON.stringify(Su.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Su.BasisFormat),"/* basis_transcoder.js */",o,"/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([l])),this.transcoderBinary=s,this.workerPool.setWorkerCreator(()=>{const c=new Worker(this.workerSourceURL),u=this.transcoderBinary.slice(0);return c.postMessage({type:"init",config:this.workerConfig,transcoderBinary:u},[u]),c})}),jD>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),jD++}return this.transcoderPending}load(e,t,n,r){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const o=new ro(this.manager);o.setResponseType("arraybuffer"),o.setWithCredentials(this.withCredentials),o.load(e,s=>{this.parse(s,t,r)},n,r)}parse(e,t,n){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");if(WD.has(e))return WD.get(e).promise.then(t).catch(n);this._createTexture(e).then(r=>t?t(r):null).catch(n)}_createTextureFrom(e,t){const{type:n,error:r,data:{faces:o,width:s,height:a,format:l,type:c,dfdFlags:u}}=e;if(n==="error")return Promise.reject(r);let h;if(t.faceCount===6)h=new GX(o,l,c);else{const d=o[0].mipmaps;h=t.layerCount>1?new zX(d,s,a,t.layerCount,l,c):new yp(d,s,a,l,c)}return h.minFilter=o[0].mipmaps.length===1?Ni:na,h.magFilter=Ni,h.generateMipmaps=!1,h.needsUpdate=!0,h.colorSpace=gZ(t),h.premultiplyAlpha=!!(u&nge),h}async _createTexture(e,t={}){const n=cge(new Uint8Array(e)),r=n.vkFormat===fN&&n.dataFormatDescriptor[0].colorModel===167;if(!(n.vkFormat===age||r&&!this.workerConfig.astcHDRSupported))return pge(n);const s=t,a=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:e,taskConfig:s},[e])).then(l=>this._createTextureFrom(l.data,n));return WD.set(e,{promise:a}),a}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),jD--,this}}Su.BasisFormat={ETC1S:0,UASTC:1,UASTC_HDR:2};Su.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16,BC6H:22,RGB_HALF:24,RGBA_HALF:25};Su.EngineFormat={RGBAFormat:On,RGBA_ASTC_4x4_Format:Fy,RGB_BPTC_UNSIGNED_Format:fB,RGBA_BPTC_Format:yy,RGBA_ETC2_EAC_Format:pB,RGBA_PVRTC_4BPPV1_Format:hB,RGBA_S3TC_DXT5_Format:by,RGB_ETC1_Format:AB,RGB_ETC2_Format:dB,RGB_PVRTC_4BPPV1_Format:uB,RGBA_S3TC_DXT1_Format:vy};Su.EngineType={UnsignedByteType:Wr,HalfFloatType:yo,FloatType:yr};Su.BasisWorker=function(){let i,e,t;const n=_EngineFormat,r=_EngineType,o=_TranscoderFormat,s=_BasisFormat;self.addEventListener("message",function(g){const v=g.data;switch(v.type){case"init":i=v.config,a(v.transcoderBinary);break;case"transcode":e.then(()=>{try{const{faces:_,buffers:b,width:x,height:C,hasAlpha:S,format:E,type:I,dfdFlags:M}=l(v.buffer);self.postMessage({type:"transcode",id:v.id,data:{faces:_,width:x,height:C,hasAlpha:S,format:E,type:I,dfdFlags:M}},b)}catch(_){console.error(_),self.postMessage({type:"error",id:v.id,error:_.message})}});break}});function a(g){e=new Promise(v=>{t={wasmBinary:g,onRuntimeInitialized:v},BASIS(t)}).then(()=>{t.initializeBasis(),t.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function l(g){const v=new t.KTX2File(new Uint8Array(g));function _(){v.close(),v.delete()}if(!v.isValid())throw _(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");let b;if(v.isUASTC())b=s.UASTC;else if(v.isETC1S())b=s.ETC1S;else if(v.isHDR())b=s.UASTC_HDR;else throw new Error("THREE.KTX2Loader: Unknown Basis encoding");const x=v.getWidth(),C=v.getHeight(),S=v.getLayers()||1,E=v.getLevels(),I=v.getFaces(),M=v.getHasAlpha(),k=v.getDFDFlags(),{transcoderFormat:F,engineFormat:P,engineType:Q}=h(b,x,C,M);if(!x||!C||!E)throw _(),new Error("THREE.KTX2Loader:	Invalid texture");if(!v.startTranscoding())throw _(),new Error("THREE.KTX2Loader: .startTranscoding failed");const N=[],W=[];for(let q=0;q<I;q++){const J=[];for(let V=0;V<E;V++){const Y=[];let Z,ue;for(let ee=0;ee<S;ee++){const oe=v.getImageLevelInfo(V,ee,q);q===0&&V===0&&ee===0&&(oe.origWidth%4!==0||oe.origHeight%4!==0)&&console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),E>1?(Z=oe.origWidth,ue=oe.origHeight):(Z=oe.width,ue=oe.height);let ge=new Uint8Array(v.getImageTranscodedSizeInBytes(V,ee,0,F));const se=v.transcodeImage(ge,V,ee,q,F,0,-1,-1);if(Q===r.HalfFloatType&&(ge=new Uint16Array(ge.buffer,ge.byteOffset,ge.byteLength/Uint16Array.BYTES_PER_ELEMENT)),!se)throw _(),new Error("THREE.KTX2Loader: .transcodeImage failed.");Y.push(ge)}const $=p(Y);J.push({data:$,width:Z,height:ue}),W.push($.buffer)}N.push({mipmaps:J,width:x,height:C,format:P,type:Q})}return _(),{faces:N,buffers:W,width:x,height:C,hasAlpha:M,dfdFlags:k,format:P,type:Q}}const c=[{if:"astcSupported",basisFormat:[s.UASTC],transcoderFormat:[o.ASTC_4x4,o.ASTC_4x4],engineFormat:[n.RGBA_ASTC_4x4_Format,n.RGBA_ASTC_4x4_Format],engineType:[r.UnsignedByteType],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC],transcoderFormat:[o.BC7_M5,o.BC7_M5],engineFormat:[n.RGBA_BPTC_Format,n.RGBA_BPTC_Format],engineType:[r.UnsignedByteType],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC],transcoderFormat:[o.BC1,o.BC3],engineFormat:[n.RGBA_S3TC_DXT1_Format,n.RGBA_S3TC_DXT5_Format],engineType:[r.UnsignedByteType],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC],transcoderFormat:[o.ETC1,o.ETC2],engineFormat:[n.RGB_ETC2_Format,n.RGBA_ETC2_EAC_Format],engineType:[r.UnsignedByteType],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC],transcoderFormat:[o.ETC1],engineFormat:[n.RGB_ETC1_Format],engineType:[r.UnsignedByteType],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC],transcoderFormat:[o.PVRTC1_4_RGB,o.PVRTC1_4_RGBA],engineFormat:[n.RGB_PVRTC_4BPPV1_Format,n.RGBA_PVRTC_4BPPV1_Format],engineType:[r.UnsignedByteType],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0},{if:"bptcSupported",basisFormat:[s.UASTC_HDR],transcoderFormat:[o.BC6H],engineFormat:[n.RGB_BPTC_UNSIGNED_Format],engineType:[r.HalfFloatType],priorityHDR:1,needsPowerOfTwo:!1},{basisFormat:[s.ETC1S,s.UASTC],transcoderFormat:[o.RGBA32,o.RGBA32],engineFormat:[n.RGBAFormat,n.RGBAFormat],engineType:[r.UnsignedByteType,r.UnsignedByteType],priorityETC1S:100,priorityUASTC:100,needsPowerOfTwo:!1},{basisFormat:[s.UASTC_HDR],transcoderFormat:[o.RGBA_HALF],engineFormat:[n.RGBAFormat],engineType:[r.HalfFloatType],priorityHDR:100,needsPowerOfTwo:!1}],u={[s.ETC1S]:c.filter(g=>g.basisFormat.includes(s.ETC1S)).sort((g,v)=>g.priorityUASTC-v.priorityUASTC),[s.UASTC]:c.filter(g=>g.basisFormat.includes(s.UASTC)).sort((g,v)=>g.priorityUASTC-v.priorityUASTC),[s.UASTC_HDR]:c.filter(g=>g.basisFormat.includes(s.UASTC_HDR)).sort((g,v)=>g.priorityHDR-v.priorityHDR)};function h(g,v,_,b){const x=u[g];for(let C=0;C<x.length;C++){const S=x[C];if(S.if&&!i[S.if]||!S.basisFormat.includes(g)||b&&S.transcoderFormat.length<2||S.needsPowerOfTwo&&!(d(v)&&d(_)))continue;const E=S.transcoderFormat[b?1:0],I=S.engineFormat[b?1:0],M=S.engineType[0];return{transcoderFormat:E,engineFormat:I,engineType:M}}throw new Error("THREE.KTX2Loader: Failed to identify transcoding target.")}function d(g){return g<=2?!0:(g&g-1)===0&&g!==0}function p(g){if(g.length===1)return g[0];let v=0;for(let x=0;x<g.length;x++){const C=g[x];v+=C.byteLength}const _=new Uint8Array(v);let b=0;for(let x=0;x<g.length;x++){const C=g[x];_.set(C,b),b+=C.byteLength}return _}};const dge=new Set([On,ng,fp]),$D={[dZ]:On,[uZ]:On,[sZ]:On,[aZ]:On,[AZ]:ng,[cZ]:ng,[rZ]:ng,[oZ]:ng,[hZ]:fp,[lZ]:fp,[nZ]:fp,[iZ]:fp,[fN]:Fy,[fZ]:Dy,[pZ]:Dy},XD={[dZ]:yr,[uZ]:yo,[sZ]:Wr,[aZ]:Wr,[AZ]:yr,[cZ]:yo,[rZ]:Wr,[oZ]:Wr,[hZ]:yr,[lZ]:yo,[nZ]:Wr,[iZ]:Wr,[fN]:yo,[fZ]:Wr,[pZ]:Wr};async function pge(i){const{vkFormat:e}=i;if($D[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let t;i.supercompressionScheme===C7&&(KD||(KD=new Promise(async o=>{const s=new uge;await s.init(),o(s)})),t=await KD);const n=[];for(let o=0;o<i.levels.length;o++){const s=Math.max(1,i.pixelWidth>>o),a=Math.max(1,i.pixelHeight>>o),l=i.pixelDepth?Math.max(1,i.pixelDepth>>o):0,c=i.levels[o];let u;if(i.supercompressionScheme===ige)u=c.levelData;else if(i.supercompressionScheme===C7)u=t.decode(c.levelData,c.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");let h;XD[e]===yr?h=new Float32Array(u.buffer,u.byteOffset,u.byteLength/Float32Array.BYTES_PER_ELEMENT):XD[e]===yo?h=new Uint16Array(u.buffer,u.byteOffset,u.byteLength/Uint16Array.BYTES_PER_ELEMENT):h=u,n.push({data:h,width:s,height:a,depth:l})}let r;if(dge.has($D[e]))r=i.pixelDepth===0?new Ru(n[0].data,i.pixelWidth,i.pixelHeight):new AS(n[0].data,i.pixelWidth,i.pixelHeight,i.pixelDepth);else{if(i.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");r=new yp(n,i.pixelWidth,i.pixelHeight),r.minFilter=n.length===1?Ni:na,r.magFilter=Ni}return r.mipmaps=n,r.type=XD[e],r.format=$D[e],r.colorSpace=gZ(i),r.needsUpdate=!0,Promise.resolve(r)}function gZ(i){const e=i.dataFormatDescriptor[0];return e.colorPrimaries===oge?e.transferFunction===B7?fi:Xn:e.colorPrimaries===sge?e.transferFunction===B7?hge:Age:(e.colorPrimaries===rge||console.warn(`THREE.KTX2Loader: Unsupported color primaries, "${e.colorPrimaries}"`),Fc)}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T7,I7;const gh=Symbol("retainerCount"),Ld=Symbol("recentlyUsed"),jT=Symbol("evict"),pC=Symbol("evictionThreshold"),YD=Symbol("cache");class fge{constructor(e,t=5){this[T7]=new Map,this[I7]=[],this[YD]=e,this[pC]=t}set evictionThreshold(e){this[pC]=e,this[jT]()}get evictionThreshold(){return this[pC]}get cache(){return this[YD]}retainerCount(e){return this[gh].get(e)||0}reset(){this[gh].clear(),this[Ld]=[]}retain(e){this[gh].has(e)||this[gh].set(e,0),this[gh].set(e,this[gh].get(e)+1);const t=this[Ld].indexOf(e);t!==-1&&this[Ld].splice(t,1),this[Ld].unshift(e),this[jT]()}release(e){this[gh].has(e)&&this[gh].set(e,Math.max(this[gh].get(e)-1,0)),this[jT]()}[(T7=gh,I7=Ld,jT)](){if(!(this[Ld].length<this[pC]))for(let e=this[Ld].length-1;e>=this[pC];--e){const t=this[Ld][e];this[gh].get(t)===0&&(this[YD].delete(t),this[Ld].splice(e,1))}}}/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gge=i=>{const e=[],t=new Set;for(const n of i){let r=n,o=0;for(;t.has(r);)r=n+"."+ ++o;t.add(r),e.push(r)}return e},mge=i=>{const e=new Map;for(const t of i.mappings)for(const n of t.variants)e.set(n,{material:null,gltfMaterialIndex:t.material});return e};class _ge{constructor(e){this.parser=e,this.name="KHR_materials_variants"}afterRoot(e){const t=this.parser,n=t.json;if(n.extensions===void 0||n.extensions[this.name]===void 0)return null;const o=n.extensions[this.name].variants||[],s=gge(o.map(a=>a.name));for(const a of e.scenes)a.traverse(l=>{const c=l;if(!c.material)return;const u=t.associations.get(c);if(u==null||u.meshes==null||u.primitives==null)return;const g=n.meshes[u.meshes].primitives[u.primitives].extensions;!g||!g[this.name]||(c.userData.variantMaterials=mge(g[this.name]))});return e.userData.variants=s,Promise.resolve()}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mZ,M7;Rn.DEFAULT_ANISOTROPY=4;const vge=(i,e,t=()=>{})=>{const n=r=>{const o=r.loaded/r.total;t(Math.max(0,Math.min(1,isFinite(o)?o:1)))};return new Promise((r,o)=>{e.load(i,r,n,o)})},bge=i=>new Promise((e,t)=>{const n=document.createElement("script");document.body.appendChild(n),n.onload=e,n.onerror=t,n.async=!0,n.src=i}),Od=new Map,ZD=new Map;let R7;const k7=new Jfe;let F7;const JD=new Su;let eU,tU;const b_=Symbol("loader"),$f=Symbol("evictionPolicy"),D7=Symbol("GLTFInstance");class ml extends oc{static setDRACODecoderLocation(e){R7=e,k7.setDecoderPath(e)}static getDRACODecoderLocation(){return R7}static setKTX2TranscoderLocation(e){F7=e,JD.setTranscoderPath(e)}static getKTX2TranscoderLocation(){return F7}static setMeshoptDecoderLocation(e){eU!==e&&(eU=e,tU=bge(e).then(()=>x7.ready).then(()=>x7))}static getMeshoptDecoderLocation(){return eU}static initializeKTX2Loader(e){JD.detectSupport(e)}static get cache(){return Od}static clearCache(){Od.forEach((e,t)=>{this.delete(t)}),this[$f].reset()}static has(e){return Od.has(e)}static async delete(e){if(!this.has(e))return;const t=Od.get(e);ZD.delete(e),Od.delete(e),(await t).dispose()}static hasFinishedLoading(e){return!!ZD.get(e)}constructor(e){super(),this[M7]=new zY().register(t=>new _ge(t)),this[D7]=e,this[b_].setDRACOLoader(k7),this[b_].setKTX2Loader(JD)}get[(mZ=$f,M7=b_,$f)](){return this.constructor[$f]}async preload(e,t,n=()=>{}){if(this[b_].setWithCredentials(t.withCredentials),this.dispatchEvent({type:"preload",element:t,src:e}),!Od.has(e)){tU!=null&&this[b_].setMeshoptDecoder(await tU);const r=vge(e,this[b_],a=>{n(a*.8)}),o=this[D7],s=r.then(a=>o.prepare(a)).then(a=>(n(.9),new o(a))).catch(a=>(console.error(a),new o));Od.set(e,s)}await Od.get(e),ZD.set(e,!0),n&&n(1)}async load(e,t,n=()=>{}){await this.preload(e,t,n);const o=await(await Od.get(e)).clone();return this[$f].retain(e),o.dispose=()=>{this[$f].release(e)},o}}ml[mZ]=new fge(ml);class yge extends Si{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new et(.5,.5),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof t.element.ownerDocument.defaultView.Element&&t.element.parentNode!==null&&t.element.remove()})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this.center=e.center,this}}const V0=new he,U7=new St,P7=new St,L7=new he,O7=new he;class wge{constructor(e={}){const t=this;let n,r,o,s;const a={objects:new WeakMap},l=e.element!==void 0?e.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l,this.getSize=function(){return{width:n,height:r}},this.render=function(g,v){g.matrixWorldAutoUpdate===!0&&g.updateMatrixWorld(),v.parent===null&&v.matrixWorldAutoUpdate===!0&&v.updateMatrixWorld(),U7.copy(v.matrixWorldInverse),P7.multiplyMatrices(v.projectionMatrix,U7),u(g,g,v),p(g)},this.setSize=function(g,v){n=g,r=v,o=n/2,s=r/2,l.style.width=g+"px",l.style.height=v+"px"};function c(g){g.isCSS2DObject&&(g.element.style.display="none");for(let v=0,_=g.children.length;v<_;v++)c(g.children[v])}function u(g,v,_){if(g.visible===!1){c(g);return}if(g.isCSS2DObject){V0.setFromMatrixPosition(g.matrixWorld),V0.applyMatrix4(P7);const b=V0.z>=-1&&V0.z<=1&&g.layers.test(_.layers)===!0,x=g.element;x.style.display=b===!0?"":"none",b===!0&&(g.onBeforeRender(t,v,_),x.style.transform="translate("+-100*g.center.x+"%,"+-100*g.center.y+"%)translate("+(V0.x*o+o)+"px,"+(-V0.y*s+s)+"px)",x.parentNode!==l&&l.appendChild(x),g.onAfterRender(t,v,_));const C={distanceToCameraSquared:h(_,g)};a.objects.set(g,C)}for(let b=0,x=g.children.length;b<x;b++)u(g.children[b],v,_)}function h(g,v){return L7.setFromMatrixPosition(g.matrixWorld),O7.setFromMatrixPosition(v.matrixWorld),L7.distanceToSquared(O7)}function d(g){const v=[];return g.traverseVisible(function(_){_.isCSS2DObject&&v.push(_)}),v}function p(g){const v=d(g).sort(function(b,x){if(b.renderOrder!==x.renderOrder)return x.renderOrder-b.renderOrder;const C=a.objects.get(b).distanceToCameraSquared,S=a.objects.get(x).distanceToCameraSquared;return C-S}),_=v.length;for(let b=0,x=v.length;b<x;b++)v[b].element.style.zIndex=_-b}}}function KT(i,e,t){let n=t;const r=new he;return i.updateWorldMatrix(!0,!0),i.traverseVisible(o=>{const{geometry:s}=o;if(s!==void 0){const{position:a}=s.attributes;if(a!==void 0)for(let l=0,c=a.count;l<c;l++)o.isMesh?o.getVertexPosition(l,r):r.fromBufferAttribute(a,l),o.isSkinnedMesh||r.applyMatrix4(o.matrixWorld),n=e(n,r)}}),n}const Q7={POSITION:["byte","byte normalized","unsigned byte","unsigned byte normalized","short","short normalized","unsigned short","unsigned short normalized"],NORMAL:["byte normalized","short normalized"],TANGENT:["byte normalized","short normalized"],TEXCOORD:["byte","byte normalized","unsigned byte","short","short normalized","unsigned short"]};class v5{constructor(){this.textureUtils=null,this.pluginCallbacks=[],this.register(function(e){return new kge(e)}),this.register(function(e){return new Fge(e)}),this.register(function(e){return new Lge(e)}),this.register(function(e){return new Oge(e)}),this.register(function(e){return new Qge(e)}),this.register(function(e){return new Nge(e)}),this.register(function(e){return new Dge(e)}),this.register(function(e){return new Uge(e)}),this.register(function(e){return new Pge(e)}),this.register(function(e){return new Hge(e)}),this.register(function(e){return new zge(e)}),this.register(function(e){return new Gge(e)}),this.register(function(e){return new Vge(e)}),this.register(function(e){return new qge(e)})}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}setTextureUtils(e){return this.textureUtils=e,this}parse(e,t,n,r){const o=new Rge,s=[];for(let a=0,l=this.pluginCallbacks.length;a<l;a++)s.push(this.pluginCallbacks[a](o));o.setPlugins(s),o.setTextureUtils(this.textureUtils),o.writeAsync(e,t,r).catch(n)}parseAsync(e,t){const n=this;return new Promise(function(r,o){n.parse(e,r,o,t)})}}const tn={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},iU="KHR_mesh_quantization",Pc={};Pc[Pr]=tn.NEAREST;Pc[Bv]=tn.NEAREST_MIPMAP_NEAREST;Pc[PA]=tn.NEAREST_MIPMAP_LINEAR;Pc[Ni]=tn.LINEAR;Pc[vp]=tn.LINEAR_MIPMAP_NEAREST;Pc[na]=tn.LINEAR_MIPMAP_LINEAR;Pc[dr]=tn.CLAMP_TO_EDGE;Pc[Tl]=tn.REPEAT;Pc[Rp]=tn.MIRRORED_REPEAT;const N7={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},xge=new ut,H7=12,Cge=1179937895,Bge=2,z7=8,Sge=1313821514,Ege=5130562;function h2(i,e){return i.length===e.length&&i.every(function(t,n){return t===e[n]})}function Tge(i){return new TextEncoder().encode(i).buffer}function Ige(i){return h2(i.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function Mge(i,e,t){const n={min:new Array(i.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(i.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let r=e;r<e+t;r++)for(let o=0;o<i.itemSize;o++){let s;i.itemSize>4?s=i.array[r*i.itemSize+o]:(o===0?s=i.getX(r):o===1?s=i.getY(r):o===2?s=i.getZ(r):o===3&&(s=i.getW(r)),i.normalized===!0&&(s=Uo.normalize(s,i.array))),n.min[o]=Math.min(n.min[o],s),n.max[o]=Math.max(n.max[o],s)}return n}function _Z(i){return Math.ceil(i/4)*4}function nU(i,e=0){const t=_Z(i.byteLength);if(t!==i.byteLength){const n=new Uint8Array(t);if(n.set(new Uint8Array(i)),e!==0)for(let r=i.byteLength;r<t;r++)n[r]=e;return n.buffer}return i}function G7(){return typeof document>"u"&&typeof OffscreenCanvas<"u"?new OffscreenCanvas(1,1):document.createElement("canvas")}function V7(i,e){if(i.toBlob!==void 0)return new Promise(n=>i.toBlob(n,e));let t;return e==="image/jpeg"?t=.92:e==="image/webp"&&(t=.8),i.convertToBlob({type:e,quality:t})}class Rge{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter r"+aS}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map},this.textureUtils=null}setPlugins(e){this.plugins=e}setTextureUtils(e){this.textureUtils=e}async writeAsync(e,t,n={}){this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},n),this.options.animations.length>0&&(this.options.trs=!0),await this.processInputAsync(e),await Promise.all(this.pending);const r=this,o=r.buffers,s=r.json;n=r.options;const a=r.extensionsUsed,l=r.extensionsRequired,c=new Blob(o,{type:"application/octet-stream"}),u=Object.keys(a),h=Object.keys(l);if(u.length>0&&(s.extensionsUsed=u),h.length>0&&(s.extensionsRequired=h),s.buffers&&s.buffers.length>0&&(s.buffers[0].byteLength=c.size),n.binary===!0){const d=new FileReader;d.readAsArrayBuffer(c),d.onloadend=function(){const p=nU(d.result),g=new DataView(new ArrayBuffer(z7));g.setUint32(0,p.byteLength,!0),g.setUint32(4,Ege,!0);const v=nU(Tge(JSON.stringify(s)),32),_=new DataView(new ArrayBuffer(z7));_.setUint32(0,v.byteLength,!0),_.setUint32(4,Sge,!0);const b=new ArrayBuffer(H7),x=new DataView(b);x.setUint32(0,Cge,!0),x.setUint32(4,Bge,!0);const C=H7+_.byteLength+v.byteLength+g.byteLength+p.byteLength;x.setUint32(8,C,!0);const S=new Blob([b,_,v,g,p],{type:"application/octet-stream"}),E=new FileReader;E.readAsArrayBuffer(S),E.onloadend=function(){t(E.result)}}}else if(s.buffers&&s.buffers.length>0){const d=new FileReader;d.readAsDataURL(c),d.onloadend=function(){const p=d.result;s.buffers[0].uri=p,t(s)}}else t(s)}serializeUserData(e,t){if(Object.keys(e.userData).length===0)return;const n=this.options,r=this.extensionsUsed;try{const o=JSON.parse(JSON.stringify(e.userData));if(n.includeCustomExtensions&&o.gltfExtensions){t.extensions===void 0&&(t.extensions={});for(const s in o.gltfExtensions)t.extensions[s]=o.gltfExtensions[s],r[s]=!0;delete o.gltfExtensions}Object.keys(o).length>0&&(t.extras=o)}catch(o){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+o.message)}}getUID(e,t=!1){if(this.uids.has(e)===!1){const r=new Map;r.set(!0,this.uid++),r.set(!1,this.uid++),this.uids.set(e,r)}return this.uids.get(e).get(t)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;const n=new he;for(let r=0,o=e.count;r<o;r++)if(Math.abs(n.fromBufferAttribute(e,r).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){const t=this.cache;if(t.attributesNormalized.has(e))return t.attributesNormalized.get(e);const n=e.clone(),r=new he;for(let o=0,s=n.count;o<s;o++)r.fromBufferAttribute(n,o),r.x===0&&r.y===0&&r.z===0?r.setX(1):r.normalize(),n.setXYZ(o,r.x,r.y,r.z);return t.attributesNormalized.set(e,n),n}applyTextureTransform(e,t){let n=!1;const r={};(t.offset.x!==0||t.offset.y!==0)&&(r.offset=t.offset.toArray(),n=!0),t.rotation!==0&&(r.rotation=t.rotation,n=!0),(t.repeat.x!==1||t.repeat.y!==1)&&(r.scale=t.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}async buildMetalRoughTextureAsync(e,t){if(e===t)return e;function n(p){return p.colorSpace===fi?function(v){return v<.04045?v*.0773993808:Math.pow(v*.9478672986+.0521327014,2.4)}:function(v){return v}}e instanceof yp&&(e=await this.decompressTextureAsync(e)),t instanceof yp&&(t=await this.decompressTextureAsync(t));const r=e?e.image:null,o=t?t.image:null,s=Math.max(r?r.width:0,o?o.width:0),a=Math.max(r?r.height:0,o?o.height:0),l=G7();l.width=s,l.height=a;const c=l.getContext("2d",{willReadFrequently:!0});c.fillStyle="#00ffff",c.fillRect(0,0,s,a);const u=c.getImageData(0,0,s,a);if(r){c.drawImage(r,0,0,s,a);const p=n(e),g=c.getImageData(0,0,s,a).data;for(let v=2;v<g.length;v+=4)u.data[v]=p(g[v]/256)*256}if(o){c.drawImage(o,0,0,s,a);const p=n(t),g=c.getImageData(0,0,s,a).data;for(let v=1;v<g.length;v+=4)u.data[v]=p(g[v]/256)*256}c.putImageData(u,0,0);const d=(e||t).clone();return d.source=new rg(l),d.colorSpace=Fc,d.channel=(e||t).channel,e&&t&&e.channel!==t.channel&&console.warn("THREE.GLTFExporter: UV channels for metalnessMap and roughnessMap textures must match."),console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures."),d}async decompressTextureAsync(e,t=1/0){if(this.textureUtils===null)throw new Error("THREE.GLTFExporter: setTextureUtils() must be called to process compressed textures.");return await this.textureUtils.decompress(e,t)}processBuffer(e){const t=this.json,n=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),n.push(e),0}processBufferView(e,t,n,r,o){const s=this.json;s.bufferViews||(s.bufferViews=[]);let a;switch(t){case tn.BYTE:case tn.UNSIGNED_BYTE:a=1;break;case tn.SHORT:case tn.UNSIGNED_SHORT:a=2;break;default:a=4}let l=e.itemSize*a;o===tn.ARRAY_BUFFER&&(l=Math.ceil(l/4)*4);const c=_Z(r*l),u=new DataView(new ArrayBuffer(c));let h=0;for(let g=n;g<n+r;g++){for(let v=0;v<e.itemSize;v++){let _;e.itemSize>4?_=e.array[g*e.itemSize+v]:(v===0?_=e.getX(g):v===1?_=e.getY(g):v===2?_=e.getZ(g):v===3&&(_=e.getW(g)),e.normalized===!0&&(_=Uo.normalize(_,e.array))),t===tn.FLOAT?u.setFloat32(h,_,!0):t===tn.INT?u.setInt32(h,_,!0):t===tn.UNSIGNED_INT?u.setUint32(h,_,!0):t===tn.SHORT?u.setInt16(h,_,!0):t===tn.UNSIGNED_SHORT?u.setUint16(h,_,!0):t===tn.BYTE?u.setInt8(h,_):t===tn.UNSIGNED_BYTE&&u.setUint8(h,_),h+=a}h%l!==0&&(h+=l-h%l)}const d={buffer:this.processBuffer(u.buffer),byteOffset:this.byteOffset,byteLength:c};return o!==void 0&&(d.target=o),o===tn.ARRAY_BUFFER&&(d.byteStride=l),this.byteOffset+=c,s.bufferViews.push(d),{id:s.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){const t=this,n=t.json;return n.bufferViews||(n.bufferViews=[]),new Promise(function(r){const o=new FileReader;o.readAsArrayBuffer(e),o.onloadend=function(){const s=nU(o.result),a={buffer:t.processBuffer(s),byteOffset:t.byteOffset,byteLength:s.byteLength};t.byteOffset+=s.byteLength,r(n.bufferViews.push(a)-1)}})}processAccessor(e,t,n,r){const o=this.json,s={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",9:"MAT3",16:"MAT4"};let a;if(e.array.constructor===Float32Array)a=tn.FLOAT;else if(e.array.constructor===Int32Array)a=tn.INT;else if(e.array.constructor===Uint32Array)a=tn.UNSIGNED_INT;else if(e.array.constructor===Int16Array)a=tn.SHORT;else if(e.array.constructor===Uint16Array)a=tn.UNSIGNED_SHORT;else if(e.array.constructor===Int8Array)a=tn.BYTE;else if(e.array.constructor===Uint8Array)a=tn.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type: "+e.array.constructor.name);if(n===void 0&&(n=0),(r===void 0||r===1/0)&&(r=e.count),r===0)return null;const l=Mge(e,n,r);let c;t!==void 0&&(c=e===t.index?tn.ELEMENT_ARRAY_BUFFER:tn.ARRAY_BUFFER);const u=this.processBufferView(e,a,n,r,c),h={bufferView:u.id,byteOffset:u.byteOffset,componentType:a,count:r,max:l.max,min:l.min,type:s[e.itemSize]};return e.normalized===!0&&(h.normalized=!0),o.accessors||(o.accessors=[]),o.accessors.push(h)-1}processImage(e,t,n,r="image/png"){if(e!==null){const o=this,s=o.cache,a=o.json,l=o.options,c=o.pending;s.images.has(e)||s.images.set(e,{});const u=s.images.get(e),h=r+":flipY/"+n.toString();if(u[h]!==void 0)return u[h];a.images||(a.images=[]);const d={mimeType:r},p=G7();p.width=Math.min(e.width,l.maxTextureSize),p.height=Math.min(e.height,l.maxTextureSize);const g=p.getContext("2d",{willReadFrequently:!0});if(n===!0&&(g.translate(0,p.height),g.scale(1,-1)),e.data!==void 0){t!==On&&console.error("GLTFExporter: Only RGBAFormat is supported.",t),(e.width>l.maxTextureSize||e.height>l.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);const _=new Uint8ClampedArray(e.height*e.width*4);for(let b=0;b<_.length;b+=4)_[b+0]=e.data[b+0],_[b+1]=e.data[b+1],_[b+2]=e.data[b+2],_[b+3]=e.data[b+3];g.putImageData(new ImageData(_,e.width,e.height),0,0)}else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas)g.drawImage(e,0,0,p.width,p.height);else throw new Error("THREE.GLTFExporter: Invalid image type. Use HTMLImageElement, HTMLCanvasElement, ImageBitmap or OffscreenCanvas.");l.binary===!0?c.push(V7(p,r).then(_=>o.processBufferViewImage(_)).then(_=>{d.bufferView=_})):p.toDataURL!==void 0?d.uri=p.toDataURL(r):c.push(V7(p,r).then(_=>new FileReader().readAsDataURL(_)).then(_=>{d.uri=_}));const v=a.images.push(d)-1;return u[h]=v,v}else throw new Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.")}processSampler(e){const t=this.json;t.samplers||(t.samplers=[]);const n={magFilter:Pc[e.magFilter],minFilter:Pc[e.minFilter],wrapS:Pc[e.wrapS],wrapT:Pc[e.wrapT]};return t.samplers.push(n)-1}async processTextureAsync(e){const n=this.options,r=this.cache,o=this.json;if(r.textures.has(e))return r.textures.get(e);o.textures||(o.textures=[]),e instanceof yp&&(e=await this.decompressTextureAsync(e,n.maxTextureSize));let s=e.userData.mimeType;s==="image/webp"&&(s="image/png");const a={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,s)};e.name&&(a.name=e.name),await this._invokeAllAsync(async function(c){c.writeTexture&&await c.writeTexture(e,a)});const l=o.textures.push(a)-1;return r.textures.set(e,l),l}async processMaterialAsync(e){const t=this.cache,n=this.json;if(t.materials.has(e))return t.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;n.materials||(n.materials=[]);const r={pbrMetallicRoughness:{}};e.isMeshStandardMaterial!==!0&&e.isMeshBasicMaterial!==!0&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const o=e.color.toArray().concat([e.opacity]);if(h2(o,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=o),e.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=e.metalness,r.pbrMetallicRoughness.roughnessFactor=e.roughness):(r.pbrMetallicRoughness.metallicFactor=0,r.pbrMetallicRoughness.roughnessFactor=1),e.metalnessMap||e.roughnessMap){const a=await this.buildMetalRoughTextureAsync(e.metalnessMap,e.roughnessMap),l={index:await this.processTextureAsync(a),texCoord:a.channel};this.applyTextureTransform(l,a),r.pbrMetallicRoughness.metallicRoughnessTexture=l}if(e.map){const a={index:await this.processTextureAsync(e.map),texCoord:e.map.channel};this.applyTextureTransform(a,e.map),r.pbrMetallicRoughness.baseColorTexture=a}if(e.emissive){const a=e.emissive;if(Math.max(a.r,a.g,a.b)>0&&(r.emissiveFactor=e.emissive.toArray()),e.emissiveMap){const c={index:await this.processTextureAsync(e.emissiveMap),texCoord:e.emissiveMap.channel};this.applyTextureTransform(c,e.emissiveMap),r.emissiveTexture=c}}if(e.normalMap){const a={index:await this.processTextureAsync(e.normalMap),texCoord:e.normalMap.channel};e.normalScale&&e.normalScale.x!==1&&(a.scale=e.normalScale.x),this.applyTextureTransform(a,e.normalMap),r.normalTexture=a}if(e.aoMap){const a={index:await this.processTextureAsync(e.aoMap),texCoord:e.aoMap.channel};e.aoMapIntensity!==1&&(a.strength=e.aoMapIntensity),this.applyTextureTransform(a,e.aoMap),r.occlusionTexture=a}e.transparent?r.alphaMode="BLEND":e.alphaTest>0&&(r.alphaMode="MASK",r.alphaCutoff=e.alphaTest),e.side===vo&&(r.doubleSided=!0),e.name!==""&&(r.name=e.name),this.serializeUserData(e,r),await this._invokeAllAsync(async function(a){a.writeMaterialAsync&&await a.writeMaterialAsync(e,r)});const s=n.materials.push(r)-1;return t.materials.set(e,s),s}async processMeshAsync(e){const t=this.cache,n=this.json,r=[e.geometry.uuid];if(Array.isArray(e.material))for(let S=0,E=e.material.length;S<E;S++)r.push(e.material[S].uuid);else r.push(e.material.uuid);const o=r.join(":");if(t.meshes.has(o))return t.meshes.get(o);const s=e.geometry;let a;e.isLineSegments?a=tn.LINES:e.isLineLoop?a=tn.LINE_LOOP:e.isLine?a=tn.LINE_STRIP:e.isPoints?a=tn.POINTS:a=e.material.wireframe?tn.LINES:tn.TRIANGLES;const l={},c={},u=[],h=[],d={uv:"TEXCOORD_0",uv1:"TEXCOORD_1",uv2:"TEXCOORD_2",uv3:"TEXCOORD_3",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},p=s.getAttribute("normal");p!==void 0&&!this.isNormalizedNormalAttribute(p)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),s.setAttribute("normal",this.createNormalizedNormalAttribute(p)));let g=null;for(let S in s.attributes){if(S.slice(0,5)==="morph")continue;const E=s.attributes[S];if(S=d[S]||S.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(S)||(S="_"+S),t.attributes.has(this.getUID(E))){c[S]=t.attributes.get(this.getUID(E));continue}g=null;const M=E.array;S==="JOINTS_0"&&!(M instanceof Uint16Array)&&!(M instanceof Uint8Array)?(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),g=new Ci(new Uint16Array(M),E.itemSize,E.normalized)):(M instanceof Uint32Array||M instanceof Int32Array)&&!S.startsWith("_")&&(console.warn(`GLTFExporter: Attribute "${S}" converted to type FLOAT.`),g=v5.Utils.toFloat32BufferAttribute(E));const k=this.processAccessor(g||E,s);k!==null&&(S.startsWith("_")||this.detectMeshQuantization(S,E),c[S]=k,t.attributes.set(this.getUID(E),k))}if(p!==void 0&&s.setAttribute("normal",p),Object.keys(c).length===0)return null;if(e.morphTargetInfluences!==void 0&&e.morphTargetInfluences.length>0){const S=[],E=[],I={};if(e.morphTargetDictionary!==void 0)for(const M in e.morphTargetDictionary)I[e.morphTargetDictionary[M]]=M;for(let M=0;M<e.morphTargetInfluences.length;++M){const k={};let F=!1;for(const P in s.morphAttributes){if(P!=="position"&&P!=="normal"){F||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),F=!0);continue}const Q=s.morphAttributes[P][M],N=P.toUpperCase(),W=s.attributes[P];if(t.attributes.has(this.getUID(Q,!0))){k[N]=t.attributes.get(this.getUID(Q,!0));continue}const q=Q.clone();if(!s.morphTargetsRelative)for(let J=0,V=Q.count;J<V;J++)for(let Y=0;Y<Q.itemSize;Y++)Y===0&&q.setX(J,Q.getX(J)-W.getX(J)),Y===1&&q.setY(J,Q.getY(J)-W.getY(J)),Y===2&&q.setZ(J,Q.getZ(J)-W.getZ(J)),Y===3&&q.setW(J,Q.getW(J)-W.getW(J));k[N]=this.processAccessor(q,s),t.attributes.set(this.getUID(W,!0),k[N])}h.push(k),S.push(e.morphTargetInfluences[M]),e.morphTargetDictionary!==void 0&&E.push(I[M])}l.weights=S,E.length>0&&(l.extras={},l.extras.targetNames=E)}const v=Array.isArray(e.material);if(v&&s.groups.length===0)return null;let _=!1;if(v&&s.index===null){const S=[];for(let E=0,I=s.attributes.position.count;E<I;E++)S[E]=E;s.setIndex(S),_=!0}const b=v?e.material:[e.material],x=v?s.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let S=0,E=x.length;S<E;S++){const I={mode:a,attributes:c};if(this.serializeUserData(s,I),h.length>0&&(I.targets=h),s.index!==null){let k=this.getUID(s.index);(x[S].start!==void 0||x[S].count!==void 0)&&(k+=":"+x[S].start+":"+x[S].count),t.attributes.has(k)?I.indices=t.attributes.get(k):(I.indices=this.processAccessor(s.index,s,x[S].start,x[S].count),t.attributes.set(k,I.indices)),I.indices===null&&delete I.indices}const M=await this.processMaterialAsync(b[x[S].materialIndex]);M!==null&&(I.material=M),u.push(I)}_===!0&&s.setIndex(null),l.primitives=u,n.meshes||(n.meshes=[]),await this._invokeAllAsync(function(S){S.writeMesh&&S.writeMesh(e,l)});const C=n.meshes.push(l)-1;return t.meshes.set(o,C),C}detectMeshQuantization(e,t){if(this.extensionsUsed[iU])return;let n;switch(t.array.constructor){case Int8Array:n="byte";break;case Uint8Array:n="unsigned byte";break;case Int16Array:n="short";break;case Uint16Array:n="unsigned short";break;default:return}t.normalized&&(n+=" normalized");const r=e.split("_",1)[0];Q7[r]&&Q7[r].includes(n)&&(this.extensionsUsed[iU]=!0,this.extensionsRequired[iU]=!0)}processCamera(e){const t=this.json;t.cameras||(t.cameras=[]);const n=e.isOrthographicCamera,r={type:n?"orthographic":"perspective"};return n?r.orthographic={xmag:e.right*2,ymag:e.top*2,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:r.perspective={aspectRatio:e.aspect,yfov:Uo.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},e.name!==""&&(r.name=e.type),t.cameras.push(r)-1}processAnimation(e,t){const n=this.json,r=this.nodeMap;n.animations||(n.animations=[]),e=v5.Utils.mergeMorphTargetTracks(e.clone(),t);const o=e.tracks,s=[],a=[];for(let l=0;l<o.length;++l){const c=o[l],u=ki.parseTrackName(c.name);let h=ki.findNode(t,u.nodeName);const d=N7[u.propertyName];if(u.objectName==="bones"&&(h.isSkinnedMesh===!0?h=h.skeleton.getBoneByName(u.objectIndex):h=void 0),!h||!d){console.warn('THREE.GLTFExporter: Could not export animation track "%s".',c.name);continue}const p=1;let g=c.values.length/c.times.length;d===N7.morphTargetInfluences&&(g/=h.morphTargetInfluences.length);let v;c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(v="CUBICSPLINE",g/=3):c.getInterpolation()===uv?v="STEP":v="LINEAR",a.push({input:this.processAccessor(new Ci(c.times,p)),output:this.processAccessor(new Ci(c.values,g)),interpolation:v}),s.push({sampler:a.length-1,target:{node:r.get(h),path:d}})}return n.animations.push({name:e.name||"clip_"+n.animations.length,samplers:a,channels:s}),n.animations.length-1}processSkin(e){const t=this.json,n=this.nodeMap,r=t.nodes[n.get(e)],o=e.skeleton;if(o===void 0)return null;const s=e.skeleton.bones[0];if(s===void 0)return null;const a=[],l=new Float32Array(o.bones.length*16),c=new St;for(let h=0;h<o.bones.length;++h)a.push(n.get(o.bones[h])),c.copy(o.boneInverses[h]),c.multiply(e.bindMatrix).toArray(l,h*16);return t.skins===void 0&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new Ci(l,16)),joints:a,skeleton:n.get(s)}),r.skin=t.skins.length-1}async processNodeAsync(e){const t=this.json,n=this.options,r=this.nodeMap;t.nodes||(t.nodes=[]);const o={};if(n.trs){const a=e.quaternion.toArray(),l=e.position.toArray(),c=e.scale.toArray();h2(a,[0,0,0,1])||(o.rotation=a),h2(l,[0,0,0])||(o.translation=l),h2(c,[1,1,1])||(o.scale=c)}else e.matrixAutoUpdate&&e.updateMatrix(),Ige(e.matrix)===!1&&(o.matrix=e.matrix.elements);if(e.name!==""&&(o.name=String(e.name)),this.serializeUserData(e,o),e.isMesh||e.isLine||e.isPoints){const a=await this.processMeshAsync(e);a!==null&&(o.mesh=a)}else e.isCamera&&(o.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){const a=[];for(let l=0,c=e.children.length;l<c;l++){const u=e.children[l];if(u.visible||n.onlyVisible===!1){const h=await this.processNodeAsync(u);h!==null&&a.push(h)}}a.length>0&&(o.children=a)}await this._invokeAllAsync(function(a){a.writeNode&&a.writeNode(e,o)});const s=t.nodes.push(o)-1;return r.set(e,s),s}async processSceneAsync(e){const t=this.json,n=this.options;t.scenes||(t.scenes=[],t.scene=0);const r={};e.name!==""&&(r.name=e.name),t.scenes.push(r);const o=[];for(let s=0,a=e.children.length;s<a;s++){const l=e.children[s];if(l.visible||n.onlyVisible===!1){const c=await this.processNodeAsync(l);c!==null&&o.push(c)}}o.length>0&&(r.nodes=o),this.serializeUserData(e,r)}async processObjectsAsync(e){const t=new Lu;t.name="AuxScene";for(let n=0;n<e.length;n++)t.children.push(e[n]);await this.processSceneAsync(t)}async processInputAsync(e){const t=this.options;e=e instanceof Array?e:[e],await this._invokeAllAsync(function(r){r.beforeParse&&r.beforeParse(e)});const n=[];for(let r=0;r<e.length;r++)e[r]instanceof Lu?await this.processSceneAsync(e[r]):n.push(e[r]);n.length>0&&await this.processObjectsAsync(n);for(let r=0;r<this.skins.length;++r)this.processSkin(this.skins[r]);for(let r=0;r<t.animations.length;++r)this.processAnimation(t.animations[r],e[0]);await this._invokeAllAsync(function(r){r.afterParse&&r.afterParse(e)})}async _invokeAllAsync(e){for(let t=0,n=this.plugins.length;t<n;t++)await e(this.plugins[t])}}class kge{constructor(e){this.writer=e,this.name="KHR_lights_punctual"}writeNode(e,t){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e);return}const n=this.writer,r=n.json,o=n.extensionsUsed,s={};e.name&&(s.name=e.name),s.color=e.color.toArray(),s.intensity=e.intensity,e.isDirectionalLight?s.type="directional":e.isPointLight?(s.type="point",e.distance>0&&(s.range=e.distance)):e.isSpotLight&&(s.type="spot",e.distance>0&&(s.range=e.distance),s.spot={},s.spot.innerConeAngle=(1-e.penumbra)*e.angle,s.spot.outerConeAngle=e.angle),e.decay!==void 0&&e.decay!==2&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),e.target&&(e.target.parent!==e||e.target.position.x!==0||e.target.position.y!==0||e.target.position.z!==-1)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),o[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},o[this.name]=!0);const a=r.extensions[this.name].lights;a.push(s),t.extensions=t.extensions||{},t.extensions[this.name]={light:a.length-1}}}class Fge{constructor(e){this.writer=e,this.name="KHR_materials_unlit"}async writeMaterialAsync(e,t){if(!e.isMeshBasicMaterial)return;const r=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},r[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}class Dge{constructor(e){this.writer=e,this.name="KHR_materials_clearcoat"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.clearcoat===0)return;const n=this.writer,r=n.extensionsUsed,o={};if(o.clearcoatFactor=e.clearcoat,e.clearcoatMap){const s={index:await n.processTextureAsync(e.clearcoatMap),texCoord:e.clearcoatMap.channel};n.applyTextureTransform(s,e.clearcoatMap),o.clearcoatTexture=s}if(o.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){const s={index:await n.processTextureAsync(e.clearcoatRoughnessMap),texCoord:e.clearcoatRoughnessMap.channel};n.applyTextureTransform(s,e.clearcoatRoughnessMap),o.clearcoatRoughnessTexture=s}if(e.clearcoatNormalMap){const s={index:await n.processTextureAsync(e.clearcoatNormalMap),texCoord:e.clearcoatNormalMap.channel};e.clearcoatNormalScale.x!==1&&(s.scale=e.clearcoatNormalScale.x),n.applyTextureTransform(s,e.clearcoatNormalMap),o.clearcoatNormalTexture=s}t.extensions=t.extensions||{},t.extensions[this.name]=o,r[this.name]=!0}}class Uge{constructor(e){this.writer=e,this.name="KHR_materials_dispersion"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.dispersion===0)return;const r=this.writer.extensionsUsed,o={};o.dispersion=e.dispersion,t.extensions=t.extensions||{},t.extensions[this.name]=o,r[this.name]=!0}}class Pge{constructor(e){this.writer=e,this.name="KHR_materials_iridescence"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.iridescence===0)return;const n=this.writer,r=n.extensionsUsed,o={};if(o.iridescenceFactor=e.iridescence,e.iridescenceMap){const s={index:await n.processTextureAsync(e.iridescenceMap),texCoord:e.iridescenceMap.channel};n.applyTextureTransform(s,e.iridescenceMap),o.iridescenceTexture=s}if(o.iridescenceIor=e.iridescenceIOR,o.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],o.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){const s={index:await n.processTextureAsync(e.iridescenceThicknessMap),texCoord:e.iridescenceThicknessMap.channel};n.applyTextureTransform(s,e.iridescenceThicknessMap),o.iridescenceThicknessTexture=s}t.extensions=t.extensions||{},t.extensions[this.name]=o,r[this.name]=!0}}class Lge{constructor(e){this.writer=e,this.name="KHR_materials_transmission"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;const n=this.writer,r=n.extensionsUsed,o={};if(o.transmissionFactor=e.transmission,e.transmissionMap){const s={index:await n.processTextureAsync(e.transmissionMap),texCoord:e.transmissionMap.channel};n.applyTextureTransform(s,e.transmissionMap),o.transmissionTexture=s}t.extensions=t.extensions||{},t.extensions[this.name]=o,r[this.name]=!0}}class Oge{constructor(e){this.writer=e,this.name="KHR_materials_volume"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;const n=this.writer,r=n.extensionsUsed,o={};if(o.thicknessFactor=e.thickness,e.thicknessMap){const s={index:await n.processTextureAsync(e.thicknessMap),texCoord:e.thicknessMap.channel};n.applyTextureTransform(s,e.thicknessMap),o.thicknessTexture=s}e.attenuationDistance!==1/0&&(o.attenuationDistance=e.attenuationDistance),o.attenuationColor=e.attenuationColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=o,r[this.name]=!0}}class Qge{constructor(e){this.writer=e,this.name="KHR_materials_ior"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.ior===1.5)return;const r=this.writer.extensionsUsed,o={};o.ior=e.ior,t.extensions=t.extensions||{},t.extensions[this.name]=o,r[this.name]=!0}}class Nge{constructor(e){this.writer=e,this.name="KHR_materials_specular"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.specularIntensity===1&&e.specularColor.equals(xge)&&!e.specularIntensityMap&&!e.specularColorMap)return;const n=this.writer,r=n.extensionsUsed,o={};if(e.specularIntensityMap){const s={index:await n.processTextureAsync(e.specularIntensityMap),texCoord:e.specularIntensityMap.channel};n.applyTextureTransform(s,e.specularIntensityMap),o.specularTexture=s}if(e.specularColorMap){const s={index:await n.processTextureAsync(e.specularColorMap),texCoord:e.specularColorMap.channel};n.applyTextureTransform(s,e.specularColorMap),o.specularColorTexture=s}o.specularFactor=e.specularIntensity,o.specularColorFactor=e.specularColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=o,r[this.name]=!0}}class Hge{constructor(e){this.writer=e,this.name="KHR_materials_sheen"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.sheen==0)return;const n=this.writer,r=n.extensionsUsed,o={};if(e.sheenRoughnessMap){const s={index:await n.processTextureAsync(e.sheenRoughnessMap),texCoord:e.sheenRoughnessMap.channel};n.applyTextureTransform(s,e.sheenRoughnessMap),o.sheenRoughnessTexture=s}if(e.sheenColorMap){const s={index:await n.processTextureAsync(e.sheenColorMap),texCoord:e.sheenColorMap.channel};n.applyTextureTransform(s,e.sheenColorMap),o.sheenColorTexture=s}o.sheenRoughnessFactor=e.sheenRoughness,o.sheenColorFactor=e.sheenColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=o,r[this.name]=!0}}class zge{constructor(e){this.writer=e,this.name="KHR_materials_anisotropy"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.anisotropy==0)return;const n=this.writer,r=n.extensionsUsed,o={};if(e.anisotropyMap){const s={index:await n.processTextureAsync(e.anisotropyMap)};n.applyTextureTransform(s,e.anisotropyMap),o.anisotropyTexture=s}o.anisotropyStrength=e.anisotropy,o.anisotropyRotation=e.anisotropyRotation,t.extensions=t.extensions||{},t.extensions[this.name]=o,r[this.name]=!0}}class Gge{constructor(e){this.writer=e,this.name="KHR_materials_emissive_strength"}async writeMaterialAsync(e,t){if(!e.isMeshStandardMaterial||e.emissiveIntensity===1)return;const r=this.writer.extensionsUsed,o={};o.emissiveStrength=e.emissiveIntensity,t.extensions=t.extensions||{},t.extensions[this.name]=o,r[this.name]=!0}}class Vge{constructor(e){this.writer=e,this.name="EXT_materials_bump"}async writeMaterialAsync(e,t){if(!e.isMeshStandardMaterial||e.bumpScale===1&&!e.bumpMap)return;const n=this.writer,r=n.extensionsUsed,o={};if(e.bumpMap){const s={index:await n.processTextureAsync(e.bumpMap),texCoord:e.bumpMap.channel};n.applyTextureTransform(s,e.bumpMap),o.bumpTexture=s}o.bumpFactor=e.bumpScale,t.extensions=t.extensions||{},t.extensions[this.name]=o,r[this.name]=!0}}class qge{constructor(e){this.writer=e,this.name="EXT_mesh_gpu_instancing"}writeNode(e,t){if(!e.isInstancedMesh)return;const n=this.writer,r=e,o=new Float32Array(r.count*3),s=new Float32Array(r.count*4),a=new Float32Array(r.count*3),l=new St,c=new he,u=new Mn,h=new he;for(let p=0;p<r.count;p++)r.getMatrixAt(p,l),l.decompose(c,u,h),c.toArray(o,p*3),u.toArray(s,p*4),h.toArray(a,p*3);const d={TRANSLATION:n.processAccessor(new Ci(o,3)),ROTATION:n.processAccessor(new Ci(s,4)),SCALE:n.processAccessor(new Ci(a,3))};r.instanceColor&&(d._COLOR_0=n.processAccessor(r.instanceColor)),t.extensions=t.extensions||{},t.extensions[this.name]={attributes:d},n.extensionsUsed[this.name]=!0,n.extensionsRequired[this.name]=!0}}v5.Utils={insertKeyframe:function(i,e){const n=i.getValueSize(),r=new i.TimeBufferType(i.times.length+1),o=new i.ValueBufferType(i.values.length+n),s=i.createInterpolant(new i.ValueBufferType(n));let a;if(i.times.length===0){r[0]=e;for(let l=0;l<n;l++)o[l]=0;a=0}else if(e<i.times[0]){if(Math.abs(i.times[0]-e)<.001)return 0;r[0]=e,r.set(i.times,1),o.set(s.evaluate(e),0),o.set(i.values,n),a=0}else if(e>i.times[i.times.length-1]){if(Math.abs(i.times[i.times.length-1]-e)<.001)return i.times.length-1;r[r.length-1]=e,r.set(i.times,0),o.set(i.values,0),o.set(s.evaluate(e),i.values.length),a=r.length-1}else for(let l=0;l<i.times.length;l++){if(Math.abs(i.times[l]-e)<.001)return l;if(i.times[l]<e&&i.times[l+1]>e){r.set(i.times.slice(0,l+1),0),r[l+1]=e,r.set(i.times.slice(l+1),l+2),o.set(i.values.slice(0,(l+1)*n),0),o.set(s.evaluate(e),(l+1)*n),o.set(i.values.slice((l+1)*n),(l+2)*n),a=l+1;break}}return i.times=r,i.values=o,a},mergeMorphTargetTracks:function(i,e){const t=[],n={},r=i.tracks;for(let o=0;o<r.length;++o){let s=r[o];const a=ki.parseTrackName(s.name),l=ki.findNode(e,a.nodeName);if(a.propertyName!=="morphTargetInfluences"||a.propertyIndex===void 0){t.push(s);continue}if(s.createInterpolant!==s.InterpolantFactoryMethodDiscrete&&s.createInterpolant!==s.InterpolantFactoryMethodLinear){if(s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),s=s.clone(),s.setInterpolation(hv)}const c=l.morphTargetInfluences.length,u=l.morphTargetDictionary[a.propertyIndex];if(u===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+a.propertyIndex);let h;if(n[l.uuid]===void 0){h=s.clone();const p=new h.ValueBufferType(c*h.times.length);for(let g=0;g<h.times.length;g++)p[g*c+u]=h.values[g];h.name=(a.nodeName||"")+".morphTargetInfluences",h.values=p,n[l.uuid]=h,t.push(h);continue}const d=s.createInterpolant(new s.ValueBufferType(1));h=n[l.uuid];for(let p=0;p<h.times.length;p++)h.values[p*c+u]=d.evaluate(h.times[p]);for(let p=0;p<s.times.length;p++){const g=this.insertKeyframe(h,s.times[p]);h.values[g*c+u]=s.values[p]}}return i.tracks=t,i},toFloat32BufferAttribute:function(i){const e=new Ci(new Float32Array(i.count*i.itemSize),i.itemSize,!1);if(!i.normalized&&!i.isInterleavedBufferAttribute)return e.array.set(i.array),e;for(let t=0,n=i.count;t<n;t++)for(let r=0;r<i.itemSize;r++)e.setComponent(t,r,i.getComponent(t,r));return e}};/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=i=>i.material!==void 0&&i.userData&&i.userData.variantMaterials&&!!Array.from(i.userData.variantMaterials.values()).filter(e=>WI(e.material)),WI=i=>i&&i.isMaterial&&!Array.isArray(i);class Wge{constructor(e){this.writer=e,this.name="KHR_materials_variants",this.variantNames=[]}beforeParse(e){const t=new Set,n=r=>{if(!q7(r))return;const o=r.userData.variantMaterials,s=r.userData.variantData;for(const[a,l]of s){const c=o.get(l.index);c&&WI(c.material)&&t.add(a)}};if(Array.isArray(e))for(const r of e)r.traverse(n);else e.traverse(n);t.forEach(r=>this.variantNames.push(r))}async writeMesh(e,t){if(!q7(e))return;const n=e.userData,r=n.variantMaterials,o=n.variantData,s=new Map,a=new Map,l=Array.from(o.values()).sort((h,d)=>h.index-d.index);for(const[h,d]of l.entries())a.set(d.index,h);for(const h of o.values()){const d=r.get(h.index);if(!d||!WI(d.material))continue;const p=await this.writer.processMaterialAsync(d.material);s.has(p)||s.set(p,{material:p,variants:[]}),s.get(p).variants.push(a.get(h.index))}const c=Array.from(s.values()).map(h=>h.variants.sort((d,p)=>d-p)&&h).sort((h,d)=>h.material-d.material);if(c.length===0)return;const u=WI(n.originalMaterial)?await this.writer.processMaterialAsync(n.originalMaterial):-1;for(const h of t.primitives)u>=0&&(h.material=u),h.extensions=h.extensions||{},h.extensions[this.name]={mappings:c}}afterParse(){if(this.variantNames.length===0)return;const e=this.writer.json;e.extensions=e.extensions||{};const t=this.variantNames.map(n=>({name:n}));e.extensions[this.name]={variants:t},this.writer.extensionsUsed[this.name]=!0}}class jge{constructor(e,t,n,r,o){this.xrLight=e,this.renderer=t,this.lightProbe=n,this.xrWebGLBinding=null,this.estimationStartCallback=o,this.frameCallback=this.onXRFrame.bind(this);const s=t.xr.getSession();if(r&&"XRWebGLBinding"in window){const a=new NR(16);e.environment=a.texture;const l=t.getContext();switch(s.preferredReflectionFormat){case"srgba8":l.getExtension("EXT_sRGB");break;case"rgba16f":l.getExtension("OES_texture_half_float");break}this.xrWebGLBinding=new XRWebGLBinding(s,l),this.lightProbe.addEventListener("reflectionchange",()=>{this.updateReflection()})}s.requestAnimationFrame(this.frameCallback)}updateReflection(){const e=this.renderer.properties.get(this.xrLight.environment);if(e){const t=this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);t&&(e.__webglTexture=t,this.xrLight.environment.needsPMREMUpdate=!0)}}onXRFrame(e,t){if(!this.xrLight)return;t.session.requestAnimationFrame(this.frameCallback);const r=t.getLightEstimate(this.lightProbe);if(r){this.xrLight.lightProbe.sh.fromArray(r.sphericalHarmonicsCoefficients),this.xrLight.lightProbe.intensity=1;const o=Math.max(1,Math.max(r.primaryLightIntensity.x,Math.max(r.primaryLightIntensity.y,r.primaryLightIntensity.z)));this.xrLight.directionalLight.color.setRGB(r.primaryLightIntensity.x/o,r.primaryLightIntensity.y/o,r.primaryLightIntensity.z/o),this.xrLight.directionalLight.intensity=o,this.xrLight.directionalLight.position.copy(r.primaryLightDirection),this.estimationStartCallback&&(this.estimationStartCallback(),this.estimationStartCallback=null)}}dispose(){this.xrLight=null,this.renderer=null,this.lightProbe=null,this.xrWebGLBinding=null}}class Kge extends Dc{constructor(e,t=!0){super(),this.lightProbe=new ZQ,this.lightProbe.intensity=0,this.add(this.lightProbe),this.directionalLight=new vS,this.directionalLight.intensity=0,this.add(this.directionalLight),this.environment=null;let n=null,r=!1;e.xr.addEventListener("sessionstart",()=>{const o=e.xr.getSession();"requestLightProbe"in o&&o.requestLightProbe({reflectionFormat:o.preferredReflectionFormat}).then(s=>{n=new jge(this,e,s,t,()=>{r=!0,this.dispatchEvent({type:"estimationstart"})})})}),e.xr.addEventListener("sessionend",()=>{n&&(n.dispose(),n=null),r&&this.dispatchEvent({type:"estimationend"})}),this.dispose=()=>{n&&(n.dispose(),n=null),this.remove(this.lightProbe),this.lightProbe=null,this.remove(this.directionalLight),this.directionalLight=null,this.environment=null}}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vZ=1e4,$ge=.001,bZ=50;class bl{constructor(e=bZ){this.velocity=0,this.naturalFrequency=0,this.setDecayTime(e)}setDecayTime(e){this.naturalFrequency=1/Math.max($ge,e)}update(e,t,n,r){const o=2e-4*this.naturalFrequency;if(e==null||r===0||e===t&&this.velocity===0)return t;if(n<0)return e;const s=e-t,a=this.velocity+this.naturalFrequency*s,l=s+n*a,c=Math.exp(-this.naturalFrequency*n),u=(a-this.naturalFrequency*l)*c,h=-this.naturalFrequency*(u+a*c);return Math.abs(u)<o*Math.abs(r)&&h*s>=0?(this.velocity=0,t):(this.velocity=u,t+l*c)}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=.2,W7=.03,Xge=.75,yZ=12,Yge=Math.PI/(2*yZ),j7=new et,$T=(i,e,t)=>{let n=e>0?t>0?0:-Math.PI/2:t>0?Math.PI/2:Math.PI;for(let r=0;r<=yZ;++r)i.push(e+(kA-W7)*Math.cos(n),t+(kA-W7)*Math.sin(n),0,e+kA*Math.cos(n),t+kA*Math.sin(n),0),n+=Yge};class K7 extends Fi{constructor(e,t){const n=new Kt,r=[],o=[],{size:s,boundingBox:a}=e,l=s.x/2,c=(t==="back"?s.y:s.z)/2;$T(o,l,c),$T(o,-l,c),$T(o,-l,-c),$T(o,l,-c);const u=o.length/3;for(let p=0;p<u-2;p+=2)r.push(p,p+1,p+3,p,p+3,p+2);const h=u-2;r.push(h,h+1,1,h,1,0),n.setAttribute("position",new vt(o,3)),n.setIndex(r),super(n),this.side=t;const d=this.material;switch(d.side=vo,d.transparent=!0,d.opacity=0,this.goalOpacity=0,this.opacityDamper=new bl,this.hitPlane=new Fi(new sc(2*(l+kA),2*(c+kA))),this.hitPlane.visible=!1,this.hitPlane.material.side=vo,this.add(this.hitPlane),this.hitBox=new Fi(new zh(s.x+2*kA,s.y+kA,s.z+2*kA)),this.hitBox.visible=!1,this.hitBox.material.side=vo,this.add(this.hitBox),a.getCenter(this.position),t){case"bottom":this.rotateX(-Math.PI/2),this.shadowHeight=a.min.y,this.position.y=this.shadowHeight;break;case"back":this.shadowHeight=a.min.z,this.position.z=this.shadowHeight}e.target.add(this),this.hitBox.position.y=(s.y+kA)/2+a.min.y,e.target.add(this.hitBox),this.offsetHeight=0}getHit(e,t,n){j7.set(t,-n),this.hitPlane.visible=!0;const r=e.positionAndNormalFromPoint(j7,this.hitPlane);return this.hitPlane.visible=!1,r==null?null:r.position}getExpandedHit(e,t,n){this.hitPlane.scale.set(1e3,1e3,1e3),this.hitPlane.updateMatrixWorld();const r=this.getHit(e,t,n);return this.hitPlane.scale.set(1,1,1),r}controllerIntersection(e,t){this.hitBox.visible=!0;const n=e.hitFromController(t,this.hitBox);return this.hitBox.visible=!1,n}set offsetHeight(e){e-=.001,this.side==="back"?this.position.z=this.shadowHeight+e:this.position.y=this.shadowHeight+e}get offsetHeight(){return this.side==="back"?this.position.z-this.shadowHeight:this.position.y-this.shadowHeight}set show(e){this.goalOpacity=e?Xge:0}updateOpacity(e){const t=this.material;t.opacity=this.opacityDamper.update(t.opacity,this.goalOpacity,e,1),this.visible=t.opacity>0}dispose(){const{geometry:e,material:t}=this.hitPlane;e.dispose(),t.dispose(),this.hitBox.geometry.dispose(),this.hitBox.material.dispose(),this.geometry.dispose(),this.material.dispose(),this.hitBox.removeFromParent(),this.removeFromParent()}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=(i,e)=>({type:"number",number:i,unit:e}),mp=(()=>{const i={};return t=>{const n=t;if(n in i)return i[n];const r=[];let o=0;for(;t;){if(++o>1e3){t="";break}const s=wZ(t),a=s.nodes[0];if(a==null||a.terms.length===0)break;r.push(a),t=s.remainingInput}return i[n]=r}})(),wZ=(()=>{const i=/^(\-\-|[a-z\u0240-\uffff])/i,e=/^([\*\+\/]|[\-]\s)/i,t=/^[\),]/,n="(",r="#";return o=>{const s=[];for(;o.length&&(o=o.trim(),!t.test(o));)if(o[0]===n){const{nodes:a,remainingInput:l}=$7(o);o=l,s.push({type:"function",name:{type:"ident",value:"calc"},arguments:a})}else if(i.test(o)){const a=Zge(o),l=a.nodes[0];if(o=a.remainingInput,o[0]===n){const{nodes:c,remainingInput:u}=$7(o);s.push({type:"function",name:l,arguments:c}),o=u}else s.push(l)}else if(e.test(o))s.push({type:"operator",value:o[0]}),o=o.slice(1);else{const{nodes:a,remainingInput:l}=o[0]===r?eme(o):Jge(o);if(a.length===0)break;s.push(a[0]),o=l}return{nodes:[{type:"expression",terms:s}],remainingInput:o}}})(),Zge=(()=>{const i=/[^a-z0-9_\-\u0240-\uffff]/i;return e=>{const t=e.match(i),n=t==null?e:e.substr(0,t.index),r=t==null?"":e.substr(t.index);return{nodes:[{type:"ident",value:n}],remainingInput:r}}})(),Jge=(()=>{const i=/[\+\-]?(\d+[\.]\d+|\d+|[\.]\d+)([eE][\+\-]?\d+)?/,e=/^[a-z%]+/i,t=/^(m|mm|cm|rad|deg|[%])$/;return n=>{const r=n.match(i),o=r==null?"0":r[0];n=o==null?n:n.slice(o.length);const s=n.match(e);let a=s!=null&&s[0]!==""?s[0]:null;const l=s==null?n:n.slice(a.length);return a!=null&&!t.test(a)&&(a=null),{nodes:[{type:"number",number:parseFloat(o)||0,unit:a}],remainingInput:l}}})(),eme=(()=>{const i=/^[a-f0-9]*/i;return e=>{e=e.slice(1).trim();const t=e.match(i);return{nodes:t==null?[]:[{type:"hex",value:t[0]}],remainingInput:t==null?e:e.slice(t[0].length)}}})(),$7=i=>{const e=[];for(i=i.slice(1).trim();i.length;){const t=wZ(i);if(e.push(t.nodes[0]),i=t.remainingInput.trim(),i[0]===",")i=i.slice(1).trim();else if(i[0]===")"){i=i.slice(1);break}}return{nodes:e,remainingInput:i}},X7=Symbol("visitedTypes");class tme{constructor(e){this[X7]=e}walk(e,t){const n=e.slice();for(;n.length;){const r=n.shift();switch(this[X7].indexOf(r.type)>-1&&t(r),r.type){case"expression":n.unshift(...r.terms);break;case"function":n.unshift(r.name,...r.arguments);break}}}}const Sg=Object.freeze({type:"number",number:0,unit:null});/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=(i,e=0)=>{let{number:t,unit:n}=i;if(!isFinite(t))t=e,n="rad";else if(i.unit==="rad"||i.unit==null)return i;return{type:"number",number:(n==="deg"&&t!=null?t:0)*Math.PI/180,unit:"rad"}},Y7=(i,e=0)=>{let{number:t,unit:n}=i;if(!isFinite(t))t=e,n="m";else if(i.unit==="m")return i;let r;switch(n){default:r=1;break;case"cm":r=1/100;break;case"mm":r=1/1e3;break}return{type:"number",number:r*t,unit:"m"}},LA=(()=>{const i=t=>t,e={rad:i,deg:fk,m:i,mm:Y7,cm:Y7};return(t,n=Sg)=>{isFinite(t.number)||(t.number=n.number,t.unit=n.unit);const{unit:r}=t;if(r==null)return t;const o=e[r];return o==null?n:o(t)}})();/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xZ,Z7,J7;const vw=Symbol("evaluate"),jI=Symbol("lastValue");class kr{constructor(){this[xZ]=null}static evaluatableFor(e,t=Sg){if(e instanceof kr)return e;if(e.type==="number")return e.unit==="%"?new ime(e,t):e;switch(e.name.value){case"calc":return new ome(e,t);case"env":return new nme(e)}return Sg}static evaluate(e){return e instanceof kr?e.evaluate():e}static isConstant(e){return e instanceof kr?e.isConstant:!0}static applyIntrinsics(e,t){const{basis:n,keywords:r}=t,{auto:o}=r;return n.map((s,a)=>{const l=o[a]==null?s:o[a];let c=e[a]?e[a]:l;if(c.type==="ident"){const u=c.value;u in r&&(c=r[u][a])}return(c==null||c.type==="ident")&&(c=l),c.unit==="%"?Va(c.number/100*s.number,s.unit):(c=LA(c,s),c.unit!==s.unit?s:c)})}get isConstant(){return!1}evaluate(){return(!this.isConstant||this[jI]==null)&&(this[jI]=this[vw]()),this[jI]}}xZ=jI;const e6=Symbol("percentage"),rU=Symbol("basis");class ime extends kr{constructor(e,t){super(),this[e6]=e,this[rU]=t}get isConstant(){return!0}[vw](){return Va(this[e6].number/100*this[rU].number,this[rU].unit)}}const XT=Symbol("identNode");class nme extends kr{constructor(e){super(),this[Z7]=null;const t=e.arguments.length?e.arguments[0].terms[0]:null;t!=null&&t.type==="ident"&&(this[XT]=t)}get isConstant(){return!1}[(Z7=XT,vw)](){if(this[XT]!=null)switch(this[XT].value){case"window-scroll-y":const e=window.pageYOffset,t=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight);return{type:"number",number:e/(t-window.innerHeight)||0,unit:null}}return Sg}}const rme=/[\*\/]/,q0=Symbol("evaluator");class ome extends kr{constructor(e,t=Sg){if(super(),this[J7]=null,e.arguments.length!==1)return;const n=e.arguments[0].terms.slice(),r=[];for(;n.length;){const o=n.shift();if(r.length>0){const s=r[r.length-1];if(s.type==="operator"&&rme.test(s.value)){const a=r.pop(),l=r.pop();if(l==null)return;r.push(new i6(a,kr.evaluatableFor(l,t),kr.evaluatableFor(o,t)));continue}}r.push(o.type==="operator"?o:kr.evaluatableFor(o,t))}for(;r.length>2;){const[o,s,a]=r.splice(0,3);if(s.type!=="operator")return;r.unshift(new i6(s,kr.evaluatableFor(o,t),kr.evaluatableFor(a,t)))}r.length===1&&(this[q0]=r[0])}get isConstant(){return this[q0]==null||kr.isConstant(this[q0])}[(J7=q0,vw)](){return this[q0]!=null?kr.evaluate(this[q0]):Sg}}const t6=Symbol("operator"),oU=Symbol("left"),sU=Symbol("right");class i6 extends kr{constructor(e,t,n){super(),this[t6]=e,this[oU]=t,this[sU]=n}get isConstant(){return kr.isConstant(this[oU])&&kr.isConstant(this[sU])}[vw](){const e=LA(kr.evaluate(this[oU])),t=LA(kr.evaluate(this[sU])),{number:n,unit:r}=e,{number:o,unit:s}=t;if(s!=null&&r!=null&&s!=r)return Sg;const a=r||s;let l;switch(this[t6].value){case"+":l=n+o;break;case"-":l=n-o;break;case"/":l=n/o;break;case"*":l=n*o;break;default:return Sg}return{type:"number",number:l,unit:a}}}const aU=Symbol("evaluatables"),n6=Symbol("intrinsics");class CZ extends kr{constructor(e,t){super(),this[n6]=t;const n=e[0],r=n!=null?n.terms:[];this[aU]=t.basis.map((o,s)=>{const a=r[s];return a==null?{type:"ident",value:"auto"}:a.type==="ident"?a:kr.evaluatableFor(a,o)})}get isConstant(){for(const e of this[aU])if(!kr.isConstant(e))return!1;return!0}[vw](){const e=this[aU].map(t=>kr.evaluate(t));return kr.applyIntrinsics(e,this[n6]).map(t=>t.number)}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BZ,SZ,EZ,TZ;const W0=Symbol("instances"),r6=Symbol("activateListener"),o6=Symbol("deactivateListener"),lU=Symbol("notifyInstances"),s6=Symbol("notify"),a6=Symbol("callback");class RA{static[lU](){for(const e of RA[W0])e[s6]()}static[(BZ=W0,r6)](){window.addEventListener("scroll",this[lU],{passive:!0})}static[o6](){window.removeEventListener("scroll",this[lU])}constructor(e){this[a6]=e}observe(){RA[W0].size===0&&RA[r6](),RA[W0].add(this)}disconnect(){RA[W0].delete(this),RA[W0].size===0&&RA[o6]()}[s6](){this[a6]()}}RA[BZ]=new Set;const l6=Symbol("computeStyleCallback"),IZ=Symbol("astWalker"),A2=Symbol("dependencies"),MZ=Symbol("onScroll");class sme{constructor(e){this[SZ]={},this[EZ]=new tme(["function"]),this[TZ]=()=>{this[l6]({relatedState:"window-scroll"})},this[l6]=e}observeEffectsFor(e){const t={},n=this[A2];this[IZ].walk(e,r=>{const{name:o}=r,a=r.arguments[0].terms[0];if(!(o.value!=="env"||a==null||a.type!=="ident"))switch(a.value){case"window-scroll-y":if(t["window-scroll"]==null){const l="window-scroll"in n?n["window-scroll"]:new RA(this[MZ]);l.observe(),delete n["window-scroll"],t["window-scroll"]=l}break}});for(const r in n)n[r].disconnect();this[A2]=t}dispose(){for(const e in this[A2])this[A2][e].disconnect()}}SZ=A2,EZ=IZ,TZ=MZ;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=i=>{const e=i.observeEffects||!1,t=i.intrinsics instanceof Function?i.intrinsics:()=>i.intrinsics;return(n,r)=>{const o=n.updated,s=n.connectedCallback,a=n.disconnectedCallback,l=Symbol(`${r}StyleEffector`),c=Symbol(`${r}StyleEvaluator`),u=Symbol(`${r}UpdateEvaluator`),h=Symbol(`${r}EvaluateAndSync`);Object.defineProperties(n,{[l]:{value:null,writable:!0},[c]:{value:null,writable:!0},[u]:{value:function(){const d=mp(this[r]);this[c]=new CZ(d,t(this)),this[l]==null&&e&&(this[l]=new sme(()=>this[h]())),this[l]!=null&&this[l].observeEffectsFor(d)}},[h]:{value:function(){if(this[c]==null)return;const d=this[c].evaluate();this[i.updateHandler](d)}},updated:{value:function(d){d.has(r)&&(this[u](),this[h]()),o.call(this,d)}},connectedCallback:{value:function(){s.call(this),this.requestUpdate(r,this[r])}},disconnectedCallback:{value:function(){a.call(this),this[l]!=null&&(this[l].dispose(),this[l]=null)}}})}};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RZ=i=>i<.5?2*i*i:-1+(4-2*i)*i,ame=(i,e,t=RZ)=>n=>i+(e-i)*t(n),lme=(i,e)=>{const t=r=>o=>r+=o,n=e.map(t(0));return r=>{r=DA(r,0,1),r*=n[n.length-1];const o=n.findIndex(l=>l>=r),s=o<1?0:n[o-1],a=n[o];return i[o]((r-s)/(a-s))}},Ay=i=>{const e=[],t=[];let n=i.initialValue;for(let r=0;r<i.keyframes.length;++r){const o=i.keyframes[r],{value:s,frames:a}=o,l=o.ease||RZ,c=ame(n,s,l);e.push(c),t.push(a),n=s}return lme(e,t)};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ko=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};const cme=5e3,ume=Ay({initialValue:0,keyframes:[{frames:5,value:-1},{frames:1,value:-1},{frames:8,value:1},{frames:1,value:1},{frames:5,value:0},{frames:18,value:0}]}),hme=Ay({initialValue:0,keyframes:[{frames:1,value:1},{frames:5,value:1},{frames:1,value:0},{frames:6,value:0}]}),Ame=30,dme=12,kZ="0deg 75deg 105%",pme="auto auto auto",fme="auto",gme=2.2,mme=["front","right","back","left"],_me=["upper-","","lower-"],vme=3e3,bme=". Use mouse, touch or arrow keys to move.",YT={AUTO:"auto"},cU={BASIC:"basic",WIGGLE:"wiggle"},yme={NONE:"none"},c6=()=>({basis:[fk(Va(Ame,"deg"))],keywords:{auto:[null]}}),wme=()=>({basis:[fk(Va(dme,"deg"))],keywords:{auto:[null]}}),FZ=(()=>{const i=mp(kZ)[0].terms,e=LA(i[0]),t=LA(i[1]);return n=>{const r=n[nt].idealCameraDistance();return{basis:[e,t,Va(r,"m")],keywords:{auto:[null,null,Va(105,"%")]}}}})(),xme=i=>{const e=gme*i[nt].boundingSphere.radius;return{basis:[Va(-1/0,"rad"),Va(0,"rad"),Va(e,"m")],keywords:{auto:[null,null,null]}}},Cme=i=>{const e=FZ(i),n=new CZ([],e).evaluate()[2];return{basis:[Va(1/0,"rad"),Va(Math.PI,"rad"),Va(n,"m")],keywords:{auto:[null,null,null]}}},Bme=i=>{const e=i[nt].boundingBox.getCenter(new he);return{basis:[Va(e.x,"m"),Va(e.y,"m"),Va(e.z,"m")],keywords:{auto:[null,null,null]}}},DZ=Math.PI/2,Sme=Math.PI/3,Eme=DZ/2,Tme=2*Math.PI,Sn=Symbol("controls"),KI=Symbol("panElement"),uU=Symbol("promptElement"),ZT=Symbol("promptAnimatedContainer"),hU=Symbol("fingerAnimatedContainers"),JT=Symbol("deferInteractionPrompt"),u6=Symbol("updateAria"),Qd=Symbol("a11y"),h6=Symbol("updateA11y"),A6=Symbol("updateCameraForRadius"),j0=Symbol("cancelPrompts"),AU=Symbol("onChange"),fC=Symbol("onPointerChange"),Ym=Symbol("waitingToPromptUser"),e1=Symbol("userHasInteracted"),K0=Symbol("promptElementVisibleTime"),gC=Symbol("lastPromptOffset"),t1=Symbol("cancellationSource"),dU=Symbol("lastSpherical"),mC=Symbol("jumpCamera"),pU=Symbol("initialized"),_C=Symbol("maintainThetaPhi"),d6=Symbol("syncCameraOrbit"),p6=Symbol("syncFieldOfView"),f6=Symbol("syncCameraTarget"),g6=Symbol("syncMinCameraOrbit"),m6=Symbol("syncMaxCameraOrbit"),_6=Symbol("syncMinFieldOfView"),v6=Symbol("syncMaxFieldOfView"),Ime=i=>{var e,t,n,r,o,s,a,l,c,u,h,d,p,g,v,_,b,x;class C extends i{constructor(){super(...arguments),this.cameraControls=!1,this.cameraOrbit=kZ,this.cameraTarget=pme,this.fieldOfView=fme,this.minCameraOrbit="auto",this.maxCameraOrbit="auto",this.minFieldOfView="auto",this.maxFieldOfView="auto",this.interactionPromptThreshold=vme,this.interactionPrompt=YT.AUTO,this.interactionPromptStyle=cU.WIGGLE,this.orbitSensitivity=1,this.zoomSensitivity=1,this.panSensitivity=1,this.touchAction=yme.NONE,this.disableZoom=!1,this.disablePan=!1,this.disableTap=!1,this.interpolationDecay=bZ,this.a11y=null,this[e]=this.shadowRoot.querySelector(".interaction-prompt"),this[t]=this.shadowRoot.querySelector("#prompt"),this[n]=[this.shadowRoot.querySelector("#finger0"),this.shadowRoot.querySelector("#finger1")],this[r]=this.shadowRoot.querySelector(".pan-target"),this[o]=0,this[s]=1/0,this[a]=!1,this[l]=!1,this[c]=Mr.AUTOMATIC,this[u]=new Fme(this[nt].camera,this[Cl],this[nt]),this[h]=new X_,this[d]=!1,this[p]=!1,this[g]=!1,this[v]={},this[_]=()=>{const E=this[Sn].changeSource;this[t1]=E,E===Mr.USER_INTERACTION&&(this[e1]=!0,this[JT]())},this[b]=()=>{this[u6](),this[Ds]();const E=this[Sn].changeSource;this.dispatchEvent(new CustomEvent("camera-change",{detail:{source:E}}))},this[x]=E=>{this[YI].classList.toggle("pointer-tumbling",E.type==="pointer-change-start")}}get inputSensitivity(){return this[Sn].inputSensitivity}set inputSensitivity(E){this[Sn].inputSensitivity=E}getCameraOrbit(){const{theta:E,phi:I,radius:M}=this[dU];return{theta:E,phi:I,radius:M,toString(){return`${this.theta}rad ${this.phi}rad ${this.radius}m`}}}getCameraTarget(){return dp(this[Ln].isPresenting?this[Ln].arRenderer.target:this[nt].getDynamicTarget())}getFieldOfView(){return this[Sn].getFieldOfView()}getMinimumFieldOfView(){return this[Sn].options.minimumFieldOfView}getMaximumFieldOfView(){return this[Sn].options.maximumFieldOfView}getIdealAspect(){return this[nt].idealAspect}jumpCameraToGoal(){this[mC]=!0,this.requestUpdate(mC,!1)}resetInteractionPrompt(){this[gC]=0,this[K0]=1/0,this[e1]=!1,this[Ym]=this.interactionPrompt===YT.AUTO&&this.cameraControls}zoom(E){const I=new WheelEvent("wheel",{deltaY:-30*E});this[Cl].dispatchEvent(I)}connectedCallback(){super.connectedCallback(),this[Sn].addEventListener("user-interaction",this[j0]),this[Sn].addEventListener("pointer-change-start",this[fC]),this[Sn].addEventListener("pointer-change-end",this[fC])}disconnectedCallback(){super.disconnectedCallback(),this[Sn].removeEventListener("user-interaction",this[j0]),this[Sn].removeEventListener("pointer-change-start",this[fC]),this[Sn].removeEventListener("pointer-change-end",this[fC])}updated(E){super.updated(E);const I=this[Sn],M=this[nt];if(E.has("cameraControls")&&(this.cameraControls?(I.enableInteraction(),this.interactionPrompt===YT.AUTO&&(this[Ym]=!0)):(I.disableInteraction(),this[JT]()),this[Cl].setAttribute("aria-label",this[py])),E.has("disableZoom")&&(I.disableZoom=this.disableZoom),E.has("disablePan")&&(I.enablePan=!this.disablePan),E.has("disableTap")&&(I.enableTap=!this.disableTap),(E.has("interactionPrompt")||E.has("cameraControls")||E.has("src"))&&(this.interactionPrompt===YT.AUTO&&this.cameraControls&&!this[e1]?this[Ym]=!0:this[JT]()),E.has("interactionPromptStyle")&&(this[ZT].style.opacity=this.interactionPromptStyle==cU.BASIC?"1":"0"),E.has("touchAction")){const k=this.touchAction;I.applyOptions({touchAction:k}),I.updateTouchActionStyle()}E.has("orbitSensitivity")&&(I.orbitSensitivity=this.orbitSensitivity),E.has("zoomSensitivity")&&(I.zoomSensitivity=this.zoomSensitivity),E.has("panSensitivity")&&(I.panSensitivity=this.panSensitivity),E.has("interpolationDecay")&&(I.setDamperDecayTime(this.interpolationDecay),M.setTargetDamperDecayTime(this.interpolationDecay)),E.has("a11y")&&this[h6](),this[mC]===!0&&Promise.resolve().then(()=>{I.jumpToGoal(),M.jumpToGoal(),this[AU](),this[mC]=!1})}async updateFraming(){const E=this[nt],I=E.adjustedFoV(E.framedFoVDeg);await E.updateFraming();const M=E.adjustedFoV(E.framedFoVDeg),k=this[Sn].getFieldOfView()/I;this[Sn].setFieldOfView(M*k),this[_C]=!0,this.requestUpdate("maxFieldOfView"),this.requestUpdate("fieldOfView"),this.requestUpdate("minCameraOrbit"),this.requestUpdate("maxCameraOrbit"),this.requestUpdate("cameraOrbit"),await this.updateComplete}interact(E,I,M){const k=this[Cl],F=this[hU];if(F[0].style.opacity==="1"){console.warn("interact() failed because an existing interaction is running.");return}const P=new Array;P.push({x:Ay(I.x),y:Ay(I.y)});const Q=[{x:P[0].x(0),y:P[0].y(0)}];M!=null&&(P.push({x:Ay(M.x),y:Ay(M.y)}),Q.push({x:P[1].x(0),y:P[1].y(0)}));let N=performance.now();const{width:W,height:q}=this[nt],J=this.getBoundingClientRect(),V=ue=>{for(const[$,ee]of Q.entries()){const{style:oe}=F[$];oe.transform=`translateX(${W*ee.x}px) translateY(${q*ee.y}px)`,ue==="pointerdown"?oe.opacity="1":ue==="pointerup"&&(oe.opacity="0");const ge={pointerId:$-5678,pointerType:"touch",target:k,clientX:W*ee.x+J.x,clientY:q*ee.y+J.y,altKey:!0};k.dispatchEvent(new PointerEvent(ue,ge))}},Y=()=>{const ue=this[t1];if(ue!==Mr.AUTOMATIC||!k.isConnected){for(const ee of this[hU])ee.style.opacity="0";V("pointercancel"),this.dispatchEvent(new CustomEvent("interact-stopped",{detail:{source:ue}})),document.removeEventListener("visibilitychange",Z);return}const $=Math.min(1,(performance.now()-N)/E);for(const[ee,oe]of Q.entries())oe.x=P[ee].x($),oe.y=P[ee].y($);V("pointermove"),$<1?requestAnimationFrame(Y):(V("pointerup"),this.dispatchEvent(new CustomEvent("interact-stopped",{detail:{source:Mr.AUTOMATIC}})),document.removeEventListener("visibilitychange",Z))},Z=()=>{let ue=0;document.visibilityState==="hidden"?ue=performance.now()-N:N=performance.now()-ue};document.addEventListener("visibilitychange",Z),V("pointerdown"),this[t1]=Mr.AUTOMATIC,requestAnimationFrame(Y)}[(e=uU,t=ZT,n=hU,r=KI,o=gC,s=K0,a=e1,l=Ym,c=t1,u=Sn,h=dU,d=mC,p=pU,g=_C,v=Qd,p6)](E){const I=this[Sn],M=this[nt];M.framedFoVDeg=E[0]*180/Math.PI,I.changeSource=Mr.NONE,I.setFieldOfView(M.adjustedFoV(M.framedFoVDeg)),this[j0]()}[d6](E){const I=this[Sn];if(this[_C]){const{theta:M,phi:k}=this.getCameraOrbit();E[0]=M,E[1]=k,this[_C]=!1}I.changeSource=Mr.NONE,I.setOrbit(E[0],E[1],E[2]),this[j0]()}[g6](E){this[Sn].applyOptions({minimumAzimuthalAngle:E[0],minimumPolarAngle:E[1],minimumRadius:E[2]}),this.jumpCameraToGoal()}[m6](E){this[Sn].applyOptions({maximumAzimuthalAngle:E[0],maximumPolarAngle:E[1],maximumRadius:E[2]}),this[A6](E[2]),this.jumpCameraToGoal()}[_6](E){this[Sn].applyOptions({minimumFieldOfView:E[0]*180/Math.PI}),this.jumpCameraToGoal()}[v6](E){const I=this[nt].adjustedFoV(E[0]*180/Math.PI);this[Sn].applyOptions({maximumFieldOfView:I}),this.jumpCameraToGoal()}[f6](E){const[I,M,k]=E;this[Ln].arRenderer.isPresenting||this[nt].setTarget(I,M,k),this[Sn].changeSource=Mr.NONE,this[Ln].arRenderer.updateTarget(),this[j0]()}[zA](E,I){if(super[zA](E,I),this[Ln].isPresenting||!this[mv]())return;const M=this[Sn],k=this[nt],F=performance.now();if(this[Ym]&&this.loaded&&F>this[f2]+this.interactionPromptThreshold&&(this[Ym]=!1,this[K0]=F,this[uU].classList.add("visible")),isFinite(this[K0])&&this.interactionPromptStyle===cU.WIGGLE){const N=(F-this[K0])/cme%1,W=ume(N),q=hme(N);if(this[ZT].style.opacity=`${q}`,W!==this[gC]){const J=W*k.width*.05,V=(W-this[gC])*Math.PI/16;this[ZT].style.transform=`translateX(${J}px)`,M.changeSource=Mr.AUTOMATIC,M.adjustOrbit(V,0,0),this[gC]=W}}const P=M.update(E,I),Q=k.updateTarget(I);(P||Q)&&this[AU]()}[JT](){this[Ym]=!1,this[uU].classList.remove("visible"),this[K0]=1/0}[A6](E){const I=Math.max(this[nt].farRadius(),E),M=0,k=Math.abs(2*I);this[Sn].updateNearFar(M,k)}[u6](){const{theta:E,phi:I}=this[Sn].getCameraSpherical(this[dU]),M=(4+Math.floor((E%Tme+Eme)/DZ))%4,k=Math.floor(I/Sme),F=mme[M],Q=`${_me[k]}${F}`,N=Q;N in this[Qd]?this[x5](this[Qd][N]):this[x5](`View from stage ${Q}`)}get[py](){let E=bme;return"interaction-prompt"in this[Qd]&&(E=`. ${this[Qd]["interaction-prompt"]}`),super[py].replace(/\.$/,"")+(this.cameraControls?E:"")}async[C5](E){const I=this[Sn],M=this[nt],k=M.adjustedFoV(M.framedFoVDeg);super[C5](E);const F=M.adjustedFoV(M.framedFoVDeg)/k,P=I.getFieldOfView()*(isFinite(F)?F:1);I.updateAspect(this[nt].aspect),this.requestUpdate("maxFieldOfView",this.maxFieldOfView),await this.updateComplete,this[Sn].setFieldOfView(P),this.jumpCameraToGoal()}[GA](){super[GA](),this[pU]?this[_C]=!0:this[pU]=!0,this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this.requestUpdate("fieldOfView",this.fieldOfView),this.requestUpdate("minCameraOrbit",this.minCameraOrbit),this.requestUpdate("maxCameraOrbit",this.maxCameraOrbit),this.requestUpdate("cameraOrbit",this.cameraOrbit),this.requestUpdate("cameraTarget",this.cameraTarget),this.jumpCameraToGoal()}[(_=j0,b=AU,x=fC,h6)](){if(typeof this.a11y=="string")if(this.a11y.startsWith("{"))try{this[Qd]=JSON.parse(this.a11y)}catch(E){console.warn("Error parsing a11y JSON:",E)}else this.a11y.length>0?console.warn("Error not supported format, should be a JSON string:",this.a11y):this[Qd]={};else typeof this.a11y=="object"&&this.a11y!=null?this[Qd]=Object.assign({},this.a11y):this[Qd]={};this[Cl].setAttribute("aria-label",this[py])}}return ko([oi({type:Boolean,attribute:"camera-controls"})],C.prototype,"cameraControls",void 0),ko([Pf({intrinsics:FZ,observeEffects:!0,updateHandler:d6}),oi({type:String,attribute:"camera-orbit",hasChanged:()=>!0})],C.prototype,"cameraOrbit",void 0),ko([Pf({intrinsics:Bme,observeEffects:!0,updateHandler:f6}),oi({type:String,attribute:"camera-target",hasChanged:()=>!0})],C.prototype,"cameraTarget",void 0),ko([Pf({intrinsics:c6,observeEffects:!0,updateHandler:p6}),oi({type:String,attribute:"field-of-view",hasChanged:()=>!0})],C.prototype,"fieldOfView",void 0),ko([Pf({intrinsics:xme,updateHandler:g6}),oi({type:String,attribute:"min-camera-orbit",hasChanged:()=>!0})],C.prototype,"minCameraOrbit",void 0),ko([Pf({intrinsics:Cme,updateHandler:m6}),oi({type:String,attribute:"max-camera-orbit",hasChanged:()=>!0})],C.prototype,"maxCameraOrbit",void 0),ko([Pf({intrinsics:wme,updateHandler:_6}),oi({type:String,attribute:"min-field-of-view",hasChanged:()=>!0})],C.prototype,"minFieldOfView",void 0),ko([Pf({intrinsics:c6,updateHandler:v6}),oi({type:String,attribute:"max-field-of-view",hasChanged:()=>!0})],C.prototype,"maxFieldOfView",void 0),ko([oi({type:Number,attribute:"interaction-prompt-threshold"})],C.prototype,"interactionPromptThreshold",void 0),ko([oi({type:String,attribute:"interaction-prompt"})],C.prototype,"interactionPrompt",void 0),ko([oi({type:String,attribute:"interaction-prompt-style"})],C.prototype,"interactionPromptStyle",void 0),ko([oi({type:Number,attribute:"orbit-sensitivity"})],C.prototype,"orbitSensitivity",void 0),ko([oi({type:Number,attribute:"zoom-sensitivity"})],C.prototype,"zoomSensitivity",void 0),ko([oi({type:Number,attribute:"pan-sensitivity"})],C.prototype,"panSensitivity",void 0),ko([oi({type:String,attribute:"touch-action"})],C.prototype,"touchAction",void 0),ko([oi({type:Boolean,attribute:"disable-zoom"})],C.prototype,"disableZoom",void 0),ko([oi({type:Boolean,attribute:"disable-pan"})],C.prototype,"disablePan",void 0),ko([oi({type:Boolean,attribute:"disable-tap"})],C.prototype,"disableTap",void 0),ko([oi({type:Number,attribute:"interpolation-decay"})],C.prototype,"interpolationDecay",void 0),ko([oi()],C.prototype,"a11y",void 0),C};/* @license
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mme=.018,b6=2,Rme=300,kme=new et,y6=new he,w6=Object.freeze({minimumRadius:0,maximumRadius:1/0,minimumPolarAngle:0,maximumPolarAngle:Math.PI,minimumAzimuthalAngle:-1/0,maximumAzimuthalAngle:1/0,minimumFieldOfView:10,maximumFieldOfView:45,touchAction:"none"}),i1=Math.PI/8,n1=.04,r1=10,Mr={USER_INTERACTION:"user-interaction",NONE:"none",AUTOMATIC:"automatic"};class Fme extends oc{constructor(e,t,n){super(),this.camera=e,this.element=t,this.scene=n,this.orbitSensitivity=1,this.zoomSensitivity=1,this.panSensitivity=1,this.inputSensitivity=1,this.changeSource=Mr.NONE,this._interactionEnabled=!1,this._disableZoom=!1,this.isUserPointing=!1,this.enablePan=!0,this.enableTap=!0,this.panProjection=new pi,this.panPerPixel=0,this.spherical=new X_,this.goalSpherical=new X_,this.thetaDamper=new bl,this.phiDamper=new bl,this.radiusDamper=new bl,this.logFov=Math.log(w6.maximumFieldOfView),this.goalLogFov=this.logFov,this.fovDamper=new bl,this.touchMode=null,this.pointers=[],this.startTime=0,this.startPointerPosition={clientX:0,clientY:0},this.lastSeparation=0,this.touchDecided=!1,this.onContext=r=>{if(this.enablePan)r.preventDefault();else for(const o of this.pointers)this.onPointerUp(new PointerEvent("pointercancel",Object.assign(Object.assign({},this.startPointerPosition),{pointerId:o.id})))},this.touchModeZoom=(r,o)=>{if(!this._disableZoom){const s=this.twoTouchDistance(this.pointers[0],this.pointers[1]),a=n1*this.zoomSensitivity*(this.lastSeparation-s)*50/this.scene.height;this.lastSeparation=s,this.userAdjustOrbit(0,0,a)}this.panPerPixel>0&&this.movePan(r,o)},this.disableScroll=r=>{r.preventDefault()},this.touchModeRotate=(r,o)=>{const{touchAction:s}=this._options;if(!this.touchDecided&&s!=="none"){this.touchDecided=!0;const a=Math.abs(r),l=Math.abs(o);if(this.changeSource===Mr.USER_INTERACTION&&(s==="pan-y"&&l>a||s==="pan-x"&&a>l)){this.touchMode=null;return}else this.element.addEventListener("touchmove",this.disableScroll,{passive:!1})}this.handleSinglePointerMove(r,o)},this.onPointerDown=r=>{if(this.pointers.length>2)return;const{element:o}=this;this.pointers.length===0&&(o.addEventListener("pointermove",this.onPointerMove),o.addEventListener("pointerup",this.onPointerUp),this.touchMode=null,this.touchDecided=!1,this.startPointerPosition.clientX=r.clientX,this.startPointerPosition.clientY=r.clientY,this.startTime=performance.now());try{o.setPointerCapture(r.pointerId)}catch{}this.pointers.push({clientX:r.clientX,clientY:r.clientY,id:r.pointerId}),this.isUserPointing=!1,r.pointerType==="touch"?(this.changeSource=r.altKey?Mr.AUTOMATIC:Mr.USER_INTERACTION,this.onTouchChange(r)):(this.changeSource=Mr.USER_INTERACTION,this.onMouseDown(r)),this.changeSource===Mr.USER_INTERACTION&&this.dispatchEvent({type:"user-interaction"})},this.onPointerMove=r=>{const o=this.pointers.find(c=>c.id===r.pointerId);if(o==null)return;if(r.pointerType==="mouse"&&r.buttons===0){this.onPointerUp(r);return}const s=this.pointers.length,a=(r.clientX-o.clientX)/s,l=(r.clientY-o.clientY)/s;a===0&&l===0||(o.clientX=r.clientX,o.clientY=r.clientY,r.pointerType==="touch"?(this.changeSource=r.altKey?Mr.AUTOMATIC:Mr.USER_INTERACTION,this.touchMode!==null&&this.touchMode(a,l)):(this.changeSource=Mr.USER_INTERACTION,this.panPerPixel>0?this.movePan(a,l):this.handleSinglePointerMove(a,l)))},this.onPointerUp=r=>{const{element:o}=this,s=this.pointers.findIndex(a=>a.id===r.pointerId);s!==-1&&this.pointers.splice(s,1),this.panPerPixel>0&&!r.altKey&&this.resetRadius(),this.pointers.length===0?(o.removeEventListener("pointermove",this.onPointerMove),o.removeEventListener("pointerup",this.onPointerUp),o.removeEventListener("touchmove",this.disableScroll),this.enablePan&&this.enableTap&&this.recenter(r)):this.touchMode!==null&&this.onTouchChange(r),this.scene.element[KI].style.opacity=0,o.style.cursor="grab",this.panPerPixel=0,this.isUserPointing&&this.dispatchEvent({type:"pointer-change-end"})},this.onWheel=r=>{this.changeSource=Mr.USER_INTERACTION;const o=r.deltaY*(r.deltaMode==1?18:1)*n1*this.zoomSensitivity/30;this.userAdjustOrbit(0,0,o),r.preventDefault(),this.dispatchEvent({type:"user-interaction"})},this.onKeyDown=r=>{const{changeSource:o}=this;this.changeSource=Mr.USER_INTERACTION,(r.shiftKey&&this.enablePan?this.panKeyCodeHandler(r):this.orbitZoomKeyCodeHandler(r))?(r.preventDefault(),this.dispatchEvent({type:"user-interaction"})):this.changeSource=o},this._options=Object.assign({},w6),this.setOrbit(0,Math.PI/2,1),this.setFieldOfView(100),this.jumpToGoal()}get interactionEnabled(){return this._interactionEnabled}enableInteraction(){if(this._interactionEnabled===!1){const{element:e}=this;e.addEventListener("pointerdown",this.onPointerDown),e.addEventListener("pointercancel",this.onPointerUp),this._disableZoom||e.addEventListener("wheel",this.onWheel),e.addEventListener("keydown",this.onKeyDown),e.addEventListener("touchmove",()=>{},{passive:!1}),e.addEventListener("contextmenu",this.onContext),this.element.style.cursor="grab",this._interactionEnabled=!0,this.updateTouchActionStyle()}}disableInteraction(){if(this._interactionEnabled===!0){const{element:e}=this;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),e.removeEventListener("pointercancel",this.onPointerUp),e.removeEventListener("wheel",this.onWheel),e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("contextmenu",this.onContext),e.style.cursor="",this.touchMode=null,this._interactionEnabled=!1,this.updateTouchActionStyle()}}get options(){return this._options}set disableZoom(e){this._disableZoom!=e&&(this._disableZoom=e,e===!0?this.element.removeEventListener("wheel",this.onWheel):this.element.addEventListener("wheel",this.onWheel),this.updateTouchActionStyle())}getCameraSpherical(e=new X_){return e.copy(this.spherical)}getFieldOfView(){return this.camera.fov}applyOptions(e){Object.assign(this._options,e),this.setOrbit(),this.setFieldOfView(Math.exp(this.goalLogFov))}updateNearFar(e,t){this.camera.far=t===0?2:t,this.camera.near=Math.max(e,this.camera.far/1e3),this.camera.updateProjectionMatrix()}updateAspect(e){this.camera.aspect=e,this.camera.updateProjectionMatrix()}setOrbit(e=this.goalSpherical.theta,t=this.goalSpherical.phi,n=this.goalSpherical.radius){const{minimumAzimuthalAngle:r,maximumAzimuthalAngle:o,minimumPolarAngle:s,maximumPolarAngle:a,minimumRadius:l,maximumRadius:c}=this._options,{theta:u,phi:h,radius:d}=this.goalSpherical,p=DA(e,r,o);!isFinite(r)&&!isFinite(o)&&(this.spherical.theta=this.wrapAngle(this.spherical.theta-p)+p);const g=DA(t,s,a),v=DA(n,l,c);return p===u&&g===h&&v===d||!isFinite(p)||!isFinite(g)||!isFinite(v)?!1:(this.goalSpherical.theta=p,this.goalSpherical.phi=g,this.goalSpherical.radius=v,this.goalSpherical.makeSafe(),!0)}setRadius(e){this.goalSpherical.radius=e,this.setOrbit()}setFieldOfView(e){const{minimumFieldOfView:t,maximumFieldOfView:n}=this._options;e=DA(e,t,n),this.goalLogFov=Math.log(e)}setDamperDecayTime(e){this.thetaDamper.setDecayTime(e),this.phiDamper.setDecayTime(e),this.radiusDamper.setDecayTime(e),this.fovDamper.setDecayTime(e)}adjustOrbit(e,t,n){const{theta:r,phi:o,radius:s}=this.goalSpherical,{minimumRadius:a,maximumRadius:l,minimumFieldOfView:c,maximumFieldOfView:u}=this._options,h=this.spherical.theta-r,d=Math.PI-.001,p=r-DA(e,-d-h,d-h),g=o-t,v=n===0?0:((n>0?l:a)-s)/(Math.log(n>0?u:c)-this.goalLogFov),_=s+n*(isFinite(v)?v:(l-a)*2);if(this.setOrbit(p,g,_),n!==0){const b=this.goalLogFov+n;this.setFieldOfView(Math.exp(b))}}jumpToGoal(){this.update(0,vZ)}update(e,t){if(this.isStationary())return!1;const{maximumPolarAngle:n,maximumRadius:r}=this._options,o=this.spherical.theta-this.goalSpherical.theta;return Math.abs(o)>Math.PI&&!isFinite(this._options.minimumAzimuthalAngle)&&!isFinite(this._options.maximumAzimuthalAngle)&&(this.spherical.theta-=Math.sign(o)*2*Math.PI),this.spherical.theta=this.thetaDamper.update(this.spherical.theta,this.goalSpherical.theta,t,Math.PI),this.spherical.phi=this.phiDamper.update(this.spherical.phi,this.goalSpherical.phi,t,n),this.spherical.radius=this.radiusDamper.update(this.spherical.radius,this.goalSpherical.radius,t,r),this.logFov=this.fovDamper.update(this.logFov,this.goalLogFov,t,1),this.moveCamera(),!0}updateTouchActionStyle(){const{style:e}=this.element;if(this._interactionEnabled){const{touchAction:t}=this._options;this._disableZoom&&t!=="none"?e.touchAction="manipulation":e.touchAction=t}else e.touchAction=""}isStationary(){return this.goalSpherical.theta===this.spherical.theta&&this.goalSpherical.phi===this.spherical.phi&&this.goalSpherical.radius===this.spherical.radius&&this.goalLogFov===this.logFov}moveCamera(){this.spherical.makeSafe(),this.camera.position.setFromSpherical(this.spherical),this.camera.setRotationFromEuler(new io(this.spherical.phi-Math.PI/2,this.spherical.theta,0,"YXZ")),this.camera.fov!==Math.exp(this.logFov)&&(this.camera.fov=Math.exp(this.logFov),this.camera.updateProjectionMatrix())}userAdjustOrbit(e,t,n){this.adjustOrbit(e*this.orbitSensitivity*this.inputSensitivity,t*this.orbitSensitivity*this.inputSensitivity,n*this.inputSensitivity)}wrapAngle(e){const t=(e+Math.PI)/(2*Math.PI);return(t-Math.floor(t))*2*Math.PI-Math.PI}pixelLengthToSphericalAngle(e){return 2*Math.PI*e/this.scene.height}twoTouchDistance(e,t){const{clientX:n,clientY:r}=e,{clientX:o,clientY:s}=t,a=o-n,l=s-r;return Math.sqrt(a*a+l*l)}handleSinglePointerMove(e,t){const n=this.pixelLengthToSphericalAngle(e),r=this.pixelLengthToSphericalAngle(t);this.isUserPointing===!1&&(this.isUserPointing=!0,this.dispatchEvent({type:"pointer-change-start"})),this.userAdjustOrbit(n,r,0)}initializePan(){const{theta:e,phi:t}=this.spherical,n=e-this.scene.yaw;this.panPerPixel=Mme*this.panSensitivity/this.scene.height,this.panProjection.set(-Math.cos(n),-Math.cos(t)*Math.sin(n),0,0,Math.sin(t),0,Math.sin(n),-Math.cos(t)*Math.cos(n),0)}movePan(e,t){const{scene:n}=this,r=y6.set(e,t,0).multiplyScalar(this.inputSensitivity),o=this.spherical.radius*Math.exp(this.logFov)*this.panPerPixel;r.multiplyScalar(o);const s=n.getTarget();s.add(r.applyMatrix3(this.panProjection)),n.boundingSphere.clampPoint(s,s),n.setTarget(s.x,s.y,s.z)}recenter(e){if(performance.now()>this.startTime+Rme||Math.abs(e.clientX-this.startPointerPosition.clientX)>b6||Math.abs(e.clientY-this.startPointerPosition.clientY)>b6)return;const{scene:t}=this,n=t.positionAndNormalFromPoint(t.getNDC(e.clientX,e.clientY));if(n==null){const{cameraTarget:r}=t.element;t.element.cameraTarget="",t.element.cameraTarget=r,this.userAdjustOrbit(0,0,1)}else t.target.worldToLocal(n.position),t.setTarget(n.position.x,n.position.y,n.position.z)}resetRadius(){const{scene:e}=this,t=e.positionAndNormalFromPoint(kme.set(0,0));if(t==null)return;e.target.worldToLocal(t.position);const n=e.getTarget(),{theta:r,phi:o}=this.spherical,s=r-e.yaw,a=y6.set(Math.sin(o)*Math.sin(s),Math.cos(o),Math.sin(o)*Math.cos(s)),l=a.dot(t.position.sub(n));n.add(a.multiplyScalar(l)),e.setTarget(n.x,n.y,n.z),this.setOrbit(void 0,void 0,this.goalSpherical.radius-l)}onTouchChange(e){if(this.pointers.length===1)this.touchMode=this.touchModeRotate;else{if(this._disableZoom){this.touchMode=null,this.element.removeEventListener("touchmove",this.disableScroll);return}this.touchMode=this.touchDecided&&this.touchMode===null?null:this.touchModeZoom,this.touchDecided=!0,this.element.addEventListener("touchmove",this.disableScroll,{passive:!1}),this.lastSeparation=this.twoTouchDistance(this.pointers[0],this.pointers[1]),this.enablePan&&this.touchMode!=null&&(this.initializePan(),e.altKey||(this.scene.element[KI].style.opacity=1))}}onMouseDown(e){this.panPerPixel=0,this.enablePan&&(e.button===2||e.ctrlKey||e.metaKey||e.shiftKey)&&(this.initializePan(),this.scene.element[KI].style.opacity=1),this.element.style.cursor="grabbing"}orbitZoomKeyCodeHandler(e){let t=!0;switch(e.key){case"PageUp":this.userAdjustOrbit(0,0,n1*this.zoomSensitivity);break;case"PageDown":this.userAdjustOrbit(0,0,-1*n1*this.zoomSensitivity);break;case"ArrowUp":this.userAdjustOrbit(0,-i1,0);break;case"ArrowDown":this.userAdjustOrbit(0,i1,0);break;case"ArrowLeft":this.userAdjustOrbit(-i1,0,0);break;case"ArrowRight":this.userAdjustOrbit(i1,0,0);break;default:t=!1;break}return t}panKeyCodeHandler(e){this.initializePan();let t=!0;switch(e.key){case"ArrowUp":this.movePan(0,-1*r1);break;case"ArrowDown":this.movePan(0,r1);break;case"ArrowLeft":this.movePan(-1*r1,0);break;case"ArrowRight":this.movePan(r1,0);break;default:t=!1;break}return t}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dme=30,x6=.8,C6=1.5,Ume=20,Pme=.2,Lme=.25,Ome=10,$0=150,B6=5,Qme=.1,eg={NOT_PRESENTING:"not-presenting",SESSION_STARTED:"session-started",OBJECT_PLACED:"object-placed",FAILED:"failed"},NL={TRACKING:"tracking",NOT_TRACKING:"not-tracking"},vC=new he,X0=new Mn,Nme=new St,Hme=new he,zme=new Kn(45,1,.1,100),S6=new Kt().setFromPoints([new he(0,0,0),new he(0,0,-1)]),Gme=new zh;class Vme extends oc{constructor(e){super(),this.renderer=e,this.currentSession=null,this.placeOnWall=!1,this.placementBox=null,this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.frame=null,this.initialHitSource=null,this.transientHitTestSource=null,this.inputSource=null,this._presentedScene=null,this.resolveCleanup=null,this.exitWebXRButtonContainer=null,this.overlay=null,this.xrLight=null,this.xrMode=null,this.controller1=null,this.controller2=null,this.selectedController=null,this.tracking=!0,this.frames=0,this.initialized=!1,this.oldTarget=new he,this.placementComplete=!1,this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.lastDragPosition=new he,this.relativeOrientation=new Mn,this.scaleLine=new Ou(S6),this.firstRatio=0,this.lastAngle=0,this.goalPosition=new he,this.goalYaw=0,this.goalScale=1,this.xDamper=new bl,this.yDamper=new bl,this.zDamper=new bl,this.yawDamper=new bl,this.pitchDamper=new bl,this.rollDamper=new bl,this.scaleDamper=new bl,this.onExitWebXRButtonContainerClick=()=>this.stopPresenting(),this.onControllerSelectStart=t=>{const n=this.presentedScene,r=t.target;if(this.placementBox.controllerIntersection(n,r)!=null)this.selectedController!=null&&(this.selectedController.userData.line.visible=!1,n.canScale&&(this.isTwoFingering=!0,this.firstRatio=this.controllerSeparation()/n.pivot.scale.x,this.scaleLine.visible=!0)),r.attach(n.pivot),this.selectedController=r,n.setShadowIntensity(.01);else{const o=r===this.controller1?this.controller2:this.controller1;this.relativeOrientation.copy(r.quaternion).invert().multiply(n.pivot.getWorldQuaternion(X0)),o.userData.turning=!1,r.userData.turning=!0,r.userData.line.visible=!1}},this.onControllerSelectEnd=t=>{const n=t.target;if(n.userData.turning=!1,n.userData.line.visible=!0,this.isTwoFingering=!1,this.scaleLine.visible=!1,this.selectedController!=null&&this.selectedController!=n)return;const r=this.presentedScene;r.attach(r.pivot),this.selectedController=null,this.goalYaw=Math.atan2(r.pivot.matrix.elements[8],r.pivot.matrix.elements[10]),this.goalPosition.x=r.pivot.position.x,this.goalPosition.z=r.pivot.position.z},this.onUpdateScene=()=>{this.placementBox!=null&&this.isPresenting&&(this.placementBox.dispose(),this.placementBox=new K7(this.presentedScene,this.placeOnWall?"back":"bottom"))},this.onSelectStart=t=>{const n=this.transientHitTestSource;if(n==null)return;const r=this.frame.getHitTestResultsForTransientInput(n),o=this.presentedScene,s=this.placementBox;if(r.length===1){this.inputSource=t.inputSource;const{axes:a}=this.inputSource.gamepad,l=s.getHit(this.presentedScene,a[0],a[1]);s.show=!0,l!=null?(this.isTranslating=!0,this.lastDragPosition.copy(l)):this.placeOnWall===!1&&(this.isRotating=!0,this.lastAngle=a[0]*C6)}else if(r.length===2){s.show=!0,this.isTwoFingering=!0;const{separation:a}=this.fingerPolar(r);this.firstRatio=a/o.pivot.scale.x}},this.onSelectEnd=()=>{this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.inputSource=null,this.goalPosition.y+=this.placementBox.offsetHeight*this.presentedScene.scale.x,this.placementBox.show=!1},this.threeRenderer=e.threeRenderer,this.threeRenderer.xr.enabled=!0}async resolveARSession(){b7();const e=await navigator.xr.requestSession("immersive-ar",{requiredFeatures:[],optionalFeatures:["hit-test","dom-overlay","light-estimation"],domOverlay:this.overlay?{root:this.overlay}:void 0});return this.threeRenderer.xr.setReferenceSpaceType("local"),await this.threeRenderer.xr.setSession(e),this.threeRenderer.xr.cameraAutoUpdate=!1,e}get presentedScene(){return this._presentedScene}async supportsPresentation(){try{return b7(),await navigator.xr.isSessionSupported("immersive-ar")}catch(e){return console.warn("Request to present in WebXR denied:"),console.warn(e),console.warn("Falling back to next ar-mode"),!1}}async present(e,t=!1){this.isPresenting&&console.warn("Cannot present while a model is already presenting");let n=new Promise((c,u)=>{requestAnimationFrame(()=>c())});e.setHotspotsVisibility(!1),e.queueRender(),await n,this._presentedScene=e,this.overlay=e.element.shadowRoot.querySelector("div.default"),t===!0&&(this.xrLight=new Kge(this.threeRenderer),this.xrLight.addEventListener("estimationstart",()=>{if(!this.isPresenting||this.xrLight==null)return;const c=this.presentedScene;c.add(this.xrLight),c.environment=this.xrLight.environment}));const r=await this.resolveARSession();r.addEventListener("end",()=>{this.postSessionCleanup()},{once:!0});const o=e.element.shadowRoot.querySelector(".slot.exit-webxr-ar-button");o.classList.add("enabled"),o.addEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=o;const s=await r.requestReferenceSpace("viewer");this.xrMode=r.interactionMode,this.tracking=!0,this.frames=0,this.initialized=!1,this.turntableRotation=e.yaw,this.goalYaw=e.yaw,this.goalScale=1,e.setBackground(null),this.oldShadowIntensity=e.shadowIntensity,e.setShadowIntensity(.01),this.oldTarget.copy(e.getTarget()),e.element.addEventListener("load",this.onUpdateScene);const a=Ume*Math.PI/180,l=this.placeOnWall===!0?void 0:new XRRay(new DOMPoint(0,0,0),{x:0,y:-Math.sin(a),z:-Math.cos(a)});r.requestHitTestSource({space:s,offsetRay:l}).then(c=>{this.initialHitSource=c}),this.xrMode!=="screen-space"&&(this.setupControllers(),this.xDamper.setDecayTime($0),this.yDamper.setDecayTime($0),this.zDamper.setDecayTime($0),this.yawDamper.setDecayTime($0),this.pitchDamper.setDecayTime($0),this.rollDamper.setDecayTime($0)),this.currentSession=r,this.placementBox=new K7(e,this.placeOnWall?"back":"bottom"),this.placementComplete=!1,this.lastTick=performance.now(),this.dispatchEvent({type:"status",status:eg.SESSION_STARTED})}setupControllers(){this.controller1=this.threeRenderer.xr.getController(0),this.controller1.addEventListener("selectstart",this.onControllerSelectStart),this.controller1.addEventListener("selectend",this.onControllerSelectEnd),this.controller2=this.threeRenderer.xr.getController(1),this.controller2.addEventListener("selectstart",this.onControllerSelectStart),this.controller2.addEventListener("selectend",this.onControllerSelectEnd);const e=this.presentedScene;if(e.add(this.controller1),e.add(this.controller2),!this.controller1.userData.line){const t=new Ou(S6);t.name="line",t.scale.z=B6,this.controller1.userData.turning=!1,this.controller1.userData.line=t,this.controller1.add(t),this.controller2.userData.turning=!1;const n=t.clone();this.controller2.userData.line=n,this.controller2.add(n),this.scaleLine.name="scale line",this.scaleLine.visible=!1,this.controller1.add(this.scaleLine);const{size:r}=e,o=Qme/Math.max(r.x,r.y,r.z),s=new Fi(Gme);s.name="box",s.scale.copy(r).multiplyScalar(o),s.visible=!1,this.controller1.userData.box=s,e.add(s);const a=s.clone();this.controller2.userData.box=a,e.add(a)}}hover(e){if(this.xrMode==="screen-space"||this.selectedController==e)return!1;const t=this.presentedScene,n=this.placementBox.controllerIntersection(t,e);return e.userData.box.visible=(n==null||e.userData.turning)&&!this.isTwoFingering,e.userData.line.scale.z=n==null?B6:n.distance,n!=null}controllerSeparation(){return this.controller1.position.distanceTo(this.controller2.position)}async stopPresenting(){if(!this.isPresenting)return;const e=new Promise(t=>{this.resolveCleanup=t});try{await this.currentSession.end(),await e}catch(t){console.warn("Error while trying to end WebXR AR session"),console.warn(t),this.postSessionCleanup()}}get isPresenting(){return this.presentedScene!=null}get target(){return this.oldTarget}updateTarget(){const e=this.presentedScene;if(e!=null){const t=e.getTarget();this.oldTarget.copy(t),this.placeOnWall?t.z=e.boundingBox.min.z:t.y=e.boundingBox.min.y,e.setTarget(t.x,t.y,t.z)}}postSessionCleanup(){const e=this.currentSession;e!=null&&(e.removeEventListener("selectstart",this.onSelectStart),e.removeEventListener("selectend",this.onSelectEnd),this.currentSession=null);const t=this.presentedScene;if(this._presentedScene=null,t!=null){const{element:s}=t;this.xrLight!=null&&(t.remove(this.xrLight),this.xrLight.dispose(),this.xrLight=null),t.add(t.pivot),t.pivot.quaternion.set(0,0,0,1),t.pivot.position.set(0,0,0),t.pivot.scale.set(1,1,1),t.setShadowOffset(0);const a=this.turntableRotation;a!=null&&(t.yaw=a);const l=this.oldShadowIntensity;l!=null&&t.setShadowIntensity(l),t.setEnvironmentAndSkybox(s[c2],s[u2]);const c=this.oldTarget;t.setTarget(c.x,c.y,c.z),t.xrCamera=null,t.element.removeEventListener("load",this.onUpdateScene),t.orientHotspots(0);const{width:u,height:h}=s.getBoundingClientRect();t.setSize(u,h),requestAnimationFrame(()=>{t.element.dispatchEvent(new CustomEvent("camera-change",{detail:{source:Mr.NONE}}))})}this.renderer.height=0;const n=this.exitWebXRButtonContainer;n!=null&&(n.classList.remove("enabled"),n.removeEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=null);const r=this.transientHitTestSource;r!=null&&(r.cancel(),this.transientHitTestSource=null);const o=this.initialHitSource;o!=null&&(o.cancel(),this.initialHitSource=null),this.placementBox!=null&&(this.placementBox.dispose(),this.placementBox=null),this.xrMode!=="screen-space"&&(this.controller1!=null&&(this.controller1.userData.turning=!1,this.controller1.userData.box.visible=!1,this.controller1.userData.line.visible=!0,this.controller1.removeEventListener("selectstart",this.onControllerSelectStart),this.controller1.removeEventListener("selectend",this.onControllerSelectEnd),this.controller1.removeFromParent(),this.controller1=null),this.controller2!=null&&(this.controller2.userData.turning=!1,this.controller2.userData.box.visible=!1,this.controller2.userData.line.visible=!0,this.controller2.removeEventListener("selectstart",this.onControllerSelectStart),this.controller2.removeEventListener("selectend",this.onControllerSelectEnd),this.controller2.removeFromParent(),this.controller2=null),this.selectedController=null,this.scaleLine.visible=!1),this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.frame=null,this.inputSource=null,this.overlay=null,this.resolveCleanup!=null&&this.resolveCleanup(),this.dispatchEvent({type:"status",status:eg.NOT_PRESENTING})}updateView(e){const t=this.presentedScene,n=this.threeRenderer.xr;n.updateCamera(zme),t.xrCamera=n.getCamera();const{elements:r}=t.getCamera().matrixWorld;if(t.orientHotspots(Math.atan2(r[1],r[5])),this.initialized||(this.placeInitially(),this.initialized=!0),e.requestViewportScale&&e.recommendedViewportScale){const s=e.recommendedViewportScale;e.requestViewportScale(Math.max(s,Lme))}const o=n.getBaseLayer();if(o!=null){const s=o instanceof XRWebGLLayer?o.getViewport(e):n.getBinding().getViewSubImage(o,e).viewport;this.threeRenderer.setViewport(s.x,s.y,s.width,s.height)}}placeInitially(){const e=this.presentedScene,{pivot:t,element:n}=e,{position:r}=t,o=e.getCamera(),{width:s,height:a}=this.overlay.getBoundingClientRect();e.setSize(s,a),o.projectionMatrixInverse.copy(o.projectionMatrix).invert();const{theta:l}=n.getCameraOrbit(),c=o.getWorldDirection(vC);e.yaw=Math.atan2(-c.x,-c.z)-l,this.goalYaw=e.yaw;const u=Math.max(1,2*e.boundingSphere.radius);r.copy(o.position).add(c.multiplyScalar(u)),this.updateTarget();const h=e.getTarget();if(r.add(h).sub(this.oldTarget),this.goalPosition.copy(r),e.setHotspotsVisibility(!0),this.xrMode==="screen-space"){const{session:d}=this.frame;d.addEventListener("selectstart",this.onSelectStart),d.addEventListener("selectend",this.onSelectEnd),d.requestHitTestSourceForTransientInput({profile:"generic-touchscreen"}).then(p=>{this.transientHitTestSource=p})}}getTouchLocation(){const{axes:e}=this.inputSource.gamepad;let t=this.placementBox.getExpandedHit(this.presentedScene,e[0],e[1]);return t!=null&&(vC.copy(t).sub(this.presentedScene.getCamera().position),vC.length()>Ome)?null:t}getHitPoint(e){const t=this.threeRenderer.xr.getReferenceSpace(),n=e.getPose(t);if(n==null)return null;const r=Nme.fromArray(n.transform.matrix);return this.placeOnWall===!0&&(this.goalYaw=Math.atan2(r.elements[4],r.elements[6])),r.elements[5]>.75!==this.placeOnWall?Hme.setFromMatrixPosition(r):null}moveToFloor(e){const t=this.initialHitSource;if(t==null)return;const n=e.getHitTestResults(t);if(n.length==0)return;const r=n[0],o=this.getHitPoint(r);o!=null&&(this.placementBox.show=!0,this.isTranslating||(this.placeOnWall?this.goalPosition.copy(o):this.goalPosition.y=o.y),t.cancel(),this.initialHitSource=null,this.dispatchEvent({type:"status",status:eg.OBJECT_PLACED}))}fingerPolar(e){const t=e[0].inputSource.gamepad.axes,n=e[1].inputSource.gamepad.axes,r=n[0]-t[0],o=n[1]-t[1],s=Math.atan2(o,r);let a=this.lastAngle-s;return a>Math.PI?a-=2*Math.PI:a<-Math.PI&&(a+=2*Math.PI),this.lastAngle=s,{separation:Math.sqrt(r*r+o*o),deltaYaw:a}}setScale(e){const t=e/this.firstRatio;this.goalScale=Math.abs(t-1)<Pme?1:t}processInput(e){const t=this.transientHitTestSource;if(t==null||!this.isTranslating&&!this.isTwoFingering&&!this.isRotating)return;const n=e.getHitTestResultsForTransientInput(t),r=this.presentedScene,o=r.pivot.scale.x;if(this.isTwoFingering){if(n.length<2)this.isTwoFingering=!1;else{const{separation:s,deltaYaw:a}=this.fingerPolar(n);this.placeOnWall===!1&&(this.goalYaw+=a),r.canScale&&this.setScale(s)}return}else if(n.length===2){this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!0;const{separation:s}=this.fingerPolar(n);this.firstRatio=s/o;return}if(this.isRotating){const s=this.inputSource.gamepad.axes[0]*C6;this.goalYaw+=s-this.lastAngle,this.lastAngle=s}else this.isTranslating&&n.forEach(s=>{if(s.inputSource!==this.inputSource)return;let a=null;if(s.results.length>0&&(a=this.getHitPoint(s.results[0])),a==null&&(a=this.getTouchLocation()),a!=null){if(this.goalPosition.sub(this.lastDragPosition),this.placeOnWall===!1){const l=a.y-this.lastDragPosition.y;if(l<0){this.placementBox.offsetHeight=l/o,this.presentedScene.setShadowOffset(l);const c=vC.copy(r.getCamera().position),u=-l/(c.y-a.y);c.multiplyScalar(u),a.multiplyScalar(1-u).add(c)}}this.goalPosition.add(a),this.lastDragPosition.copy(a)}})}moveScene(e){const t=this.presentedScene,{pivot:n}=t,r=this.placementBox;if(r.updateOpacity(e),this.controller1&&(this.controller1.userData.turning&&(n.quaternion.copy(this.controller1.quaternion).multiply(this.relativeOrientation),this.selectedController&&this.selectedController===this.controller2&&n.quaternion.premultiply(X0.copy(this.controller2.quaternion).invert())),this.controller1.userData.box.position.copy(this.controller1.position),n.getWorldQuaternion(this.controller1.userData.box.quaternion)),this.controller2&&(this.controller2.userData.turning&&(n.quaternion.copy(this.controller2.quaternion).multiply(this.relativeOrientation),this.selectedController&&this.selectedController===this.controller1&&n.quaternion.premultiply(X0.copy(this.controller1.quaternion).invert())),this.controller2.userData.box.position.copy(this.controller2.position),n.getWorldQuaternion(this.controller2.userData.box.quaternion)),this.controller1&&this.controller2&&this.isTwoFingering){const d=this.controllerSeparation();this.setScale(d),this.scaleLine.scale.z=-d,this.scaleLine.lookAt(this.controller2.position)}const o=t.pivot.scale.x;if(this.goalScale!==o){const d=this.scaleDamper.update(o,this.goalScale,e,1);t.pivot.scale.set(d,d,d)}if(n.parent!==t)return;const{position:s}=n,a=t.boundingSphere.radius,l=this.goalPosition;let c=Mr.NONE;if(!l.equals(s)){c=Mr.USER_INTERACTION;let{x:d,y:p,z:g}=s;if(d=this.xDamper.update(d,l.x,e,a),p=this.yDamper.update(p,l.y,e,a),g=this.zDamper.update(g,l.z,e,a),s.set(d,p,g),this.xrMode==="screen-space"&&!this.isTranslating){const v=l.y-p;this.placementComplete&&this.placeOnWall===!1?(r.offsetHeight=v/t.pivot.scale.x,t.setShadowOffset(v)):v===0&&(this.placementComplete=!0,r.show=!1,t.setShadowIntensity(x6))}this.xrMode!=="screen-space"&&l.equals(s)&&t.setShadowIntensity(x6)}t.updateTarget(e),X0.setFromAxisAngle(vC.set(0,1,0),this.goalYaw);const u=t.pivot.quaternion.angleTo(X0),h=u-this.yawDamper.update(u,0,e,Math.PI);t.pivot.quaternion.rotateTowards(X0,h),t.element.dispatchEvent(new CustomEvent("camera-change",{detail:{source:c}}))}onWebXRFrame(e,t){if(this.xrMode!=="screen-space"){const a=this.hover(this.controller1),l=this.hover(this.controller2);this.placementBox.show=(a||l)&&!this.isTwoFingering}this.frame=t,++this.frames;const n=this.threeRenderer.xr.getReferenceSpace(),r=t.getViewerPose(n);r==null&&this.tracking===!0&&this.frames>Dme&&(this.tracking=!1,this.dispatchEvent({type:"tracking",status:NL.NOT_TRACKING}));const o=this.presentedScene;if(r==null||o==null||!o.element.loaded){this.threeRenderer.clear();return}this.tracking===!1&&(this.tracking=!0,this.dispatchEvent({type:"tracking",status:NL.TRACKING}));let s=!0;for(const a of r.views){if(this.updateView(a),s){this.moveToFloor(t),this.processInput(t);const l=e-this.lastTick;this.moveScene(l),this.renderer.preRender(o,e,l),this.lastTick=e,o.renderShadow(this.threeRenderer)}this.threeRenderer.render(o,o.getCamera()),s=!1}}}function qme(i){const e=new Map,t=new Map,n=i.clone();return UZ(i,n,function(r,o){e.set(o,r),t.set(r,o)}),n.traverse(function(r){if(!r.isSkinnedMesh)return;const o=r,s=e.get(r),a=s.skeleton.bones;o.skeleton=s.skeleton.clone(),o.bindMatrix.copy(s.bindMatrix),o.skeleton.bones=a.map(function(l){return t.get(l)}),o.bind(o.skeleton,o.bindMatrix)}),n}function UZ(i,e,t){t(i,e);for(let n=0;n<i.children.length;n++)UZ(i.children[n],e.children[n],t)}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=Symbol("prepared"),b5=Symbol("prepare"),EA=Symbol("preparedGLTF"),y5=Symbol("clone");class Wme{static prepare(e){if(e.scene==null)throw new Error("Model does not have a scene");if(e[E6])return e;const t=this[b5](e);return t[E6]=!0,t}static[b5](e){const{scene:t}=e,n=[t];return Object.assign(Object.assign({},e),{scene:t,scenes:n})}get parser(){return this[EA].parser}get animations(){return this[EA].animations}get scene(){return this[EA].scene}get scenes(){return this[EA].scenes}get cameras(){return this[EA].cameras}get asset(){return this[EA].asset}get userData(){return this[EA].userData}constructor(e){this[EA]=e}clone(){const e=this.constructor,t=this[y5]();return new e(t)}dispose(){this.scenes.forEach(e=>{e.traverse(t=>{const n=t;if(!n.material)return;(Array.isArray(n.material)?n.material:[n.material]).forEach(o=>{for(const s in o){const a=o[s];if(a instanceof Rn){const l=a.source.data;l.close!=null&&l.close(),a.dispose()}}o.dispose()}),n.geometry.dispose()})})}[y5](){const e=this[EA],t=qme(this.scene);jme(t,this.scene);const n=[t],r=e.userData?Object.assign({},e.userData):{};return Object.assign(Object.assign({},e),{scene:t,scenes:n,userData:r})}}const jme=(i,e)=>{PZ(i,e,(t,n)=>{n.userData.variantMaterials!==void 0&&(t.userData.variantMaterials=new Map(n.userData.variantMaterials)),n.userData.variantData!==void 0&&(t.userData.variantData=n.userData.variantData),n.userData.originalMaterial!==void 0&&(t.userData.originalMaterial=n.userData.originalMaterial)})},PZ=(i,e,t)=>{t(i,e);for(let n=0;n<i.children.length;n++)PZ(i.children[n],e.children[n],t)},T6=Symbol("threeGLTF"),I6=Symbol("gltf"),M6=Symbol("gltfElementMap"),R6=Symbol("threeObjectMap"),k6=Symbol("parallelTraverseThreeScene"),F6=Symbol("correlateOriginalThreeGLTF"),D6=Symbol("correlateCloneThreeGLTF");class kB{static from(e,t){return t!=null?this[D6](e,t):this[F6](e)}static[F6](e){const t=e.parser.json,n=e.parser.associations,r=new Map,o={name:"Default"},s={index:-1};for(const a of n.keys())a instanceof no&&n.get(a)==null&&(s.index<0&&(t.materials==null&&(t.materials=[]),s.index=t.materials.length,t.materials.push(o)),a.name=o.name,n.set(a,{materials:s.index}));for(const[a,l]of n){l&&(a.userData=a.userData||{},a.userData.associations=l);for(const c in l)if(c!=null&&c!=="primitives"){const u=c,d=(t[u]||[])[l[u]];if(d==null)continue;let p=r.get(d);p==null&&(p=new Set,r.set(d,p)),p.add(a)}}return new kB(e,t,n,r)}static[D6](e,t){const n=t.threeGLTF,r=t.gltf,o=JSON.parse(JSON.stringify(r)),s=new Map,a=new Map;for(let l=0;l<n.scenes.length;l++)this[k6](n.scenes[l],e.scenes[l],(c,u)=>{const h=t.threeObjectMap.get(c);if(h!=null){for(const d in h)if(d!=null&&d!=="primitives"){const p=d,g=h[p],v=o[p][g],_=s.get(u)||{};_[p]=g,s.set(u,_);const b=a.get(v)||new Set;b.add(u),a.set(v,b)}}});return new kB(e,o,s,a)}static[k6](e,t,n){const r=(o,s)=>{if(n(o,s),o.isObject3D){const a=o,l=s;if(a.material)if(Array.isArray(a.material))for(let c=0;c<a.material.length;++c)n(a.material[c],l.material[c]);else n(a.material,l.material);for(let c=0;c<o.children.length;++c)r(o.children[c],s.children[c])}};r(e,t)}get threeGLTF(){return this[T6]}get gltf(){return this[I6]}get gltfElementMap(){return this[M6]}get threeObjectMap(){return this[R6]}constructor(e,t,n,r){this[T6]=e,this[I6]=t,this[M6]=r,this[R6]=n}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=Symbol("correlatedSceneGraph");class Kme extends Wme{static[b5](e){const t=super[b5](e);t[bC]==null&&(t[bC]=kB.from(t));const{scene:n}=t,r=new Oo(void 0,1/0);return n.traverse(o=>{o.renderOrder=1e3,o.frustumCulled=!1,o.name||(o.name=o.uuid);const s=o;if(s.material){const{geometry:a}=s;s.castShadow=!0,s.isSkinnedMesh&&(a.boundingSphere=r,a.boundingBox=null);const l=s.material;if(l.isMeshBasicMaterial===!0&&(l.toneMapped=!1),l.shadowSide=Pu,l.aoMap){const{gltf:c,threeObjectMap:u}=t[bC],h=u.get(l);if(c.materials!=null&&h!=null&&h.materials!=null){const d=c.materials[h.materials];d.occlusionTexture&&d.occlusionTexture.texCoord===0&&a.attributes.uv!=null&&a.setAttribute("uv2",a.attributes.uv)}}}}),t}get correlatedSceneGraph(){return this[EA][bC]}[y5](){const e=super[y5](),t=new Map;return e.scene.traverse(n=>{const r=n;if(r.material){const s=r.material;if(s!=null){if(t.has(s.uuid)){r.material=t.get(s.uuid);return}r.material=s.clone(),t.set(s.uuid,r.material)}}const o=n;o.target!==void 0&&o.add(o.target)}),e[bC]=kB.from(e,this.correlatedSceneGraph),e}}const LZ=(i,e,t)=>{let n;switch(i){case Wr:n=new Uint8ClampedArray(e*t*4);break;case yo:n=new Uint16Array(e*t*4);break;case HA:n=new Uint32Array(e*t*4);break;case MR:n=new Int8Array(e*t*4);break;case RR:n=new Int16Array(e*t*4);break;case cS:n=new Int32Array(e*t*4);break;case yr:n=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return n};let o1;const $me=(i,e,t,n)=>{if(o1!==void 0)return o1;const r=new Il(1,1,n);e.setRenderTarget(r);const o=new Fi(new sc,new ns({color:16777215}));e.render(o,t),e.setRenderTarget(null);const s=LZ(i,r.width,r.height);return e.readRenderTargetPixels(r,0,0,r.width,r.height,s),r.dispose(),o.geometry.dispose(),o.material.dispose(),o1=s[0]!==0,o1};class gN{constructor(e){var t,n,r,o,s,a,l,c,u,h,d,p,g,v,_,b;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(C){throw this._renderer.setRenderTarget(null),C}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const x={format:On,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy:1,generateMipmaps:((r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps)!==void 0?(o=e.renderTargetOptions)===null||o===void 0?void 0:o.generateMipmaps:!1,magFilter:((s=e.renderTargetOptions)===null||s===void 0?void 0:s.magFilter)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter:Ni,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter:Ni,samples:((u=e.renderTargetOptions)===null||u===void 0?void 0:u.samples)!==void 0?(h=e.renderTargetOptions)===null||h===void 0?void 0:h.samples:void 0,wrapS:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.wrapS)!==void 0?(p=e.renderTargetOptions)===null||p===void 0?void 0:p.wrapS:dr,wrapT:((g=e.renderTargetOptions)===null||g===void 0?void 0:g.wrapT)!==void 0?(v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapT:dr};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=gN.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Lu,this._camera=new nc,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!$me(this._type,this._renderer,this._camera,x)){let C;switch(this._type){case yo:C=this._renderer.extensions.has("EXT_color_buffer_float")?yr:void 0;break}C!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${yr}`),this._type=C):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Fi(new sc,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Il(this.width,this.height,x),this._renderTarget.texture.mapping=((_=e.renderTargetOptions)===null||_===void 0?void 0:_.mapping)!==void 0?(b=e.renderTargetOptions)===null||b===void 0?void 0:b.mapping:vg}static instantiateRenderer(){const e=new uk;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=LZ(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new Ru(this.toArray(),this.width,this.height,On,this._type,(e==null?void 0:e.mapping)||vg,(e==null?void 0:e.wrapS)||dr,(e==null?void 0:e.wrapT)||dr,(e==null?void 0:e.magFilter)||Ni,(e==null?void 0:e.minFilter)||Ni,(e==null?void 0:e.anisotropy)||1,Xn);return t.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof qa&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof Rn&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof Rn&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Xme=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Yme=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Zme extends qa{constructor({gamma:e,offsetHdr:t,offsetSdr:n,gainMapMin:r,gainMapMax:o,maxDisplayBoost:s,hdrCapacityMin:a,hdrCapacityMax:l,sdr:c,gainMap:u}){super({name:"GainMapDecoderMaterial",vertexShader:Xme,fragmentShader:Yme,uniforms:{sdr:{value:c},gainMap:{value:u},gamma:{value:new he(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new he().fromArray(t)},offsetSdr:{value:new he().fromArray(n)},gainMapMin:{value:new he().fromArray(r)},gainMapMax:{value:new he().fromArray(o)},weightFactor:{value:(Math.log2(s)-a)/(l-a)}},blending:Ph,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=s,this._hdrCapacityMin=a,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class OZ extends Error{}class QZ extends Error{}const yC=(i,e,t)=>{const n=new RegExp(`${e}="([^"]*)"`,"i").exec(i);if(n)return n[1];const r=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(i);if(r){const o=r[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return o&&o.length===3?o.map(s=>s.replace(/<\/?rdf:li>/g,"")):r[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},Jme=i=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(i):e=i.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const n=e.indexOf("x:xmpmeta>",t),r=e.slice(t,n+10);try{const o=yC(r,"hdrgm:GainMapMin","0"),s=yC(r,"hdrgm:GainMapMax"),a=yC(r,"hdrgm:Gamma","1"),l=yC(r,"hdrgm:OffsetSDR","0.015625"),c=yC(r,"hdrgm:OffsetHDR","0.015625"),u=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),h=u?u[1]:"0",d=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!d)throw new Error("Incomplete gainmap metadata");const p=d[1];return{gainMapMin:Array.isArray(o)?o.map(g=>parseFloat(g)):[parseFloat(o),parseFloat(o),parseFloat(o)],gainMapMax:Array.isArray(s)?s.map(g=>parseFloat(g)):[parseFloat(s),parseFloat(s),parseFloat(s)],gamma:Array.isArray(a)?a.map(g=>parseFloat(g)):[parseFloat(a),parseFloat(a),parseFloat(a)],offsetSdr:Array.isArray(l)?l.map(g=>parseFloat(g)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(c)?c.map(g=>parseFloat(g)):[parseFloat(c),parseFloat(c),parseFloat(c)],hdrCapacityMin:parseFloat(h),hdrCapacityMax:parseFloat(p)}}catch{}t=e.indexOf("<x:xmpmeta",n)}};class e_e{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,n)=>{const r=this.options.debug,o=new DataView(e.buffer);if(o.getUint16(0)!==65496){n(new Error("Not a valid jpeg"));return}const s=o.byteLength;let a=2,l=0,c;for(;a<s;){if(++l>250){n(new Error(`Found no marker after ${l} loops 😵`));return}if(o.getUint8(a)!==255){n(new Error(`Not a valid marker at offset 0x${a.toString(16)}, found: 0x${o.getUint8(a).toString(16)}`));return}if(c=o.getUint8(a+1),r&&console.log(`Marker: ${c.toString(16)}`),c===226){r&&console.log("Found APP2 marker (0xffe2)");const u=a+4;if(o.getUint32(u)===1297106432){const h=u+4;let d;if(o.getUint16(h)===18761)d=!1;else if(o.getUint16(h)===19789)d=!0;else{n(new Error("No valid endianness marker found in TIFF header"));return}if(o.getUint16(h+2,!d)!==42){n(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const p=o.getUint32(h+4,!d);if(p<8){n(new Error("Not valid TIFF data! (First offset less than 8)"));return}const g=h+p,v=o.getUint16(g,!d),_=g+2;let b=0;for(let E=_;E<_+12*v;E+=12)o.getUint16(E,!d)===45057&&(b=o.getUint32(E+8,!d));const C=g+2+v*12+4,S=[];for(let E=C;E<C+b*16;E+=16){const I={MPType:o.getUint32(E,!d),size:o.getUint32(E+4,!d),dataOffset:o.getUint32(E+8,!d),dependantImages:o.getUint32(E+12,!d),start:-1,end:-1,isFII:!1};I.dataOffset?(I.start=h+I.dataOffset,I.isFII=!1):(I.start=0,I.isFII=!0),I.end=I.start+I.size,S.push(I)}if(this.options.extractNonFII&&S.length){const E=new Blob([o]),I=[];for(const M of S){if(M.isFII&&!this.options.extractFII)continue;const k=E.slice(M.start,M.end+1,"image/jpeg");I.push(k)}t(I)}}}a+=2+o.getUint16(a+2)}})}}const t_e=async i=>{const e=Jme(i);if(!e)throw new QZ("Gain map XMP metadata not found");const n=await new e_e({extractFII:!0,extractNonFII:!0}).extract(i);if(n.length!==2)throw new OZ("Gain map recovery image not found");return{sdr:new Uint8Array(await n[0].arrayBuffer()),gainMap:new Uint8Array(await n[1].arrayBuffer()),metadata:e}},U6=i=>new Promise((e,t)=>{const n=document.createElement("img");n.onload=()=>{e(n)},n.onerror=r=>{t(r)},n.src=URL.createObjectURL(i)});class i_e extends Cr{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new ok}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new Zme({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Rn,sdr:new Rn});return new gN({width:16,height:16,type:yo,colorSpace:Xn,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,n,r){const o=r?new Blob([r],{type:"image/jpeg"}):void 0,s=new Blob([n],{type:"image/jpeg"});let a,l,c=!1;if(typeof createImageBitmap>"u"){const d=await Promise.all([o?U6(o):Promise.resolve(void 0),U6(s)]);l=d[0],a=d[1],c=!0}else{const d=await Promise.all([o?createImageBitmap(o,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(s,{imageOrientation:"flipY"})]);l=d[0],a=d[1]}const u=new Rn(l||new ImageData(2,2),vg,dr,dr,Ni,yL,On,Wr,1,Xn);u.flipY=c,u.needsUpdate=!0;const h=new Rn(a,vg,dr,dr,Ni,yL,On,Wr,1,fi);h.flipY=c,h.needsUpdate=!0,e.width=a.width,e.height=a.height,e.material.gainMap=u,e.material.sdr=h,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class n_e extends i_e{load(e,t,n,r){const o=this.prepareQuadRenderer(),s=new ro(this._internalLoadingManager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(this.withCredentials),this.manager.itemStart(e),s.load(e,async a=>{if(typeof a=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(a);let c,u,h;try{const d=await t_e(l);c=d.sdr,u=d.gainMap,h=d.metadata}catch(d){if(d instanceof QZ||d instanceof OZ)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),h={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw d}try{await this.render(o,h,c,u)}catch(d){this.manager.itemError(e),typeof r=="function"&&r(d),o.disposeOnDemandRenderer();return}typeof t=="function"&&t(o),this.manager.itemEnd(e),o.disposeOnDemandRenderer()},n,a=>{this.manager.itemError(e),typeof r=="function"&&r(a)}),o}}class r_e extends AY{constructor(e){super(e),this.type=yo}parse(e){const s=function(k,F){switch(k){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(F||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(F||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(F||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(F||""))}},u=`
`,h=function(k,F,P){F=F||1024;let N=k.pos,W=-1,q=0,J="",V=String.fromCharCode.apply(null,new Uint16Array(k.subarray(N,N+128)));for(;0>(W=V.indexOf(u))&&q<F&&N<k.byteLength;)J+=V,q+=V.length,N+=128,V+=String.fromCharCode.apply(null,new Uint16Array(k.subarray(N,N+128)));return-1<W?(k.pos+=q+W+1,J+V.slice(0,W)):!1},d=function(k){const F=/^#\?(\S+)/,P=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,Q=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,N=/^\s*FORMAT=(\S+)\s*$/,W=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,q={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let J,V;for((k.pos>=k.byteLength||!(J=h(k)))&&s(1,"no header found"),(V=J.match(F))||s(3,"bad initial token"),q.valid|=1,q.programtype=V[1],q.string+=J+`
`;J=h(k),J!==!1;){if(q.string+=J+`
`,J.charAt(0)==="#"){q.comments+=J+`
`;continue}if((V=J.match(P))&&(q.gamma=parseFloat(V[1])),(V=J.match(Q))&&(q.exposure=parseFloat(V[1])),(V=J.match(N))&&(q.valid|=2,q.format=V[1]),(V=J.match(W))&&(q.valid|=4,q.height=parseInt(V[1],10),q.width=parseInt(V[2],10)),q.valid&2&&q.valid&4)break}return q.valid&2||s(3,"missing format specifier"),q.valid&4||s(3,"missing image size specifier"),q},p=function(k,F,P){const Q=F;if(Q<8||Q>32767||k[0]!==2||k[1]!==2||k[2]&128)return new Uint8Array(k);Q!==(k[2]<<8|k[3])&&s(3,"wrong scanline width");const N=new Uint8Array(4*F*P);N.length||s(4,"unable to allocate buffer space");let W=0,q=0;const J=4*Q,V=new Uint8Array(4),Y=new Uint8Array(J);let Z=P;for(;Z>0&&q<k.byteLength;){q+4>k.byteLength&&s(1),V[0]=k[q++],V[1]=k[q++],V[2]=k[q++],V[3]=k[q++],(V[0]!=2||V[1]!=2||(V[2]<<8|V[3])!=Q)&&s(3,"bad rgbe scanline format");let ue=0,$;for(;ue<J&&q<k.byteLength;){$=k[q++];const oe=$>128;if(oe&&($-=128),($===0||ue+$>J)&&s(3,"bad scanline data"),oe){const ge=k[q++];for(let se=0;se<$;se++)Y[ue++]=ge}else Y.set(k.subarray(q,q+$),ue),ue+=$,q+=$}const ee=Q;for(let oe=0;oe<ee;oe++){let ge=0;N[W]=Y[oe+ge],ge+=Q,N[W+1]=Y[oe+ge],ge+=Q,N[W+2]=Y[oe+ge],ge+=Q,N[W+3]=Y[oe+ge],W+=4}Z--}return N},g=function(k,F,P,Q){const N=k[F+3],W=Math.pow(2,N-128)/255;P[Q+0]=k[F+0]*W,P[Q+1]=k[F+1]*W,P[Q+2]=k[F+2]*W,P[Q+3]=1},v=function(k,F,P,Q){const N=k[F+3],W=Math.pow(2,N-128)/255;P[Q+0]=a2.toHalfFloat(Math.min(k[F+0]*W,65504)),P[Q+1]=a2.toHalfFloat(Math.min(k[F+1]*W,65504)),P[Q+2]=a2.toHalfFloat(Math.min(k[F+2]*W,65504)),P[Q+3]=a2.toHalfFloat(1)},_=new Uint8Array(e);_.pos=0;const b=d(_),x=b.width,C=b.height,S=p(_.subarray(_.pos),x,C);let E,I,M;switch(this.type){case yr:M=S.length/4;const k=new Float32Array(M*4);for(let P=0;P<M;P++)g(S,P*4,k,P*4);E=k,I=yr;break;case yo:M=S.length/4;const F=new Uint16Array(M*4);for(let P=0;P<M;P++)v(S,P*4,F,P*4);E=F,I=yo;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:x,height:C,data:E,header:b.string,gamma:b.gamma,exposure:b.exposure,type:I}}setDataType(e){return this.type=e,this}load(e,t,n,r){function o(s,a){switch(s.type){case yr:case yo:s.colorSpace=Xn,s.minFilter=Ni,s.magFilter=Ni,s.generateMipmaps=!1,s.flipY=!0;break}t&&t(s,a)}return super.load(e,o,n,r)}}/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_e={topLight:{intensity:500,position:[.418,16.199,.3]},room:{position:[-.757,13.219,.717],scale:[31.713,28.305,28.591]},boxes:[{position:[-10.906,2.009,1.846],rotation:-.195,scale:[2.328,7.905,4.651]},{position:[-5.607,-.754,-.758],rotation:.994,scale:[1.97,1.534,3.955]},{position:[6.167,.857,7.803],rotation:.561,scale:[3.927,6.285,3.687]},{position:[-2.017,.018,6.124],rotation:.333,scale:[2.002,4.566,2.064]},{position:[2.291,-.756,-2.621],rotation:-.286,scale:[1.546,1.552,1.496]},{position:[-2.193,-.369,-5.547],rotation:.516,scale:[3.875,3.487,2.986]}],lights:[{intensity:50,position:[-16.116,14.37,8.208],scale:[.1,2.428,2.739]},{intensity:50,position:[-16.109,18.021,-8.207],scale:[.1,2.425,2.751]},{intensity:17,position:[14.904,12.198,-1.832],scale:[.15,4.265,6.331]},{intensity:43,position:[-.462,8.89,14.52],scale:[4.38,5.441,.088]},{intensity:20,position:[3.235,11.486,-12.541],scale:[2.5,2,.1]},{intensity:100,position:[0,20,0],scale:[1,.1,1]}]},s_e={topLight:{intensity:400,position:[.5,14,.5]},room:{position:[0,13.2,0],scale:[31.5,28.5,31.5]},boxes:[{position:[-10.906,-1,1.846],rotation:-.195,scale:[2.328,7.905,4.651]},{position:[-5.607,-.754,-.758],rotation:.994,scale:[1.97,1.534,3.955]},{position:[6.167,-.16,7.803],rotation:.561,scale:[3.927,6.285,3.687]},{position:[-2.017,.018,6.124],rotation:.333,scale:[2.002,4.566,2.064]},{position:[2.291,-.756,-2.621],rotation:-.286,scale:[1.546,1.552,1.496]},{position:[-2.193,-.369,-5.547],rotation:.516,scale:[3.875,3.487,2.986]}],lights:[{intensity:80,position:[-14,10,8],scale:[.1,2.5,2.5]},{intensity:80,position:[-14,14,-4],scale:[.1,2.5,2.5]},{intensity:23,position:[14,12,0],scale:[.1,5,5]},{intensity:16,position:[0,9,14],scale:[5,5,.1]},{intensity:80,position:[7,8,-14],scale:[2.5,2.5,.1]},{intensity:80,position:[-7,16,-14],scale:[2.5,2.5,.1]},{intensity:1,position:[0,20,0],scale:[.1,.1,.1]}]};class P6 extends Lu{constructor(e){super(),this.position.y=-3.5;const t=new zh;t.deleteAttribute("uv");const n=new dv({metalness:0,side:Us}),r=new dv({metalness:0}),o=e=="legacy"?o_e:s_e,s=new Ny(16777215,o.topLight.intensity,28,2);s.position.set(...o.topLight.position),this.add(s);const a=new Fi(t,n);a.position.set(...o.room.position),a.scale.set(...o.room.scale),this.add(a);for(const l of o.boxes){const c=new Fi(t,r);c.position.set(...l.position),c.rotation.set(0,l.rotation,0),c.scale.set(...l.scale),this.add(c)}for(const l of o.lights){const c=new Fi(t,this.createAreaLightMaterial(l.intensity));c.position.set(...l.position),c.scale.set(...l.scale),this.add(c)}}createAreaLightMaterial(e){const t=new ns;return t.color.setScalar(e),t}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_e=.04,Y0=20,l_e=/\.hdr(\.js)?$/;class L6{constructor(e){this.threeRenderer=e,this.lottieLoaderUrl="",this._ldrLoader=null,this._imageLoader=null,this._hdrLoader=null,this._lottieLoader=null,this.generatedEnvironmentMap=null,this.generatedEnvironmentMapAlt=null,this.skyboxCache=new Map,this.blurMaterial=null,this.blurScene=null}ldrLoader(e){return this._ldrLoader==null&&(this._ldrLoader=new sk),this._ldrLoader.setWithCredentials(e),this._ldrLoader}imageLoader(e){return this._imageLoader==null&&(this._imageLoader=new n_e(this.threeRenderer)),this._imageLoader.setWithCredentials(e),this._imageLoader}hdrLoader(e){return this._hdrLoader==null&&(this._hdrLoader=new r_e,this._hdrLoader.setDataType(yo)),this._hdrLoader.setWithCredentials(e),this._hdrLoader}async getLottieLoader(e){if(this._lottieLoader==null){const{LottieLoader:t}=await import(this.lottieLoaderUrl);this._lottieLoader=new t}return this._lottieLoader.setWithCredentials(e),this._lottieLoader}async loadImage(e,t){const n=await new Promise((r,o)=>this.ldrLoader(t).load(e,r,()=>{},o));return n.name=e,n.flipY=!1,n}async loadLottie(e,t,n){const r=await this.getLottieLoader(n);r.setQuality(t);const o=await new Promise((s,a)=>r.load(e,s,()=>{},a));return o.name=e,o}async loadEquirect(e,t=!1,n=()=>{}){try{const r=l_e.test(e),o=r?this.hdrLoader(t):this.imageLoader(t),s=await new Promise((a,l)=>o.load(e,c=>{const{renderTarget:u}=c;if(u!=null){const{texture:h}=u;c.dispose(!1),a(h)}else a(c)},c=>{n(c.loaded/c.total*.9)},l));return n(1),s.name=e,s.mapping=av,r||(s.colorSpace=fi),s}finally{n&&n(1)}}async generateEnvironmentMapAndSkybox(e=null,t=null,n=()=>{},r=!1){const o=t!=="legacy";(t==="legacy"||t==="neutral")&&(t=null),t=tZ(t);let s=Promise.resolve(null),a;e&&(s=this.loadEquirectFromUrl(e,r,n)),t?a=this.loadEquirectFromUrl(t,r,n):e?a=this.loadEquirectFromUrl(e,r,n):a=o?this.loadGeneratedEnvironmentMapAlt():this.loadGeneratedEnvironmentMap();const[l,c]=await Promise.all([a,s]);if(l==null)throw new Error("Failed to load environment map.");return{environmentMap:l,skybox:c}}async loadEquirectFromUrl(e,t,n){if(!this.skyboxCache.has(e)){const r=this.loadEquirect(e,t,n);this.skyboxCache.set(e,r)}return this.skyboxCache.get(e)}async GenerateEnvironmentMap(e,t){await Hfe();const n=this.threeRenderer,r=new NR(256,{generateMipmaps:!1,type:yo,format:On,colorSpace:Xn,depthBuffer:!0}),o=new h5(.1,100,r),s=o.renderTarget.texture;s.name=t;const a=n.outputColorSpace,l=n.toneMapping;return n.toneMapping=Mu,n.outputColorSpace=Xn,o.update(n,e),this.blurCubemap(r,a_e),n.toneMapping=l,n.outputColorSpace=a,s}async loadGeneratedEnvironmentMap(){return this.generatedEnvironmentMap==null&&(this.generatedEnvironmentMap=this.GenerateEnvironmentMap(new P6("legacy"),"legacy")),this.generatedEnvironmentMap}async loadGeneratedEnvironmentMapAlt(){return this.generatedEnvironmentMapAlt==null&&(this.generatedEnvironmentMapAlt=this.GenerateEnvironmentMap(new P6("neutral"),"neutral")),this.generatedEnvironmentMapAlt}blurCubemap(e,t){if(this.blurMaterial==null){this.blurMaterial=this.getBlurShader(Y0);const r=new zh,o=new Fi(r,this.blurMaterial);this.blurScene=new Lu,this.blurScene.add(o)}const n=e.clone();this.halfblur(e,n,t,"latitudinal"),this.halfblur(n,e,t,"longitudinal")}halfblur(e,t,n,r){const s=e.width,a=isFinite(n)?Math.PI/(2*s):2*Math.PI/(2*Y0-1),l=n/a,c=isFinite(n)?1+Math.floor(3*l):Y0;c>Y0&&console.warn(`sigmaRadians, ${n}, is too large and will clip, as it requested ${c} samples when the maximum is set to ${Y0}`);const u=[];let h=0;for(let g=0;g<Y0;++g){const v=g/l,_=Math.exp(-v*v/2);u.push(_),g==0?h+=_:g<c&&(h+=2*_)}for(let g=0;g<u.length;g++)u[g]=u[g]/h;const d=this.blurMaterial.uniforms;d.envMap.value=e.texture,d.samples.value=c,d.weights.value=u,d.latitudinal.value=r==="latitudinal",d.dTheta.value=a,new h5(.1,100,t).update(this.threeRenderer,this.blurScene)}getBlurShader(e){const t=new Float32Array(e),n=new he(0,1,0);return new qa({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},poleAxis:{value:n}},vertexShader:`
      
      varying vec3 vOutputDirection;
  
      void main() {
  
        vOutputDirection = vec3( position );
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
  
      }
    `,fragmentShader:`
        varying vec3 vOutputDirection;
  
        uniform samplerCube envMap;
        uniform int samples;
        uniform float weights[ n ];
        uniform bool latitudinal;
        uniform float dTheta;
        uniform vec3 poleAxis;
  
        vec3 getSample( float theta, vec3 axis ) {
  
          float cosTheta = cos( theta );
          // Rodrigues' axis-angle rotation
          vec3 sampleDirection = vOutputDirection * cosTheta
            + cross( axis, vOutputDirection ) * sin( theta )
            + axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );
  
          return vec3( textureCube( envMap, sampleDirection ) );
  
        }
  
        void main() {
  
          vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );
  
          if ( all( equal( axis, vec3( 0.0 ) ) ) ) {
  
            axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );
  
          }
  
          axis = normalize( axis );
  
          gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
          gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );
  
          for ( int i = 1; i < n; i++ ) {
  
            if ( i >= samples ) {
  
              break;
  
            }
  
            float theta = dTheta * float( i );
            gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
            gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );
  
          }
        }
      `,blending:Ph,depthTest:!1,depthWrite:!1,side:Us})}async dispose(){for(const[,e]of this.skyboxCache)(await e).dispose();this.generatedEnvironmentMap!=null&&((await this.generatedEnvironmentMap).dispose(),this.generatedEnvironmentMap=null),this.generatedEnvironmentMapAlt!=null&&((await this.generatedEnvironmentMapAlt).dispose(),this.generatedEnvironmentMapAlt=null),this.blurMaterial!=null&&this.blurMaterial.dispose()}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_e=.2,fU=40,gU=60,u_e=5,Z0=[1,.79,.62,.5,.4,.31,.25],h_e=3,O6="high-performance",A_e=1.3;class Dh extends oc{static get singleton(){return this._singleton||(this._singleton=new Dh({powerPreference:(self.ModelViewerElement||{}).powerPreference||O6,debug:w7()})),this._singleton}static resetSingleton(){const e=this._singleton.dispose();for(const t of e)t.disconnectedCallback();this._singleton=new Dh({powerPreference:(self.ModelViewerElement||{}).powerPreference||O6,debug:w7()});for(const t of e)t.connectedCallback()}get canRender(){return this.threeRenderer!=null}get scaleFactor(){return Z0[this.scaleStep]}set minScale(e){let t=1;for(;t<Z0.length&&!(Z0[t]<e);)++t;this.lastStep=t-1}constructor(e){super(),this.loader=new ml(Kme),this.width=0,this.height=0,this.dpr=1,this.scenes=new Set,this.multipleScenesVisible=!1,this.lastTick=performance.now(),this.renderedLastFrame=!1,this.scaleStep=0,this.lastStep=h_e,this.avgFrameDuration=(gU+fU)/2,this.onWebGLContextLost=t=>{this.dispatchEvent({type:"contextlost",sourceEvent:t})},this.onWebGLContextRestored=()=>{var t;(t=this.textureUtils)===null||t===void 0||t.dispose(),this.textureUtils=new L6(this.threeRenderer);for(const n of this.scenes)n.element[_5]()},this.dpr=window.devicePixelRatio,this.canvas3D=document.createElement("canvas"),this.canvas3D.id="webgl-canvas",this.canvas3D.classList.add("show");try{this.threeRenderer=new uk({canvas:this.canvas3D,alpha:!0,antialias:!0,powerPreference:e.powerPreference,preserveDrawingBuffer:!0}),this.threeRenderer.autoClear=!0,this.threeRenderer.setPixelRatio(1),this.threeRenderer.debug={checkShaderErrors:!!e.debug,onShaderError:null},this.threeRenderer.toneMapping=Ry}catch(t){console.warn(t)}this.arRenderer=new Vme(this),this.textureUtils=this.canRender?new L6(this.threeRenderer):null,ml.initializeKTX2Loader(this.threeRenderer),this.canvas3D.addEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.addEventListener("webglcontextrestored",this.onWebGLContextRestored),this.updateRendererSize()}registerScene(e){this.scenes.add(e),e.forceRescale();const t=new et;this.threeRenderer.getSize(t),e.canvas.width=t.x,e.canvas.height=t.y,this.canRender&&this.scenes.size>0&&this.threeRenderer.setAnimationLoop((n,r)=>this.render(n,r))}unregisterScene(e){this.scenes.delete(e),this.canvas3D.parentElement===e.canvas.parentElement&&e.canvas.parentElement.removeChild(this.canvas3D),this.canRender&&this.scenes.size===0&&this.threeRenderer.setAnimationLoop(null)}displayCanvas(e){return e.element.modelIsVisible&&!this.multipleScenesVisible?this.canvas3D:e.element[WL]}countVisibleScenes(){const{canvas3D:e}=this;let t=0,n=null;for(const o of this.scenes){const{element:s}=o;s.modelIsVisible&&o.externalRenderer==null&&++t,e.parentElement===o.canvas.parentElement&&(n=o)}const r=t>1;if(n!=null){const o=r&&!this.multipleScenesVisible,s=!n.element.modelIsVisible;if(o||s){const{width:a,height:l}=this.sceneSize(n);this.copyPixels(n,a,l),e.parentElement.removeChild(e)}}this.multipleScenesVisible=r}updateRendererSize(){var e;const t=window.devicePixelRatio;if(t!==this.dpr)for(const o of this.scenes){const{element:s}=o;s[Jb](s.getBoundingClientRect())}let n=0,r=0;for(const o of this.scenes)n=Math.max(n,o.width),r=Math.max(r,o.height);if(!(n===this.width&&r===this.height&&t===this.dpr)){this.width=n,this.height=r,this.dpr=t,n=Math.ceil(n*t),r=Math.ceil(r*t),this.canRender&&this.threeRenderer.setSize(n,r,!1);for(const o of this.scenes){const{canvas:s}=o;s.width=n,s.height=r,o.forceRescale(),(e=o.effectRenderer)===null||e===void 0||e.setSize(n,r)}}}updateRendererScale(e){const t=this.scaleStep;this.avgFrameDuration+=DA(c_e*(e-this.avgFrameDuration),-5,u_e),this.avgFrameDuration>gU?++this.scaleStep:this.avgFrameDuration<fU&&this.scaleStep>0&&--this.scaleStep,this.scaleStep=Math.min(this.scaleStep,this.lastStep),t!==this.scaleStep&&(this.avgFrameDuration=(gU+fU)/2)}shouldRender(e){if(e.shouldRender())e.scaleStep!=this.scaleStep&&(e.scaleStep=this.scaleStep,this.rescaleCanvas(e));else if(e.scaleStep!=0)e.scaleStep=0,this.rescaleCanvas(e);else return!1;return!0}rescaleCanvas(e){const t=Z0[e.scaleStep],n=Math.ceil(this.width/t),r=Math.ceil(this.height/t),{style:o}=e.canvas;o.width=`${n}px`,o.height=`${r}px`,this.canvas3D.style.width=`${n}px`,this.canvas3D.style.height=`${r}px`;const s=this.dpr*t,a=t<1?"GPU throttling":this.dpr!==window.devicePixelRatio?"No meta viewport tag":"";e.element.dispatchEvent(new CustomEvent("render-scale",{detail:{reportedDpr:window.devicePixelRatio,renderedDpr:s,minimumDpr:this.dpr*Z0[this.lastStep],pixelWidth:Math.ceil(e.width*s),pixelHeight:Math.ceil(e.height*s),reason:a}}))}sceneSize(e){const{dpr:t}=this,n=Z0[e.scaleStep],r=Math.min(Math.ceil(e.width*n*t),this.canvas3D.width),o=Math.min(Math.ceil(e.height*n*t),this.canvas3D.height);return{width:r,height:o}}copyPixels(e,t,n){const r=e.context;if(r==null){console.log("could not acquire 2d context");return}r.clearRect(0,0,t,n),r.drawImage(this.canvas3D,0,0,t,n,0,0,t,n),e.canvas.classList.add("show")}orderedScenes(){const e=[];for(const t of[!1,!0])for(const n of this.scenes)n.element.modelIsVisible===t&&e.push(n);return e}get isPresenting(){return this.arRenderer.isPresenting}preRender(e,t,n){const{element:r,exposure:o,toneMapping:s}=e;r[zA](t,n);const a=typeof o=="number"&&!Number.isNaN(o),l=r.environmentImage,c=r.skyboxImage,u=s===Ry&&(l==="neutral"||l==="legacy"||!l&&!c);this.threeRenderer.toneMappingExposure=(a?o:1)*(u?A_e:1)}render(e,t){if(t!=null){this.arRenderer.onWebXRFrame(e,t);return}const n=e-this.lastTick;if(this.lastTick=e,!this.canRender||this.isPresenting)return;this.countVisibleScenes(),this.updateRendererSize(),this.renderedLastFrame&&(this.updateRendererScale(n),this.renderedLastFrame=!1);const{canvas3D:r}=this;for(const o of this.orderedScenes()){const{element:s}=o;if(!s.loaded||!s.modelIsVisible&&o.renderCount>0||(this.preRender(o,e,n),!this.shouldRender(o)))continue;if(o.externalRenderer!=null){const c=o.getCamera();c.updateMatrix();const{matrix:u,projectionMatrix:h}=c,d=u.elements.slice(),p=o.getTarget();d[12]+=p.x,d[13]+=p.y,d[14]+=p.z,o.externalRenderer.render({viewMatrix:d,projectionMatrix:h.elements});continue}if(!s.modelIsVisible&&!this.multipleScenesVisible)for(const c of this.scenes)c.element.modelIsVisible&&c.queueRender();const{width:a,height:l}=this.sceneSize(o);o.renderShadow(this.threeRenderer),this.threeRenderer.setRenderTarget(null),this.threeRenderer.setViewport(0,Math.ceil(this.height*this.dpr)-l,a,l),o.effectRenderer!=null?o.effectRenderer.render(n):(this.threeRenderer.autoClear=!0,this.threeRenderer.toneMapping=o.toneMapping,this.threeRenderer.render(o,o.camera)),this.multipleScenesVisible||!o.element.modelIsVisible&&o.renderCount===0?this.copyPixels(o,a,l):r.parentElement!==o.canvas.parentElement&&(o.canvas.parentElement.appendChild(r),o.canvas.classList.remove("show")),o.hasRendered(),++o.renderCount,this.renderedLastFrame=!0}}dispose(){this.textureUtils!=null&&this.textureUtils.dispose(),this.threeRenderer!=null&&this.threeRenderer.dispose(),this.textureUtils=null,this.threeRenderer=null;const e=[];for(const t of this.scenes)e.push(t.element);return this.canvas3D.removeEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.removeEventListener("webglcontextrestored",this.onWebGLContextRestored),e}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=Symbol("correlatedObjects"),Tn=Symbol("onUpdate");class bS{constructor(e,t){this[Tn]=e,this[qi]=t}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=new ns,d_e=new sc(2,2);let p_e=0;const fl=Symbol("threeTexture"),N6=Symbol("threeTextures");let f_e=class extends bS{get[fl](){var e;return(e=this[qi])===null||e===void 0?void 0:e.values().next().value}get[N6](){return this[qi]}constructor(e,t){super(e,new Set(t?[t]:[])),this[fl].image.src||(this[fl].image.src=t.name?t.name:"adhoc_image"+p_e++),this[fl].image.name||(this[fl].image.name=t&&t.image&&t.image.src?t.image.src.split("/").pop():"adhoc_image")}get name(){return this[fl].image.name||""}get uri(){return this[fl].image.src}get bufferView(){return this[fl].image.bufferView}get element(){const e=this[fl];if(e&&(e.isCanvasTexture||e.isVideoTexture))return e.image}get animation(){const e=this[fl];if(e&&e.isCanvasTexture&&e.animation)return e.animation}get type(){return this.uri!=null?"external":"embedded"}set name(e){for(const t of this[N6])t.image.name=e}update(){const e=this[fl];e&&e.isCanvasTexture&&!e.animation&&(this[fl].needsUpdate=!0,this[Tn]())}async createThumbnail(e,t){const n=new Lu;Q6.map=this[fl];const r=new Fi(d_e,Q6);n.add(r);const o=new nc(-1,1,1,-1,0,1),{threeRenderer:s}=Dh.singleton,a=new Il(e,t);s.setRenderTarget(a),s.render(n,o),s.setRenderTarget(null);const l=new Uint8Array(e*t*4);s.readRenderTargetPixels(a,0,0,e,t,l),sg.width=e,sg.height=t;const c=sg.getContext("2d"),u=c.createImageData(e,t);return u.data.set(l),c.putImageData(u,0,0),new Promise(async(h,d)=>{sg.toBlob(p=>{if(!p)return d("Failed to capture thumbnail.");h(URL.createObjectURL(p))},"image/png")})}};var Rs;(function(i){i[i.Nearest=9728]="Nearest",i[i.Linear=9729]="Linear",i[i.NearestMipmapNearest=9984]="NearestMipmapNearest",i[i.LinearMipmapNearest=9985]="LinearMipmapNearest",i[i.NearestMipmapLinear=9986]="NearestMipmapLinear",i[i.LinearMipmapLinear=9987]="LinearMipmapLinear"})(Rs||(Rs={}));var dg;(function(i){i[i.ClampToEdge=33071]="ClampToEdge",i[i.MirroredRepeat=33648]="MirroredRepeat",i[i.Repeat=10497]="Repeat"})(dg||(dg={}));/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=new Map([[dg.Repeat,Tl],[dg.ClampToEdge,dr],[dg.MirroredRepeat,Rp]]),HL=new Map([[Tl,dg.Repeat],[dr,dg.ClampToEdge],[Rp,dg.MirroredRepeat]]),g_e=new Map([[Rs.Nearest,Pr],[Rs.Linear,Ni],[Rs.NearestMipmapNearest,Bv],[Rs.LinearMipmapNearest,vp],[Rs.NearestMipmapLinear,PA],[Rs.LinearMipmapLinear,na]]),NZ=new Map([[Pr,Rs.Nearest],[Ni,Rs.Linear],[Bv,Rs.NearestMipmapNearest],[vp,Rs.LinearMipmapNearest],[PA,Rs.NearestMipmapLinear],[na,Rs.LinearMipmapLinear]]),m_e=new Map([[Rs.Nearest,Pr],[Rs.Linear,Ni]]),HZ=new Map([[Pr,Rs.Nearest],[Ni,Rs.Linear]]),__e=i=>NZ.has(i),v_e=i=>HZ.has(i),b_e=i=>HL.has(i),y_e=(i,e)=>{switch(i){case"minFilter":return __e(e);case"magFilter":return v_e(e);case"wrapS":case"wrapT":return b_e(e);case"rotation":case"repeat":case"offset":return!0;default:throw new Error(`Cannot configure property "${i}" on Sampler`)}},Nd=Symbol("threeTexture"),z6=Symbol("threeTextures"),bf=Symbol("setProperty");class w_e extends bS{get[Nd](){var e;return(e=this[qi])===null||e===void 0?void 0:e.values().next().value}get[z6](){return this[qi]}constructor(e,t){super(e,new Set(t?[t]:[]))}get name(){return this[Nd].name||""}get minFilter(){return NZ.get(this[Nd].minFilter)}get magFilter(){return HZ.get(this[Nd].magFilter)}get wrapS(){return HL.get(this[Nd].wrapS)}get wrapT(){return HL.get(this[Nd].wrapT)}get rotation(){return this[Nd].rotation}get scale(){return jL(this[Nd].repeat)}get offset(){return jL(this[Nd].offset)}setMinFilter(e){this[bf]("minFilter",g_e.get(e))}setMagFilter(e){this[bf]("magFilter",m_e.get(e))}setWrapS(e){this[bf]("wrapS",H6.get(e))}setWrapT(e){this[bf]("wrapT",H6.get(e))}setRotation(e){e==null&&(e=0),this[bf]("rotation",e)}setScale(e){e==null&&(e={u:1,v:1}),this[bf]("repeat",new et(e.u,e.v))}setOffset(e){e==null&&(e={u:0,v:0}),this[bf]("offset",new et(e.u,e.v))}[bf](e,t){if(y_e(e,t))for(const n of this[z6])n[e]=t,n.needsUpdate=!0;this[Tn]()}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=Symbol("image"),V6=Symbol("sampler"),q6=Symbol("threeTexture");class zZ extends bS{get[q6](){var e;return(e=this[qi])===null||e===void 0?void 0:e.values().next().value}constructor(e,t){super(e,new Set(t?[t]:[])),this[V6]=new w_e(e,t),this[G6]=new f_e(e,t)}get name(){return this[q6].name||""}set name(e){for(const t of this[qi])t.name=e}get sampler(){return this[V6]}get source(){return this[G6]}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GZ,VZ,qZ;const y_=Symbol("texture"),w_=Symbol("transform"),mU=Symbol("materials"),W6=Symbol("usage"),J0=Symbol("onUpdate"),d2=Symbol("activeVideo");var Ai;(function(i){i[i.Base=0]="Base",i[i.MetallicRoughness=1]="MetallicRoughness",i[i.Normal=2]="Normal",i[i.Occlusion=3]="Occlusion",i[i.Emissive=4]="Emissive",i[i.Clearcoat=5]="Clearcoat",i[i.ClearcoatRoughness=6]="ClearcoatRoughness",i[i.ClearcoatNormal=7]="ClearcoatNormal",i[i.SheenColor=8]="SheenColor",i[i.SheenRoughness=9]="SheenRoughness",i[i.Transmission=10]="Transmission",i[i.Thickness=11]="Thickness",i[i.Specular=12]="Specular",i[i.SpecularColor=13]="SpecularColor",i[i.Iridescence=14]="Iridescence",i[i.IridescenceThickness=15]="IridescenceThickness",i[i.Anisotropy=16]="Anisotropy"})(Ai||(Ai={}));class dy{constructor(e,t,n,r){this[GZ]=null,this[VZ]={rotation:0,scale:new et(1,1),offset:new et(0,0)},this[qZ]=!1,n&&(this[w_].rotation=n.rotation,this[w_].scale.copy(n.repeat),this[w_].offset.copy(n.offset),this[y_]=new zZ(e,n)),this[J0]=e,this[mU]=r,this[W6]=t}get texture(){return this[y_]}setTexture(e){var t,n;const r=e!=null?e.source[fl]:null,o=(t=this[y_])===null||t===void 0?void 0:t.source[fl];if(o!=null&&o.isVideoTexture?this[d2]=!1:!((n=this[y_])===null||n===void 0)&&n.source.animation&&this[y_].source.animation.removeEventListener("enterFrame",this[J0]),this[y_]=e,r!=null&&r.isVideoTexture){const a=r.image;if(this[d2]=!0,a.requestVideoFrameCallback!=null){const l=()=>{this[d2]&&(this[J0](),a.requestVideoFrameCallback(l))};a.requestVideoFrameCallback(l)}else{const l=()=>{this[d2]&&(this[J0](),requestAnimationFrame(l))};requestAnimationFrame(l)}}else(e==null?void 0:e.source.animation)!=null&&e.source.animation.addEventListener("enterFrame",this[J0]);let s=fi;if(this[mU])for(const a of this[mU]){switch(this[W6]){case Ai.Base:a.map=r;break;case Ai.MetallicRoughness:s=Xn,a.metalnessMap=r,a.roughnessMap=r;break;case Ai.Normal:s=Xn,a.normalMap=r;break;case Ai.Occlusion:s=Xn,a.aoMap=r;break;case Ai.Emissive:a.emissiveMap=r;break;case Ai.Clearcoat:a.clearcoatMap=r;break;case Ai.ClearcoatRoughness:a.clearcoatRoughnessMap=r;break;case Ai.ClearcoatNormal:a.clearcoatNormalMap=r;break;case Ai.SheenColor:a.sheenColorMap=r;break;case Ai.SheenRoughness:a.sheenRoughnessMap=r;break;case Ai.Transmission:a.transmissionMap=r;break;case Ai.Thickness:a.thicknessMap=r;break;case Ai.Specular:a.specularIntensityMap=r;break;case Ai.SpecularColor:a.specularColorMap=r;break;case Ai.Iridescence:a.iridescenceMap=r;break;case Ai.IridescenceThickness:a.iridescenceThicknessMap=r;break;case Ai.Anisotropy:a.anisotropyMap=r;break}a.needsUpdate=!0}r&&(r.colorSpace=s,r.rotation=this[w_].rotation,r.repeat=this[w_].scale,r.offset=this[w_].offset),this[J0]()}}GZ=y_,VZ=w_,qZ=d2;/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=Symbol("threeMaterial"),s1=Symbol("threeMaterials"),j6=Symbol("baseColorTexture"),K6=Symbol("metallicRoughnessTexture");class x_e extends bS{get[s1](){return this[qi]}get[wC](){var e;return(e=this[qi])===null||e===void 0?void 0:e.values().next().value}constructor(e,t){super(e,t);const{map:n,metalnessMap:r}=t.values().next().value;this[j6]=new dy(e,Ai.Base,n,t),this[K6]=new dy(e,Ai.MetallicRoughness,r,t)}get baseColorFactor(){const e=[0,0,0,this[wC].opacity];return this[wC].color.toArray(e),e}get metallicFactor(){return this[wC].metalness}get roughnessFactor(){return this[wC].roughness}get baseColorTexture(){return this[j6]}get metallicRoughnessTexture(){return this[K6]}setBaseColorFactor(e){const t=new ut;e instanceof Array?t.fromArray(e):t.set(e);for(const n of this[s1])n.color.set(t),e instanceof Array&&e.length>3?n.opacity=e[3]:(e=[0,0,0,n.opacity],t.toArray(e));this[Tn]()}setMetallicFactor(e){for(const t of this[s1])t.metalness=e;this[Tn]()}setRoughnessFactor(e){for(const t of this[s1])t.roughness=e;this[Tn]()}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $6,X6;const Y6=Symbol("pbrMetallicRoughness"),Z6=Symbol("normalTexture"),J6=Symbol("occlusionTexture"),eG=Symbol("emissiveTexture"),mr=Symbol("backingThreeMaterial"),tG=Symbol("applyAlphaCutoff"),_U=Symbol("getAlphaMode"),eb=Symbol("lazyLoadGLTFInfo"),vU=Symbol("initialize"),zL=Symbol("getLoadedMaterial"),Nt=Symbol("ensureMaterialIsLoaded"),iG=Symbol("gltfIndex"),p2=Symbol("setActive"),Sy=Symbol("variantIndices"),bU=Symbol("isActive"),nG=Symbol("modelVariants"),yU=Symbol("name"),Vl=Symbol("pbrTextures");class wU extends bS{get[($6=Sy,X6=Vl,mr)](){return this[qi].values().next().value}constructor(e,t,n,r,o,s,a=void 0){super(e,o),this[$6]=new Set,this[X6]=new Map,this[iG]=t,this[bU]=n,this[nG]=r,this[yU]=s,a==null?this[vU]():this[eb]=a}[vU](){const e=this[Tn],t=this[qi];this[Y6]=new x_e(e,t);const{normalMap:n,aoMap:r,emissiveMap:o}=t.values().next().value;this[Z6]=new dy(e,Ai.Normal,n,t),this[J6]=new dy(e,Ai.Occlusion,r,t),this[eG]=new dy(e,Ai.Emissive,o,t);const s=a=>{this[Vl].set(a,new dy(e,a,null,t))};s(Ai.Clearcoat),s(Ai.ClearcoatRoughness),s(Ai.ClearcoatNormal),s(Ai.SheenColor),s(Ai.SheenRoughness),s(Ai.Transmission),s(Ai.Thickness),s(Ai.Specular),s(Ai.SpecularColor),s(Ai.Iridescence),s(Ai.IridescenceThickness),s(Ai.Anisotropy)}async[zL](){if(this[eb]!=null){const e=await this[eb].doLazyLoad();return this[vU](),this[eb]=void 0,this.ensureLoaded=async()=>{},e}return null}colorFromRgb(e){const t=new ut;return e instanceof Array?t.fromArray(e):t.set(e),t}[Nt](){if(this[eb]!=null)throw new Error(`Material "${this.name}" has not been loaded, call 'await
    myMaterial.ensureLoaded()' before using an unloaded material.`)}async ensureLoaded(){await this[zL]()}get isLoaded(){return this[eb]==null}get isActive(){return this[bU]}[p2](e){this[bU]=e}get name(){return this[yU]||""}set name(e){if(this[yU]=e,this[qi]!=null)for(const t of this[qi])t.name=e}get pbrMetallicRoughness(){return this[Nt](),this[Y6]}get normalTexture(){return this[Nt](),this[Z6]}get occlusionTexture(){return this[Nt](),this[J6]}get emissiveTexture(){return this[Nt](),this[eG]}get emissiveFactor(){return this[Nt](),this[mr].emissive.toArray()}get index(){return this[iG]}hasVariant(e){const t=this[nG].get(e);return t!=null&&this[Sy].has(t.index)}setEmissiveFactor(e){this[Nt]();const t=this.colorFromRgb(e);for(const n of this[qi])n.emissive.set(t);this[Tn]()}[_U](){return this[mr].transparent?"BLEND":this[mr].alphaTest>0?"MASK":"OPAQUE"}[tG](){this[Nt]();for(const e of this[qi])this[_U]()==="MASK"?e.alphaTest==null&&(e.alphaTest=.5):e.alphaTest=void 0,e.needsUpdate=!0}setAlphaCutoff(e){this[Nt]();for(const t of this[qi])t.alphaTest=e,t.needsUpdate=!0;this[tG](),this[Tn]()}getAlphaCutoff(){return this[Nt](),this[mr].alphaTest}setDoubleSided(e){this[Nt]();for(const t of this[qi])t.side=e?vo:Pu,t.needsUpdate=!0;this[Tn]()}getDoubleSided(){return this[Nt](),this[mr].side==vo}setAlphaMode(e){this[Nt]();const t=(n,r)=>{n.transparent=r,n.depthWrite=!r};for(const n of this[qi])t(n,e==="BLEND"),e==="MASK"?n.alphaTest=.5:n.alphaTest=void 0,n.needsUpdate=!0;this[Tn]()}getAlphaMode(){return this[Nt](),this[_U]()}get emissiveStrength(){return this[Nt](),this[mr].emissiveIntensity}setEmissiveStrength(e){this[Nt]();for(const t of this[qi])t.emissiveIntensity=e;this[Tn]()}get clearcoatFactor(){return this[Nt](),this[mr].clearcoat}get clearcoatRoughnessFactor(){return this[Nt](),this[mr].clearcoatRoughness}get clearcoatTexture(){return this[Nt](),this[Vl].get(Ai.Clearcoat)}get clearcoatRoughnessTexture(){return this[Nt](),this[Vl].get(Ai.ClearcoatRoughness)}get clearcoatNormalTexture(){return this[Nt](),this[Vl].get(Ai.ClearcoatNormal)}get clearcoatNormalScale(){return this[Nt](),this[mr].clearcoatNormalScale.x}setClearcoatFactor(e){this[Nt]();for(const t of this[qi])t.clearcoat=e;this[Tn]()}setClearcoatRoughnessFactor(e){this[Nt]();for(const t of this[qi])t.clearcoatRoughness=e;this[Tn]()}setClearcoatNormalScale(e){this[Nt]();for(const t of this[qi])t.clearcoatNormalScale=new et(e,e);this[Tn]()}get ior(){return this[Nt](),this[mr].ior}setIor(e){this[Nt]();for(const t of this[qi])t.ior=e;this[Tn]()}get sheenColorFactor(){return this[Nt](),this[mr].sheenColor.toArray()}get sheenColorTexture(){return this[Nt](),this[Vl].get(Ai.SheenColor)}get sheenRoughnessFactor(){return this[Nt](),this[mr].sheenRoughness}get sheenRoughnessTexture(){return this[Nt](),this[Vl].get(Ai.SheenRoughness)}setSheenColorFactor(e){this[Nt]();const t=this.colorFromRgb(e);for(const n of this[qi])n.sheenColor.set(t),n.sheen=1;this[Tn]()}setSheenRoughnessFactor(e){this[Nt]();for(const t of this[qi])t.sheenRoughness=e,t.sheen=1;this[Tn]()}get transmissionFactor(){return this[Nt](),this[mr].transmission}get transmissionTexture(){return this[Nt](),this[Vl].get(Ai.Transmission)}setTransmissionFactor(e){this[Nt]();for(const t of this[qi])t.transmission=e;this[Tn]()}get thicknessFactor(){return this[Nt](),this[mr].thickness}get thicknessTexture(){return this[Nt](),this[Vl].get(Ai.Thickness)}get attenuationDistance(){return this[Nt](),this[mr].attenuationDistance}get attenuationColor(){return this[Nt](),this[mr].attenuationColor.toArray()}setThicknessFactor(e){this[Nt]();for(const t of this[qi])t.thickness=e;this[Tn]()}setAttenuationDistance(e){this[Nt]();for(const t of this[qi])t.attenuationDistance=e;this[Tn]()}setAttenuationColor(e){this[Nt]();const t=this.colorFromRgb(e);for(const n of this[qi])n.attenuationColor.set(t);this[Tn]()}get specularFactor(){return this[Nt](),this[mr].specularIntensity}get specularTexture(){return this[Nt](),this[Vl].get(Ai.Specular)}get specularColorFactor(){return this[Nt](),this[mr].specularColor.toArray()}get specularColorTexture(){return this[Nt](),this[Vl].get(Ai.SheenColor)}setSpecularFactor(e){this[Nt]();for(const t of this[qi])t.specularIntensity=e;this[Tn]()}setSpecularColorFactor(e){this[Nt]();const t=this.colorFromRgb(e);for(const n of this[qi])n.specularColor.set(t);this[Tn]()}get iridescenceFactor(){return this[Nt](),this[mr].iridescence}get iridescenceTexture(){return this[Nt](),this[Vl].get(Ai.Iridescence)}get iridescenceIor(){return this[Nt](),this[mr].iridescenceIOR}get iridescenceThicknessMinimum(){return this[Nt](),this[mr].iridescenceThicknessRange[0]}get iridescenceThicknessMaximum(){return this[Nt](),this[mr].iridescenceThicknessRange[1]}get iridescenceThicknessTexture(){return this[Nt](),this[Vl].get(Ai.IridescenceThickness)}setIridescenceFactor(e){this[Nt]();for(const t of this[qi])t.iridescence=e;this[Tn]()}setIridescenceIor(e){this[Nt]();for(const t of this[qi])t.iridescenceIOR=e;this[Tn]()}setIridescenceThicknessMinimum(e){this[Nt]();for(const t of this[qi])t.iridescenceThicknessRange[0]=e;this[Tn]()}setIridescenceThicknessMaximum(e){this[Nt]();for(const t of this[qi])t.iridescenceThicknessRange[1]=e;this[Tn]()}get anisotropyStrength(){return this[Nt](),this[mr].anisotropy}get anisotropyRotation(){return this[Nt](),this[mr].anisotropyRotation}get anisotropyTexture(){return this[Nt](),this[Vl].get(Ai.Anisotropy)}setAnisotropyStrength(e){this[Nt]();for(const t of this[qi])t.anisotropy=e;this[Tn]()}setAnisotropyRotation(e){this[Nt]();for(const t of this[qi])t.anisotropyRotation=e;this[Tn]()}}let WZ=class{constructor(e){this.name="",this.children=new Array,this.name=e}};class xU extends WZ{constructor(e,t,n,r){super(e.name),this.materials=new Map,this.variantToMaterialMap=new Map,this.initialMaterialIdx=0,this.activeMaterialIdx=0,this.mesh=e;const{gltf:o,threeGLTF:s,threeObjectMap:a}=r;this.parser=s.parser,this.modelVariants=n,this.mesh.userData.variantData=n;const l=a.get(e.material);l.materials!=null?this.initialMaterialIdx=this.activeMaterialIdx=l.materials:console.error(`Primitive (${e.name}) missing initial material reference.`);const c=e.userData.associations||{};if(c.meshes==null){console.error("Mesh is missing primitive index association");return}const d=((o.meshes||[])[c.meshes].primitives||[])[c.primitives];if(d==null){console.error("Mesh primitive definition is missing.");return}if(d.material!=null)this.materials.set(d.material,t[d.material]);else{const p=t.findIndex(g=>g.name==="Default");p>=0?this.materials.set(p,t[p]):console.warn("gltfPrimitive has no material!")}if(d.extensions&&d.extensions.KHR_materials_variants){const p=d.extensions.KHR_materials_variants,v=s.parser.json.extensions.KHR_materials_variants.variants;for(const _ of p.mappings){const b=t[_.material];this.materials.set(_.material,b);for(const x of _.variants){const{name:C}=v[x];this.variantToMaterialMap.set(x,b),b[Sy].add(x),n.has(C)||n.set(C,{name:C,index:x})}}}}async setActiveMaterial(e){const t=this.materials.get(e);if(e!==this.activeMaterialIdx){const n=t[qi],r=await t[zL]();r!=null?this.mesh.material=r:this.mesh.material=n.values().next().value,this.parser.assignFinalMaterial(this.mesh),n.add(this.mesh.material),this.activeMaterialIdx=e}return this.mesh.material}getActiveMaterial(){return this.materials.get(this.activeMaterialIdx)}getMaterial(e){return this.materials.get(e)}async enableVariant(e){if(e==null)return this.setActiveMaterial(this.initialMaterialIdx);if(this.variantToMaterialMap!=null&&this.modelVariants.has(e)){const t=this.modelVariants.get(e);return this.enableVariantHelper(t.index)}return null}async enableVariantHelper(e){if(this.variantToMaterialMap!=null&&e!=null){const t=this.variantToMaterialMap.get(e);if(t!=null)return this.setActiveMaterial(t.index)}return null}async instantiateVariants(){if(this.variantToMaterialMap!=null)for(const e of this.variantToMaterialMap.keys()){const t=this.mesh.userData.variantMaterials.get(e);if(t.material!=null)continue;const n=await this.enableVariantHelper(e);n!=null&&(t.material=n)}}get variantInfo(){return this.variantToMaterialMap}addVariant(e,t){if(!this.ensureVariantIsUnused(t))return!1;this.modelVariants.has(t)||this.modelVariants.set(t,{name:t,index:this.modelVariants.size});const r=this.modelVariants.get(t).index;return e[Sy].add(r),this.variantToMaterialMap.set(r,e),this.materials.set(e.index,e),this.updateVariantUserData(r,e),!0}deleteVariant(e){if(this.variantInfo.has(e)){this.variantInfo.delete(e);const t=this.mesh.userData.variantMaterials;t!=null&&t.delete(e)}}updateVariantUserData(e,t){t[Sy].add(e),this.mesh.userData.variantData=this.modelVariants,this.mesh.userData.variantMaterials=this.mesh.userData.variantMaterials||new Map,this.mesh.userData.variantMaterials.set(e,{material:t[qi].values().next().value,gltfMaterialIndex:t.index})}ensureVariantIsUnused(e){const t=this.modelVariants.get(e);return t!=null&&this.variantInfo.has(t.index)?(console.warn(`Primitive cannot add variant '${e}' for this material, it already exists.`),!1):!0}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rG,oG,sG,aG,lG,cG;const Zm=Symbol("materials"),a1=Symbol("hierarchy"),uG=Symbol("roots"),Hd=Symbol("primitives"),jZ=Symbol("prepareVariantsForExport"),KZ=Symbol("switchVariant"),$Z=Symbol("materialFromPoint"),GL=Symbol("nodeFromPoint"),XZ=Symbol("nodeFromIndex"),Ia=Symbol("variantData"),VL=Symbol("availableVariants"),CU=Symbol("modelOnUpdate"),hG=Symbol("cloneMaterial");class C_e{constructor(e,t,n,r){this.gltf=e,this.gltfElementMap=t,this.mapKey=n,this.doLazyLoad=r}}class B_e{constructor(e,t=()=>{}){this[rG]=new Array,this[oG]=new Array,this[sG]=new Array,this[aG]=new Array,this[lG]=()=>{},this[cG]=new Map,this[CU]=t;const{gltf:n,threeGLTF:r,gltfElementMap:o}=e;for(const[l,c]of n.materials.entries()){const u=o.get(c);if(u!=null)this[Zm].push(new wU(t,l,!0,this[Ia],u,c.name));else{const d=(n.materials||[])[l],p=new Set;o.set(d,p);const g=async()=>{const v=await r.parser.getDependency("material",l);return p.add(v),v};this[Zm].push(new wU(t,l,!1,this[Ia],p,c.name,new C_e(n,o,d,g)))}}const s=new Map,a=new Array;for(const l of r.scene.children)a.push(l);for(;a.length>0;){const l=a.pop();let c=null;l instanceof Fi?(c=new xU(l,this.materials,this[Ia],e),this[Hd].push(c)):c=new WZ(l.name);const u=s.get(l);u!=null?u.children.push(c):this[uG].push(c),this[a1].push(c);for(const h of l.children)a.push(h),s.set(l,c)}}get materials(){return this[Zm]}[(rG=Zm,oG=a1,sG=uG,aG=Hd,lG=CU,cG=Ia,VL)](){const e=Array.from(this[Ia].values());return e.sort((t,n)=>t.index-n.index),e.map(t=>t.name)}getMaterialByName(e){const t=this[Zm].filter(n=>n.name===e);return t.length>0?t[0]:null}[XZ](e,t){const n=this[a1].find(r=>{if(r instanceof xU){const{meshes:o,primitives:s}=r.mesh.userData.associations;if(o==e&&s==t)return!0}return!1});return n??null}[GL](e){return this[a1].find(t=>t instanceof xU&&t.mesh===e.object)}[$Z](e){return this[GL](e).getActiveMaterial()}async[KZ](e){for(const t of this[Hd])await t.enableVariant(e);for(const t of this.materials)t[p2](!1);for(const t of this[Hd])this.materials[t.getActiveMaterial().index][p2](!0)}async[jZ](){const e=new Array;for(const t of this[Hd])e.push(t.instantiateVariants());await Promise.all(e)}[hG](e,t){const n=this.materials[e];n.isLoaded||console.error(`Cloning an unloaded material,
           call 'material.ensureLoaded() before cloning the material.`);const r=n[qi],o=new Set;for(const[a,l]of r.entries()){const c=l.clone();c.name=t+(r.size>1?"_inst"+a:""),o.add(c)}const s=new wU(this[CU],this[Zm].length,!1,this[Ia],o,t);return this[Zm].push(s),s}createMaterialInstanceForVariant(e,t,n,r=!0){let o=null;for(const s of this[Hd]){const a=this[Ia].get(n);a!=null&&s.variantInfo.has(a.index)||s.getMaterial(e)!=null&&(this.hasVariant(n)||this.createVariant(n),o==null&&(o=this[hG](e,t)),s.addVariant(o,n))}if(r&&o!=null){o[p2](!0),this.materials[e][p2](!1);for(const s of this[Hd])s.enableVariant(n)}return o}createVariant(e){this[Ia].has(e)?console.warn(`Variant '${e}'' already exists`):this[Ia].set(e,{name:e,index:this[Ia].size})}hasVariant(e){return this[Ia].has(e)}setMaterialToVariant(e,t){if(this[VL]().find(n=>n===t)==null){console.warn(`Can't add material to '${t}', the variant does not exist.'`);return}if(e<0||e>=this.materials.length){console.error("setMaterialToVariant(): materialIndex is out of bounds.");return}for(const n of this[Hd]){const r=n.getMaterial(e);r!=null&&n.addVariant(r,t)}}updateVariantName(e,t){const n=this[Ia].get(e);n!=null&&(n.name=t,this[Ia].set(t,n),this[Ia].delete(e))}deleteVariant(e){const t=this[Ia].get(e);if(t!=null){for(const n of this.materials)n.hasVariant(e)&&n[Sy].delete(t.index);for(const n of this[Hd])n.deleteVariant(t.index);this[Ia].delete(e)}}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};const $I=Symbol("currentGLTF"),XI=Symbol("originalGltfJson"),x_=Symbol("model"),SU=Symbol("getOnUpdateMethod"),xC=Symbol("buildTexture"),S_e=i=>{var e,t,n;class r extends i{constructor(){super(...arguments),this[e]=void 0,this[t]=null,this[n]=null,this.variantName=null,this.orientation="0 0 0",this.scale="1 1 1"}get model(){return this[x_]}get availableVariants(){return this.model?this.model[VL]():[]}get originalGltfJson(){return this[XI]}[(e=x_,t=$I,n=XI,SU)](){return()=>{this[Ds]()}}[xC](s){return s.colorSpace=fi,s.wrapS=Tl,s.wrapT=Tl,new zZ(this[SU](),s)}async createTexture(s,a="image/png"){const{textureUtils:l}=this[Ln],c=await l.loadImage(s,this.withCredentials);return c.userData.mimeType=a,this[xC](c)}async createLottieTexture(s,a=1){const{textureUtils:l}=this[Ln],c=await l.loadLottie(s,a,this.withCredentials);return this[xC](c)}createVideoTexture(s){const a=document.createElement("video");a.crossOrigin=this.withCredentials?"use-credentials":"anonymous",a.src=s,a.muted=!0,a.playsInline=!0,a.loop=!0,a.play();const l=new HX(a);return this[xC](l)}createCanvasTexture(){const s=document.createElement("canvas"),a=new VX(s);return this[xC](a)}async updated(s){if(super.updated(s),s.has("variantName")){const a=this[gv].beginActivity("variant-update");a(.1);const l=this[x_],{variantName:c}=this;l!=null&&(await l[KZ](c),this[Ds](),this.dispatchEvent(new CustomEvent("variant-applied"))),a(1)}if(s.has("orientation")||s.has("scale")){if(!this.loaded)return;const a=this[nt];a.applyTransform(),a.updateBoundingBox(),a.updateShadow(),this[Ln].arRenderer.onUpdateScene(),this[Ds]()}}[GA](){super[GA]();const{currentGLTF:s}=this[nt];if(s!=null){const{correlatedSceneGraph:a}=s;a!=null&&s!==this[$I]&&(this[x_]=new B_e(a,this[SU]()),this[XI]=JSON.parse(JSON.stringify(a.gltf))),"variants"in s.userData&&this.requestUpdate("variantName")}this[$I]=s}async exportScene(s){const a=this[nt];return new Promise(async(l,c)=>{const u={binary:!0,onlyVisible:!0,maxTextureSize:1/0,includeCustomExtensions:!1,forceIndices:!1};Object.assign(u,s),u.animations=a.animations,u.truncateDrawRange=!0;const h=a.shadow;let d=!1;h!=null&&(d=h.visible,h.visible=!1),await this[x_][jZ](),new v5().register(g=>new Wge(g)).parse(a.model,g=>l(new Blob([u.binary?g:JSON.stringify(g)],{type:u.binary?"application/octet-stream":"application/json"})),()=>c("glTF export failed"),u),h!=null&&(h.visible=d)})}materialFromPoint(s,a){const l=this[x_];if(l==null)return null;const c=this[nt],u=c.getNDC(s,a),h=c.hitFromPoint(u);return h==null||h.face==null?null:l[$Z](h)}}return BU([oi({type:String,attribute:"variant-name"})],r.prototype,"variantName",void 0),BU([oi({type:String,attribute:"orientation"})],r.prototype,"orientation",void 0),BU([oi({type:String,attribute:"scale"})],r.prototype,"scale",void 0),r};/* @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_e extends Fi{constructor(){super(void 0,new ns({depthWrite:!1})),this.height=0,this.radius=0,this.resolution=0,this.userData.noHit=!0}get map(){return this.material.map}set map(e){this.material.map=e}isUsable(){return this.height>0&&this.radius>0&&this.geometry!=null&&this.map!=null}updateGeometry(e=this.height,t=this.radius,n=128){(e!=this.height||t!=this.radius||n!=this.resolution)&&(this.height=e,this.radius=t,this.resolution=n,e>0&&t>0&&(this.geometry.dispose(),this.geometry=T_e(e,t,n)))}}function T_e(i,e,t){const n=new gw(e,2*t,t);n.scale(1,1,-1);const r=n.getAttribute("position"),o=new he;for(let s=0;s<r.count;++s)if(o.fromBufferAttribute(r,s),o.y<0){const a=-i*3/2,l=o.y<a?-i/o.y:1-o.y*o.y/(3*a*a);o.multiplyScalar(l),o.toArray(r.array,3*s)}return r.needsUpdate=!0,n}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new he,EU=new he,TU=new he,c1=new pi,AG=new Ha,dG=new Mn;class YZ extends yge{constructor(e){super(document.createElement("div")),this.normal=new he(0,1,0),this.initialized=!1,this.referenceCount=1,this.pivot=document.createElement("div"),this.slot=document.createElement("slot"),this.element.classList.add("annotation-wrapper"),this.slot.name=e.name,this.element.appendChild(this.pivot),this.pivot.appendChild(this.slot),this.updatePosition(e.position),this.updateNormal(e.normal),this.surface=e.surface}get facingCamera(){return!this.element.classList.contains("hide")}show(){(!this.facingCamera||!this.initialized)&&this.updateVisibility(!0)}hide(){(this.facingCamera||!this.initialized)&&this.updateVisibility(!1)}increment(){this.referenceCount++}decrement(){return this.referenceCount>0&&--this.referenceCount,this.referenceCount===0}updatePosition(e){if(e==null)return;const t=mp(e)[0].terms;for(let n=0;n<3;++n)this.position.setComponent(n,LA(t[n]).number);this.updateMatrixWorld()}updateNormal(e){if(e==null)return;const t=mp(e)[0].terms;for(let n=0;n<3;++n)this.normal.setComponent(n,t[n].number)}updateSurface(){const{mesh:e,tri:t,bary:n}=this;if(e==null||t==null||n==null)return;e.getVertexPosition(t.x,l1),e.getVertexPosition(t.y,EU),e.getVertexPosition(t.z,TU),l1.toArray(c1.elements,0),EU.toArray(c1.elements,3),TU.toArray(c1.elements,6),this.position.copy(n).applyMatrix3(c1);const r=this.parent;r.worldToLocal(e.localToWorld(this.position)),AG.set(l1,EU,TU),AG.getNormal(this.normal).transformDirection(e.matrixWorld);const o=r.parent;dG.setFromAxisAngle(l1.set(0,1,0),-o.rotation.y),this.normal.applyQuaternion(dG)}orient(e){this.pivot.style.transform=`rotate(${e}rad)`}updateVisibility(e){this.element.classList.toggle("hide",!e),this.slot.assignedNodes().forEach(t=>{if(t.nodeType!==Node.ELEMENT_NODE)return;const n=t,r=n.dataset.visibilityAttribute;if(r!=null){const o=`data-${r}`;n.toggleAttribute(o,e)}n.dispatchEvent(new CustomEvent("hotspot-visibility",{detail:{visible:e}}))}),this.initialized=!0}}const I_e={name:"HorizontalBlurShader",uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform float h;

		varying vec2 vUv;

		void main() {

			vec4 sum = vec4( 0.0 );

			sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
			sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
			sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
			sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
			sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
			sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
			sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
			sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

			gl_FragColor = sum;

		}`},M_e={name:"VerticalBlurShader",uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform float v;

		varying vec2 vUv;

		void main() {

			vec4 sum = vec4( 0.0 );

			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

			gl_FragColor = sum;

		}`};function pG(i,e,t){return(1-t)*i+t*e}/* @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=9,R_e=6,IU=2,k_e=.3;class F_e extends Si{constructor(e,t,n){super(),this.camera=new nc,this.renderTarget=null,this.renderTargetBlur=null,this.depthMaterial=new _S,this.horizontalBlurMaterial=new qa(I_e),this.verticalBlurMaterial=new qa(M_e),this.intensity=0,this.softness=1,this.boundingBox=new vr,this.size=new he,this.maxDimension=0,this.isAnimated=!1,this.needsUpdate=!1;const{camera:r}=this;r.rotation.x=Math.PI/2,r.left=-.5,r.right=.5,r.bottom=-.5,r.top=.5,this.add(r);const o=new sc,s=new ns({opacity:1,transparent:!0,side:Us});this.floor=new Fi(o,s),this.floor.userData.noHit=!0,r.add(this.floor),this.blurPlane=new Fi(o),this.blurPlane.visible=!1,r.add(this.blurPlane),e.target.add(this),this.depthMaterial.onBeforeCompile=function(a){a.fragmentShader=a.fragmentShader.replace("gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );","gl_FragColor = vec4( vec3( 0.0 ), ( 1.0 - fragCoordZ ) * opacity );")},this.depthMaterial.side=vo,this.horizontalBlurMaterial.depthTest=!1,this.verticalBlurMaterial.depthTest=!1,this.setScene(e,t,n)}setScene(e,t,n){const{boundingBox:r,size:o,rotation:s,position:a}=this;if(this.isAnimated=e.animationNames.length>0,this.boundingBox.copy(e.boundingBox),this.size.copy(e.size),this.maxDimension=Math.max(o.x,o.y,o.z)*(this.isAnimated?IU:1),this.boundingBox.getCenter(a),n==="back"){const{min:l,max:c}=r;[l.y,l.z]=[l.z,l.y],[c.y,c.z]=[c.z,c.y],[o.y,o.z]=[o.z,o.y],s.x=Math.PI/2,s.y=Math.PI}else s.x=0,s.y=0;if(this.isAnimated){const l=r.min.y,c=r.max.y;o.y=this.maxDimension,r.expandByVector(o.subScalar(this.maxDimension).multiplyScalar(-.5)),r.min.y=l,r.max.y=c,o.set(this.maxDimension,c-l,this.maxDimension)}n==="bottom"?a.y=r.min.y:a.z=r.min.y,this.setSoftness(t)}setSoftness(e){this.softness=e;const{size:t,camera:n}=this,r=this.isAnimated?IU:1,o=r*Math.pow(2,fG-e*(fG-R_e));this.setMapSize(o);const s=t.y/2,a=t.y*r;n.near=0,n.far=pG(a,s,e),this.depthMaterial.opacity=1/e,n.updateProjectionMatrix(),this.setIntensity(this.intensity),this.setOffset(0)}setMapSize(e){const{size:t}=this;this.isAnimated&&(e*=IU);const n=Math.floor(t.x>t.z?e:e*t.x/t.z),r=Math.floor(t.x>t.z?e*t.z/t.x:e),o=10,s=o+n,a=o+r;if(this.renderTarget!=null&&(this.renderTarget.width!==s||this.renderTarget.height!==a)&&(this.renderTarget.dispose(),this.renderTarget=null,this.renderTargetBlur.dispose(),this.renderTargetBlur=null),this.renderTarget==null){const l={format:On};this.renderTarget=new Il(s,a,l),this.renderTargetBlur=new Il(s,a,l),this.floor.material.map=this.renderTarget.texture}this.camera.scale.set(t.x*(1+o/n),t.z*(1+o/r),1),this.needsUpdate=!0}setIntensity(e){this.intensity=e,e>0?(this.visible=!0,this.floor.visible=!0,this.floor.material.opacity=e*pG(k_e,1,this.softness*this.softness)):(this.visible=!1,this.floor.visible=!1)}getIntensity(){return this.intensity}setOffset(e){this.floor.position.z=-e+this.gap()}gap(){return .001*this.maxDimension}render(e,t){t.overrideMaterial=this.depthMaterial;const n=e.getClearAlpha();e.setClearAlpha(0),this.floor.visible=!1;const r=e.xr.enabled;e.xr.enabled=!1;const o=e.getRenderTarget();e.setRenderTarget(this.renderTarget),e.render(t,this.camera),t.overrideMaterial=null,this.floor.visible=!0,this.blurShadow(e),e.xr.enabled=r,e.setRenderTarget(o),e.setClearAlpha(n)}blurShadow(e){const{camera:t,horizontalBlurMaterial:n,verticalBlurMaterial:r,renderTarget:o,renderTargetBlur:s,blurPlane:a}=this;a.visible=!0,a.material=n,n.uniforms.h.value=1/this.renderTarget.width,n.uniforms.tDiffuse.value=this.renderTarget.texture,e.setRenderTarget(s),e.render(a,t),a.material=r,r.uniforms.v.value=1/this.renderTarget.height,r.uniforms.tDiffuse.value=this.renderTargetBlur.texture,e.setRenderTarget(o),e.render(a,t),a.visible=!1}dispose(){this.renderTarget!=null&&this.renderTarget.dispose(),this.renderTargetBlur!=null&&this.renderTargetBlur.dispose(),this.depthMaterial.dispose(),this.horizontalBlurMaterial.dispose(),this.verticalBlurMaterial.dispose(),this.floor.material.dispose(),this.floor.geometry.dispose(),this.blurPlane.geometry.dispose(),this.removeFromParent()}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG=10,MU=100,RU=new he,mG=new he,_G=new he,u1=new oN,D_e=new he,CC=new et;class U_e extends Lu{constructor({canvas:e,element:t,width:n,height:r}){super(),this.annotationRenderer=new wge,this.effectRenderer=null,this.schemaElement=document.createElement("script"),this.width=1,this.height=1,this.aspect=1,this.scaleStep=0,this.renderCount=0,this.externalRenderer=null,this.appendedAnimations=[],this.markedAnimations=[],this.camera=new Kn(45,1,.1,100),this.xrCamera=null,this.url=null,this.pivot=new Si,this.target=new Si,this.animationNames=[],this.boundingBox=new vr,this.boundingSphere=new Oo,this.size=new he,this.idealAspect=0,this.framedFoVDeg=0,this.shadow=null,this.shadowIntensity=0,this.shadowSoftness=1,this.bakedShadows=new Set,this.exposure=1,this.toneMapping=Ry,this.canScale=!0,this.isDirty=!1,this.goalTarget=new he,this.targetDamperX=new bl,this.targetDamperY=new bl,this.targetDamperZ=new bl,this._currentGLTF=null,this._model=null,this.cancelPendingSourceChange=null,this.animationsByName=new Map,this.currentAnimationAction=null,this.groundedSkybox=new E_e,this.name="ModelScene",this.element=t,this.canvas=e,this.camera=new Kn(45,1,.1,100),this.camera.name="MainCamera",this.add(this.pivot),this.pivot.name="Pivot",this.pivot.add(this.target),this.setSize(n,r),this.target.name="Target",this.mixer=new wY(this.target);const{domElement:o}=this.annotationRenderer,{style:s}=o;s.display="none",s.pointerEvents="none",s.position="absolute",s.top="0",this.element.shadowRoot.querySelector(".default").appendChild(o),this.schemaElement.setAttribute("type","application/ld+json")}get context(){return this.canvas.getContext("2d")}getCamera(){return this.xrCamera!=null?this.xrCamera:this.camera}queueRender(){this.isDirty=!0}shouldRender(){return this.isDirty}hasRendered(){this.isDirty=!1}forceRescale(){this.scaleStep=-1,this.queueRender()}async setObject(e){this.reset(),this._model=e,this.target.add(e),await this.setupScene()}async setSource(e,t=()=>{}){if(!e||e===this.url){t(1);return}if(this.reset(),this.url=e,this.externalRenderer!=null){const a=await this.externalRenderer.load(t);this.boundingSphere.radius=a.framedRadius,this.idealAspect=a.fieldOfViewAspect;return}this.cancelPendingSourceChange!=null&&(this.cancelPendingSourceChange(),this.cancelPendingSourceChange=null);let n;try{n=await new Promise(async(a,l)=>{this.cancelPendingSourceChange=()=>l();try{const c=await this.element[Ln].loader.load(e,this.element,t);a(c)}catch(c){l(c)}})}catch(a){if(a==null)return;throw a}this.cancelPendingSourceChange=null,this.reset(),this.url=e,this._currentGLTF=n,n!=null&&(this._model=n.scene,this.target.add(n.scene));const{animations:r}=n,o=new Map,s=[];for(const a of r)o.set(a.name,a),s.push(a.name);this.animations=r,this.animationsByName=o,this.animationNames=s,await this.setupScene()}async setupScene(){this.applyTransform(),this.updateBoundingBox(),await this.updateFraming(),this.updateShadow(),this.setShadowIntensity(this.shadowIntensity),this.setGroundedSkybox()}reset(){this.url=null,this.renderCount=0,this.queueRender(),this.shadow!=null&&this.shadow.setIntensity(0),this.bakedShadows.clear();const{_model:e}=this;e!=null&&(e.removeFromParent(),this._model=null);const t=this._currentGLTF;t!=null&&(t.dispose(),this._currentGLTF=null),this.currentAnimationAction!=null&&(this.currentAnimationAction.stop(),this.currentAnimationAction=null),this.mixer.stopAllAction(),this.mixer.uncacheRoot(this)}dispose(){this.reset(),this.shadow!=null&&(this.shadow.dispose(),this.shadow=null),this.element[$I]=null,this.element[XI]=null,this.element[x_]=null}get currentGLTF(){return this._currentGLTF}setSize(e,t){if(!(this.width===e&&this.height===t)){if(this.width=Math.max(e,1),this.height=Math.max(t,1),this.annotationRenderer.setSize(e,t),this.aspect=this.width/this.height,this.externalRenderer!=null){const n=window.devicePixelRatio;this.externalRenderer.resize(e*n,t*n)}this.queueRender()}}markBakedShadow(e){e.userData.noHit=!0,this.bakedShadows.add(e)}unmarkBakedShadow(e){e.userData.noHit=!1,e.visible=!0,this.bakedShadows.delete(e),this.boundingBox.expandByObject(e)}findBakedShadows(e){const t=new vr;e.traverse(n=>{const r=n;if(!r.material||!r.material.transparent)return;t.setFromObject(r);const s=t.getSize(D_e),a=Math.min(s.x,s.y,s.z);Math.max(s.x,s.y,s.z)<MU*a||this.markBakedShadow(r)})}checkBakedShadows(){const{min:e,max:t}=this.boundingBox,n=new vr;this.boundingBox.getSize(this.size);for(const r of this.bakedShadows)n.setFromObject(r),!(n.min.y<e.y+this.size.y/MU&&n.min.x<=e.x&&n.max.x>=t.x&&n.min.z<=e.z&&n.max.z>=t.z)&&(n.min.z<e.z+this.size.z/MU&&n.min.x<=e.x&&n.max.x>=t.x&&n.min.y<=e.y&&n.max.y>=t.y||this.unmarkBakedShadow(r))}applyTransform(){const{model:e}=this;if(e==null)return;const t=mp(this.element.orientation)[0].terms,n=LA(t[0]).number,r=LA(t[1]).number,o=LA(t[2]).number;e.quaternion.setFromEuler(new io(r,o,n,"YXZ"));const s=mp(this.element.scale)[0].terms;e.scale.set(s[0].number,s[1].number,s[2].number)}updateBoundingBox(){const{model:e}=this;if(e==null)return;this.target.remove(e),this.findBakedShadows(e);const t=(n,r)=>n.expandByPoint(r);this.setBakedShadowVisibility(!1),this.boundingBox=KT(e,t,new vr),this.boundingBox.isEmpty()&&(this.setBakedShadowVisibility(!0),this.bakedShadows.forEach(n=>this.unmarkBakedShadow(n)),this.boundingBox=KT(e,t,new vr)),this.checkBakedShadows(),this.setBakedShadowVisibility(),this.boundingBox.getSize(this.size),this.target.add(e)}async updateFraming(){const{model:e}=this;if(e==null)return;this.target.remove(e),this.setBakedShadowVisibility(!1);const{center:t}=this.boundingSphere;this.element.requestUpdate("cameraTarget"),await this.element.updateComplete,t.copy(this.getTarget());const n=(o,s)=>Math.max(o,t.distanceToSquared(s));this.boundingSphere.radius=Math.sqrt(KT(e,n,0));const r=(o,s)=>{s.sub(t);const a=Math.sqrt(s.x*s.x+s.z*s.z);return Math.max(o,a/(this.idealCameraDistance()-Math.abs(s.y)))};this.idealAspect=KT(e,r,0)/Math.tan(this.framedFoVDeg/2*Math.PI/180),this.setBakedShadowVisibility(),this.target.add(e)}setBakedShadowVisibility(e=this.shadowIntensity<=0){for(const t of this.bakedShadows)t.visible=e}idealCameraDistance(){const e=this.framedFoVDeg/2*Math.PI/180;return this.boundingSphere.radius/Math.sin(e)}adjustedFoV(e){const t=Math.tan(e/2*Math.PI/180)*Math.max(1,this.idealAspect/this.aspect);return 2*Math.atan(t)*180/Math.PI}getNDC(e,t){if(this.xrCamera!=null)CC.set(e/window.screen.width,t/window.screen.height);else{const n=this.element.getBoundingClientRect();CC.set((e-n.x)/this.width,(t-n.y)/this.height)}return CC.multiplyScalar(2).subScalar(1),CC.y*=-1,CC}getSize(){return{width:this.width,height:this.height}}setEnvironmentAndSkybox(e,t){this.element[Ln].arRenderer.presentedScene!==this&&(this.environment=e,this.setBackground(t),this.queueRender())}setBackground(e){this.groundedSkybox.map=e,this.groundedSkybox.isUsable()?(this.target.add(this.groundedSkybox),this.background=null):(this.target.remove(this.groundedSkybox),this.background=e)}farRadius(){return this.boundingSphere.radius*(this.groundedSkybox.parent!=null?gG:1)}setGroundedSkybox(){const e=mp(this.element.skyboxHeight)[0].terms[0],t=LA(e).number,n=gG*this.boundingSphere.radius;this.groundedSkybox.updateGeometry(t,n),this.groundedSkybox.position.y=t-(this.shadow?2*this.shadow.gap():0),this.setBackground(this.groundedSkybox.map)}setTarget(e,t,n){this.goalTarget.set(-e,-t,-n)}setTargetDamperDecayTime(e){this.targetDamperX.setDecayTime(e),this.targetDamperY.setDecayTime(e),this.targetDamperZ.setDecayTime(e)}getTarget(){return this.goalTarget.clone().multiplyScalar(-1)}getDynamicTarget(){return this.target.position.clone().multiplyScalar(-1)}jumpToGoal(){this.updateTarget(vZ)}updateTarget(e){const t=this.goalTarget,n=this.target.position;if(t.equals(n))return!1;{const r=this.boundingSphere.radius/10;let{x:o,y:s,z:a}=n;return o=this.targetDamperX.update(o,t.x,e,r),s=this.targetDamperY.update(s,t.y,e,r),a=this.targetDamperZ.update(a,t.z,e,r),this.groundedSkybox.position.x=-o,this.groundedSkybox.position.z=-a,this.target.position.set(o,s,a),this.target.updateMatrixWorld(),this.queueRender(),!0}}pointTowards(e,t){const{x:n,z:r}=this.position;this.yaw=Math.atan2(e-n,t-r)}get model(){return this._model}set yaw(e){this.pivot.rotation.y=e,this.groundedSkybox.rotation.y=-e,this.queueRender()}get yaw(){return this.pivot.rotation.y}set animationTime(e){this.mixer.setTime(e),this.queueShadowRender()}get animationTime(){if(this.currentAnimationAction!=null){const e=Math.max(this.currentAnimationAction._loopCount,0);return this.currentAnimationAction.loop===gB&&(e&1)===1?this.duration-this.currentAnimationAction.time:this.currentAnimationAction.time}return 0}set animationTimeScale(e){this.mixer.timeScale=e}get animationTimeScale(){return this.mixer.timeScale}get duration(){return this.currentAnimationAction!=null&&this.currentAnimationAction.getClip()?this.currentAnimationAction.getClip().duration:0}get hasActiveAnimation(){return this.currentAnimationAction!=null}playAnimation(e=null,t=0,n=j_,r=1/0){if(this._currentGLTF==null)return;const{animations:o}=this;if(o==null||o.length===0)return;let s=null;if(e!=null&&(s=this.animationsByName.get(e),s==null)){const a=parseInt(e);!isNaN(a)&&a>=0&&a<o.length&&(s=o[a])}s==null&&(s=o[0]);try{const{currentAnimationAction:a}=this,l=this.mixer.clipAction(s,this);l.timeScale!=this.element.timeScale&&(l.timeScale=this.element.timeScale),this.currentAnimationAction=l,this.element.paused?this.mixer.stopAllAction():(l.paused=!1,a!=null&&l!==a?l.crossFadeFrom(a,t,!1):this.animationTimeScale>0&&this.animationTime==this.duration&&(this.animationTime=0)),l.setLoop(n,r),l.enabled=!0,l.clampWhenFinished=!0,l.play()}catch(a){console.error(a)}}appendAnimation(e="",t=j_,n=1/0,r=1,o=1,s=!1,a=!1,l=!0,c=null,u=!1){if(this._currentGLTF==null||e===this.element.animationName)return;const{animations:h}=this;if(h==null||h.length===0)return;let d=null;const p=1.25;if(e&&(d=this.animationsByName.get(e)),d!=null){typeof n=="string"?isNaN(n)?(n=1/0,console.warn("Invalid repetitionCount value, repetitionCount is set to Infinity")):n=Math.max(parseInt(n),1):typeof n=="number"&&n<1&&(n=1),n===1&&t!==Uy&&(t=Uy),typeof r=="string"&&(isNaN(r)?(r=1,console.warn("Invalid weight value, weight is set to 1")):r=parseFloat(r)),typeof o=="string"&&(isNaN(o)?(o=1,console.warn("Invalid timeScale value, timeScale is set to 1")):o=parseFloat(o)),typeof s=="string"&&(s.toLowerCase().trim()==="true"?s=!0:s.toLowerCase().trim()==="false"?s=!1:isNaN(s)?(s=!1,console.warn("Invalid fade value, fade is set to false")):s=parseFloat(s)),typeof a=="string"&&(a.toLowerCase().trim()==="true"?a=!0:a.toLowerCase().trim()==="false"?a=!1:isNaN(a)?(a=!1,console.warn("Invalid warp value, warp is set to false")):a=parseFloat(a)),typeof c=="string"&&(isNaN(c)||(c=parseFloat(c)));try{const g=this.mixer.existingAction(d)||this.mixer.clipAction(d,this),v=g.timeScale;u&&this.appendedAnimations.includes(e)&&(this.markedAnimations.map(_=>_.name).includes(e)||this.markedAnimations.push({name:e,loopMode:t,repetitionCount:n})),typeof c=="number"&&(g.time=Math.min(Math.max(c,0),d.duration)),typeof s=="boolean"&&s?g.fadeIn(p):typeof s=="number"?g.fadeIn(Math.max(s,0)):r>=0&&(g.weight=Math.min(Math.max(r,0),1)),typeof a=="boolean"&&a?g.warp(l?v:0,o,p):typeof a=="number"?g.warp(l?v:0,o,Math.max(a,0)):g.timeScale=o,g.isRunning()||(g.time==d.duration&&g.stop(),g.setLoop(t,n),g.paused=!1,g.enabled=!0,g.clampWhenFinished=!0,g.play()),this.appendedAnimations.includes(e)||this.element[nt].appendedAnimations.push(e)}catch(g){console.error(g)}}}detachAnimation(e="",t=!0){if(this._currentGLTF==null||e===this.element.animationName)return;const{animations:n}=this;if(n==null||n.length===0)return;let r=null;const o=1.5;if(e&&(r=this.animationsByName.get(e)),r!=null){typeof t=="string"&&(t.toLowerCase().trim()==="true"?t=!0:t.toLowerCase().trim()==="false"?t=!1:isNaN(t)?(t=!0,console.warn("Invalid fade value, fade is set to true")):t=parseFloat(t));try{const s=this.mixer.existingAction(r)||this.mixer.clipAction(r,this);typeof t=="boolean"&&t?s.fadeOut(o):typeof t=="number"?s.fadeOut(Math.max(t,0)):s.stop();const a=this.element[nt].appendedAnimations.filter(l=>l!==e);this.element[nt].appendedAnimations=a}catch(s){console.error(s)}}}updateAnimationLoop(e="",t=j_,n=1/0){if(this._currentGLTF==null||e===this.element.animationName)return;const{animations:r}=this;if(r==null||r.length===0)return;let o=null;if(e&&(o=this.animationsByName.get(e)),o!=null)try{const s=this.mixer.existingAction(o)||this.mixer.clipAction(o,this);s.stop(),s.setLoop(t,n),s.play()}catch(s){console.error(s)}}stopAnimation(){this.currentAnimationAction=null,this.mixer.stopAllAction()}updateAnimation(e){this.mixer.update(e),this.queueShadowRender()}subscribeMixerEvent(e,t){this.mixer.addEventListener(e,t)}updateShadow(){const e=this.shadow;if(e!=null){const t=this.element.arPlacement==="wall"?"back":"bottom";e.setScene(this,this.shadowSoftness,t),e.needsUpdate=!0}}renderShadow(e){const t=this.shadow;t!=null&&t.needsUpdate==!0&&(t.render(e,this),t.needsUpdate=!1)}queueShadowRender(){this.shadow!=null&&(this.shadow.needsUpdate=!0)}setShadowIntensity(e){if(this.shadowIntensity=e,this._currentGLTF!=null&&(this.setBakedShadowVisibility(),!(e<=0&&this.shadow==null))){if(this.shadow==null){const t=this.element.arPlacement==="wall"?"back":"bottom";this.shadow=new F_e(this,this.shadowSoftness,t)}this.shadow.setIntensity(e)}}setShadowSoftness(e){this.shadowSoftness=e;const t=this.shadow;t!=null&&t.setSoftness(e)}setShadowOffset(e){const t=this.shadow;t!=null&&t.setOffset(e)}getHit(e=this){return u1.intersectObject(e,!0).find(n=>n.object.visible&&!n.object.userData.noHit)}hitFromController(e,t=this){return u1.setFromXRController(e),this.getHit(t)}hitFromPoint(e,t=this){return u1.setFromCamera(e,this.getCamera()),this.getHit(t)}positionAndNormalFromPoint(e,t=this){var n;const r=this.hitFromPoint(e,t);if(r==null)return null;const o=r.point,s=r.face!=null?r.face.normal.clone().applyNormalMatrix(new pi().getNormalMatrix(r.object.matrixWorld)):u1.ray.direction.clone().multiplyScalar(-1),a=(n=r.uv)!==null&&n!==void 0?n:null;return{position:o,normal:s,uv:a}}surfaceFromPoint(e,t=this){const n=this.element.model;if(n==null)return null;const r=this.hitFromPoint(e,t);if(r==null||r.face==null)return null;const o=n[GL](r),{meshes:s,primitives:a}=o.mesh.userData.associations,l=new he,c=new he,u=new he,{a:h,b:d,c:p}=r.face,g=r.object;g.getVertexPosition(h,l),g.getVertexPosition(d,c),g.getVertexPosition(p,u);const v=new Ha(l,c,u),_=new he;return v.getBarycoord(g.worldToLocal(r.point),_),`${s} ${a} ${h} ${d} ${p} ${_.x.toFixed(3)} ${_.y.toFixed(3)} ${_.z.toFixed(3)}`}addHotspot(e){this.target.add(e),this.annotationRenderer.domElement.appendChild(e.element),this.updateSurfaceHotspot(e)}removeHotspot(e){this.target.remove(e)}forHotspots(e){const{children:t}=this.target;for(let n=0,r=t.length;n<r;n++){const o=t[n];o instanceof YZ&&e(o)}}updateSurfaceHotspot(e){if(e.surface==null||this.element.model==null)return;const t=mp(e.surface)[0].terms;if(t.length!=8){console.warn(e.surface+" does not have exactly 8 numbers.");return}const n=this.element.model[XZ](t[0].number,t[1].number);if(n==null){console.warn(e.surface+" does not match a node/primitive in this glTF! Skipping this hotspot.");return}const r=n.mesh.geometry.attributes.position.count,o=new he(t[2].number,t[3].number,t[4].number);if(o.x>=r||o.y>=r||o.z>=r){console.warn(e.surface+" vertex indices out of range in this glTF! Skipping this hotspot.");return}const s=new he(t[5].number,t[6].number,t[7].number);e.mesh=n.mesh,e.tri=o,e.bary=s,e.updateSurface()}animateSurfaceHotspots(){this.element.paused||this.forHotspots(e=>{e.updateSurface()})}updateHotspotsVisibility(e){this.forHotspots(t=>{RU.copy(e),mG.setFromMatrixPosition(t.matrixWorld),RU.sub(mG),_G.copy(t.normal).transformDirection(this.target.matrixWorld),RU.dot(_G)<0?t.hide():t.show()})}orientHotspots(e){this.forHotspots(t=>{t.orient(e)})}setHotspotsVisibility(e){this.forHotspots(t=>{t.visible=e})}updateSchema(e){var t;const{schemaElement:n,element:r}=this,{alt:o,poster:s,iosSrc:a}=r;if(e!=null){const l=[{"@type":"MediaObject",contentUrl:e,encodingFormat:((t=e.split(".").pop())===null||t===void 0?void 0:t.toLowerCase())==="gltf"?"model/gltf+json":"model/gltf-binary"}];a&&l.push({"@type":"MediaObject",contentUrl:a,encodingFormat:"model/vnd.usdz+zip"});const c={"@context":"http://schema.org/","@type":"3DModel",image:s??void 0,name:o??void 0,encoding:l};n.textContent=JSON.stringify(c),document.head.appendChild(n)}else n.parentElement!=null&&n.parentElement.removeChild(n)}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_e extends EventTarget{constructor(){super(...arguments),this.ongoingActivities=new Set,this.totalProgress=0}get ongoingActivityCount(){return this.ongoingActivities.size}beginActivity(e){const t={progress:0,completed:!1};return this.ongoingActivities.add(t),this.ongoingActivityCount===1&&this.announceTotalProgress(t,0,e),n=>{let r;return r=Math.max(DA(n,0,1),t.progress),r!==t.progress&&this.announceTotalProgress(t,r,e),t.progress}}announceTotalProgress(e,t,n){let r=0,o=0;t==1&&(e.completed=!0);for(const l of this.ongoingActivities){const{progress:c}=l;r+=1-c,l.completed&&o++}const s=e.progress;e.progress=t,this.totalProgress+=(t-s)*(1-this.totalProgress)/r;const a=o===this.ongoingActivityCount?1:this.totalProgress;this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:a,reason:n}})),o===this.ongoingActivityCount&&(this.totalProgress=0,this.ongoingActivities.clear())}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gk=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},vG,bG,yG,wG,xG,CG,BG,SG,EG,TG,IG,MG,RG;const L_e=10,O_e=50,Q_e=0,N_e=300,H_e=150,sg=document.createElement("canvas"),kU=Symbol("fallbackResizeHandler"),kG=Symbol("defaultAriaLabel"),h1=Symbol("resizeObserver"),tb=Symbol("clearModelTimeout"),FU=Symbol("onContextLost"),ib=Symbol("loaded"),DU=Symbol("status"),UU=Symbol("onFocus"),PU=Symbol("onBlur"),Jb=Symbol("updateSize"),A1=Symbol("intersectionObserver"),C_=Symbol("isElementInViewport"),w5=Symbol("announceModelVisibility"),py=Symbol("ariaLabel"),qL=Symbol("altDefaulted"),BC=Symbol("statusElement"),x5=Symbol("updateStatus"),f2=Symbol("loadedTime"),Ey=Symbol("updateSource"),FG=Symbol("markLoaded"),YI=Symbol("container"),Cl=Symbol("input"),WL=Symbol("canvas"),nt=Symbol("scene"),Ds=Symbol("needsRender"),zA=Symbol("tick"),GA=Symbol("onModelLoad"),C5=Symbol("onResize"),Ln=Symbol("renderer"),gv=Symbol("progressTracker"),DG=Symbol("getLoaded"),mv=Symbol("getModelIsVisible"),Gy=Symbol("shouldAttemptPreload"),dp=i=>({x:i.x,y:i.y,z:i.z,toString(){return`${this.x}m ${this.y}m ${this.z}m`}}),jL=i=>({u:i.x,v:i.y,toString(){return`${this.u} ${this.v}`}});class yS extends I_{static get is(){return"model-viewer"}static set modelCacheSize(e){ml[$f].evictionThreshold=e}static get modelCacheSize(){return ml[$f].evictionThreshold}static set minimumRenderScale(e){e>1&&console.warn("<model-viewer> minimumRenderScale has been clamped to a maximum value of 1."),e<=0&&console.warn("<model-viewer> minimumRenderScale has been clamped to a minimum value of 0.25."),Dh.singleton.minScale=e}static get minimumRenderScale(){return Dh.singleton.minScale}get loaded(){return this[DG]()}get[(vG=C_,bG=ib,yG=f2,wG=DU,xG=tb,CG=kU,BG=w5,SG=h1,EG=A1,TG=gv,Ln)](){return Dh.singleton}get modelIsVisible(){return this[mv]()}constructor(){super(),this.alt=null,this.src=null,this.withCredentials=!1,this.generateSchema=!1,this[vG]=!1,this[bG]=!1,this[yG]=0,this[wG]="",this[xG]=null,this[CG]=y7(()=>{const r=this.getBoundingClientRect();this[Jb](r)},O_e),this[BG]=y7(r=>{const o=this.modelIsVisible;o!==r&&this.dispatchEvent(new CustomEvent("model-visibility",{detail:{visible:o}}))},Q_e),this[SG]=null,this[EG]=null,this[TG]=new P_e,this[IG]=()=>{this[BC].textContent=this[DU]},this[MG]=()=>{this[BC].textContent=""},this[RG]=r=>{this.dispatchEvent(new CustomEvent("error",{detail:{type:"webglcontextlost",sourceError:r.sourceEvent}}))},this.attachShadow({mode:"open"});const e=this.shadowRoot;Zfe(e),this[YI]=e.querySelector(".container"),this[Cl]=e.querySelector(".userInput"),this[WL]=e.querySelector("canvas"),this[BC]=e.querySelector("#status"),this[kG]=this[Cl].getAttribute("aria-label");let t,n;if(this.isConnected){const r=this.getBoundingClientRect();t=r.width,n=r.height}else t=N_e,n=H_e;this[nt]=new U_e({canvas:this[WL],element:this,width:t,height:n}),Promise.resolve().then(()=>{this[Jb](this.getBoundingClientRect())}),HD&&(this[h1]=new ResizeObserver(r=>{if(!this[Ln].isPresenting)for(let o of r)o.target===this&&this[Jb](o.contentRect)})),zD?this[A1]=new IntersectionObserver(r=>{for(let o of r)if(o.target===this){const s=this.modelIsVisible;this[C_]=o.isIntersecting,this[w5](s),this[C_]&&!this.loaded&&this[Ey]()}},{root:null,rootMargin:"0px",threshold:1e-5}):this[C_]=!0}connectedCallback(){super.connectedCallback&&super.connectedCallback(),HD?this[h1].observe(this):self.addEventListener("resize",this[kU]),zD&&this[A1].observe(this),this.addEventListener("focus",this[UU]),this.addEventListener("blur",this[PU]);const e=this[Ln];e.addEventListener("contextlost",this[FU]),e.registerScene(this[nt]),this[tb]!=null&&(self.clearTimeout(this[tb]),this[tb]=null,this.requestUpdate("src",null))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),HD?this[h1].unobserve(this):self.removeEventListener("resize",this[kU]),zD&&this[A1].unobserve(this),this.removeEventListener("focus",this[UU]),this.removeEventListener("blur",this[PU]);const e=this[Ln];e.removeEventListener("contextlost",this[FU]),e.unregisterScene(this[nt]),this[tb]=self.setTimeout(()=>{this[nt].dispose(),this[tb]=null},L_e)}updated(e){super.updated(e),e.has("src")&&(this.src==null?(this[ib]=!1,this[f2]=0,this[nt].reset()):this.src!==this[nt].url&&(this[ib]=!1,this[f2]=0,this[Ey]())),e.has("alt")&&this[Cl].setAttribute("aria-label",this[py]),e.has("generateSchema")&&(this.generateSchema?this[nt].updateSchema(this.src):this[nt].updateSchema(null))}toDataURL(e,t){return this[Ln].displayCanvas(this[nt]).toDataURL(e,t)}async toBlob(e){const t=e?e.mimeType:void 0,n=e?e.qualityArgument:void 0,r=e?e.idealAspect:void 0,{width:o,height:s,idealAspect:a,aspect:l}=this[nt],{dpr:c,scaleFactor:u}=this[Ln];let h=o*u*c,d=s*u*c,p=0,g=0;if(r===!0)if(a>l){const v=d;d=Math.round(h/a),g=(v-d)/2}else{const v=h;h=Math.round(d*a),p=(v-h)/2}sg.width=h,sg.height=d;try{return new Promise(async(v,_)=>{sg.getContext("2d").drawImage(this[Ln].displayCanvas(this[nt]),p,g,h,d,0,0,h,d),sg.toBlob(b=>{if(!b)return _(new Error("Unable to retrieve canvas blob"));v(b)},t,n)})}finally{this[Jb]({width:o,height:s})}}registerEffectComposer(e){e.setRenderer(this[Ln].threeRenderer),e.setMainCamera(this[nt].getCamera()),e.setMainScene(this[nt]),this[nt].effectRenderer=e}unregisterEffectComposer(){this[nt].effectRenderer=null}registerRenderer(e){this[nt].externalRenderer=e}unregisterRenderer(){this[nt].externalRenderer=null}get[py](){return this[qL]}get[qL](){return this.alt==null||this.alt==="null"?this[kG]:this.alt}[DG](){return this[ib]}[mv](){return this.loaded&&this[C_]}[Gy](){return!!this.src&&this[C_]}[Jb]({width:e,height:t}){e===0||t===0||(this[YI].style.width=`${e}px`,this[YI].style.height=`${t}px`,this[C5]({width:e,height:t}))}[zA](e,t){var n;(n=this[nt].effectRenderer)===null||n===void 0||n.beforeRender(e,t)}[FG](){this[ib]||(this[ib]=!0,this[f2]=performance.now())}[Ds](){this[nt].queueRender()}[GA](){}[x5](e){this[DU]=e;const t=this.getRootNode();t!=null&&t.activeElement===this&&this[BC].textContent!=e&&(this[BC].textContent=e)}[(IG=UU,MG=PU,C5)](e){this[nt].setSize(e.width,e.height)}async[(RG=FU,Ey)](){const e=this[nt];if(this.loaded||!this[Gy]()||this.src===e.url)return;this.generateSchema&&e.updateSchema(this.src),this[x5]("Loading"),e.stopAnimation();const t=this[gv].beginActivity("model-load"),n=this.src;try{const r=e.setSource(n,s=>t(DA(s,0,1)*.95)),o=this[_5]();await Promise.all([r,o]),this[FG](),this[GA](),this.updateComplete.then(()=>{this.dispatchEvent(new CustomEvent("before-render"))}),await new Promise(s=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.dispatchEvent(new CustomEvent("load",{detail:{url:n}})),s()})})})}catch(r){this.dispatchEvent(new CustomEvent("error",{detail:{type:"loadfailure",sourceError:r}}))}finally{t(1)}}}gk([oi({type:String})],yS.prototype,"alt",void 0);gk([oi({type:String})],yS.prototype,"src",void 0);gk([oi({type:Boolean,attribute:"with-credentials"})],yS.prototype,"withCredentials",void 0);gk([oi({type:Boolean,attribute:"generate-schema"})],yS.prototype,"generateSchema",void 0);/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};const UG=1e3,d1=Symbol("changeAnimation"),PG=Symbol("appendAnimation"),LG=Symbol("detachAnimation"),xc=Symbol("paused"),z_e={repetitions:1/0,pingpong:!1},G_e={pingpong:!1,repetitions:null,weight:1,timeScale:1,fade:!1,warp:!1,relativeWarp:!0,time:null},V_e={fade:!0},q_e=i=>{var e;class t extends i{constructor(...r){super(r),this.autoplay=!1,this.animationName=void 0,this.animationCrossfadeDuration=300,this[e]=!0,this[nt].subscribeMixerEvent("loop",o=>{const s=o.action._loopCount,a=o.action._clip.name,l=o.action._clip.uuid,c=this[nt].markedAnimations.find(u=>u.name===a);if(c){this[nt].updateAnimationLoop(c.name,c.loopMode,c.repetitionCount);const u=this[nt].markedAnimations.filter(h=>h.name!==a);this[nt].markedAnimations=u}this.dispatchEvent(new CustomEvent("loop",{detail:{count:s,name:a,uuid:l}}))}),this[nt].subscribeMixerEvent("finished",o=>{if(!this[nt].appendedAnimations.includes(o.action._clip.name))this[xc]=!0;else{const s=this[nt].appendedAnimations.filter(a=>a!==o.action._clip.name);this[nt].appendedAnimations=s}this.dispatchEvent(new CustomEvent("finished"))})}get availableAnimations(){return this.loaded?this[nt].animationNames:[]}get duration(){return this[nt].duration}get paused(){return this[xc]}get currentTime(){return this[nt].animationTime}get appendedAnimations(){return this[nt].appendedAnimations}set currentTime(r){this[nt].animationTime=r,this[Ds]()}get timeScale(){return this[nt].animationTimeScale}set timeScale(r){this[nt].animationTimeScale=r}pause(){this[xc]||(this[xc]=!0,this.dispatchEvent(new CustomEvent("pause")))}play(r){this.availableAnimations.length>0&&(this[xc]=!1,this[d1](r),this.dispatchEvent(new CustomEvent("play")))}appendAnimation(r,o){this.availableAnimations.length>0&&(this[xc]=!1,this[PG](r,o),this.dispatchEvent(new CustomEvent("append-animation")))}detachAnimation(r,o){this.availableAnimations.length>0&&(this[xc]=!1,this[LG](r,o),this.dispatchEvent(new CustomEvent("detach-animation")))}[(e=xc,GA)](){super[GA](),this[xc]=!0,this.animationName!=null&&this[d1](),this.autoplay&&this.play()}[zA](r,o){super[zA](r,o),!(this[xc]||!this[mv]()&&!this[Ln].isPresenting)&&(this[nt].updateAnimation(o/UG),this[Ds]())}updated(r){super.updated(r),r.has("autoplay")&&this.autoplay&&this.play(),r.has("animationName")&&this[d1]()}[d1](r=z_e){var o;const s=(o=r.repetitions)!==null&&o!==void 0?o:1/0,a=r.pingpong?gB:s===1?Uy:j_;this[nt].playAnimation(this.animationName,this.animationCrossfadeDuration/UG,a,s),this[xc]&&(this[nt].updateAnimation(0),this[Ds]())}[PG](r="",o=G_e){var s;const a=(s=o.repetitions)!==null&&s!==void 0?s:1/0,l=o.pingpong?gB:a===1?Uy:j_,c=!!o.repetitions||"pingpong"in o;this[nt].appendAnimation(r||this.animationName,l,a,o.weight,o.timeScale,o.fade,o.warp,o.relativeWarp,o.time,c),this[xc]&&(this[nt].updateAnimation(0),this[Ds]())}[LG](r="",o=V_e){this[nt].detachAnimation(r||this.animationName,o.fade),this[xc]&&(this[nt].updateAnimation(0),this[Ds]())}}return LU([oi({type:Boolean})],t.prototype,"autoplay",void 0),LU([oi({type:String,attribute:"animation-name"})],t.prototype,"animationName",void 0),LU([oi({type:Number,attribute:"animation-crossfade-duration"})],t.prototype,"animationCrossfadeDuration",void 0),t};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=Symbol("hotspotMap"),OU=Symbol("mutationCallback"),SC=Symbol("observer"),QU=Symbol("addHotspot"),OG=Symbol("removeHotspot"),NU=new St,W_e=i=>{var e,t,n;class r extends i{constructor(){super(...arguments),this[e]=new Map,this[t]=s=>{s.forEach(a=>{(!(a instanceof MutationRecord)||a.type==="childList")&&(a.addedNodes.forEach(l=>{this[QU](l)}),a.removedNodes.forEach(l=>{this[OG](l)}),this[Ds]())})},this[n]=new MutationObserver(this[OU])}connectedCallback(){super.connectedCallback();for(let a=0;a<this.children.length;++a)this[QU](this.children[a]);const{ShadyDOM:s}=self;s==null?this[SC].observe(this,{childList:!0}):this[SC]=s.observeChildren(this,this[OU])}disconnectedCallback(){super.disconnectedCallback();const{ShadyDOM:s}=self;s==null?this[SC].disconnect():s.unobserveChildren(this[SC])}[(e=Jm,t=OU,n=SC,GA)](){super[GA]();const s=this[nt];s.forHotspots(a=>{s.updateSurfaceHotspot(a)})}[zA](s,a){super[zA](s,a);const l=this[nt],{annotationRenderer:c}=l,u=l.getCamera();l.shouldRender()&&(l.animateSurfaceHotspots(),l.updateHotspotsVisibility(u.position),c.domElement.style.display="",c.render(l,u))}updateHotspot(s){const a=this[Jm].get(s.name);a!=null&&(a.updatePosition(s.position),a.updateNormal(s.normal),a.surface=s.surface,this[nt].updateSurfaceHotspot(a),this[Ds]())}queryHotspot(s){const a=this[Jm].get(s);if(a==null)return null;const l=dp(a.position),c=dp(a.normal),u=a.facingCamera,h=this[nt],d=h.getCamera(),p=new he;p.setFromMatrixPosition(a.matrixWorld),p.project(d);const g=h.width/2,v=h.height/2;p.x=p.x*g+g,p.y=-(p.y*v)+v;const _=dp(new he(p.x,p.y,p.z));return!Number.isFinite(_.x)||!Number.isFinite(_.y)?null:{position:l,normal:c,canvasPosition:_,facingCamera:u}}positionAndNormalFromPoint(s,a){const l=this[nt],c=l.getNDC(s,a),u=l.positionAndNormalFromPoint(c);if(u==null)return null;NU.copy(l.target.matrixWorld).invert();const h=dp(u.position.applyMatrix4(NU)),d=dp(u.normal.transformDirection(NU));let p=null;return u.uv!=null&&(p=jL(u.uv)),{position:h,normal:d,uv:p}}surfaceFromPoint(s,a){const l=this[nt],c=l.getNDC(s,a);return l.surfaceFromPoint(c)}[QU](s){if(!(s instanceof HTMLElement&&s.slot.indexOf("hotspot")===0))return;let a=this[Jm].get(s.slot);a!=null?a.increment():(a=new YZ({name:s.slot,position:s.dataset.position,normal:s.dataset.normal,surface:s.dataset.surface}),this[Jm].set(s.slot,a),this[nt].addHotspot(a)),this[nt].queueRender()}[OG](s){if(!(s instanceof HTMLElement))return;const a=this[Jm].get(s.slot);a&&(a.decrement()&&(this[nt].removeHotspot(a),this[Jm].delete(s.slot)),this[nt].queueRender())}}return r};class j_e{constructor(){this.textureUtils=null}setTextureUtils(e){this.textureUtils=e}parse(e,t,n,r){this.parseAsync(e,r).then(t).catch(n)}async parseAsync(e,t={}){t=Object.assign({ar:{anchoring:{type:"plane"},planeAnchoring:{alignment:"horizontal"}},includeAnchoringProperties:!0,quickLookCompatible:!1,maxTextureSize:1024},t);const n={},r="model.usda";n[r]=null;let o=ZZ();o+=$_e(t);const s={},a={};e.traverseVisible(c=>{if(c.isMesh){const u=c.geometry,h=c.material;if(h.isMeshStandardMaterial){const d="geometries/Geometry_"+u.id+".usda";if(!(d in n)){const p=J_e(u);n[d]=Y_e(p)}h.uuid in s||(s[h.uuid]=h),o+=Z_e(c,u,h)}else console.warn("THREE.USDZExporter: Unsupported material type (USDZ only supports MeshStandardMaterial)",c)}else c.isCamera&&(o+=lve(c))}),o+=X_e(),o+=ove(s,a,t.quickLookCompatible),n[r]=f5(o),o=null;for(const c in a){let u=a[c];if(u.isCompressedTexture===!0){if(this.textureUtils===null)throw new Error("THREE.USDZExporter: setTextureUtils() must be called to process compressed textures.");u=await this.textureUtils.decompress(u)}const h=K_e(u.image,u.flipY,t.maxTextureSize),d=await new Promise(p=>h.toBlob(p,"image/png",1));n[`textures/Texture_${c}.png`]=new Uint8Array(await d.arrayBuffer())}let l=0;for(const c in n){const u=n[c],h=34+c.length;l+=h;const d=l&63;if(d!==4){const p=64-d,g=new Uint8Array(p);n[c]=[u,{extra:{12345:g}}]}l=u.length}return tpe(n,{level:0})}}function K_e(i,e,t){if(typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas||typeof ImageBitmap<"u"&&i instanceof ImageBitmap){const n=t/Math.max(i.width,i.height),r=document.createElement("canvas");r.width=i.width*Math.min(1,n),r.height=i.height*Math.min(1,n);const o=r.getContext("2d");return e===!0&&(o.translate(0,r.height),o.scale(1,-1)),o.drawImage(i,0,0,r.width,r.height),r}else throw new Error("THREE.USDZExporter: No valid image data found. Unable to process texture.")}const Oa=7;function ZZ(){return`#usda 1.0
(
	customLayerData = {
		string creator = "Three.js USDZExporter"
	}
	defaultPrim = "Root"
	metersPerUnit = 1
	upAxis = "Y"
)

`}function $_e(i){return`def Xform "Root"
{
	def Scope "Scenes" (
		kind = "sceneLibrary"
	)
	{
		def Xform "Scene" (
			customData = {
				bool preliminary_collidesWithEnvironment = 0
				string sceneName = "Scene"
			}
			sceneName = "Scene"
		)
		{${i.includeAnchoringProperties===!0?`
		token preliminary:anchoring:type = "${i.ar.anchoring.type}"
		token preliminary:planeAnchoring:alignment = "${i.ar.planeAnchoring.alignment}"
	`:""}
`}function X_e(){return`
		}
	}
}

`}function Y_e(i){let e=ZZ();return e+=i,f5(e)}function Z_e(i,e,t){const n="Object_"+i.id,r=JZ(i.matrixWorld);return i.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",i),`def Xform "${n}" (
	prepend references = @./geometries/Geometry_${e.id}.usda@</Geometry>
	prepend apiSchemas = ["MaterialBindingAPI"]
)
{
	matrix4d xformOp:transform = ${r}
	uniform token[] xformOpOrder = ["xformOp:transform"]

	rel material:binding = </Materials/Material_${t.id}>
}

`}function JZ(i){const e=i.elements;return`( ${p1(e,0)}, ${p1(e,4)}, ${p1(e,8)}, ${p1(e,12)} )`}function p1(i,e){return`(${i[e+0]}, ${i[e+1]}, ${i[e+2]}, ${i[e+3]})`}function J_e(i){return`
def "Geometry"
{
${eve(i)}
}
`}function eve(i){const e="Geometry",t=i.attributes,n=t.position.count;return`
	def Mesh "${e}"
	{
		int[] faceVertexCounts = [${tve(i)}]
		int[] faceVertexIndices = [${ive(i)}]
		normal3f[] normals = [${KL(t.normal,n)}] (
			interpolation = "vertex"
		)
		point3f[] points = [${KL(t.position,n)}]
${rve(t)}
		uniform token subdivisionScheme = "none"
	}
`}function tve(i){const e=i.index!==null?i.index.count:i.attributes.position.count;return Array(e/3).fill(3).join(", ")}function ive(i){const e=i.index,t=[];if(e!==null)for(let n=0;n<e.count;n++)t.push(e.getX(n));else{const n=i.attributes.position.count;for(let r=0;r<n;r++)t.push(r)}return t.join(", ")}function KL(i,e){if(i===void 0)return console.warn("USDZExporter: Normals missing."),Array(e).fill("(0, 0, 0)").join(", ");const t=[];for(let n=0;n<i.count;n++){const r=i.getX(n),o=i.getY(n),s=i.getZ(n);t.push(`(${r.toPrecision(Oa)}, ${o.toPrecision(Oa)}, ${s.toPrecision(Oa)})`)}return t.join(", ")}function nve(i){const e=[];for(let t=0;t<i.count;t++){const n=i.getX(t),r=i.getY(t);e.push(`(${n.toPrecision(Oa)}, ${1-r.toPrecision(Oa)})`)}return e.join(", ")}function rve(i){let e="";for(let n=0;n<4;n++){const r=n>0?n:"",o=i["uv"+r];o!==void 0&&(e+=`
		texCoord2f[] primvars:st${r} = [${nve(o)}] (
			interpolation = "vertex"
		)`)}const t=i.color;if(t!==void 0){const n=t.count;e+=`
	color3f[] primvars:displayColor = [${KL(t,n)}] (
		interpolation = "vertex"
		)`}return e}function ove(i,e,t=!1){const n=[];for(const r in i){const o=i[r];n.push(sve(o,e,t))}return`def "Materials"
{
${n.join("")}
}

`}function sve(i,e,t=!1){const n="			",r=[],o=[];function s(a,l,c){const u=a.source.id+"_"+a.flipY;e[u]=a;const h=a.channel>0?"st"+a.channel:"st",d={1e3:"repeat",1001:"clamp",1002:"mirror"},p=a.repeat.clone(),g=a.offset.clone(),v=a.rotation,_=Math.sin(v),b=Math.cos(v);return g.y=1-g.y-p.y,t?(g.x=g.x/p.x,g.y=g.y/p.y,g.x+=_/p.x,g.y+=b-1):(g.x+=_*p.x,g.y+=(1-b)*p.y),`
		def Shader "PrimvarReader_${l}"
		{
			uniform token info:id = "UsdPrimvarReader_float2"
			float2 inputs:fallback = (0.0, 0.0)
			token inputs:varname = "${h}"
			float2 outputs:result
		}

		def Shader "Transform2d_${l}"
		{
			uniform token info:id = "UsdTransform2d"
			token inputs:in.connect = </Materials/Material_${i.id}/PrimvarReader_${l}.outputs:result>
			float inputs:rotation = ${(v*(180/Math.PI)).toFixed(Oa)}
			float2 inputs:scale = ${NG(p)}
			float2 inputs:translation = ${NG(g)}
			float2 outputs:result
		}

		def Shader "Texture_${a.id}_${l}"
		{
			uniform token info:id = "UsdUVTexture"
			asset inputs:file = @textures/Texture_${u}.png@
			float2 inputs:st.connect = </Materials/Material_${i.id}/Transform2d_${l}.outputs:result>
			${c!==void 0?"float4 inputs:scale = "+ave(c):""}
			token inputs:sourceColorSpace = "${a.colorSpace===Fc?"raw":"sRGB"}"
			token inputs:wrapS = "${d[a.wrapS]}"
			token inputs:wrapT = "${d[a.wrapT]}"
			float outputs:r
			float outputs:g
			float outputs:b
			float3 outputs:rgb
			${i.transparent||i.alphaTest>0?"float outputs:a":""}
		}`}return i.side===vo&&console.warn("THREE.USDZExporter: USDZ does not support double sided materials",i),i.map!==null?(r.push(`${n}color3f inputs:diffuseColor.connect = </Materials/Material_${i.id}/Texture_${i.map.id}_diffuse.outputs:rgb>`),i.transparent?r.push(`${n}float inputs:opacity.connect = </Materials/Material_${i.id}/Texture_${i.map.id}_diffuse.outputs:a>`):i.alphaTest>0&&(r.push(`${n}float inputs:opacity.connect = </Materials/Material_${i.id}/Texture_${i.map.id}_diffuse.outputs:a>`),r.push(`${n}float inputs:opacityThreshold = ${i.alphaTest}`)),o.push(s(i.map,"diffuse",i.color))):r.push(`${n}color3f inputs:diffuseColor = ${QG(i.color)}`),i.emissiveMap!==null?(r.push(`${n}color3f inputs:emissiveColor.connect = </Materials/Material_${i.id}/Texture_${i.emissiveMap.id}_emissive.outputs:rgb>`),o.push(s(i.emissiveMap,"emissive",new ut(i.emissive.r*i.emissiveIntensity,i.emissive.g*i.emissiveIntensity,i.emissive.b*i.emissiveIntensity)))):i.emissive.getHex()>0&&r.push(`${n}color3f inputs:emissiveColor = ${QG(i.emissive)}`),i.normalMap!==null&&(r.push(`${n}normal3f inputs:normal.connect = </Materials/Material_${i.id}/Texture_${i.normalMap.id}_normal.outputs:rgb>`),o.push(s(i.normalMap,"normal"))),i.aoMap!==null&&(r.push(`${n}float inputs:occlusion.connect = </Materials/Material_${i.id}/Texture_${i.aoMap.id}_occlusion.outputs:r>`),o.push(s(i.aoMap,"occlusion",new ut(i.aoMapIntensity,i.aoMapIntensity,i.aoMapIntensity)))),i.roughnessMap!==null?(r.push(`${n}float inputs:roughness.connect = </Materials/Material_${i.id}/Texture_${i.roughnessMap.id}_roughness.outputs:g>`),o.push(s(i.roughnessMap,"roughness",new ut(i.roughness,i.roughness,i.roughness)))):r.push(`${n}float inputs:roughness = ${i.roughness}`),i.metalnessMap!==null?(r.push(`${n}float inputs:metallic.connect = </Materials/Material_${i.id}/Texture_${i.metalnessMap.id}_metallic.outputs:b>`),o.push(s(i.metalnessMap,"metallic",new ut(i.metalness,i.metalness,i.metalness)))):r.push(`${n}float inputs:metallic = ${i.metalness}`),i.alphaMap!==null?(r.push(`${n}float inputs:opacity.connect = </Materials/Material_${i.id}/Texture_${i.alphaMap.id}_opacity.outputs:r>`),r.push(`${n}float inputs:opacityThreshold = 0.0001`),o.push(s(i.alphaMap,"opacity"))):r.push(`${n}float inputs:opacity = ${i.opacity}`),i.isMeshPhysicalMaterial&&(i.clearcoatMap!==null?(r.push(`${n}float inputs:clearcoat.connect = </Materials/Material_${i.id}/Texture_${i.clearcoatMap.id}_clearcoat.outputs:r>`),o.push(s(i.clearcoatMap,"clearcoat",new ut(i.clearcoat,i.clearcoat,i.clearcoat)))):r.push(`${n}float inputs:clearcoat = ${i.clearcoat}`),i.clearcoatRoughnessMap!==null?(r.push(`${n}float inputs:clearcoatRoughness.connect = </Materials/Material_${i.id}/Texture_${i.clearcoatRoughnessMap.id}_clearcoatRoughness.outputs:g>`),o.push(s(i.clearcoatRoughnessMap,"clearcoatRoughness",new ut(i.clearcoatRoughness,i.clearcoatRoughness,i.clearcoatRoughness)))):r.push(`${n}float inputs:clearcoatRoughness = ${i.clearcoatRoughness}`),r.push(`${n}float inputs:ior = ${i.ior}`)),`
	def Material "Material_${i.id}"
	{
		def Shader "PreviewSurface"
		{
			uniform token info:id = "UsdPreviewSurface"
${r.join(`
`)}
			int inputs:useSpecularWorkflow = 0
			token outputs:surface
		}

		token outputs:surface.connect = </Materials/Material_${i.id}/PreviewSurface.outputs:surface>

${o.join(`
`)}

	}
`}function QG(i){return`(${i.r}, ${i.g}, ${i.b})`}function ave(i){return`(${i.r}, ${i.g}, ${i.b}, 1.0)`}function NG(i){return`(${i.x}, ${i.y})`}function lve(i){const e=i.name?i.name:"Camera_"+i.id,t=JZ(i.matrixWorld);return i.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",i),i.isOrthographicCamera?`def Camera "${e}"
		{
			matrix4d xformOp:transform = ${t}
			uniform token[] xformOpOrder = ["xformOp:transform"]

			float2 clippingRange = (${i.near.toPrecision(Oa)}, ${i.far.toPrecision(Oa)})
			float horizontalAperture = ${((Math.abs(i.left)+Math.abs(i.right))*10).toPrecision(Oa)}
			float verticalAperture = ${((Math.abs(i.top)+Math.abs(i.bottom))*10).toPrecision(Oa)}
			token projection = "orthographic"
		}
	
	`:`def Camera "${e}"
		{
			matrix4d xformOp:transform = ${t}
			uniform token[] xformOpOrder = ["xformOp:transform"]

			float2 clippingRange = (${i.near.toPrecision(Oa)}, ${i.far.toPrecision(Oa)})
			float focalLength = ${i.getFocalLength().toPrecision(Oa)}
			float focusDistance = ${i.focus.toPrecision(Oa)}
			float horizontalAperture = ${i.getFilmWidth().toPrecision(Oa)}
			token projection = "perspective"
			float verticalAperture = ${i.getFilmHeight().toPrecision(Oa)}
		}
	
	`}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cve=i=>e=>{try{const t=mp(e),n=(t.length?t[0].terms:[]).filter(r=>r&&r.type==="ident").map(r=>r.value).filter(r=>i.indexOf(r)>-1);return new Set(n)}catch{}return new Set};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e_=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};let HG=!1,zG=!1;const GG="#model-viewer-no-ar-fallback",uve=cve(["quick-look","scene-viewer","webxr","none"]),hve="webxr scene-viewer quick-look",pu={QUICK_LOOK:"quick-look",SCENE_VIEWER:"scene-viewer",WEBXR:"webxr",NONE:"none"},zd=Symbol("arButtonContainer"),VG=Symbol("enterARWithWebXR"),qG=Symbol("openSceneViewer"),WG=Symbol("openIOSARQuickLook"),Ave=Symbol("canActivateAR"),f1=Symbol("arMode"),HU=Symbol("arModes"),nb=Symbol("arAnchor"),g1=Symbol("preload"),m1=Symbol("onARButtonContainerClick"),zU=Symbol("onARStatus"),GU=Symbol("onARTracking"),VU=Symbol("onARTap"),EC=Symbol("selectARMode"),qU=Symbol("triggerLoad"),dve=i=>{var e,t,n,r,o,s,a,l,c,u;class h extends i{constructor(){super(...arguments),this.ar=!1,this.arScale="auto",this.arUsdzMaxTextureSize="auto",this.arPlacement="floor",this.arModes=hve,this.iosSrc=null,this.xrEnvironment=!1,this[e]=!1,this[t]=this.shadowRoot.querySelector(".ar-button"),this[n]=document.createElement("a"),this[r]=new Set,this[o]=pu.NONE,this[s]=!1,this[a]=p=>{p.preventDefault(),this.activateAR()},this[l]=({status:p})=>{(p===eg.NOT_PRESENTING||this[Ln].arRenderer.presentedScene===this[nt])&&(this.setAttribute("ar-status",p),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:p}})),p===eg.NOT_PRESENTING?this.removeAttribute("ar-tracking"):p===eg.SESSION_STARTED&&this.setAttribute("ar-tracking",NL.TRACKING))},this[c]=({status:p})=>{this.setAttribute("ar-tracking",p),this.dispatchEvent(new CustomEvent("ar-tracking",{detail:{status:p}}))},this[u]=p=>{p.data=="_apple_ar_quicklook_button_tapped"&&this.dispatchEvent(new CustomEvent("quick-look-button-tapped"))}}get canActivateAR(){return this[f1]!==pu.NONE}connectedCallback(){super.connectedCallback(),this[Ln].arRenderer.addEventListener("status",this[zU]),this.setAttribute("ar-status",eg.NOT_PRESENTING),this[Ln].arRenderer.addEventListener("tracking",this[GU]),this[nb].addEventListener("message",this[VU])}disconnectedCallback(){super.disconnectedCallback(),this[Ln].arRenderer.removeEventListener("status",this[zU]),this[Ln].arRenderer.removeEventListener("tracking",this[GU]),this[nb].removeEventListener("message",this[VU])}update(p){super.update(p),p.has("arScale")&&(this[nt].canScale=this.arScale!=="fixed"),p.has("arPlacement")&&(this[nt].updateShadow(),this[Ds]()),p.has("arModes")&&(this[HU]=uve(this.arModes)),(p.has("ar")||p.has("arModes")||p.has("src")||p.has("iosSrc")||p.has("arUsdzMaxTextureSize"))&&this[EC]()}async activateAR(){switch(this[f1]){case pu.QUICK_LOOK:await this[WG]();break;case pu.WEBXR:await this[VG]();break;case pu.SCENE_VIEWER:this[qG]();break;default:console.warn("No AR Mode can be activated. This is probably due to missing configuration or device capabilities");break}}async[(e=Ave,t=zd,n=nb,r=HU,o=f1,s=g1,a=m1,l=zU,c=GU,u=VU,EC)](){var p;let g=pu.NONE;if(this.ar){if(this.src!=null)for(const v of this[HU]){if(v==="webxr"&&eZ&&!HG&&await this[Ln].arRenderer.supportsPresentation()){g=pu.WEBXR;break}if(v==="scene-viewer"&&!zG&&(Lfe||navigator.userAgentData&&navigator.userAgentData.getHighEntropyValues&&(!((p=(await navigator.userAgentData.getHighEntropyValues(["formFactor"])).formFactor)===null||p===void 0)&&p.includes("XR")))){g=pu.SCENE_VIEWER;break}if(v==="quick-look"&&v7){g=pu.QUICK_LOOK;break}}g===pu.NONE&&this.iosSrc!=null&&v7&&(g=pu.QUICK_LOOK)}if(g!==pu.NONE)this[zd].classList.add("enabled"),this[zd].addEventListener("click",this[m1]);else if(this[zd].classList.contains("enabled")){this[zd].removeEventListener("click",this[m1]),this[zd].classList.remove("enabled");const v=eg.FAILED;this.setAttribute("ar-status",v),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:v}}))}this[f1]=g}async[VG](){console.log("Attempting to present in AR with WebXR..."),await this[qU]();try{this[zd].removeEventListener("click",this[m1]);const{arRenderer:p}=this[Ln];p.placeOnWall=this.arPlacement==="wall",await p.present(this[nt],this.xrEnvironment)}catch(p){console.warn("Error while trying to present in AR with WebXR"),console.error(p),await this[Ln].arRenderer.stopPresenting(),HG=!0,console.warn("Falling back to next ar-mode"),await this[EC](),this.activateAR()}finally{this[EC]()}}async[qU](){this.loaded||(this[g1]=!0,this[Ey](),await zfe(this,"load"),this[g1]=!1)}[Gy](){return super[Gy]()||this[g1]}[qG](){const p=self.location.toString(),g=new URL(p),v=new URL(this.src,p);v.hash&&(v.hash="");const _=new URLSearchParams(v.search);if(g.hash=GG,_.set("mode","ar_preferred"),_.has("disable_occlusion")||_.set("disable_occlusion","true"),this.arScale==="fixed"&&_.set("resizable","false"),this.arPlacement==="wall"&&_.set("enable_vertical_placement","true"),_.has("sound")){const C=new URL(_.get("sound"),p);_.set("sound",C.toString())}if(_.has("link")){const C=new URL(_.get("link"),p);_.set("link",C.toString())}const b=`intent://arvr.google.com/scene-viewer/1.2?${_.toString()+"&file="+encodeURIComponent(v.toString())}#Intent;scheme=https;package=com.google.android.googlequicksearchbox;action=android.intent.action.VIEW;S.browser_fallback_url=${encodeURIComponent(g.toString())};end;`,x=()=>{self.location.hash===GG&&(zG=!0,self.history.back(),console.warn("Error while trying to present in AR with Scene Viewer"),console.warn("Falling back to next ar-mode"),this[EC]())};self.addEventListener("hashchange",x,{once:!0}),this[nb].setAttribute("href",b),console.log("Attempting to present in AR with Scene Viewer..."),this[nb].click()}async[WG](){const p=!this.iosSrc;this[zd].classList.remove("enabled");const g=p?await this.prepareUSDZ():this.iosSrc,v=new URL(g,self.location.toString());if(p){const x=self.location.toString(),C=new URL(x),S=new URL(this.src,C);S.hash&&(v.hash=S.hash)}this.arScale==="fixed"&&(v.hash&&(v.hash+="&"),v.hash+="allowsContentScaling=0");const _=this[nb];_.setAttribute("rel","ar");const b=document.createElement("img");_.appendChild(b),_.setAttribute("href",v.toString()),p&&_.setAttribute("download","model.usdz"),_.style.display="none",_.isConnected||this.shadowRoot.appendChild(_),console.log("Attempting to present in AR with Quick Look..."),_.click(),_.removeChild(b),p&&URL.revokeObjectURL(g),this[zd].classList.add("enabled")}async prepareUSDZ(){const p=this[gv].beginActivity("usdz-conversion");await this[qU]();const{model:g,shadow:v,target:_}=this[nt];if(g==null)return"";let b=!1;v!=null&&(b=v.visible,v.visible=!1),p(.2);const x=new j_e;_.remove(g),g.position.copy(_.position),g.updateWorldMatrix(!1,!0);const C=await x.parseAsync(g,{maxTextureSize:isNaN(this.arUsdzMaxTextureSize)?1/0:Math.max(parseInt(this.arUsdzMaxTextureSize),16)});g.position.set(0,0,0),_.add(g);const S=new Blob([C],{type:"model/vnd.usdz+zip"}),E=URL.createObjectURL(S);return p(1),v!=null&&(v.visible=b),E}}return e_([oi({type:Boolean,attribute:"ar"})],h.prototype,"ar",void 0),e_([oi({type:String,attribute:"ar-scale"})],h.prototype,"arScale",void 0),e_([oi({type:String,attribute:"ar-usdz-max-texture-size"})],h.prototype,"arUsdzMaxTextureSize",void 0),e_([oi({type:String,attribute:"ar-placement"})],h.prototype,"arPlacement",void 0),e_([oi({type:String,attribute:"ar-modes"})],h.prototype,"arModes",void 0),e_([oi({type:String,attribute:"ios-src"})],h.prototype,"iosSrc",void 0),e_([oi({type:Boolean,attribute:"xr-environment"})],h.prototype,"xrEnvironment",void 0),h};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};const pve=100,fve="https://www.gstatic.com/draco/versioned/decoders/1.5.6/",gve="https://www.gstatic.com/basis-universal/versioned/2021-04-15-ba1c3e4/",mve="https://cdn.jsdelivr.net/npm/three@0.149.0/examples/jsm/loaders/LottieLoader.js",jU={AUTO:"auto"},jG={AUTO:"auto",EAGER:"eager"},rb=Symbol("defaultProgressBarElement"),KU=Symbol("posterContainerElement"),ob=Symbol("defaultPosterElement"),TC=Symbol("shouldDismissPoster"),$U=Symbol("hidePoster"),_1=Symbol("modelIsRevealed"),XU=Symbol("updateProgressBar"),_ve=Symbol("ariaLabelCallToAction"),YU=Symbol("onProgress"),vve=i=>{var e,t,n,r,o,s,a,l;class c extends i{static set dracoDecoderLocation(h){ml.setDRACODecoderLocation(h)}static get dracoDecoderLocation(){return ml.getDRACODecoderLocation()}static set ktx2TranscoderLocation(h){ml.setKTX2TranscoderLocation(h)}static get ktx2TranscoderLocation(){return ml.getKTX2TranscoderLocation()}static set meshoptDecoderLocation(h){ml.setMeshoptDecoderLocation(h)}static get meshoptDecoderLocation(){return ml.getMeshoptDecoderLocation()}static set lottieLoaderLocation(h){Dh.singleton.textureUtils.lottieLoaderUrl=h}static get lottieLoaderLocation(){return Dh.singleton.textureUtils.lottieLoaderUrl}static mapURLs(h){Dh.singleton.loader[b_].manager.setURLModifier(h)}dismissPoster(){this.loaded?this[$U]():(this[TC]=!0,this[Ey]())}showPoster(){const h=this[KU];if(h.classList.contains("show"))return;h.classList.add("show"),this[Cl].classList.remove("show");const d=this[ob];d.removeAttribute("tabindex"),d.removeAttribute("aria-hidden");const p=this.modelIsVisible;this[_1]=!1,this[w5](p)}getDimensions(){return dp(this[nt].size)}getBoundingBoxCenter(){return dp(this[nt].boundingBox.getCenter(new he))}constructor(...h){super(...h),this.poster=null,this.reveal=jU.AUTO,this.loading=jG.AUTO,this[e]=!1,this[t]=!1,this[n]=this.shadowRoot.querySelector(".slot.poster"),this[r]=this.shadowRoot.querySelector("#default-poster"),this[o]=this.shadowRoot.querySelector("#default-progress-bar > .bar"),this[s]=this[ob].getAttribute("aria-label"),this[a]=Nfe(_=>{const b=this[rb].parentNode;requestAnimationFrame(()=>{this[rb].style.transform=`scaleX(${_})`,_===0&&(b.removeChild(this[rb]),b.appendChild(this[rb])),this[rb].classList.toggle("hide",_===1)})},pve),this[l]=_=>{const b=_.detail.totalProgress,x=_.detail.reason;b===1&&(this[XU].flush(),this.loaded&&(this[TC]||this.reveal===jU.AUTO)&&this[$U]()),this[XU](b),this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:b,reason:x}}))};const d=self.ModelViewerElement||{},p=d.dracoDecoderLocation||fve;ml.setDRACODecoderLocation(p);const g=d.ktx2TranscoderLocation||gve;ml.setKTX2TranscoderLocation(g),d.meshoptDecoderLocation&&ml.setMeshoptDecoderLocation(d.meshoptDecoderLocation);const v=d.lottieLoaderLocation||mve;Dh.singleton.textureUtils.lottieLoaderUrl=v}connectedCallback(){super.connectedCallback(),this.loaded||this.showPoster(),this[gv].addEventListener("progress",this[YU])}disconnectedCallback(){super.disconnectedCallback(),this[gv].removeEventListener("progress",this[YU])}async updated(h){super.updated(h),h.has("poster")&&this.poster!=null&&(this[ob].style.backgroundImage=`url(${this.poster})`),h.has("alt")&&this[ob].setAttribute("aria-label",this[qL]),(h.has("reveal")||h.has("loading"))&&this[Ey]()}[(e=_1,t=TC,n=KU,r=ob,o=rb,s=_ve,a=XU,l=YU,Gy)](){return!!this.src&&(this[TC]||this.loading===jG.EAGER||this.reveal===jU.AUTO&&this[C_])}[$U](){this[TC]=!1;const h=this[KU];if(!h.classList.contains("show"))return;h.classList.remove("show"),this[Cl].classList.add("show");const d=this.modelIsVisible;this[_1]=!0,this[w5](d);const p=this.getRootNode();p&&p.activeElement===this&&this[Cl].focus();const g=this[ob];g.setAttribute("aria-hidden","true"),g.tabIndex=-1,this.dispatchEvent(new CustomEvent("poster-dismissed"))}[mv](){return super[mv]()&&this[_1]}}return WU([oi({type:String})],c.prototype,"poster",void 0),WU([oi({type:String})],c.prototype,"reveal",void 0),WU([oi({type:String})],c.prototype,"loading",void 0),c};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};const bve=Math.PI/32,yve=3e3,wve={basis:[fk(Va(bve,"rad"))],keywords:{auto:[null]}},sb=Symbol("autoRotateStartTime"),JU=Symbol("radiansPerSecond"),KG=Symbol("syncRotationRate"),e9=Symbol("onCameraChange"),xve=i=>{var e,t,n;class r extends i{constructor(){super(...arguments),this.autoRotate=!1,this.autoRotateDelay=yve,this.rotationPerSecond="auto",this[e]=performance.now(),this[t]=0,this[n]=s=>{this.autoRotate&&s.detail.source==="user-interaction"&&(this[sb]=performance.now())}}connectedCallback(){super.connectedCallback(),this.addEventListener("camera-change",this[e9]),this[sb]=performance.now()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("camera-change",this[e9]),this[sb]=performance.now()}updated(s){super.updated(s),s.has("autoRotate")&&(this[sb]=performance.now())}[(e=sb,t=JU,KG)](s){this[JU]=s[0]}[zA](s,a){if(super[zA](s,a),!this.autoRotate||!this[mv]()||this[Ln].isPresenting)return;const l=Math.min(a,s-this[sb]-this.autoRotateDelay);l>0&&(this[nt].yaw=this.turntableRotation+this[JU]*l*.001)}get turntableRotation(){return this[nt].yaw}resetTurntableRotation(s=0){this[nt].yaw=s}}return n=e9,ZU([oi({type:Boolean,attribute:"auto-rotate"})],r.prototype,"autoRotate",void 0),ZU([oi({type:Number,attribute:"auto-rotate-delay"})],r.prototype,"autoRotateDelay",void 0),ZU([Pf({intrinsics:wve,updateHandler:KG}),oi({type:String,attribute:"rotation-per-second"})],r.prototype,"rotationPerSecond",void 0),r};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=W_e(S_e(xve(jfe(Ime(dve(vve(q_e(yS))))))));customElements.define("model-viewer",mN);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Cve=new Set(["children","localName","ref","style","className"]),$G=new WeakMap,XG=(i,e,t,n,r)=>{const o=r==null?void 0:r[e];o===void 0?(i[e]=t,t==null&&e in HTMLElement.prototype&&i.removeAttribute(e)):t!==n&&((s,a,l)=>{let c=$G.get(s);c===void 0&&$G.set(s,c=new Map);let u=c.get(a);l!==void 0?u===void 0?(c.set(a,u={handleEvent:l}),s.addEventListener(a,u)):u.handleEvent=l:u!==void 0&&(c.delete(a),s.removeEventListener(a,u))})(i,o,t)},eJ=({react:i,tagName:e,elementClass:t,events:n,displayName:r})=>{const o=new Set(Object.keys(n??{})),s=i.forwardRef((a,l)=>{const c=i.useRef(new Map),u=i.useRef(null),h={},d={};for(const[p,g]of Object.entries(a))Cve.has(p)?h[p==="className"?"class":p]=g:o.has(p)||p in t.prototype?d[p]=g:h[p]=g;return i.useLayoutEffect(()=>{if(u.current===null)return;const p=new Map;for(const g in d)XG(u.current,g,a[g],c.current.get(g),n),c.current.delete(g),p.set(g,a[g]);for(const[g,v]of c.current)XG(u.current,g,void 0,v,n);c.current=p}),i.useLayoutEffect(()=>{var p;(p=u.current)==null||p.removeAttribute("defer-hydration")},[]),h.suppressHydrationWarning=!0,i.createElement(e,{...h,ref:i.useCallback(p=>{u.current=p,typeof l=="function"?l(p):l!==null&&(l.current=p)},[l])})});return s.displayName=r??t.name,s};var tc=function(){return tc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},tc.apply(this,arguments)};function B5(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))}var _r="-ms-",H2="-moz-",En="-webkit-",tJ="comm",mk="rule",_N="decl",Bve="@import",iJ="@keyframes",Sve="@layer",nJ=Math.abs,vN=String.fromCharCode,$L=Object.assign;function Eve(i,e){return Ts(i,0)^45?(((e<<2^Ts(i,0))<<2^Ts(i,1))<<2^Ts(i,2))<<2^Ts(i,3):0}function rJ(i){return i.trim()}function ap(i,e){return(i=e.exec(i))?i[0]:i}function Vi(i,e,t){return i.replace(e,t)}function ZI(i,e,t){return i.indexOf(e,t)}function Ts(i,e){return i.charCodeAt(e)|0}function Vy(i,e,t){return i.slice(e,t)}function FA(i){return i.length}function oJ(i){return i.length}function g2(i,e){return e.push(i),i}function Tve(i,e){return i.map(e).join("")}function YG(i,e){return i.filter(function(t){return!ap(t,e)})}var _k=1,qy=1,sJ=0,Qu=0,Po=0,bw="";function vk(i,e,t,n,r,o,s,a){return{value:i,root:e,parent:t,type:n,props:r,children:o,line:_k,column:qy,length:s,return:"",siblings:a}}function Lf(i,e){return $L(vk("",null,null,"",null,null,0,i.siblings),i,{length:-i.length},e)}function ab(i){for(;i.root;)i=Lf(i.root,{children:[i]});g2(i,i.siblings)}function Ive(){return Po}function Mve(){return Po=Qu>0?Ts(bw,--Qu):0,qy--,Po===10&&(qy=1,_k--),Po}function Oh(){return Po=Qu<sJ?Ts(bw,Qu++):0,qy++,Po===10&&(qy=1,_k++),Po}function Z_(){return Ts(bw,Qu)}function JI(){return Qu}function bk(i,e){return Vy(bw,i,e)}function XL(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rve(i){return _k=qy=1,sJ=FA(bw=i),Qu=0,[]}function kve(i){return bw="",i}function t9(i){return rJ(bk(Qu-1,YL(i===91?i+2:i===40?i+1:i)))}function Fve(i){for(;(Po=Z_())&&Po<33;)Oh();return XL(i)>2||XL(Po)>3?"":" "}function Dve(i,e){for(;--e&&Oh()&&!(Po<48||Po>102||Po>57&&Po<65||Po>70&&Po<97););return bk(i,JI()+(e<6&&Z_()==32&&Oh()==32))}function YL(i){for(;Oh();)switch(Po){case i:return Qu;case 34:case 39:i!==34&&i!==39&&YL(Po);break;case 40:i===41&&YL(i);break;case 92:Oh();break}return Qu}function Uve(i,e){for(;Oh()&&i+Po!==57;)if(i+Po===84&&Z_()===47)break;return"/*"+bk(e,Qu-1)+"*"+vN(i===47?i:Oh())}function Pve(i){for(;!XL(Z_());)Oh();return bk(i,Qu)}function Lve(i){return kve(eM("",null,null,null,[""],i=Rve(i),0,[0],i))}function eM(i,e,t,n,r,o,s,a,l){for(var c=0,u=0,h=s,d=0,p=0,g=0,v=1,_=1,b=1,x=0,C="",S=r,E=o,I=n,M=C;_;)switch(g=x,x=Oh()){case 40:if(g!=108&&Ts(M,h-1)==58){ZI(M+=Vi(t9(x),"&","&\f"),"&\f",nJ(c?a[c-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:M+=t9(x);break;case 9:case 10:case 13:case 32:M+=Fve(g);break;case 92:M+=Dve(JI()-1,7);continue;case 47:switch(Z_()){case 42:case 47:g2(Ove(Uve(Oh(),JI()),e,t,l),l);break;default:M+="/"}break;case 123*v:a[c++]=FA(M)*b;case 125*v:case 59:case 0:switch(x){case 0:case 125:_=0;case 59+u:b==-1&&(M=Vi(M,/\f/g,"")),p>0&&FA(M)-h&&g2(p>32?JG(M+";",n,t,h-1,l):JG(Vi(M," ","")+";",n,t,h-2,l),l);break;case 59:M+=";";default:if(g2(I=ZG(M,e,t,c,u,r,a,C,S=[],E=[],h,o),o),x===123)if(u===0)eM(M,e,I,I,S,o,h,a,E);else switch(d===99&&Ts(M,3)===110?100:d){case 100:case 108:case 109:case 115:eM(i,I,I,n&&g2(ZG(i,I,I,0,0,r,a,C,r,S=[],h,E),E),r,E,h,a,n?S:E);break;default:eM(M,I,I,I,[""],E,0,a,E)}}c=u=p=0,v=b=1,C=M="",h=s;break;case 58:h=1+FA(M),p=g;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&Mve()==125)continue}switch(M+=vN(x),x*v){case 38:b=u>0?1:(M+="\f",-1);break;case 44:a[c++]=(FA(M)-1)*b,b=1;break;case 64:Z_()===45&&(M+=t9(Oh())),d=Z_(),u=h=FA(C=M+=Pve(JI())),x++;break;case 45:g===45&&FA(M)==2&&(v=0)}}return o}function ZG(i,e,t,n,r,o,s,a,l,c,u,h){for(var d=r-1,p=r===0?o:[""],g=oJ(p),v=0,_=0,b=0;v<n;++v)for(var x=0,C=Vy(i,d+1,d=nJ(_=s[v])),S=i;x<g;++x)(S=rJ(_>0?p[x]+" "+C:Vi(C,/&\f/g,p[x])))&&(l[b++]=S);return vk(i,e,t,r===0?mk:a,l,c,u,h)}function Ove(i,e,t,n){return vk(i,e,t,tJ,vN(Ive()),Vy(i,2,-2),0,n)}function JG(i,e,t,n,r){return vk(i,e,t,_N,Vy(i,0,n),Vy(i,n+1,-1),n,r)}function aJ(i,e,t){switch(Eve(i,e)){case 5103:return En+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return En+i+i;case 4789:return H2+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return En+i+H2+i+_r+i+i;case 5936:switch(Ts(i,e+11)){case 114:return En+i+_r+Vi(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return En+i+_r+Vi(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return En+i+_r+Vi(i,/[svh]\w+-[tblr]{2}/,"lr")+i}case 6828:case 4268:case 2903:return En+i+_r+i+i;case 6165:return En+i+_r+"flex-"+i+i;case 5187:return En+i+Vi(i,/(\w+).+(:[^]+)/,En+"box-$1$2"+_r+"flex-$1$2")+i;case 5443:return En+i+_r+"flex-item-"+Vi(i,/flex-|-self/g,"")+(ap(i,/flex-|baseline/)?"":_r+"grid-row-"+Vi(i,/flex-|-self/g,""))+i;case 4675:return En+i+_r+"flex-line-pack"+Vi(i,/align-content|flex-|-self/g,"")+i;case 5548:return En+i+_r+Vi(i,"shrink","negative")+i;case 5292:return En+i+_r+Vi(i,"basis","preferred-size")+i;case 6060:return En+"box-"+Vi(i,"-grow","")+En+i+_r+Vi(i,"grow","positive")+i;case 4554:return En+Vi(i,/([^-])(transform)/g,"$1"+En+"$2")+i;case 6187:return Vi(Vi(Vi(i,/(zoom-|grab)/,En+"$1"),/(image-set)/,En+"$1"),i,"")+i;case 5495:case 3959:return Vi(i,/(image-set\([^]*)/,En+"$1$`$1");case 4968:return Vi(Vi(i,/(.+:)(flex-)?(.*)/,En+"box-pack:$3"+_r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+En+i+i;case 4200:if(!ap(i,/flex-|baseline/))return _r+"grid-column-align"+Vy(i,e)+i;break;case 2592:case 3360:return _r+Vi(i,"template-","")+i;case 4384:case 3616:return t&&t.some(function(n,r){return e=r,ap(n.props,/grid-\w+-end/)})?~ZI(i+(t=t[e].value),"span",0)?i:_r+Vi(i,"-start","")+i+_r+"grid-row-span:"+(~ZI(t,"span",0)?ap(t,/\d+/):+ap(t,/\d+/)-+ap(i,/\d+/))+";":_r+Vi(i,"-start","")+i;case 4896:case 4128:return t&&t.some(function(n){return ap(n.props,/grid-\w+-start/)})?i:_r+Vi(Vi(i,"-end","-span"),"span ","")+i;case 4095:case 3583:case 4068:case 2532:return Vi(i,/(.+)-inline(.+)/,En+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(FA(i)-1-e>6)switch(Ts(i,e+1)){case 109:if(Ts(i,e+4)!==45)break;case 102:return Vi(i,/(.+:)(.+)-([^]+)/,"$1"+En+"$2-$3$1"+H2+(Ts(i,e+3)==108?"$3":"$2-$3"))+i;case 115:return~ZI(i,"stretch",0)?aJ(Vi(i,"stretch","fill-available"),e,t)+i:i}break;case 5152:case 5920:return Vi(i,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,r,o,s,a,l,c){return _r+r+":"+o+c+(s?_r+r+"-span:"+(a?l:+l-+o)+c:"")+i});case 4949:if(Ts(i,e+6)===121)return Vi(i,":",":"+En)+i;break;case 6444:switch(Ts(i,Ts(i,14)===45?18:11)){case 120:return Vi(i,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+En+(Ts(i,14)===45?"inline-":"")+"box$3$1"+En+"$2$3$1"+_r+"$2box$3")+i;case 100:return Vi(i,":",":"+_r)+i}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Vi(i,"scroll-","scroll-snap-")+i}return i}function S5(i,e){for(var t="",n=0;n<i.length;n++)t+=e(i[n],n,i,e)||"";return t}function Qve(i,e,t,n){switch(i.type){case Sve:if(i.children.length)break;case Bve:case _N:return i.return=i.return||i.value;case tJ:return"";case iJ:return i.return=i.value+"{"+S5(i.children,n)+"}";case mk:if(!FA(i.value=i.props.join(",")))return""}return FA(t=S5(i.children,n))?i.return=i.value+"{"+t+"}":""}function Nve(i){var e=oJ(i);return function(t,n,r,o){for(var s="",a=0;a<e;a++)s+=i[a](t,n,r,o)||"";return s}}function Hve(i){return function(e){e.root||(e=e.return)&&i(e)}}function zve(i,e,t,n){if(i.length>-1&&!i.return)switch(i.type){case _N:i.return=aJ(i.value,i.length,t);return;case iJ:return S5([Lf(i,{value:Vi(i.value,"@","@"+En)})],n);case mk:if(i.length)return Tve(t=i.props,function(r){switch(ap(r,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ab(Lf(i,{props:[Vi(r,/:(read-\w+)/,":"+H2+"$1")]})),ab(Lf(i,{props:[r]})),$L(i,{props:YG(t,n)});break;case"::placeholder":ab(Lf(i,{props:[Vi(r,/:(plac\w+)/,":"+En+"input-$1")]})),ab(Lf(i,{props:[Vi(r,/:(plac\w+)/,":"+H2+"$1")]})),ab(Lf(i,{props:[Vi(r,/:(plac\w+)/,_r+"input-$1")]})),ab(Lf(i,{props:[r]})),$L(i,{props:YG(t,n)});break}return""})}}var Gve={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kc={},Wy=typeof process<"u"&&kc!==void 0&&(kc.REACT_APP_SC_ATTR||kc.SC_ATTR)||"data-styled",lJ="active",cJ="data-styled-version",yk="6.1.17",bN=`/*!sc*/
`,E5=typeof window<"u"&&"HTMLElement"in window,Vve=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&kc!==void 0&&kc.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&kc.REACT_APP_SC_DISABLE_SPEEDY!==""?kc.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&kc.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&kc!==void 0&&kc.SC_DISABLE_SPEEDY!==void 0&&kc.SC_DISABLE_SPEEDY!==""&&kc.SC_DISABLE_SPEEDY!=="false"&&kc.SC_DISABLE_SPEEDY),wk=Object.freeze([]),jy=Object.freeze({});function qve(i,e,t){return t===void 0&&(t=jy),i.theme!==t.theme&&i.theme||e||t.theme}var uJ=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Wve=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,jve=/(^-|-$)/g;function eV(i){return i.replace(Wve,"-").replace(jve,"")}var Kve=/(a)(d)/gi,v1=52,tV=function(i){return String.fromCharCode(i+(i>25?39:97))};function ZL(i){var e,t="";for(e=Math.abs(i);e>v1;e=e/v1|0)t=tV(e%v1)+t;return(tV(e%v1)+t).replace(Kve,"$1-$2")}var i9,hJ=5381,fy=function(i,e){for(var t=e.length;t;)i=33*i^e.charCodeAt(--t);return i},AJ=function(i){return fy(hJ,i)};function $ve(i){return ZL(AJ(i)>>>0)}function Xve(i){return i.displayName||i.name||"Component"}function n9(i){return typeof i=="string"&&!0}var dJ=typeof Symbol=="function"&&Symbol.for,pJ=dJ?Symbol.for("react.memo"):60115,Yve=dJ?Symbol.for("react.forward_ref"):60112,Zve={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Jve={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},fJ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},e0e=((i9={})[Yve]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i9[pJ]=fJ,i9);function iV(i){return("type"in(e=i)&&e.type.$$typeof)===pJ?fJ:"$$typeof"in i?e0e[i.$$typeof]:Zve;var e}var t0e=Object.defineProperty,i0e=Object.getOwnPropertyNames,nV=Object.getOwnPropertySymbols,n0e=Object.getOwnPropertyDescriptor,r0e=Object.getPrototypeOf,rV=Object.prototype;function gJ(i,e,t){if(typeof e!="string"){if(rV){var n=r0e(e);n&&n!==rV&&gJ(i,n,t)}var r=i0e(e);nV&&(r=r.concat(nV(e)));for(var o=iV(i),s=iV(e),a=0;a<r.length;++a){var l=r[a];if(!(l in Jve||t&&t[l]||s&&l in s||o&&l in o)){var c=n0e(e,l);try{t0e(i,l,c)}catch{}}}}return i}function Ky(i){return typeof i=="function"}function yN(i){return typeof i=="object"&&"styledComponentId"in i}function L_(i,e){return i&&e?"".concat(i," ").concat(e):i||e||""}function oV(i,e){if(i.length===0)return"";for(var t=i[0],n=1;n<i.length;n++)t+=i[n];return t}function FB(i){return i!==null&&typeof i=="object"&&i.constructor.name===Object.name&&!("props"in i&&i.$$typeof)}function JL(i,e,t){if(t===void 0&&(t=!1),!t&&!FB(i)&&!Array.isArray(i))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)i[n]=JL(i[n],e[n]);else if(FB(e))for(var n in e)i[n]=JL(i[n],e[n]);return i}function wN(i,e){Object.defineProperty(i,"toString",{value:e})}function wS(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(i," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var o0e=function(){function i(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return i.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},i.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,o=r;e>=o;)if((o<<=1)<0)throw wS(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var s=r;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),l=(s=0,t.length);s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},i.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var o=n;o<r;o++)this.tag.deleteRule(n)}},i.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n,s=r;s<o;s++)t+="".concat(this.tag.getRule(s)).concat(bN);return t},i}(),tM=new Map,T5=new Map,iM=1,b1=function(i){if(tM.has(i))return tM.get(i);for(;T5.has(iM);)iM++;var e=iM++;return tM.set(i,e),T5.set(e,i),e},s0e=function(i,e){iM=e+1,tM.set(i,e),T5.set(e,i)},a0e="style[".concat(Wy,"][").concat(cJ,'="').concat(yk,'"]'),l0e=new RegExp("^".concat(Wy,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),c0e=function(i,e,t){for(var n,r=t.split(","),o=0,s=r.length;o<s;o++)(n=r[o])&&i.registerName(e,n)},u0e=function(i,e){for(var t,n=((t=e.textContent)!==null&&t!==void 0?t:"").split(bN),r=[],o=0,s=n.length;o<s;o++){var a=n[o].trim();if(a){var l=a.match(l0e);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(s0e(u,c),c0e(i,u,l[3]),i.getTag().insertRules(c,r)),r.length=0}else r.push(a)}}},sV=function(i){for(var e=document.querySelectorAll(a0e),t=0,n=e.length;t<n;t++){var r=e[t];r&&r.getAttribute(Wy)!==lJ&&(u0e(i,r),r.parentNode&&r.parentNode.removeChild(r))}};function h0e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var mJ=function(i){var e=document.head,t=i||e,n=document.createElement("style"),r=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Wy,"]")));return l[l.length-1]}(t),o=r!==void 0?r.nextSibling:null;n.setAttribute(Wy,lJ),n.setAttribute(cJ,yk);var s=h0e();return s&&n.setAttribute("nonce",s),t.insertBefore(n,o),n},A0e=function(){function i(e){this.element=mJ(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var n=document.styleSheets,r=0,o=n.length;r<o;r++){var s=n[r];if(s.ownerNode===t)return s}throw wS(17)}(this.element),this.length=0}return i.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},i.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},i.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},i}(),d0e=function(){function i(e){this.element=mJ(e),this.nodes=this.element.childNodes,this.length=0}return i.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},i.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},i.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},i}(),p0e=function(){function i(e){this.rules=[],this.length=0}return i.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},i.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},i.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},i}(),aV=E5,f0e={isServer:!E5,useCSSOMInjection:!Vve},_J=function(){function i(e,t,n){e===void 0&&(e=jy),t===void 0&&(t={});var r=this;this.options=tc(tc({},f0e),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&E5&&aV&&(aV=!1,sV(this)),wN(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",c=function(h){var d=function(b){return T5.get(b)}(h);if(d===void 0)return"continue";var p=o.names.get(d),g=s.getGroup(h);if(p===void 0||!p.size||g.length===0)return"continue";var v="".concat(Wy,".g").concat(h,'[id="').concat(d,'"]'),_="";p!==void 0&&p.forEach(function(b){b.length>0&&(_+="".concat(b,","))}),l+="".concat(g).concat(v,'{content:"').concat(_,'"}').concat(bN)},u=0;u<a;u++)c(u);return l}(r)})}return i.registerId=function(e){return b1(e)},i.prototype.rehydrate=function(){!this.server&&E5&&sV(this)},i.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new i(tc(tc({},this.options),e),this.gs,t&&this.names||void 0)},i.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},i.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var n=t.useCSSOMInjection,r=t.target;return t.isServer?new p0e(r):n?new A0e(r):new d0e(r)}(this.options),new o0e(e)));var e},i.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},i.prototype.registerName=function(e,t){if(b1(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},i.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(b1(e),n)},i.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},i.prototype.clearRules=function(e){this.getTag().clearGroup(b1(e)),this.clearNames(e)},i.prototype.clearTag=function(){this.tag=void 0},i}(),g0e=/&/g,m0e=/^\s*\/\/.*$/gm;function vJ(i,e){return i.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=vJ(t.children,e)),t})}function _0e(i){var e,t,n,r=jy,o=r.options,s=o===void 0?jy:o,a=r.plugins,l=a===void 0?wk:a,c=function(d,p,g){return g.startsWith(t)&&g.endsWith(t)&&g.replaceAll(t,"").length>0?".".concat(e):d},u=l.slice();u.push(function(d){d.type===mk&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(g0e,t).replace(n,c))}),s.prefix&&u.push(zve),u.push(Qve);var h=function(d,p,g,v){p===void 0&&(p=""),g===void 0&&(g=""),v===void 0&&(v="&"),e=v,t=p,n=new RegExp("\\".concat(t,"\\b"),"g");var _=d.replace(m0e,""),b=Lve(g||p?"".concat(g," ").concat(p," { ").concat(_," }"):_);s.namespace&&(b=vJ(b,s.namespace));var x=[];return S5(b,Nve(u.concat(Hve(function(C){return x.push(C)})))),x};return h.hash=l.length?l.reduce(function(d,p){return p.name||wS(15),fy(d,p.name)},hJ).toString():"",h}var v0e=new _J,eO=_0e(),bJ=_e.createContext({shouldForwardProp:void 0,styleSheet:v0e,stylis:eO});bJ.Consumer;_e.createContext(void 0);function lV(){return ne.useContext(bJ)}var b0e=function(){function i(e,t){var n=this;this.inject=function(r,o){o===void 0&&(o=eO);var s=n.name+o.hash;r.hasNameForId(n.id,s)||r.insertRules(n.id,s,o(n.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,wN(this,function(){throw wS(12,String(n.name))})}return i.prototype.getName=function(e){return e===void 0&&(e=eO),this.name+e.hash},i}(),y0e=function(i){return i>="A"&&i<="Z"};function cV(i){for(var e="",t=0;t<i.length;t++){var n=i[t];if(t===1&&n==="-"&&i[0]==="-")return i;y0e(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var yJ=function(i){return i==null||i===!1||i===""},wJ=function(i){var e,t,n=[];for(var r in i){var o=i[r];i.hasOwnProperty(r)&&!yJ(o)&&(Array.isArray(o)&&o.isCss||Ky(o)?n.push("".concat(cV(r),":"),o,";"):FB(o)?n.push.apply(n,B5(B5(["".concat(r," {")],wJ(o),!1),["}"],!1)):n.push("".concat(cV(r),": ").concat((e=r,(t=o)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in Gve||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return n};function J_(i,e,t,n){if(yJ(i))return[];if(yN(i))return[".".concat(i.styledComponentId)];if(Ky(i)){if(!Ky(o=i)||o.prototype&&o.prototype.isReactComponent||!e)return[i];var r=i(e);return J_(r,e,t,n)}var o;return i instanceof b0e?t?(i.inject(t,n),[i.getName(n)]):[i]:FB(i)?wJ(i):Array.isArray(i)?Array.prototype.concat.apply(wk,i.map(function(s){return J_(s,e,t,n)})):[i.toString()]}function w0e(i){for(var e=0;e<i.length;e+=1){var t=i[e];if(Ky(t)&&!yN(t))return!1}return!0}var x0e=AJ(yk),C0e=function(){function i(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&w0e(e),this.componentId=t,this.baseHash=fy(x0e,t),this.baseStyle=n,_J.registerId(t)}return i.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=L_(r,this.staticRulesId);else{var o=oV(J_(this.rules,e,t,n)),s=ZL(fy(this.baseHash,o)>>>0);if(!t.hasNameForId(this.componentId,s)){var a=n(o,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,a)}r=L_(r,s),this.staticRulesId=s}else{for(var l=fy(this.baseHash,n.hash),c="",u=0;u<this.rules.length;u++){var h=this.rules[u];if(typeof h=="string")c+=h;else if(h){var d=oV(J_(h,e,t,n));l=fy(l,d+u),c+=d}}if(c){var p=ZL(l>>>0);t.hasNameForId(this.componentId,p)||t.insertRules(this.componentId,p,n(c,".".concat(p),void 0,this.componentId)),r=L_(r,p)}}return r},i}(),xJ=_e.createContext(void 0);xJ.Consumer;var r9={};function B0e(i,e,t){var n=yN(i),r=i,o=!n9(i),s=e.attrs,a=s===void 0?wk:s,l=e.componentId,c=l===void 0?function(S,E){var I=typeof S!="string"?"sc":eV(S);r9[I]=(r9[I]||0)+1;var M="".concat(I,"-").concat($ve(yk+I+r9[I]));return E?"".concat(E,"-").concat(M):M}(e.displayName,e.parentComponentId):l,u=e.displayName,h=u===void 0?function(S){return n9(S)?"styled.".concat(S):"Styled(".concat(Xve(S),")")}(i):u,d=e.displayName&&e.componentId?"".concat(eV(e.displayName),"-").concat(e.componentId):e.componentId||c,p=n&&r.attrs?r.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(n&&r.shouldForwardProp){var v=r.shouldForwardProp;if(e.shouldForwardProp){var _=e.shouldForwardProp;g=function(S,E){return v(S,E)&&_(S,E)}}else g=v}var b=new C0e(t,d,n?r.componentStyle:void 0);function x(S,E){return function(I,M,k){var F=I.attrs,P=I.componentStyle,Q=I.defaultProps,N=I.foldedComponentIds,W=I.styledComponentId,q=I.target,J=_e.useContext(xJ),V=lV(),Y=I.shouldForwardProp||V.shouldForwardProp,Z=qve(M,J,Q)||jy,ue=function(Ae,we,xe){for(var Be,Re=tc(tc({},we),{className:void 0,theme:xe}),ke=0;ke<Ae.length;ke+=1){var Pe=Ky(Be=Ae[ke])?Be(Re):Be;for(var ve in Pe)Re[ve]=ve==="className"?L_(Re[ve],Pe[ve]):ve==="style"?tc(tc({},Re[ve]),Pe[ve]):Pe[ve]}return we.className&&(Re.className=L_(Re.className,we.className)),Re}(F,M,Z),$=ue.as||q,ee={};for(var oe in ue)ue[oe]===void 0||oe[0]==="$"||oe==="as"||oe==="theme"&&ue.theme===Z||(oe==="forwardedAs"?ee.as=ue.forwardedAs:Y&&!Y(oe,$)||(ee[oe]=ue[oe]));var ge=function(Ae,we){var xe=lV(),Be=Ae.generateAndInjectStyles(we,xe.styleSheet,xe.stylis);return Be}(P,ue),se=L_(N,W);return ge&&(se+=" "+ge),ue.className&&(se+=" "+ue.className),ee[n9($)&&!uJ.has($)?"class":"className"]=se,k&&(ee.ref=k),ne.createElement($,ee)}(C,S,E)}x.displayName=h;var C=_e.forwardRef(x);return C.attrs=p,C.componentStyle=b,C.displayName=h,C.shouldForwardProp=g,C.foldedComponentIds=n?L_(r.foldedComponentIds,r.styledComponentId):"",C.styledComponentId=d,C.target=n?r.target:i,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=n?function(E){for(var I=[],M=1;M<arguments.length;M++)I[M-1]=arguments[M];for(var k=0,F=I;k<F.length;k++)JL(E,F[k],!0);return E}({},r.defaultProps,S):S}}),wN(C,function(){return".".concat(C.styledComponentId)}),o&&gJ(C,i,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function uV(i,e){for(var t=[i[0]],n=0,r=e.length;n<r;n+=1)t.push(e[n],i[n+1]);return t}var hV=function(i){return Object.assign(i,{isCss:!0})};function S0e(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Ky(i)||FB(i))return hV(J_(uV(wk,B5([i],e,!0))));var n=i;return e.length===0&&n.length===1&&typeof n[0]=="string"?J_(n):hV(J_(uV(n,e)))}function tO(i,e,t){if(t===void 0&&(t=jy),!e)throw wS(1,e);var n=function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return i(e,t,S0e.apply(void 0,B5([r],o,!1)))};return n.attrs=function(r){return tO(i,e,tc(tc({},t),{attrs:Array.prototype.concat(t.attrs,r).filter(Boolean)}))},n.withConfig=function(r){return tO(i,e,tc(tc({},t),r))},n}var CJ=function(i){return tO(B0e,i)},yw=CJ;uJ.forEach(function(i){yw[i]=CJ(i)});var xk=X$();const E0e=$$(xk);var BJ=function(i,e,t){if(t===void 0&&(t=null),i.length<=e)return i;var n=e-(t=t||"...").length,r=Math.ceil(n/2),o=Math.floor(n/2);return i.substr(0,r)+t+i.substr(i.length-o)};function ku(i,e,t,n){return new(t||(t=Promise))(function(r,o){function s(c){try{l(n.next(c))}catch(u){o(u)}}function a(c){try{l(n.throw(c))}catch(u){o(u)}}function l(c){var u;c.done?r(c.value):(u=c.value,u instanceof t?u:new t(function(h){h(u)})).then(s,a)}l((n=n.apply(i,[])).next())})}function Fu(i,e){var t,n,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(t=1,n&&(r=2&u[0]?n.return:u[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,u[1])).done)return r;switch(n=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!((r=r.length>0&&r[r.length-1])||u[0]!==6&&u[0]!==2)){o=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){o.label=u[1];break}if(u[0]===6&&o.label<r[1]){o.label=r[1],r=u;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(u);break}r[2]&&o.ops.pop(),o.trys.pop();continue}u=e.call(i,o)}catch(h){u=[6,h],n=0}finally{t=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}function T0e(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n,r,o=t.call(i),s=[];try{for(;(e===void 0||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(a){r={error:a}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return s}function xS(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}var AV,I0e=yw.div(AV||(AV=xS([`
  width: 100%;
  height: 100%;

  > model-viewer {
    width: 100%;
    height: 100%;
  }
`],[`
  width: 100%;
  height: 100%;

  > model-viewer {
    width: 100%;
    height: 100%;
  }
`])));function Lr(){return Lr=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Lr.apply(null,arguments)}function M0e(...i){return e=>i.forEach(t=>function(n,r){typeof n=="function"?n(r):n!=null&&(n.current=r)}(t,e))}const SJ=ne.forwardRef((i,e)=>{const{children:t,...n}=i,r=ne.Children.toArray(t),o=r.find(k0e);if(o){const s=o.props.children,a=r.map(l=>l===o?ne.Children.count(s)>1?ne.Children.only(null):ne.isValidElement(s)?s.props.children:null:l);return ne.createElement(iO,Lr({},n,{ref:e}),ne.isValidElement(s)?ne.cloneElement(s,void 0,a):null)}return ne.createElement(iO,Lr({},n,{ref:e}),t)});SJ.displayName="Slot";const iO=ne.forwardRef((i,e)=>{const{children:t,...n}=i;return ne.isValidElement(t)?ne.cloneElement(t,{...F0e(n,t.props),ref:M0e(e,t.ref)}):ne.Children.count(t)>1?ne.Children.only(null):null});iO.displayName="SlotClone";const R0e=({children:i})=>ne.createElement(ne.Fragment,null,i);function k0e(i){return ne.isValidElement(i)&&i.type===R0e}function F0e(i,e){const t={...e};for(const n in e){const r=i[n],o=e[n];/^on[A-Z]/.test(n)?r&&o?t[n]=(...s)=>{o(...s),r(...s)}:r&&(t[n]=r):n==="style"?t[n]={...r,...o}:n==="className"&&(t[n]=[r,o].filter(Boolean).join(" "))}return{...i,...t}}const D0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((i,e)=>{const t=ne.forwardRef((n,r)=>{const{asChild:o,...s}=n,a=o?SJ:e;return ne.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),ne.createElement(a,Lr({},s,{ref:r}))});return t.displayName=`Primitive.${e}`,{...i,[e]:t}},{}),U0e=ne.forwardRef((i,e)=>{var t;const{container:n=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...r}=i;return n?E0e.createPortal(ne.createElement(D0e.div,Lr({},r,{ref:e})),n):null}),P0e=U0e;var dV=Object.prototype.hasOwnProperty;function DB(i,e){var t,n;if(i===e)return!0;if(i&&e&&(t=i.constructor)===e.constructor){if(t===Date)return i.getTime()===e.getTime();if(t===RegExp)return i.toString()===e.toString();if(t===Array){if((n=i.length)===e.length)for(;n--&&DB(i[n],e[n]););return n===-1}if(!t||typeof i=="object"){for(t in n=0,i)if(dV.call(i,t)&&++n&&!dV.call(e,t)||!(t in e)||!DB(i[t],e[t]))return!1;return Object.keys(e).length===n}}return i!=i&&e!=e}function Ck(i,e){if(Object.is(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;const t=Object.keys(i);if(t.length!==Object.keys(e).length)return!1;for(let n=0;n<t.length;n++)if(!Object.prototype.hasOwnProperty.call(e,t[n])||!Object.is(i[t[n]],e[t[n]]))return!1;return!0}var nM=function(i,e,t,n){this.name=i,this.fn=e,this.args=t,this.modifiers=n};function EJ(i,e){return e===void 0&&(e="simple"),typeof i=="object"?i[e]:i}function ey(i,e,t){if(i.length){var n=i.shift(),r=ey(i,e,t);return n.perform(r,t)}return EJ(e)}function TJ(i,e,t){if(i.length){var n=i.shift(),r=TJ(i,e,t);return n.performAsync(r,t)}return function(o){return Promise.resolve(EJ(e,"async")(o))}}nM.prototype._test=function(i){var e=this.fn;try{ey(this.modifiers.slice(),e,this)(i)}catch{e=function(){return!1}}try{return ey(this.modifiers.slice(),e,this)(i)}catch{return!1}},nM.prototype._check=function(i){try{ey(this.modifiers.slice(),this.fn,this)(i)}catch{if(ey(this.modifiers.slice(),function(t){return t},this)(!1))return}if(!ey(this.modifiers.slice(),this.fn,this)(i))throw null},nM.prototype._testAsync=function(i){var e=this;return new Promise(function(t,n){TJ(e.modifiers.slice(),e.fn,e)(i).then(function(r){r?t(i):n(null)}).catch(function(r){return n(r)})})};var L0e=function(i,e,t){this.name=i,this.perform=e,this.performAsync=t},nO=function(i){function e(t,n,r,o){for(var s=[],a=arguments.length-4;a-- >0;)s[a]=arguments[a+4];i.call(this,s),i.captureStackTrace&&i.captureStackTrace(this,e),this.rule=t,this.value=n,this.cause=r,this.target=o}return i&&(e.__proto__=i),e.prototype=Object.create(i&&i.prototype),e.prototype.constructor=e,e}(Error),MA=function(i,e){i===void 0&&(i=[]),e===void 0&&(e=[]),this.chain=i,this.nextRuleModifiers=e};function IJ(i,e,t,n){if(e.length){var r=e.shift();r._testAsync(i).then(function(){IJ(i,e,t,n)},function(o){n(new nO(r,i,o))})}else t(i)}MA.prototype._applyRule=function(i,e){var t=this;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return t.chain.push(new nM(e,i.apply(t,n),n,t.nextRuleModifiers)),t.nextRuleModifiers=[],t}},MA.prototype._applyModifier=function(i,e){return this.nextRuleModifiers.push(new L0e(e,i.simple,i.async)),this},MA.prototype._clone=function(){return new MA(this.chain.slice(),this.nextRuleModifiers.slice())},MA.prototype.test=function(i){return this.chain.every(function(e){return e._test(i)})},MA.prototype.testAll=function(i){var e=[];return this.chain.forEach(function(t){try{t._check(i)}catch(n){e.push(new nO(t,i,n))}}),e},MA.prototype.check=function(i){this.chain.forEach(function(e){try{e._check(i)}catch(t){throw new nO(e,i,t)}})},MA.prototype.testAsync=function(i){var e=this;return new Promise(function(t,n){IJ(i,e.chain.slice(),t,n)})};var pV=function(i,e){return!(!e||typeof i!="string"||i.trim().length!==0)||i==null};function ic(){return typeof Proxy<"u"?MJ(new MA):rO(new MA)}var UB={};function MJ(i){return new Proxy(i,{get:function(e,t){if(t in e)return e[t];var n=MJ(i._clone());return t in I5?n._applyModifier(I5[t],t):t in UB?n._applyRule(UB[t],t):t in oO?n._applyRule(oO[t],t):void 0}})}function rO(i){var e=function(r,o){return Object.keys(r).forEach(function(s){o[s]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];return rO(o._clone())._applyRule(r[s],s).apply(void 0,a)}}),o},t=e(oO,i),n=e(UB,t);return Object.keys(I5).forEach(function(r){Object.defineProperty(n,r,{get:function(){return rO(n._clone())._applyModifier(I5[r],r)}})}),n}ic.extend=function(i){Object.assign(UB,i)},ic.clearCustomRules=function(){UB={}};var I5={not:{simple:function(i){return function(e){return!i(e)}},async:function(i){return function(e){return Promise.resolve(i(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(i){return function(e){return y1(e).some(function(t){try{return i(t)}catch{return!1}})}},async:function(i){return function(e){return Promise.all(y1(e).map(function(t){try{return i(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(i){return function(e){return e!==!1&&y1(e).every(i)}},async:function(i){return function(e){return Promise.all(y1(e).map(i)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(i,e){return function(t){return fV(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&i(t):i(t)}},async:function(i,e){return function(t){return Promise.resolve(i(t)).then(function(n){return fV(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n:n}).catch(function(){return!1})}}}};function fV(i){return i&&i.name==="schema"&&i.args.length>0&&typeof i.args[0]=="object"}function y1(i){return typeof i=="string"?i.split(""):i}var oO={equal:function(i){return function(e){return e==i}},exact:function(i){return function(e){return e===i}},number:function(i){return i===void 0&&(i=!0),function(e){return typeof e=="number"&&(i||isFinite(e))}},integer:function(){return function(i){return(Number.isInteger||O0e)(i)}},numeric:function(){return function(i){return!isNaN(parseFloat(i))&&isFinite(i)}},string:function(){return lb("string")},boolean:function(){return lb("boolean")},undefined:function(){return lb("undefined")},null:function(){return lb("null")},array:function(){return lb("array")},object:function(){return lb("object")},instanceOf:function(i){return function(e){return e instanceof i}},pattern:function(i){return function(e){return i.test(e)}},lowercase:function(){return function(i){return typeof i=="boolean"||i===i.toLowerCase()&&i.trim()!==""}},uppercase:function(){return function(i){return i===i.toUpperCase()&&i.trim()!==""}},vowel:function(){return function(i){return/^[aeiou]+$/i.test(i)}},consonant:function(){return function(i){return/^(?=[^aeiou])([a-z]+)$/i.test(i)}},first:function(i){return function(e){return e[0]==i}},last:function(i){return function(e){return e[e.length-1]==i}},empty:function(){return function(i){return i.length===0}},length:function(i,e){return function(t){return t.length>=i&&t.length<=(e||i)}},minLength:function(i){return function(e){return e.length>=i}},maxLength:function(i){return function(e){return e.length<=i}},negative:function(){return function(i){return i<0}},positive:function(){return function(i){return i>=0}},between:function(i,e){return function(t){return t>=i&&t<=e}},range:function(i,e){return function(t){return t>=i&&t<=e}},lessThan:function(i){return function(e){return e<i}},lessThanOrEqual:function(i){return function(e){return e<=i}},greaterThan:function(i){return function(e){return e>i}},greaterThanOrEqual:function(i){return function(e){return e>=i}},even:function(){return function(i){return i%2==0}},odd:function(){return function(i){return i%2!=0}},includes:function(i){return function(e){return~e.indexOf(i)}},schema:function(i){return function(e){return{simple:function(t){var n=[];if(Object.keys(e).forEach(function(r){var o=e[r];try{o.check((t||{})[r])}catch(s){s.target=r,n.push(s)}}),n.length>0)throw n;return!0},async:function(t){var n=[],r=Object.keys(e).map(function(o){return e[o].testAsync((t||{})[o]).catch(function(s){s.target=o,n.push(s)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}(i)},passesAnyOf:function(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];return function(t){return i.some(function(n){return n.test(t)})}},optional:function(i,e){return e===void 0&&(e=!1),{simple:function(t){return pV(t,e)||i.check(t)===void 0},async:function(t){return pV(t,e)||i.testAsync(t)}}}};function lb(i){return function(e){return Array.isArray(e)&&i==="array"||e===null&&i==="null"||typeof e===i}}function O0e(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i}var qn="colors",al="sizes",Pt="space",Q0e={gap:Pt,gridGap:Pt,columnGap:Pt,gridColumnGap:Pt,rowGap:Pt,gridRowGap:Pt,inset:Pt,insetBlock:Pt,insetBlockEnd:Pt,insetBlockStart:Pt,insetInline:Pt,insetInlineEnd:Pt,insetInlineStart:Pt,margin:Pt,marginTop:Pt,marginRight:Pt,marginBottom:Pt,marginLeft:Pt,marginBlock:Pt,marginBlockEnd:Pt,marginBlockStart:Pt,marginInline:Pt,marginInlineEnd:Pt,marginInlineStart:Pt,padding:Pt,paddingTop:Pt,paddingRight:Pt,paddingBottom:Pt,paddingLeft:Pt,paddingBlock:Pt,paddingBlockEnd:Pt,paddingBlockStart:Pt,paddingInline:Pt,paddingInlineEnd:Pt,paddingInlineStart:Pt,top:Pt,right:Pt,bottom:Pt,left:Pt,scrollMargin:Pt,scrollMarginTop:Pt,scrollMarginRight:Pt,scrollMarginBottom:Pt,scrollMarginLeft:Pt,scrollMarginX:Pt,scrollMarginY:Pt,scrollMarginBlock:Pt,scrollMarginBlockEnd:Pt,scrollMarginBlockStart:Pt,scrollMarginInline:Pt,scrollMarginInlineEnd:Pt,scrollMarginInlineStart:Pt,scrollPadding:Pt,scrollPaddingTop:Pt,scrollPaddingRight:Pt,scrollPaddingBottom:Pt,scrollPaddingLeft:Pt,scrollPaddingX:Pt,scrollPaddingY:Pt,scrollPaddingBlock:Pt,scrollPaddingBlockEnd:Pt,scrollPaddingBlockStart:Pt,scrollPaddingInline:Pt,scrollPaddingInlineEnd:Pt,scrollPaddingInlineStart:Pt,fontSize:"fontSizes",background:qn,backgroundColor:qn,backgroundImage:qn,borderImage:qn,border:qn,borderBlock:qn,borderBlockEnd:qn,borderBlockStart:qn,borderBottom:qn,borderBottomColor:qn,borderColor:qn,borderInline:qn,borderInlineEnd:qn,borderInlineStart:qn,borderLeft:qn,borderLeftColor:qn,borderRight:qn,borderRightColor:qn,borderTop:qn,borderTopColor:qn,caretColor:qn,color:qn,columnRuleColor:qn,fill:qn,outline:qn,outlineColor:qn,stroke:qn,textDecorationColor:qn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:al,minBlockSize:al,maxBlockSize:al,inlineSize:al,minInlineSize:al,maxInlineSize:al,width:al,minWidth:al,maxWidth:al,height:al,minHeight:al,maxHeight:al,flexBasis:al,gridTemplateColumns:al,gridTemplateRows:al,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},N0e=(i,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,ww=()=>{const i=Object.create(null);return(e,t,...n)=>{const r=(o=>JSON.stringify(o,N0e))(e);return r in i?i[r]:i[r]=t(e,...n)}},ev=Symbol.for("sxs.internal"),xN=(i,e)=>Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)),gV=i=>{for(const e in i)return!0;return!1},{hasOwnProperty:H0e}=Object.prototype,sO=i=>i.includes("-")?i:i.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),z0e=/\s+(?![^()]*\))/,cb=i=>e=>i(...typeof e=="string"?String(e).split(z0e):[e]),mV={appearance:i=>({WebkitAppearance:i,appearance:i}),backfaceVisibility:i=>({WebkitBackfaceVisibility:i,backfaceVisibility:i}),backdropFilter:i=>({WebkitBackdropFilter:i,backdropFilter:i}),backgroundClip:i=>({WebkitBackgroundClip:i,backgroundClip:i}),boxDecorationBreak:i=>({WebkitBoxDecorationBreak:i,boxDecorationBreak:i}),clipPath:i=>({WebkitClipPath:i,clipPath:i}),content:i=>({content:i.includes('"')||i.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(i)?i:`"${i}"`}),hyphens:i=>({WebkitHyphens:i,hyphens:i}),maskImage:i=>({WebkitMaskImage:i,maskImage:i}),maskSize:i=>({WebkitMaskSize:i,maskSize:i}),tabSize:i=>({MozTabSize:i,tabSize:i}),textSizeAdjust:i=>({WebkitTextSizeAdjust:i,textSizeAdjust:i}),userSelect:i=>({WebkitUserSelect:i,userSelect:i}),marginBlock:cb((i,e)=>({marginBlockStart:i,marginBlockEnd:e||i})),marginInline:cb((i,e)=>({marginInlineStart:i,marginInlineEnd:e||i})),maxSize:cb((i,e)=>({maxBlockSize:i,maxInlineSize:e||i})),minSize:cb((i,e)=>({minBlockSize:i,minInlineSize:e||i})),paddingBlock:cb((i,e)=>({paddingBlockStart:i,paddingBlockEnd:e||i})),paddingInline:cb((i,e)=>({paddingInlineStart:i,paddingInlineEnd:e||i}))},o9=/([\d.]+)([^]*)/,G0e=(i,e)=>i.length?i.reduce((t,n)=>(t.push(...e.map(r=>r.includes("&")?r.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(r)?`:is(${n})`:n):n+" "+r)),t),[]):e,V0e=(i,e)=>i in q0e&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,n,r,o)=>n+(r==="stretch"?`-moz-available${o};${sO(i)}:${n}-webkit-fill-available`:`-moz-fit-content${o};${sO(i)}:${n}fit-content`)+o):String(e),q0e={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Fp=i=>i?i+"-":"",RJ=(i,e,t)=>i.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(n,r,o,s,a)=>s=="$"==!!o?n:(r||s=="--"?"calc(":"")+"var(--"+(s==="$"?Fp(e)+(a.includes("$")?"":Fp(t))+a.replace(/\$/g,"-"):a)+")"+(r||s=="--"?"*"+(r||"")+(o||"1")+")":"")),W0e=/\s*,\s*(?![^()]*\))/,j0e=Object.prototype.toString,gy=(i,e,t,n,r)=>{let o,s,a;const l=(c,u,h)=>{let d,p;const g=v=>{for(d in v){const x=d.charCodeAt(0)===64,C=x&&Array.isArray(v[d])?v[d]:[v[d]];for(p of C){const S=/[A-Z]/.test(b=d)?b:b.replace(/-[^]/g,I=>I[1].toUpperCase()),E=typeof p=="object"&&p&&p.toString===j0e&&(!n.utils[S]||!u.length);if(S in n.utils&&!E){const I=n.utils[S];if(I!==s){s=I,g(I(p)),s=null;continue}}else if(S in mV){const I=mV[S];if(I!==a){a=I,g(I(p)),a=null;continue}}if(x&&(_=d.slice(1)in n.media?"@media "+n.media[d.slice(1)]:d,d=_.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(I,M,k,F,P,Q)=>{const N=o9.test(M),W=.0625*(N?-1:1),[q,J]=N?[F,M]:[M,F];return"("+(k[0]==="="?"":k[0]===">"===N?"max-":"min-")+q+":"+(k[0]!=="="&&k.length===1?J.replace(o9,(V,Y,Z)=>Number(Y)+W*(k===">"?1:-1)+Z):J)+(P?") and ("+(P[0]===">"?"min-":"max-")+q+":"+(P.length===1?Q.replace(o9,(V,Y,Z)=>Number(Y)+W*(P===">"?-1:1)+Z):Q):"")+")"})),E){const I=x?h.concat(d):[...h],M=x?[...u]:G0e(u,d.split(W0e));o!==void 0&&r(_V(...o)),o=void 0,l(p,M,I)}else o===void 0&&(o=[[],u,h]),d=x||d.charCodeAt(0)!==36?d:`--${Fp(n.prefix)}${d.slice(1).replace(/\$/g,"-")}`,p=E?p:typeof p=="number"?p&&S in K0e?String(p)+"px":String(p):RJ(V0e(S,p??""),n.prefix,n.themeMap[S]),o[0].push(`${x?`${d} `:`${sO(d)}:`}${p}`)}}var _,b};g(c),o!==void 0&&r(_V(...o)),o=void 0};l(i,e,t)},_V=(i,e,t)=>`${t.map(n=>`${n}{`).join("")}${e.length?`${e.join(",")}{`:""}${i.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,K0e={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},vV=i=>String.fromCharCode(i+(i>25?39:97)),tv=i=>(e=>{let t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=vV(t%52)+n;return vV(t%52)+n})(((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(5381,JSON.stringify(i))>>>0),m2=["themed","global","styled","onevar","resonevar","allvar","inline"],$0e=i=>{if(i.href&&!i.href.startsWith(location.origin))return!1;try{return!!i.cssRules}catch{return!1}},X0e=i=>{let e;const t=()=>{const{cssRules:r}=e.sheet;return[].map.call(r,(o,s)=>{const{cssText:a}=o;let l="";if(a.startsWith("--sxs"))return"";if(r[s-1]&&(l=r[s-1].cssText).startsWith("--sxs")){if(!o.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===o)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return o.cssRules.length?`${l}${a}`:""}return a}).join("")},n=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const r=Object(i).styleSheets||[];for(const a of r)if($0e(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const h=Object(c[l+1]);if(h.type!==4)continue;++l;const{cssText:d}=u;if(!d.startsWith("--sxs"))continue;const p=d.slice(14,-3).trim().split(/\s+/),g=m2[p[0]];g&&(e||(e={sheet:a,reset:n,rules:{},toString:t}),e.rules[g]={group:h,index:l,cache:new Set(p)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,h){this.cssRules.splice(h,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:i?(i.head||i).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:n,toString:t}}const{sheet:o,rules:s}=e;for(let a=m2.length-1;a>=0;--a){const l=m2[a];if(!s[l]){const c=m2[a+1],u=s[c]?s[c].index:o.cssRules.length;o.insertRule("@media{}",u),o.insertRule(`--sxs{--sxs:${a}}`,u),s[l]={group:o.cssRules[u+1],index:u,cache:new Set([a])}}Y0e(s[l])}};return n(),e},Y0e=i=>{const e=i.group;let t=e.cssRules.length;i.apply=n=>{try{e.insertRule(n,t),++t}catch{}}},IC=Symbol(),Z0e=ww(),bV=(i,e)=>Z0e(i,()=>(...t)=>{let n={type:null,composers:new Set};for(const r of t)if(r!=null)if(r[ev]){n.type==null&&(n.type=r[ev].type);for(const o of r[ev].composers)n.composers.add(o)}else r.constructor!==Object||r.$$typeof?n.type==null&&(n.type=r):n.composers.add(J0e(r,i));return n.type==null&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),ebe(i,n,e)}),J0e=({variants:i,compoundVariants:e,defaultVariants:t,...n},r)=>{const o=`${Fp(r.prefix)}c-${tv(n)}`,s=[],a=[],l=Object.create(null),c=[];for(const d in t)l[d]=String(t[d]);if(typeof i=="object"&&i)for(const d in i){u=l,h=d,H0e.call(u,h)||(l[d]="undefined");const p=i[d];for(const g in p){const v={[d]:String(g)};String(g)==="undefined"&&c.push(d);const _=p[g],b=[v,_,!gV(_)];s.push(b)}}var u,h;if(typeof e=="object"&&e)for(const d of e){let{css:p,...g}=d;p=typeof p=="object"&&p||{};for(const _ in g)g[_]=String(g[_]);const v=[g,p,!gV(p)];a.push(v)}return[o,n,s,a,l,c]},ebe=(i,e,t)=>{const[n,r,o,s]=tbe(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(h=>{function d(){for(let p=0;p<d[IC].length;p++){const[g,v]=d[IC][p];h.rules[g].apply(v)}return d[IC]=[],null}return d[IC]=[],d.rules={},m2.forEach(p=>d.rules[p]={apply:g=>d[IC].push([p,g])}),d})(t):null,l=(a||t).rules,c=`.${n}${r.length>1?`:where(.${r.slice(1).join(".")})`:""}`,u=h=>{h=typeof h=="object"&&h||ibe;const{css:d,...p}=h,g={};for(const b in o)if(delete p[b],b in h){let x=h[b];typeof x=="object"&&x?g[b]={"@initial":o[b],...x}:(x=String(x),g[b]=x!=="undefined"||s.has(b)?x:o[b])}else g[b]=o[b];const v=new Set([...r]);for(const[b,x,C,S]of e.composers){t.rules.styled.cache.has(b)||(t.rules.styled.cache.add(b),gy(x,[`.${b}`],[],i,M=>{l.styled.apply(M)}));const E=yV(C,g,i.media),I=yV(S,g,i.media,!0);for(const M of E)if(M!==void 0)for(const[k,F,P]of M){const Q=`${b}-${tv(F)}-${k}`;v.add(Q);const N=(P?t.rules.resonevar:t.rules.onevar).cache,W=P?l.resonevar:l.onevar;N.has(Q)||(N.add(Q),gy(F,[`.${Q}`],[],i,q=>{W.apply(q)}))}for(const M of I)if(M!==void 0)for(const[k,F]of M){const P=`${b}-${tv(F)}-${k}`;v.add(P),t.rules.allvar.cache.has(P)||(t.rules.allvar.cache.add(P),gy(F,[`.${P}`],[],i,Q=>{l.allvar.apply(Q)}))}}if(typeof d=="object"&&d){const b=`${n}-i${tv(d)}-css`;v.add(b),t.rules.inline.cache.has(b)||(t.rules.inline.cache.add(b),gy(d,[`.${b}`],[],i,x=>{l.inline.apply(x)}))}for(const b of String(h.className||"").trim().split(/\s+/))b&&v.add(b);const _=p.className=[...v].join(" ");return{type:e.type,className:_,selector:c,props:p,toString:()=>_,deferredInjector:a}};return xN(u,{className:n,selector:c,[ev]:e,toString:()=>(t.rules.styled.cache.has(n)||u(),n)})},tbe=i=>{let e="";const t=[],n={},r=[];for(const[o,,,,s,a]of i){e===""&&(e=o),t.push(o),r.push(...a);for(const l in s){const c=s[l];(n[l]===void 0||c!=="undefined"||a.includes(c))&&(n[l]=c)}}return[e,t,n,new Set(r)]},yV=(i,e,t,n)=>{const r=[];e:for(let[o,s,a]of i){if(a)continue;let l,c=0,u=!1;for(l in o){const h=o[l];let d=e[l];if(d!==h){if(typeof d!="object"||!d)continue e;{let p,g,v=0;for(const _ in d){if(h===String(d[_])){if(_!=="@initial"){const b=_.slice(1);(g=g||[]).push(b in t?t[b]:_.replace(/^@media ?/,"")),u=!0}c+=v,p=!0}++v}if(g&&g.length&&(s={["@media "+g.join(", ")]:s}),!p)continue e}}}(r[c]=r[c]||[]).push([n?"cv":`${l}-${o[l]}`,s,u])}return r},ibe={},nbe=ww(),rbe=(i,e)=>nbe(i,()=>(...t)=>{const n=()=>{for(let r of t){r=typeof r=="object"&&r||{};let o=tv(r);if(!e.rules.global.cache.has(o)){if(e.rules.global.cache.add(o),"@import"in r){let s=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(r["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,s++);delete r["@import"]}gy(r,[],[],i,s=>{e.rules.global.apply(s)})}}return""};return xN(n,{toString:n})}),obe=ww(),sbe=(i,e)=>obe(i,()=>t=>{const n=`${Fp(i.prefix)}k-${tv(t)}`,r=()=>{if(!e.rules.global.cache.has(n)){e.rules.global.cache.add(n);const o=[];gy(t,[],[],i,a=>o.push(a));const s=`@keyframes ${n}{${o.join("")}}`;e.rules.global.apply(s)}return n};return xN(r,{get name(){return r()},toString:r})}),abe=class{constructor(i,e,t,n){this.token=i==null?"":String(i),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=n==null?"":String(n)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Fp(this.prefix)+Fp(this.scale)+this.token}toString(){return this.computedValue}},lbe=ww(),cbe=(i,e)=>lbe(i,()=>(t,n)=>{n=typeof t=="object"&&t||Object(n);const r=`.${t=(t=typeof t=="string"?t:"")||`${Fp(i.prefix)}t-${tv(n)}`}`,o={},s=[];for(const l in n){o[l]={};for(const c in n[l]){const u=`--${Fp(i.prefix)}${l}-${c}`,h=RJ(String(n[l][c]),i.prefix,l);o[l][c]=new abe(c,h,l,i.prefix),s.push(`${u}:${h}`)}}const a=()=>{if(s.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${n===i.theme?":root,":""}.${t}{${s.join(";")}}`;e.rules.themed.apply(l)}return t};return{...o,get className(){return a()},selector:r,toString:a}}),ube=ww(),hbe=ww();const Ga={toVector:(i,e)=>(i===void 0&&(i=e),Array.isArray(i)?i:[i,i]),add:(i,e)=>[i[0]+e[0],i[1]+e[1]],sub:(i,e)=>[i[0]-e[0],i[1]-e[1]],addTo(i,e){i[0]+=e[0],i[1]+=e[1]},subTo(i,e){i[0]-=e[0],i[1]-=e[1]}};function wV(i,e,t){return e===0||Math.abs(e)===1/0?Math.pow(i,5*t):i*e*t/(e+t*i)}function xV(i,e,t,n=.15){return n===0?function(r,o,s){return Math.max(o,Math.min(r,s))}(i,e,t):i<e?-wV(e-i,t-e,n)+e:i>t?+wV(i-t,t-e,n)+t:i}function Abe(i){var e=function(t,n){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}(i,"string");return typeof e=="symbol"?e:String(e)}function Zl(i,e,t){return(e=Abe(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function CV(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function Kr(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CV(Object(t),!0).forEach(function(n){Zl(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):CV(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}const kJ={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function BV(i){return i?i[0].toUpperCase()+i.slice(1):""}const dbe=["enter","leave"];function pbe(i,e="",t=!1){const n=kJ[i],r=n&&n[e]||e;return"on"+BV(i)+BV(r)+(function(o=!1,s){return o&&!dbe.includes(s)}(t,r)?"Capture":"")}const fbe=["gotpointercapture","lostpointercapture"];function gbe(i){let e=i.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const n=fbe.includes(e)?"capturecapture":"capture",r=!!~e.indexOf(n);return r&&(e=e.replace("capture","")),{device:e,capture:r,passive:t}}function Bk(i){return"touches"in i}function FJ(i){return Bk(i)?"touch":"pointerType"in i?i.pointerType:"mouse"}function DJ(i){return Bk(i)?function(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}(i)[0]:i}function mbe(i){return function(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}(i).map(e=>e.identifier)}function s9(i){const e=DJ(i);return Bk(i)?e.identifier:e.pointerId}function SV(i){const e=DJ(i);return[e.clientX,e.clientY]}function M5(i,...e){return typeof i=="function"?i(...e):i}function _be(){}function vbe(...i){return i.length===0?_be:i.length===1?i[0]:function(){let e;for(const t of i)e=t.apply(this,arguments)||e;return e}}function EV(i,e){return Object.assign({},e,i||{})}class bbe{constructor(e,t,n){this.ctrl=e,this.args=t,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:n,args:r}=this;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?M5(n.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:n,shared:r}=this;t.args=this.args;let o=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(I){const M={};if("buttons"in I&&(M.buttons=I.buttons),"shiftKey"in I){const{shiftKey:k,altKey:F,metaKey:P,ctrlKey:Q}=I;Object.assign(M,{shiftKey:k,altKey:F,metaKey:P,ctrlKey:Q})}return M}(e)),r.down=r.pressed=r.buttons%2==1||r.touches>0,o=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const I=t._delta.map(Math.abs);Ga.addTo(t._distance,I)}this.axisIntent&&this.axisIntent(e);const[s,a]=t._movement,[l,c]=n.threshold,{_step:u,values:h}=t;if(n.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(s)>=l&&h[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&h[1])):(u[0]===!1&&(u[0]=Math.abs(s)>=l&&Math.sign(s)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=u[0]!==!1||u[1]!==!1,!t.intentional)return;const d=[0,0];if(n.hasCustomTransform){const[I,M]=h;d[0]=u[0]!==!1?I-u[0]:0,d[1]=u[1]!==!1?M-u[1]:0}else d[0]=u[0]!==!1?s-u[0]:0,d[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);const p=t.offset,g=t._active&&!t._blocked||t.active;g&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=M5(n.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));const[v,_]=t.offset,[[b,x],[C,S]]=t._bounds;t.overflow=[v<b?-1:v>x?1:0,_<C?-1:_>S?1:0],t._movementBound[0]=!!t.overflow[0]&&(t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]);const E=t._active&&n.rubberband||[0,0];if(t.offset=function(I,[M,k],[F,P]){const[[Q,N],[W,q]]=I;return[xV(M,Q,N,F),xV(k,W,q,P)]}(t._bounds,t.offset,E),t.delta=Ga.sub(t.offset,p),this.computeMovement(),g&&(!t.last||o>32)){t.delta=Ga.sub(t.offset,p);const I=t.delta.map(Math.abs);Ga.addTo(t.distance,I),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&o>0&&(t.velocity=[I[0]/o,I[1]/o],t.timeDelta=o)}}emit(){const e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;const r=this.handler(Kr(Kr(Kr({},t),e),{},{[this.aliasKey]:e.values}));r!==void 0&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class ybe extends bbe{constructor(...e){super(...e),Zl(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Ga.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Ga.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,n=this.config;if(!t.axis&&e){const r=typeof n.axisThreshold=="object"?n.axisThreshold[FJ(e)]:n.axisThreshold;t.axis=function([o,s],a){const l=Math.abs(o),c=Math.abs(s);return l>c&&l>a?"x":c>l&&c>a?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}const wbe=i=>i,UJ={enabled:(i=!0)=>i,eventOptions:(i,e,t)=>Kr(Kr({},t.shared.eventOptions),i),preventDefault:(i=!1)=>i,triggerAllEvents:(i=!1)=>i,rubberband(i=0){switch(i){case!0:return[.15,.15];case!1:return[0,0];default:return Ga.toVector(i)}},from:i=>typeof i=="function"?i:i!=null?Ga.toVector(i):void 0,transform(i,e,t){const n=i||t.shared.transform;return this.hasCustomTransform=!!n,n||wbe},threshold:i=>Ga.toVector(i,0)},PB=Kr(Kr({},UJ),{},{axis(i,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold:(i=0)=>i,bounds(i={}){if(typeof i=="function")return o=>PB.bounds(i(o));if("current"in i)return()=>i.current;if(typeof HTMLElement=="function"&&i instanceof HTMLElement)return i;const{left:e=-1/0,right:t=1/0,top:n=-1/0,bottom:r=1/0}=i;return[[e,t],[n,r]]}}),TV={ArrowRight:(i,e=1)=>[i*e,0],ArrowLeft:(i,e=1)=>[-1*i*e,0],ArrowUp:(i,e=1)=>[0,-1*i*e],ArrowDown:(i,e=1)=>[0,i*e]},_2=typeof window<"u"&&window.document&&window.document.createElement;function IV(){return _2&&"ontouchstart"in window}const xu={isBrowser:_2,gesture:function(){try{return"constructor"in GestureEvent}catch{return!1}}(),touch:IV(),touchscreen:IV()||_2&&window.navigator.maxTouchPoints>1,pointer:_2&&"onpointerdown"in window,pointerLock:_2&&"exitPointerLock"in window.document},MV={mouse:0,touch:0,pen:8},xbe=Kr(Kr({},PB),{},{device(i,e,{pointer:{touch:t=!1,lock:n=!1,mouse:r=!1}={}}){return this.pointerLock=n&&xu.pointerLock,xu.touch&&t?"touch":this.pointerLock?"mouse":xu.pointer&&!r?"pointer":xu.touch?"touch":"mouse"},preventScrollAxis(i,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&i?250:void 0,xu.touchscreen&&t!==!1)return i||(t!==void 0?"y":void 0)},pointerCapture(i,e,{pointer:{capture:t=!0,buttons:n=1,keys:r=!0}={}}){return this.pointerButtons=n,this.keys=r,!this.pointerLock&&this.device==="pointer"&&t},threshold(i,e,{filterTaps:t=!1,tapsThreshold:n=3,axis:r}){const o=Ga.toVector(i,t?n:r?1:0);return this.filterTaps=t,this.tapsThreshold=n,o},swipe({velocity:i=.5,distance:e=50,duration:t=250}={}){return{velocity:this.transform(Ga.toVector(i)),distance:this.transform(Ga.toVector(e)),duration:t}},delay(i=0){switch(i){case!0:return 180;case!1:return 0;default:return i}},axisThreshold:i=>i?Kr(Kr({},MV),i):MV,keyboardDisplacement:(i=10)=>i});Kr(Kr({},UJ),{},{device(i,e,{shared:t,pointer:{touch:n=!1}={}}){if(t.target&&!xu.touch&&xu.gesture)return"gesture";if(xu.touch&&n)return"touch";if(xu.touchscreen){if(xu.pointer)return"pointer";if(xu.touch)return"touch"}},bounds(i,e,{scaleBounds:t={},angleBounds:n={}}){const r=s=>{const a=EV(M5(t,s),{min:-1/0,max:1/0});return[a.min,a.max]},o=s=>{const a=EV(M5(n,s),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof n!="function"?[r(),o()]:s=>[r(s),o(s)]},threshold(i,e,t){return this.lockDirection=t.axis==="lock",Ga.toVector(i,this.lockDirection?[.1,3]:0)},modifierKey:i=>i===void 0?"ctrlKey":i,pinchOnWheel:(i=!0)=>i}),Kr(Kr({},PB),{},{mouseOnly:(i=!0)=>i}),Kr(Kr({},PB),{},{mouseOnly:(i=!0)=>i});const PJ=new Map,aO=new Map,Cbe={key:"drag",engine:class extends ybe{constructor(...i){super(...i),Zl(this,"ingKey","dragging")}reset(){super.reset();const i=this.state;i._pointerId=void 0,i._pointerActive=!1,i._keyboardActive=!1,i._preventScroll=!1,i._delayed=!1,i.swipe=[0,0],i.tap=!1,i.canceled=!1,i.cancel=this.cancel.bind(this)}setup(){const i=this.state;if(i._bounds instanceof HTMLElement){const e=i._bounds.getBoundingClientRect(),t=i.currentTarget.getBoundingClientRect(),n={left:e.left-t.left+i.offset[0],right:e.right-t.right+i.offset[0],top:e.top-t.top+i.offset[1],bottom:e.bottom-t.bottom+i.offset[1]};i._bounds=PB.bounds(n)}}cancel(){const i=this.state;i.canceled||(i.canceled=!0,i._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(i){const e=this.config,t=this.state;if(i.buttons!=null&&(Array.isArray(e.pointerButtons)?!e.pointerButtons.includes(i.buttons):e.pointerButtons!==-1&&e.pointerButtons!==i.buttons))return;const n=this.ctrl.setEventIds(i);e.pointerCapture&&i.target.setPointerCapture(i.pointerId),n&&n.size>1&&t._pointerActive||(this.start(i),this.setupPointer(i),t._pointerId=s9(i),t._pointerActive=!0,this.computeValues(SV(i)),this.computeInitial(),e.preventScrollAxis&&FJ(i)!=="mouse"?(t._active=!1,this.setupScrollPrevention(i)):e.delay>0?(this.setupDelayTrigger(i),e.triggerAllEvents&&(this.compute(i),this.emit())):this.startPointerDrag(i))}startPointerDrag(i){const e=this.state;e._active=!0,e._preventScroll=!0,e._delayed=!1,this.compute(i),this.emit()}pointerMove(i){const e=this.state,t=this.config;if(!e._pointerActive)return;const n=s9(i);if(e._pointerId!==void 0&&n!==e._pointerId)return;const r=SV(i);return document.pointerLockElement===i.target?e._delta=[i.movementX,i.movementY]:(e._delta=Ga.sub(r,e._values),this.computeValues(r)),Ga.addTo(e._movement,e._delta),this.compute(i),e._delayed&&e.intentional?(this.timeoutStore.remove("dragDelay"),e.active=!1,void this.startPointerDrag(i)):t.preventScrollAxis&&!e._preventScroll?e.axis?e.axis===t.preventScrollAxis||t.preventScrollAxis==="xy"?(e._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(i)):void 0:void this.emit()}pointerUp(i){this.ctrl.setEventIds(i);try{this.config.pointerCapture&&i.target.hasPointerCapture(i.pointerId)&&i.target.releasePointerCapture(i.pointerId)}catch{}const e=this.state,t=this.config;if(!e._active||!e._pointerActive)return;const n=s9(i);if(e._pointerId!==void 0&&n!==e._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(i);const[r,o]=e._distance;if(e.tap=r<=t.tapsThreshold&&o<=t.tapsThreshold,e.tap&&t.filterTaps)e._force=!0;else{const[s,a]=e._delta,[l,c]=e._movement,[u,h]=t.swipe.velocity,[d,p]=t.swipe.distance,g=t.swipe.duration;if(e.elapsedTime<g){const v=Math.abs(s/e.timeDelta),_=Math.abs(a/e.timeDelta);v>u&&Math.abs(l)>d&&(e.swipe[0]=Math.sign(s)),_>h&&Math.abs(c)>p&&(e.swipe[1]=Math.sign(a))}}this.emit()}pointerClick(i){!this.state.tap&&i.detail>0&&(i.preventDefault(),i.stopPropagation())}setupPointer(i){const e=this.config,t=e.device;e.pointerLock&&i.currentTarget.requestPointerLock(),e.pointerCapture||(this.eventStore.add(this.sharedConfig.window,t,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,t,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,t,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(i){this.state._preventScroll&&i.cancelable&&i.preventDefault()}setupScrollPrevention(i){this.state._preventScroll=!1,function(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}(i);const e=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",e),this.eventStore.add(this.sharedConfig.window,"touch","cancel",e),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,i)}setupDelayTrigger(i){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(i)},this.config.delay)}keyDown(i){const e=TV[i.key];if(e){const t=this.state,n=i.shiftKey?10:i.altKey?.1:1;this.start(i),t._delta=e(this.config.keyboardDisplacement,n),t._keyboardActive=!0,Ga.addTo(t._movement,t._delta),this.compute(i),this.emit()}}keyUp(i){i.key in TV&&(this.state._keyboardActive=!1,this.setActive(),this.compute(i),this.emit())}bind(i){const e=this.config.device;i(e,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(i(e,"change",this.pointerMove.bind(this)),i(e,"end",this.pointerUp.bind(this)),i(e,"cancel",this.pointerUp.bind(this)),i("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(i("key","down",this.keyDown.bind(this)),i("key","up",this.keyUp.bind(this))),this.config.filterTaps&&i("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},resolver:xbe};function Bbe(i,e){if(i==null)return{};var t,n,r=function(s,a){if(s==null)return{};var l,c,u={},h=Object.keys(s);for(c=0;c<h.length;c++)l=h[c],a.indexOf(l)>=0||(u[l]=s[l]);return u}(i,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(n=0;n<o.length;n++)t=o[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(i,t)&&(r[t]=i[t])}return r}const Sbe={target(i){if(i)return()=>"current"in i?i.current:i},enabled:(i=!0)=>i,window:(i=xu.isBrowser?window:void 0)=>i,eventOptions:({passive:i=!0,capture:e=!1}={})=>({passive:i,capture:e}),transform:i=>i},Ebe=["target","eventOptions","window","enabled","transform"];function rM(i={},e){const t={};for(const[n,r]of Object.entries(e))switch(typeof r){case"function":t[n]=r.call(t,i[n],n,i);break;case"object":t[n]=rM(i[n],r);break;case"boolean":r&&(t[n]=i[n])}return t}class LJ{constructor(e,t){Zl(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,n,r,o){const s=this._listeners,a=function(u,h=""){const d=kJ[u];return u+(d&&d[h]||h)}(t,n),l=Kr(Kr({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),o);e.addEventListener(a,r,l);const c=()=>{e.removeEventListener(a,r,l),s.delete(c)};return s.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Tbe{constructor(){Zl(this,"_timeouts",new Map)}add(e,t,n=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,n,...r))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>{window.clearTimeout(e)}),this._timeouts.clear()}}class Ibe{constructor(e){Zl(this,"gestures",new Set),Zl(this,"_targetEventStore",new LJ(this)),Zl(this,"gestureEventStores",{}),Zl(this,"gestureTimeoutStores",{}),Zl(this,"handlers",{}),Zl(this,"config",{}),Zl(this,"pointerIds",new Set),Zl(this,"touchIds",new Set),Zl(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(t,n){n.drag&&ub(t,"drag"),n.wheel&&ub(t,"wheel"),n.scroll&&ub(t,"scroll"),n.move&&ub(t,"move"),n.pinch&&ub(t,"pinch"),n.hover&&ub(t,"hover")}(this,e)}setEventIds(e){return Bk(e)?(this.touchIds=new Set(mbe(e)),this.touchIds):"pointerId"in e?(e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(n,r,o={}){const s=n,{target:a,eventOptions:l,window:c,enabled:u,transform:h}=s,d=Bbe(s,Ebe);if(o.shared=rM({target:a,eventOptions:l,window:c,enabled:u,transform:h},Sbe),r){const p=aO.get(r);o[r]=rM(Kr({shared:o.shared},d),p)}else for(const p in d){const g=aO.get(p);g&&(o[p]=rM(Kr({shared:o.shared},d[p]),g))}return o}(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,n={};let r;if(!t.target||(r=t.target(),r)){if(t.enabled){for(const s of this.gestures){const a=this.config[s],l=RV(n,a.eventOptions,!!r);a.enabled&&new(PJ.get(s))(this,e,s).bind(l)}const o=RV(n,t.eventOptions,!!r);for(const s in this.nativeHandlers)o(s,"",a=>this.nativeHandlers[s](Kr(Kr({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const o in n)n[o]=vbe(...n[o]);if(!r)return n;for(const o in n){const{device:s,capture:a,passive:l}=gbe(o);this._targetEventStore.add(r,s,"",n[o],{capture:a,passive:l})}}}}function ub(i,e){i.gestures.add(e),i.gestureEventStores[e]=new LJ(i,e),i.gestureTimeoutStores[e]=new Tbe}const RV=(i,e,t)=>(n,r,o,s={},a=!1)=>{var l,c;const u=(l=s.capture)!==null&&l!==void 0?l:e.capture,h=(c=s.passive)!==null&&c!==void 0?c:e.passive;let d=a?n:pbe(n,r,u);t&&h&&(d+="Passive"),i[d]=i[d]||[],i[d].push(o)};function Mbe(i,e){var t;return t=Cbe,PJ.set(t.key,t.engine),aO.set(t.key,t.resolver),function(n,r={},o,s){const a=_e.useMemo(()=>new Ibe(n),[]);if(a.applyHandlers(n,s),a.applyConfig(r,o),_e.useEffect(a.effect.bind(a)),_e.useEffect(()=>a.clean.bind(a),[]),r.target===void 0)return a.bind.bind(a)}({drag:i},e||{},"drag")}function up(i,e,{checkForDefaultPrevented:t=!0}={}){return function(n){if(i==null||i(n),t===!1||!n.defaultPrevented)return e==null?void 0:e(n)}}function OJ(...i){return e=>i.forEach(t=>function(n,r){typeof n=="function"?n(r):n!=null&&(n.current=r)}(t,e))}function xw(...i){return ne.useCallback(OJ(...i),i)}function QJ(i,e=[]){let t=[];const n=()=>{const r=t.map(o=>ne.createContext(o));return function(o){const s=(o==null?void 0:o[i])||r;return ne.useMemo(()=>({[`__scope${i}`]:{...o,[i]:s}}),[o,s])}};return n.scopeName=i,[function(r,o){const s=ne.createContext(o),a=t.length;function l(c){const{scope:u,children:h,...d}=c,p=(u==null?void 0:u[i][a])||s,g=ne.useMemo(()=>d,Object.values(d));return ne.createElement(p.Provider,{value:g},h)}return t=[...t,o],l.displayName=r+"Provider",[l,function(c,u){const h=(u==null?void 0:u[i][a])||s,d=ne.useContext(h);if(d)return d;if(o!==void 0)return o;throw new Error(`\`${c}\` must be used within \`${r}\``)}]},Rbe(n,...e)]}function Rbe(...i){const e=i[0];if(i.length===1)return e;const t=()=>{const n=i.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(r){const o=n.reduce((s,{useScope:a,scopeName:l})=>({...s,...a(r)[`__scope${l}`]}),{});return ne.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}const NJ=ne.forwardRef((i,e)=>{const{children:t,...n}=i,r=ne.Children.toArray(t),o=r.find(kbe);if(o){const s=o.props.children,a=r.map(l=>l===o?ne.Children.count(s)>1?ne.Children.only(null):ne.isValidElement(s)?s.props.children:null:l);return ne.createElement(lO,Lr({},n,{ref:e}),ne.isValidElement(s)?ne.cloneElement(s,void 0,a):null)}return ne.createElement(lO,Lr({},n,{ref:e}),t)});NJ.displayName="Slot";const lO=ne.forwardRef((i,e)=>{const{children:t,...n}=i;return ne.isValidElement(t)?ne.cloneElement(t,{...Fbe(n,t.props),ref:OJ(e,t.ref)}):ne.Children.count(t)>1?ne.Children.only(null):null});lO.displayName="SlotClone";const HJ=({children:i})=>ne.createElement(ne.Fragment,null,i);function kbe(i){return ne.isValidElement(i)&&i.type===HJ}function Fbe(i,e){const t={...e};for(const n in e){const r=i[n],o=e[n];/^on[A-Z]/.test(n)?r&&o?t[n]=(...s)=>{o(...s),r(...s)}:r&&(t[n]=r):n==="style"?t[n]={...r,...o}:n==="className"&&(t[n]=[r,o].filter(Boolean).join(" "))}return{...i,...t}}const _v=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((i,e)=>{const t=ne.forwardRef((n,r)=>{const{asChild:o,...s}=n,a=o?NJ:e;return ne.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),ne.createElement(a,Lr({},s,{ref:r}))});return t.displayName=`Primitive.${e}`,{...i,[e]:t}},{});function a9(i){const e=ne.useRef(i);return ne.useEffect(()=>{e.current=i}),ne.useMemo(()=>(...t)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...t)},[])}const cO="dismissableLayer.update",Dbe="dismissableLayer.pointerDownOutside",Ube="dismissableLayer.focusOutside";let kV;const Pbe=ne.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lbe=ne.forwardRef((i,e)=>{var t;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=i,u=ne.useContext(Pbe),[h,d]=ne.useState(null),p=(t=h==null?void 0:h.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,g]=ne.useState({}),v=xw(e,k=>d(k)),_=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=_.indexOf(b),C=h?_.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,E=C>=x,I=function(k,F=globalThis==null?void 0:globalThis.document){const P=a9(k),Q=ne.useRef(!1),N=ne.useRef(()=>{});return ne.useEffect(()=>{const W=J=>{if(J.target&&!Q.current){let V=function(){DV(Dbe,P,Y,{discrete:!0})};const Y={originalEvent:J};J.pointerType==="touch"?(F.removeEventListener("click",N.current),N.current=V,F.addEventListener("click",N.current,{once:!0})):V()}Q.current=!1},q=window.setTimeout(()=>{F.addEventListener("pointerdown",W)},0);return()=>{window.clearTimeout(q),F.removeEventListener("pointerdown",W),F.removeEventListener("click",N.current)}},[F,P]),{onPointerDownCapture:()=>Q.current=!0}}(k=>{const F=k.target,P=[...u.branches].some(Q=>Q.contains(F));E&&!P&&(o==null||o(k),a==null||a(k),k.defaultPrevented||l==null||l())},p),M=function(k,F=globalThis==null?void 0:globalThis.document){const P=a9(k),Q=ne.useRef(!1);return ne.useEffect(()=>{const N=W=>{W.target&&!Q.current&&DV(Ube,P,{originalEvent:W},{discrete:!1})};return F.addEventListener("focusin",N),()=>F.removeEventListener("focusin",N)},[F,P]),{onFocusCapture:()=>Q.current=!0,onBlurCapture:()=>Q.current=!1}}(k=>{const F=k.target;[...u.branches].some(P=>P.contains(F))||(s==null||s(k),a==null||a(k),k.defaultPrevented||l==null||l())},p);return function(k,F=globalThis==null?void 0:globalThis.document){const P=a9(k);ne.useEffect(()=>{const Q=N=>{N.key==="Escape"&&P(N)};return F.addEventListener("keydown",Q),()=>F.removeEventListener("keydown",Q)},[P,F])}(k=>{C===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),ne.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(kV=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),FV(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=kV)}},[h,p,n,u]),ne.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),FV())},[h,u]),ne.useEffect(()=>{const k=()=>g({});return document.addEventListener(cO,k),()=>document.removeEventListener(cO,k)},[]),ne.createElement(_v.div,Lr({},c,{ref:v,style:{pointerEvents:S?E?"auto":"none":void 0,...i.style},onFocusCapture:up(i.onFocusCapture,M.onFocusCapture),onBlurCapture:up(i.onBlurCapture,M.onBlurCapture),onPointerDownCapture:up(i.onPointerDownCapture,I.onPointerDownCapture)}))});function FV(){const i=new CustomEvent(cO);document.dispatchEvent(i)}function DV(i,e,t,{discrete:n}){const r=t.originalEvent.target,o=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(i,e,{once:!0}),n?function(s,a){s&&xk.flushSync(()=>s.dispatchEvent(a))}(r,o):r.dispatchEvent(o)}const Obe=globalThis!=null&&globalThis.document?ne.useLayoutEffect:()=>{},Qbe=Foe.useId||(()=>{});let Nbe=0;function Iv(i){return i.split("-")[0]}function CS(i){return i.split("-")[1]}function Cw(i){return["top","bottom"].includes(Iv(i))?"x":"y"}function CN(i){return i==="y"?"height":"width"}function UV(i,e,t){let{reference:n,floating:r}=i;const o=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2,a=Cw(e),l=CN(a),c=n[l]/2-r[l]/2,u=a==="x";let h;switch(Iv(e)){case"top":h={x:o,y:n.y-r.height};break;case"bottom":h={x:o,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:s};break;case"left":h={x:n.x-r.width,y:s};break;default:h={x:n.x,y:n.y}}switch(CS(e)){case"start":h[a]-=c*(t&&u?-1:1);break;case"end":h[a]+=c*(t&&u?-1:1)}return h}function zJ(i){return typeof i!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(i):{top:i,right:i,bottom:i,left:i}}function R5(i){return{...i,top:i.y,left:i.x,right:i.x+i.width,bottom:i.y+i.height}}async function LB(i,e){var t;e===void 0&&(e={});const{x:n,y:r,platform:o,rects:s,elements:a,strategy:l}=i,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:p=0}=e,g=zJ(p),v=a[d?h==="floating"?"reference":"floating":h],_=R5(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(v)))==null||t?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=R5(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:h==="floating"?{...s.floating,x:n,y:r}:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),strategy:l}):s[h]);return{top:_.top-b.top+g.top,bottom:b.bottom-_.bottom+g.bottom,left:_.left-b.left+g.left,right:b.right-_.right+g.right}}const Hbe=Math.min,B_=Math.max;function uO(i,e,t){return B_(i,Hbe(e,t))}const PV=i=>({name:"arrow",options:i,async fn(e){const{element:t,padding:n=0}=i??{},{x:r,y:o,placement:s,rects:a,platform:l}=e;if(t==null)return{};const c=zJ(n),u={x:r,y:o},h=Cw(s),d=CS(s),p=CN(h),g=await l.getDimensions(t),v=h==="y"?"top":"left",_=h==="y"?"bottom":"right",b=a.reference[p]+a.reference[h]-u[h]-a.floating[p],x=u[h]-a.reference[h],C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(t));let S=C?h==="y"?C.clientHeight||0:C.clientWidth||0:0;S===0&&(S=a.floating[p]);const E=b/2-x/2,I=c[v],M=S-g[p]-c[_],k=S/2-g[p]/2+E,F=uO(I,k,M),P=(d==="start"?c[v]:c[_])>0&&k!==F&&a.reference[p]<=a.floating[p]?k<I?I-k:M-k:0;return{[h]:u[h]-P,data:{[h]:F,centerOffset:k-F}}}}),zbe={left:"right",right:"left",bottom:"top",top:"bottom"};function w1(i){return i.replace(/left|right|bottom|top/g,e=>zbe[e])}const Gbe={start:"end",end:"start"};function LV(i){return i.replace(/start|end/g,e=>Gbe[e])}const Vbe=["top","right","bottom","left"],qbe=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t;const{placement:n,middlewareData:r,rects:o,initialPlacement:s,platform:a,elements:l}=e,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",flipAlignment:p=!0,...g}=i,v=Iv(n),_=h||(v===s||!p?[w1(s)]:function(k){const F=w1(k);return[LV(k),F,LV(F)]}(s)),b=[s,..._],x=await LB(e,g),C=[];let S=((t=r.flip)==null?void 0:t.overflows)||[];if(c&&C.push(x[v]),u){const{main:k,cross:F}=function(P,Q,N){N===void 0&&(N=!1);const W=CS(P),q=Cw(P),J=CN(q);let V=q==="x"?W===(N?"end":"start")?"right":"left":W==="start"?"bottom":"top";return Q.reference[J]>Q.floating[J]&&(V=w1(V)),{main:V,cross:w1(V)}}(n,o,await(a.isRTL==null?void 0:a.isRTL(l.floating)));C.push(x[k],x[F])}if(S=[...S,{placement:n,overflows:C}],!C.every(k=>k<=0)){var E,I;const k=((E=(I=r.flip)==null?void 0:I.index)!=null?E:0)+1,F=b[k];if(F)return{data:{index:k,overflows:S},reset:{placement:F}};let P="bottom";switch(d){case"bestFit":{var M;const Q=(M=S.map(N=>[N,N.overflows.filter(W=>W>0).reduce((W,q)=>W+q,0)]).sort((N,W)=>N[1]-W[1])[0])==null?void 0:M[0].placement;Q&&(P=Q);break}case"initialPlacement":P=s}if(n!==P)return{reset:{placement:P}}}return{}}}};function OV(i,e){return{top:i.top-e.height,right:i.right-e.width,bottom:i.bottom-e.height,left:i.left-e.width}}function QV(i){return Vbe.some(e=>i[e]>=0)}const Wbe=function(i){let{strategy:e="referenceHidden",...t}=i===void 0?{}:i;return{name:"hide",async fn(n){const{rects:r}=n;switch(e){case"referenceHidden":{const o=OV(await LB(n,{...t,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:QV(o)}}}case"escaped":{const o=OV(await LB(n,{...t,altBoundary:!0}),r.floating);return{data:{escapedOffsets:o,escaped:QV(o)}}}default:return{}}}}},jbe=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){const{x:t,y:n}=e,r=await async function(o,s){const{placement:a,platform:l,elements:c}=o,u=await(l.isRTL==null?void 0:l.isRTL(c.floating)),h=Iv(a),d=CS(a),p=Cw(a)==="x",g=["left","top"].includes(h)?-1:1,v=u&&p?-1:1,_=typeof s=="function"?s(o):s;let{mainAxis:b,crossAxis:x,alignmentAxis:C}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,..._};return d&&typeof C=="number"&&(x=d==="end"?-1*C:C),p?{x:x*v,y:b*g}:{x:b*g,y:x*v}}(e,i);return{x:t+r.x,y:n+r.y,data:r}}}};function GJ(i){return i==="x"?"y":"x"}const Kbe=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){const{x:t,y:n,placement:r}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:_=>{let{x:b,y:x}=_;return{x:b,y:x}}},...l}=i,c={x:t,y:n},u=await LB(e,l),h=Cw(Iv(r)),d=GJ(h);let p=c[h],g=c[d];if(o){const _=h==="y"?"bottom":"right";p=uO(p+u[h==="y"?"top":"left"],p,p-u[_])}if(s){const _=d==="y"?"bottom":"right";g=uO(g+u[d==="y"?"top":"left"],g,g-u[_])}const v=a.fn({...e,[h]:p,[d]:g});return{...v,data:{x:v.x-t,y:v.y-n}}}}},$be=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(e){const{placement:t,rects:n,platform:r,elements:o}=e,{apply:s,...a}=i,l=await LB(e,a),c=Iv(t),u=CS(t);let h,d;c==="top"||c==="bottom"?(h=c,d=u===(await(r.isRTL==null?void 0:r.isRTL(o.floating))?"start":"end")?"left":"right"):(d=c,h=u==="end"?"top":"bottom");const p=B_(l.left,0),g=B_(l.right,0),v=B_(l.top,0),_=B_(l.bottom,0),b={availableHeight:n.floating.height-(["left","right"].includes(t)?2*(v!==0||_!==0?v+_:B_(l.top,l.bottom)):l[h]),availableWidth:n.floating.width-(["top","bottom"].includes(t)?2*(p!==0||g!==0?p+g:B_(l.left,l.right)):l[d])},x=await r.getDimensions(o.floating);s==null||s({...e,...b});const C=await r.getDimensions(o.floating);return x.width!==C.width||x.height!==C.height?{reset:{rects:!0}}:{}}}};function VJ(i){return i&&i.document&&i.location&&i.alert&&i.setInterval}function Up(i){if(i==null)return window;if(!VJ(i)){const e=i.ownerDocument;return e&&e.defaultView||window}return i}function BS(i){return Up(i).getComputedStyle(i)}function xp(i){return VJ(i)?"":i?(i.nodeName||"").toLowerCase():""}function qJ(){const i=navigator.userAgentData;return i!=null&&i.brands?i.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function VA(i){return i instanceof Up(i).HTMLElement}function Eg(i){return i instanceof Up(i).Element}function BN(i){return typeof ShadowRoot>"u"?!1:i instanceof Up(i).ShadowRoot||i instanceof ShadowRoot}function Sk(i){const{overflow:e,overflowX:t,overflowY:n}=BS(i);return/auto|scroll|overlay|hidden/.test(e+n+t)}function Xbe(i){return["table","td","th"].includes(xp(i))}function NV(i){const e=/firefox/i.test(qJ()),t=BS(i);return t.transform!=="none"||t.perspective!=="none"||t.contain==="paint"||["transform","perspective"].includes(t.willChange)||e&&t.willChange==="filter"||e&&!!t.filter&&t.filter!=="none"}function WJ(){return!/^((?!chrome|android).)*safari/i.test(qJ())}const HV=Math.min,z2=Math.max,k5=Math.round;function Cp(i,e,t){var n,r,o,s;e===void 0&&(e=!1),t===void 0&&(t=!1);const a=i.getBoundingClientRect();let l=1,c=1;e&&VA(i)&&(l=i.offsetWidth>0&&k5(a.width)/i.offsetWidth||1,c=i.offsetHeight>0&&k5(a.height)/i.offsetHeight||1);const u=Eg(i)?Up(i):window,h=!WJ()&&t,d=(a.left+(h&&(n=(r=u.visualViewport)==null?void 0:r.offsetLeft)!=null?n:0))/l,p=(a.top+(h&&(o=(s=u.visualViewport)==null?void 0:s.offsetTop)!=null?o:0))/c,g=a.width/l,v=a.height/c;return{width:g,height:v,top:p,right:d+g,bottom:p+v,left:d,x:d,y:p}}function pg(i){return(e=i,(e instanceof Up(e).Node?i.ownerDocument:i.document)||window.document).documentElement;var e}function Ek(i){return Eg(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function jJ(i){return Cp(pg(i)).left+Ek(i).scrollLeft}function Ybe(i,e,t){const n=VA(e),r=pg(e),o=Cp(i,n&&function(l){const c=Cp(l);return k5(c.width)!==l.offsetWidth||k5(c.height)!==l.offsetHeight}(e),t==="fixed");let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(n||!n&&t!=="fixed")if((xp(e)!=="body"||Sk(r))&&(s=Ek(e)),VA(e)){const l=Cp(e,!0);a.x=l.x+e.clientLeft,a.y=l.y+e.clientTop}else r&&(a.x=jJ(r));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function KJ(i){return xp(i)==="html"?i:i.assignedSlot||i.parentNode||(BN(i)?i.host:null)||pg(i)}function zV(i){return VA(i)&&getComputedStyle(i).position!=="fixed"?i.offsetParent:null}function hO(i){const e=Up(i);let t=zV(i);for(;t&&Xbe(t)&&getComputedStyle(t).position==="static";)t=zV(t);return t&&(xp(t)==="html"||xp(t)==="body"&&getComputedStyle(t).position==="static"&&!NV(t))?e:t||function(n){let r=KJ(n);for(BN(r)&&(r=r.host);VA(r)&&!["html","body"].includes(xp(r));){if(NV(r))return r;r=r.parentNode}return null}(i)||e}function GV(i){if(VA(i))return{width:i.offsetWidth,height:i.offsetHeight};const e=Cp(i);return{width:e.width,height:e.height}}function $J(i){const e=KJ(i);return["html","body","#document"].includes(xp(e))?i.ownerDocument.body:VA(e)&&Sk(e)?e:$J(e)}function F5(i,e){var t;e===void 0&&(e=[]);const n=$J(i),r=n===((t=i.ownerDocument)==null?void 0:t.body),o=Up(n),s=r?[o].concat(o.visualViewport||[],Sk(n)?n:[]):n,a=e.concat(s);return r?a:a.concat(F5(s))}function VV(i,e,t){return e==="viewport"?R5(function(n,r){const o=Up(n),s=pg(n),a=o.visualViewport;let l=s.clientWidth,c=s.clientHeight,u=0,h=0;if(a){l=a.width,c=a.height;const d=WJ();(d||!d&&r==="fixed")&&(u=a.offsetLeft,h=a.offsetTop)}return{width:l,height:c,x:u,y:h}}(i,t)):Eg(e)?function(n,r){const o=Cp(n,!1,r==="fixed"),s=o.top+n.clientTop,a=o.left+n.clientLeft;return{top:s,left:a,x:a,y:s,right:a+n.clientWidth,bottom:s+n.clientHeight,width:n.clientWidth,height:n.clientHeight}}(e,t):R5(function(n){var r;const o=pg(n),s=Ek(n),a=(r=n.ownerDocument)==null?void 0:r.body,l=z2(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=z2(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let u=-s.scrollLeft+jJ(n);const h=-s.scrollTop;return BS(a||o).direction==="rtl"&&(u+=z2(o.clientWidth,a?a.clientWidth:0)-l),{width:l,height:c,x:u,y:h}}(pg(i)))}function Zbe(i){const e=F5(i),t=["absolute","fixed"].includes(BS(i).position)&&VA(i)?hO(i):i;return Eg(t)?e.filter(n=>Eg(n)&&function(r,o){const s=o.getRootNode==null?void 0:o.getRootNode();if(r.contains(o))return!0;if(s&&BN(s)){let a=o;do{if(a&&r===a)return!0;a=a.parentNode||a.host}while(a)}return!1}(n,t)&&xp(n)!=="body"):[]}const Jbe={getClippingRect:function(i){let{element:e,boundary:t,rootBoundary:n,strategy:r}=i;const o=[...t==="clippingAncestors"?Zbe(e):[].concat(t),n],s=o[0],a=o.reduce((l,c)=>{const u=VV(e,c,r);return l.top=z2(u.top,l.top),l.right=HV(u.right,l.right),l.bottom=HV(u.bottom,l.bottom),l.left=z2(u.left,l.left),l},VV(e,s,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(i){let{rect:e,offsetParent:t,strategy:n}=i;const r=VA(t),o=pg(t);if(t===o)return e;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((r||!r&&n!=="fixed")&&((xp(t)!=="body"||Sk(o))&&(s=Ek(t)),VA(t))){const l=Cp(t,!0);a.x=l.x+t.clientLeft,a.y=l.y+t.clientTop}return{...e,x:e.x-s.scrollLeft+a.x,y:e.y-s.scrollTop+a.y}},isElement:Eg,getDimensions:GV,getOffsetParent:hO,getDocumentElement:pg,getElementRects:i=>{let{reference:e,floating:t,strategy:n}=i;return{reference:Ybe(e,hO(t),n),floating:{...GV(t),x:0,y:0}}},getClientRects:i=>Array.from(i.getClientRects()),isRTL:i=>BS(i).direction==="rtl"};function eye(i,e,t,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=n,l=r&&!a,c=o&&!a,u=l||c?[...Eg(i)?F5(i):[],...F5(e)]:[];u.forEach(g=>{l&&g.addEventListener("scroll",t,{passive:!0}),c&&g.addEventListener("resize",t)});let h,d=null;if(s){let g=!0;d=new ResizeObserver(()=>{g||t(),g=!1}),Eg(i)&&!a&&d.observe(i),d.observe(e)}let p=a?Cp(i):null;return a&&function g(){const v=Cp(i);!p||v.x===p.x&&v.y===p.y&&v.width===p.width&&v.height===p.height||t(),p=v,h=requestAnimationFrame(g)}(),t(),()=>{var g;u.forEach(v=>{l&&v.removeEventListener("scroll",t),c&&v.removeEventListener("resize",t)}),(g=d)==null||g.disconnect(),d=null,a&&cancelAnimationFrame(h)}}const tye=(i,e,t)=>(async(n,r,o)=>{const{placement:s="bottom",strategy:a="absolute",middleware:l=[],platform:c}=o,u=await(c.isRTL==null?void 0:c.isRTL(r));let h=await c.getElementRects({reference:n,floating:r,strategy:a}),{x:d,y:p}=UV(h,s,u),g=s,v={},_=0;for(let b=0;b<l.length;b++){const{name:x,fn:C}=l[b],{x:S,y:E,data:I,reset:M}=await C({x:d,y:p,initialPlacement:s,placement:g,strategy:a,middlewareData:v,rects:h,platform:c,elements:{reference:n,floating:r}});d=S??d,p=E??p,v={...v,[x]:{...v[x],...I}},M&&_<=50&&(_++,typeof M=="object"&&(M.placement&&(g=M.placement),M.rects&&(h=M.rects===!0?await c.getElementRects({reference:n,floating:r,strategy:a}):M.rects),{x:d,y:p}=UV(h,g,u)),b=-1)}return{x:d,y:p,placement:g,strategy:a,middlewareData:v}})(i,e,{platform:Jbe,...t});var l9=typeof document<"u"?ne.useLayoutEffect:ne.useEffect;function AO(i,e){if(i===e)return!0;if(typeof i!=typeof e)return!1;if(typeof i=="function"&&i.toString()===e.toString())return!0;let t,n,r;if(i&&e&&typeof i=="object"){if(Array.isArray(i)){if(t=i.length,t!=e.length)return!1;for(n=t;n--!=0;)if(!AO(i[n],e[n]))return!1;return!0}if(r=Object.keys(i),t=r.length,t!==Object.keys(e).length)return!1;for(n=t;n--!=0;)if(!Object.prototype.hasOwnProperty.call(e,r[n]))return!1;for(n=t;n--!=0;){const o=r[n];if((o!=="_owner"||!i.$$typeof)&&!AO(i[o],e[o]))return!1}return!0}return i!=i&&e!=e}function iye(i){let{middleware:e,placement:t="bottom",strategy:n="absolute",whileElementsMounted:r}=i===void 0?{}:i;const o=ne.useRef(null),s=ne.useRef(null),a=function(C){const S=ne.useRef(C);return l9(()=>{S.current=C}),S}(r),l=ne.useRef(null),[c,u]=ne.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{}}),[h,d]=ne.useState(e);AO(h==null?void 0:h.map(C=>{let{options:S}=C;return S}),e==null?void 0:e.map(C=>{let{options:S}=C;return S}))||d(e);const p=ne.useCallback(()=>{o.current&&s.current&&tye(o.current,s.current,{middleware:h,placement:t,strategy:n}).then(C=>{g.current&&xk.flushSync(()=>{u(C)})})},[h,t,n]);l9(()=>{g.current&&p()},[p]);const g=ne.useRef(!1);l9(()=>(g.current=!0,()=>{g.current=!1}),[]);const v=ne.useCallback(()=>{if(typeof l.current=="function"&&(l.current(),l.current=null),o.current&&s.current)if(a.current){const C=a.current(o.current,s.current,p);l.current=C}else p()},[p,a]),_=ne.useCallback(C=>{o.current=C,v()},[v]),b=ne.useCallback(C=>{s.current=C,v()},[v]),x=ne.useMemo(()=>({reference:o,floating:s}),[]);return ne.useMemo(()=>({...c,update:p,refs:x,reference:_,floating:b}),[c,p,x,_,b])}const nye=i=>{const{element:e,padding:t}=i;return{name:"arrow",options:i,fn(n){return r=e,Object.prototype.hasOwnProperty.call(r,"current")?e.current!=null?PV({element:e.current,padding:t}).fn(n):{}:e?PV({element:e,padding:t}).fn(n):{};var r}}},rye=ne.forwardRef((i,e)=>{const{children:t,width:n=10,height:r=5,...o}=i;return ne.createElement(_v.svg,Lr({},o,{ref:e,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),i.asChild?t:ne.createElement("polygon",{points:"0,0 30,0 15,10"}))}),oye=rye,MC=globalThis!=null&&globalThis.document?ne.useLayoutEffect:()=>{},XJ="Popper",[SN,YJ]=QJ(XJ),[sye,ZJ]=SN(XJ),aye=ne.forwardRef((i,e)=>{const{__scopePopper:t,virtualRef:n,...r}=i,o=ZJ("PopperAnchor",t),s=ne.useRef(null),a=xw(e,s);return ne.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:ne.createElement(_v.div,Lr({},r,{ref:a}))}),D5="PopperContent",[lye,cye]=SN(D5),[uye,hye]=SN(D5,{hasParent:!1,positionUpdateFns:new Set}),Aye=ne.forwardRef((i,e)=>{var t,n,r,o,s,a,l,c;const{__scopePopper:u,side:h="bottom",sideOffset:d=0,align:p="center",alignOffset:g=0,arrowPadding:v=0,collisionBoundary:_=[],collisionPadding:b=0,sticky:x="partial",hideWhenDetached:C=!1,avoidCollisions:S=!0,onPlaced:E,...I}=i,M=ZJ(D5,u),[k,F]=ne.useState(null),P=xw(e,ce=>F(ce)),[Q,N]=ne.useState(null),W=function(ce){const[Te,Ie]=ne.useState(void 0);return MC(()=>{if(ce){Ie({width:ce.offsetWidth,height:ce.offsetHeight});const ye=new ResizeObserver(Ue=>{if(!Array.isArray(Ue)||!Ue.length)return;const De=Ue[0];let Ge,ct;if("borderBoxSize"in De){const Ve=De.borderBoxSize,st=Array.isArray(Ve)?Ve[0]:Ve;Ge=st.inlineSize,ct=st.blockSize}else Ge=ce.offsetWidth,ct=ce.offsetHeight;Ie({width:Ge,height:ct})});return ye.observe(ce,{box:"border-box"}),()=>ye.unobserve(ce)}Ie(void 0)},[ce]),Te}(Q),q=(t=W==null?void 0:W.width)!==null&&t!==void 0?t:0,J=(n=W==null?void 0:W.height)!==null&&n!==void 0?n:0,V=h+(p!=="center"?"-"+p:""),Y=typeof b=="number"?b:{top:0,right:0,bottom:0,left:0,...b},Z=Array.isArray(_)?_:[_],ue=Z.length>0,$={padding:Y,boundary:Z.filter(mye),altBoundary:ue},{reference:ee,floating:oe,strategy:ge,x:se,y:Ae,placement:we,middlewareData:xe,update:Be}=iye({strategy:"fixed",placement:V,whileElementsMounted:eye,middleware:[_ye(),jbe({mainAxis:d+J,alignmentAxis:g}),S?Kbe({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?(Re===void 0&&(Re={}),{options:Re,fn(ce){const{x:Te,y:Ie,placement:ye,rects:Ue,middlewareData:De}=ce,{offset:Ge=0,mainAxis:ct=!0,crossAxis:Ve=!0}=Re,st={x:Te,y:Ie},rt=Cw(ye),yt=GJ(rt);let At=st[rt],Ut=st[yt];const Tt=typeof Ge=="function"?Ge({...Ue,placement:ye}):Ge,It=typeof Tt=="number"?{mainAxis:Tt,crossAxis:0}:{mainAxis:0,crossAxis:0,...Tt};if(ct){const ft=rt==="y"?"height":"width",dt=Ue.reference[rt]-Ue.floating[ft]+It.mainAxis,mt=Ue.reference[rt]+Ue.reference[ft]-It.mainAxis;At<dt?At=dt:At>mt&&(At=mt)}if(Ve){var Ee,pt,Ne,je;const ft=rt==="y"?"width":"height",dt=["top","left"].includes(Iv(ye)),mt=Ue.reference[yt]-Ue.floating[ft]+(dt&&(Ee=(pt=De.offset)==null?void 0:pt[yt])!=null?Ee:0)+(dt?0:It.crossAxis),zt=Ue.reference[yt]+Ue.reference[ft]+(dt?0:(Ne=(je=De.offset)==null?void 0:je[yt])!=null?Ne:0)-(dt?It.crossAxis:0);Ut<mt?Ut=mt:Ut>zt&&(Ut=zt)}return{[rt]:At,[yt]:Ut}}}):void 0,...$}):void 0,Q?nye({element:Q,padding:v}):void 0,S?qbe({...$}):void 0,$be({...$,apply:({elements:ce,availableWidth:Te,availableHeight:Ie})=>{ce.floating.style.setProperty("--radix-popper-available-width",`${Te}px`),ce.floating.style.setProperty("--radix-popper-available-height",`${Ie}px`)}}),vye({arrowWidth:q,arrowHeight:J}),C?Wbe({strategy:"referenceHidden"}):void 0].filter(gye)});var Re;MC(()=>{ee(M.anchor)},[ee,M.anchor]);const ke=se!==null&&Ae!==null,[Pe,ve]=JJ(we),te=function(ce){const Te=ne.useRef(ce);return ne.useEffect(()=>{Te.current=ce}),ne.useMemo(()=>(...Ie)=>{var ye;return(ye=Te.current)===null||ye===void 0?void 0:ye.call(Te,...Ie)},[])}(E);MC(()=>{ke&&(te==null||te())},[ke,te]);const H=(r=xe.arrow)===null||r===void 0?void 0:r.x,le=(o=xe.arrow)===null||o===void 0?void 0:o.y,U=((s=xe.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[z,j]=ne.useState();MC(()=>{k&&j(window.getComputedStyle(k).zIndex)},[k]);const{hasParent:re,positionUpdateFns:ae}=hye(D5,u),X=!re;ne.useLayoutEffect(()=>{if(!X)return ae.add(Be),()=>{ae.delete(Be)}},[X,ae,Be]),MC(()=>{X&&ke&&Array.from(ae).reverse().forEach(ce=>requestAnimationFrame(ce))},[X,ke,ae]);const G={"data-side":Pe,"data-align":ve,...I,ref:P,style:{...I.style,animation:ke?void 0:"none",opacity:(a=xe.hide)!==null&&a!==void 0&&a.referenceHidden?0:void 0}};return ne.createElement("div",{ref:oe,"data-radix-popper-content-wrapper":"",style:{position:ge,left:0,top:0,transform:ke?`translate3d(${Math.round(se)}px, ${Math.round(Ae)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(l=xe.transformOrigin)===null||l===void 0?void 0:l.x,(c=xe.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:i.dir},ne.createElement(lye,{scope:u,placedSide:Pe,onArrowChange:N,arrowX:H,arrowY:le,shouldHideArrow:U},X?ne.createElement(uye,{scope:u,hasParent:!0,positionUpdateFns:ae},ne.createElement(_v.div,G)):ne.createElement(_v.div,G)))}),dye="PopperArrow",pye={top:"bottom",right:"left",bottom:"top",left:"right"},fye=ne.forwardRef(function(i,e){const{__scopePopper:t,...n}=i,r=cye(dye,t),o=pye[r.placedSide];return ne.createElement("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0}},ne.createElement(oye,Lr({},n,{ref:e,style:{...n.style,display:"block"}})))});function gye(i){return i!==void 0}function mye(i){return i!==null}const _ye=()=>({name:"anchorCssProperties",fn(i){const{rects:e,elements:t}=i,{width:n,height:r}=e.reference;return t.floating.style.setProperty("--radix-popper-anchor-width",`${n}px`),t.floating.style.setProperty("--radix-popper-anchor-height",`${r}px`),{}}}),vye=i=>({name:"transformOrigin",options:i,fn(e){var t,n,r,o,s;const{placement:a,rects:l,middlewareData:c}=e,u=((t=c.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,h=u?0:i.arrowWidth,d=u?0:i.arrowHeight,[p,g]=JJ(a),v={start:"0%",center:"50%",end:"100%"}[g],_=((n=(r=c.arrow)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0)+h/2,b=((o=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+d/2;let x="",C="";return p==="bottom"?(x=u?v:`${_}px`,C=-d+"px"):p==="top"?(x=u?v:`${_}px`,C=`${l.floating.height+d}px`):p==="right"?(x=-d+"px",C=u?v:`${b}px`):p==="left"&&(x=`${l.floating.width+d}px`,C=u?v:`${b}px`),{data:{x,y:C}}}});function JJ(i){const[e,t="center"]=i.split("-");return[e,t]}const bye=i=>{const{__scopePopper:e,children:t}=i,[n,r]=ne.useState(null);return ne.createElement(sye,{scope:e,anchor:n,onAnchorChange:r},t)},yye=aye,wye=Aye,xye=fye,qV=globalThis!=null&&globalThis.document?ne.useLayoutEffect:()=>{},eee=i=>{const{present:e,children:t}=i,n=function(s){const[a,l]=ne.useState(),c=ne.useRef({}),u=ne.useRef(s),h=ne.useRef("none"),d=s?"mounted":"unmounted",[p,g]=function(v,_){return ne.useReducer((b,x)=>{const C=_[b][x];return C??b},v)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return ne.useEffect(()=>{const v=x1(c.current);h.current=p==="mounted"?v:"none"},[p]),qV(()=>{const v=c.current,_=u.current;if(_!==s){const b=h.current,x=x1(v);s?g("MOUNT"):x==="none"||(v==null?void 0:v.display)==="none"?g("UNMOUNT"):g(_&&b!==x?"ANIMATION_OUT":"UNMOUNT"),u.current=s}},[s,g]),qV(()=>{if(a){const v=b=>{const x=x1(c.current).includes(b.animationName);b.target===a&&x&&xk.flushSync(()=>g("ANIMATION_END"))},_=b=>{b.target===a&&(h.current=x1(c.current))};return a.addEventListener("animationstart",_),a.addEventListener("animationcancel",v),a.addEventListener("animationend",v),()=>{a.removeEventListener("animationstart",_),a.removeEventListener("animationcancel",v),a.removeEventListener("animationend",v)}}g("ANIMATION_END")},[a,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:ne.useCallback(v=>{v&&(c.current=getComputedStyle(v)),l(v)},[])}}(e),r=typeof t=="function"?t({present:n.isPresent}):ne.Children.only(t),o=xw(n.ref,r.ref);return typeof t=="function"||n.isPresent?ne.cloneElement(r,{ref:o}):null};function x1(i){return(i==null?void 0:i.animationName)||"none"}function WV(i){const e=ne.useRef(i);return ne.useEffect(()=>{e.current=i}),ne.useMemo(()=>(...t)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...t)},[])}function Cye({prop:i,defaultProp:e,onChange:t=()=>{}}){const[n,r]=function({defaultProp:l,onChange:c}){const u=ne.useState(l),[h]=u,d=ne.useRef(h),p=WV(c);return ne.useEffect(()=>{d.current!==h&&(p(h),d.current=h)},[h,d,p]),u}({defaultProp:e,onChange:t}),o=i!==void 0,s=o?i:n,a=WV(t);return[s,ne.useCallback(l=>{if(o){const c=typeof l=="function"?l(i):l;c!==i&&a(c)}else r(l)},[o,i,r,a])]}eee.displayName="Presence";const Bye=ne.forwardRef((i,e)=>ne.createElement(_v.span,Lr({},i,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...i.style}}))),Sye=Bye,[Tk,Qke]=QJ("Tooltip",[YJ]),Ik=YJ(),dO="tooltip.open",[Nke,EN]=Tk("TooltipProvider"),TN="Tooltip",[Eye,Mk]=Tk(TN),jV="TooltipTrigger",Tye=ne.forwardRef((i,e)=>{const{__scopeTooltip:t,...n}=i,r=Mk(jV,t),o=EN(jV,t),s=Ik(t),a=xw(e,ne.useRef(null),r.onTriggerChange),l=ne.useRef(!1),c=ne.useRef(!1),u=ne.useCallback(()=>l.current=!1,[]);return ne.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),ne.createElement(yye,Lr({asChild:!0},s),ne.createElement(_v.button,Lr({"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute},n,{ref:a,onPointerMove:up(i.onPointerMove,h=>{h.pointerType!=="touch"&&(c.current||o.isPointerInTransitRef.current||(r.onTriggerEnter(),c.current=!0))}),onPointerLeave:up(i.onPointerLeave,()=>{r.onTriggerLeave(),c.current=!1}),onPointerDown:up(i.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:up(i.onFocus,()=>{l.current||r.onOpen()}),onBlur:up(i.onBlur,r.onClose),onClick:up(i.onClick,r.onClose)})))}),[Hke,Iye]=Tk("TooltipPortal",{forceMount:void 0}),OB="TooltipContent",Mye=ne.forwardRef((i,e)=>{const t=Iye(OB,i.__scopeTooltip),{forceMount:n=t.forceMount,side:r="top",...o}=i,s=Mk(OB,i.__scopeTooltip);return ne.createElement(eee,{present:n||s.open},s.disableHoverableContent?ne.createElement(tee,Lr({side:r},o,{ref:e})):ne.createElement(Rye,Lr({side:r},o,{ref:e})))}),Rye=ne.forwardRef((i,e)=>{const t=Mk(OB,i.__scopeTooltip),n=EN(OB,i.__scopeTooltip),r=ne.useRef(null),o=xw(e,r),[s,a]=ne.useState(null),{trigger:l,onClose:c}=t,u=r.current,{onPointerInTransitChange:h}=n,d=ne.useCallback(()=>{a(null),h(!1)},[h]),p=ne.useCallback((g,v)=>{const _=g.currentTarget,b=function(S,E){const I=Math.abs(E.top-S.y),M=Math.abs(E.bottom-S.y),k=Math.abs(E.right-S.x),F=Math.abs(E.left-S.x);switch(Math.min(I,M,k,F)){case F:return"left";case k:return"right";case I:return"top";case M:return"bottom";default:return null}}({x:g.clientX,y:g.clientY},_.getBoundingClientRect()),x=b==="right"||b==="bottom"?-5:5,C=function(S){const E=S.slice();return E.sort((I,M)=>I.x<M.x?-1:I.x>M.x?1:I.y<M.y?-1:I.y>M.y?1:0),function(I){if(I.length<=1)return I.slice();const M=[];for(let F=0;F<I.length;F++){const P=I[F];for(;M.length>=2;){const Q=M[M.length-1],N=M[M.length-2];if(!((Q.x-N.x)*(P.y-N.y)>=(Q.y-N.y)*(P.x-N.x)))break;M.pop()}M.push(P)}M.pop();const k=[];for(let F=I.length-1;F>=0;F--){const P=I[F];for(;k.length>=2;){const Q=k[k.length-1],N=k[k.length-2];if(!((Q.x-N.x)*(P.y-N.y)>=(Q.y-N.y)*(P.x-N.x)))break;k.pop()}k.push(P)}return k.pop(),M.length===1&&k.length===1&&M[0].x===k[0].x&&M[0].y===k[0].y?M:M.concat(k)}(E)}([b==="right"||b==="left"?{x:g.clientX+x,y:g.clientY}:{x:g.clientX,y:g.clientY+x},...function(S){const{top:E,right:I,bottom:M,left:k}=S;return[{x:k,y:E},{x:I,y:E},{x:I,y:M},{x:k,y:M}]}(v.getBoundingClientRect())]);a(C),h(!0)},[h]);return ne.useEffect(()=>()=>d(),[d]),ne.useEffect(()=>{if(l&&u){const g=_=>p(_,u),v=_=>p(_,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[l,u,p,d]),ne.useEffect(()=>{if(s){const g=v=>{const _=v.target,b={x:v.clientX,y:v.clientY},x=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),C=!function(S,E){const{x:I,y:M}=S;let k=!1;for(let F=0,P=E.length-1;F<E.length;P=F++){const Q=E[F].x,N=E[F].y,W=E[P].x,q=E[P].y;N>M!=q>M&&I<(W-Q)*(M-N)/(q-N)+Q&&(k=!k)}return k}(b,s);x?d():C&&(d(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,s,c,d]),ne.createElement(tee,Lr({},i,{ref:o}))}),[kye,Fye]=Tk(TN,{isInside:!1}),tee=ne.forwardRef((i,e)=>{const{__scopeTooltip:t,children:n,"aria-label":r,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=i,l=Mk(OB,t),c=Ik(t),{onClose:u}=l;return ne.useEffect(()=>(document.addEventListener(dO,u),()=>document.removeEventListener(dO,u)),[u]),ne.useEffect(()=>{if(l.trigger){const h=d=>{const p=d.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),ne.createElement(Lbe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:u},ne.createElement(wye,Lr({"data-state":l.stateAttribute},c,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),ne.createElement(HJ,null,n),ne.createElement(kye,{scope:t,isInside:!0},ne.createElement(Sye,{id:l.contentId,role:"tooltip"},r||n))))}),Dye=ne.forwardRef((i,e)=>{const{__scopeTooltip:t,...n}=i,r=Ik(t);return Fye("TooltipArrow",t).isInside?null:ne.createElement(xye,Lr({},r,n,{ref:e}))}),Uye=i=>{const{__scopeTooltip:e,children:t,open:n,defaultOpen:r=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=i,l=EN(TN,i.__scopeTooltip),c=Ik(e),[u,h]=ne.useState(null),d=function(M){const[k,F]=ne.useState(Qbe());return Obe(()=>{F(P=>P??String(Nbe++))},[M]),k?`radix-${k}`:""}(),p=ne.useRef(0),g=s??l.disableHoverableContent,v=a??l.delayDuration,_=ne.useRef(!1),[b=!1,x]=Cye({prop:n,defaultProp:r,onChange:M=>{M?(l.onOpen(),document.dispatchEvent(new CustomEvent(dO))):l.onClose(),o==null||o(M)}}),C=ne.useMemo(()=>b?_.current?"delayed-open":"instant-open":"closed",[b]),S=ne.useCallback(()=>{window.clearTimeout(p.current),_.current=!1,x(!0)},[x]),E=ne.useCallback(()=>{window.clearTimeout(p.current),x(!1)},[x]),I=ne.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{_.current=!0,x(!0)},v)},[v,x]);return ne.useEffect(()=>()=>window.clearTimeout(p.current),[]),ne.createElement(bye,c,ne.createElement(Eye,{scope:e,contentId:d,open:b,stateAttribute:C,trigger:u,onTriggerChange:h,onTriggerEnter:ne.useCallback(()=>{l.isOpenDelayed?I():S()},[l.isOpenDelayed,I,S]),onTriggerLeave:ne.useCallback(()=>{g?E():window.clearTimeout(p.current)},[E,g]),onOpen:S,onClose:E,disableHoverableContent:g},t))},Pye=Tye,Lye=Mye,Oye=Dye;function Yn(i,e){if(i==null)return{};var t,n,r=function(s,a){if(s==null)return{};var l,c,u={},h=Object.keys(s);for(c=0;c<h.length;c++)l=h[c],a.indexOf(l)>=0||(u[l]=s[l]);return u}(i,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(n=0;n<o.length;n++)t=o[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(i,t)&&(r[t]=i[t])}return r}let qr;(function(i){i[i.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",i[i.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",i[i.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",i[i.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",i[i.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",i[i.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",i[i.THEME_ERROR=6]="THEME_ERROR",i[i.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",i[i.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",i[i.EMPTY_KEY=9]="EMPTY_KEY"})(qr||(qr={}));const Qye={[qr.UNSUPPORTED_INPUT]:(i,e)=>[`An input with type \`${i}\` input was found at path \`${e}\` but it's not supported yet.`],[qr.NO_COMPONENT_FOR_TYPE]:(i,e)=>[`Type \`${i}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[qr.UNKNOWN_INPUT]:(i,e)=>[`input at path \`${i}\` is not recognized.`,e],[qr.DUPLICATE_KEYS]:(i,e,t)=>[`Key \`${i}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[qr.ALREADY_REGISTERED_TYPE]:i=>[`Type ${i} has already been registered. You can't register a component with the same type.`],[qr.CLIPBOARD_ERROR]:i=>["Error copying the value",i],[qr.THEME_ERROR]:(i,e)=>[`Error accessing the theme \`${i}.${e}\` value.`],[qr.PATH_DOESNT_EXIST]:i=>[`Error getting the value at path \`${i}\`. There is probably an error in your \`render\` function.`],[qr.PATH_DOESNT_EXIST]:i=>[`Error accessing the value at path \`${i}\``],[qr.INPUT_TYPE_OVERRIDE]:(i,e,t)=>[`Input at path \`${i}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[qr.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function iee(i,e,...t){const[n,...r]=Qye[e](...t);console[i]("LEVA: "+n,...r)}const pp=iee.bind(null,"warn"),Nye=iee.bind(null,"log"),Hye=["value"],zye=["schema"],Gye=["value"],nee=[],vv={};function KV(i){let{value:e}=i,t=Yn(i,Hye);for(let n of nee){const r=n(e,t);if(r)return r}}function Gd(i,e){let{schema:t}=e,n=Yn(e,zye);i in vv?pp(qr.ALREADY_REGISTERED_TYPE,i):(nee.push((r,o)=>t(r,o)&&i),vv[i]=n)}function c9(i,e,t,n){const{normalize:r}=vv[i];if(r)return r(e,t,n);if(typeof e!="object"||!("value"in e))return{value:e};const{value:o}=e;return{value:o,settings:Yn(e,Gye)}}function $V(i,e,t){const{format:n}=vv[i];return n?n(e,t):e}function Vye(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function XV(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function li(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XV(Object(t),!0).forEach(function(n){Vye(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):XV(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}const Tg=(i,e,t)=>i>t?t:i<e?e:i,qye=i=>{if(i===""||typeof i=="number")return i;try{const e=Of(i);if(!isNaN(e))return e}catch{}return parseFloat(i)},Wye=Math.log(10);function YV(i){let e=Math.abs(+String(i).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10==0;)e/=10;const t=Math.floor(Math.log(e)/Wye)+1,n=Math.floor(Math.log10(Math.abs(i))),r=Math.pow(10,n-t);return Math.max(r,.001)}const U5=(i,e,t)=>t===e?0:(Tg(i,e,t)-e)/(t-e),P5=(i,e,t)=>i*(t-e)+e,ZV=/\(([0-9+\-*/^ .]+)\)/,JV=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,e4=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,t4=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,i4=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,n4=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Of(i){if(isNaN(Number(i))){if(ZV.test(i)){const e=i.replace(ZV,(t,n)=>String(Of(n)));return Of(e)}if(JV.test(i))return Of(i.replace(JV,(e,t,n)=>String(Math.pow(Number(t),Number(n)))));if(e4.test(i)){const e=i.replace(e4,(t,n,r)=>String(Number(n)*Number(r)));return Of(e)}if(t4.test(i)){const e=i.replace(t4,(t,n,r)=>{if(r!=0)return String(Number(n)/Number(r));throw new Error("Division by zero")});return Of(e)}if(i4.test(i)){const e=i.replace(i4,(t,n,r)=>String(Number(n)+Number(r)));return Of(e)}if(n4.test(i)){const e=i.replace(n4,(t,n,r)=>String(Number(n)-Number(r)));return Of(e)}return Number(i)}return Number(i)}function r4(i){return Object.prototype.toString.call(i)==="[object Object]"}let Qh,Eh;(function(i){i.BUTTON="BUTTON",i.BUTTON_GROUP="BUTTON_GROUP",i.MONITOR="MONITOR",i.FOLDER="FOLDER"})(Qh||(Qh={})),function(i){i.SELECT="SELECT",i.IMAGE="IMAGE",i.NUMBER="NUMBER",i.COLOR="COLOR",i.STRING="STRING",i.BOOLEAN="BOOLEAN",i.INTERVAL="INTERVAL",i.VECTOR3D="VECTOR3D",i.VECTOR2D="VECTOR2D"}(Eh||(Eh={}));const jye=["type","__customInput"],Kye=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],$ye=["type"];function ree(i,e,t={},n){var r,o;if(typeof i!="object"||Array.isArray(i))return{type:n,input:i,options:li({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in i){const{type:I,__customInput:M}=i;return ree(M,e,Yn(i,jye),I)}const{render:s,label:a,optional:l,order:c=0,disabled:u,hint:h,onChange:d,onEditStart:p,onEditEnd:g,transient:v}=i,_=Yn(i,Kye),b=li({render:s,key:e,label:a??e,hint:h,transient:v??!!d,onEditStart:p,onEditEnd:g,disabled:u,optional:l,order:c},t);let x,{type:C}=_,S=Yn(_,$ye);return C=n??C,C in Qh?{type:C,input:S,options:b}:(n&&r4(S)&&"value"in S?x=S.value:x=r4(E=S)&&Object.keys(E).length===0?void 0:S,{type:C,input:x,options:li(li({},b),{},{onChange:d,optional:(r=b.optional)!==null&&r!==void 0&&r,disabled:(o=b.disabled)!==null&&o!==void 0&&o})});var E}function o4(i,e,t,n,r){const{value:o,type:s,settings:a}=i;i.value=oee({type:s,value:o,settings:a},e,t,n),i.fromPanel=r}const Xye=function(i,e,t){this.type="LEVA_ERROR",this.message="LEVA: "+i,this.previousValue=e,this.error=t};function oee({type:i,value:e,settings:t},n,r,o){const s=i!=="SELECT"&&typeof n=="function"?n(e):n;let a;try{a=function(l,c,u,h,d,p){const{sanitize:g}=vv[l];return g?g(c,u,h,d,p):c}(i,s,t,e,r,o)}catch(l){throw new Xye(`The value \`${n}\` did not result in a correct value.`,e,l)}return DB(a,e)?e:a}const see=(i,e,t=!1)=>{let n=0;return function(){const r=arguments,o=t&&!n,s=()=>i.apply(this,r);window.clearTimeout(n),n=window.setTimeout(s,e),o&&s()}},aee=i=>i.shiftKey?5:i.altKey?.2:1,Yye=["value"],Zye=["min","max"],lee=(i,{min:e=-1/0,max:t=1/0,suffix:n})=>{const r=parseFloat(i);if(i===""||isNaN(r))throw Error("Invalid number");const o=Tg(r,e,t);return n?o+n:o},cee=i=>{let{value:e}=i,t=Yn(i,Yye);const{min:n=-1/0,max:r=1/0}=t,o=Yn(t,Zye);let s=parseFloat(e);const a=typeof e=="string"?e.substring((""+s).length):void 0;s=Tg(s,n,r);let l=t.step;l||(Number.isFinite(n)?l=Number.isFinite(r)?+(Math.abs(r-n)/100).toPrecision(1):+(Math.abs(s-n)/100).toPrecision(1):Number.isFinite(r)&&(l=+(Math.abs(r-s)/100).toPrecision(1)));const c=l?10*YV(l):YV(s);return l=l||c/10,{value:a?s+a:s,settings:li({initialValue:s,step:l,pad:Math.round(Tg(Math.log10(1/c),0,2)),min:n,max:r,suffix:a},o)}},uee=(i,{step:e,initialValue:t})=>t+Math.round((i-t)/e)*e;var hee=Object.freeze({__proto__:null,schema:i=>{if(typeof i=="number")return!0;if(typeof i=="string"){const e=parseFloat(i);return isNaN(e)?!1:i.substring((""+e).length).trim().length<4}return!1},sanitize:lee,format:(i,{pad:e=0,suffix:t})=>{const n=parseFloat(i).toFixed(e);return t?n+t:n},normalize:cee,sanitizeStep:uee});function oo(){return oo=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},oo.apply(this,arguments)}const Aee=ne.createContext({});function Wa(){return ne.useContext(Aee)}const IN=ne.createContext(null),dee=ne.createContext(null),pee=ne.createContext(null);function QB(){return ne.useContext(dee)}function C1(i,e){const[t,n]=i.split(" "),r={};return t!=="none"&&(r.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),n&&(r.backgroundColor=n),r}const RC={$inputStyle:()=>i=>C1(i,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>i=>C1(i,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>i=>C1(i,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>i=>C1(i,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Jt,css:zke,createTheme:Jye,globalCss:ewe,keyframes:Gke}=(i=>{const e=(t=>{let n=!1;const r=ube(t,o=>{n=!0;const s="prefix"in(o=typeof o=="object"&&o||{})?String(o.prefix):"",a=typeof o.media=="object"&&o.media||{},l=typeof o.root=="object"?o.root||null:globalThis.document||null,c=typeof o.theme=="object"&&o.theme||{},u={prefix:s,media:a,theme:c,themeMap:typeof o.themeMap=="object"&&o.themeMap||{...Q0e},utils:typeof o.utils=="object"&&o.utils||{}},h=X0e(l),d={css:bV(u,h),globalCss:rbe(u,h),keyframes:sbe(u,h),createTheme:cbe(u,h),reset(){h.reset(),d.theme.toString()},theme:{},sheet:h,config:u,prefix:s,getCssText:h.toString,toString:h.toString};return String(d.theme=d.createTheme(c)),d});return n||r.reset(),r})(i);return e.styled=(({config:t,sheet:n})=>hbe(t,()=>{const r=bV(t,n);return(...o)=>{const s=r(...o),a=s[ev].type,l=_e.forwardRef((c,u)=>{const h=c&&c.as||a,{props:d,deferredInjector:p}=s(c);return delete d.as,d.ref=u,p?_e.createElement(_e.Fragment,null,_e.createElement(h,d),_e.createElement(p,null)):_e.createElement(h,d)});return l.className=s.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=s.selector,l.toString=()=>s.selector,l[ev]=s[ev],l}}))(e),e})({prefix:"leva",theme:{colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}},utils:li(li({},RC),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:i=>({"&:focus":RC.$focusStyle()(i)}),$focusWithin:i=>({"&:focus-within":RC.$focusStyle()(i)}),$hover:i=>({"&:hover":RC.$hoverStyle()(i)}),$active:i=>({"&:active":RC.$activeStyle()(i)})})}),twe=ewe({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Bp(i,e){const{theme:t}=ne.useContext(IN);if(!(i in t)||!(e in t[i]))return pp(qr.THEME_ERROR,i,e),"";let n=e;for(;;){let r=t[i][n];if(typeof r!="string"||r.charAt(0)!=="$")return r;n=r.substr(1)}}const fee=Jt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),gee=Jt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${fee}`]:{paddingLeft:0}}),iwe=Jt(gee,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),nwe=Jt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),rwe=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],owe=["onUpdate"];function MN(i){let{innerLabel:e,value:t,onUpdate:n,onChange:r,onKeyDown:o,type:s,id:a,inputType:l="text",rows:c=0}=i,u=Yn(i,rwe);const{id:h,emitOnEditStart:d,emitOnEditEnd:p,disabled:g}=Wa(),v=a||h,_=ne.useRef(null),b=c>0,x=b?"textarea":"input",C=ne.useCallback(I=>M=>{const k=M.currentTarget.value;I(k)},[]);_e.useEffect(()=>{const I=_.current,M=C(k=>{n(k),p()});return I==null||I.addEventListener("blur",M),()=>I==null?void 0:I.removeEventListener("blur",M)},[C,n,p]);const S=ne.useCallback(I=>{I.key==="Enter"&&C(n)(I)},[C,n]),E=Object.assign({as:x},b?{rows:c}:{},u);return _e.createElement(nwe,{textArea:b},e&&typeof e=="string"?_e.createElement(gee,null,e):e,_e.createElement(fee,oo({levaType:s,ref:_,id:v,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:C(r),onFocus:()=>d(),onKeyPress:S,onKeyDown:o,disabled:g},E)))}function swe(i){let{onUpdate:e}=i,t=Yn(i,owe);const n=ne.useCallback(o=>e(qye(o)),[e]),r=ne.useCallback(o=>{const s=o.key==="ArrowUp"?1:o.key==="ArrowDown"?-1:0;if(s){o.preventDefault();const a=o.altKey?.1:o.shiftKey?10:1;e(l=>parseFloat(l)+s*a)}},[e]);return _e.createElement(MN,oo({},t,{onUpdate:n,onKeyDown:r,type:"number"}))}const L5=Jt("div",{}),pO=Jt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),awe=Jt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${pO}::after`]:{opacity:.6},[`${L5}:hover > & + ${pO}::after`]:{opacity:.6},[`${L5}:hover > & > svg`]:{opacity:1}}),mee=Jt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${L5}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),_ee=Jt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${mee} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),vee=Jt(_ee,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),lwe=Jt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),cwe=Jt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),fO=Jt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),uwe=Jt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${fO}`]:{pointerEvents:"auto"}}}}}),bee=Jt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),hwe=Jt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Awe=Jt(Oye,{fill:"$toolTipBackground"});function RN({children:i}){const{className:e}=ne.useContext(IN);return _e.createElement(P0e,{className:e},i)}const dwe=["align"];function pwe(){const{id:i,disable:e,disabled:t}=Wa();return _e.createElement(_e.Fragment,null,_e.createElement(cwe,{id:i+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),_e.createElement("label",{htmlFor:i+"__disable"}))}function fwe(i){const{id:e,optional:t,hint:n}=Wa(),r=i.htmlFor||(e?{htmlFor:e}:null),o=n||typeof i.children!="string"?null:{title:i.children};return _e.createElement(_e.Fragment,null,t&&_e.createElement(pwe,null),n!==void 0?_e.createElement(Uye,null,_e.createElement(Pye,{asChild:!0},_e.createElement(fO,oo({},r,i))),_e.createElement(Lye,{side:"top",sideOffset:2},_e.createElement(hwe,null,n,_e.createElement(Awe,null)))):_e.createElement(fO,oo({},r,o,i)))}function Nh(i){let{align:e}=i,t=Yn(i,dwe);const{value:n,label:r,key:o,disabled:s}=Wa(),{hideCopyButton:a}=ne.useContext(pee),l=!a&&o!==void 0,[c,u]=ne.useState(!1);return _e.createElement(lwe,{align:e,onPointerLeave:()=>u(!1)},_e.createElement(fwe,t),l&&!s&&_e.createElement("div",{title:`Click to copy ${typeof r=="string"?r:o} value`},c?_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},_e.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),_e.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):_e.createElement("svg",{onClick:async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[o]:n??""})),u(!0)}catch{pp(qr.CLIPBOARD_ERROR,{[o]:n})}},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},_e.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),_e.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const gwe=["toggled"],mwe=Jt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function kN(i){let{toggled:e}=i,t=Yn(i,gwe);return _e.createElement(mwe,oo({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),_e.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const _we=["input"];function Du(i){let{input:e}=i,t=Yn(i,_we);return e?_e.createElement(vee,t):_e.createElement(_ee,t)}function yee({value:i,type:e,settings:t,setValue:n}){const[r,o]=ne.useState($V(e,i,t)),s=ne.useRef(i),a=ne.useRef(t);a.current=t;const l=ne.useCallback(u=>o($V(e,u,a.current)),[e]),c=ne.useCallback(u=>{try{n(u)}catch(h){const{type:d,previousValue:p}=h;if(d!=="LEVA_ERROR")throw h;l(p)}},[l,n]);return ne.useEffect(()=>{DB(i,s.current)||l(i),s.current=i},[i,l]),{displayValue:r,onChange:o,onUpdate:c}}function SS(i,e){const{emitOnEditStart:t,emitOnEditEnd:n}=Wa();return Mbe(r=>{r.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const o=i(r);return r.last&&(document.body.classList.remove("leva__panel__dragged"),n==null||n()),o},e)}function wee(){const i=ne.useRef(null),e=ne.useRef({x:0,y:0}),t=ne.useCallback(n=>{Object.assign(e.current,n),i.current&&(i.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[i,t]}const vwe=["__refCount"],u9=(i,e)=>i[e]?Yn(i[e],vwe):null,bwe=Jt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),xee=Jt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),gO=Jt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),Cee=Jt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Bee=Jt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function ywe({value:i,min:e,max:t,onDrag:n,step:r,initialValue:o}){const s=ne.useRef(null),a=ne.useRef(null),l=ne.useRef(0),c=Bp("sizes","scrubberWidth"),u=SS(({event:d,first:p,xy:[g],movement:[v],memo:_})=>{if(p){const{width:x,left:C}=s.current.getBoundingClientRect();l.current=x-parseFloat(c),_=(d==null?void 0:d.target)===a.current?i:P5((g-C)/x,e,t)}const b=_+P5(v/l.current,0,t-e);return n(uee(b,{step:r,initialValue:o})),_}),h=U5(i,e,t);return _e.createElement(Cee,oo({ref:s},u()),_e.createElement(xee,null,_e.createElement(Bee,{style:{left:0,right:100*(1-h)+"%"}})),_e.createElement(gO,{ref:a,style:{left:`calc(${h} * (100% - ${c}))`}}))}const wwe=_e.memo(({label:i,onUpdate:e,step:t,innerLabelTrim:n})=>{const[r,o]=ne.useState(!1),s=SS(({active:a,delta:[l],event:c,memo:u=0,first:h,last:d,target:p})=>(h&&p.requestPointerLock(),d&&document.exitPointerLock(),o(a),u+=l/2,Math.abs(u)>=1&&(e(g=>parseFloat(g)+Math.floor(u)*t*aee(c)),u=0),u));return _e.createElement(iwe,oo({dragging:r,title:i.length>1?i:""},s()),i.slice(0,n))});function See({label:i,id:e,displayValue:t,onUpdate:n,onChange:r,settings:o,innerLabelTrim:s=1}){const a=s>0&&_e.createElement(wwe,{label:i,step:o.step,onUpdate:n,innerLabelTrim:s});return _e.createElement(swe,{id:e,value:String(t),onUpdate:n,onChange:r,innerLabel:a})}const{sanitizeStep:xwe}=hee;var Cwe=li({component:function(){const i=Wa(),{label:e,value:t,onUpdate:n,settings:r,id:o}=i,{min:s,max:a}=r,l=a!==1/0&&s!==-1/0;return _e.createElement(Du,{input:!0},_e.createElement(Nh,null,e),_e.createElement(bwe,{hasRange:l},l&&_e.createElement(ywe,oo({value:parseFloat(t),onDrag:n},r)),_e.createElement(See,oo({},i,{id:o,label:"value",innerLabelTrim:l?0:1}))))}},Yn(hee,["sanitizeStep"])),Bwe=Object.freeze({__proto__:null,schema:(i,e)=>ic().schema({options:ic().passesAnyOf(ic().object(),ic().array())}).test(e),sanitize:(i,{values:e})=>{if(e.indexOf(i)<0)throw Error("Selected value doesn't match Select options");return i},format:(i,{values:e})=>e.indexOf(i),normalize:i=>{let e,t,{value:n,options:r}=i;return Array.isArray(r)?(t=r,e=r.map(o=>String(o))):(t=Object.values(r),e=Object.keys(r)),"value"in i?t.includes(n)||(e.unshift(String(n)),t.unshift(n)):n=t[0],Object.values(r).includes(n)||(r[String(n)]=n),{value:n,settings:{keys:e,values:t}}}});const Swe=Jt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),mO=Jt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Ewe=Jt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${mO}:focus + &`]:{$focusStyle:""},[`${mO}:hover + &`]:{$hoverStyle:""}});function Twe({displayValue:i,value:e,onUpdate:t,id:n,settings:r,disabled:o}){const{keys:s,values:a}=r,l=ne.useRef();return e===a[i]&&(l.current=s[i]),_e.createElement(Swe,null,_e.createElement(mO,{id:n,value:i,onChange:c=>t(a[Number(c.currentTarget.value)]),disabled:o},s.map((c,u)=>_e.createElement("option",{key:c,value:u},c))),_e.createElement(Ewe,null,l.current),_e.createElement(kN,{toggled:!0}))}var Iwe=li({component:function(){const{label:i,value:e,displayValue:t,onUpdate:n,id:r,disabled:o,settings:s}=Wa();return _e.createElement(Du,{input:!0},_e.createElement(Nh,null,i),_e.createElement(Twe,{id:r,value:e,displayValue:t,onUpdate:n,settings:s,disabled:o}))}},Bwe),Mwe=Object.freeze({__proto__:null,schema:i=>ic().string().test(i),sanitize:i=>{if(typeof i!="string")throw Error("Invalid string");return i},normalize:({value:i,editable:e=!0,rows:t=!1})=>({value:i,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}})});const Rwe=["displayValue","onUpdate","onChange","editable"],kwe=Jt("div",{whiteSpace:"pre-wrap"});function Fwe(i){let{displayValue:e,onUpdate:t,onChange:n,editable:r=!0}=i,o=Yn(i,Rwe);return r?_e.createElement(MN,oo({value:e,onUpdate:t,onChange:n},o)):_e.createElement(kwe,null,e)}var Dwe=li({component:function(){const{label:i,settings:e,displayValue:t,onUpdate:n,onChange:r}=Wa();return _e.createElement(Du,{input:!0},_e.createElement(Nh,null,i),_e.createElement(Fwe,oo({displayValue:t,onUpdate:n,onChange:r},e)))}},Mwe),Uwe=Object.freeze({__proto__:null,schema:i=>ic().boolean().test(i),sanitize:i=>{if(typeof i!="boolean")throw Error("Invalid boolean");return i}});const Pwe=Jt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Lwe({value:i,onUpdate:e,id:t,disabled:n}){return _e.createElement(Pwe,null,_e.createElement("input",{id:t,type:"checkbox",checked:i,onChange:r=>e(r.currentTarget.checked),disabled:n}),_e.createElement("label",{htmlFor:t},_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}var Owe=li({component:function(){const{label:i,value:e,onUpdate:t,disabled:n,id:r}=Wa();return _e.createElement(Du,{input:!0},_e.createElement(Nh,null,i),_e.createElement(Lwe,{value:e,onUpdate:t,id:r,disabled:n}))}},Uwe);const Qwe=["locked"];function Nwe({value:i,id:e,valueKey:t,settings:n,onUpdate:r,innerLabelTrim:o}){const s=ne.useRef(i[t]);s.current=i[t];const a=ne.useCallback(c=>r({[t]:oee({type:"NUMBER",value:s.current,settings:n},c)}),[r,n,t]),l=yee({type:"NUMBER",value:i[t],settings:n,setValue:a});return _e.createElement(See,{id:e,label:t,value:i[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:n,innerLabelTrim:o})}const Hwe=Jt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function zwe(i){let{locked:e}=i,t=Yn(i,Qwe);return _e.createElement("svg",oo({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?_e.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):_e.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function FN({value:i,onUpdate:e,settings:t,innerLabelTrim:n}){const{id:r,setSettings:o}=Wa(),{lock:s,locked:a}=t;return _e.createElement(Hwe,{withLock:s},s&&_e.createElement(zwe,{locked:a,onClick:()=>o({locked:!a})}),Object.keys(i).map((l,c)=>_e.createElement(Nwe,{id:c===0?r:`${r}.${l}`,key:l,valueKey:l,value:i,settings:t[l],onUpdate:e,innerLabelTrim:n})))}const Eee=(i,e)=>{const t={};let n=0,r=1/0;Object.entries(i).forEach(([o,s])=>{t[o]=cee(li({value:s},e[o])).settings,n=Math.max(n,t[o].step),r=Math.min(r,t[o].pad)});for(let o in t){const{step:s,min:a,max:l}=e[o]||{};isFinite(s)||isFinite(a)&&isFinite(l)||(t[o].step=n,t[o].pad=r)}return t},Gwe=["lock"],Vwe=["value"];function qwe(i){const e=ic().array().length(i).every.number();return t=>e.test(t)||(n=>{if(!n||typeof n!="object")return!1;const r=Object.values(n);return r.length===i&&r.every(o=>isFinite(o))})(t)}function kC(i,e,t){return function(n){return Array.isArray(n)?"array":"object"}(i)===e?i:e==="array"?Object.values(i):function(n,r){return n.reduce((o,s,a)=>Object.assign(o,{[r[a]]:s}),{})}(i,t)}function Tee(i){return{schema:qwe(i.length),normalize:e=>{let{value:t}=e;return function(n,r,o=[]){const{lock:s=!1}=r,a=Yn(r,Gwe),l=Array.isArray(n)?"array":"object",c=l==="object"?Object.keys(n):o,u=kC(n,"object",c),h=(d=>!!d&&("step"in d||"min"in d||"max"in d))(a)?c.reduce((d,p)=>Object.assign(d,{[p]:a}),{}):a;return{value:l==="array"?n:u,settings:li(li({},Eee(u,h)),{},{format:l,keys:c,lock:s,locked:!1})}}(t,Yn(e,Vwe),i)},format:(e,t)=>((n,r)=>kC(n,"object",r.keys))(e,t),sanitize:(e,t,n)=>((r,o,s)=>{const a=kC(r,"object",o.keys);for(let u in a)a[u]=lee(a[u],o[u]);const l=Object.keys(a);let c={};if(l.length===o.keys.length)c=a;else{const u=kC(s,"object",o.keys);if(l.length===1&&o.locked){const h=l[0],d=a[h],p=u[h],g=p!==0?d/p:1;for(let v in u)v===h?c[h]=d:c[v]=u[v]*g}else c=li(li({},u),a)}return kC(c,o.format,o.keys)})(e,t,n)}}var Wwe={grad:.9,turn:360,rad:360/(2*Math.PI)},Vd=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},Is=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*i)/t+0},Tu=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),i>t?t:i>e?i:e},Iee=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},s4=function(i){return{r:Tu(i.r,0,255),g:Tu(i.g,0,255),b:Tu(i.b,0,255),a:Tu(i.a)}},h9=function(i){return{r:Is(i.r),g:Is(i.g),b:Is(i.b),a:Is(i.a,3)}},jwe=/^#([0-9a-f]{3,8})$/i,B1=function(i){var e=i.toString(16);return e.length<2?"0"+e:e},Mee=function(i){var e=i.r,t=i.g,n=i.b,r=i.a,o=Math.max(e,t,n),s=o-Math.min(e,t,n),a=s?o===e?(t-n)/s:o===t?2+(n-e)/s:4+(e-t)/s:0;return{h:60*(a<0?a+6:a),s:o?s/o*100:0,v:o/255*100,a:r}},Ree=function(i){var e=i.h,t=i.s,n=i.v,r=i.a;e=e/360*6,t/=100,n/=100;var o=Math.floor(e),s=n*(1-t),a=n*(1-(e-o)*t),l=n*(1-(1-e+o)*t),c=o%6;return{r:255*[n,a,s,s,l,n][c],g:255*[l,n,n,a,s,s][c],b:255*[s,s,l,n,n,a][c],a:r}},a4=function(i){return{h:Iee(i.h),s:Tu(i.s,0,100),l:Tu(i.l,0,100),a:Tu(i.a)}},l4=function(i){return{h:Is(i.h),s:Is(i.s),l:Is(i.l),a:Is(i.a,3)}},c4=function(i){return Ree((t=(e=i).s,{h:e.h,s:(t*=((n=e.l)<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}));var e,t,n},G2=function(i){return{h:(e=Mee(i)).h,s:(r=(200-(t=e.s))*(n=e.v)/100)>0&&r<200?t*n/100/(r<=100?r:200-r)*100:0,l:r/2,a:e.a};var e,t,n,r},Kwe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$we=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xwe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ywe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_O={string:[[function(i){var e=jwe.exec(i);return e?(i=e[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?Is(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?Is(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var e=Xwe.exec(i)||Ywe.exec(i);return e?e[2]!==e[4]||e[4]!==e[6]?null:s4({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(i){var e=Kwe.exec(i)||$we.exec(i);if(!e)return null;var t,n,r=a4({h:(t=e[1],n=e[2],n===void 0&&(n="deg"),Number(t)*(Wwe[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return c4(r)},"hsl"]],object:[[function(i){var e=i.r,t=i.g,n=i.b,r=i.a,o=r===void 0?1:r;return Vd(e)&&Vd(t)&&Vd(n)?s4({r:Number(e),g:Number(t),b:Number(n),a:Number(o)}):null},"rgb"],[function(i){var e=i.h,t=i.s,n=i.l,r=i.a,o=r===void 0?1:r;if(!Vd(e)||!Vd(t)||!Vd(n))return null;var s=a4({h:Number(e),s:Number(t),l:Number(n),a:Number(o)});return c4(s)},"hsl"],[function(i){var e=i.h,t=i.s,n=i.v,r=i.a,o=r===void 0?1:r;if(!Vd(e)||!Vd(t)||!Vd(n))return null;var s=function(a){return{h:Iee(a.h),s:Tu(a.s,0,100),v:Tu(a.v,0,100),a:Tu(a.a)}}({h:Number(e),s:Number(t),v:Number(n),a:Number(o)});return Ree(s)},"hsv"]]},u4=function(i,e){for(var t=0;t<e.length;t++){var n=e[t][0](i);if(n)return[n,e[t][1]]}return[null,void 0]},kee=function(i){return typeof i=="string"?u4(i.trim(),_O.string):typeof i=="object"&&i!==null?u4(i,_O.object):[null,void 0]},A9=function(i,e){var t=G2(i);return{h:t.h,s:Tu(t.s+100*e,0,100),l:t.l,a:t.a}},d9=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},h4=function(i,e){var t=G2(i);return{h:t.h,s:t.s,l:Tu(t.l+100*e,0,100),a:t.a}},vO=function(){function i(e){this.parsed=kee(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return Is(d9(this.rgba),2)},i.prototype.isDark=function(){return d9(this.rgba)<.5},i.prototype.isLight=function(){return d9(this.rgba)>=.5},i.prototype.toHex=function(){return t=(e=h9(this.rgba)).r,n=e.g,r=e.b,s=(o=e.a)<1?B1(Is(255*o)):"","#"+B1(t)+B1(n)+B1(r)+s;var e,t,n,r,o,s},i.prototype.toRgb=function(){return h9(this.rgba)},i.prototype.toRgbString=function(){return t=(e=h9(this.rgba)).r,n=e.g,r=e.b,(o=e.a)<1?"rgba("+t+", "+n+", "+r+", "+o+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,o},i.prototype.toHsl=function(){return l4(G2(this.rgba))},i.prototype.toHslString=function(){return t=(e=l4(G2(this.rgba))).h,n=e.s,r=e.l,(o=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+o+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,o},i.prototype.toHsv=function(){return e=Mee(this.rgba),{h:Is(e.h),s:Is(e.s),v:Is(e.v),a:Is(e.a,3)};var e},i.prototype.invert=function(){return _l({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},i.prototype.saturate=function(e){return e===void 0&&(e=.1),_l(A9(this.rgba,e))},i.prototype.desaturate=function(e){return e===void 0&&(e=.1),_l(A9(this.rgba,-e))},i.prototype.grayscale=function(){return _l(A9(this.rgba,-1))},i.prototype.lighten=function(e){return e===void 0&&(e=.1),_l(h4(this.rgba,e))},i.prototype.darken=function(e){return e===void 0&&(e=.1),_l(h4(this.rgba,-e))},i.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},i.prototype.alpha=function(e){return typeof e=="number"?_l({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Is(this.rgba.a,3);var t},i.prototype.hue=function(e){var t=G2(this.rgba);return typeof e=="number"?_l({h:e,s:t.s,l:t.l,a:t.a}):Is(t.h)},i.prototype.isEqual=function(e){return this.toHex()===_l(e).toHex()},i}(),_l=function(i){return i instanceof vO?i:new vO(i)},A4=[];function Bw(){return(Bw=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i}).apply(this,arguments)}function DN(i,e){if(i==null)return{};var t,n,r={},o=Object.keys(i);for(n=0;n<o.length;n++)e.indexOf(t=o[n])>=0||(r[t]=i[t]);return r}function bO(i){var e=ne.useRef(i),t=ne.useRef(function(n){e.current&&e.current(n)});return e.current=i,t.current}var $y=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),i>t?t:i<e?e:i},V2=function(i){return"touches"in i},yO=function(i){return i&&i.ownerDocument.defaultView||self},d4=function(i,e,t){var n=i.getBoundingClientRect(),r=V2(e)?function(o,s){for(var a=0;a<o.length;a++)if(o[a].identifier===s)return o[a];return o[0]}(e.touches,t):e;return{left:$y((r.pageX-(n.left+yO(i).pageXOffset))/n.width),top:$y((r.pageY-(n.top+yO(i).pageYOffset))/n.height)}},p4=function(i){!V2(i)&&i.preventDefault()},UN=_e.memo(function(i){var e=i.onMove,t=i.onKey,n=DN(i,["onMove","onKey"]),r=ne.useRef(null),o=bO(e),s=bO(t),a=ne.useRef(null),l=ne.useRef(!1),c=ne.useMemo(function(){var p=function(_){p4(_),(V2(_)?_.touches.length>0:_.buttons>0)&&r.current?o(d4(r.current,_,a.current)):v(!1)},g=function(){return v(!1)};function v(_){var b=l.current,x=yO(r.current),C=_?x.addEventListener:x.removeEventListener;C(b?"touchmove":"mousemove",p),C(b?"touchend":"mouseup",g)}return[function(_){var b=_.nativeEvent,x=r.current;if(x&&(p4(b),!function(S,E){return E&&!V2(S)}(b,l.current)&&x)){if(V2(b)){l.current=!0;var C=b.changedTouches||[];C.length&&(a.current=C[0].identifier)}x.focus(),o(d4(x,b,a.current)),v(!0)}},function(_){var b=_.which||_.keyCode;b<37||b>40||(_.preventDefault(),s({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},v]},[s,o]),u=c[0],h=c[1],d=c[2];return ne.useEffect(function(){return d},[d]),_e.createElement("div",Bw({},n,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:r,onKeyDown:h,tabIndex:0,role:"slider"}))}),ES=function(i){return i.filter(Boolean).join(" ")},PN=function(i){var e=i.color,t=i.left,n=i.top,r=n===void 0?.5:n,o=ES(["react-colorful__pointer",i.className]);return _e.createElement("div",{className:o,style:{top:100*r+"%",left:100*t+"%"}},_e.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Sl=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*i)/t},Fee=function(i){var e=i.s,t=i.v,n=i.a,r=(200-e)*t/100;return{h:Sl(i.h),s:Sl(r>0&&r<200?e*t/100/(r<=100?r:200-r)*100:0),l:Sl(r/2),a:Sl(n,2)}},wO=function(i){var e=Fee(i);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},p9=function(i){var e=Fee(i);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},Dee=function(i){var e=i.h,t=i.s,n=i.v,r=i.a;e=e/360*6,t/=100,n/=100;var o=Math.floor(e),s=n*(1-t),a=n*(1-(e-o)*t),l=n*(1-(1-e+o)*t),c=o%6;return{r:Sl(255*[n,a,s,s,l,n][c]),g:Sl(255*[l,n,n,a,s,s][c]),b:Sl(255*[s,s,l,n,n,a][c]),a:Sl(r,2)}},Uee=function(i){var e=i.r,t=i.g,n=i.b,r=i.a,o=Math.max(e,t,n),s=o-Math.min(e,t,n),a=s?o===e?(t-n)/s:o===t?2+(n-e)/s:4+(e-t)/s:0;return{h:Sl(60*(a<0?a+6:a)),s:Sl(o?s/o*100:0),v:Sl(o/255*100),a:r}},Pee=_e.memo(function(i){var e=i.hue,t=i.onChange,n=ES(["react-colorful__hue",i.className]);return _e.createElement("div",{className:n},_e.createElement(UN,{onMove:function(r){t({h:360*r.left})},onKey:function(r){t({h:$y(e+360*r.left,0,360)})},"aria-label":"Hue","aria-valuenow":Sl(e),"aria-valuemax":"360","aria-valuemin":"0"},_e.createElement(PN,{className:"react-colorful__hue-pointer",left:e/360,color:wO({h:e,s:100,v:100,a:1})})))}),Lee=_e.memo(function(i){var e=i.hsva,t=i.onChange,n={backgroundColor:wO({h:e.h,s:100,v:100,a:1})};return _e.createElement("div",{className:"react-colorful__saturation",style:n},_e.createElement(UN,{onMove:function(r){t({s:100*r.left,v:100-100*r.top})},onKey:function(r){t({s:$y(e.s+100*r.left,0,100),v:$y(e.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Sl(e.s)+"%, Brightness "+Sl(e.v)+"%"},_e.createElement(PN,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:wO(e)})))}),LN=function(i,e){if(i===e)return!0;for(var t in i)if(i[t]!==e[t])return!1;return!0};function Oee(i,e,t){var n=bO(t),r=ne.useState(function(){return i.toHsva(e)}),o=r[0],s=r[1],a=ne.useRef({color:e,hsva:o});ne.useEffect(function(){if(!i.equal(e,a.current.color)){var c=i.toHsva(e);a.current={hsva:c,color:e},s(c)}},[e,i]),ne.useEffect(function(){var c;LN(o,a.current.hsva)||i.equal(c=i.fromHsva(o),a.current.color)||(a.current={hsva:o,color:c},n(c))},[o,i,n]);var l=ne.useCallback(function(c){s(function(u){return Object.assign({},u,c)})},[]);return[o,l]}var Zwe=typeof window<"u"?ne.useLayoutEffect:ne.useEffect,f4=new Map,Qee=function(i){Zwe(function(){var e=i.current?i.current.ownerDocument:document;if(e!==void 0&&!f4.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,f4.set(e,t);var n=typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0;n&&t.setAttribute("nonce",n),e.head.appendChild(t)}},[])},Jwe=function(i){var e=i.className,t=i.colorModel,n=i.color,r=n===void 0?t.defaultColor:n,o=i.onChange,s=DN(i,["className","colorModel","color","onChange"]),a=ne.useRef(null);Qee(a);var l=Oee(t,r,o),c=l[0],u=l[1],h=ES(["react-colorful",e]);return _e.createElement("div",Bw({},s,{ref:a,className:h}),_e.createElement(Lee,{hsva:c,onChange:u}),_e.createElement(Pee,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},exe=function(i){var e=i.className,t=i.hsva,n=i.onChange,r={backgroundImage:"linear-gradient(90deg, "+p9(Object.assign({},t,{a:0}))+", "+p9(Object.assign({},t,{a:1}))+")"},o=ES(["react-colorful__alpha",e]),s=Sl(100*t.a);return _e.createElement("div",{className:o},_e.createElement("div",{className:"react-colorful__alpha-gradient",style:r}),_e.createElement(UN,{onMove:function(a){n({a:a.left})},onKey:function(a){n({a:$y(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":s+"%","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":"100"},_e.createElement(PN,{className:"react-colorful__alpha-pointer",left:t.a,color:p9(t)})))},txe=function(i){var e=i.className,t=i.colorModel,n=i.color,r=n===void 0?t.defaultColor:n,o=i.onChange,s=DN(i,["className","colorModel","color","onChange"]),a=ne.useRef(null);Qee(a);var l=Oee(t,r,o),c=l[0],u=l[1],h=ES(["react-colorful",e]);return _e.createElement("div",Bw({},s,{ref:a,className:h}),_e.createElement(Lee,{hsva:c,onChange:u}),_e.createElement(Pee,{hue:c.h,onChange:u}),_e.createElement(exe,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},ixe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Uee,fromHsva:Dee,equal:LN},nxe=function(i){return _e.createElement(txe,Bw({},i,{colorModel:ixe}))},rxe={defaultColor:{r:0,g:0,b:0},toHsva:function(i){return Uee({r:i.r,g:i.g,b:i.b,a:1})},fromHsva:function(i){return{r:(e=Dee(i)).r,g:e.g,b:e.b};var e},equal:LN},oxe=function(i){return _e.createElement(Jwe,Bw({},i,{colorModel:rxe}))};function TS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var f9={exports:{}},g4,m4,g9,_4,v4;function sxe(){return m4?g4:(m4=1,g4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function axe(){if(_4)return g9;_4=1;var i=sxe();function e(){}function t(){}return t.resetWarningCache=e,g9=function(){function n(s,a,l,c,u,h){if(h!==i){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}function r(){return n}n.isRequired=n;var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},g9}function lxe(){return v4||(v4=1,f9.exports=axe()()),f9.exports}var sr=TS(lxe()),cxe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function IS(i,e){var t=function(r){var o=r.name;if(o&&o.lastIndexOf(".")!==-1&&!r.type){var s=o.split(".").pop().toLowerCase(),a=cxe.get(s);a&&Object.defineProperty(r,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return r}(i);if(typeof t.path!="string"){var n=i.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof n=="string"&&n.length>0?n:i.name,writable:!1,configurable:!1,enumerable:!0})}return t}var uxe=[".DS_Store","Thumbs.db"];function S1(i){return typeof i=="object"&&i!==null}function hxe(i){return xO(i.target.files).map(function(e){return IS(e)})}function Axe(i){return ku(this,void 0,void 0,function(){return Fu(this,function(e){switch(e.label){case 0:return[4,Promise.all(i.map(function(t){return t.getFile()}))];case 1:return[2,e.sent().map(function(t){return IS(t)})]}})})}function dxe(i,e){return ku(this,void 0,void 0,function(){var t;return Fu(this,function(n){switch(n.label){case 0:return i===null?[2,[]]:i.items?(t=xO(i.items).filter(function(r){return r.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(pxe))]):[3,2];case 1:return[2,b4(Nee(n.sent()))];case 2:return[2,b4(xO(i.files).map(function(r){return IS(r)}))]}})})}function b4(i){return i.filter(function(e){return uxe.indexOf(e.name)===-1})}function xO(i){if(i===null)return[];for(var e=[],t=0;t<i.length;t++){var n=i[t];e.push(n)}return e}function pxe(i){if(typeof i.webkitGetAsEntry!="function")return y4(i);var e=i.webkitGetAsEntry();return e&&e.isDirectory?Hee(e):y4(i)}function Nee(i){return i.reduce(function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n=n.concat(T0e(arguments[r]));return n}(e,Array.isArray(t)?Nee(t):[t])},[])}function y4(i){var e=i.getAsFile();if(!e)return Promise.reject(i+" is not a File");var t=IS(e);return Promise.resolve(t)}function fxe(i){return ku(this,void 0,void 0,function(){return Fu(this,function(e){return[2,i.isDirectory?Hee(i):gxe(i)]})})}function Hee(i){var e=i.createReader();return new Promise(function(t,n){var r=[];(function o(){var s=this;e.readEntries(function(a){return ku(s,void 0,void 0,function(){var l,c,u;return Fu(this,function(h){switch(h.label){case 0:if(a.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return l=h.sent(),t(l),[3,4];case 3:return c=h.sent(),n(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(fxe)),r.push(u),o(),h.label=6;case 6:return[2]}})})},function(a){n(a)})})()})}function gxe(i){return ku(this,void 0,void 0,function(){return Fu(this,function(e){return[2,new Promise(function(t,n){i.file(function(r){var o=IS(r,i.fullPath);t(o)},function(r){n(r)})})]})})}var w4,m9={},mxe=TS((w4||(w4=1,m9.__esModule=!0,m9.default=function(i,e){if(i&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var n=i.name||"",r=(i.type||"").toLowerCase(),o=r.replace(/\/.*$/,"");return t.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?n.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):r===a})}return!0}),m9));function x4(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function C4(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(t),!0).forEach(function(n){zee(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):x4(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function zee(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function B4(i,e){return function(t){if(Array.isArray(t))return t}(i)||function(t,n){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var o,s,a=[],l=!0,c=!1;try{for(r=r.call(t);!(l=(o=r.next()).done)&&(a.push(o.value),!n||a.length!==n);l=!0);}catch(u){c=!0,s=u}finally{try{l||r.return==null||r.return()}finally{if(c)throw s}}return a}}(i,e)||function(t,n){if(t){if(typeof t=="string")return S4(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S4(t,n)}}(i,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S4(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}var _xe=function(i){i=Array.isArray(i)&&i.length===1?i[0]:i;var e=Array.isArray(i)?"one of ".concat(i.join(", ")):i;return{code:"file-invalid-type",message:"File type must be ".concat(e)}},E4=function(i){return{code:"file-too-large",message:"File is larger than ".concat(i," ").concat(i===1?"byte":"bytes")}},T4=function(i){return{code:"file-too-small",message:"File is smaller than ".concat(i," ").concat(i===1?"byte":"bytes")}},vxe={code:"too-many-files",message:"Too many files"};function I4(i,e){var t=i.type==="application/x-moz-file"||mxe(i,e);return[t,t?null:_xe(e)]}function M4(i,e,t){if(FC(i.size))if(FC(e)&&FC(t)){if(i.size>t)return[!1,E4(t)];if(i.size<e)return[!1,T4(e)]}else{if(FC(e)&&i.size<e)return[!1,T4(e)];if(FC(t)&&i.size>t)return[!1,E4(t)]}return[!0,null]}function FC(i){return i!=null}function O5(i){return typeof i.isPropagationStopped=="function"?i.isPropagationStopped():i.cancelBubble!==void 0&&i.cancelBubble}function E1(i){return i.dataTransfer?Array.prototype.some.call(i.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!i.target&&!!i.target.files}function R4(i){i.preventDefault()}function yA(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return e.some(function(a){return!O5(n)&&a&&a.apply(void 0,[n].concat(o)),O5(n)})}}function bxe(i){return i=typeof i=="string"?i.split(","):i,[{description:"everything",accept:Array.isArray(i)?i.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return C4(C4({},e),{},zee({},t,[]))},{}):{}}]}var yxe=["children"],wxe=["open"],xxe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Cxe=["refKey","onChange","onClick"];function Bxe(i){return function(e){if(Array.isArray(e))return CO(e)}(i)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(i)||Gee(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _9(i,e){return function(t){if(Array.isArray(t))return t}(i)||function(t,n){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var o,s,a=[],l=!0,c=!1;try{for(r=r.call(t);!(l=(o=r.next()).done)&&(a.push(o.value),!n||a.length!==n);l=!0);}catch(u){c=!0,s=u}finally{try{l||r.return==null||r.return()}finally{if(c)throw s}}return a}}(i,e)||Gee(i,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gee(i,e){if(i){if(typeof i=="string")return CO(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?CO(i,e):void 0}}function CO(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function k4(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function Vr(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(t),!0).forEach(function(n){BO(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):k4(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function BO(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Q5(i,e){if(i==null)return{};var t,n,r=function(s,a){if(s==null)return{};var l,c,u={},h=Object.keys(s);for(c=0;c<h.length;c++)l=h[c],a.indexOf(l)>=0||(u[l]=s[l]);return u}(i,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(n=0;n<o.length;n++)t=o[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(i,t)&&(r[t]=i[t])}return r}var SO=ne.forwardRef(function(i,e){var t=i.children,n=qee(Q5(i,yxe)),r=n.open,o=Q5(n,wxe);return ne.useImperativeHandle(e,function(){return{open:r}},[r]),_e.createElement(ne.Fragment,null,t(Vr(Vr({},o),{},{open:r})))});SO.displayName="Dropzone";var Vee={disabled:!1,getFilesFromEvent:function(i){return ku(this,void 0,void 0,function(){return Fu(this,function(e){return S1(i)&&S1(i.dataTransfer)?[2,dxe(i.dataTransfer,i.type)]:function(t){return S1(t)&&S1(t.target)}(i)?[2,hxe(i)]:Array.isArray(i)&&i.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Axe(i)]:[2,[]]})})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};SO.defaultProps=Vee,SO.propTypes={children:sr.func,accept:sr.oneOfType([sr.string,sr.arrayOf(sr.string)]),multiple:sr.bool,preventDropOnDocument:sr.bool,noClick:sr.bool,noKeyboard:sr.bool,noDrag:sr.bool,noDragEventsBubbling:sr.bool,minSize:sr.number,maxSize:sr.number,maxFiles:sr.number,disabled:sr.bool,getFilesFromEvent:sr.func,onFileDialogCancel:sr.func,onFileDialogOpen:sr.func,useFsAccessApi:sr.bool,onDragEnter:sr.func,onDragLeave:sr.func,onDragOver:sr.func,onDrop:sr.func,onDropAccepted:sr.func,onDropRejected:sr.func,validator:sr.func};var EO={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function qee(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Vr(Vr({},Vee),i),t=e.accept,n=e.disabled,r=e.getFilesFromEvent,o=e.maxSize,s=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,h=e.onDragOver,d=e.onDrop,p=e.onDropAccepted,g=e.onDropRejected,v=e.onFileDialogCancel,_=e.onFileDialogOpen,b=e.useFsAccessApi,x=e.preventDropOnDocument,C=e.noClick,S=e.noKeyboard,E=e.noDrag,I=e.noDragEventsBubbling,M=e.validator,k=ne.useMemo(function(){return typeof _=="function"?_:F4},[_]),F=ne.useMemo(function(){return typeof v=="function"?v:F4},[v]),P=ne.useRef(null),Q=ne.useRef(null),N=_9(ne.useReducer(Sxe,EO),2),W=N[0],q=N[1],J=W.isFocused,V=W.isFileDialogActive,Y=W.draggedFiles,Z=ne.useRef(typeof window<"u"&&window.isSecureContext&&b&&"showOpenFilePicker"in window),ue=function(){!Z.current&&V&&setTimeout(function(){Q.current&&(Q.current.files.length||(q({type:"closeDialog"}),F()))},300)};ne.useEffect(function(){return window.addEventListener("focus",ue,!1),function(){window.removeEventListener("focus",ue,!1)}},[Q,V,F,Z]);var $=ne.useRef([]),ee=function(G){P.current&&P.current.contains(G.target)||(G.preventDefault(),$.current=[])};ne.useEffect(function(){return x&&(document.addEventListener("dragover",R4,!1),document.addEventListener("drop",ee,!1)),function(){x&&(document.removeEventListener("dragover",R4),document.removeEventListener("drop",ee))}},[P,x]);var oe=ne.useCallback(function(G){G.preventDefault(),G.persist(),le(G),$.current=[].concat(Bxe($.current),[G.target]),E1(G)&&Promise.resolve(r(G)).then(function(ce){O5(G)&&!I||(q({draggedFiles:ce,isDragActive:!0,type:"setDraggedFiles"}),c&&c(G))})},[r,c,I]),ge=ne.useCallback(function(G){G.preventDefault(),G.persist(),le(G);var ce=E1(G);if(ce&&G.dataTransfer)try{G.dataTransfer.dropEffect="copy"}catch{}return ce&&h&&h(G),!1},[h,I]),se=ne.useCallback(function(G){G.preventDefault(),G.persist(),le(G);var ce=$.current.filter(function(Ie){return P.current&&P.current.contains(Ie)}),Te=ce.indexOf(G.target);Te!==-1&&ce.splice(Te,1),$.current=ce,ce.length>0||(q({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),E1(G)&&u&&u(G))},[P,u,I]),Ae=ne.useCallback(function(G,ce){var Te=[],Ie=[];G.forEach(function(ye){var Ue=_9(I4(ye,t),2),De=Ue[0],Ge=Ue[1],ct=_9(M4(ye,s,o),2),Ve=ct[0],st=ct[1],rt=M?M(ye):null;if(De&&Ve&&!rt)Te.push(ye);else{var yt=[Ge,st];rt&&(yt=yt.concat(rt)),Ie.push({file:ye,errors:yt.filter(function(At){return At})})}}),(!a&&Te.length>1||a&&l>=1&&Te.length>l)&&(Te.forEach(function(ye){Ie.push({file:ye,errors:[vxe]})}),Te.splice(0)),q({acceptedFiles:Te,fileRejections:Ie,type:"setFiles"}),d&&d(Te,Ie,ce),Ie.length>0&&g&&g(Ie,ce),Te.length>0&&p&&p(Te,ce)},[q,a,t,s,o,l,d,p,g,M]),we=ne.useCallback(function(G){G.preventDefault(),G.persist(),le(G),$.current=[],E1(G)&&Promise.resolve(r(G)).then(function(ce){O5(G)&&!I||Ae(ce,G)}),q({type:"reset"})},[r,Ae,I]),xe=ne.useCallback(function(){if(Z.current){q({type:"openDialog"}),k();var G={multiple:a,types:bxe(t)};window.showOpenFilePicker(G).then(function(ce){return r(ce)}).then(function(ce){Ae(ce,null),q({type:"closeDialog"})}).catch(function(ce){(function(Te){return Te instanceof DOMException&&(Te.name==="AbortError"||Te.code===Te.ABORT_ERR)})(ce)?(F(ce),q({type:"closeDialog"})):function(Te){return Te instanceof DOMException&&(Te.name==="SecurityError"||Te.code===Te.SECURITY_ERR)}(ce)&&(Z.current=!1,Q.current&&(Q.current.value=null,Q.current.click()))})}else Q.current&&(q({type:"openDialog"}),k(),Q.current.value=null,Q.current.click())},[q,k,F,b,Ae,t,a]),Be=ne.useCallback(function(G){P.current&&P.current.isEqualNode(G.target)&&(G.key!==" "&&G.key!=="Enter"&&G.keyCode!==32&&G.keyCode!==13||(G.preventDefault(),xe()))},[P,xe]),Re=ne.useCallback(function(){q({type:"focus"})},[]),ke=ne.useCallback(function(){q({type:"blur"})},[]),Pe=ne.useCallback(function(){C||(function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return function(ce){return ce.indexOf("MSIE")!==-1||ce.indexOf("Trident/")!==-1}(G)||function(ce){return ce.indexOf("Edge/")!==-1}(G)}()?setTimeout(xe,0):xe())},[C,xe]),ve=function(G){return n?null:G},te=function(G){return S?null:ve(G)},H=function(G){return E?null:ve(G)},le=function(G){I&&G.stopPropagation()},U=ne.useMemo(function(){return function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ce=G.refKey,Te=ce===void 0?"ref":ce,Ie=G.role,ye=G.onKeyDown,Ue=G.onFocus,De=G.onBlur,Ge=G.onClick,ct=G.onDragEnter,Ve=G.onDragOver,st=G.onDragLeave,rt=G.onDrop,yt=Q5(G,xxe);return Vr(Vr(BO({onKeyDown:te(yA(ye,Be)),onFocus:te(yA(Ue,Re)),onBlur:te(yA(De,ke)),onClick:ve(yA(Ge,Pe)),onDragEnter:H(yA(ct,oe)),onDragOver:H(yA(Ve,ge)),onDragLeave:H(yA(st,se)),onDrop:H(yA(rt,we)),role:typeof Ie=="string"&&Ie!==""?Ie:"button"},Te,P),n||S?{}:{tabIndex:0}),yt)}},[P,Be,Re,ke,Pe,oe,ge,se,we,S,E,n]),z=ne.useCallback(function(G){G.stopPropagation()},[]),j=ne.useMemo(function(){return function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ce=G.refKey,Te=ce===void 0?"ref":ce,Ie=G.onChange,ye=G.onClick,Ue=Q5(G,Cxe);return Vr(Vr({},BO({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:ve(yA(Ie,we)),onClick:ve(yA(ye,z)),tabIndex:-1},Te,Q)),Ue)}},[Q,t,a,we,n]),re=Y.length,ae=re>0&&function(G){var ce=G.files,Te=G.accept,Ie=G.minSize,ye=G.maxSize,Ue=G.multiple,De=G.maxFiles;return!(!Ue&&ce.length>1||Ue&&De>=1&&ce.length>De)&&ce.every(function(Ge){var ct=B4(I4(Ge,Te),1)[0],Ve=B4(M4(Ge,Ie,ye),1)[0];return ct&&Ve})}({files:Y,accept:t,minSize:s,maxSize:o,multiple:a,maxFiles:l}),X=re>0&&!ae;return Vr(Vr({},W),{},{isDragAccept:ae,isDragReject:X,isFocused:J&&!n,getRootProps:U,getInputProps:j,rootRef:P,inputRef:Q,open:ve(xe)})}function Sxe(i,e){switch(e.type){case"focus":return Vr(Vr({},i),{},{isFocused:!0});case"blur":return Vr(Vr({},i),{},{isFocused:!1});case"openDialog":return Vr(Vr({},EO),{},{isFileDialogActive:!0});case"closeDialog":return Vr(Vr({},i),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,n=e.draggedFiles;return Vr(Vr({},i),{},{draggedFiles:n,isDragActive:t});case"setFiles":return Vr(Vr({},i),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Vr({},EO);default:return i}}function F4(){}function Exe(i){let e;const t=new Set,n=(s,a)=>{const l=typeof s=="function"?s(e):s;if(l!==e){const c=e;e=a?l:Object.assign({},e,l),t.forEach(u=>u(e,c))}},r=()=>e,o={setState:n,getState:r,subscribe:(s,a,l)=>a||l?((c,u=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function p(){const g=u(e);if(!h(d,g)){const v=d;c(d=g,v)}}return t.add(p),()=>t.delete(p)})(s,a,l):(t.add(s),()=>t.delete(s)),destroy:()=>t.clear()};return e=i(n,r,o),o}const D4=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?ne.useEffect:ne.useLayoutEffect;/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var U4,P4,v9,L4,O4,Q4,N4,H4,z4,G4,b9,V4,q4,W4,y9,j4,w9,K4,$4,X4,x9,Y4,Z4,J4,eq,tq,C9,iq;function Wee(){if(L4)return v9;L4=1;var i=P4?U4:(P4=1,U4=function(t){return t!=null&&typeof t=="object"&&Array.isArray(t)===!1});function e(t){return i(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}return v9=function(t){var n,r;return e(t)!==!1&&typeof(n=t.constructor)=="function"&&e(r=n.prototype)!==!1&&r.hasOwnProperty("isPrototypeOf")!==!1},v9}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function TO(){if(Q4)return O4;Q4=1;var i=Wee();return O4=function(e){return i(e)||typeof e=="function"||Array.isArray(e)}}/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Txe(){return H4||(H4=1,N4=function(i,e,t){for(var n in i)if(e.call(t,i[n],n,i)===!1)break}),N4}function Ixe(){return W4||(W4=1,q4=function(i,e){if(i==null)throw new TypeError("expected first argument to be an object.");if(e===void 0||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return i;for(var t=Object.prototype.propertyIsEnumerable,n=Object(i),r=arguments.length,o=0;++o<r;)for(var s=Object(arguments[o]),a=Object.getOwnPropertySymbols(s),l=0;l<a.length;l++){var c=a[l];t.call(s,c)&&(n[c]=s[c])}return n}),q4}function Mxe(){if(K4)return w9;K4=1;var i=function(){if(j4)return y9;j4=1;var r=TO(),o=Ixe();function s(h,d){for(var p in d)u(d,p)&&(h[p]=d[p])}function a(h){return h&&typeof h=="string"}function l(h){var d={};for(var p in h)d[p]=h[p];return d}function c(h){return h&&typeof h=="object"||r(h)}function u(h,d){return Object.prototype.hasOwnProperty.call(h,d)}return y9=Object.assign||function(h){if(h==null)throw new TypeError("Cannot convert undefined or null to object");c(h)||(h={});for(var d=1;d<arguments.length;d++){var p=arguments[d];a(p)&&(p=l(p)),c(p)&&(s(h,p),o(h,p))}return h},y9}();function e(r,o,s,a){var l=r.indexOf(o,s);return r.charAt(l-1)==="\\"?e(r,o,l+1):l}function t(r,o){return o.keepDoubleQuotes===!0&&r==='"'||o.keepSingleQuotes===!0&&r==="'"||o.keepQuotes}function n(r,o,s){return typeof r.keepEscaping=="function"?r.keepEscaping(o,s):r.keepEscaping===!0||o[s+1]==="\\"}return w9=function(r,o,s){if(typeof r!="string")throw new TypeError("expected a string");typeof o=="function"&&(s=o,o=null),typeof o=="string"&&(o={sep:o});var a,l=i({sep:"."},o),c=l.quotes||['"',"'","`"];l.brackets===!0?a={"<":">","(":")","[":"]","{":"}"}:l.brackets&&(a=l.brackets);var u,h=[],d=[],p=[""],g=l.sep,v=r.length,_=-1;function b(){if(a&&d.length)return a[d[d.length-1]]}for(;++_<v;){var x=r[_],C=r[_+1],S={val:x,idx:_,arr:p,str:r};if(h.push(S),x!=="\\"){if(a&&a[x]){d.push(x);var E=b(),I=_+1;if(r.indexOf(E,I+1)!==-1)for(;d.length&&I<v;){var M=r[++I];if(M!=="\\")if(c.indexOf(M)===-1){if(E=b(),d.length&&r.indexOf(E,I+1)===-1)break;a[M]?d.push(M):E===M&&d.pop()}else I=e(r,M,I+1);else M++}if((u=I)===-1){p[p.length-1]+=x;continue}x=r.slice(_,u+1),S.val=x,S.idx=_=u}if(c.indexOf(x)!==-1){if((u=e(r,x,_+1))===-1){p[p.length-1]+=x;continue}x=t(x,l)===!0?r.slice(_,u+1):r.slice(_+1,u),S.val=x,S.idx=_=u}typeof s=="function"&&(s(S,h),x=S.val,_=S.idx),S.val!==g||S.split===!1?p[p.length-1]+=S.val:p.push("")}else S.val=n(l,r,_)===!0?x+C:C,S.escaped=!0,typeof s=="function"&&s(S),p[p.length-1]+=S.val,_++}return p},w9}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */function Rxe(){if(Y4)return x9;Y4=1;var i=X4?$4:(X4=1,$4=function(n){return n!=null&&(typeof n=="object"||typeof n=="function")});function e(n,r){for(var o in r)t(r,o)&&(n[o]=r[o])}function t(n,r){return Object.prototype.hasOwnProperty.call(n,r)}return x9=function(n){i(n)||(n={});for(var r=arguments.length,o=1;o<r;o++){var s=arguments[o];i(s)&&e(n,s)}return n},x9}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */function kxe(){if(tq)return eq;tq=1;var i=Mxe(),e=Rxe(),t=Wee(),n=J4?Z4:(J4=1,Z4=function(o){return o!=null&&(typeof o=="object"||typeof o=="function")});function r(o){return o!=="__proto__"&&o!=="constructor"&&o!=="prototype"}return eq=function(o,s,a){if(!n(o)||(Array.isArray(s)&&(s=[].concat.apply([],s).join(".")),typeof s!="string"))return o;for(var l=i(s,{sep:".",brackets:!0}).filter(r),c=l.length,u=-1,h=o;++u<c;){var d=l[u];u===c-1?t(h[d])&&t(a)?h[d]=e({},h[d],a):h[d]=a:(n(h[d])||(h[d]={}),h=h[d])}return o}}var Fxe=function(){if(iq)return C9;iq=1;var i=TO(),e=function(){if(G4)return z4;G4=1;var r=TO(),o=Txe();function s(c,u){for(var h=arguments.length,d=0;++d<h;){var p=arguments[d];l(p)&&o(p,a,c)}return c}function a(c,u){if(function(d){return d!=="__proto__"&&d!=="constructor"&&d!=="prototype"}(u)){var h=this[u];l(c)&&l(h)?s(h,c):this[u]=c}}function l(c){return r(c)&&!Array.isArray(c)}return z4=s}(),t=function(){if(V4)return b9;function r(o){return o?Array.isArray(o)?o.join("."):o:""}return V4=1,b9=function(o,s,a,l,c){if((u=o)===null||typeof u!="object"&&typeof u!="function"||!s)return o;var u;if(s=r(s),a&&(s+="."+r(a)),l&&(s+="."+r(l)),c&&(s+="."+r(c)),s in o)return o[s];for(var h=s.split("."),d=h.length,p=-1;o&&++p<d;){for(var g=h[p];g[g.length-1]==="\\";)g=g.slice(0,-1)+"."+h[++p];o=o[g]}return o},b9}(),n=kxe();return C9=function(r,o,s){if(!i(r))throw new TypeError("expected an object");if(typeof o!="string"||s==null)return e.apply(null,arguments);if(typeof s=="string")return n(r,o,s),r;var a=t(r,o);return i(s)&&i(a)&&(s=e({},a,s)),n(r,o,s),r},C9}(),Dxe=TS(Fxe);const ON=(...i)=>i.filter(Boolean).join(".");function jee(i,e){return ne.useMemo(i,function(t){const n=ne.useRef();return DB(t,n.current)||(n.current=t),n.current}(e))}function Uxe(i,e,t){return i.useStore(r=>function(o,s){return Object.entries((a=o,l=s,l.reduce((c,u)=>(a&&a.hasOwnProperty(u)&&(c[u]=a[u]),c),{}))).reduce((c,[,{value:u,disabled:h,key:d}])=>(c[d]=h?void 0:u,c),{});var a,l}(li(li({},t),r.data),e),Ck)}function Kee(i=3){const e=ne.useRef(null),t=ne.useRef(null),[n,r]=ne.useState(!1),o=ne.useCallback(()=>r(!0),[]),s=ne.useCallback(()=>r(!1),[]);return ne.useLayoutEffect(()=>{if(n){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=t.current.getBoundingClientRect(),h=a+u>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",h==="down"?t.current.style.top=a+i+"px":t.current.style.bottom=window.innerHeight-l+i+"px"}},[i,n]),{popinRef:e,wrapperRef:t,shown:n,show:o,hide:s}}(function(i){i.forEach(function(e){A4.indexOf(e)<0&&(e(vO,_O),A4.push(e))})})([function(i,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var r in t)n[t[r]]=r;var o={};i.prototype.toName=function(s){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=n[this.toHex()];if(c)return c;if(s!=null&&s.closest){var u=this.toRgb(),h=1/0,d="black";if(!o.length)for(var p in t)o[p]=new i(t[p]).toRgb();for(var g in t){var v=(a=u,l=o[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<h&&(h=v,d=g)}return d}},e.string.push([function(s){var a=s.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new i(l).toRgb():null},"name"])}]);const Pxe={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};ic.extend({color:()=>i=>_l(i).isValid()});function $ee(i,{format:e,hasAlpha:t,isString:n}){const r=i[Pxe[e]+(n&&e!=="hex"?"String":"")]();return typeof r!="object"||t?r:function(o,s){const a=li({},o);return s.forEach(l=>l in o&&delete a[l]),a}(r,["a"])}const nq=(i,e)=>{const t=_l(i);if(!t.isValid())throw Error("Invalid color");return $ee(t,e)};var Lxe=Object.freeze({__proto__:null,schema:i=>ic().color().test(i),sanitize:nq,format:(i,e)=>$ee(_l(i),li(li({},e),{},{isString:!0,format:"hex"})),normalize:({value:i})=>{const e=function(n){return kee(n)[1]}(i),t={format:e==="name"?"hex":e,hasAlpha:typeof i=="object"?"a"in i:e==="hex"&&i.length===8||/^(rgba)|(hsla)|(hsva)/.test(i),isString:typeof i=="string"};return{value:nq(i,t),settings:t}}});const Oxe=Jt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Qxe=Jt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Nxe=Jt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function rq(i,e){return e!=="rgb"?_l(i).toRgb():i}function Hxe({value:i,displayValue:e,settings:t,onUpdate:n}){const{emitOnEditStart:r,emitOnEditEnd:o}=Wa(),{format:s,hasAlpha:a}=t,{popinRef:l,wrapperRef:c,shown:u,show:h,hide:d}=Kee(),p=ne.useRef(0),[g,v]=ne.useState(()=>rq(i,s)),_=a?nxe:oxe,b=()=>{d(),o(),window.clearTimeout(p.current)};return ne.useEffect(()=>()=>window.clearTimeout(p.current),[]),_e.createElement(_e.Fragment,null,_e.createElement(Oxe,{ref:l,active:u,onClick:()=>(v(rq(i,s)),h(),void r()),style:{color:e}}),u&&_e.createElement(RN,null,_e.createElement(bee,{onPointerUp:b}),_e.createElement(Nxe,{ref:c,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:x=>x.buttons===0&&void(p.current=window.setTimeout(b,500))},_e.createElement(_,{color:g,onChange:n}))))}var zxe=li({component:function(){const{value:i,displayValue:e,label:t,onChange:n,onUpdate:r,settings:o}=Wa();return _e.createElement(Du,{input:!0},_e.createElement(Nh,null,t),_e.createElement(Qxe,null,_e.createElement(Hxe,{value:i,displayValue:e,onChange:n,onUpdate:r,settings:o}),_e.createElement(MN,{value:e,onChange:n,onUpdate:r})))}},Lxe),Gxe=li({component:function(){const{label:i,displayValue:e,onUpdate:t,settings:n}=Wa();return _e.createElement(Du,{input:!0},_e.createElement(Nh,null,i),_e.createElement(FN,{value:e,settings:n,onUpdate:t}))}},Tee(["x","y","z"]));const Vxe=Jt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),qxe=Jt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Wxe({value:i,settings:e,onUpdate:t}){const n=ne.useRef(),r=ne.useRef(0),o=ne.useRef(0),s=ne.useRef(1),[a,l]=ne.useState(!1),[c,u]=ne.useState(!1),[h,d]=wee(),p=ne.useRef(null),g=ne.useRef(null);ne.useLayoutEffect(()=>{if(a){const{top:N,left:W,width:q,height:J}=p.current.getBoundingClientRect();g.current.style.left=W+q/2+"px",g.current.style.top=N+J/2+"px"}},[a]);const{keys:[v,_],joystick:b}=e,x=b==="invertY"?1:-1,{[v]:{step:C},[_]:{step:S}}=e,E=Bp("sizes","joystickWidth"),I=Bp("sizes","joystickHeight"),M=.8*parseFloat(E)/2,k=.8*parseFloat(I)/2,F=ne.useCallback(()=>{n.current||(u(!0),r.current&&d({x:r.current*M}),o.current&&d({y:o.current*-k}),n.current=window.setInterval(()=>{t(N=>{const W=C*r.current*s.current,q=x*S*o.current*s.current;return Array.isArray(N)?{[v]:N[0]+W,[_]:N[1]+q}:{[v]:N[v]+W,[_]:N[_]+q}})},16))},[M,k,t,d,C,S,v,_,x]),P=ne.useCallback(()=>{window.clearTimeout(n.current),n.current=void 0,u(!1)},[]);ne.useEffect(()=>{function N(W){s.current=aee(W)}return window.addEventListener("keydown",N),window.addEventListener("keyup",N),()=>{window.clearTimeout(n.current),window.removeEventListener("keydown",N),window.removeEventListener("keyup",N)}},[]);const Q=SS(({first:N,active:W,delta:[q,J],movement:[V,Y]})=>{N&&l(!0);const Z=Tg(V,-M,M),ue=Tg(Y,-k,k);r.current=Math.abs(V)>Math.abs(Z)?Math.sign(V-Z):0,o.current=Math.abs(Y)>Math.abs(ue)?Math.sign(ue-Y):0;let $=i[v],ee=i[_];W?(r.current||($+=q*C*s.current,d({x:Z})),o.current||(ee-=x*J*S*s.current,d({y:ue})),r.current||o.current?F():P(),t({[v]:$,[_]:ee})):(l(!1),r.current=0,o.current=0,d({x:0,y:0}),P())});return _e.createElement(Vxe,oo({ref:p},Q()),a&&_e.createElement(RN,null,_e.createElement(qxe,{ref:g,isOutOfBounds:c},_e.createElement("div",null),_e.createElement("span",{ref:h}))))}const jxe=Jt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}}),Kxe=["joystick"],oq=Tee(["x","y"]);var $xe=li(li({component:function(){const{label:i,displayValue:e,onUpdate:t,settings:n}=Wa();return _e.createElement(Du,{input:!0},_e.createElement(Nh,null,i),_e.createElement(jxe,{withJoystick:!!n.joystick},n.joystick&&_e.createElement(Wxe,{value:e,settings:n,onUpdate:t}),_e.createElement(FN,{value:e,settings:n,onUpdate:t})))}},oq),{},{normalize:i=>{let{joystick:e=!0}=i,t=Yn(i,Kxe);const{value:n,settings:r}=oq.normalize(t);return{value:n,settings:li(li({},r),{},{joystick:e})}}}),Xxe=Object.freeze({__proto__:null,sanitize:i=>{if(i!==void 0){if(i instanceof File)try{return URL.createObjectURL(i)}catch{return}if(typeof i=="string"&&i.indexOf("blob:")===0)return i;throw Error("Invalid image format [undefined | blob | File].")}},schema:(i,e)=>typeof e=="object"&&"image"in e,normalize:({image:i})=>({value:i})});const Yxe=Jt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Zxe=Jt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Jxe=Jt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),eCe=Jt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),tCe=Jt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),iCe=Jt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});var nCe=li({component:function(){const{label:i,value:e,onUpdate:t,disabled:n}=Wa(),{popinRef:r,wrapperRef:o,shown:s,show:a,hide:l}=Kee(),c=ne.useCallback(g=>{g.length&&t(g[0])},[t]),u=ne.useCallback(g=>{g.stopPropagation(),t(void 0)},[t]),{getRootProps:h,getInputProps:d,isDragAccept:p}=qee({maxFiles:1,accept:"image/*",onDrop:c,disabled:n});return _e.createElement(Du,{input:!0},_e.createElement(Nh,null,i),_e.createElement(Yxe,null,_e.createElement(Jxe,{ref:r,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),s&&!!e&&_e.createElement(RN,null,_e.createElement(bee,{onPointerUp:l,style:{cursor:"pointer"}}),_e.createElement(eCe,{ref:o,style:{backgroundImage:`url(${e})`}})),_e.createElement(Zxe,h({isDragAccept:p}),_e.createElement("input",d()),_e.createElement(tCe,null,p?"drop image":"click or drop")),_e.createElement(iCe,{onClick:u,disabled:!e})))}},Xxe);const sq=ic().number(),oM=i=>({min:i[0],max:i[1]}),aq=(i,{bounds:[e,t]},n)=>{const r=Array.isArray(i)?oM(i):i,o={min:n[0],max:n[1]},{min:s,max:a}=li(li({},o),r);return[Tg(Number(s),e,Math.max(e,a)),Tg(Number(a),Math.min(t,s),t)]};var rCe=Object.freeze({__proto__:null,schema:(i,e)=>ic().array().length(2).every.number().test(i)&&ic().schema({min:sq,max:sq}).test(e),format:oM,sanitize:aq,normalize:({value:i,min:e,max:t})=>{const n={min:e,max:t},r=[e,t],o=li(li({},Eee(oM(i),{min:n,max:n})),{},{bounds:r});return{value:aq(oM(i),o,i),settings:o}}});const oCe=["value","bounds","onDrag"],sCe=["bounds"],aCe=Jt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function lCe(i){let{value:e,bounds:[t,n],onDrag:r}=i,o=Yn(i,oCe);const s=ne.useRef(null),a=ne.useRef(null),l=ne.useRef(null),c=ne.useRef(0),u=Bp("sizes","scrubberWidth"),h=SS(({event:g,first:v,xy:[_],movement:[b],memo:x={}})=>{if(v){const{width:S,left:E}=s.current.getBoundingClientRect();c.current=S-parseFloat(u);const I=(g==null?void 0:g.target)===a.current||(g==null?void 0:g.target)===l.current;x.pos=P5((_-E)/S,t,n);const M=Math.abs(x.pos-e.min)-Math.abs(x.pos-e.max);x.key=M<0||M===0&&x.pos<=e.min?"min":"max",I&&(x.pos=e[x.key])}const C=x.pos+P5(b/c.current,0,n-t);return r({[x.key]:xwe(C,o[x.key])}),x}),d=`calc(${U5(e.min,t,n)} * (100% - ${u} - 8px) + 4px)`,p=`calc(${1-U5(e.max,t,n)} * (100% - ${u} - 8px) + 4px)`;return _e.createElement(Cee,oo({ref:s},h()),_e.createElement(xee,null,_e.createElement(Bee,{style:{left:d,right:p}})),_e.createElement(gO,{position:"left",ref:a,style:{left:d}}),_e.createElement(gO,{position:"right",ref:l,style:{right:p}}))}var cCe=li({component:function(){const{label:i,displayValue:e,onUpdate:t,settings:n}=Wa(),r=Yn(n,sCe);return _e.createElement(_e.Fragment,null,_e.createElement(Du,{input:!0},_e.createElement(Nh,null,i),_e.createElement(aCe,null,_e.createElement(lCe,oo({value:e},n,{onDrag:t})),_e.createElement(FN,{value:e,settings:r,onUpdate:t,innerLabelTrim:0}))))}},rCe);const uCe=["type","value"],hCe=["onChange","transient","onEditStart","onEditEnd"],Xee=new function(){const i=function(o){const s=typeof o=="function"?Exe(o):o,a=(l=s.getState,c=Object.is)=>{const[,u]=ne.useReducer(E=>E+1,0),h=s.getState(),d=ne.useRef(h),p=ne.useRef(l),g=ne.useRef(c),v=ne.useRef(!1),_=ne.useRef();let b;_.current===void 0&&(_.current=l(h));let x=!1;(d.current!==h||p.current!==l||g.current!==c||v.current)&&(b=l(h),x=!c(_.current,b)),D4(()=>{x&&(_.current=b),d.current=h,p.current=l,g.current=c,v.current=!1});const C=ne.useRef(h);D4(()=>{const E=()=>{try{const M=s.getState(),k=p.current(M);g.current(_.current,k)||(d.current=M,_.current=k,u())}catch{v.current=!0,u()}},I=s.subscribe(E);return s.getState()!==C.current&&E(),I},[]);const S=x?b:_.current;return ne.useDebugValue(S),S};return Object.assign(a,s),a[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const l=[a,s];return{next(){const c=l.length<=0;return{value:l.shift(),done:c}}}},a}((o=>(s,a,l)=>{const c=l.subscribe;return l.subscribe=(u,h,d)=>{let p=u;if(h){const g=(d==null?void 0:d.equalityFn)||Object.is;let v=u(l.getState());p=_=>{const b=u(_);if(!g(v,b)){const x=v;h(v=b,x)}},d!=null&&d.fireImmediately&&h(v,v)}return c(p)},o(s,a,l)})(()=>({data:{}}))),e=(()=>{const o=new Map;return{on:(s,a)=>{let l=o.get(s);l===void 0&&(l=new Set,o.set(s,l)),l.add(a)},off:(s,a)=>{const l=o.get(s);l!==void 0&&(l.delete(a),l.size===0&&o.delete(s))},emit:(s,...a)=>{const l=o.get(s);if(l!==void 0)for(const c of l)c(...a)}}})();this.storeId="_"+Math.random().toString(36).substr(2,9),this.useStore=i;const t={},n=new Set;this.getVisiblePaths=()=>{const o=this.getData(),s=Object.keys(o),a=[];Object.entries(t).forEach(([c,u])=>{u.render&&s.some(h=>h.indexOf(c)===0)&&!u.render(this.get)&&a.push(c+".")});const l=[];return n.forEach(c=>{c in o&&o[c].__refCount>0&&a.every(u=>c.indexOf(u)===-1)&&(!o[c].render||o[c].render(this.get))&&l.push(c)}),l},this.setOrderedPaths=o=>{o.forEach(s=>n.add(s))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{i.setState(s=>{const a=s.data;return o.forEach(l=>{if(l in a){const c=a[l];c.__refCount--,c.__refCount===0&&c.type in Qh&&delete a[l]}}),{data:a}})},this.dispose=()=>{i.setState(()=>({data:{}}))},this.getFolderSettings=o=>t[o]||{},this.getData=()=>i.getState().data,this.addData=(o,s)=>{i.setState(a=>{const l=a.data;return Object.entries(o).forEach(([c,u])=>{let h=l[c];if(h){const{type:d,value:p}=u,g=Yn(u,uCe);d!==h.type?pp(qr.INPUT_TYPE_OVERRIDE,d):((h.__refCount===0||s)&&Object.assign(h,g),h.__refCount++)}else l[c]=li(li({},u),{},{__refCount:1})}),{data:l}})},this.setValueAtPath=(o,s,a)=>{i.setState(l=>{const c=l.data;return o4(c[o],s,o,this,a),{data:c}})},this.setSettingsAtPath=(o,s)=>{i.setState(a=>{const l=a.data;return l[o].settings=li(li({},l[o].settings),s),{data:l}})},this.disableInputAtPath=(o,s)=>{i.setState(a=>{const l=a.data;return l[o].disabled=s,{data:l}})},this.set=(o,s)=>{i.setState(a=>{const l=a.data;return Object.entries(o).forEach(([c,u])=>{try{o4(l[c],u,void 0,void 0,s)}catch{}}),{data:l}})},this.getInput=o=>{try{return this.getData()[o]}catch{pp(qr.PATH_DOESNT_EXIST,o)}},this.get=o=>{var s;return(s=this.getInput(o))===null||s===void 0?void 0:s.value},this.emitOnEditStart=o=>{e.emit(`onEditStart:${o}`,this.get(o),o,li(li({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{e.emit(`onEditEnd:${o}`,this.get(o),o,li(li({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,s)=>{const a=`onEditStart:${o}`;return e.on(a,s),()=>e.off(a,s)},this.subscribeToEditEnd=(o,s)=>{const a=`onEditEnd:${o}`;return e.on(a,s),()=>e.off(a,s)};const r=(o,s,a)=>{const l={};return Object.entries(o).forEach(([c,u])=>{if(c==="")return pp(qr.EMPTY_KEY);let h=ON(s,c);if(u.type===Qh.FOLDER){const d=r(u.schema,h,a);Object.assign(l,d),h in t||(t[h]=u.settings)}else if(c in a)pp(qr.DUPLICATE_KEYS,c,h,a[c].path);else{const d=function(p,g,v,_){const b=ree(p,g),{type:x,input:C,options:S}=b;if(x)return x in Qh?b:{type:x,input:c9(x,C,v,_),options:S};let E=KV(C);return E?{type:E,input:c9(E,C,v,_),options:S}:(E=KV({value:C}),!!E&&{type:E,input:c9(E,{value:C},v,_),options:S})}(u,c,h,l);if(d){const{type:p,options:g,input:v}=d,{onChange:_,transient:b,onEditStart:x,onEditEnd:C}=g,S=Yn(g,hCe);l[h]=li(li(li({type:p},S),v),{},{fromPanel:!0}),a[c]={path:h,onChange:_,transient:b,onEditStart:x,onEditEnd:C}}else pp(qr.UNKNOWN_INPUT,h,u)}}),l};this.getDataFromSchema=o=>{const s={};return[r(o,"",s),s]}},ACe={collapsed:!1};function QN(i,e){return{type:Qh.FOLDER,schema:i,settings:li(li({},ACe),e)}}const lq=i=>"__levaInput"in i,dCe=["type","label","path","valueKey","value","settings","setValue","disabled"];function pCe(i){let{type:e,label:t,path:n,valueKey:r,value:o,settings:s,setValue:a,disabled:l}=i,c=Yn(i,dCe);const{displayValue:u,onChange:h,onUpdate:d}=yee({type:e,value:o,settings:s,setValue:a}),p=vv[e].component;return p?_e.createElement(Aee.Provider,{value:li({key:r,path:n,id:""+n,label:t,displayValue:u,value:o,onChange:h,onUpdate:d,settings:s,setValue:a,disabled:l},c)},_e.createElement(uwe,{disabled:l},_e.createElement(p,null))):(pp(qr.NO_COMPONENT_FOR_TYPE,e,n),null)}const fCe=Jt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}}),gCe=Jt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),mCe=Jt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),_Ce=Jt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),vCe=ne.forwardRef(function({initialValue:i},e){const t=Bp("colors","highlight3"),n=Bp("colors","elevation2"),r=Bp("colors","highlight1"),[o,s]=ne.useMemo(()=>[_l(r).alpha(.4).toRgbString(),_l(r).alpha(.1).toRgbString()],[r]),a=ne.useRef([i]),l=ne.useRef(i),c=ne.useRef(i),u=ne.useRef(),h=ne.useCallback((g,v)=>{if(!g)return;const{width:_,height:b}=g,x=new Path2D,C=_/100,S=.05*b;for(let M=0;M<a.current.length;M++){const k=C*M,F=b-U5(a.current[M],l.current,c.current)*(b-2*S)-S;x.lineTo(k,F)}v.clearRect(0,0,_,b);const E=new Path2D(x);E.lineTo(C*(a.current.length+1),b),E.lineTo(0,b),E.lineTo(0,0);const I=v.createLinearGradient(0,0,0,b);I.addColorStop(0,o),I.addColorStop(1,s),v.fillStyle=I,v.fill(E),v.strokeStyle=n,v.lineJoin="round",v.lineWidth=14,v.stroke(x),v.strokeStyle=t,v.lineWidth=2,v.stroke(x)},[t,n,o,s]),[d,p]=function(g){const v=ne.useRef(null),_=ne.useRef(null),b=ne.useRef(!1);return ne.useEffect(()=>{const x=see(()=>{v.current.width=v.current.offsetWidth*window.devicePixelRatio,v.current.height=v.current.offsetHeight*window.devicePixelRatio,g(v.current,_.current)},250);return window.addEventListener("resize",x),b.current||(x(),b.current=!0),()=>window.removeEventListener("resize",x)},[g]),ne.useEffect(()=>{_.current=v.current.getContext("2d")},[]),[v,_]}(h);return ne.useImperativeHandle(e,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(c.current===void 0||g>c.current)&&(c.current=g),function(v,_){v.push(_),v.length>100&&v.shift()}(a.current,g),u.current=requestAnimationFrame(()=>h(d.current,p.current))}}),[d,p,h]),ne.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),_e.createElement(_Ce,{ref:d})}),cq=i=>Number.isFinite(i)?i.toPrecision(2):i.toString(),bCe=ne.forwardRef(function({initialValue:i},e){const[t,n]=ne.useState(cq(i));return ne.useImperativeHandle(e,()=>({frame:r=>n(cq(r))}),[]),_e.createElement("div",null,t)});function uq(i){return typeof i=="function"?i():i.current}const yCe=["type","label","key"],wCe={[Qh.BUTTON]:function({onClick:i,settings:e,label:t}){const n=QB();return _e.createElement(Du,null,_e.createElement(fCe,{disabled:e.disabled,onClick:()=>i(n.get)},t))},[Qh.BUTTON_GROUP]:function(i){const{label:e,opts:t}=(({label:r,opts:o})=>{let s=typeof r=="string"&&r.trim()===""?null:r,a=o;return typeof o.opts=="object"&&(a.label!==void 0&&(s=o.label),a=o.opts),{label:s,opts:a}})(i),n=QB();return _e.createElement(Du,{input:!!e},e&&_e.createElement(Nh,null,e),_e.createElement(gCe,null,Object.entries(t).map(([r,o])=>_e.createElement(mCe,{key:r,onClick:()=>o(n.get)},r))))},[Qh.MONITOR]:function({label:i,objectOrFn:e,settings:t}){const n=ne.useRef(),r=ne.useRef(uq(e));return ne.useEffect(()=>{const o=window.setInterval(()=>{var s;document.hidden||(s=n.current)===null||s===void 0||s.frame(uq(e))},t.interval);return()=>window.clearInterval(o)},[e,t.interval]),_e.createElement(Du,{input:!0},_e.createElement(Nh,{align:"top"},i),t.graph?_e.createElement(vCe,{ref:n,initialValue:r.current}):_e.createElement(bCe,{ref:n,initialValue:r.current}))}},xCe=_e.memo(({path:i})=>{const[e,{set:t,setSettings:n,disable:r,storeId:o,emitOnEditStart:s,emitOnEditEnd:a}]=function(d){const p=QB(),[g,v]=ne.useState(u9(p.getData(),d)),_=ne.useCallback(E=>p.setValueAtPath(d,E,!0),[d,p]),b=ne.useCallback(E=>p.setSettingsAtPath(d,E),[d,p]),x=ne.useCallback(E=>p.disableInputAtPath(d,E),[d,p]),C=ne.useCallback(()=>p.emitOnEditStart(d),[d,p]),S=ne.useCallback(()=>p.emitOnEditEnd(d),[d,p]);return ne.useEffect(()=>{v(u9(p.getData(),d));const E=p.useStore.subscribe(I=>u9(I.data,d),v,{equalityFn:Ck});return()=>E()},[p,d]),[g,{set:_,setSettings:b,disable:x,storeId:p.storeId,emitOnEditStart:C,emitOnEditEnd:S}]}(i);if(!e)return null;const{type:l,label:c,key:u}=e,h=Yn(e,yCe);if(l in Qh){const d=wCe[l];return _e.createElement(d,oo({label:c,path:i},h))}return l in vv?_e.createElement(pCe,oo({key:o+i,type:l,label:c,storeId:o,path:i,valueKey:u,setValue:t,setSettings:n,disable:r,emitOnEditStart:s,emitOnEditEnd:a},h)):(Nye(qr.UNSUPPORTED_INPUT,l,i),null)});function CCe({toggle:i,toggled:e,name:t}){return _e.createElement(awe,{onClick:()=>i()},_e.createElement(kN,{toggled:e}),_e.createElement("div",null,t))}const BCe=({name:i,path:e,tree:t})=>{const n=QB(),r=ON(e,i),{collapsed:o,color:s}=n.getFolderSettings(r),[a,l]=ne.useState(!o),c=ne.useRef(null),u=Bp("colors","folderWidgetColor"),h=Bp("colors","folderTextColor");return ne.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",s||u),c.current.style.setProperty("--leva-colors-folderTextColor",s||h)},[s,u,h]),_e.createElement(L5,{ref:c},_e.createElement(CCe,{name:i,toggled:a,toggle:()=>l(d=>!d)}),_e.createElement(Yee,{parent:r,tree:t,toggled:a}))},Yee=_e.memo(({isRoot:i=!1,fill:e=!1,flat:t=!1,parent:n,tree:r,toggled:o})=>{const{wrapperRef:s,contentRef:a}=function(h){const d=ne.useRef(null),p=ne.useRef(null),g=ne.useRef(!0);return ne.useLayoutEffect(()=>{h||(d.current.style.height="0px",d.current.style.overflow="hidden")},[]),ne.useEffect(()=>{if(g.current)return void(g.current=!1);let v;const _=d.current,b=()=>{h&&(_.style.removeProperty("height"),_.style.removeProperty("overflow"),p.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};_.addEventListener("transitionend",b,{once:!0});const{height:x}=p.current.getBoundingClientRect();return _.style.height=x+"px",h||(_.style.overflow="hidden",v=window.setTimeout(()=>_.style.height="0px",50)),()=>{_.removeEventListener("transitionend",b),clearTimeout(v)}},[h]),{wrapperRef:d,contentRef:p}}(o),l=QB(),c=([h,d])=>{var p;return(lq(d)?(p=l.getInput(d.path))===null||p===void 0?void 0:p.order:l.getFolderSettings(ON(n,h)).order)||0},u=Object.entries(r).sort((h,d)=>c(h)-c(d));return _e.createElement(pO,{ref:s,isRoot:i,fill:e,flat:t},_e.createElement(mee,{ref:a,isRoot:i,toggled:o},u.map(([h,d])=>lq(d)?_e.createElement(xCe,{key:d.path,valueKey:d.valueKey,path:d.path}):_e.createElement(BCe,{key:h,name:h,path:n,tree:d}))))}),SCe=Jt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${vee}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),N5=Jt("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),ECe=Jt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),TCe=Jt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${N5}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),ICe=Jt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),MCe=Jt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),RCe=_e.forwardRef(({setFilter:i,toggle:e},t)=>{const[n,r]=ne.useState(""),o=ne.useMemo(()=>see(i,250),[i]);return ne.useEffect(()=>{o(n)},[n,o]),_e.createElement(_e.Fragment,null,_e.createElement(ICe,{ref:t,value:n,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:s=>s.stopPropagation(),onChange:s=>{const a=s.currentTarget.value;e(!0),r(a)}}),_e.createElement(N5,{onClick:()=>(i(""),void r("")),style:{visibility:n?"visible":"hidden"}},_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},_e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function kCe({setFilter:i,onDrag:e,onDragStart:t,onDragEnd:n,toggle:r,toggled:o,title:s,drag:a,filterEnabled:l,from:c}){const[u,h]=ne.useState(!1),d=ne.useRef(null);ne.useEffect(()=>{var g,v;u?(g=d.current)===null||g===void 0||g.focus():(v=d.current)===null||v===void 0||v.blur()},[u]);const p=SS(({offset:[g,v],first:_,last:b})=>{e({x:g,y:v}),_&&t({x:g,y:v}),b&&n({x:g,y:v})},{filterTaps:!0,from:({offset:[g,v]})=>[(c==null?void 0:c.x)||g,(c==null?void 0:c.y)||v]});return ne.useEffect(()=>{const g=v=>{v.key==="L"&&v.shiftKey&&v.metaKey&&h(_=>!_)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),_e.createElement(_e.Fragment,null,_e.createElement(ECe,{mode:a?"drag":void 0},_e.createElement(N5,{active:!o,onClick:()=>r()},_e.createElement(kN,{toggled:o,width:12,height:8})),_e.createElement(MCe,oo({},a?p():{},{drag:a,filterEnabled:l}),s===void 0&&a?_e.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},_e.createElement("circle",{cx:"2",cy:"2",r:"2"}),_e.createElement("circle",{cx:"14",cy:"2",r:"2"}),_e.createElement("circle",{cx:"26",cy:"2",r:"2"}),_e.createElement("circle",{cx:"2",cy:"12",r:"2"}),_e.createElement("circle",{cx:"14",cy:"12",r:"2"}),_e.createElement("circle",{cx:"26",cy:"12",r:"2"})):s),l&&_e.createElement(N5,{active:u,onClick:()=>h(g=>!g)},_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},_e.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),_e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),_e.createElement(TCe,{toggled:u},_e.createElement(RCe,{ref:d,setFilter:i,toggle:r})))}const FCe=["store","hidden","theme","collapsed"];function DCe(i){let{store:e,hidden:t=!1,theme:n,collapsed:r=!1}=i,o=Yn(i,FCe);const s=jee(()=>function(h){const d={colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}};if(!h)return{theme:d,className:""};Object.keys(h).forEach(g=>{Object.assign(d[g],h[g])});const p=Jye(d);return{theme:d,className:p.className}}(n),[n]),[a,l]=ne.useState(!r),c=typeof r=="object"?!r.collapsed:a,u=ne.useMemo(()=>typeof r=="object"?h=>{typeof h=="function"?r.onChange(!h(!r.collapsed)):r.onChange(!h)}:l,[r]);return!e||t?null:_e.createElement(IN.Provider,{value:s},_e.createElement(UCe,oo({store:e},o,{toggled:c,setToggle:u,rootClass:s.className})))}const UCe=_e.memo(({store:i,rootClass:e,fill:t=!1,flat:n=!1,neverHide:r=!1,oneLineLabels:o=!1,titleBar:s={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var u,h;const d=(P=>{const[Q,N]=ne.useState(P.getVisiblePaths());return ne.useEffect(()=>{N(P.getVisiblePaths());const W=P.useStore.subscribe(P.getVisiblePaths,N,{equalityFn:Ck});return()=>W()},[P]),Q})(i),[p,g]=ne.useState(""),v=ne.useMemo(()=>((P,Q)=>{const N={},W=Q?Q.toLowerCase():null;return P.forEach(q=>{const[J,V]=function(Y){const Z=Y.split(".");return[Z.pop(),Z.join(".")||void 0]}(q);(!W||J.toLowerCase().indexOf(W)>-1)&&Dxe(N,V,{[J]:{__levaInput:!0,path:q}})}),N})(d,p),[d,p]),[_,b]=wee(),x=r||d.length>0,C=typeof s=="object"&&s.title||void 0,S=typeof s!="object"||(u=s.drag)===null||u===void 0||u,E=typeof s!="object"||(h=s.filter)===null||h===void 0||h,I=typeof s=="object"&&s.position||void 0,M=typeof s=="object"&&s.onDrag||void 0,k=typeof s=="object"&&s.onDragStart||void 0,F=typeof s=="object"&&s.onDragEnd||void 0;return _e.useEffect(()=>{b({x:I==null?void 0:I.x,y:I==null?void 0:I.y})},[I,b]),twe(),_e.createElement(pee.Provider,{value:{hideCopyButton:a}},_e.createElement(SCe,{ref:_,className:e,fill:t,flat:n,oneLineLabels:o,hideTitleBar:!s,style:{display:x?"block":"none"}},s&&_e.createElement(kCe,{onDrag:P=>{b(P),M==null||M(P)},onDragStart:P=>k==null?void 0:k(P),onDragEnd:P=>F==null?void 0:F(P),setFilter:g,toggle:P=>c(Q=>P??!Q),toggled:l,title:C,drag:S,filterEnabled:E,from:I}),x&&_e.createElement(dee.Provider,{value:i},_e.createElement(Yee,{isRoot:!0,fill:t,flat:n,tree:v,toggled:l}))))}),PCe=["isRoot"];let H5=!1,O_=null;function LCe(i){let{isRoot:e=!1}=i,t=Yn(i,PCe);return ne.useEffect(()=>(H5=!0,!e&&O_&&(O_.remove(),O_=null),()=>{e||(H5=!1)}),[e]),_e.createElement(DCe,oo({store:Xee},t))}function Zee(i,e,t,n,r){const{folderName:o,schema:s,folderSettings:a,hookSettings:l,deps:c}=function(P,Q,N,W,q){let J,V,Y,Z,ue;return V=P,J=Q,Array.isArray(N)?ue=N:N&&("store"in N?(Z=N,ue=W):(Y=N,Array.isArray(W)?ue=W:(Z=W,ue=q))),{schema:J,folderName:V,folderSettings:Y,hookSettings:Z,deps:ue||[]}}(i,e,t,n,r),u=typeof s=="function",h=ne.useRef(!1),d=ne.useRef(!0),p=jee(()=>{h.current=!0;const P=typeof s=="function"?s():s;return o?{[o]:QN(P,a)}:P},c);(function(P){ne.useEffect(()=>{P&&!H5&&(O_||(O_=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(O_),_Q.createRoot(O_).render(_e.createElement(LCe,{isRoot:!0})))),H5=!0)},[P])})(!(l!=null&&l.store));const[g]=ne.useState(()=>(l==null?void 0:l.store)||Xee),[v,_]=ne.useMemo(()=>g.getDataFromSchema(p),[g,p]),[b,x,C,S,E]=ne.useMemo(()=>{const P=[],Q=[],N={},W={},q={};return Object.values(_).forEach(({path:J,onChange:V,onEditStart:Y,onEditEnd:Z,transient:ue})=>{P.push(J),V?(N[J]=V,ue||Q.push(J)):Q.push(J),Y&&(W[J]=Y),Z&&(q[J]=Z)}),[P,Q,N,W,q]},[_]),I=ne.useMemo(()=>g.orderPaths(b),[b,g]),M=Uxe(g,x,v),k=ne.useCallback(P=>{const Q=Object.entries(P).reduce((N,[W,q])=>Object.assign(N,{[_[W].path]:q}),{});g.set(Q,!1)},[g,_]),F=ne.useCallback(P=>g.get(_[P].path),[g,_]);return ne.useEffect(()=>{const P=!d.current&&h.current;return g.addData(v,P),d.current=!1,h.current=!1,()=>g.disposePaths(I)},[g,I,v]),ne.useEffect(()=>{const P=[];return Object.entries(C).forEach(([Q,N])=>{N(g.get(Q),Q,li({initial:!0,get:g.get},g.getInput(Q)));const W=g.useStore.subscribe(q=>{const J=q.data[Q];return[J.disabled?void 0:J.value,J]},([q,J])=>N(q,Q,li({initial:!1,get:g.get},J)),{equalityFn:Ck});P.push(W)}),()=>P.forEach(Q=>Q())},[g,C]),ne.useEffect(()=>{const P=[];return Object.entries(S).forEach(([Q,N])=>P.push(g.subscribeToEditStart(Q,N))),Object.entries(E).forEach(([Q,N])=>P.push(g.subscribeToEditEnd(Q,N))),()=>P.forEach(Q=>Q())},[S,E,g]),u?[M,k,F]:M}Gd(Eh.SELECT,Iwe),Gd(Eh.IMAGE,nCe),Gd(Eh.NUMBER,Cwe),Gd(Eh.COLOR,zxe),Gd(Eh.STRING,Dwe),Gd(Eh.BOOLEAN,Owe),Gd(Eh.INTERVAL,cCe),Gd(Eh.VECTOR3D,Gxe),Gd(Eh.VECTOR2D,$xe);var hq,hb,T1,OCe=eJ({tagName:"model-viewer",elementClass:mN,react:_e}),QCe=function(i){var e=Zee("Environment",{background:"#fff",Light:QN({intensity:{min:0,max:5,step:.1,value:1}})},{collapsed:!0}),t=e.intensity,n=e.background;return _e.createElement(I0e,{style:{backgroundColor:n}},_e.createElement(OCe,{src:i.src,"camera-controls":!0,"disable-tap":!0,"camera-orbit":"0deg 90deg auto","max-camera-orbit":"Infinity 157.5deg auto","min-camera-orbit":"-Infinity 22.5deg auto","camera-target":"0m 0m 0m","shadow-intensity":"0",exposure:t,alt:"3D image","interaction-prompt":"none"}))};const sM=globalThis,NN=sM.ShadowRoot&&(sM.ShadyCSS===void 0||sM.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,HN=Symbol(),Aq=new WeakMap;let Jee=class{constructor(i,e,t){if(this._$cssResult$=!0,t!==HN)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=i,this.t=e}get styleSheet(){let i=this.o;const e=this.t;if(NN&&i===void 0){const t=e!==void 0&&e.length===1;t&&(i=Aq.get(e)),i===void 0&&((this.o=i=new CSSStyleSheet).replaceSync(this.cssText),t&&Aq.set(e,i))}return i}toString(){return this.cssText}};const qA=(i,...e)=>{const t=i.length===1?i[0]:e.reduce((n,r,o)=>n+(s=>{if(s._$cssResult$===!0)return s.cssText;if(typeof s=="number")return s;throw Error("Value passed to 'css' function must be a 'css' function result: "+s+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+i[o+1],i[0]);return new Jee(t,i,HN)},dq=NN?i=>i:i=>i instanceof CSSStyleSheet?(e=>{let t="";for(const r of e.cssRules)t+=r.cssText;return new Jee(typeof(n=t)=="string"?n:n+"",void 0,HN);var n})(i):i,{is:NCe,defineProperty:HCe,getOwnPropertyDescriptor:zCe,getOwnPropertyNames:GCe,getOwnPropertySymbols:VCe,getPrototypeOf:qCe}=Object,Xy=globalThis,pq=Xy.trustedTypes,WCe=pq?pq.emptyScript:"",fq=Xy.reactiveElementPolyfillSupport,q2=(i,e)=>i,z5={toAttribute(i,e){switch(e){case Boolean:i=i?WCe:null;break;case Object:case Array:i=i==null?i:JSON.stringify(i)}return i},fromAttribute(i,e){let t=i;switch(e){case Boolean:t=i!==null;break;case Number:t=i===null?null:Number(i);break;case Object:case Array:try{t=JSON.parse(i)}catch{t=null}}return t}},zN=(i,e)=>!NCe(i,e),gq={attribute:!0,type:String,converter:z5,reflect:!1,useDefault:!1,hasChanged:zN};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Xy.litPropertyMetadata??(Xy.litPropertyMetadata=new WeakMap);let ty=class extends HTMLElement{static addInitializer(i){this._$Ei(),(this.l??(this.l=[])).push(i)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(i,e=gq){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(i)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(i,e),!e.noAccessor){const t=Symbol(),n=this.getPropertyDescriptor(i,t,e);n!==void 0&&HCe(this.prototype,i,n)}}static getPropertyDescriptor(i,e,t){const{get:n,set:r}=zCe(this.prototype,i)??{get(){return this[e]},set(o){this[e]=o}};return{get:n,set(o){const s=n==null?void 0:n.call(this);r==null||r.call(this,o),this.requestUpdate(i,s,t)},configurable:!0,enumerable:!0}}static getPropertyOptions(i){return this.elementProperties.get(i)??gq}static _$Ei(){if(this.hasOwnProperty(q2("elementProperties")))return;const i=qCe(this);i.finalize(),i.l!==void 0&&(this.l=[...i.l]),this.elementProperties=new Map(i.elementProperties)}static finalize(){if(this.hasOwnProperty(q2("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(q2("properties"))){const e=this.properties,t=[...GCe(e),...VCe(e)];for(const n of t)this.createProperty(n,e[n])}const i=this[Symbol.metadata];if(i!==null){const e=litPropertyMetadata.get(i);if(e!==void 0)for(const[t,n]of e)this.elementProperties.set(t,n)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const n=this._$Eu(e,t);n!==void 0&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(i){const e=[];if(Array.isArray(i)){const t=new Set(i.flat(1/0).reverse());for(const n of t)e.unshift(dq(n))}else i!==void 0&&e.push(dq(i));return e}static _$Eu(i,e){const t=e.attribute;return t===!1?void 0:typeof t=="string"?t:typeof i=="string"?i.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var i;this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),(i=this.constructor.l)==null||i.forEach(e=>e(this))}addController(i){var e;(this._$EO??(this._$EO=new Set)).add(i),this.renderRoot!==void 0&&this.isConnected&&((e=i.hostConnected)==null||e.call(i))}removeController(i){var e;(e=this._$EO)==null||e.delete(i)}_$E_(){const i=new Map,e=this.constructor.elementProperties;for(const t of e.keys())this.hasOwnProperty(t)&&(i.set(t,this[t]),delete this[t]);i.size>0&&(this._$Ep=i)}createRenderRoot(){const i=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{if(NN)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),o=sM.litNonce;o!==void 0&&r.setAttribute("nonce",o),r.textContent=n.cssText,e.appendChild(r)}})(i,this.constructor.elementStyles),i}connectedCallback(){var i;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(i=this._$EO)==null||i.forEach(e=>{var t;return(t=e.hostConnected)==null?void 0:t.call(e)})}enableUpdating(i){}disconnectedCallback(){var i;(i=this._$EO)==null||i.forEach(e=>{var t;return(t=e.hostDisconnected)==null?void 0:t.call(e)})}attributeChangedCallback(i,e,t){this._$AK(i,t)}_$ET(i,e){var t;const n=this.constructor.elementProperties.get(i),r=this.constructor._$Eu(i,n);if(r!==void 0&&n.reflect===!0){const o=(((t=n.converter)==null?void 0:t.toAttribute)!==void 0?n.converter:z5).toAttribute(e,n.type);this._$Em=i,o==null?this.removeAttribute(r):this.setAttribute(r,o),this._$Em=null}}_$AK(i,e){var t,n;const r=this.constructor,o=r._$Eh.get(i);if(o!==void 0&&this._$Em!==o){const s=r.getPropertyOptions(o),a=typeof s.converter=="function"?{fromAttribute:s.converter}:((t=s.converter)==null?void 0:t.fromAttribute)!==void 0?s.converter:z5;this._$Em=o,this[o]=a.fromAttribute(e,s.type)??((n=this._$Ej)==null?void 0:n.get(o))??null,this._$Em=null}}requestUpdate(i,e,t){var n;if(i!==void 0){const r=this.constructor,o=this[i];if(t??(t=r.getPropertyOptions(i)),!((t.hasChanged??zN)(o,e)||t.useDefault&&t.reflect&&o===((n=this._$Ej)==null?void 0:n.get(i))&&!this.hasAttribute(r._$Eu(i,t))))return;this.C(i,e,t)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(i,e,{useDefault:t,reflect:n,wrapped:r},o){t&&!(this._$Ej??(this._$Ej=new Map)).has(i)&&(this._$Ej.set(i,o??e??this[i]),r!==!0||o!==void 0)||(this._$AL.has(i)||(this.hasUpdated||t||(e=void 0),this._$AL.set(i,e)),n===!0&&this._$Em!==i&&(this._$Eq??(this._$Eq=new Set)).add(i))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const i=this.scheduleUpdate();return i!=null&&await i,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[r,o]of this._$Ep)this[r]=o;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[r,o]of n){const{wrapped:s}=o,a=this[r];s!==!0||this._$AL.has(r)||a===void 0||this.C(r,void 0,o,a)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),(i=this._$EO)==null||i.forEach(n=>{var r;return(r=n.hostUpdate)==null?void 0:r.call(n)}),this.update(t)):this._$EM()}catch(n){throw e=!1,this._$EM(),n}e&&this._$AE(t)}willUpdate(i){}_$AE(i){var e;(e=this._$EO)==null||e.forEach(t=>{var n;return(n=t.hostUpdated)==null?void 0:n.call(t)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(i)),this.updated(i)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(i){return!0}update(i){this._$Eq&&(this._$Eq=this._$Eq.forEach(e=>this._$ET(e,this[e]))),this._$EM()}updated(i){}firstUpdated(i){}};ty.elementStyles=[],ty.shadowRootOptions={mode:"open"},ty[q2("elementProperties")]=new Map,ty[q2("finalized")]=new Map,fq==null||fq({ReactiveElement:ty}),(Xy.reactiveElementVersions??(Xy.reactiveElementVersions=[])).push("2.1.0");const G5=globalThis,V5=G5.trustedTypes,mq=V5?V5.createPolicy("lit-html",{createHTML:i=>i}):void 0,_q="$lit$",Qf=`lit$${Math.random().toFixed(9).slice(2)}$`,ete="?"+Qf,jCe=`<${ete}>`,bv=document,q5=()=>bv.createComment(""),NB=i=>i===null||typeof i!="object"&&typeof i!="function",IO=Array.isArray,B9=`[ 	
\f\r]`,DC=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,vq=/-->/g,bq=/>/g,t_=RegExp(`>|${B9}(?:([^\\s"'>=/]+)(${B9}*=${B9}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),yq=/'/g,wq=/"/g,xq=/^(?:script|style|textarea|title)$/i,HB=Symbol.for("lit-noChange"),ks=Symbol.for("lit-nothing"),Cq=new WeakMap,Q_=bv.createTreeWalker(bv,129);function tte(i,e){if(!IO(i)||!i.hasOwnProperty("raw"))throw Error("invalid template strings array");return mq!==void 0?mq.createHTML(e):e}let MO=class ite{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let o=0,s=0;const a=e.length-1,l=this.parts,[c,u]=((h,d)=>{const p=h.length-1,g=[];let v,_=d===2?"<svg>":d===3?"<math>":"",b=DC;for(let x=0;x<p;x++){const C=h[x];let S,E,I=-1,M=0;for(;M<C.length&&(b.lastIndex=M,E=b.exec(C),E!==null);)M=b.lastIndex,b===DC?E[1]==="!--"?b=vq:E[1]!==void 0?b=bq:E[2]!==void 0?(xq.test(E[2])&&(v=RegExp("</"+E[2],"g")),b=t_):E[3]!==void 0&&(b=t_):b===t_?E[0]===">"?(b=v??DC,I=-1):E[1]===void 0?I=-2:(I=b.lastIndex-E[2].length,S=E[1],b=E[3]===void 0?t_:E[3]==='"'?wq:yq):b===wq||b===yq?b=t_:b===vq||b===bq?b=DC:(b=t_,v=void 0);const k=b===t_&&h[x+1].startsWith("/>")?" ":"";_+=b===DC?C+jCe:I>=0?(g.push(S),C.slice(0,I)+_q+C.slice(I)+Qf+k):C+Qf+(I===-2?x:k)}return[tte(h,_+(h[p]||"<?>")+(d===2?"</svg>":d===3?"</math>":"")),g]})(e,t);if(this.el=ite.createElement(c,n),Q_.currentNode=this.el.content,t===2||t===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(r=Q_.nextNode())!==null&&l.length<a;){if(r.nodeType===1){if(r.hasAttributes())for(const h of r.getAttributeNames())if(h.endsWith(_q)){const d=u[s++],p=r.getAttribute(h).split(Qf),g=/([.?@])?(.*)/.exec(d);l.push({type:1,index:o,name:g[2],strings:p,ctor:g[1]==="."?$Ce:g[1]==="?"?XCe:g[1]==="@"?YCe:Rk}),r.removeAttribute(h)}else h.startsWith(Qf)&&(l.push({type:6,index:o}),r.removeAttribute(h));if(xq.test(r.tagName)){const h=r.textContent.split(Qf),d=h.length-1;if(d>0){r.textContent=V5?V5.emptyScript:"";for(let p=0;p<d;p++)r.append(h[p],q5()),Q_.nextNode(),l.push({type:2,index:++o});r.append(h[d],q5())}}}else if(r.nodeType===8)if(r.data===ete)l.push({type:2,index:o});else{let h=-1;for(;(h=r.data.indexOf(Qf,h+1))!==-1;)l.push({type:7,index:o}),h+=Qf.length-1}o++}}static createElement(e,t){const n=bv.createElement("template");return n.innerHTML=e,n}};function Yy(i,e,t=i,n){var r,o;if(e===HB)return e;let s=n!==void 0?(r=t._$Co)==null?void 0:r[n]:t._$Cl;const a=NB(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==a&&((o=s==null?void 0:s._$AO)==null||o.call(s,!1),a===void 0?s=void 0:(s=new a(i),s._$AT(i,t,n)),n!==void 0?(t._$Co??(t._$Co=[]))[n]=s:t._$Cl=s),s!==void 0&&(e=Yy(i,s._$AS(i,e.values),s,n)),e}let KCe=class{constructor(i,e){this._$AV=[],this._$AN=void 0,this._$AD=i,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(i){const{el:{content:e},parts:t}=this._$AD,n=((i==null?void 0:i.creationScope)??bv).importNode(e,!0);Q_.currentNode=n;let r=Q_.nextNode(),o=0,s=0,a=t[0];for(;a!==void 0;){if(o===a.index){let l;a.type===2?l=new nte(r,r.nextSibling,this,i):a.type===1?l=new a.ctor(r,a.name,a.strings,this,i):a.type===6&&(l=new ZCe(r,this,i)),this._$AV.push(l),a=t[++s]}o!==(a==null?void 0:a.index)&&(r=Q_.nextNode(),o++)}return Q_.currentNode=bv,n}p(i){let e=0;for(const t of this._$AV)t!==void 0&&(t.strings!==void 0?(t._$AI(i,t,e),e+=t.strings.length-2):t._$AI(i[e])),e++}},nte=class rte{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,t,n,r){this.type=2,this._$AH=ks,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=(r==null?void 0:r.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){var n;e=Yy(this,e,t),NB(e)?e===ks||e==null||e===""?(this._$AH!==ks&&this._$AR(),this._$AH=ks):e!==this._$AH&&e!==HB&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):IO(n=e)||typeof(n==null?void 0:n[Symbol.iterator])=="function"?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==ks&&NB(this._$AH)?this._$AA.nextSibling.data=e:this.T(bv.createTextNode(e)),this._$AH=e}$(e){var t;const{values:n,_$litType$:r}=e,o=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=MO.createElement(tte(r.h,r.h[0]),this.options)),r);if(((t=this._$AH)==null?void 0:t._$AD)===o)this._$AH.p(n);else{const s=new KCe(o,this),a=s.u(this.options);s.p(n),this.T(a),this._$AH=s}}_$AC(e){let t=Cq.get(e.strings);return t===void 0&&Cq.set(e.strings,t=new MO(e)),t}k(e){IO(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const o of e)r===t.length?t.push(n=new rte(this.O(q5()),this.O(q5()),this,this.options)):n=t[r],n._$AI(o),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){var n;for((n=this._$AP)==null||n.call(this,!1,!0,t);e&&e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){var t;this._$AM===void 0&&(this._$Cv=e,(t=this._$AP)==null||t.call(this,e))}},Rk=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(i,e,t,n,r){this.type=1,this._$AH=ks,this._$AN=void 0,this.element=i,this.name=e,this._$AM=n,this.options=r,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=ks}_$AI(i,e=this,t,n){const r=this.strings;let o=!1;if(r===void 0)i=Yy(this,i,e,0),o=!NB(i)||i!==this._$AH&&i!==HB,o&&(this._$AH=i);else{const s=i;let a,l;for(i=r[0],a=0;a<r.length-1;a++)l=Yy(this,s[t+a],e,a),l===HB&&(l=this._$AH[a]),o||(o=!NB(l)||l!==this._$AH[a]),l===ks?i=ks:i!==ks&&(i+=(l??"")+r[a+1]),this._$AH[a]=l}o&&!n&&this.j(i)}j(i){i===ks?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,i??"")}},$Ce=class extends Rk{constructor(){super(...arguments),this.type=3}j(i){this.element[this.name]=i===ks?void 0:i}},XCe=class extends Rk{constructor(){super(...arguments),this.type=4}j(i){this.element.toggleAttribute(this.name,!!i&&i!==ks)}},YCe=class extends Rk{constructor(i,e,t,n,r){super(i,e,t,n,r),this.type=5}_$AI(i,e=this){if((i=Yy(this,i,e,0)??ks)===HB)return;const t=this._$AH,n=i===ks&&t!==ks||i.capture!==t.capture||i.once!==t.once||i.passive!==t.passive,r=i!==ks&&(t===ks||n);n&&this.element.removeEventListener(this.name,this,t),r&&this.element.addEventListener(this.name,this,i),this._$AH=i}handleEvent(i){var e;typeof this._$AH=="function"?this._$AH.call(((e=this.options)==null?void 0:e.host)??this.element,i):this._$AH.handleEvent(i)}},ZCe=class{constructor(i,e,t){this.element=i,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}get _$AU(){return this._$AM._$AU}_$AI(i){Yy(this,i)}};const Bq=G5.litHtmlPolyfillSupport;Bq==null||Bq(MO,nte),(G5.litHtmlVersions??(G5.litHtmlVersions=[])).push("3.3.0");const W5=globalThis,j5=W5.trustedTypes,Sq=j5?j5.createPolicy("lit-html",{createHTML:i=>i}):void 0,Eq="$lit$",Nf=`lit$${Math.random().toFixed(9).slice(2)}$`,ote="?"+Nf,JCe=`<${ote}>`,yv=document,zB=()=>yv.createComment(""),GB=i=>i===null||typeof i!="object"&&typeof i!="function",RO=Array.isArray,S9=`[ 	
\f\r]`,UC=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Tq=/-->/g,Iq=/>/g,i_=RegExp(`>|${S9}(?:([^\\s"'>=/]+)(${S9}*=${S9}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Mq=/'/g,Rq=/"/g,kq=/^(?:script|style|textarea|title)$/i,Na=(i,...e)=>({_$litType$:1,strings:i,values:e}),Zy=Symbol.for("lit-noChange"),Fr=Symbol.for("lit-nothing"),Fq=new WeakMap,N_=yv.createTreeWalker(yv,129);function ste(i,e){if(!RO(i)||!i.hasOwnProperty("raw"))throw Error("invalid template strings array");return Sq!==void 0?Sq.createHTML(e):e}let kO=class ate{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let o=0,s=0;const a=e.length-1,l=this.parts,[c,u]=((h,d)=>{const p=h.length-1,g=[];let v,_=d===2?"<svg>":d===3?"<math>":"",b=UC;for(let x=0;x<p;x++){const C=h[x];let S,E,I=-1,M=0;for(;M<C.length&&(b.lastIndex=M,E=b.exec(C),E!==null);)M=b.lastIndex,b===UC?E[1]==="!--"?b=Tq:E[1]!==void 0?b=Iq:E[2]!==void 0?(kq.test(E[2])&&(v=RegExp("</"+E[2],"g")),b=i_):E[3]!==void 0&&(b=i_):b===i_?E[0]===">"?(b=v??UC,I=-1):E[1]===void 0?I=-2:(I=b.lastIndex-E[2].length,S=E[1],b=E[3]===void 0?i_:E[3]==='"'?Rq:Mq):b===Rq||b===Mq?b=i_:b===Tq||b===Iq?b=UC:(b=i_,v=void 0);const k=b===i_&&h[x+1].startsWith("/>")?" ":"";_+=b===UC?C+JCe:I>=0?(g.push(S),C.slice(0,I)+Eq+C.slice(I)+Nf+k):C+Nf+(I===-2?x:k)}return[ste(h,_+(h[p]||"<?>")+(d===2?"</svg>":d===3?"</math>":"")),g]})(e,t);if(this.el=ate.createElement(c,n),N_.currentNode=this.el.content,t===2||t===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(r=N_.nextNode())!==null&&l.length<a;){if(r.nodeType===1){if(r.hasAttributes())for(const h of r.getAttributeNames())if(h.endsWith(Eq)){const d=u[s++],p=r.getAttribute(h).split(Nf),g=/([.?@])?(.*)/.exec(d);l.push({type:1,index:o,name:g[2],strings:p,ctor:g[1]==="."?t2e:g[1]==="?"?i2e:g[1]==="@"?n2e:kk}),r.removeAttribute(h)}else h.startsWith(Nf)&&(l.push({type:6,index:o}),r.removeAttribute(h));if(kq.test(r.tagName)){const h=r.textContent.split(Nf),d=h.length-1;if(d>0){r.textContent=j5?j5.emptyScript:"";for(let p=0;p<d;p++)r.append(h[p],zB()),N_.nextNode(),l.push({type:2,index:++o});r.append(h[d],zB())}}}else if(r.nodeType===8)if(r.data===ote)l.push({type:2,index:o});else{let h=-1;for(;(h=r.data.indexOf(Nf,h+1))!==-1;)l.push({type:7,index:o}),h+=Nf.length-1}o++}}static createElement(e,t){const n=yv.createElement("template");return n.innerHTML=e,n}};function Jy(i,e,t=i,n){var r,o;if(e===Zy)return e;let s=n!==void 0?(r=t._$Co)==null?void 0:r[n]:t._$Cl;const a=GB(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==a&&((o=s==null?void 0:s._$AO)==null||o.call(s,!1),a===void 0?s=void 0:(s=new a(i),s._$AT(i,t,n)),n!==void 0?(t._$Co??(t._$Co=[]))[n]=s:t._$Cl=s),s!==void 0&&(e=Jy(i,s._$AS(i,e.values),s,n)),e}let e2e=class{constructor(i,e){this._$AV=[],this._$AN=void 0,this._$AD=i,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(i){const{el:{content:e},parts:t}=this._$AD,n=((i==null?void 0:i.creationScope)??yv).importNode(e,!0);N_.currentNode=n;let r=N_.nextNode(),o=0,s=0,a=t[0];for(;a!==void 0;){if(o===a.index){let l;a.type===2?l=new GN(r,r.nextSibling,this,i):a.type===1?l=new a.ctor(r,a.name,a.strings,this,i):a.type===6&&(l=new r2e(r,this,i)),this._$AV.push(l),a=t[++s]}o!==(a==null?void 0:a.index)&&(r=N_.nextNode(),o++)}return N_.currentNode=yv,n}p(i){let e=0;for(const t of this._$AV)t!==void 0&&(t.strings!==void 0?(t._$AI(i,t,e),e+=t.strings.length-2):t._$AI(i[e])),e++}},GN=class lte{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,t,n,r){this.type=2,this._$AH=Fr,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=(r==null?void 0:r.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){var n;e=Jy(this,e,t),GB(e)?e===Fr||e==null||e===""?(this._$AH!==Fr&&this._$AR(),this._$AH=Fr):e!==this._$AH&&e!==Zy&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):RO(n=e)||typeof(n==null?void 0:n[Symbol.iterator])=="function"?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Fr&&GB(this._$AH)?this._$AA.nextSibling.data=e:this.T(yv.createTextNode(e)),this._$AH=e}$(e){var t;const{values:n,_$litType$:r}=e,o=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=kO.createElement(ste(r.h,r.h[0]),this.options)),r);if(((t=this._$AH)==null?void 0:t._$AD)===o)this._$AH.p(n);else{const s=new e2e(o,this),a=s.u(this.options);s.p(n),this.T(a),this._$AH=s}}_$AC(e){let t=Fq.get(e.strings);return t===void 0&&Fq.set(e.strings,t=new kO(e)),t}k(e){RO(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const o of e)r===t.length?t.push(n=new lte(this.O(zB()),this.O(zB()),this,this.options)):n=t[r],n._$AI(o),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){var n;for((n=this._$AP)==null||n.call(this,!1,!0,t);e&&e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){var t;this._$AM===void 0&&(this._$Cv=e,(t=this._$AP)==null||t.call(this,e))}},kk=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(i,e,t,n,r){this.type=1,this._$AH=Fr,this._$AN=void 0,this.element=i,this.name=e,this._$AM=n,this.options=r,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=Fr}_$AI(i,e=this,t,n){const r=this.strings;let o=!1;if(r===void 0)i=Jy(this,i,e,0),o=!GB(i)||i!==this._$AH&&i!==Zy,o&&(this._$AH=i);else{const s=i;let a,l;for(i=r[0],a=0;a<r.length-1;a++)l=Jy(this,s[t+a],e,a),l===Zy&&(l=this._$AH[a]),o||(o=!GB(l)||l!==this._$AH[a]),l===Fr?i=Fr:i!==Fr&&(i+=(l??"")+r[a+1]),this._$AH[a]=l}o&&!n&&this.j(i)}j(i){i===Fr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,i??"")}},t2e=class extends kk{constructor(){super(...arguments),this.type=3}j(i){this.element[this.name]=i===Fr?void 0:i}},i2e=class extends kk{constructor(){super(...arguments),this.type=4}j(i){this.element.toggleAttribute(this.name,!!i&&i!==Fr)}},n2e=class extends kk{constructor(i,e,t,n,r){super(i,e,t,n,r),this.type=5}_$AI(i,e=this){if((i=Jy(this,i,e,0)??Fr)===Zy)return;const t=this._$AH,n=i===Fr&&t!==Fr||i.capture!==t.capture||i.once!==t.once||i.passive!==t.passive,r=i!==Fr&&(t===Fr||n);n&&this.element.removeEventListener(this.name,this,t),r&&this.element.addEventListener(this.name,this,i),this._$AH=i}handleEvent(i){var e;typeof this._$AH=="function"?this._$AH.call(((e=this.options)==null?void 0:e.host)??this.element,i):this._$AH.handleEvent(i)}},r2e=class{constructor(i,e,t){this.element=i,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}get _$AU(){return this._$AM._$AU}_$AI(i){Jy(this,i)}};const Dq=W5.litHtmlPolyfillSupport;Dq==null||Dq(kO,GN),(W5.litHtmlVersions??(W5.litHtmlVersions=[])).push("3.3.0");const VB=globalThis;let Oc=class extends ty{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var i;const e=super.createRenderRoot();return(i=this.renderOptions).renderBefore??(i.renderBefore=e.firstChild),e}update(i){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(i),this._$Do=((t,n,r)=>{const o=(r==null?void 0:r.renderBefore)??n;let s=o._$litPart$;if(s===void 0){const a=(r==null?void 0:r.renderBefore)??null;o._$litPart$=s=new GN(n.insertBefore(zB(),a),a,void 0,r??{})}return s._$AI(t),s})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var i;super.connectedCallback(),(i=this._$Do)==null||i.setConnected(!0)}disconnectedCallback(){var i;super.disconnectedCallback(),(i=this._$Do)==null||i.setConnected(!1)}render(){return Zy}};Oc._$litElement$=!0,Oc.finalized=!0,(hq=VB.litElementHydrateSupport)==null||hq.call(VB,{LitElement:Oc});const Uq=VB.litElementPolyfillSupport;Uq==null||Uq({LitElement:Oc}),(VB.litElementVersions??(VB.litElementVersions=[])).push("4.2.0");const WA=i=>(e,t)=>{t!==void 0?t.addInitializer(()=>{customElements.define(i,e)}):customElements.define(i,e)},o2e={attribute:!0,type:String,converter:z5,reflect:!1,hasChanged:zN},s2e=(i=o2e,e,t)=>{const{kind:n,metadata:r}=t;let o=globalThis.litPropertyMetadata.get(r);if(o===void 0&&globalThis.litPropertyMetadata.set(r,o=new Map),n==="setter"&&((i=Object.create(i)).wrapped=!0),o.set(t.name,i),n==="accessor"){const{name:s}=t;return{set(a){const l=e.get.call(this);e.set.call(this,a),this.requestUpdate(s,l,i)},init(a){return a!==void 0&&this.C(s,void 0,i,a),a}}}if(n==="setter"){const{name:s}=t;return function(a){const l=this[s];e.call(this,a),this.requestUpdate(s,l,i)}}throw Error("Unsupported decorator location: "+n)};function Zn(i){return(e,t)=>typeof t=="object"?s2e(i,e,t):((n,r,o)=>{const s=r.hasOwnProperty(o);return r.constructor.createProperty(o,n),s?Object.getOwnPropertyDescriptor(r,o):void 0})(i,e,t)}function Pq(i){return Zn({...i,state:!0,attribute:!1})}function OA(i,e){return(t,n,r)=>{return o=t,s=n,(a={get(){return(()=>{var l;return((l=this.renderRoot)==null?void 0:l.querySelector(i))??null})()}}).configurable=!0,a.enumerable=!0,Reflect.decorate&&typeof s!="object"&&Object.defineProperty(o,s,a),a;var o,s,a}}const Mh="srgb",Lq="srgb-linear",Oq="linear",E9="srgb",Ab=7680,FO=35044;let Fk=class{addEventListener(i,e){this._listeners===void 0&&(this._listeners={});const t=this._listeners;t[i]===void 0&&(t[i]=[]),t[i].indexOf(e)===-1&&t[i].push(e)}hasEventListener(i,e){if(this._listeners===void 0)return!1;const t=this._listeners;return t[i]!==void 0&&t[i].indexOf(e)!==-1}removeEventListener(i,e){if(this._listeners===void 0)return;const t=this._listeners[i];if(t!==void 0){const n=t.indexOf(e);n!==-1&&t.splice(n,1)}}dispatchEvent(i){if(this._listeners===void 0)return;const e=this._listeners[i.type];if(e!==void 0){i.target=this;const t=e.slice(0);for(let n=0,r=t.length;n<r;n++)t[n].call(this,i);i.target=null}}};const Ma=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function fg(){const i=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(Ma[255&i]+Ma[i>>8&255]+Ma[i>>16&255]+Ma[i>>24&255]+"-"+Ma[255&e]+Ma[e>>8&255]+"-"+Ma[e>>16&15|64]+Ma[e>>24&255]+"-"+Ma[63&t|128]+Ma[t>>8&255]+"-"+Ma[t>>16&255]+Ma[t>>24&255]+Ma[255&n]+Ma[n>>8&255]+Ma[n>>16&255]+Ma[n>>24&255]).toLowerCase()}function cn(i,e,t){return Math.max(e,Math.min(t,i))}function T9(i,e,t){return(1-t)*i+t*e}function UA(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function jn(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(4294967295*i);case Uint16Array:return Math.round(65535*i);case Uint8Array:return Math.round(255*i);case Int32Array:return Math.round(2147483647*i);case Int16Array:return Math.round(32767*i);case Int8Array:return Math.round(127*i);default:throw new Error("Invalid component type.")}}let Ps=class cte{constructor(e=0,t=0){cte.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=cn(this.x,e.x,t.x),this.y=cn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=cn(this.x,e,t),this.y=cn(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(cn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(cn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*n-s*r+e.x,this.y=o*r+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},Pp=class ute{constructor(e,t,n,r,o,s,a,l,c){ute.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,o,s,a,l,c)}set(e,t,n,r,o,s,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=o,u[5]=l,u[6]=n,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,s=n[0],a=n[3],l=n[6],c=n[1],u=n[4],h=n[7],d=n[2],p=n[5],g=n[8],v=r[0],_=r[3],b=r[6],x=r[1],C=r[4],S=r[7],E=r[2],I=r[5],M=r[8];return o[0]=s*v+a*x+l*E,o[3]=s*_+a*C+l*I,o[6]=s*b+a*S+l*M,o[1]=c*v+u*x+h*E,o[4]=c*_+u*C+h*I,o[7]=c*b+u*S+h*M,o[2]=d*v+p*x+g*E,o[5]=d*_+p*C+g*I,o[8]=d*b+p*S+g*M,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*s*u-t*a*c-n*o*u+n*a*l+r*o*c-r*s*l}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*s-a*c,d=a*l-u*o,p=c*o-s*l,g=t*h+n*d+r*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=h*v,e[1]=(r*c-u*n)*v,e[2]=(a*n-r*s)*v,e[3]=d*v,e[4]=(u*t-r*l)*v,e[5]=(r*o-a*t)*v,e[6]=p*v,e[7]=(n*l-c*t)*v,e[8]=(s*t-n*o)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(n*l,n*c,-n*(l*s+c*a)+s+e,-r*c,r*l,-r*(-c*s+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(I9.makeScale(e,t)),this}rotate(e){return this.premultiply(I9.makeRotation(-e)),this}translate(e,t){return this.premultiply(I9.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}};const I9=new Pp;function Qq(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}const Nq=new Pp().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Hq=new Pp().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715),mh=function(){const i={enabled:!0,workingColorSpace:Lq,spaces:{},convert:function(r,o,s){return this.enabled!==!1&&o!==s&&o&&s&&(this.spaces[o].transfer===E9&&(r.r=Sp(r.r),r.g=Sp(r.g),r.b=Sp(r.b)),this.spaces[o].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[o].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===E9&&(r.r=Ty(r.r),r.g=Ty(r.g),r.b=Ty(r.b))),r},fromWorkingColorSpace:function(r,o){return this.convert(r,this.workingColorSpace,o)},toWorkingColorSpace:function(r,o){return this.convert(r,o,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===""?Oq:this.spaces[r].transfer},getLuminanceCoefficients:function(r,o=this.workingColorSpace){return r.fromArray(this.spaces[o].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,o,s){return r.copy(this.spaces[o].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[Lq]:{primaries:e,whitePoint:n,transfer:Oq,toXYZ:Nq,fromXYZ:Hq,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Mh},outputColorSpaceConfig:{drawingBufferColorSpace:Mh}},[Mh]:{primaries:e,whitePoint:n,transfer:E9,toXYZ:Nq,fromXYZ:Hq,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Mh}}}),i}();function Sp(i){return i<.04045?.0773993808*i:Math.pow(.9478672986*i+.0521327014,2.4)}function Ty(i){return i<.0031308?12.92*i:1.055*Math.pow(i,.41666)-.055}let db,a2e=class{static getDataURL(i){if(/^data:/i.test(i.src)||typeof HTMLCanvasElement>"u")return i.src;let e;if(i instanceof HTMLCanvasElement)e=i;else{db===void 0&&(db=Qq("canvas")),db.width=i.width,db.height=i.height;const t=db.getContext("2d");i instanceof ImageData?t.putImageData(i,0,0):t.drawImage(i,0,0,i.width,i.height),e=db}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",i),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(i){if(typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap){const e=Qq("canvas");e.width=i.width,e.height=i.height;const t=e.getContext("2d");t.drawImage(i,0,0,i.width,i.height);const n=t.getImageData(0,0,i.width,i.height),r=n.data;for(let o=0;o<r.length;o++)r[o]=255*Sp(r[o]/255);return t.putImageData(n,0,0),e}if(i.data){const e=i.data.slice(0);for(let t=0;t<e.length;t++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[t]=Math.floor(255*Sp(e[t]/255)):e[t]=Sp(e[t]);return{data:e,width:i.width,height:i.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),i}},l2e=0,c2e=class{constructor(i=null){this.isSource=!0,Object.defineProperty(this,"id",{value:l2e++}),this.uuid=fg(),this.data=i,this.dataReady=!0,this.version=0}set needsUpdate(i){i===!0&&this.version++}toJSON(i){const e=i===void 0||typeof i=="string";if(!e&&i.images[this.uuid]!==void 0)return i.images[this.uuid];const t={uuid:this.uuid,url:""},n=this.data;if(n!==null){let r;if(Array.isArray(n)){r=[];for(let o=0,s=n.length;o<s;o++)n[o].isDataTexture?r.push(M9(n[o].image)):r.push(M9(n[o]))}else r=M9(n);t.url=r}return e||(i.images[this.uuid]=t),t}};function M9(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?a2e.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let u2e=0,aM=class lM extends Fk{constructor(e=lM.DEFAULT_IMAGE,t=lM.DEFAULT_MAPPING,n=1001,r=1001,o=1006,s=1008,a=1023,l=1009,c=lM.DEFAULT_ANISOTROPY,u=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:u2e++}),this.uuid=fg(),this.name="",this.source=new c2e(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ps(0,0),this.repeat=new Ps(1,1),this.center=new Ps(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Pp,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==300)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}};aM.DEFAULT_IMAGE=null,aM.DEFAULT_MAPPING=300,aM.DEFAULT_ANISOTROPY=1;let Dk=class hte{constructor(e=0,t=0,n=0,r=1){hte.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r+s[12]*o,this.y=s[1]*t+s[5]*n+s[9]*r+s[13]*o,this.z=s[2]*t+s[6]*n+s[10]*r+s[14]*o,this.w=s[3]*t+s[7]*n+s[11]*r+s[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,o;const l=e.elements,c=l[0],u=l[4],h=l[8],d=l[1],p=l[5],g=l[9],v=l[2],_=l[6],b=l[10];if(Math.abs(u-d)<.01&&Math.abs(h-v)<.01&&Math.abs(g-_)<.01){if(Math.abs(u+d)<.1&&Math.abs(h+v)<.1&&Math.abs(g+_)<.1&&Math.abs(c+p+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(c+1)/2,S=(p+1)/2,E=(b+1)/2,I=(u+d)/4,M=(h+v)/4,k=(g+_)/4;return C>S&&C>E?C<.01?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(C),r=I/n,o=M/n):S>E?S<.01?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(S),n=I/r,o=k/r):E<.01?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(E),n=M/o,r=k/o),this.set(n,r,o,t),this}let x=Math.sqrt((_-g)*(_-g)+(h-v)*(h-v)+(d-u)*(d-u));return Math.abs(x)<.001&&(x=1),this.x=(_-g)/x,this.y=(h-v)/x,this.z=(d-u)/x,this.w=Math.acos((c+p+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=cn(this.x,e.x,t.x),this.y=cn(this.y,e.y,t.y),this.z=cn(this.z,e.z,t.z),this.w=cn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=cn(this.x,e,t),this.y=cn(this.y,e,t),this.z=cn(this.z,e,t),this.w=cn(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(cn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},Sw=class{constructor(i=0,e=0,t=0,n=1){this.isQuaternion=!0,this._x=i,this._y=e,this._z=t,this._w=n}static slerpFlat(i,e,t,n,r,o,s){let a=t[n+0],l=t[n+1],c=t[n+2],u=t[n+3];const h=r[o+0],d=r[o+1],p=r[o+2],g=r[o+3];if(s===0)return i[e+0]=a,i[e+1]=l,i[e+2]=c,void(i[e+3]=u);if(s===1)return i[e+0]=h,i[e+1]=d,i[e+2]=p,void(i[e+3]=g);if(u!==g||a!==h||l!==d||c!==p){let v=1-s;const _=a*h+l*d+c*p+u*g,b=_>=0?1:-1,x=1-_*_;if(x>Number.EPSILON){const S=Math.sqrt(x),E=Math.atan2(S,_*b);v=Math.sin(v*E)/S,s=Math.sin(s*E)/S}const C=s*b;if(a=a*v+h*C,l=l*v+d*C,c=c*v+p*C,u=u*v+g*C,v===1-s){const S=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=S,l*=S,c*=S,u*=S}}i[e]=a,i[e+1]=l,i[e+2]=c,i[e+3]=u}static multiplyQuaternionsFlat(i,e,t,n,r,o){const s=t[n],a=t[n+1],l=t[n+2],c=t[n+3],u=r[o],h=r[o+1],d=r[o+2],p=r[o+3];return i[e]=s*p+c*u+a*d-l*h,i[e+1]=a*p+c*h+l*u-s*d,i[e+2]=l*p+c*d+s*h-a*u,i[e+3]=c*p-s*u-a*h-l*d,i}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get w(){return this._w}set w(i){this._w=i,this._onChangeCallback()}set(i,e,t,n){return this._x=i,this._y=e,this._z=t,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(i){return this._x=i.x,this._y=i.y,this._z=i.z,this._w=i.w,this._onChangeCallback(),this}setFromEuler(i,e=!0){const t=i._x,n=i._y,r=i._z,o=i._order,s=Math.cos,a=Math.sin,l=s(t/2),c=s(n/2),u=s(r/2),h=a(t/2),d=a(n/2),p=a(r/2);switch(o){case"XYZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"YXZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"ZXY":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"ZYX":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"YZX":this._x=h*c*u+l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u-h*d*p;break;case"XZY":this._x=h*c*u-l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(i,e){const t=e/2,n=Math.sin(t);return this._x=i.x*n,this._y=i.y*n,this._z=i.z*n,this._w=Math.cos(t),this._onChangeCallback(),this}setFromRotationMatrix(i){const e=i.elements,t=e[0],n=e[4],r=e[8],o=e[1],s=e[5],a=e[9],l=e[2],c=e[6],u=e[10],h=t+s+u;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(c-a)*d,this._y=(r-l)*d,this._z=(o-n)*d}else if(t>s&&t>u){const d=2*Math.sqrt(1+t-s-u);this._w=(c-a)/d,this._x=.25*d,this._y=(n+o)/d,this._z=(r+l)/d}else if(s>u){const d=2*Math.sqrt(1+s-t-u);this._w=(r-l)/d,this._x=(n+o)/d,this._y=.25*d,this._z=(a+c)/d}else{const d=2*Math.sqrt(1+u-t-s);this._w=(o-n)/d,this._x=(r+l)/d,this._y=(a+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(i,e){let t=i.dot(e)+1;return t<Number.EPSILON?(t=0,Math.abs(i.x)>Math.abs(i.z)?(this._x=-i.y,this._y=i.x,this._z=0,this._w=t):(this._x=0,this._y=-i.z,this._z=i.y,this._w=t)):(this._x=i.y*e.z-i.z*e.y,this._y=i.z*e.x-i.x*e.z,this._z=i.x*e.y-i.y*e.x,this._w=t),this.normalize()}angleTo(i){return 2*Math.acos(Math.abs(cn(this.dot(i),-1,1)))}rotateTowards(i,e){const t=this.angleTo(i);if(t===0)return this;const n=Math.min(1,e/t);return this.slerp(i,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(i){return this._x*i._x+this._y*i._y+this._z*i._z+this._w*i._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let i=this.length();return i===0?(this._x=0,this._y=0,this._z=0,this._w=1):(i=1/i,this._x=this._x*i,this._y=this._y*i,this._z=this._z*i,this._w=this._w*i),this._onChangeCallback(),this}multiply(i){return this.multiplyQuaternions(this,i)}premultiply(i){return this.multiplyQuaternions(i,this)}multiplyQuaternions(i,e){const t=i._x,n=i._y,r=i._z,o=i._w,s=e._x,a=e._y,l=e._z,c=e._w;return this._x=t*c+o*s+n*l-r*a,this._y=n*c+o*a+r*s-t*l,this._z=r*c+o*l+t*a-n*s,this._w=o*c-t*s-n*a-r*l,this._onChangeCallback(),this}slerp(i,e){if(e===0)return this;if(e===1)return this.copy(i);const t=this._x,n=this._y,r=this._z,o=this._w;let s=o*i._w+t*i._x+n*i._y+r*i._z;if(s<0?(this._w=-i._w,this._x=-i._x,this._y=-i._y,this._z=-i._z,s=-s):this.copy(i),s>=1)return this._w=o,this._x=t,this._y=n,this._z=r,this;const a=1-s*s;if(a<=Number.EPSILON){const d=1-e;return this._w=d*o+e*this._w,this._x=d*t+e*this._x,this._y=d*n+e*this._y,this._z=d*r+e*this._z,this.normalize(),this}const l=Math.sqrt(a),c=Math.atan2(l,s),u=Math.sin((1-e)*c)/l,h=Math.sin(e*c)/l;return this._w=o*u+this._w*h,this._x=t*u+this._x*h,this._y=n*u+this._y*h,this._z=r*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(i,e,t){return this.copy(i).slerp(e,t)}random(){const i=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),t=Math.random(),n=Math.sqrt(1-t),r=Math.sqrt(t);return this.set(n*Math.sin(i),n*Math.cos(i),r*Math.sin(e),r*Math.cos(e))}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._w===this._w}fromArray(i,e=0){return this._x=i[e],this._y=i[e+1],this._z=i[e+2],this._w=i[e+3],this._onChangeCallback(),this}toArray(i=[],e=0){return i[e]=this._x,i[e+1]=this._y,i[e+2]=this._z,i[e+3]=this._w,i}fromBufferAttribute(i,e){return this._x=i.getX(e),this._y=i.getY(e),this._z=i.getZ(e),this._w=i.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},Xe=class Ate{constructor(e=0,t=0,n=0){Ate.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(zq.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(zq.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*r,this.y=o[1]*t+o[4]*n+o[7]*r,this.z=o[2]*t+o[5]*n+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=e.elements,s=1/(o[3]*t+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])*s,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])*s,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=2*(s*r-a*n),u=2*(a*t-o*r),h=2*(o*n-s*t);return this.x=t+l*c+s*h-a*u,this.y=n+l*u+a*c-o*h,this.z=r+l*h+o*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r,this.y=o[1]*t+o[5]*n+o[9]*r,this.z=o[2]*t+o[6]*n+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=cn(this.x,e.x,t.x),this.y=cn(this.y,e.y,t.y),this.z=cn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=cn(this.x,e,t),this.y=cn(this.y,e,t),this.z=cn(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(cn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,o=e.z,s=t.x,a=t.y,l=t.z;return this.x=r*l-o*a,this.y=o*s-n*l,this.z=n*a-r*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return R9.copy(this).projectOnVector(e),this.sub(R9)}reflect(e){return this.sub(R9.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(cn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};const R9=new Xe,zq=new Sw;let MS=class{constructor(i=new Xe(1/0,1/0,1/0),e=new Xe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=i,this.max=e}set(i,e){return this.min.copy(i),this.max.copy(e),this}setFromArray(i){this.makeEmpty();for(let e=0,t=i.length;e<t;e+=3)this.expandByPoint(_h.fromArray(i,e));return this}setFromBufferAttribute(i){this.makeEmpty();for(let e=0,t=i.count;e<t;e++)this.expandByPoint(_h.fromBufferAttribute(i,e));return this}setFromPoints(i){this.makeEmpty();for(let e=0,t=i.length;e<t;e++)this.expandByPoint(i[e]);return this}setFromCenterAndSize(i,e){const t=_h.copy(e).multiplyScalar(.5);return this.min.copy(i).sub(t),this.max.copy(i).add(t),this}setFromObject(i,e=!1){return this.makeEmpty(),this.expandByObject(i,e)}clone(){return new this.constructor().copy(this)}copy(i){return this.min.copy(i.min),this.max.copy(i.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(i){return this.isEmpty()?i.set(0,0,0):i.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(i){return this.isEmpty()?i.set(0,0,0):i.subVectors(this.max,this.min)}expandByPoint(i){return this.min.min(i),this.max.max(i),this}expandByVector(i){return this.min.sub(i),this.max.add(i),this}expandByScalar(i){return this.min.addScalar(-i),this.max.addScalar(i),this}expandByObject(i,e=!1){i.updateWorldMatrix(!1,!1);const t=i.geometry;if(t!==void 0){const r=t.getAttribute("position");if(e===!0&&r!==void 0&&i.isInstancedMesh!==!0)for(let o=0,s=r.count;o<s;o++)i.isMesh===!0?i.getVertexPosition(o,_h):_h.fromBufferAttribute(r,o),_h.applyMatrix4(i.matrixWorld),this.expandByPoint(_h);else i.boundingBox!==void 0?(i.boundingBox===null&&i.computeBoundingBox(),I1.copy(i.boundingBox)):(t.boundingBox===null&&t.computeBoundingBox(),I1.copy(t.boundingBox)),I1.applyMatrix4(i.matrixWorld),this.union(I1)}const n=i.children;for(let r=0,o=n.length;r<o;r++)this.expandByObject(n[r],e);return this}containsPoint(i){return i.x>=this.min.x&&i.x<=this.max.x&&i.y>=this.min.y&&i.y<=this.max.y&&i.z>=this.min.z&&i.z<=this.max.z}containsBox(i){return this.min.x<=i.min.x&&i.max.x<=this.max.x&&this.min.y<=i.min.y&&i.max.y<=this.max.y&&this.min.z<=i.min.z&&i.max.z<=this.max.z}getParameter(i,e){return e.set((i.x-this.min.x)/(this.max.x-this.min.x),(i.y-this.min.y)/(this.max.y-this.min.y),(i.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(i){return i.max.x>=this.min.x&&i.min.x<=this.max.x&&i.max.y>=this.min.y&&i.min.y<=this.max.y&&i.max.z>=this.min.z&&i.min.z<=this.max.z}intersectsSphere(i){return this.clampPoint(i.center,_h),_h.distanceToSquared(i.center)<=i.radius*i.radius}intersectsPlane(i){let e,t;return i.normal.x>0?(e=i.normal.x*this.min.x,t=i.normal.x*this.max.x):(e=i.normal.x*this.max.x,t=i.normal.x*this.min.x),i.normal.y>0?(e+=i.normal.y*this.min.y,t+=i.normal.y*this.max.y):(e+=i.normal.y*this.max.y,t+=i.normal.y*this.min.y),i.normal.z>0?(e+=i.normal.z*this.min.z,t+=i.normal.z*this.max.z):(e+=i.normal.z*this.max.z,t+=i.normal.z*this.min.z),e<=-i.constant&&t>=-i.constant}intersectsTriangle(i){if(this.isEmpty())return!1;this.getCenter(PC),M1.subVectors(this.max,PC),pb.subVectors(i.a,PC),fb.subVectors(i.b,PC),gb.subVectors(i.c,PC),yf.subVectors(fb,pb),wf.subVectors(gb,fb),n_.subVectors(pb,gb);let e=[0,-yf.z,yf.y,0,-wf.z,wf.y,0,-n_.z,n_.y,yf.z,0,-yf.x,wf.z,0,-wf.x,n_.z,0,-n_.x,-yf.y,yf.x,0,-wf.y,wf.x,0,-n_.y,n_.x,0];return!!k9(e,pb,fb,gb,M1)&&(e=[1,0,0,0,1,0,0,0,1],!!k9(e,pb,fb,gb,M1)&&(R1.crossVectors(yf,wf),e=[R1.x,R1.y,R1.z],k9(e,pb,fb,gb,M1)))}clampPoint(i,e){return e.copy(i).clamp(this.min,this.max)}distanceToPoint(i){return this.clampPoint(i,_h).distanceTo(i)}getBoundingSphere(i){return this.isEmpty()?i.makeEmpty():(this.getCenter(i.center),i.radius=.5*this.getSize(_h).length()),i}intersect(i){return this.min.max(i.min),this.max.min(i.max),this.isEmpty()&&this.makeEmpty(),this}union(i){return this.min.min(i.min),this.max.max(i.max),this}applyMatrix4(i){return this.isEmpty()||(qd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(i),qd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(i),qd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(i),qd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(i),qd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(i),qd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(i),qd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(i),qd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(i),this.setFromPoints(qd)),this}translate(i){return this.min.add(i),this.max.add(i),this}equals(i){return i.min.equals(this.min)&&i.max.equals(this.max)}};const qd=[new Xe,new Xe,new Xe,new Xe,new Xe,new Xe,new Xe,new Xe],_h=new Xe,I1=new MS,pb=new Xe,fb=new Xe,gb=new Xe,yf=new Xe,wf=new Xe,n_=new Xe,PC=new Xe,M1=new Xe,R1=new Xe,r_=new Xe;function k9(i,e,t,n,r){for(let o=0,s=i.length-3;o<=s;o+=3){r_.fromArray(i,o);const a=r.x*Math.abs(r_.x)+r.y*Math.abs(r_.y)+r.z*Math.abs(r_.z),l=e.dot(r_),c=t.dot(r_),u=n.dot(r_);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const h2e=new MS,LC=new Xe,F9=new Xe;let VN=class{constructor(i=new Xe,e=-1){this.isSphere=!0,this.center=i,this.radius=e}set(i,e){return this.center.copy(i),this.radius=e,this}setFromPoints(i,e){const t=this.center;e!==void 0?t.copy(e):h2e.setFromPoints(i).getCenter(t);let n=0;for(let r=0,o=i.length;r<o;r++)n=Math.max(n,t.distanceToSquared(i[r]));return this.radius=Math.sqrt(n),this}copy(i){return this.center.copy(i.center),this.radius=i.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(i){return i.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(i){return i.distanceTo(this.center)-this.radius}intersectsSphere(i){const e=this.radius+i.radius;return i.center.distanceToSquared(this.center)<=e*e}intersectsBox(i){return i.intersectsSphere(this)}intersectsPlane(i){return Math.abs(i.distanceToPoint(this.center))<=this.radius}clampPoint(i,e){const t=this.center.distanceToSquared(i);return e.copy(i),t>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(i){return this.isEmpty()?(i.makeEmpty(),i):(i.set(this.center,this.center),i.expandByScalar(this.radius),i)}applyMatrix4(i){return this.center.applyMatrix4(i),this.radius=this.radius*i.getMaxScaleOnAxis(),this}translate(i){return this.center.add(i),this}expandByPoint(i){if(this.isEmpty())return this.center.copy(i),this.radius=0,this;LC.subVectors(i,this.center);const e=LC.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),n=.5*(t-this.radius);this.center.addScaledVector(LC,n/t),this.radius+=n}return this}union(i){return i.isEmpty()?this:this.isEmpty()?(this.copy(i),this):(this.center.equals(i.center)===!0?this.radius=Math.max(this.radius,i.radius):(F9.subVectors(i.center,this.center).setLength(i.radius),this.expandByPoint(LC.copy(i.center).add(F9)),this.expandByPoint(LC.copy(i.center).sub(F9))),this)}equals(i){return i.center.equals(this.center)&&i.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Wd=new Xe,D9=new Xe,k1=new Xe,xf=new Xe,U9=new Xe,F1=new Xe,P9=new Xe;let qN=class{constructor(i=new Xe,e=new Xe(0,0,-1)){this.origin=i,this.direction=e}set(i,e){return this.origin.copy(i),this.direction.copy(e),this}copy(i){return this.origin.copy(i.origin),this.direction.copy(i.direction),this}at(i,e){return e.copy(this.origin).addScaledVector(this.direction,i)}lookAt(i){return this.direction.copy(i).sub(this.origin).normalize(),this}recast(i){return this.origin.copy(this.at(i,Wd)),this}closestPointToPoint(i,e){e.subVectors(i,this.origin);const t=e.dot(this.direction);return t<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,t)}distanceToPoint(i){return Math.sqrt(this.distanceSqToPoint(i))}distanceSqToPoint(i){const e=Wd.subVectors(i,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(i):(Wd.copy(this.origin).addScaledVector(this.direction,e),Wd.distanceToSquared(i))}distanceSqToSegment(i,e,t,n){D9.copy(i).add(e).multiplyScalar(.5),k1.copy(e).sub(i).normalize(),xf.copy(this.origin).sub(D9);const r=.5*i.distanceTo(e),o=-this.direction.dot(k1),s=xf.dot(this.direction),a=-xf.dot(k1),l=xf.lengthSq(),c=Math.abs(1-o*o);let u,h,d,p;if(c>0)if(u=o*a-s,h=o*s-a,p=r*c,u>=0)if(h>=-p)if(h<=p){const g=1/c;u*=g,h*=g,d=u*(u+o*h+2*s)+h*(o*u+h+2*a)+l}else h=r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;else h=-r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;else h<=-p?(u=Math.max(0,-(-o*r+s)),h=u>0?-r:Math.min(Math.max(-r,-a),r),d=-u*u+h*(h+2*a)+l):h<=p?(u=0,h=Math.min(Math.max(-r,-a),r),d=h*(h+2*a)+l):(u=Math.max(0,-(o*r+s)),h=u>0?r:Math.min(Math.max(-r,-a),r),d=-u*u+h*(h+2*a)+l);else h=o>0?-r:r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;return t&&t.copy(this.origin).addScaledVector(this.direction,u),n&&n.copy(D9).addScaledVector(k1,h),d}intersectSphere(i,e){Wd.subVectors(i.center,this.origin);const t=Wd.dot(this.direction),n=Wd.dot(Wd)-t*t,r=i.radius*i.radius;if(n>r)return null;const o=Math.sqrt(r-n),s=t-o,a=t+o;return a<0?null:s<0?this.at(a,e):this.at(s,e)}intersectsSphere(i){return this.distanceSqToPoint(i.center)<=i.radius*i.radius}distanceToPlane(i){const e=i.normal.dot(this.direction);if(e===0)return i.distanceToPoint(this.origin)===0?0:null;const t=-(this.origin.dot(i.normal)+i.constant)/e;return t>=0?t:null}intersectPlane(i,e){const t=this.distanceToPlane(i);return t===null?null:this.at(t,e)}intersectsPlane(i){const e=i.distanceToPoint(this.origin);return e===0||i.normal.dot(this.direction)*e<0}intersectBox(i,e){let t,n,r,o,s,a;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(t=(i.min.x-h.x)*l,n=(i.max.x-h.x)*l):(t=(i.max.x-h.x)*l,n=(i.min.x-h.x)*l),c>=0?(r=(i.min.y-h.y)*c,o=(i.max.y-h.y)*c):(r=(i.max.y-h.y)*c,o=(i.min.y-h.y)*c),t>o||r>n?null:((r>t||isNaN(t))&&(t=r),(o<n||isNaN(n))&&(n=o),u>=0?(s=(i.min.z-h.z)*u,a=(i.max.z-h.z)*u):(s=(i.max.z-h.z)*u,a=(i.min.z-h.z)*u),t>a||s>n?null:((s>t||t!=t)&&(t=s),(a<n||n!=n)&&(n=a),n<0?null:this.at(t>=0?t:n,e)))}intersectsBox(i){return this.intersectBox(i,Wd)!==null}intersectTriangle(i,e,t,n,r){U9.subVectors(e,i),F1.subVectors(t,i),P9.crossVectors(U9,F1);let o,s=this.direction.dot(P9);if(s>0){if(n)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}xf.subVectors(this.origin,i);const a=o*this.direction.dot(F1.crossVectors(xf,F1));if(a<0)return null;const l=o*this.direction.dot(U9.cross(xf));if(l<0||a+l>s)return null;const c=-o*xf.dot(P9);return c<0?null:this.at(c/s,r)}applyMatrix4(i){return this.origin.applyMatrix4(i),this.direction.transformDirection(i),this}equals(i){return i.origin.equals(this.origin)&&i.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},hr=class DO{constructor(e,t,n,r,o,s,a,l,c,u,h,d,p,g,v,_){DO.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,o,s,a,l,c,u,h,d,p,g,v,_)}set(e,t,n,r,o,s,a,l,c,u,h,d,p,g,v,_){const b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=r,b[1]=o,b[5]=s,b[9]=a,b[13]=l,b[2]=c,b[6]=u,b[10]=h,b[14]=d,b[3]=p,b[7]=g,b[11]=v,b[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new DO().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/mb.setFromMatrixColumn(e,0).length(),o=1/mb.setFromMatrixColumn(e,1).length(),s=1/mb.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,o=e.z,s=Math.cos(n),a=Math.sin(n),l=Math.cos(r),c=Math.sin(r),u=Math.cos(o),h=Math.sin(o);if(e.order==="XYZ"){const d=s*u,p=s*h,g=a*u,v=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=p+g*c,t[5]=d-v*c,t[9]=-a*l,t[2]=v-d*c,t[6]=g+p*c,t[10]=s*l}else if(e.order==="YXZ"){const d=l*u,p=l*h,g=c*u,v=c*h;t[0]=d+v*a,t[4]=g*a-p,t[8]=s*c,t[1]=s*h,t[5]=s*u,t[9]=-a,t[2]=p*a-g,t[6]=v+d*a,t[10]=s*l}else if(e.order==="ZXY"){const d=l*u,p=l*h,g=c*u,v=c*h;t[0]=d-v*a,t[4]=-s*h,t[8]=g+p*a,t[1]=p+g*a,t[5]=s*u,t[9]=v-d*a,t[2]=-s*c,t[6]=a,t[10]=s*l}else if(e.order==="ZYX"){const d=s*u,p=s*h,g=a*u,v=a*h;t[0]=l*u,t[4]=g*c-p,t[8]=d*c+v,t[1]=l*h,t[5]=v*c+d,t[9]=p*c-g,t[2]=-c,t[6]=a*l,t[10]=s*l}else if(e.order==="YZX"){const d=s*l,p=s*c,g=a*l,v=a*c;t[0]=l*u,t[4]=v-d*h,t[8]=g*h+p,t[1]=h,t[5]=s*u,t[9]=-a*u,t[2]=-c*u,t[6]=p*h+g,t[10]=d-v*h}else if(e.order==="XZY"){const d=s*l,p=s*c,g=a*l,v=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=d*h+v,t[5]=s*u,t[9]=p*h-g,t[2]=g*h-p,t[6]=a*u,t[10]=v*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(A2e,e,d2e)}lookAt(e,t,n){const r=this.elements;return Cc.subVectors(e,t),Cc.lengthSq()===0&&(Cc.z=1),Cc.normalize(),Cf.crossVectors(n,Cc),Cf.lengthSq()===0&&(Math.abs(n.z)===1?Cc.x+=1e-4:Cc.z+=1e-4,Cc.normalize(),Cf.crossVectors(n,Cc)),Cf.normalize(),D1.crossVectors(Cc,Cf),r[0]=Cf.x,r[4]=D1.x,r[8]=Cc.x,r[1]=Cf.y,r[5]=D1.y,r[9]=Cc.y,r[2]=Cf.z,r[6]=D1.z,r[10]=Cc.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,s=n[0],a=n[4],l=n[8],c=n[12],u=n[1],h=n[5],d=n[9],p=n[13],g=n[2],v=n[6],_=n[10],b=n[14],x=n[3],C=n[7],S=n[11],E=n[15],I=r[0],M=r[4],k=r[8],F=r[12],P=r[1],Q=r[5],N=r[9],W=r[13],q=r[2],J=r[6],V=r[10],Y=r[14],Z=r[3],ue=r[7],$=r[11],ee=r[15];return o[0]=s*I+a*P+l*q+c*Z,o[4]=s*M+a*Q+l*J+c*ue,o[8]=s*k+a*N+l*V+c*$,o[12]=s*F+a*W+l*Y+c*ee,o[1]=u*I+h*P+d*q+p*Z,o[5]=u*M+h*Q+d*J+p*ue,o[9]=u*k+h*N+d*V+p*$,o[13]=u*F+h*W+d*Y+p*ee,o[2]=g*I+v*P+_*q+b*Z,o[6]=g*M+v*Q+_*J+b*ue,o[10]=g*k+v*N+_*V+b*$,o[14]=g*F+v*W+_*Y+b*ee,o[3]=x*I+C*P+S*q+E*Z,o[7]=x*M+C*Q+S*J+E*ue,o[11]=x*k+C*N+S*V+E*$,o[15]=x*F+C*W+S*Y+E*ee,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],d=e[10],p=e[14];return e[3]*(+o*l*h-r*c*h-o*a*d+n*c*d+r*a*p-n*l*p)+e[7]*(+t*l*p-t*c*d+o*s*d-r*s*p+r*c*u-o*l*u)+e[11]*(+t*c*h-t*a*p-o*s*h+n*s*p+o*a*u-n*c*u)+e[15]*(-r*a*u-t*l*h+t*a*d+r*s*h-n*s*d+n*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],p=e[11],g=e[12],v=e[13],_=e[14],b=e[15],x=h*_*c-v*d*c+v*l*p-a*_*p-h*l*b+a*d*b,C=g*d*c-u*_*c-g*l*p+s*_*p+u*l*b-s*d*b,S=u*v*c-g*h*c+g*a*p-s*v*p-u*a*b+s*h*b,E=g*h*l-u*v*l-g*a*d+s*v*d+u*a*_-s*h*_,I=t*x+n*C+r*S+o*E;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/I;return e[0]=x*M,e[1]=(v*d*o-h*_*o-v*r*p+n*_*p+h*r*b-n*d*b)*M,e[2]=(a*_*o-v*l*o+v*r*c-n*_*c-a*r*b+n*l*b)*M,e[3]=(h*l*o-a*d*o-h*r*c+n*d*c+a*r*p-n*l*p)*M,e[4]=C*M,e[5]=(u*_*o-g*d*o+g*r*p-t*_*p-u*r*b+t*d*b)*M,e[6]=(g*l*o-s*_*o-g*r*c+t*_*c+s*r*b-t*l*b)*M,e[7]=(s*d*o-u*l*o+u*r*c-t*d*c-s*r*p+t*l*p)*M,e[8]=S*M,e[9]=(g*h*o-u*v*o-g*n*p+t*v*p+u*n*b-t*h*b)*M,e[10]=(s*v*o-g*a*o+g*n*c-t*v*c-s*n*b+t*a*b)*M,e[11]=(u*a*o-s*h*o-u*n*c+t*h*c+s*n*p-t*a*p)*M,e[12]=E*M,e[13]=(u*v*r-g*h*r+g*n*d-t*v*d-u*n*_+t*h*_)*M,e[14]=(g*a*r-s*v*r-g*n*l+t*v*l+s*n*_-t*a*_)*M,e[15]=(s*h*r-u*a*r+u*n*l-t*h*l-s*n*d+t*a*d)*M,this}scale(e){const t=this.elements,n=e.x,r=e.y,o=e.z;return t[0]*=n,t[4]*=r,t[8]*=o,t[1]*=n,t[5]*=r,t[9]*=o,t[2]*=n,t[6]*=r,t[10]*=o,t[3]*=n,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),o=1-n,s=e.x,a=e.y,l=e.z,c=o*s,u=o*a;return this.set(c*s+n,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+n,u*l-r*s,0,c*l-r*a,u*l+r*s,o*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,o,s){return this.set(1,n,o,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,o=t._x,s=t._y,a=t._z,l=t._w,c=o+o,u=s+s,h=a+a,d=o*c,p=o*u,g=o*h,v=s*u,_=s*h,b=a*h,x=l*c,C=l*u,S=l*h,E=n.x,I=n.y,M=n.z;return r[0]=(1-(v+b))*E,r[1]=(p+S)*E,r[2]=(g-C)*E,r[3]=0,r[4]=(p-S)*I,r[5]=(1-(d+b))*I,r[6]=(_+x)*I,r[7]=0,r[8]=(g+C)*M,r[9]=(_-x)*M,r[10]=(1-(d+v))*M,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let o=mb.set(r[0],r[1],r[2]).length();const s=mb.set(r[4],r[5],r[6]).length(),a=mb.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],vh.copy(this);const l=1/o,c=1/s,u=1/a;return vh.elements[0]*=l,vh.elements[1]*=l,vh.elements[2]*=l,vh.elements[4]*=c,vh.elements[5]*=c,vh.elements[6]*=c,vh.elements[8]*=u,vh.elements[9]*=u,vh.elements[10]*=u,t.setFromRotationMatrix(vh),n.x=o,n.y=s,n.z=a,this}makePerspective(e,t,n,r,o,s,a=2e3){const l=this.elements,c=2*o/(t-e),u=2*o/(n-r),h=(t+e)/(t-e),d=(n+r)/(n-r);let p,g;if(a===2e3)p=-(s+o)/(s-o),g=-2*s*o/(s-o);else{if(a!==2001)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);p=-s/(s-o),g=-s*o/(s-o)}return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,o,s,a=2e3){const l=this.elements,c=1/(t-e),u=1/(n-r),h=1/(s-o),d=(t+e)*c,p=(n+r)*u;let g,v;if(a===2e3)g=(s+o)*h,v=-2*h;else{if(a!==2001)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);g=o*h,v=-1*h}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=v,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}};const mb=new Xe,vh=new hr,A2e=new Xe(0,0,0),d2e=new Xe(1,1,1),Cf=new Xe,D1=new Xe,Cc=new Xe,Gq=new hr,Vq=new Sw;let RS=class dte{constructor(e=0,t=0,n=0,r=dte.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,o=r[0],s=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],p=r[10];switch(t){case"XYZ":this._y=Math.asin(cn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-cn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(cn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-cn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(cn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-cn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Gq.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Gq,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Vq.setFromEuler(this),this.setFromQuaternion(Vq,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};RS.DEFAULT_ORDER="XYZ";let pte=class{constructor(){this.mask=1}set(i){this.mask=1<<i>>>0}enable(i){this.mask|=1<<i}enableAll(){this.mask=-1}toggle(i){this.mask^=1<<i}disable(i){this.mask&=~(1<<i)}disableAll(){this.mask=0}test(i){return!!(this.mask&i.mask)}isEnabled(i){return!!(this.mask&1<<i)}},p2e=0;const qq=new Xe,_b=new Sw,jd=new hr,U1=new Xe,OC=new Xe,f2e=new Xe,g2e=new Sw,Wq=new Xe(1,0,0),jq=new Xe(0,1,0),Kq=new Xe(0,0,1),$q={type:"added"},m2e={type:"removed"},vb={type:"childadded",child:null},L9={type:"childremoved",child:null};class Qc extends Fk{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:p2e++}),this.uuid=fg(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Qc.DEFAULT_UP.clone();const e=new Xe,t=new RS,n=new Sw,r=new Xe(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new hr},normalMatrix:{value:new Pp}}),this.matrix=new hr,this.matrixWorld=new hr,this.matrixAutoUpdate=Qc.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Qc.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new pte,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return _b.setFromAxisAngle(e,t),this.quaternion.multiply(_b),this}rotateOnWorldAxis(e,t){return _b.setFromAxisAngle(e,t),this.quaternion.premultiply(_b),this}rotateX(e){return this.rotateOnAxis(Wq,e)}rotateY(e){return this.rotateOnAxis(jq,e)}rotateZ(e){return this.rotateOnAxis(Kq,e)}translateOnAxis(e,t){return qq.copy(e).applyQuaternion(this.quaternion),this.position.add(qq.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Wq,e)}translateY(e){return this.translateOnAxis(jq,e)}translateZ(e){return this.translateOnAxis(Kq,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(jd.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?U1.copy(e):U1.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),OC.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?jd.lookAt(OC,U1,this.up):jd.lookAt(U1,OC,this.up),this.quaternion.setFromRotationMatrix(jd),r&&(jd.extractRotation(r.matrixWorld),_b.setFromRotationMatrix(jd),this.quaternion.premultiply(_b.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent($q),vb.child=e,this.dispatchEvent(vb),vb.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(m2e),L9.child=e,this.dispatchEvent(L9),L9.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),jd.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),jd.multiply(e.parent.matrixWorld)),e.applyMatrix4(jd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent($q),vb.child=e,this.dispatchEvent(vb),vb.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let o=0,s=r.length;o<s;o++)r[o].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(OC,e,f2e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(OC,g2e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let o=0,s=r.length;o<s;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];o(e.shapes,h)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));r.material=a}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(o(e.animations,l))}}if(t){const a=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),h=s(e.shapes),d=s(e.skeletons),p=s(e.animations),g=s(e.nodes);a.length>0&&(n.geometries=a),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),u.length>0&&(n.images=u),h.length>0&&(n.shapes=h),d.length>0&&(n.skeletons=d),p.length>0&&(n.animations=p),g.length>0&&(n.nodes=g)}return n.object=r,n;function s(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}Qc.DEFAULT_UP=new Xe(0,1,0),Qc.DEFAULT_MATRIX_AUTO_UPDATE=!0,Qc.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const bh=new Xe,Kd=new Xe,O9=new Xe,$d=new Xe,bb=new Xe,yb=new Xe,Xq=new Xe,Q9=new Xe,N9=new Xe,H9=new Xe,z9=new Dk,G9=new Dk,V9=new Dk;class Eu{constructor(e=new Xe,t=new Xe,n=new Xe){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),bh.subVectors(e,t),r.cross(bh);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,n,r,o){bh.subVectors(r,t),Kd.subVectors(n,t),O9.subVectors(e,t);const s=bh.dot(bh),a=bh.dot(Kd),l=bh.dot(O9),c=Kd.dot(Kd),u=Kd.dot(O9),h=s*c-a*a;if(h===0)return o.set(0,0,0),null;const d=1/h,p=(c*l-a*u)*d,g=(s*u-a*l)*d;return o.set(1-p-g,g,p)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,$d)!==null&&$d.x>=0&&$d.y>=0&&$d.x+$d.y<=1}static getInterpolation(e,t,n,r,o,s,a,l){return this.getBarycoord(e,t,n,r,$d)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,$d.x),l.addScaledVector(s,$d.y),l.addScaledVector(a,$d.z),l)}static getInterpolatedAttribute(e,t,n,r,o,s){return z9.setScalar(0),G9.setScalar(0),V9.setScalar(0),z9.fromBufferAttribute(e,t),G9.fromBufferAttribute(e,n),V9.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(z9,o.x),s.addScaledVector(G9,o.y),s.addScaledVector(V9,o.z),s}static isFrontFacing(e,t,n,r){return bh.subVectors(n,t),Kd.subVectors(e,t),bh.cross(Kd).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return bh.subVectors(this.c,this.b),Kd.subVectors(this.a,this.b),.5*bh.cross(Kd).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Eu.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Eu.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,o){return Eu.getInterpolation(e,this.a,this.b,this.c,t,n,r,o)}containsPoint(e){return Eu.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Eu.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,o=this.c;let s,a;bb.subVectors(r,n),yb.subVectors(o,n),Q9.subVectors(e,n);const l=bb.dot(Q9),c=yb.dot(Q9);if(l<=0&&c<=0)return t.copy(n);N9.subVectors(e,r);const u=bb.dot(N9),h=yb.dot(N9);if(u>=0&&h<=u)return t.copy(r);const d=l*h-u*c;if(d<=0&&l>=0&&u<=0)return s=l/(l-u),t.copy(n).addScaledVector(bb,s);H9.subVectors(e,o);const p=bb.dot(H9),g=yb.dot(H9);if(g>=0&&p<=g)return t.copy(o);const v=p*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(n).addScaledVector(yb,a);const _=u*g-p*h;if(_<=0&&h-u>=0&&p-g>=0)return Xq.subVectors(o,r),a=(h-u)/(h-u+(p-g)),t.copy(r).addScaledVector(Xq,a);const b=1/(_+v+d);return s=v*b,a=d*b,t.copy(n).addScaledVector(bb,s).addScaledVector(yb,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const fte={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bf={h:0,s:0,l:0},P1={h:0,s:0,l:0};function q9(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+6*(e-i)*t:t<.5?e:t<2/3?i+6*(e-i)*(2/3-t):i}class Cu{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Mh){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,mh.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=mh.workingColorSpace){return this.r=e,this.g=t,this.b=n,mh.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=mh.workingColorSpace){if(e=(e%1+1)%1,t=cn(t,0,1),n=cn(n,0,1),t===0)this.r=this.g=this.b=n;else{const o=n<=.5?n*(1+t):n+t-n*t,s=2*n-o;this.r=q9(s,o,e+1/3),this.g=q9(s,o,e),this.b=q9(s,o,e-1/3)}return mh.toWorkingColorSpace(this,r),this}setStyle(e,t=Mh){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=r[1],a=r[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Mh){const n=fte[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Sp(e.r),this.g=Sp(e.g),this.b=Sp(e.b),this}copyLinearToSRGB(e){return this.r=Ty(e.r),this.g=Ty(e.g),this.b=Ty(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Mh){return mh.fromWorkingColorSpace(Ra.copy(this),e),65536*Math.round(cn(255*Ra.r,0,255))+256*Math.round(cn(255*Ra.g,0,255))+Math.round(cn(255*Ra.b,0,255))}getHexString(e=Mh){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=mh.workingColorSpace){mh.fromWorkingColorSpace(Ra.copy(this),t);const n=Ra.r,r=Ra.g,o=Ra.b,s=Math.max(n,r,o),a=Math.min(n,r,o);let l,c;const u=(a+s)/2;if(a===s)l=0,c=0;else{const h=s-a;switch(c=u<=.5?h/(s+a):h/(2-s-a),s){case n:l=(r-o)/h+(r<o?6:0);break;case r:l=(o-n)/h+2;break;case o:l=(n-r)/h+4}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=mh.workingColorSpace){return mh.fromWorkingColorSpace(Ra.copy(this),t),e.r=Ra.r,e.g=Ra.g,e.b=Ra.b,e}getStyle(e=Mh){mh.fromWorkingColorSpace(Ra.copy(this),e);const t=Ra.r,n=Ra.g,r=Ra.b;return e!==Mh?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(e,t,n){return this.getHSL(Bf),this.setHSL(Bf.h+e,Bf.s+t,Bf.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Bf),e.getHSL(P1);const n=T9(Bf.h,P1.h,t),r=T9(Bf.s,P1.s,t),o=T9(Bf.l,P1.l,t);return this.setHSL(n,r,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,o=e.elements;return this.r=o[0]*t+o[3]*n+o[6]*r,this.g=o[1]*t+o[4]*n+o[7]*r,this.b=o[2]*t+o[5]*n+o[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ra=new Cu;Cu.NAMES=fte;let _2e=0;class WN extends Fk{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_2e++}),this.uuid=fg(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Cu(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ab,this.stencilZFail=Ab,this.stencilZPass=Ab,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];r!==void 0?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==1&&(n.blending=this.blending),this.side!==0&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==204&&(n.blendSrc=this.blendSrc),this.blendDst!==205&&(n.blendDst=this.blendDst),this.blendEquation!==100&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==3&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==519&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ab&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Ab&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Ab&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const o=r(e.textures),s=r(e.images);o.length>0&&(n.textures=o),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let o=0;o!==r;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class gte extends WN{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Cu(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new RS,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Fo=new Xe,L1=new Ps;class iv{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=FO,this.updateRanges=[],this.gpuType=1015,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)L1.fromBufferAttribute(this,t),L1.applyMatrix3(e),this.setXY(t,L1.x,L1.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Fo.fromBufferAttribute(this,t),Fo.applyMatrix3(e),this.setXYZ(t,Fo.x,Fo.y,Fo.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Fo.fromBufferAttribute(this,t),Fo.applyMatrix4(e),this.setXYZ(t,Fo.x,Fo.y,Fo.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Fo.fromBufferAttribute(this,t),Fo.applyNormalMatrix(e),this.setXYZ(t,Fo.x,Fo.y,Fo.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Fo.fromBufferAttribute(this,t),Fo.transformDirection(e),this.setXYZ(t,Fo.x,Fo.y,Fo.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=UA(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=UA(t,this.array)),t}setX(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=UA(t,this.array)),t}setY(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=UA(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=UA(t,this.array)),t}setW(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),n=jn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),n=jn(n,this.array),r=jn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),n=jn(n,this.array),r=jn(r,this.array),o=jn(o,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==FO&&(e.usage=this.usage),e}}class v2e extends iv{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class b2e extends iv{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Iy extends iv{constructor(e,t,n){super(new Float32Array(e),t,n)}}let y2e=0;const fu=new hr,W9=new Qc,wb=new Xe,Bc=new MS,QC=new MS,ws=new Xe;class Og extends Fk{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:y2e++}),this.uuid=fg(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(function(t){for(let n=t.length-1;n>=0;--n)if(t[n]>=65535)return!0;return!1}(e)?b2e:v2e)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new Pp().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return fu.makeRotationFromQuaternion(e),this.applyMatrix4(fu),this}rotateX(e){return fu.makeRotationX(e),this.applyMatrix4(fu),this}rotateY(e){return fu.makeRotationY(e),this.applyMatrix4(fu),this}rotateZ(e){return fu.makeRotationZ(e),this.applyMatrix4(fu),this}translate(e,t,n){return fu.makeTranslation(e,t,n),this.applyMatrix4(fu),this}scale(e,t,n){return fu.makeScale(e,t,n),this.applyMatrix4(fu),this}lookAt(e){return W9.lookAt(e),W9.updateMatrix(),this.applyMatrix4(W9.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(wb).negate(),this.translate(wb.x,wb.y,wb.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let r=0,o=e.length;r<o;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Iy(n,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const o=e[r];t.setXYZ(r,o.x,o.y,o.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new MS);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Xe(-1/0,-1/0,-1/0),new Xe(1/0,1/0,1/0));if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const o=t[n];Bc.setFromBufferAttribute(o),this.morphTargetsRelative?(ws.addVectors(this.boundingBox.min,Bc.min),this.boundingBox.expandByPoint(ws),ws.addVectors(this.boundingBox.max,Bc.max),this.boundingBox.expandByPoint(ws)):(this.boundingBox.expandByPoint(Bc.min),this.boundingBox.expandByPoint(Bc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new VN);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Xe,1/0);if(e){const n=this.boundingSphere.center;if(Bc.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++){const a=t[o];QC.setFromBufferAttribute(a),this.morphTargetsRelative?(ws.addVectors(Bc.min,QC.min),Bc.expandByPoint(ws),ws.addVectors(Bc.max,QC.max),Bc.expandByPoint(ws)):(Bc.expandByPoint(QC.min),Bc.expandByPoint(QC.max))}Bc.getCenter(n);let r=0;for(let o=0,s=e.count;o<s;o++)ws.fromBufferAttribute(e,o),r=Math.max(r,n.distanceToSquared(ws));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ws.fromBufferAttribute(a,c),l&&(wb.fromBufferAttribute(e,c),ws.add(wb)),r=Math.max(r,n.distanceToSquared(ws))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,r=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new iv(new Float32Array(4*n.count),4));const s=this.getAttribute("tangent"),a=[],l=[];for(let k=0;k<n.count;k++)a[k]=new Xe,l[k]=new Xe;const c=new Xe,u=new Xe,h=new Xe,d=new Ps,p=new Ps,g=new Ps,v=new Xe,_=new Xe;function b(k,F,P){c.fromBufferAttribute(n,k),u.fromBufferAttribute(n,F),h.fromBufferAttribute(n,P),d.fromBufferAttribute(o,k),p.fromBufferAttribute(o,F),g.fromBufferAttribute(o,P),u.sub(c),h.sub(c),p.sub(d),g.sub(d);const Q=1/(p.x*g.y-g.x*p.y);isFinite(Q)&&(v.copy(u).multiplyScalar(g.y).addScaledVector(h,-p.y).multiplyScalar(Q),_.copy(h).multiplyScalar(p.x).addScaledVector(u,-g.x).multiplyScalar(Q),a[k].add(v),a[F].add(v),a[P].add(v),l[k].add(_),l[F].add(_),l[P].add(_))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let k=0,F=x.length;k<F;++k){const P=x[k],Q=P.start;for(let N=Q,W=Q+P.count;N<W;N+=3)b(e.getX(N+0),e.getX(N+1),e.getX(N+2))}const C=new Xe,S=new Xe,E=new Xe,I=new Xe;function M(k){E.fromBufferAttribute(r,k),I.copy(E);const F=a[k];C.copy(F),C.sub(E.multiplyScalar(E.dot(F))).normalize(),S.crossVectors(I,F);const P=S.dot(l[k])<0?-1:1;s.setXYZW(k,C.x,C.y,C.z,P)}for(let k=0,F=x.length;k<F;++k){const P=x[k],Q=P.start;for(let N=Q,W=Q+P.count;N<W;N+=3)M(e.getX(N+0)),M(e.getX(N+1)),M(e.getX(N+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new iv(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let d=0,p=n.count;d<p;d++)n.setXYZ(d,0,0,0);const r=new Xe,o=new Xe,s=new Xe,a=new Xe,l=new Xe,c=new Xe,u=new Xe,h=new Xe;if(e)for(let d=0,p=e.count;d<p;d+=3){const g=e.getX(d+0),v=e.getX(d+1),_=e.getX(d+2);r.fromBufferAttribute(t,g),o.fromBufferAttribute(t,v),s.fromBufferAttribute(t,_),u.subVectors(s,o),h.subVectors(r,o),u.cross(h),a.fromBufferAttribute(n,g),l.fromBufferAttribute(n,v),c.fromBufferAttribute(n,_),a.add(u),l.add(u),c.add(u),n.setXYZ(g,a.x,a.y,a.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(_,c.x,c.y,c.z)}else for(let d=0,p=t.count;d<p;d+=3)r.fromBufferAttribute(t,d+0),o.fromBufferAttribute(t,d+1),s.fromBufferAttribute(t,d+2),u.subVectors(s,o),h.subVectors(r,o),u.cross(h),n.setXYZ(d+0,u.x,u.y,u.z),n.setXYZ(d+1,u.x,u.y,u.z),n.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ws.fromBufferAttribute(e,t),ws.normalize(),e.setXYZ(t,ws.x,ws.y,ws.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,d=new c.constructor(l.length*u);let p=0,g=0;for(let v=0,_=l.length;v<_;v++){p=a.isInterleavedBufferAttribute?l[v]*a.data.stride+a.offset:l[v]*u;for(let b=0;b<u;b++)d[g++]=c[p++]}return new iv(d,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Og,n=this.index.array,r=this.attributes;for(const a in r){const l=e(r[a],n);t.setAttribute(a,l)}const o=this.morphAttributes;for(const a in o){const l=[],c=o[a];for(let u=0,h=c.length;u<h;u++){const d=e(c[u],n);l.push(d)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const c=s[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const c=n[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,d=c.length;h<d;h++){const p=c[h];u.push(p.toJSON(e.data))}u.length>0&&(r[l]=u,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const o=e.morphAttributes;for(const c in o){const u=[],h=o[c];for(let d=0,p=h.length;d<p;d++)u.push(h[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const h=s[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Yq=new hr,o_=new qN,O1=new VN,Zq=new Xe,Q1=new Xe,N1=new Xe,H1=new Xe,j9=new Xe,z1=new Xe,Jq=new Xe,G1=new Xe;class w2e extends Qc{constructor(e=new Og,t=new gte){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=n.length;r<o;r++){const s=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,o=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(o&&a){z1.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=a[l],h=o[l];u!==0&&(j9.fromBufferAttribute(h,e),s?z1.addScaledVector(j9,u):z1.addScaledVector(j9.sub(t),u))}t.add(z1)}return t}raycast(e,t){const n=this.geometry,r=this.material,o=this.matrixWorld;if(r!==void 0){if(n.boundingSphere===null&&n.computeBoundingSphere(),O1.copy(n.boundingSphere),O1.applyMatrix4(o),o_.copy(e.ray).recast(e.near),O1.containsPoint(o_.origin)===!1&&(o_.intersectSphere(O1,Zq)===null||o_.origin.distanceToSquared(Zq)>(e.far-e.near)**2))return;Yq.copy(o).invert(),o_.copy(e.ray).applyMatrix4(Yq),n.boundingBox!==null&&o_.intersectsBox(n.boundingBox)===!1||this._computeIntersections(e,t,o_)}}_computeIntersections(e,t,n){let r;const o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,h=o.attributes.normal,d=o.groups,p=o.drawRange;if(a!==null)if(Array.isArray(s))for(let g=0,v=d.length;g<v;g++){const _=d[g],b=s[_.materialIndex];for(let x=Math.max(_.start,p.start),C=Math.min(a.count,Math.min(_.start+_.count,p.start+p.count));x<C;x+=3)r=V1(this,b,e,n,c,u,h,a.getX(x),a.getX(x+1),a.getX(x+2)),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=_.materialIndex,t.push(r))}else for(let g=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);g<v;g+=3)r=V1(this,s,e,n,c,u,h,a.getX(g),a.getX(g+1),a.getX(g+2)),r&&(r.faceIndex=Math.floor(g/3),t.push(r));else if(l!==void 0)if(Array.isArray(s))for(let g=0,v=d.length;g<v;g++){const _=d[g],b=s[_.materialIndex];for(let x=Math.max(_.start,p.start),C=Math.min(l.count,Math.min(_.start+_.count,p.start+p.count));x<C;x+=3)r=V1(this,b,e,n,c,u,h,x,x+1,x+2),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=_.materialIndex,t.push(r))}else for(let g=Math.max(0,p.start),v=Math.min(l.count,p.start+p.count);g<v;g+=3)r=V1(this,s,e,n,c,u,h,g,g+1,g+2),r&&(r.faceIndex=Math.floor(g/3),t.push(r))}}function V1(i,e,t,n,r,o,s,a,l,c){i.getVertexPosition(a,Q1),i.getVertexPosition(l,N1),i.getVertexPosition(c,H1);const u=function(h,d,p,g,v,_,b,x){let C;if(C=d.side===1?g.intersectTriangle(b,_,v,!0,x):g.intersectTriangle(v,_,b,d.side===0,x),C===null)return null;G1.copy(x),G1.applyMatrix4(h.matrixWorld);const S=p.ray.origin.distanceTo(G1);return S<p.near||S>p.far?null:{distance:S,point:G1.clone(),object:h}}(i,e,t,n,Q1,N1,H1,Jq);if(u){const h=new Xe;Eu.getBarycoord(Jq,Q1,N1,H1,h),r&&(u.uv=Eu.getInterpolatedAttribute(r,a,l,c,h,new Ps)),o&&(u.uv1=Eu.getInterpolatedAttribute(o,a,l,c,h,new Ps)),s&&(u.normal=Eu.getInterpolatedAttribute(s,a,l,c,h,new Xe),u.normal.dot(n.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new Xe,materialIndex:0};Eu.getNormal(Q1,N1,H1,d.normal),u.face=d,u.barycoord=h}return u}class x2e{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=FO,this.updateRanges=[],this.version=0,this.uuid=fg()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fg()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fg()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ll=new Xe;class K5{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)ll.fromBufferAttribute(this,t),ll.applyMatrix4(e),this.setXYZ(t,ll.x,ll.y,ll.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ll.fromBufferAttribute(this,t),ll.applyNormalMatrix(e),this.setXYZ(t,ll.x,ll.y,ll.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ll.fromBufferAttribute(this,t),ll.transformDirection(e),this.setXYZ(t,ll.x,ll.y,ll.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=UA(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=jn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=UA(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=UA(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=UA(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=UA(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=jn(t,this.array),n=jn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=jn(t,this.array),n=jn(n,this.array),r=jn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=jn(t,this.array),n=jn(n,this.array),r=jn(r,this.array),o=jn(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new iv(new this.array.constructor(t),this.itemSize,this.normalized)}return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new K5(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class mte extends WN{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Cu(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let xb;const NC=new Xe,Cb=new Xe,Bb=new Xe,Sb=new Ps,HC=new Ps,_te=new hr,q1=new Xe,zC=new Xe,W1=new Xe,eW=new Ps,K9=new Ps,tW=new Ps;class Eb extends Qc{constructor(e=new mte){if(super(),this.isSprite=!0,this.type="Sprite",xb===void 0){xb=new Og;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new x2e(t,5);xb.setIndex([0,1,2,0,2,3]),xb.setAttribute("position",new K5(n,3,0,!1)),xb.setAttribute("uv",new K5(n,2,3,!1))}this.geometry=xb,this.material=e,this.center=new Ps(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Cb.setFromMatrixScale(this.matrixWorld),_te.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Bb.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Cb.multiplyScalar(-Bb.z);const n=this.material.rotation;let r,o;n!==0&&(o=Math.cos(n),r=Math.sin(n));const s=this.center;j1(q1.set(-.5,-.5,0),Bb,s,Cb,r,o),j1(zC.set(.5,-.5,0),Bb,s,Cb,r,o),j1(W1.set(.5,.5,0),Bb,s,Cb,r,o),eW.set(0,0),K9.set(1,0),tW.set(1,1);let a=e.ray.intersectTriangle(q1,zC,W1,!1,NC);if(a===null&&(j1(zC.set(-.5,.5,0),Bb,s,Cb,r,o),K9.set(0,1),a=e.ray.intersectTriangle(q1,W1,zC,!1,NC),a===null))return;const l=e.ray.origin.distanceTo(NC);l<e.near||l>e.far||t.push({distance:l,point:NC.clone(),uv:Eu.getInterpolation(NC,q1,zC,W1,eW,K9,tW,new Ps),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function j1(i,e,t,n,r,o){Sb.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(HC.x=o*Sb.x-r*Sb.y,HC.y=r*Sb.x+o*Sb.y):HC.copy(Sb),i.copy(e),i.x+=HC.x,i.y+=HC.y,i.applyMatrix4(_te)}class jN extends WN{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Cu(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const $5=new Xe,X5=new Xe,iW=new hr,GC=new qN,K1=new VN,$9=new Xe,nW=new Xe;class vte extends Qc{constructor(e=new Og,t=new jN){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,o=t.count;r<o;r++)$5.fromBufferAttribute(t,r-1),X5.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=$5.distanceTo(X5);e.setAttribute("lineDistance",new Iy(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),K1.copy(n.boundingSphere),K1.applyMatrix4(r),K1.radius+=o,e.ray.intersectsSphere(K1)===!1)return;iW.copy(r).invert(),GC.copy(e.ray).applyMatrix4(iW);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=n.index,h=n.attributes.position;if(u!==null){const d=Math.max(0,s.start),p=Math.min(u.count,s.start+s.count);for(let g=d,v=p-1;g<v;g+=c){const _=u.getX(g),b=u.getX(g+1),x=$1(this,e,GC,l,_,b);x&&t.push(x)}if(this.isLineLoop){const g=u.getX(p-1),v=u.getX(d),_=$1(this,e,GC,l,g,v);_&&t.push(_)}}else{const d=Math.max(0,s.start),p=Math.min(h.count,s.start+s.count);for(let g=d,v=p-1;g<v;g+=c){const _=$1(this,e,GC,l,g,g+1);_&&t.push(_)}if(this.isLineLoop){const g=$1(this,e,GC,l,p-1,d);g&&t.push(g)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=n.length;r<o;r++){const s=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}}function $1(i,e,t,n,r,o){const s=i.geometry.attributes.position;if($5.fromBufferAttribute(s,r),X5.fromBufferAttribute(s,o),t.distanceSqToSegment($5,X5,$9,nW)>n)return;$9.applyMatrix4(i.matrixWorld);const a=e.ray.origin.distanceTo($9);return a<e.near||a>e.far?void 0:{distance:a,point:nW.clone().applyMatrix4(i.matrixWorld),index:r,face:null,faceIndex:null,barycoord:null,object:i}}class C2e extends Qc{constructor(){super(),this.isGroup=!0,this.type="Group"}}class B2e extends aM{constructor(e,t,n,r,o,s,a,l,c){super(e,t,n,r,o,s,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class KN extends Og{constructor(e=1,t=1,n=1,r=32,o=1,s=!1,a=0,l=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),o=Math.floor(o);const u=[],h=[],d=[],p=[];let g=0;const v=[],_=n/2;let b=0;function x(C){const S=g,E=new Ps,I=new Xe;let M=0;const k=C===!0?e:t,F=C===!0?1:-1;for(let Q=1;Q<=r;Q++)h.push(0,_*F,0),d.push(0,F,0),p.push(.5,.5),g++;const P=g;for(let Q=0;Q<=r;Q++){const N=Q/r*l+a,W=Math.cos(N),q=Math.sin(N);I.x=k*q,I.y=_*F,I.z=k*W,h.push(I.x,I.y,I.z),d.push(0,F,0),E.x=.5*W+.5,E.y=.5*q*F+.5,p.push(E.x,E.y),g++}for(let Q=0;Q<r;Q++){const N=S+Q,W=P+Q;C===!0?u.push(W,W+1,N):u.push(W+1,W,N),M+=3}c.addGroup(b,M,C===!0?1:2),b+=M}(function(){const C=new Xe,S=new Xe;let E=0;const I=(t-e)/n;for(let M=0;M<=o;M++){const k=[],F=M/o,P=F*(t-e)+e;for(let Q=0;Q<=r;Q++){const N=Q/r,W=N*l+a,q=Math.sin(W),J=Math.cos(W);S.x=P*q,S.y=-F*n+_,S.z=P*J,h.push(S.x,S.y,S.z),C.set(q,I,J).normalize(),d.push(C.x,C.y,C.z),p.push(N,1-F),k.push(g++)}v.push(k)}for(let M=0;M<r;M++)for(let k=0;k<o;k++){const F=v[k][M],P=v[k+1][M],Q=v[k+1][M+1],N=v[k][M+1];(e>0||k!==0)&&(u.push(F,P,N),E+=3),(t>0||k!==o-1)&&(u.push(P,Q,N),E+=3)}c.addGroup(b,E,0),b+=E})(),s===!1&&(e>0&&x(!0),t>0&&x(!1)),this.setIndex(u),this.setAttribute("position",new Iy(h,3)),this.setAttribute("normal",new Iy(d,3)),this.setAttribute("uv",new Iy(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new KN(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class S2e extends jN{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}const rW=new hr;class oW{constructor(e,t,n=0,r=1/0){this.ray=new qN(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new pte,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return rW.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(rW),this}intersectObject(e,t=!0,n=[]){return UO(e,this,n,t),n.sort(sW),n}intersectObjects(e,t=!0,n=[]){for(let r=0,o=e.length;r<o;r++)UO(e[r],this,n,t);return n.sort(sW),n}}function sW(i,e){return i.distance-e.distance}function UO(i,e,t,n){let r=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(r=!1),r===!0&&n===!0){const o=i.children;for(let s=0,a=o.length;s<a;s++)UO(o[s],e,t,!0)}}const aW=new Xe;let X1,X9;class Y9 extends Qc{constructor(e=new Xe(0,0,1),t=new Xe(0,0,0),n=1,r=16776960,o=.2*n,s=.2*o){super(),this.type="ArrowHelper",X1===void 0&&(X1=new Og,X1.setAttribute("position",new Iy([0,0,0,0,1,0],3)),X9=new KN(0,.5,1,5,1),X9.translate(0,-.5,0)),this.position.copy(t),this.line=new vte(X1,new jN({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new w2e(X9,new gte({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{aW.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(aW,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"172"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="172");var lW,Y1={exports:{}},Qg=function(){if(lW)return Y1.exports;lW=1;var i,e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(v,_,b){return Function.prototype.apply.call(v,_,b)};i=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:function(v){return Object.getOwnPropertyNames(v)};var n=Number.isNaN||function(v){return v!=v};function r(){r.init.call(this)}Y1.exports=r,Y1.exports.once=function(v,_){return new Promise(function(b,x){function C(M){v.removeListener(_,S),x(M)}function S(){typeof v.removeListener=="function"&&v.removeListener("error",C),b([].slice.call(arguments))}var E,I;g(v,_,S,{once:!0}),_!=="error"&&(I=C,typeof(E=v).on=="function"&&g(E,"error",I,{once:!0}))})},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var o=10;function s(v){if(typeof v!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof v)}function a(v){return v._maxListeners===void 0?r.defaultMaxListeners:v._maxListeners}function l(v,_,b,x){var C,S,E,I;if(s(b),(S=v._events)===void 0?(S=v._events=Object.create(null),v._eventsCount=0):(S.newListener!==void 0&&(v.emit("newListener",_,b.listener?b.listener:b),S=v._events),E=S[_]),E===void 0)E=S[_]=b,++v._eventsCount;else if(typeof E=="function"?E=S[_]=x?[b,E]:[E,b]:x?E.unshift(b):E.push(b),(C=a(v))>0&&E.length>C&&!E.warned){E.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=v,M.type=_,M.count=E.length,I=M,console&&console.warn&&console.warn(I)}return v}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(v,_,b){var x={fired:!1,wrapFn:void 0,target:v,type:_,listener:b},C=c.bind(x);return C.listener=b,x.wrapFn=C,C}function h(v,_,b){var x=v._events;if(x===void 0)return[];var C=x[_];return C===void 0?[]:typeof C=="function"?b?[C.listener||C]:[C]:b?function(S){for(var E=new Array(S.length),I=0;I<E.length;++I)E[I]=S[I].listener||S[I];return E}(C):p(C,C.length)}function d(v){var _=this._events;if(_!==void 0){var b=_[v];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function p(v,_){for(var b=new Array(_),x=0;x<_;++x)b[x]=v[x];return b}function g(v,_,b,x){if(typeof v.on=="function")x.once?v.once(_,b):v.on(_,b);else{if(typeof v.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof v);v.addEventListener(_,function C(S){x.once&&v.removeEventListener(_,C),b(S)})}}return Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(v){if(typeof v!="number"||v<0||n(v))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+v+".");o=v}}),r.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(v){if(typeof v!="number"||v<0||n(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this},r.prototype.getMaxListeners=function(){return a(this)},r.prototype.emit=function(v){for(var _=[],b=1;b<arguments.length;b++)_.push(arguments[b]);var x=v==="error",C=this._events;if(C!==void 0)x=x&&C.error===void 0;else if(!x)return!1;if(x){var S;if(_.length>0&&(S=_[0]),S instanceof Error)throw S;var E=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw E.context=S,E}var I=C[v];if(I===void 0)return!1;if(typeof I=="function")t(I,this,_);else{var M=I.length,k=p(I,M);for(b=0;b<M;++b)t(k[b],this,_)}return!0},r.prototype.addListener=function(v,_){return l(this,v,_,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(v,_){return l(this,v,_,!0)},r.prototype.once=function(v,_){return s(_),this.on(v,u(this,v,_)),this},r.prototype.prependOnceListener=function(v,_){return s(_),this.prependListener(v,u(this,v,_)),this},r.prototype.removeListener=function(v,_){var b,x,C,S,E;if(s(_),(x=this._events)===void 0)return this;if((b=x[v])===void 0)return this;if(b===_||b.listener===_)--this._eventsCount==0?this._events=Object.create(null):(delete x[v],x.removeListener&&this.emit("removeListener",v,b.listener||_));else if(typeof b!="function"){for(C=-1,S=b.length-1;S>=0;S--)if(b[S]===_||b[S].listener===_){E=b[S].listener,C=S;break}if(C<0)return this;C===0?b.shift():function(I,M){for(;M+1<I.length;M++)I[M]=I[M+1];I.pop()}(b,C),b.length===1&&(x[v]=b[0]),x.removeListener!==void 0&&this.emit("removeListener",v,E||_)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(v){var _,b,x;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[v]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[v]),this;if(arguments.length===0){var C,S=Object.keys(b);for(x=0;x<S.length;++x)(C=S[x])!=="removeListener"&&this.removeAllListeners(C);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(_=b[v])=="function")this.removeListener(v,_);else if(_!==void 0)for(x=_.length-1;x>=0;x--)this.removeListener(v,_[x]);return this},r.prototype.listeners=function(v){return h(this,v,!0)},r.prototype.rawListeners=function(v){return h(this,v,!1)},r.listenerCount=function(v,_){return typeof v.listenerCount=="function"?v.listenerCount(_):d.call(v,_)},r.prototype.listenerCount=d,r.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]},Y1.exports}();const PO=(i,e=250)=>{let t;return function(...n){clearTimeout(t),t=setTimeout(()=>i.apply(this,n),e)}};class bte extends Qg.EventEmitter{constructor(e,t="mousedown",n="click",r=200){super(),this._isHoldEvent=!1,this._holdTimeoutId=-1,this._doubleClickTimeoutId=-1,this._numClick=0,e.addEventListener(t,this._handleMouseDown.bind(this)),e.addEventListener(n,this._handleMouseClick.bind(this)),this._delay=r}_handleMouseDown(){this._isHoldEvent=!1,window.clearTimeout(this._doubleClickTimeoutId),this._holdTimeoutId=window.setTimeout(()=>{this._isHoldEvent=!0,this.emit("pointerevent-is-hold-event")},this._delay)}_handleMouseClick(e){if(this._isHoldEvent)return this._numClick=0,void(this._isHoldEvent=!1);window.clearTimeout(this._holdTimeoutId),this._numClick++,this._numClick===1?this._doubleClickTimeoutId=window.setTimeout(()=>{this._numClick=0,this.emit("single-click",e)},this._delay):(this._numClick=0,this.emit("double-click",e))}}function v2(i){return i*(180/Math.PI)}var E2e=Object.defineProperty,T2e=Object.getOwnPropertyDescriptor,cW=(i,e,t,n)=>{for(var r,o=n>1?void 0:n?T2e(e,t):e,s=i.length-1;s>=0;s--)(r=i[s])&&(o=(n?r(e,t,o):r(o))||o);return n&&o&&E2e(e,t,o),o};function Tb(i,e=null){const t=document.createElement("canvas");t.width=64,t.height=64;const n=t.getContext("2d");if(n==null)return;if(n.beginPath(),n.arc(32,32,16,0,2*Math.PI),n.closePath(),n.fillStyle=i.getStyle(),n.fill(),e!==null){n.font="20px Arial";const s=n.measureText(e),a=s.width,l=s.actualBoundingBoxAscent-s.actualBoundingBoxDescent,c=(t.width-a)/2,u=(t.height+l)/2;n.fillStyle="#ffffff",n.fillText(e,c,u)}const r=new B2e(t);return new mte({map:r,toneMapped:!1})}let Z1=class extends mN{constructor(){super(),this._coordinateAxes=[],this._coordinateLabel=[],this._lastSphericalPosition={theta:-1,phi:-1,radius:-1},this._lastFieldOfViewInDeg=-1,this._referenceFieldOfViewInRad=-1,this._referenceMaxRadius=-1,this._isRadiusConst=!1,this._maxZoomLevel=100,this._minZoomLevel=.5,this._currentZoomLevel=1,this._minPhiInDeg=0,this._maxPhiInDeg=1800,this._deltaX=0,this._deltaY=0,this._emitCamOrbitAngleChanged=PO(()=>{console.log("Cam Phi Theta",v2(this._lastSphericalPosition.phi),v2(this._lastSphericalPosition.theta)),this.dispatchEvent(new Event("cam-orbit-angle-changed"))},250),this.addEventListener("load",this._handleModelLoaded),this.addEventListener("camera-change",this._handleCameraChanged);const i=new bte(this);i.on("single-click",this._handleSceneClicked.bind(this)),this.addEventListener("pointerup",()=>this[Cl].style.cursor="default"),this.addEventListener("pointerdown",()=>this[Cl].style.cursor="pointer"),i.on("pointerevent-is-hold-event",()=>{console.log("Single click over"),this[Cl].style.cursor="grabbing"})}firstUpdated(){this[nt].add(this.measurementTool.sceneElementGroup),this.measurementTool.on("scene-update-requested",()=>this.updateRendering()),this.measurementTool.on("calculate-hotspot-requested",this._intersectObject.bind(this)),this.measurementTool.on("hotspot-added",this._handleHotspotAdded.bind(this))}connectWithSettings(i){i.modelOrientation.on("model-orientation-changed",n=>{this.orientation=n.angleInRadAsString(),this.measurementTool.eulerOrientation=n}),i.environment3D.on("change-axes-visibility-requested",this._changeAxesVisibility.bind(this)),i.environment3D.on("change-viewer-background-color-requested",this._changeBackgroundColor.bind(this)),i.environment3D.on("change-exposure-requested",n=>this.exposure=n);const[e,t]=i.environment3D.backgroundColor;this._changeBackgroundColor(e,t)}resize(i,e){this.style.height=i+"px",this.style.width=e+"px",this[nt].idealAspect=this[nt].aspect}getCamera(){return this[nt].camera}setReferenceFieldOfView(i,e=!1){if(i==this._referenceFieldOfViewInRad)return void(e&&(this.fieldOfView=i+"rad"));this._referenceFieldOfViewInRad=i,this[nt].idealAspect=this[nt].aspect,this.minFieldOfView=i/this._maxZoomLevel+"rad",this.maxFieldOfView=i/this._minZoomLevel+"rad",e&&(this.fieldOfView=i+"rad");const t=this.getDimensions(),n=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z);this.clientWidth>this.clientHeight?this._referenceMaxRadius=n/i:this._referenceMaxRadius=n/i*this.clientHeight/this.clientWidth,this._isRadiusConst||(this.maxCameraOrbit="Infinity "+this._maxPhiInDeg+"deg "+this._referenceMaxRadius+"m")}rotateModel(i,e){const t=2*Math.PI/this[nt].height,n=t*i,r=t*e,o=this[Sn];o.changeSource=Mr.USER_INTERACTION,o.adjustOrbit(n,r,0)}zoomTo(i){this._referenceFieldOfViewInRad!=-1?(this._currentZoomLevel=i,this[nt].idealAspect=this[nt].aspect,this.fieldOfView=this._referenceFieldOfViewInRad/i+"rad"):console.log("Return 3d  zoom, ",this._currentZoomLevel)}setViewerOffset(i,e){this._deltaX==i&&this._deltaY==e||(this._deltaX=i,this._deltaY=e,this[nt].camera.setViewOffset(this.clientWidth,this.clientHeight,i,e,this.clientWidth,this.clientHeight),this.updateRendering())}updateRendering(){this[nt].queueRender()}setMinZoomLevel(i){if(this._minZoomLevel!=i&&this._referenceFieldOfViewInRad!=-1){const e=this._referenceFieldOfViewInRad/i,t=this.getFieldOfView()/180*Math.PI;if(e<t)if(this._isRadiusConst==0){const n=this.getCameraOrbit(),r=this.getCameraOrbit().radius;n.radius=r*t/e,this.cameraOrbit=n.toString()}else this.fieldOfView=e+"rad";this.maxFieldOfView=e+"rad",this._minZoomLevel=i}}setCameraOrbitPos(i){this._isRadiusConst&&(this.minCameraOrbit="-Infinity "+this._minPhiInDeg+"deg "+i.radius+"m",this.maxCameraOrbit="Infinity "+this._maxPhiInDeg+"deg "+i.radius+"m"),this.cameraOrbit=i.toString()}updateRadiusMode(i){if(i!=this._isRadiusConst)if(this._isRadiusConst=i,i){const e=this.getCameraOrbit().radius;this.minCameraOrbit="-Infinity "+this._minPhiInDeg+"deg "+e+"m",this.maxCameraOrbit="Infinity "+this._maxPhiInDeg+"deg "+e+"m"}else{this.minCameraOrbit="-Infinity "+this._minPhiInDeg+"deg  auto";const e=this._referenceMaxRadius>0?this._referenceMaxRadius+"m":"auto";this.maxCameraOrbit="Infinity "+this._maxPhiInDeg+"deg "+e}}_changeAxesVisibility(i){this._changeCoordinateVisibility(i),this.updateRendering()}_changeBackgroundColor(i,e){console.log("Change background color",i,e),this.style.background=e?"radial-gradient(circle at center, "+e+", "+i+")":i}_handleHotspotAdded(i){i.addEventListener("hotspot-position-changed",()=>{this.updateHotspot({name:i.slot,position:i.dataset.position,normal:i.dataset.normal})}),this.appendChild(i)}_intersectObject(i,e){const t=this.getCameraTarget();console.log("Current translation 2",t),i.x-=t.x,i.y-=t.y,i.z-=t.z,this[nt].remove(this.measurementTool.sceneElementGroup),this._removeCoordinateElements();const n=new oW(i,e).intersectObject(this[nt],!0);this[nt].add(this.measurementTool.sceneElementGroup),this._addCoordinateElements();const r=n.find(a=>a.object.visible&&!a.object.userData.shadow);if(r==null||r.face==null)return void console.log("Object intersection not found, not adding point from 3D scene.");let o,s;r.uv==null?(o=r.point,s=r.face.normal):(r.face.normal.applyNormalMatrix(new Pp().getNormalMatrix(r.object.matrixWorld)),o=r.point,s=r.face.normal),o.x+=t.x,o.y+=t.y,o.z+=t.z,this.measurementTool.addPointFrom3DScene(o,s,!1)}_coordinateLabelIsClicked(i){if(this._coordinateAxes.length==0||!this._coordinateAxes[0].visible)return!1;const e=this[nt].getNDC(i.clientX,i.clientY),t=new oW;t.setFromCamera(e,this.getCamera());const n=t.intersectObjects(this._coordinateLabel,!0);if(console.log("Label hit?",n.length),n.length==0)return!1;const r=n[0].object,o=this.getCameraOrbit();switch(r.userData.type){case"posX":o.phi=.5*Math.PI,o.theta=.5*Math.PI;break;case"posY":o.phi=0,o.theta=0;break;case"posZ":o.phi=.5*Math.PI,o.theta=0;break;case"negX":o.phi=.5*Math.PI,o.theta=1.5*Math.PI;break;case"negY":o.phi=Math.PI,o.theta=0;break;case"negZ":o.phi=.5*Math.PI,o.theta=Math.PI;break;default:console.log("default")}return this.cameraOrbit=o.toString(),this._emitCamOrbitAngleChanged(),!0}_handleSceneClicked(i){if(console.log("Single Click into scene"),this._coordinateLabelIsClicked(i)||!this.measurementTool.isEditModeActive)return;const e=i.clientX,t=i.clientY;this[nt].remove(this.measurementTool.sceneElementGroup),this._removeCoordinateElements();const n=this.positionAndNormalFromPoint(e,t);if(this[nt].add(this.measurementTool.sceneElementGroup),this._addCoordinateElements(),n==null)return void console.log("no hit result: mouse = ",e,", ",t);const{position:r,normal:o}=n;this.measurementTool.addPointFrom3DScene(r,o)}_addCoordinateElements(){this._coordinateAxes.forEach(i=>{this[nt].add(i)}),this._coordinateLabel.forEach(i=>{this[nt].add(i)})}_removeCoordinateElements(){this._coordinateAxes.forEach(i=>{this[nt].remove(i)}),this._coordinateLabel.forEach(i=>{this[nt].remove(i)})}_changeCoordinateVisibility(i){this._coordinateAxes.forEach(e=>{e.visible=i}),this._coordinateLabel.forEach(e=>{e.visible=i})}_handleModelLoaded(){const i=this.getDimensions(),e=.5*Math.max(Math.max(i.x,i.y),i.z);this._coordinateAxes.push(new Y9(new Xe(e,0,0),new Xe(-e,0,0),2*e,"red",.5,.25)),this._coordinateAxes.push(new Y9(new Xe(0,e,0),new Xe(0,-e,0),2*e,"green",.5,.25)),this._coordinateAxes.push(new Y9(new Xe(0,0,e),new Xe(0,0,-e),2*e,"blue",.5,.25)),this._coordinateAxes.forEach(u=>{u.visible=!1});const t=new Xe(.5,.5,.5),n=new hr;n.scale(t);const r=new Eb(Tb(new Cu("red"),"X"));r.userData.type="posX",r.applyMatrix4(n),r.position.x=e,this._coordinateLabel.push(r);const o=new Eb(Tb(new Cu(1,.2,.2),"-x"));o.userData.type="negX",o.applyMatrix4(n),o.position.x=-e,this._coordinateLabel.push(o);const s=new Eb(Tb(new Cu("green"),"y"));s.userData.type="posY",s.applyMatrix4(n),s.position.y=e,this._coordinateLabel.push(s);const a=new Eb(Tb(new Cu(.2,1,.2),"-y"));a.userData.type="negY",a.applyMatrix4(n),a.position.y=-e,this._coordinateLabel.push(a);const l=new Eb(Tb(new Cu("blue"),"z"));l.userData.type="posZ",l.applyMatrix4(n),l.position.z=e,this._coordinateLabel.push(l);const c=new Eb(Tb(new Cu(.2,.2,1),"-z"));c.userData.type="negZ",c.applyMatrix4(n),c.position.z=-e,this._coordinateLabel.push(c),this._coordinateLabel.forEach(u=>{u.visible=!1}),this._addCoordinateElements(),this._lastSphericalPosition=this.getCameraOrbit(),this[nt].idealAspect=this[nt].aspect,this[nt].queueRender(),this._emitCamOrbitAngleChanged(),this[Cl].style.cursor="default",this.minCameraOrbit="-Infinity "+this._minPhiInDeg+"deg  auto",this.maxCameraOrbit="Infinity "+this._maxPhiInDeg+"deg auto"}_handleCameraChanged(i){this.measurementTool.translation=new Xe().setFromMatrixPosition(this[nt].target.matrixWorld);const e=this.getCameraOrbit(),t=this.getFieldOfView();if(i.detail.source!="user-interaction")return this._lastSphericalPosition=e,void(this._lastFieldOfViewInDeg=t);this._lastSphericalPosition.phi==e.phi&&this._lastSphericalPosition.theta==e.theta||(console.log("CamChanged",this.getCameraOrbit(),this._lastSphericalPosition),e.radius>0&&this._emitCamOrbitAngleChanged()),this._lastSphericalPosition.radius==e.radius&&this._lastFieldOfViewInDeg!=t&&(this._currentZoomLevel=v2(this._referenceFieldOfViewInRad)/t,console.log("FOV change",this._currentZoomLevel,v2(this._referenceFieldOfViewInRad),t),this.dispatchEvent(new CustomEvent("fov-based-zoom-changed",{detail:{zoomLevel:this._currentZoomLevel}}))),this._lastSphericalPosition=e,this._lastFieldOfViewInDeg=t}};Z1.styles=qA``,cW([Zn({type:Object})],Z1.prototype,"measurementTool",2),Z1=cW([WA("viewer-3d")],Z1);var uW,LO={exports:{}},I2e=LO.exports,M2e=(uW||(uW=1,function(i){function e(s){return new e.Viewer(s)}var t,n,r,o;(function(s){s.version={versionStr:"5.0.1",major:parseInt("5",10),minor:parseInt("0",10),revision:parseInt("1",10)};var a,l={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},c=Object.prototype.toString,u=Object.prototype.hasOwnProperty;s.isFunction=function(h){return s.type(h)==="function"},s.isArray=Array.isArray||function(h){return s.type(h)==="array"},s.isWindow=function(h){return h&&typeof h=="object"&&"setInterval"in h},s.type=function(h){return h==null?String(h):l[c.call(h)]||"object"},s.isPlainObject=function(h){if(!h||e.type(h)!=="object"||h.nodeType||s.isWindow(h)||h.constructor&&!u.call(h,"constructor")&&!u.call(h.constructor.prototype,"isPrototypeOf"))return!1;var d;for(var p in h)d=p;return d===void 0||u.call(h,d)},s.isEmptyObject=function(h){for(var d in h)return!1;return!0},s.freezeObject=function(h){return Object.freeze?s.freezeObject=Object.freeze:s.freezeObject=function(d){return d},s.freezeObject(h)},s.supportsCanvas=(a=document.createElement("canvas"),!(!s.isFunction(a.getContext)||!a.getContext("2d"))),s.isCanvasTainted=function(h){var d=!1;try{h.getContext("2d").getImageData(0,0,1,1)}catch{d=!0}return d},s.supportsAddEventListener=!(!document.documentElement.addEventListener||!document.addEventListener),s.supportsRemoveEventListener=!(!document.documentElement.removeEventListener||!document.removeEventListener),s.supportsEventListenerOptions=function(){var h=0;if(s.supportsAddEventListener)try{var d={get capture(){return h++,!1},get once(){return h++,!1},get passive(){return h++,!1}};window.addEventListener("test",null,d),window.removeEventListener("test",null,d)}catch{h=0}return h>=3}(),s.getCurrentPixelDensityRatio=function(){if(s.supportsCanvas){var h=document.createElement("canvas").getContext("2d"),d=window.devicePixelRatio||1,p=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return Math.max(d,1)/p}return 1},s.pixelDensityRatio=s.getCurrentPixelDensityRatio()})(e),function(s){s.extend=function(){var h,d,p,g,v,_,b=arguments[0]||{},x=arguments.length,C=!1,S=1;for(typeof b=="boolean"&&(C=b,b=arguments[1]||{},S=2),typeof b=="object"||e.isFunction(b)||(b={}),x===S&&(b=this,--S);S<x;S++)if((h=arguments[S])!==null||h!==void 0)for(d in h){var E=Object.getOwnPropertyDescriptor(h,d);E!==void 0?E.get||E.set?Object.defineProperty(b,d,E):b!==(g=E.value)&&(C&&g&&(e.isPlainObject(g)||(v=e.isArray(g)))?(p=b[d],v?(v=!1,_=p&&e.isArray(p)?p:[]):_=p&&e.isPlainObject(p)?p:{},b[d]=e.extend(C,_,g)):g!==void 0&&(b[d]=g)):s.console.warn('Could not copy inherited property "'+d+'".')}return b},s.extend(s,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:function(){if(typeof navigator!="object")return!1;var h=navigator.userAgent;return typeof h=="string"&&(h.indexOf("iPhone")!==-1||h.indexOf("iPad")!==-1||h.indexOf("iPod")!==-1)}(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,maxTilesPerFrame:1,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,overlayPreserveContentDirection:!0,opacity:1,compositeOperation:null,drawer:["webgl","canvas","html"],drawerOptions:{webgl:{},canvas:{},html:{},custom:{}},preload:!1,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},delegate:function(h,d){return function(){var p=arguments;return p===void 0&&(p=[]),d.apply(h,p)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(h){return s._viewers.get(this.getElement(h))},getElement:function(h){return typeof h=="string"&&(h=document.getElementById(h)),h},getElementPosition:function(h){var d,p,g=new s.Point;for(p=u(h=s.getElement(h),d=s.getElementStyle(h).position==="fixed");p;)g.x+=h.offsetLeft,g.y+=h.offsetTop,d&&(g=g.plus(s.getPageScroll())),p=u(h=p,d=s.getElementStyle(h).position==="fixed");return g},getElementOffset:function(h){var d,p,g=(h=s.getElement(h))&&h.ownerDocument,v={top:0,left:0};return g?(d=g.documentElement,h.getBoundingClientRect!==void 0&&(v=h.getBoundingClientRect()),p=g===g.window?g:g.nodeType===9&&(g.defaultView||g.parentWindow),new s.Point(v.left+(p.pageXOffset||d.scrollLeft)-(d.clientLeft||0),v.top+(p.pageYOffset||d.scrollTop)-(d.clientTop||0))):new s.Point},getElementSize:function(h){return h=s.getElement(h),new s.Point(h.clientWidth,h.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(h){return(h=s.getElement(h)).currentStyle}:function(h){return h=s.getElement(h),window.getComputedStyle(h,"")},getCssPropertyWithVendorPrefix:function(h){var d={};return s.getCssPropertyWithVendorPrefix=function(p){if(d[p]!==void 0)return d[p];var g=document.createElement("div").style,v=null;if(g[p]!==void 0)v=p;else for(var _=["Webkit","Moz","MS","O","webkit","moz","ms","o"],b=s.capitalizeFirstLetter(p),x=0;x<_.length;x++){var C=_[x]+b;if(g[C]!==void 0){v=C;break}}return d[p]=v,v},s.getCssPropertyWithVendorPrefix(h)},capitalizeFirstLetter:function(h){return h.charAt(0).toUpperCase()+h.slice(1)},positiveModulo:function(h,d){var p=h%d;return p<0&&(p+=d),p},pointInElement:function(h,d){h=s.getElement(h);var p=s.getElementOffset(h),g=s.getElementSize(h);return d.x>=p.x&&d.x<p.x+g.x&&d.y<p.y+g.y&&d.y>=p.y},getMousePosition:function(h){if(typeof h.pageX=="number")s.getMousePosition=function(d){var p=new s.Point;return p.x=d.pageX,p.y=d.pageY,p};else{if(typeof h.clientX!="number")throw new Error("Unknown event mouse position, no known technique.");s.getMousePosition=function(d){var p=new s.Point;return p.x=d.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,p.y=d.clientY+document.body.scrollTop+document.documentElement.scrollTop,p}}return s.getMousePosition(h)},getPageScroll:function(){var h=document.documentElement||{},d=document.body||{};if(typeof window.pageXOffset=="number")s.getPageScroll=function(){return new s.Point(window.pageXOffset,window.pageYOffset)};else if(d.scrollLeft||d.scrollTop)s.getPageScroll=function(){return new s.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!h.scrollLeft&&!h.scrollTop)return new s.Point(0,0);s.getPageScroll=function(){return new s.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return s.getPageScroll()},setPageScroll:function(h){if(window.scrollTo!==void 0)s.setPageScroll=function(g){window.scrollTo(g.x,g.y)};else{var d=s.getPageScroll();if(d.x===h.x&&d.y===h.y)return;document.body.scrollLeft=h.x,document.body.scrollTop=h.y;var p=s.getPageScroll();if(p.x!==d.x&&p.y!==d.y)return void(s.setPageScroll=function(g){document.body.scrollLeft=g.x,document.body.scrollTop=g.y});if(document.documentElement.scrollLeft=h.x,document.documentElement.scrollTop=h.y,(p=s.getPageScroll()).x!==d.x&&p.y!==d.y)return void(s.setPageScroll=function(g){document.documentElement.scrollLeft=g.x,document.documentElement.scrollTop=g.y});s.setPageScroll=function(g){}}s.setPageScroll(h)},getWindowSize:function(){var h=document.documentElement||{},d=document.body||{};if(typeof window.innerWidth=="number")s.getWindowSize=function(){return new s.Point(window.innerWidth,window.innerHeight)};else if(h.clientWidth||h.clientHeight)s.getWindowSize=function(){return new s.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!d.clientWidth&&!d.clientHeight)throw new Error("Unknown window size, no known technique.");s.getWindowSize=function(){return new s.Point(document.body.clientWidth,document.body.clientHeight)}}return s.getWindowSize()},makeCenteredNode:function(h){h=s.getElement(h);var d=[s.makeNeutralElement("div"),s.makeNeutralElement("div"),s.makeNeutralElement("div")];return s.extend(d[0].style,{display:"table",height:"100%",width:"100%"}),s.extend(d[1].style,{display:"table-row"}),s.extend(d[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),d[0].appendChild(d[1]),d[1].appendChild(d[2]),d[2].appendChild(h),d[0]},makeNeutralElement:function(h){var d=document.createElement(h),p=d.style;return p.background="transparent none",p.border="none",p.margin="0px",p.padding="0px",p.position="static",d},now:function(){return Date.now?s.now=Date.now:s.now=function(){return new Date().getTime()},s.now()},makeTransparentImage:function(h){var d=s.makeNeutralElement("img");return d.src=h,d},setElementOpacity:function(h,d,p){var g;h=s.getElement(h),p&&!s.Browser.alpha&&(d=Math.round(d)),s.Browser.opacity?h.style.opacity=d<1?d:"":d<1?(g="alpha(opacity="+Math.round(100*d)+")",h.style.filter=g):h.style.filter=""},setElementTouchActionNone:function(h){(h=s.getElement(h)).style.touchAction!==void 0?h.style.touchAction="none":h.style.msTouchAction!==void 0&&(h.style.msTouchAction="none")},setElementPointerEvents:function(h,d){(h=s.getElement(h)).style!==void 0&&h.style.pointerEvents!==void 0&&(h.style.pointerEvents=d)},setElementPointerEventsNone:function(h){s.setElementPointerEvents(h,"none")},addClass:function(h,d){(h=s.getElement(h)).className?(" "+h.className+" ").indexOf(" "+d+" ")===-1&&(h.className+=" "+d):h.className=d},indexOf:function(h,d,p){return Array.prototype.indexOf?this.indexOf=function(g,v,_){return g.indexOf(v,_)}:this.indexOf=function(g,v,_){var b,x,C=_||0;if(!g)throw new TypeError;if((x=g.length)===0||C>=x)return-1;for(C<0&&(C=x-Math.abs(C)),b=C;b<x;b++)if(g[b]===v)return b;return-1},this.indexOf(h,d,p)},removeClass:function(h,d){var p,g,v=[];for(p=(h=s.getElement(h)).className.split(/\s+/),g=0;g<p.length;g++)p[g]&&p[g]!==d&&v.push(p[g]);h.className=v.join(" ")},normalizeEventListenerOptions:function(h){return h!==void 0?typeof h=="boolean"?s.supportsEventListenerOptions?{capture:h}:h:s.supportsEventListenerOptions?h:h.capture!==void 0&&h.capture:!!s.supportsEventListenerOptions&&{capture:!1}},addEvent:function(){if(s.supportsAddEventListener)return function(h,d,p,g){g=s.normalizeEventListenerOptions(g),(h=s.getElement(h)).addEventListener(d,p,g)};if(document.documentElement.attachEvent&&document.attachEvent)return function(h,d,p){(h=s.getElement(h)).attachEvent("on"+d,p)};throw new Error("No known event model.")}(),removeEvent:function(){if(s.supportsRemoveEventListener)return function(h,d,p,g){g=s.normalizeEventListenerOptions(g),(h=s.getElement(h)).removeEventListener(d,p,g)};if(document.documentElement.detachEvent&&document.detachEvent)return function(h,d,p){(h=s.getElement(h)).detachEvent("on"+d,p)};throw new Error("No known event model.")}(),cancelEvent:function(h){h.preventDefault()},eventIsCanceled:function(h){return h.defaultPrevented},stopEvent:function(h){h.stopPropagation()},createCallback:function(h,d){console.error("The createCallback function is deprecated and will be removed in future versions. Please use alternativeFunction instead.");var p,g=[];for(p=2;p<arguments.length;p++)g.push(arguments[p]);return function(){var v,_=g.concat([]);for(v=0;v<arguments.length;v++)_.push(arguments[v]);return d.apply(h,_)}},getUrlParameter:function(h){return c[h]||null},getUrlProtocol:function(h){var d=h.match(/^([a-z]+:)\/\//i);return d===null?window.location.protocol:d[1].toLowerCase()},createAjaxRequest:function(){if(window.XMLHttpRequest)return s.createAjaxRequest=function(){return new XMLHttpRequest},new XMLHttpRequest;throw new Error("Browser doesn't support XMLHttpRequest.")},makeAjaxRequest:function(h,d,p){var g,v,_,b;s.isPlainObject(h)&&(d=h.success,p=h.error,g=h.withCredentials,v=h.headers,_=h.responseType||null,b=h.postData||null,h=h.url);var x=s.getUrlProtocol(h),C=s.createAjaxRequest();if(!s.isFunction(d))throw new Error("makeAjaxRequest requires a success callback");C.onreadystatechange=function(){C.readyState===4&&(C.onreadystatechange=function(){},C.status>=200&&C.status<300||C.status===0&&x!=="http:"&&x!=="https:"?d(C):s.isFunction(p)?p(C):s.console.error("AJAX request returned %d: %s",C.status,h))};var S=b?"POST":"GET";try{if(C.open(S,h,!0),_&&(C.responseType=_),v)for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&v[E]&&C.setRequestHeader(E,v[E]);g&&(C.withCredentials=!0),C.send(b)}catch(I){s.console.error("%s while making AJAX request: %s",I.name,I.message),C.onreadystatechange=function(){},s.isFunction(p)&&p(C,I)}return C},jsonp:function(h){var d,p=h.url,g=document.head||document.getElementsByTagName("head")[0]||document.documentElement,v=h.callbackName||"openseadragon"+s.now(),_=window[v],b="$1"+v+"$2",x=h.param||"callback",C=h.callback;p=p.replace(/(=)\?(&|$)|\?\?/i,b),p+=(/\?/.test(p)?"&":"?")+x+"="+v,window[v]=function(S){if(_)window[v]=_;else try{delete window[v]}catch{}C&&s.isFunction(C)&&C(S)},d=document.createElement("script"),h.async===void 0&&h.async===!1||(d.async="async"),h.scriptCharset&&(d.charset=h.scriptCharset),d.src=p,d.onload=d.onreadystatechange=function(S,E){(E||!d.readyState||/loaded|complete/.test(d.readyState))&&(d.onload=d.onreadystatechange=null,g&&d.parentNode&&g.removeChild(d),d=void 0)},g.insertBefore(d,g.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(h){if(!window.DOMParser)throw new Error("Browser doesn't support XML DOM.");return s.parseXml=function(d){return new DOMParser().parseFromString(d,"text/xml")},s.parseXml(h)},parseJSON:function(h){return s.parseJSON=window.JSON.parse,s.parseJSON(h)},imageFormatSupported:function(h){return!!l[(h=h||"").toLowerCase()]},setImageFormatsSupported:function(h){s.extend(l,h)}});var a=function(h){};s.console=window.console||{log:a,debug:a,info:a,warn:a,error:a,assert:a},s.Browser={vendor:s.BROWSERS.UNKNOWN,version:0,alpha:!0};var l={avif:!0,bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1,webp:!0},c={};function u(h,d){return d&&h!==document.body?document.body:h.offsetParent}(function(){var h=navigator.appVersion,d=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(s.Browser.vendor=s.BROWSERS.IE,s.Browser.version=parseFloat(d.substring(d.indexOf("MSIE")+5,d.indexOf(";",d.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(d.indexOf("Edge")>=0?(s.Browser.vendor=s.BROWSERS.EDGE,s.Browser.version=parseFloat(d.substring(d.indexOf("Edge")+5))):d.indexOf("Edg")>=0?(s.Browser.vendor=s.BROWSERS.CHROMEEDGE,s.Browser.version=parseFloat(d.substring(d.indexOf("Edg")+4))):d.indexOf("Firefox")>=0?(s.Browser.vendor=s.BROWSERS.FIREFOX,s.Browser.version=parseFloat(d.substring(d.indexOf("Firefox")+8))):d.indexOf("Safari")>=0?(s.Browser.vendor=d.indexOf("Chrome")>=0?s.BROWSERS.CHROME:s.BROWSERS.SAFARI,s.Browser.version=parseFloat(d.substring(d.substring(0,d.indexOf("Safari")).lastIndexOf("/")+1,d.indexOf("Safari")))):new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(d)!==null&&(s.Browser.vendor=s.BROWSERS.IE,s.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":s.Browser.vendor=s.BROWSERS.OPERA,s.Browser.version=parseFloat(h)}var p,g,v,_=window.location.search.substring(1).split("&");for(v=0;v<_.length;v++)if((g=(p=_[v]).indexOf("="))>0){var b=p.substring(0,g),x=p.substring(g+1);try{c[b]=decodeURIComponent(x)}catch{s.console.error("Ignoring malformed URL parameter: %s=%s",b,x)}}s.Browser.alpha=!(s.Browser.vendor===s.BROWSERS.CHROME&&s.Browser.version<2),s.Browser.opacity=!0,s.Browser.vendor===s.BROWSERS.IE&&s.console.error("Internet Explorer is not supported by OpenSeadragon")})(),function(h){var d=h.requestAnimationFrame||h.mozRequestAnimationFrame||h.webkitRequestAnimationFrame||h.msRequestAnimationFrame,p=h.cancelAnimationFrame||h.mozCancelAnimationFrame||h.webkitCancelAnimationFrame||h.msCancelAnimationFrame;if(d&&p)s.requestAnimationFrame=function(){return d.apply(h,arguments)},s.cancelAnimationFrame=function(){return p.apply(h,arguments)};else{var g,v=[],_=[],b=0;s.requestAnimationFrame=function(x){return v.push([++b,x]),g||(g=setInterval(function(){if(v.length){var C=s.now(),S=_;for(_=v,v=S;_.length;)_.shift()[1](C)}else clearInterval(g),g=void 0},20)),b},s.cancelAnimationFrame=function(x){var C,S;for(C=0,S=v.length;C<S;C+=1)if(v[C][0]===x)return void v.splice(C,1);for(C=0,S=_.length;C<S;C+=1)if(_[C][0]===x)return void _.splice(C,1)}}}(window)}(e),t=I2e,n=function(){return e},i.exports?i.exports=n():t.OpenSeadragon=n(),function(s){class a{constructor(c){c||(c=[0,0,0,0,0,0,0,0,0]),this.values=c}static makeIdentity(){return new a([1,0,0,0,1,0,0,0,1])}static makeTranslation(c,u){return new a([1,0,0,0,1,0,c,u,1])}static makeRotation(c){var u=Math.cos(c),h=Math.sin(c);return new a([u,-h,0,h,u,0,0,0,1])}static makeScaling(c,u){return new a([c,0,0,0,u,0,0,0,1])}multiply(c){let u=this.values,h=c.values;var d=u[0],p=u[1],g=u[2],v=u[3],_=u[4],b=u[5],x=u[6],C=u[7],S=u[8],E=h[0],I=h[1],M=h[2],k=h[3],F=h[4],P=h[5],Q=h[6],N=h[7],W=h[8];return new a([E*d+I*v+M*x,E*p+I*_+M*C,E*g+I*b+M*S,k*d+F*v+P*x,k*p+F*_+P*C,k*g+F*b+P*S,Q*d+N*v+W*x,Q*p+N*_+W*C,Q*g+N*b+W*S])}}s.Mat3=a}(e),r=e,o={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""},document.exitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.fullscreenElement},o.requestFullScreen=function(s){return s.requestFullscreen().catch(function(a){r.console.error("Fullscreen request failed: ",a)})},o.exitFullScreen=function(){document.exitFullscreen().catch(function(s){r.console.error("Error while exiting fullscreen: ",s)})},o.fullScreenEventName="fullscreenchange",o.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.msFullscreenElement},o.requestFullScreen=function(s){return s.msRequestFullscreen()},o.exitFullScreen=function(){document.msExitFullscreen()},o.fullScreenEventName="MSFullscreenChange",o.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitFullscreenElement},o.requestFullScreen=function(s){return s.webkitRequestFullscreen()},o.exitFullScreen=function(){document.webkitExitFullscreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},o.requestFullScreen=function(s){return s.webkitRequestFullScreen()},o.exitFullScreen=function(){document.webkitCancelFullScreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.mozFullScreenElement},o.requestFullScreen=function(s){return s.mozRequestFullScreen()},o.exitFullScreen=function(){document.mozCancelFullScreen()},o.fullScreenEventName="mozfullscreenchange",o.fullScreenErrorEventName="mozfullscreenerror"),o.isFullScreen=function(){return o.getFullScreenElement()!==null},o.cancelFullScreen=function(){r.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),o.exitFullScreen()},r.extend(r,o),function(s){s.EventSource=function(){this.events={},this._rejectedEventList={}},s.EventSource.prototype={addOnceHandler:function(a,l,c,u,h){var d=this;u=u||1;var p=0,g=function(v){return++p===u&&d.removeHandler(a,g),l(v)};return this.addHandler(a,g,c,h)},addHandler:function(a,l,c,u){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,a))return s.console.error(`Error adding handler for ${a}. ${this._rejectedEventList[a]}`),!1;var h=this.events[a];if(h||(this.events[a]=h=[]),l&&s.isFunction(l)){var d=h.length,p={handler:l,userData:c||null,priority:u||0};for(h[d]=p;d>0&&h[d-1].priority<h[d].priority;)h[d]=h[d-1],h[d-1]=p,d--}return!0},removeHandler:function(a,l){var c,u=this.events[a],h=[];if(u&&s.isArray(u)){for(c=0;c<u.length;c++)u[c].handler!==l&&h.push(u[c]);this.events[a]=h}},numberOfHandlers:function(a){var l=this.events[a];return l?l.length:0},removeAllHandlers:function(a){if(a)this.events[a]=[];else for(var l in this.events)this.events[l]=[]},getHandler:function(a){var l=this.events[a];return l&&l.length?(l=l.length===1?[l[0]]:Array.apply(null,l),function(c,u){var h,d=l.length;for(h=0;h<d;h++)l[h]&&(u.eventSource=c,u.userData=l[h].userData,l[h].handler(u))}):null},raiseEvent:function(a,l){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,a))return s.console.error(`Error adding handler for ${a}. ${this._rejectedEventList[a]}`),!1;var c=this.getHandler(a);return c&&c(this,l||{}),!0},rejectEventHandler(a,l=""){this._rejectedEventList[a]=l},allowEventHandler(a){delete this._rejectedEventList[a]}}}(e),function(s){var a={};s.MouseTracker=function(te){var H=arguments;s.isPlainObject(te)||(te={element:H[0],clickTimeThreshold:H[1],clickDistThreshold:H[2]}),this.hash=Math.random(),this.element=s.getElement(te.element),this.clickTimeThreshold=te.clickTimeThreshold||s.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=te.clickDistThreshold||s.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=te.dblClickTimeThreshold||s.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=te.dblClickDistThreshold||s.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=te.userData||null,this.stopDelay=te.stopDelay||50,this.preProcessEventHandler=te.preProcessEventHandler||null,this.contextMenuHandler=te.contextMenuHandler||null,this.enterHandler=te.enterHandler||null,this.leaveHandler=te.leaveHandler||null,this.exitHandler=te.exitHandler||null,this.overHandler=te.overHandler||null,this.outHandler=te.outHandler||null,this.pressHandler=te.pressHandler||null,this.nonPrimaryPressHandler=te.nonPrimaryPressHandler||null,this.releaseHandler=te.releaseHandler||null,this.nonPrimaryReleaseHandler=te.nonPrimaryReleaseHandler||null,this.moveHandler=te.moveHandler||null,this.scrollHandler=te.scrollHandler||null,this.clickHandler=te.clickHandler||null,this.dblClickHandler=te.dblClickHandler||null,this.dragHandler=te.dragHandler||null,this.dragEndHandler=te.dragEndHandler||null,this.pinchHandler=te.pinchHandler||null,this.stopHandler=te.stopHandler||null,this.keyDownHandler=te.keyDownHandler||null,this.keyUpHandler=te.keyUpHandler||null,this.keyHandler=te.keyHandler||null,this.focusHandler=te.focusHandler||null,this.blurHandler=te.blurHandler||null;var le=this;a[this.hash]={click:function(U){var z,j;Ae(le,j={originalEvent:z=U,eventType:"click",pointerType:"mouse",isEmulated:!1}),j.preventDefault&&!j.defaultPrevented&&s.cancelEvent(z),j.stopPropagation&&s.stopEvent(z)},dblclick:function(U){var z,j;Ae(le,j={originalEvent:z=U,eventType:"dblclick",pointerType:"mouse",isEmulated:!1}),j.preventDefault&&!j.defaultPrevented&&s.cancelEvent(z),j.stopPropagation&&s.stopEvent(z)},keydown:function(U){var z,j,re,ae;re=null,Ae(z=le,ae={originalEvent:j=U,eventType:"keydown",pointerType:"",isEmulated:!1}),!z.keyDownHandler||ae.preventGesture||ae.defaultPrevented||(re={eventSource:z,keyCode:j.keyCode?j.keyCode:j.charCode,ctrl:j.ctrlKey,shift:j.shiftKey,alt:j.altKey,meta:j.metaKey,originalEvent:j,preventDefault:ae.preventDefault||ae.defaultPrevented,userData:z.userData},z.keyDownHandler(re)),(re&&re.preventDefault||ae.preventDefault&&!ae.defaultPrevented)&&s.cancelEvent(j),ae.stopPropagation&&s.stopEvent(j)},keyup:function(U){var z,j,re,ae;re=null,Ae(z=le,ae={originalEvent:j=U,eventType:"keyup",pointerType:"",isEmulated:!1}),!z.keyUpHandler||ae.preventGesture||ae.defaultPrevented||(re={eventSource:z,keyCode:j.keyCode?j.keyCode:j.charCode,ctrl:j.ctrlKey,shift:j.shiftKey,alt:j.altKey,meta:j.metaKey,originalEvent:j,preventDefault:ae.preventDefault||ae.defaultPrevented,userData:z.userData},z.keyUpHandler(re)),(re&&re.preventDefault||ae.preventDefault&&!ae.defaultPrevented)&&s.cancelEvent(j),ae.stopPropagation&&s.stopEvent(j)},keypress:function(U){var z,j,re,ae;re=null,Ae(z=le,ae={originalEvent:j=U,eventType:"keypress",pointerType:"",isEmulated:!1}),!z.keyHandler||ae.preventGesture||ae.defaultPrevented||(re={eventSource:z,keyCode:j.keyCode?j.keyCode:j.charCode,ctrl:j.ctrlKey,shift:j.shiftKey,alt:j.altKey,meta:j.metaKey,originalEvent:j,preventDefault:ae.preventDefault||ae.defaultPrevented,userData:z.userData},z.keyHandler(re)),(re&&re.preventDefault||ae.preventDefault&&!ae.defaultPrevented)&&s.cancelEvent(j),ae.stopPropagation&&s.stopEvent(j)},focus:function(U){var z,j,re;Ae(z=le,re={originalEvent:j=U,eventType:"focus",pointerType:"",isEmulated:!1}),z.focusHandler&&!re.preventGesture&&z.focusHandler({eventSource:z,originalEvent:j,userData:z.userData})},blur:function(U){var z,j,re;Ae(z=le,re={originalEvent:j=U,eventType:"blur",pointerType:"",isEmulated:!1}),z.blurHandler&&!re.preventGesture&&z.blurHandler({eventSource:z,originalEvent:j,userData:z.userData})},contextmenu:function(U){var z,j,re,ae;re=null,Ae(z=le,ae={originalEvent:j=U,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1}),!z.contextMenuHandler||ae.preventGesture||ae.defaultPrevented||(re={eventSource:z,position:P(k(j),z.element),originalEvent:ae.originalEvent,preventDefault:ae.preventDefault||ae.defaultPrevented,userData:z.userData},z.contextMenuHandler(re)),(re&&re.preventDefault||ae.preventDefault&&!ae.defaultPrevented)&&s.cancelEvent(j),ae.stopPropagation&&s.stopEvent(j)},wheel:function(U){var z;W(le,z=U,z)},mousewheel:function(U){N(le,U)},DOMMouseScroll:function(U){N(le,U)},MozMousePixelScroll:function(U){N(le,U)},losecapture:function(U){var z,j,re,ae;z=le,j=U,re={id:s.MouseTracker.mousePointerId,type:"mouse"},Ae(z,ae={originalEvent:j,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1}),j.target===z.element&&we(z,re,!1),ae.stopPropagation&&s.stopEvent(j)},mouseenter:function(U){q(le,U)},mouseleave:function(U){J(le,U)},mouseover:function(U){V(le,U)},mouseout:function(U){Y(le,U)},mousedown:function(U){Z(le,U)},mouseup:function(U){ue(le,U)},mousemove:function(U){ee(le,U)},touchstart:function(U){(function(z,j){var re,ae,X,G=j.changedTouches.length,ce=z.getActivePointersListByType("touch");re=s.now(),ce.getLength()>j.touches.length-G&&s.console.warn("Tracked touch contact count doesn't match event.touches.length");var Te={originalEvent:j,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(Ae(z,Te),ae=0;ae<G;ae++)xe(z,Te,X={id:j.changedTouches[ae].identifier,type:"touch",isPrimary:ce.getLength()===0,currentPos:k(j.changedTouches[ae]),currentTime:re}),Re(z,Te,X,0),we(z,X,!0);Te.preventDefault&&!Te.defaultPrevented&&s.cancelEvent(j),Te.stopPropagation&&s.stopEvent(j)})(le,U)},touchend:function(U){(function(z,j){var re,ae,X,G=j.changedTouches.length;re=s.now();var ce={originalEvent:j,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(Ae(z,ce),ae=0;ae<G;ae++)ke(z,ce,X={id:j.changedTouches[ae].identifier,type:"touch",currentPos:k(j.changedTouches[ae]),currentTime:re},0),we(z,X,!1),Be(z,ce,X);ce.preventDefault&&!ce.defaultPrevented&&s.cancelEvent(j),ce.stopPropagation&&s.stopEvent(j)})(le,U)},touchmove:function(U){(function(z,j){var re,ae,X=j.changedTouches.length;re=s.now();var G={originalEvent:j,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(Ae(z,G),ae=0;ae<X;ae++)Pe(z,G,{id:j.changedTouches[ae].identifier,type:"touch",currentPos:k(j.changedTouches[ae]),currentTime:re});G.preventDefault&&!G.defaultPrevented&&s.cancelEvent(j),G.stopPropagation&&s.stopEvent(j)})(le,U)},touchcancel:function(U){(function(z,j){var re,ae=j.changedTouches.length,X={originalEvent:j,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(Ae(z,X),re=0;re<ae;re++)ve(z,0,{id:j.changedTouches[re].identifier,type:"touch"});X.stopPropagation&&s.stopEvent(j)})(le,U)},gesturestart:function(U){var z;z=U,s.eventIsCanceled(z)||z.preventDefault()},gesturechange:function(U){var z;z=U,s.eventIsCanceled(z)||z.preventDefault()},gotpointercapture:function(U){var z,j,re;z=le,re={originalEvent:j=U,eventType:"gotpointercapture",pointerType:I(j),isEmulated:!1},Ae(z,re),j.target===z.element&&we(z,{id:j.pointerId,type:I(j)},!0),re.stopPropagation&&s.stopEvent(j)},lostpointercapture:function(U){var z,j,re;z=le,re={originalEvent:j=U,eventType:"lostpointercapture",pointerType:I(j),isEmulated:!1},Ae(z,re),j.target===z.element&&we(z,{id:j.pointerId,type:I(j)},!1),re.stopPropagation&&s.stopEvent(j)},pointerenter:function(U){q(le,U)},pointerleave:function(U){J(le,U)},pointerover:function(U){V(le,U)},pointerout:function(U){Y(le,U)},pointerdown:function(U){Z(le,U)},pointerup:function(U){ue(le,U)},pointermove:function(U){ee(le,U)},pointercancel:function(U){var z,j,re,ae;z=le,re={id:(j=U).pointerId,type:I(j)},Ae(z,ae={originalEvent:j,eventType:"pointercancel",pointerType:re.type,isEmulated:!1}),ve(z,0,re),ae.stopPropagation&&s.stopEvent(j)},pointerupcaptured:function(U){var z,j;j=U,(z=le).getActivePointersListByType(I(j)).getById(j.pointerId)&&$(z,j),s.stopEvent(j)},pointermovecaptured:function(U){var z,j;j=U,(z=le).getActivePointersListByType(I(j)).getById(j.pointerId)&&oe(z,j),s.stopEvent(j)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,s.MouseTracker.havePointerEvents&&s.setElementPointerEvents(this.element,"auto"),this.exitHandler&&s.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),te.startDisabled||this.setTracking(!0)},s.MouseTracker.prototype={destroy:function(){x(this),this.element=null,a[this.hash]=null,delete a[this.hash]},isTracking:function(){return a[this.hash].tracking},setTracking:function(te){return te?function(H){var le,U,z=a[H.hash];if(!z.tracking){for(U=0;U<s.MouseTracker.subscribeEvents.length;U++)le=s.MouseTracker.subscribeEvents[U],s.addEvent(H.element,le,z[le],le===s.MouseTracker.wheelEventName&&{passive:!1,capture:!1});b(H),z.tracking=!0}}(this):x(this),this},getActivePointersListByType:function(te){var H,le,U=a[this.hash],z=U?U.activePointersLists.length:0;for(H=0;H<z;H++)if(U.activePointersLists[H].type===te)return U.activePointersLists[H];return le=new s.MouseTracker.GesturePointList(te),U&&U.activePointersLists.push(le),le},getActivePointerCount:function(){var te,H=a[this.hash],le=H.activePointersLists.length,U=0;for(te=0;te<le;te++)U+=H.activePointersLists[te].getLength();return U},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var l,c,u,h,d,p,g,v=function(){try{return window.self!==window.top}catch{return!0}}();function _(te){try{return te.addEventListener&&te.removeEventListener}catch{return!1}}function b(te){var H,le,U,z,j,re=a[te.hash],ae=re.activePointersLists.length;for(H=0;H<ae;H++)if((U=re.activePointersLists[H]).getLength()>0){for(j=[],z=U.asArray(),le=0;le<z.length;le++)j.push(z[le]);for(le=0;le<j.length;le++)se(te,U,j[le])}for(H=0;H<ae;H++)re.activePointersLists.pop();re.sentDragEvent=!1}function x(te){var H,le,U=a[te.hash];if(U.tracking){for(le=0;le<s.MouseTracker.subscribeEvents.length;le++)H=s.MouseTracker.subscribeEvents[le],s.removeEvent(te.element,H,U[H],!1);b(te),U.tracking=!1}}function C(te,H){var le=a[te.hash];if(H==="pointerevent")return{upName:"pointerup",upHandler:le.pointerupcaptured,moveName:"pointermove",moveHandler:le.pointermovecaptured};if(H==="mouse")return{upName:"pointerup",upHandler:le.pointerupcaptured,moveName:"pointermove",moveHandler:le.pointermovecaptured};if(H==="touch")return{upName:"touchend",upHandler:le.touchendcaptured,moveName:"touchmove",moveHandler:le.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function S(te,H){var le,U;if(s.MouseTracker.havePointerCapture)if(s.MouseTracker.havePointerEvents){if(!(U=te.getActivePointersListByType(H.type).getById(H.id))||!U.captured)return;try{te.element.releasePointerCapture(H.id)}catch{}}else te.element.releaseCapture();else le=C(te,s.MouseTracker.havePointerEvents?"pointerevent":H.type),v&&_(window.top)&&s.removeEvent(window.top,le.upName,le.upHandler,!0),s.removeEvent(s.MouseTracker.captureElement,le.moveName,le.moveHandler,!0),s.removeEvent(s.MouseTracker.captureElement,le.upName,le.upHandler,!0);we(te,H,!1)}function E(te){return s.MouseTracker.havePointerEvents?te.pointerId:s.MouseTracker.mousePointerId}function I(te){return s.MouseTracker.havePointerEvents&&te.pointerType?te.pointerType:"mouse"}function M(te){return!s.MouseTracker.havePointerEvents||te.isPrimary}function k(te){return s.getMousePosition(te)}function F(te,H){return P(k(te),H)}function P(te,H){var le=s.getElementOffset(H);return te.minus(le)}function Q(te,H){return new s.Point((te.x+H.x)/2,(te.y+H.y)/2)}function N(te,H){var le={target:H.target||H.srcElement,type:"wheel",shiftKey:H.shiftKey||!1,clientX:H.clientX,clientY:H.clientY,pageX:H.pageX?H.pageX:H.clientX,pageY:H.pageY?H.pageY:H.clientY,deltaMode:H.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};s.MouseTracker.wheelEventName==="mousewheel"?le.deltaY=-H.wheelDelta/s.DEFAULT_SETTINGS.pixelsPerWheelLine:le.deltaY=H.detail,W(te,le,H)}function W(te,H,le){var U,z,j=null;U=H.deltaY?H.deltaY<0?1:-1:0,Ae(te,z={originalEvent:H,eventType:"wheel",pointerType:"mouse",isEmulated:H!==le}),!te.scrollHandler||z.preventGesture||z.defaultPrevented||(j={eventSource:te,pointerType:"mouse",position:F(H,te.element),scroll:U,shift:H.shiftKey,isTouchEvent:!1,originalEvent:le,preventDefault:z.preventDefault||z.defaultPrevented,userData:te.userData},te.scrollHandler(j)),z.stopPropagation&&s.stopEvent(le),(j&&j.preventDefault||z.preventDefault&&!z.defaultPrevented)&&s.cancelEvent(le)}function q(te,H){var le={id:E(H),type:I(H),isPrimary:M(H),currentPos:k(H),currentTime:s.now()},U={originalEvent:H,eventType:"pointerenter",pointerType:le.type,isEmulated:!1};Ae(te,U),xe(te,U,le)}function J(te,H){var le={id:E(H),type:I(H),isPrimary:M(H),currentPos:k(H),currentTime:s.now()},U={originalEvent:H,eventType:"pointerleave",pointerType:le.type,isEmulated:!1};Ae(te,U),Be(te,U,le)}function V(te,H){var le,U,z,j,re,ae={id:E(H),type:I(H),isPrimary:M(H),currentPos:k(H),currentTime:s.now()},X={originalEvent:H,eventType:"pointerover",pointerType:ae.type,isEmulated:!1};Ae(te,X),U=X,z=ae,(re=(j=(le=te).getActivePointersListByType(z.type)).getById(z.id))?z=re:(z.captured=!1,z.insideElementPressed=!1),le.overHandler&&le.overHandler({eventSource:le,pointerType:z.type,position:P(z.currentPos,le.element),buttons:j.buttons,pointers:le.getActivePointerCount(),insideElementPressed:z.insideElementPressed,buttonDownAny:j.buttons!==0,isTouchEvent:z.type==="touch",originalEvent:U.originalEvent,userData:le.userData}),X.preventDefault&&!X.defaultPrevented&&s.cancelEvent(H),X.stopPropagation&&s.stopEvent(H)}function Y(te,H){var le,U,z,j,re,ae={id:E(H),type:I(H),isPrimary:M(H),currentPos:k(H),currentTime:s.now()},X={originalEvent:H,eventType:"pointerout",pointerType:ae.type,isEmulated:!1};Ae(te,X),U=X,z=ae,(re=(j=(le=te).getActivePointersListByType(z.type)).getById(z.id))?z=re:(z.captured=!1,z.insideElementPressed=!1),le.outHandler&&le.outHandler({eventSource:le,pointerType:z.type,position:z.currentPos&&P(z.currentPos,le.element),buttons:j.buttons,pointers:le.getActivePointerCount(),insideElementPressed:z.insideElementPressed,buttonDownAny:j.buttons!==0,isTouchEvent:z.type==="touch",originalEvent:U.originalEvent,userData:le.userData}),X.preventDefault&&!X.defaultPrevented&&s.cancelEvent(H),X.stopPropagation&&s.stopEvent(H)}function Z(te,H){var le={id:E(H),type:I(H),isPrimary:M(H),currentPos:k(H),currentTime:s.now()},U=s.MouseTracker.havePointerEvents&&le.type==="touch",z={originalEvent:H,eventType:"pointerdown",pointerType:le.type,isEmulated:!1};Ae(te,z),Re(te,z,le,H.button),z.preventDefault&&!z.defaultPrevented&&s.cancelEvent(H),z.stopPropagation&&s.stopEvent(H),z.shouldCapture&&(U?we(te,le,!0):function(j,re){var ae;if(s.MouseTracker.havePointerCapture)if(s.MouseTracker.havePointerEvents)try{j.element.setPointerCapture(re.id)}catch{return void s.console.warn("setPointerCapture() called on invalid pointer ID")}else j.element.setCapture(!0);else ae=C(j,s.MouseTracker.havePointerEvents?"pointerevent":re.type),v&&_(window.top)&&s.addEvent(window.top,ae.upName,ae.upHandler,!0),s.addEvent(s.MouseTracker.captureElement,ae.upName,ae.upHandler,!0),s.addEvent(s.MouseTracker.captureElement,ae.moveName,ae.moveHandler,!0);we(j,re,!0)}(te,le))}function ue(te,H){$(te,H)}function $(te,H){var le,U={originalEvent:H,eventType:"pointerup",pointerType:(le={id:E(H),type:I(H),isPrimary:M(H),currentPos:k(H),currentTime:s.now()}).type,isEmulated:!1};Ae(te,U),ke(te,U,le,H.button),U.preventDefault&&!U.defaultPrevented&&s.cancelEvent(H),U.stopPropagation&&s.stopEvent(H),U.shouldReleaseCapture&&(H.target===te.element?S(te,le):we(te,le,!1))}function ee(te,H){oe(te,H)}function oe(te,H){var le={id:E(H),type:I(H),isPrimary:M(H),currentPos:k(H),currentTime:s.now()},U={originalEvent:H,eventType:"pointermove",pointerType:le.type,isEmulated:!1};Ae(te,U),Pe(te,U,le),U.preventDefault&&!U.defaultPrevented&&s.cancelEvent(H),U.stopPropagation&&s.stopEvent(H)}function ge(te,H){return H.speed=0,H.direction=0,H.contactPos=H.currentPos,H.contactTime=H.currentTime,H.lastPos=H.currentPos,H.lastTime=H.currentTime,te.add(H)}function se(te,H,le){var U,z=H.getById(le.id);return z?(z.captured&&(s.console.warn("stopTrackingPointer() called on captured pointer"),S(te,z)),H.removeContact(),U=H.removeById(le.id)):U=H.getLength(),U}function Ae(te,H){H.eventSource=te,H.eventPhase=H.originalEvent&&H.originalEvent.eventPhase!==void 0?H.originalEvent.eventPhase:0,H.defaultPrevented=s.eventIsCanceled(H.originalEvent),H.shouldCapture=!1,H.shouldReleaseCapture=!1,H.userData=te.userData,function(le,U){switch(U.eventType){case"pointermove":case"pointerdown":case"pointerup":U.isStoppable=!0,U.isCancelable=!0,U.preventDefault=!1,U.preventGesture=!le.hasGestureHandlers,U.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":U.isStoppable=!0,U.isCancelable=!0,U.preventDefault=!1,U.preventGesture=!1,U.stopPropagation=!1;break;case"wheel":U.isStoppable=!0,U.isCancelable=!0,U.preventDefault=!1,U.preventGesture=!le.hasScrollHandler,U.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":U.isStoppable=!0,U.isCancelable=!1,U.preventDefault=!1,U.preventGesture=!1,U.stopPropagation=!1;break;case"click":U.isStoppable=!0,U.isCancelable=!0,U.preventDefault=!!le.clickHandler,U.preventGesture=!1,U.stopPropagation=!1;break;case"dblclick":U.isStoppable=!0,U.isCancelable=!0,U.preventDefault=!!le.dblClickHandler,U.preventGesture=!1,U.stopPropagation=!1;break;default:U.isStoppable=!1,U.isCancelable=!1,U.preventDefault=!1,U.preventGesture=!1,U.stopPropagation=!1}}(te,H),te.preProcessEventHandler&&te.preProcessEventHandler(H)}function we(te,H,le){var U=te.getActivePointersListByType(H.type),z=U.getById(H.id);z?le&&!z.captured?(z.captured=!0,U.captureCount++):!le&&z.captured&&(z.captured=!1,U.captureCount--,U.captureCount<0&&(U.captureCount=0,s.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):s.console.warn("updatePointerCaptured() called on untracked pointer")}function xe(te,H,le){var U,z=te.getActivePointersListByType(le.type);(U=z.getById(le.id))?(U.insideElement=!0,U.lastPos=U.currentPos,U.lastTime=U.currentTime,U.currentPos=le.currentPos,U.currentTime=le.currentTime,le=U):(le.captured=!1,le.insideElementPressed=!1,le.insideElement=!0,ge(z,le)),te.enterHandler&&te.enterHandler({eventSource:te,pointerType:le.type,position:P(le.currentPos,te.element),buttons:z.buttons,pointers:te.getActivePointerCount(),insideElementPressed:le.insideElementPressed,buttonDownAny:z.buttons!==0,isTouchEvent:le.type==="touch",originalEvent:H.originalEvent,userData:te.userData})}function Be(te,H,le){var U,z,j=te.getActivePointersListByType(le.type);(U=j.getById(le.id))?(U.captured?(U.insideElement=!1,U.lastPos=U.currentPos,U.lastTime=U.currentTime,U.currentPos=le.currentPos,U.currentTime=le.currentTime):se(te,j,U),le=U):(le.captured=!1,le.insideElementPressed=!1),(te.leaveHandler||te.exitHandler)&&(z={eventSource:te,pointerType:le.type,position:le.currentPos&&P(le.currentPos,te.element),buttons:j.buttons,pointers:te.getActivePointerCount(),insideElementPressed:le.insideElementPressed,buttonDownAny:j.buttons!==0,isTouchEvent:le.type==="touch",originalEvent:H.originalEvent,userData:te.userData},te.leaveHandler&&te.leaveHandler(z),te.exitHandler&&te.exitHandler(z))}function Re(te,H,le,U){var z,j=a[te.hash],re=te.getActivePointersListByType(le.type);if(H.originalEvent.buttons!==void 0?re.buttons=H.originalEvent.buttons:U===0?re.buttons|=1:U===1?re.buttons|=4:U===2?re.buttons|=2:U===3?re.buttons|=8:U===4?re.buttons|=16:U===5&&(re.buttons|=32),U!==0)return H.shouldCapture=!1,H.shouldReleaseCapture=!1,void(!te.nonPrimaryPressHandler||H.preventGesture||H.defaultPrevented||(H.preventDefault=!0,te.nonPrimaryPressHandler({eventSource:te,pointerType:le.type,position:P(le.currentPos,te.element),button:U,buttons:re.buttons,isTouchEvent:le.type==="touch",originalEvent:H.originalEvent,userData:te.userData})));(z=re.getById(le.id))?(z.insideElementPressed=!0,z.insideElement=!0,z.originalTarget=H.originalEvent.target,z.contactPos=le.currentPos,z.contactTime=le.currentTime,z.lastPos=z.currentPos,z.lastTime=z.currentTime,z.currentPos=le.currentPos,z.currentTime=le.currentTime,le=z):(le.captured=!1,le.insideElementPressed=!0,le.insideElement=!0,le.originalTarget=H.originalEvent.target,ge(re,le)),re.addContact(),H.preventGesture||H.defaultPrevented?(H.shouldCapture=!1,H.shouldReleaseCapture=!1):(H.shouldCapture=!0,H.shouldReleaseCapture=!1,H.preventDefault=!0,(te.dragHandler||te.dragEndHandler||te.pinchHandler)&&s.MouseTracker.gesturePointVelocityTracker.addPoint(te,le),re.contacts===1?te.pressHandler&&!H.preventGesture&&te.pressHandler({eventSource:te,pointerType:le.type,position:P(le.contactPos,te.element),buttons:re.buttons,isTouchEvent:le.type==="touch",originalEvent:H.originalEvent,userData:te.userData}):re.contacts===2&&te.pinchHandler&&le.type==="touch"&&(j.pinchGPoints=re.asArray(),j.lastPinchDist=j.currentPinchDist=j.pinchGPoints[0].currentPos.distanceTo(j.pinchGPoints[1].currentPos),j.lastPinchCenter=j.currentPinchCenter=Q(j.pinchGPoints[0].currentPos,j.pinchGPoints[1].currentPos)))}function ke(te,H,le,U){var z,j,re,ae,X=a[te.hash],G=te.getActivePointersListByType(le.type),ce=!1;if(H.originalEvent.buttons!==void 0?G.buttons=H.originalEvent.buttons:U===0?G.buttons^=-2:U===1?G.buttons^=-5:U===2?G.buttons^=-3:U===3?G.buttons^=-9:U===4?G.buttons^=-17:U===5&&(G.buttons^=-33),H.shouldCapture=!1,U!==0)return H.shouldReleaseCapture=!1,void(!te.nonPrimaryReleaseHandler||H.preventGesture||H.defaultPrevented||(H.preventDefault=!0,te.nonPrimaryReleaseHandler({eventSource:te,pointerType:le.type,position:P(le.currentPos,te.element),button:U,buttons:G.buttons,isTouchEvent:le.type==="touch",originalEvent:H.originalEvent,userData:te.userData})));(re=G.getById(le.id))?(G.removeContact(),re.captured&&(ce=!0),re.lastPos=re.currentPos,re.lastTime=re.currentTime,re.currentPos=le.currentPos,re.currentTime=le.currentTime,re.insideElement||se(te,G,re),z=re.currentPos,j=re.currentTime):(le.captured=!1,le.insideElementPressed=!1,le.insideElement=!0,ge(G,le),re=le),H.preventGesture||H.defaultPrevented||(ce?(H.shouldReleaseCapture=!0,H.preventDefault=!0,(te.dragHandler||te.dragEndHandler||te.pinchHandler)&&s.MouseTracker.gesturePointVelocityTracker.removePoint(te,re),G.contacts===0?(te.releaseHandler&&z&&te.releaseHandler({eventSource:te,pointerType:re.type,position:P(z,te.element),buttons:G.buttons,insideElementPressed:re.insideElementPressed,insideElementReleased:re.insideElement,isTouchEvent:re.type==="touch",originalEvent:H.originalEvent,userData:te.userData}),te.dragEndHandler&&X.sentDragEvent&&te.dragEndHandler({eventSource:te,pointerType:re.type,position:P(re.currentPos,te.element),speed:re.speed,direction:re.direction,shift:H.originalEvent.shiftKey,isTouchEvent:re.type==="touch",originalEvent:H.originalEvent,userData:te.userData}),X.sentDragEvent=!1,(te.clickHandler||te.dblClickHandler)&&re.insideElement&&(ae=j-re.contactTime<=te.clickTimeThreshold&&re.contactPos.distanceTo(z)<=te.clickDistThreshold,te.clickHandler&&te.clickHandler({eventSource:te,pointerType:re.type,position:P(re.currentPos,te.element),quick:ae,shift:H.originalEvent.shiftKey,isTouchEvent:re.type==="touch",originalEvent:H.originalEvent,originalTarget:re.originalTarget,userData:te.userData}),te.dblClickHandler&&ae&&(G.clicks++,G.clicks===1?(X.lastClickPos=z,X.dblClickTimeOut=setTimeout(function(){G.clicks=0},te.dblClickTimeThreshold)):G.clicks===2&&(clearTimeout(X.dblClickTimeOut),G.clicks=0,X.lastClickPos.distanceTo(z)<=te.dblClickDistThreshold&&te.dblClickHandler({eventSource:te,pointerType:re.type,position:P(re.currentPos,te.element),shift:H.originalEvent.shiftKey,isTouchEvent:re.type==="touch",originalEvent:H.originalEvent,userData:te.userData}),X.lastClickPos=null)))):G.contacts===2&&te.pinchHandler&&re.type==="touch"&&(X.pinchGPoints=G.asArray(),X.lastPinchDist=X.currentPinchDist=X.pinchGPoints[0].currentPos.distanceTo(X.pinchGPoints[1].currentPos),X.lastPinchCenter=X.currentPinchCenter=Q(X.pinchGPoints[0].currentPos,X.pinchGPoints[1].currentPos))):(H.shouldReleaseCapture=!1,te.releaseHandler&&z&&(te.releaseHandler({eventSource:te,pointerType:re.type,position:P(z,te.element),buttons:G.buttons,insideElementPressed:re.insideElementPressed,insideElementReleased:re.insideElement,isTouchEvent:re.type==="touch",originalEvent:H.originalEvent,userData:te.userData}),H.preventDefault=!0)))}function Pe(te,H,le){var U,z,j,re=a[te.hash],ae=te.getActivePointersListByType(le.type);H.originalEvent.buttons!==void 0&&(ae.buttons=H.originalEvent.buttons),(U=ae.getById(le.id))&&(U.lastPos=U.currentPos,U.lastTime=U.currentTime,U.currentPos=le.currentPos,U.currentTime=le.currentTime,H.shouldCapture=!1,H.shouldReleaseCapture=!1,te.stopHandler&&le.type==="mouse"&&(clearTimeout(te.stopTimeOut),te.stopTimeOut=setTimeout(function(){var X,G,ce;X=te,G=H.originalEvent,ce=le.type,X.stopHandler&&X.stopHandler({eventSource:X,pointerType:ce,position:F(G,X.element),buttons:X.getActivePointersListByType(ce).buttons,isTouchEvent:ce==="touch",originalEvent:G,userData:X.userData})},te.stopDelay)),ae.contacts===0?te.moveHandler&&te.moveHandler({eventSource:te,pointerType:le.type,position:P(le.currentPos,te.element),buttons:ae.buttons,isTouchEvent:le.type==="touch",originalEvent:H.originalEvent,userData:te.userData}):ae.contacts===1?(te.moveHandler&&(U=ae.asArray()[0],te.moveHandler({eventSource:te,pointerType:U.type,position:P(U.currentPos,te.element),buttons:ae.buttons,isTouchEvent:U.type==="touch",originalEvent:H.originalEvent,userData:te.userData})),!te.dragHandler||H.preventGesture||H.defaultPrevented||(j=(U=ae.asArray()[0]).currentPos.minus(U.lastPos),te.dragHandler({eventSource:te,pointerType:U.type,position:P(U.currentPos,te.element),buttons:ae.buttons,delta:j,speed:U.speed,direction:U.direction,shift:H.originalEvent.shiftKey,isTouchEvent:U.type==="touch",originalEvent:H.originalEvent,userData:te.userData}),H.preventDefault=!0,re.sentDragEvent=!0)):ae.contacts===2&&(te.moveHandler&&(z=ae.asArray(),te.moveHandler({eventSource:te,pointerType:z[0].type,position:P(Q(z[0].currentPos,z[1].currentPos),te.element),buttons:ae.buttons,isTouchEvent:z[0].type==="touch",originalEvent:H.originalEvent,userData:te.userData})),!te.pinchHandler||le.type!=="touch"||H.preventGesture||H.defaultPrevented||(j=re.pinchGPoints[0].currentPos.distanceTo(re.pinchGPoints[1].currentPos))!==re.currentPinchDist&&(re.lastPinchDist=re.currentPinchDist,re.currentPinchDist=j,re.lastPinchCenter=re.currentPinchCenter,re.currentPinchCenter=Q(re.pinchGPoints[0].currentPos,re.pinchGPoints[1].currentPos),te.pinchHandler({eventSource:te,pointerType:"touch",gesturePoints:re.pinchGPoints,lastCenter:P(re.lastPinchCenter,te.element),center:P(re.currentPinchCenter,te.element),lastDistance:re.lastPinchDist,distance:re.currentPinchDist,shift:H.originalEvent.shiftKey,originalEvent:H.originalEvent,userData:te.userData}),H.preventDefault=!0)))}function ve(te,H,le){var U,z=te.getActivePointersListByType(le.type);(U=z.getById(le.id))&&se(te,z,U)}s.MouseTracker.gesturePointVelocityTracker=(l=[],c=0,u=0,h=function(te,H){return te.hash.toString()+H.type+H.id.toString()},d=function(){var te,H,le,U,z,j,re=l.length,ae=s.now();for(U=ae-u,u=ae,te=0;te<re;te++)(le=(H=l[te]).gPoint).direction=Math.atan2(le.currentPos.y-H.lastPos.y,le.currentPos.x-H.lastPos.x),z=H.lastPos.distanceTo(le.currentPos),H.lastPos=le.currentPos,j=1e3*z/(U+1),le.speed=.75*j+.25*le.speed},{addPoint:function(te,H){var le=h(te,H);l.push({guid:le,gPoint:H,lastPos:H.currentPos}),l.length===1&&(u=s.now(),c=window.setInterval(d,50))},removePoint:function(te,H){var le,U=h(te,H),z=l.length;for(le=0;le<z;le++)if(l[le].guid===U){l.splice(le,1),--z==0&&window.clearInterval(c);break}}}),s.MouseTracker.captureElement=document,s.MouseTracker.wheelEventName="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",s.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",s.MouseTracker.wheelEventName],s.MouseTracker.wheelEventName==="DOMMouseScroll"&&s.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(s.MouseTracker.havePointerEvents=!0,s.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),s.MouseTracker.havePointerCapture=(p=document.createElement("div"),s.isFunction(p.setPointerCapture)&&s.isFunction(p.releasePointerCapture)),s.MouseTracker.havePointerCapture&&s.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(s.MouseTracker.havePointerEvents=!1,s.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),s.MouseTracker.mousePointerId="legacy-mouse",s.MouseTracker.havePointerCapture=(g=document.createElement("div"),s.isFunction(g.setCapture)&&s.isFunction(g.releaseCapture)),s.MouseTracker.havePointerCapture&&s.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&s.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&s.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),s.MouseTracker.GesturePointList=function(te){this._gPoints=[],this.type=te,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},s.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(te){return this._gPoints.push(te)},removeById:function(te){var H,le=this._gPoints.length;for(H=0;H<le;H++)if(this._gPoints[H].id===te){this._gPoints.splice(H,1);break}return this._gPoints.length},getByIndex:function(te){return te<this._gPoints.length?this._gPoints[te]:null},getById:function(te){var H,le=this._gPoints.length;for(H=0;H<le;H++)if(this._gPoints[H].id===te)return this._gPoints[H];return null},getPrimary:function(te){var H,le=this._gPoints.length;for(H=0;H<le;H++)if(this._gPoints[H].isPrimary)return this._gPoints[H];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(s.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}}}(e),function(s){s.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},s.Control=function(a,l,c){var u=a.parentNode;typeof l=="number"&&(s.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),l={anchor:l}),l.attachToViewer=l.attachToViewer===void 0||l.attachToViewer,this.autoFade=l.autoFade===void 0||l.autoFade,this.element=a,this.anchor=l.anchor,this.container=c,this.anchor===s.ControlAnchor.ABSOLUTE?(this.wrapper=s.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof l.top=="number"?l.top+"px":l.top,this.wrapper.style.left=typeof l.left=="number"?l.left+"px":l.left,this.wrapper.style.height=typeof l.height=="number"?l.height+"px":l.height,this.wrapper.style.width=typeof l.width=="number"?l.width+"px":l.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=s.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===s.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),l.attachToViewer?this.anchor===s.ControlAnchor.TOP_RIGHT||this.anchor===s.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):u.appendChild(this.wrapper)},s.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==s.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(a){this.wrapper.style.display=a?this.anchor===s.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(a){s.setElementOpacity(this.wrapper,a,!0)}}}(e),function(s){function a(l,c){var u,h=l.controls;for(u=h.length-1;u>=0;u--)if(h[u].element===c)return u;return-1}s.ControlDock=function(l){var c,u,h=["topleft","topright","bottomright","bottomleft"];for(s.extend(!0,this,{id:"controldock-"+s.now()+"-"+Math.floor(1e6*Math.random()),container:s.makeNeutralElement("div"),controls:[]},l),this.container.onsubmit=function(){return!1},this.element&&(this.element=s.getElement(this.element),this.element.appendChild(this.container),s.getElementStyle(this.element).position==="static"&&(this.element.style.position="relative"),this.container.style.width="100%",this.container.style.height="100%"),u=0;u<h.length;u++)c=h[u],this.controls[c]=s.makeNeutralElement("div"),this.controls[c].style.position="absolute",c.match("left")&&(this.controls[c].style.left="0px"),c.match("right")&&(this.controls[c].style.right="0px"),c.match("top")&&(this.controls[c].style.top="0px"),c.match("bottom")&&(this.controls[c].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},s.ControlDock.prototype={addControl:function(l,c){var u=null;if(!(a(this,l=s.getElement(l))>=0)){switch(c.anchor){case s.ControlAnchor.TOP_RIGHT:u=this.controls.topright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingTop="0px";break;case s.ControlAnchor.BOTTOM_RIGHT:u=this.controls.bottomright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingBottom="0px";break;case s.ControlAnchor.BOTTOM_LEFT:u=this.controls.bottomleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingBottom="0px";break;case s.ControlAnchor.TOP_LEFT:u=this.controls.topleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingTop="0px";break;case s.ControlAnchor.ABSOLUTE:default:case s.ControlAnchor.NONE:u=this.container,l.style.margin="0px",l.style.padding="0px"}this.controls.push(new s.Control(l,c,u)),l.style.display="inline-block"}},removeControl:function(l){var c=a(this,l=s.getElement(l));return c>=0&&(this.controls[c].destroy(),this.controls.splice(c,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var l;for(l=this.controls.length-1;l>=0;l--)if(this.controls[l].isVisible())return!0;return!1},setControlsEnabled:function(l){var c;for(c=this.controls.length-1;c>=0;c--)this.controls[c].setVisible(l);return this}}}(e),function(s){s.Placement=s.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(e),function(s){var a={},l=1;function c(U){return U=s.getElement(U),new s.Point(U.clientWidth===0?1:U.clientWidth,U.clientHeight===0?1:U.clientHeight)}function u(U,z){if(z instanceof s.Overlay)return z;var j=null;if(z.element)j=s.getElement(z.element);else{var re=z.id?z.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(j=s.getElement(z.id))||((j=document.createElement("a")).href="#/overlay/"+re),j.id=re,s.addClass(j,z.className?z.className:"openseadragon-overlay")}var ae=z.location,X=z.width,G=z.height;if(!ae){var ce=z.x,Te=z.y;if(z.px!==void 0){var Ie=U.viewport.imageToViewportRectangle(new s.Rect(z.px,z.py,X||0,G||0));ce=Ie.x,Te=Ie.y,X=X!==void 0?Ie.width:void 0,G=G!==void 0?Ie.height:void 0}ae=new s.Point(ce,Te)}var ye=z.placement;return ye&&s.type(ye)==="string"&&(ye=s.Placement[z.placement.toUpperCase()]),new s.Overlay({element:j,location:ae,placement:ye,onDraw:z.onDraw,checkResize:z.checkResize,width:X,height:G,rotationMode:z.rotationMode})}function h(U,z){var j;for(j=U.length-1;j>=0;j--)if(U[j].element===z)return j;return-1}function d(U,z){return s.requestAnimationFrame(function(){z(U)})}function p(U){s.requestAnimationFrame(function(){(function(z){var j,re;if(z.controlsShouldFade){for(j=1-(s.now()-z.controlsFadeBeginTime)/z.controlsFadeLength,j=Math.min(1,j),j=Math.max(0,j),re=z.controls.length-1;re>=0;re--)z.controls[re].autoFade&&z.controls[re].setOpacity(j);j>0&&p(z)}})(U)})}function g(U){U.autoHideControls&&(U.controlsShouldFade=!0,U.controlsFadeBeginTime=s.now()+U.controlsFadeDelay,window.setTimeout(function(){p(U)},U.controlsFadeDelay))}function v(U){var z;for(U.controlsShouldFade=!1,z=U.controls.length-1;z>=0;z--)U.controls[z].setOpacity(1)}function _(){v(this)}function b(){g(this)}function x(U){var z={tracker:U.eventSource,position:U.position,originalEvent:U.originalEvent,preventDefault:U.preventDefault};this.raiseEvent("canvas-contextmenu",z),U.preventDefault=z.preventDefault}function C(U){var z={originalEvent:U.originalEvent,preventDefaultAction:!1,preventVerticalPan:U.preventVerticalPan||!this.panVertical,preventHorizontalPan:U.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",z),z.preventDefaultAction||U.ctrl||U.alt||U.meta)U.preventDefault=!1;else switch(U.keyCode){case 38:z.preventVerticalPan||(U.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new s.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),U.preventDefault=!0;break;case 40:z.preventVerticalPan||(U.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new s.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),U.preventDefault=!0;break;case 37:z.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new s.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),U.preventDefault=!0;break;case 39:z.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new s.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),U.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),U.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),U.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),U.preventDefault=!0;break;case 87:z.preventVerticalPan||(U.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new s.Point(0,-40))),this.viewport.applyConstraints()),U.preventDefault=!0;break;case 83:z.preventVerticalPan||(U.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new s.Point(0,40))),this.viewport.applyConstraints()),U.preventDefault=!0;break;case 65:z.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new s.Point(-40,0))),this.viewport.applyConstraints()),U.preventDefault=!0;break;case 68:z.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new s.Point(40,0))),this.viewport.applyConstraints()),U.preventDefault=!0;break;case 82:U.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),U.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),U.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:U.preventDefault=!1}}function S(U){var z={originalEvent:U.originalEvent};this.raiseEvent("canvas-key-press",z)}function E(U){var z;document.activeElement===this.canvas||this.canvas.focus(),this.viewport.flipped&&(U.position.x=this.viewport.getContainerSize().x-U.position.x);var j={tracker:U.eventSource,position:U.position,quick:U.quick,shift:U.shift,originalEvent:U.originalEvent,originalTarget:U.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",j),!j.preventDefaultAction&&this.viewport&&U.quick&&((z=this.gestureSettingsByDeviceType(U.pointerType)).clickToZoom===!0&&(this.viewport.zoomBy(U.shift?1/this.zoomPerClick:this.zoomPerClick,z.zoomToRefPoint?this.viewport.pointFromPixel(U.position,!0):null),this.viewport.applyConstraints()),z.dblClickDragToZoom&&(a[this.hash].draggingToZoom===!0?(a[this.hash].lastClickTime=null,a[this.hash].draggingToZoom=!1):a[this.hash].lastClickTime=s.now()))}function I(U){var z,j={tracker:U.eventSource,position:U.position,shift:U.shift,originalEvent:U.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",j),!j.preventDefaultAction&&this.viewport&&(z=this.gestureSettingsByDeviceType(U.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(U.shift?1/this.zoomPerClick:this.zoomPerClick,z.zoomToRefPoint?this.viewport.pointFromPixel(U.position,!0):null),this.viewport.applyConstraints())}function M(U){var z,j={tracker:U.eventSource,pointerType:U.pointerType,position:U.position,delta:U.delta,speed:U.speed,direction:U.direction,shift:U.shift,originalEvent:U.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",j),z=this.gestureSettingsByDeviceType(U.pointerType),!j.preventDefaultAction&&this.viewport){if(z.dblClickDragToZoom&&a[this.hash].draggingToZoom){var re=Math.pow(this.zoomPerDblClickDrag,U.delta.y/50);this.viewport.zoomBy(re)}else if(z.dragToPan&&!a[this.hash].draggingToZoom){if(this.panHorizontal||(U.delta.x=0),this.panVertical||(U.delta.y=0),this.viewport.flipped&&(U.delta.x=-U.delta.x),this.constrainDuringPan){var ae=this.viewport.deltaPointsFromPixels(U.delta.negate());this.viewport.centerSpringX.target.value+=ae.x,this.viewport.centerSpringY.target.value+=ae.y;var X=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=ae.x,this.viewport.centerSpringY.target.value-=ae.y,X.xConstrained&&(U.delta.x=0),X.yConstrained&&(U.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(U.delta.negate()),z.flickEnabled&&!this.constrainDuringPan)}}}function k(U){var z,j={tracker:U.eventSource,pointerType:U.pointerType,position:U.position,speed:U.speed,direction:U.direction,shift:U.shift,originalEvent:U.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",j),z=this.gestureSettingsByDeviceType(U.pointerType),!j.preventDefaultAction&&this.viewport){if(!a[this.hash].draggingToZoom&&z.dragToPan&&z.flickEnabled&&U.speed>=z.flickMinSpeed){var re=0;this.panHorizontal&&(re=z.flickMomentum*U.speed*Math.cos(U.direction));var ae=0;this.panVertical&&(ae=z.flickMomentum*U.speed*Math.sin(U.direction));var X=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),G=this.viewport.pointFromPixel(new s.Point(X.x-re,X.y-ae));this.viewport.panTo(G,!1)}this.viewport.applyConstraints()}z.dblClickDragToZoom&&a[this.hash].draggingToZoom===!0&&(a[this.hash].draggingToZoom=!1)}function F(U){this.raiseEvent("canvas-enter",{tracker:U.eventSource,pointerType:U.pointerType,position:U.position,buttons:U.buttons,pointers:U.pointers,insideElementPressed:U.insideElementPressed,buttonDownAny:U.buttonDownAny,originalEvent:U.originalEvent})}function P(U){this.raiseEvent("canvas-exit",{tracker:U.eventSource,pointerType:U.pointerType,position:U.position,buttons:U.buttons,pointers:U.pointers,insideElementPressed:U.insideElementPressed,buttonDownAny:U.buttonDownAny,originalEvent:U.originalEvent})}function Q(U){if(this.raiseEvent("canvas-press",{tracker:U.eventSource,pointerType:U.pointerType,position:U.position,insideElementPressed:U.insideElementPressed,insideElementReleased:U.insideElementReleased,originalEvent:U.originalEvent}),this.gestureSettingsByDeviceType(U.pointerType).dblClickDragToZoom){var z=a[this.hash].lastClickTime,j=s.now();if(z===null)return;j-z<this.dblClickTimeThreshold&&(a[this.hash].draggingToZoom=!0),a[this.hash].lastClickTime=null}}function N(U){this.raiseEvent("canvas-release",{tracker:U.eventSource,pointerType:U.pointerType,position:U.position,insideElementPressed:U.insideElementPressed,insideElementReleased:U.insideElementReleased,originalEvent:U.originalEvent})}function W(U){this.raiseEvent("canvas-nonprimary-press",{tracker:U.eventSource,position:U.position,pointerType:U.pointerType,button:U.button,buttons:U.buttons,originalEvent:U.originalEvent})}function q(U){this.raiseEvent("canvas-nonprimary-release",{tracker:U.eventSource,position:U.position,pointerType:U.pointerType,button:U.button,buttons:U.buttons,originalEvent:U.originalEvent})}function J(U){var z,j,re,ae={tracker:U.eventSource,pointerType:U.pointerType,gesturePoints:U.gesturePoints,lastCenter:U.lastCenter,center:U.center,lastDistance:U.lastDistance,distance:U.distance,shift:U.shift,originalEvent:U.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",ae),this.viewport&&(!(z=this.gestureSettingsByDeviceType(U.pointerType)).pinchToZoom||ae.preventDefaultPanAction&&ae.preventDefaultZoomAction||(j=this.viewport.pointFromPixel(U.center,!0),z.zoomToRefPoint&&!ae.preventDefaultPanAction&&(re=this.viewport.pointFromPixel(U.lastCenter,!0).minus(j),this.panHorizontal||(re.x=0),this.panVertical||(re.y=0),this.viewport.panBy(re,!0)),ae.preventDefaultZoomAction||this.viewport.zoomBy(U.distance/U.lastDistance,j,!0),this.viewport.applyConstraints()),z.pinchRotate&&!ae.preventDefaultRotateAction)){var X=Math.atan2(U.gesturePoints[0].currentPos.y-U.gesturePoints[1].currentPos.y,U.gesturePoints[0].currentPos.x-U.gesturePoints[1].currentPos.x),G=Math.atan2(U.gesturePoints[0].lastPos.y-U.gesturePoints[1].lastPos.y,U.gesturePoints[0].lastPos.x-U.gesturePoints[1].lastPos.x);j=this.viewport.pointFromPixel(U.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(X-G)*(180/Math.PI),j,!0)}}function V(U){this.raiseEvent("canvas-focus",{tracker:U.eventSource,originalEvent:U.originalEvent})}function Y(U){this.raiseEvent("canvas-blur",{tracker:U.eventSource,originalEvent:U.originalEvent})}function Z(U){var z,j,re,ae;(ae=s.now())-this._lastScrollTime>this.minScrollDeltaTime?(this._lastScrollTime=ae,z={tracker:U.eventSource,position:U.position,scroll:U.scroll,shift:U.shift,originalEvent:U.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",z),!z.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(U.position.x=this.viewport.getContainerSize().x-U.position.x),(j=this.gestureSettingsByDeviceType(U.pointerType)).scrollToZoom&&(re=Math.pow(this.zoomPerScroll,U.scroll),this.viewport.zoomBy(re,j.zoomToRefPoint?this.viewport.pointFromPixel(U.position,!0):null),this.viewport.applyConstraints())),U.preventDefault=z.preventDefault):U.preventDefault=!0}function ue(U){a[this.hash].mouseInside=!0,v(this),this.raiseEvent("container-enter",{tracker:U.eventSource,pointerType:U.pointerType,position:U.position,buttons:U.buttons,pointers:U.pointers,insideElementPressed:U.insideElementPressed,buttonDownAny:U.buttonDownAny,originalEvent:U.originalEvent})}function $(U){U.pointers<1&&(a[this.hash].mouseInside=!1,a[this.hash].animating||g(this)),this.raiseEvent("container-exit",{tracker:U.eventSource,pointerType:U.pointerType,position:U.position,buttons:U.buttons,pointers:U.pointers,insideElementPressed:U.insideElementPressed,buttonDownAny:U.buttonDownAny,originalEvent:U.originalEvent})}function ee(U){(function(z){if(!z._opening&&a[z.hash]){if(z.autoResize||a[z.hash].forceResize){var j;if(z._autoResizePolling){j=c(z.container);var re=a[z.hash].prevContainerSize;j.equals(re)||(a[z.hash].needsResize=!0)}a[z.hash].needsResize&&function(Ie,ye){var Ue,De=Ie.viewport,Ge=De.getZoom(),ct=De.getCenter();if(De.resize(ye,Ie.preserveImageSizeOnResize),De.panTo(ct,!0),Ie.preserveImageSizeOnResize)Ue=a[Ie.hash].prevContainerSize.x/ye.x;else{var Ve=new s.Point(0,0),st=new s.Point(a[Ie.hash].prevContainerSize.x,a[Ie.hash].prevContainerSize.y).distanceTo(Ve);Ue=new s.Point(ye.x,ye.y).distanceTo(Ve)/st*a[Ie.hash].prevContainerSize.x/ye.x}De.zoomTo(Ge*Ue,null,!0),a[Ie.hash].prevContainerSize=ye,a[Ie.hash].forceRedraw=!0,a[Ie.hash].needsResize=!1,a[Ie.hash].forceResize=!1}(z,j||c(z.container))}var ae=z.viewport.update(),X=z.world.update(ae)||ae;ae&&z.raiseEvent("viewport-change"),z.referenceStrip&&(X=z.referenceStrip.update(z.viewport)||X);var G=a[z.hash].animating;!G&&X&&(z.raiseEvent("animation-start"),v(z));var ce=G&&!X;ce&&(a[z.hash].animating=!1),(X||ce||a[z.hash].forceRedraw||z.world.needsDraw())&&((Te=z).imageLoader.clear(),Te.world.draw(),Te.raiseEvent("update-viewport",{}),z._drawOverlays(),z.navigator&&z.navigator.update(z.viewport),a[z.hash].forceRedraw=!1,X&&z.raiseEvent("animation")),ce&&(z.raiseEvent("animation-finish"),a[z.hash].mouseInside||g(z)),a[z.hash].animating=X}var Te})(U),U.isOpen()?U._updateRequestId=d(U,ee):U._updateRequestId=!1}function oe(U,z){return U?U+z:z}function ge(){a[this.hash].lastZoomTime=s.now(),a[this.hash].zoomFactor=this.zoomPerSecond,a[this.hash].zooming=!0,we(this)}function se(){a[this.hash].lastZoomTime=s.now(),a[this.hash].zoomFactor=1/this.zoomPerSecond,a[this.hash].zooming=!0,we(this)}function Ae(){a[this.hash].zooming=!1}function we(U){s.requestAnimationFrame(s.delegate(U,xe))}function xe(){var U,z,j;a[this.hash].zooming&&this.viewport&&(z=(U=s.now())-a[this.hash].lastZoomTime,j=Math.pow(a[this.hash].zoomFactor,z/1e3),this.viewport.zoomBy(j),this.viewport.applyConstraints(),a[this.hash].lastZoomTime=U,we(this))}function Be(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Re(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function ke(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Pe(){this.viewport&&this.viewport.goHome()}function ve(){this.isFullPage()&&!s.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function te(){if(this.viewport){var U=this.viewport.getRotation();this.viewport.flipped?U+=this.rotationIncrement:U-=this.rotationIncrement,this.viewport.setRotation(U)}}function H(){if(this.viewport){var U=this.viewport.getRotation();this.viewport.flipped?U-=this.rotationIncrement:U+=this.rotationIncrement,this.viewport.setRotation(U)}}function le(){this.viewport.toggleFlip()}s.Viewer=function(U){var z,j,re,ae=arguments,X=this;if(s.isPlainObject(U)||(U={id:ae[0],xmlPath:ae.length>1?ae[1]:void 0,prefixUrl:ae.length>2?ae[2]:void 0,controls:ae.length>3?ae[3]:void 0,overlays:ae.length>4?ae[4]:void 0}),U.config&&(s.extend(!0,U,U.config),delete U.config),U.drawerOptions=Object.assign({},["useCanvas"].reduce((ce,Te)=>(ce[Te]=U[Te],delete U[Te],ce),{}),U.drawerOptions),s.extend(!0,this,{id:U.id,hash:U.hash||l++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},s.DEFAULT_SETTINGS,U),this.hash===void 0)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");a[this.hash]!==void 0&&s.console.warn("Hash "+this.hash+" has already been used."),a[this.hash]={fsBoundsDelta:new s.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=s.now(),s.EventSource.call(this),this.addHandler("open-failed",function(ce){var Te=s.getString("Errors.OpenFailed",ce.eventSource,ce.message);X._showMessage(Te)}),s.ControlDock.call(this,U),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=s.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(j=this.canvas.style).width="100%",j.height="100%",j.overflow="hidden",j.position="absolute",j.top="0px",j.left="0px",s.setElementTouchActionNone(this.canvas),U.tabIndex!==""&&(this.canvas.tabIndex=U.tabIndex===void 0?0:U.tabIndex),this.container.className="openseadragon-container",(re=this.container.style).width="100%",re.height="100%",re.position="relative",re.overflow="hidden",re.left="0px",re.top="0px",re.textAlign="left",s.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new s.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:s.delegate(this,x),keyDownHandler:s.delegate(this,C),keyHandler:s.delegate(this,S),clickHandler:s.delegate(this,E),dblClickHandler:s.delegate(this,I),dragHandler:s.delegate(this,M),dragEndHandler:s.delegate(this,k),enterHandler:s.delegate(this,F),leaveHandler:s.delegate(this,P),pressHandler:s.delegate(this,Q),releaseHandler:s.delegate(this,N),nonPrimaryPressHandler:s.delegate(this,W),nonPrimaryReleaseHandler:s.delegate(this,q),scrollHandler:s.delegate(this,Z),pinchHandler:s.delegate(this,J),focusHandler:s.delegate(this,V),blurHandler:s.delegate(this,Y)}),this.outerTracker=new s.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:s.delegate(this,ue),leaveHandler:s.delegate(this,$)}),this.toolbar&&(this.toolbar=new s.ControlDock({element:this.toolbar})),this.bindStandardControls(),a[this.hash].prevContainerSize=c(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){a[X.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new s.World({viewer:this}),this.world.addHandler("add-item",function(ce){X.source=X.world.getItemAt(0).source,a[X.hash].forceRedraw=!0,X._updateRequestId||(X._updateRequestId=d(X,ee))}),this.world.addHandler("remove-item",function(ce){X.world.getItemCount()?X.source=X.world.getItemAt(0).source:X.source=null,a[X.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(ce){X.viewport&&X.viewport._setContentBounds(X.world.getHomeBounds(),X.world.getContentFactor())}),this.world.addHandler("item-index-change",function(ce){X.source=X.world.getItemAt(0).source}),this.viewport=new s.Viewport({containerSize:a[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,overlayPreserveContentDirection:this.overlayPreserveContentDirection,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new s.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:U.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new s.TileCache({maxImageCacheCount:this.maxImageCacheCount}),Object.prototype.hasOwnProperty.call(this.drawerOptions,"useCanvas")&&(s.console.error('useCanvas is deprecated, use the "drawer" option to indicate preferred drawer(s)'),this.drawerOptions.useCanvas||(this.drawer=s.HTMLDrawer),delete this.drawerOptions.useCanvas);let G=Array.isArray(this.drawer)?this.drawer:[this.drawer];G.length===0&&(G=[s.DEFAULT_SETTINGS.drawer].flat(),s.console.warn("No valid drawers were selected. Using the default value.")),this.drawer=null;for(const ce of G)if(this.requestDrawer(ce,{mainDrawer:!0,redrawImmediately:!1}))break;if(!this.drawer)throw s.console.error("No drawer could be created!"),"Error with creating the selected drawer(s)";for(this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),this.overlaysContainer=s.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(z=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(z,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(z=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(z,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new s.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime,drawer:this.drawer.getType(),loadTilesWithAjax:this.loadTilesWithAjax,ajaxHeaders:this.ajaxHeaders,ajaxWithCredentials:this.ajaxWithCredentials})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),z=0;z<this.customControls.length;z++)this.addControl(this.customControls[z].id,{anchor:this.customControls[z].anchor});s.requestAnimationFrame(function(){g(X)}),s._viewers.set(this.element,this)},s.extend(s.Viewer.prototype,s.EventSource.prototype,s.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(U){return s.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(U)},openTileSource:function(U){return s.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(U)},get buttons(){return s.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(U,z){var j=this;if(this.close(),!U)return this;if(this.sequenceMode&&s.isArray(U))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),z===void 0||isNaN(z)||(this.initialPage=z),this.tileSources=U,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(s.isArray(U)||(U=[U]),!U.length)return this;this._opening=!0;for(var re,ae=U.length,X=0,G=0,ce=function(){if(X+G===ae)if(X){!j._firstOpen&&j.preserveViewport||(j.viewport.goHome(!0),j.viewport.update()),j._firstOpen=!1;var ye=U[0];if(ye.tileSource&&(ye=ye.tileSource),j.overlays&&!j.preserveOverlays)for(var Ue=0;Ue<j.overlays.length;Ue++)j.currentOverlays[Ue]=u(j,j.overlays[Ue]);j._drawOverlays(),j._opening=!1,j.raiseEvent("open",{source:ye})}else j._opening=!1,j.raiseEvent("open-failed",re)},Te=function(ye){s.isPlainObject(ye)&&ye.tileSource||(ye={tileSource:ye}),ye.index!==void 0&&(s.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete ye.index),ye.collectionImmediately===void 0&&(ye.collectionImmediately=!0);var Ue=ye.success;ye.success=function(Ge){if(X++,ye.tileSource.overlays)for(var ct=0;ct<ye.tileSource.overlays.length;ct++)j.addOverlay(ye.tileSource.overlays[ct]);Ue&&Ue(Ge),ce()};var De=ye.error;ye.error=function(Ge){G++,re||(re=Ge),De&&De(Ge),ce()},j.addTiledImage(ye)},Ie=0;Ie<U.length;Ie++)Te(U[Ie]);return this},close:function(){return a[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),a[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(a[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(s.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),a[this.navigator.hash]=null,delete a[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),a[this.hash]=null,delete a[this.hash],this.canvas=null,this.container=null,s._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},requestDrawer(U,z){const j=(z=s.extend(!0,{mainDrawer:!0,redrawImmediately:!0,drawerOptions:null},z)).mainDrawer,re=z.redrawImmediately,ae=z.drawerOptions,X=this.drawer;let G=null;if(U&&U.prototype instanceof s.DrawerBase?(G=U,U="custom"):typeof U=="string"&&(G=s.determineDrawer(U)),G||s.console.warn("Unsupported drawer! Drawer must be an existing string type, or a class that extends OpenSeadragon.DrawerBase."),G&&G.isSupported()){X&&j&&X.destroy();const ce=new G({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor,options:ae||this.drawerOptions[U]});return j&&(this.drawer=ce,re&&this.forceRedraw()),ce}return!1},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(U){return this.innerTracker.setTracking(U),this.outerTracker.setTracking(U),this.raiseEvent("mouse-enabled",{enabled:U}),this},areControlsEnabled:function(){var U,z=this.controls.length;for(U=0;U<this.controls.length;U++)z=z&&this.controls[U].isVisible();return z},setControlsEnabled:function(U){return U?v(this):g(this),this.raiseEvent("controls-enabled",{enabled:U}),this},setDebugMode:function(U){for(var z=0;z<this.world.getItemCount();z++)this.world.getItemAt(z).debugMode=U;this.debugMode=U,this.forceRedraw()},setAjaxHeaders:function(U,z){if(U===null&&(U={}),s.isPlainObject(U)){if(z===void 0&&(z=!0),this.ajaxHeaders=U,z){for(var j=0;j<this.world.getItemCount();j++)this.world.getItemAt(j)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var re in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[re].setAjaxHeaders(this.ajaxHeaders,!0)}}else console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},addButton:function(U){this.buttonGroup.addButton(U)},isFullPage:function(){return a[this.hash]&&a[this.hash].fullPage},setFullPage:function(U){var z,j,re=document.body,ae=re.style,X=document.documentElement.style,G=this;if(U===this.isFullPage())return this;var ce={fullPage:U,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",ce),ce.preventDefaultAction)return this;if(U&&this.element){for(this.elementSize=s.getElementSize(this.element),this.pageScroll=s.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=ae.margin,this.docMargin=X.margin,ae.margin="0",X.margin="0",this.bodyPadding=ae.padding,this.docPadding=X.padding,ae.padding="0",X.padding="0",this.bodyWidth=ae.width,this.docWidth=X.width,ae.width="100%",X.width="100%",this.bodyHeight=ae.height,this.docHeight=X.height,ae.height="100%",X.height="100%",this.bodyDisplay=ae.display,ae.display="block",this.previousBody=[],a[this.hash].prevElementParent=this.element.parentNode,a[this.hash].prevNextSibling=this.element.nextSibling,a[this.hash].prevElementWidth=this.element.style.width,a[this.hash].prevElementHeight=this.element.style.height,z=re.childNodes.length,j=0;j<z;j++)this.previousBody.push(re.childNodes[0]),re.removeChild(re.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,re.appendChild(this.toolbar.element),s.addClass(this.toolbar.element,"fullpage")),s.addClass(this.element,"fullpage"),re.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=s.getElementSize(this.element).y-s.getElementSize(this.toolbar.element).y+"px"),a[this.hash].fullPage=!0,s.delegate(this,ue)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,ae.margin=this.bodyMargin,X.margin=this.docMargin,ae.padding=this.bodyPadding,X.padding=this.docPadding,ae.width=this.bodyWidth,X.width=this.docWidth,ae.height=this.bodyHeight,X.height=this.docHeight,ae.display=this.bodyDisplay,re.removeChild(this.element),z=this.previousBody.length,j=0;j<z;j++)re.appendChild(this.previousBody.shift());s.removeClass(this.element,"fullpage"),a[this.hash].prevElementParent.insertBefore(this.element,a[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(re.removeChild(this.toolbar.element),s.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=a[this.hash].prevElementWidth,this.element.style.height=a[this.hash].prevElementHeight;var Te=0,Ie=function(){s.setPageScroll(G.pageScroll);var ye=s.getPageScroll();++Te<10&&(ye.x!==G.pageScroll.x||ye.y!==G.pageScroll.y)&&s.requestAnimationFrame(Ie)};s.requestAnimationFrame(Ie),a[this.hash].fullPage=!1,s.delegate(this,$)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:U}),this},setFullScreen:function(U){var z=this;if(!s.supportsFullScreen)return this.setFullPage(U);if(s.isFullScreen()===U)return this;var j={fullScreen:U,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",j),j.preventDefaultAction)return this;if(U){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var re=function(){var ae=s.isFullScreen();ae||(s.removeEvent(document,s.fullScreenEventName,re),s.removeEvent(document,s.fullScreenErrorEventName,re),z.setFullPage(!1),z.isFullPage()&&(z.element.style.width=z.fullPageStyleWidth,z.element.style.height=z.fullPageStyleHeight)),z.navigator&&z.viewport&&setTimeout(function(){z.navigator.update(z.viewport)}),z.raiseEvent("full-screen",{fullScreen:ae})};s.addEvent(document,s.fullScreenEventName,re),s.addEvent(document,s.fullScreenErrorEventName,re),s.requestFullScreen(document.body)}else s.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return s.isFullScreen()&&this.isFullPage()},setVisible:function(U){return this.container.style.visibility=U?"":"hidden",this.raiseEvent("visible",{visible:U}),this},addTiledImage:function(U){s.console.assert(U,"[Viewer.addTiledImage] options is required"),s.console.assert(U.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),s.console.assert(!U.replace||U.index>-1&&U.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var z=this;U.replace&&(U.replaceItem=z.world.getItemAt(U.index)),this._hideMessage(),U.placeholderFillStyle===void 0&&(U.placeholderFillStyle=this.placeholderFillStyle),U.opacity===void 0&&(U.opacity=this.opacity),U.preload===void 0&&(U.preload=this.preload),U.compositeOperation===void 0&&(U.compositeOperation=this.compositeOperation),U.crossOriginPolicy===void 0&&(U.crossOriginPolicy=U.tileSource.crossOriginPolicy!==void 0?U.tileSource.crossOriginPolicy:this.crossOriginPolicy),U.ajaxWithCredentials===void 0&&(U.ajaxWithCredentials=this.ajaxWithCredentials),U.loadTilesWithAjax===void 0&&(U.loadTilesWithAjax=this.loadTilesWithAjax),s.isPlainObject(U.ajaxHeaders)||(U.ajaxHeaders={});var j={options:U};function re(G){for(var ce=0;ce<z._loadQueue.length;ce++)if(z._loadQueue[ce]===j){z._loadQueue.splice(ce,1);break}z._loadQueue.length===0&&ae(j),z.raiseEvent("add-item-failed",G),U.error&&U.error(G)}function ae(G){z.collectionMode&&(z.world.arrange({immediately:G.options.collectionImmediately,rows:z.collectionRows,columns:z.collectionColumns,layout:z.collectionLayout,tileSize:z.collectionTileSize,tileMargin:z.collectionTileMargin}),z.world.setAutoRefigureSizes(!0))}function X(){for(var G,ce,Te;z._loadQueue.length&&(G=z._loadQueue[0]).tileSource;){if(z._loadQueue.splice(0,1),G.options.replace){var Ie=z.world.getIndexOfItem(G.options.replaceItem);Ie!==-1&&(G.options.index=Ie),z.world.removeItem(G.options.replaceItem)}ce=new s.TiledImage({viewer:z,source:G.tileSource,viewport:z.viewport,drawer:z.drawer,tileCache:z.tileCache,imageLoader:z.imageLoader,x:G.options.x,y:G.options.y,width:G.options.width,height:G.options.height,fitBounds:G.options.fitBounds,fitBoundsPlacement:G.options.fitBoundsPlacement,clip:G.options.clip,placeholderFillStyle:G.options.placeholderFillStyle,opacity:G.options.opacity,preload:G.options.preload,degrees:G.options.degrees,flipped:G.options.flipped,compositeOperation:G.options.compositeOperation,springStiffness:z.springStiffness,animationTime:z.animationTime,minZoomImageRatio:z.minZoomImageRatio,wrapHorizontal:z.wrapHorizontal,wrapVertical:z.wrapVertical,maxTilesPerFrame:z.maxTilesPerFrame,immediateRender:z.immediateRender,blendTime:z.blendTime,alwaysBlend:z.alwaysBlend,minPixelRatio:z.minPixelRatio,smoothTileEdgesMinZoom:z.smoothTileEdgesMinZoom,iOSDevice:z.iOSDevice,crossOriginPolicy:G.options.crossOriginPolicy,ajaxWithCredentials:G.options.ajaxWithCredentials,loadTilesWithAjax:G.options.loadTilesWithAjax,ajaxHeaders:G.options.ajaxHeaders,debugMode:z.debugMode,subPixelRoundingForTransparency:z.subPixelRoundingForTransparency}),z.collectionMode&&z.world.setAutoRefigureSizes(!1),z.navigator&&(Te=s.extend({},G.options,{replace:!1,originalTiledImage:ce,tileSource:G.tileSource}),z.navigator.addTiledImage(Te)),z.world.addItem(ce,{index:G.options.index}),z._loadQueue.length===0&&ae(G),z.world.getItemCount()!==1||z.preserveViewport||z.viewport.goHome(!0),G.options.success&&G.options.success({item:ce})}}s.isArray(U.tileSource)?setTimeout(function(){re({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:U.tileSource,options:U})}):(this._loadQueue.push(j),function(G,ce,Te,Ie,ye){var Ue=G;if(s.type(ce)==="string"){if(ce.match(/^\s*<.*>\s*$/))ce=s.parseXml(ce);else if(ce.match(/^\s*[{[].*[}\]]\s*$/))try{var De=s.parseJSON(ce);ce=De}catch{}}function Ge(ct,Ve){ct.ready?Ie(ct):(ct.addHandler("ready",function(){Ie(ct)}),ct.addHandler("open-failed",function(st){ye({message:st.message,source:Ve})}))}setTimeout(function(){if(s.type(ce)==="string")(ce=new s.TileSource({url:ce,crossOriginPolicy:Te.crossOriginPolicy!==void 0?Te.crossOriginPolicy:G.crossOriginPolicy,ajaxWithCredentials:G.ajaxWithCredentials,ajaxHeaders:Te.ajaxHeaders?Te.ajaxHeaders:G.ajaxHeaders,splitHashDataForPost:G.splitHashDataForPost,success:function(rt){Ie(rt.tileSource)}})).addHandler("open-failed",function(rt){ye(rt)});else if(s.isPlainObject(ce)||ce.nodeType)if(ce.crossOriginPolicy!==void 0||Te.crossOriginPolicy===void 0&&G.crossOriginPolicy===void 0||(ce.crossOriginPolicy=Te.crossOriginPolicy!==void 0?Te.crossOriginPolicy:G.crossOriginPolicy),ce.ajaxWithCredentials===void 0&&(ce.ajaxWithCredentials=G.ajaxWithCredentials),s.isFunction(ce.getTileUrl)){var ct=new s.TileSource(ce);ct.getTileUrl=ce.getTileUrl,Ie(ct)}else{var Ve=s.TileSource.determineType(Ue,ce);if(!Ve)return void ye({message:"Unable to load TileSource",source:ce});var st=Ve.prototype.configure.apply(Ue,[ce]);Ge(new Ve(st),ce)}else Ge(ce,ce)})}(this,U.tileSource,U,function(G){j.tileSource=G,X()},function(G){G.options=U,re(G),X()}))},addSimpleImage:function(U){s.console.assert(U,"[Viewer.addSimpleImage] options is required"),s.console.assert(U.url,"[Viewer.addSimpleImage] options.url is required");var z=s.extend({},U,{tileSource:{type:"image",url:U.url}});delete z.url,this.addTiledImage(z)},addLayer:function(U){var z=this;s.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var j=s.extend({},U,{success:function(re){z.raiseEvent("add-layer",{options:U,drawer:re.item})},error:function(re){z.raiseEvent("add-layer-failed",re)}});return this.addTiledImage(j),this},getLayerAtLevel:function(U){return s.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(U)},getLevelOfLayer:function(U){return s.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(U)},getLayersCount:function(){return s.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(U,z){return s.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(U,z)},removeLayer:function(U){return s.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(U)},forceRedraw:function(){return a[this.hash].forceRedraw=!0,this},forceResize:function(){a[this.hash].needsResize=!0,a[this.hash].forceResize=!0},bindSequenceControls:function(){var U=s.delegate(this,_),z=s.delegate(this,b),j=s.delegate(this,this.goToNextPage),re=s.delegate(this,this.goToPreviousPage),ae=this.navImages,X=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(X=!1),this.previousButton=new s.Button({element:this.previousButton?s.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:s.getString("Tooltips.PreviousPage"),srcRest:oe(this.prefixUrl,ae.previous.REST),srcGroup:oe(this.prefixUrl,ae.previous.GROUP),srcHover:oe(this.prefixUrl,ae.previous.HOVER),srcDown:oe(this.prefixUrl,ae.previous.DOWN),onRelease:re,onFocus:U,onBlur:z}),this.nextButton=new s.Button({element:this.nextButton?s.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:s.getString("Tooltips.NextPage"),srcRest:oe(this.prefixUrl,ae.next.REST),srcGroup:oe(this.prefixUrl,ae.next.GROUP),srcHover:oe(this.prefixUrl,ae.next.HOVER),srcDown:oe(this.prefixUrl,ae.next.DOWN),onRelease:j,onFocus:U,onBlur:z}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),X&&(this.paging=new s.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:s.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||s.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var U=s.delegate(this,ge),z=s.delegate(this,Ae),j=s.delegate(this,Be),re=s.delegate(this,se),ae=s.delegate(this,Re),X=s.delegate(this,Pe),G=s.delegate(this,ve),ce=s.delegate(this,te),Te=s.delegate(this,H),Ie=s.delegate(this,le),ye=s.delegate(this,_),Ue=s.delegate(this,b),De=this.navImages,Ge=[],ct=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(ct=!1),this.showZoomControl&&(Ge.push(this.zoomInButton=new s.Button({element:this.zoomInButton?s.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:s.getString("Tooltips.ZoomIn"),srcRest:oe(this.prefixUrl,De.zoomIn.REST),srcGroup:oe(this.prefixUrl,De.zoomIn.GROUP),srcHover:oe(this.prefixUrl,De.zoomIn.HOVER),srcDown:oe(this.prefixUrl,De.zoomIn.DOWN),onPress:U,onRelease:z,onClick:j,onEnter:U,onExit:z,onFocus:ye,onBlur:Ue})),Ge.push(this.zoomOutButton=new s.Button({element:this.zoomOutButton?s.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:s.getString("Tooltips.ZoomOut"),srcRest:oe(this.prefixUrl,De.zoomOut.REST),srcGroup:oe(this.prefixUrl,De.zoomOut.GROUP),srcHover:oe(this.prefixUrl,De.zoomOut.HOVER),srcDown:oe(this.prefixUrl,De.zoomOut.DOWN),onPress:re,onRelease:z,onClick:ae,onEnter:re,onExit:z,onFocus:ye,onBlur:Ue}))),this.showHomeControl&&Ge.push(this.homeButton=new s.Button({element:this.homeButton?s.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:s.getString("Tooltips.Home"),srcRest:oe(this.prefixUrl,De.home.REST),srcGroup:oe(this.prefixUrl,De.home.GROUP),srcHover:oe(this.prefixUrl,De.home.HOVER),srcDown:oe(this.prefixUrl,De.home.DOWN),onRelease:X,onFocus:ye,onBlur:Ue})),this.showFullPageControl&&Ge.push(this.fullPageButton=new s.Button({element:this.fullPageButton?s.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:s.getString("Tooltips.FullPage"),srcRest:oe(this.prefixUrl,De.fullpage.REST),srcGroup:oe(this.prefixUrl,De.fullpage.GROUP),srcHover:oe(this.prefixUrl,De.fullpage.HOVER),srcDown:oe(this.prefixUrl,De.fullpage.DOWN),onRelease:G,onFocus:ye,onBlur:Ue})),this.showRotationControl&&(Ge.push(this.rotateLeftButton=new s.Button({element:this.rotateLeftButton?s.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:s.getString("Tooltips.RotateLeft"),srcRest:oe(this.prefixUrl,De.rotateleft.REST),srcGroup:oe(this.prefixUrl,De.rotateleft.GROUP),srcHover:oe(this.prefixUrl,De.rotateleft.HOVER),srcDown:oe(this.prefixUrl,De.rotateleft.DOWN),onRelease:ce,onFocus:ye,onBlur:Ue})),Ge.push(this.rotateRightButton=new s.Button({element:this.rotateRightButton?s.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:s.getString("Tooltips.RotateRight"),srcRest:oe(this.prefixUrl,De.rotateright.REST),srcGroup:oe(this.prefixUrl,De.rotateright.GROUP),srcHover:oe(this.prefixUrl,De.rotateright.HOVER),srcDown:oe(this.prefixUrl,De.rotateright.DOWN),onRelease:Te,onFocus:ye,onBlur:Ue}))),this.showFlipControl&&Ge.push(this.flipButton=new s.Button({element:this.flipButton?s.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:s.getString("Tooltips.Flip"),srcRest:oe(this.prefixUrl,De.flip.REST),srcGroup:oe(this.prefixUrl,De.flip.GROUP),srcHover:oe(this.prefixUrl,De.flip.HOVER),srcDown:oe(this.prefixUrl,De.flip.DOWN),onRelease:Ie,onFocus:ye,onBlur:Ue})),ct?(this.buttonGroup=new s.ButtonGroup({buttons:Ge,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",s.delegate(this,ke)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||s.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||s.ControlAnchor.TOP_LEFT})):this.customButtons=Ge),this},currentPage:function(){return this._sequenceIndex},goToPage:function(U){return this.tileSources&&U>=0&&U<this.tileSources.length&&(this._sequenceIndex=U,this._updateSequenceButtons(U),this.open(this.tileSources[U]),this.referenceStrip&&this.referenceStrip.setFocus(U),this.raiseEvent("page",{page:U})),this},addOverlay:function(U,z,j,re){var ae;if(ae=s.isPlainObject(U)?U:{element:U,location:z,placement:j,onDraw:re},U=s.getElement(ae.element),h(this.currentOverlays,U)>=0)return this;var X=u(this,ae);return this.currentOverlays.push(X),X.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:U,location:ae.location,placement:ae.placement}),this},updateOverlay:function(U,z,j){var re;return U=s.getElement(U),(re=h(this.currentOverlays,U))>=0&&(this.currentOverlays[re].update(z,j),a[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:U,location:z,placement:j})),this},removeOverlay:function(U){var z;return U=s.getElement(U),(z=h(this.currentOverlays,U))>=0&&(this.currentOverlays[z].destroy(),this.currentOverlays.splice(z,1),a[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:U})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return a[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(U){var z;return U=s.getElement(U),(z=h(this.currentOverlays,U))>=0?this.currentOverlays[z]:null},_updateSequenceButtons:function(U){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==U?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(U>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(U){this._hideMessage();var z=s.makeNeutralElement("div");z.appendChild(document.createTextNode(U)),this.messageDiv=s.makeCenteredNode(z),s.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var U=this.messageDiv;U&&(U.parentNode.removeChild(U),delete this.messageDiv)},gestureSettingsByDeviceType:function(U){switch(U){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var U,z=this.currentOverlays.length;for(U=0;U<z;U++)this.currentOverlays[U].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new s.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else s.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),s.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){s.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var U=s.pixelDensityRatio,z=s.getCurrentPixelDensityRatio();U!==z&&(s.pixelDensityRatio=z,this.forceResize())},goToPreviousPage:function(){var U=this._sequenceIndex-1;this.navPrevNextWrap&&U<0&&(U+=this.tileSources.length),this.goToPage(U)},goToNextPage:function(){var U=this._sequenceIndex+1;this.navPrevNextWrap&&U>=this.tileSources.length&&(U=0),this.goToPage(U)},isAnimating:function(){return a[this.hash].animating}}),s.determineDrawer=function(U){for(let z in e){const j=e[z],re=j.prototype;if(re&&re instanceof e.DrawerBase&&s.isFunction(re.getType)&&re.getType.call(j)===U)return j}return null}}(e),function(s){function a(p){var g={tracker:p.eventSource,position:p.position,quick:p.quick,shift:p.shift,originalEvent:p.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",g),!g.preventDefaultAction&&p.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(p.position.x=this.viewport.getContainerSize().x-p.position.x);var v=this.viewport.pointFromPixel(p.position);this.panVertical?this.panHorizontal||(v.x=this.viewer.viewport.getCenter(!0).x):v.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(v),this.viewer.viewport.applyConstraints()}}function l(p){var g={tracker:p.eventSource,position:p.position,delta:p.delta,speed:p.speed,direction:p.direction,shift:p.shift,originalEvent:p.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",g),!g.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(p.delta.x=0),this.panVertical||(p.delta.y=0),this.viewer.viewport.flipped&&(p.delta.x=-p.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(p.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function c(p){p.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function u(p){var g={tracker:p.eventSource,position:p.position,scroll:p.scroll,shift:p.shift,originalEvent:p.originalEvent,preventDefault:p.preventDefault};this.viewer.raiseEvent("navigator-scroll",g),p.preventDefault=g.preventDefault}function h(p,g){d(p,"rotate("+g+"deg)")}function d(p,g){p.style.webkitTransform=g,p.style.mozTransform=g,p.style.msTransform=g,p.style.oTransform=g,p.style.transform=g}s.Navigator=function(p){var g,v,_,b,x,C,S=p.viewer,E=this;function I(M,k){h(E.displayRegionContainer,M),h(E.displayRegion,-M),E.viewport.setRotation(M,k)}p.element||p.id?(p.element?(p.id&&s.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),p.element.id?p.id=p.element.id:p.id="navigator-"+s.now(),this.element=p.element):this.element=document.getElementById(p.id),p.controlOptions={anchor:s.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(p.id="navigator-"+s.now(),this.element=s.makeNeutralElement("div"),p.controlOptions={anchor:s.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:p.autoFade},p.position&&(p.position==="BOTTOM_RIGHT"?p.controlOptions.anchor=s.ControlAnchor.BOTTOM_RIGHT:p.position==="BOTTOM_LEFT"?p.controlOptions.anchor=s.ControlAnchor.BOTTOM_LEFT:p.position==="TOP_RIGHT"?p.controlOptions.anchor=s.ControlAnchor.TOP_RIGHT:p.position==="TOP_LEFT"?p.controlOptions.anchor=s.ControlAnchor.TOP_LEFT:p.position==="ABSOLUTE"&&(p.controlOptions.anchor=s.ControlAnchor.ABSOLUTE,p.controlOptions.top=p.top,p.controlOptions.left=p.left,p.controlOptions.height=p.height,p.controlOptions.width=p.width))),this.element.id=p.id,this.element.className+=" navigator",(p=s.extend(!0,{sizeRatio:s.DEFAULT_SETTINGS.navigatorSizeRatio},p,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:p.animationTime,autoResize:!1,minZoomImageRatio:1,background:p.background,opacity:p.opacity,borderColor:p.borderColor,displayRegionColor:p.displayRegionColor})).minPixelRatio=this.minPixelRatio=S.minPixelRatio,s.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new s.Point(1,1),this.totalBorderWidths=new s.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),p.controlOptions.anchor!==s.ControlAnchor.NONE&&(_=this.element.style,b=this.borderWidth,_.margin="0px",_.border=b+"px solid "+p.borderColor,_.padding="0px",_.background=p.background,_.opacity=p.opacity,_.overflow="hidden"),this.displayRegion=s.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",x=this.displayRegion.style,C=this.borderWidth,x.position="relative",x.top="0px",x.left="0px",x.fontSize="0px",x.overflow="hidden",x.border=C+"px solid "+p.displayRegionColor,x.margin="0px",x.padding="0px",x.background="transparent",x.float="left",x.cssFloat="left",x.zIndex=999999999,x.cursor="default",x.boxSizing="content-box",s.setElementPointerEventsNone(this.displayRegion),s.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=s.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",s.setElementPointerEventsNone(this.displayRegionContainer),s.setElementTouchActionNone(this.displayRegionContainer),S.addControl(this.element,p.controlOptions),this._resizeWithViewer=p.controlOptions.anchor!==s.ControlAnchor.ABSOLUTE&&p.controlOptions.anchor!==s.ControlAnchor.NONE,p.width&&p.height?(this.setWidth(p.width),this.setHeight(p.height)):this._resizeWithViewer&&(g=s.getElementSize(S.element),this.element.style.height=Math.round(g.y*p.sizeRatio)+"px",this.element.style.width=Math.round(g.x*p.sizeRatio)+"px",this.oldViewerSize=g,v=s.getElementSize(this.element),this.elementArea=v.x*v.y),this.oldContainerSize=new s.Point(0,0),s.Viewer.apply(this,[p]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),p.navigatorRotate&&(I(p.viewer.viewport?p.viewer.viewport.getRotation():p.viewer.degrees||0,!0),p.viewer.addHandler("rotate",function(M){I(M.degrees,M.immediately)})),this.innerTracker.destroy(),this.innerTracker=new s.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:s.delegate(this,l),clickHandler:s.delegate(this,a),releaseHandler:s.delegate(this,c),scrollHandler:s.delegate(this,u),preProcessEventHandler:function(M){M.eventType==="wheel"&&(M.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",s.setElementPointerEventsNone(this.canvas),s.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){E.viewport&&E.viewport.goHome(!0)}),S.world.addHandler("item-index-change",function(M){window.setTimeout(function(){var k=E.world.getItemAt(M.previousIndex);E.world.setItemIndex(k,M.newIndex)},1)}),S.world.addHandler("remove-item",function(M){var k=M.item,F=E._getMatchingItem(k);F&&E.world.removeItem(F)}),this.update(S.viewport)},s.extend(s.Navigator.prototype,s.EventSource.prototype,s.Viewer.prototype,{updateSize:function(){if(this.viewport){var p=new s.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);p.equals(this.oldContainerSize)||(this.viewport.resize(p,!0),this.viewport.goHome(!0),this.oldContainerSize=p,this.world.update(),this.world.draw(),this.update(this.viewer.viewport))}},setWidth:function(p){this.width=p,this.element.style.width=typeof p=="number"?p+"px":p,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(p){this.height=p,this.element.style.height=typeof p=="number"?p+"px":p,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(p){return this.viewport.setFlip(p),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(p){d(this.canvas,p),d(this.element,p)},update:function(p){var g,v,_,b,x,C;if(p||(p=this.viewer.viewport),g=s.getElementSize(this.viewer.element),this._resizeWithViewer&&g.x&&g.y&&!g.equals(this.oldViewerSize)&&(this.oldViewerSize=g,this.maintainSizeRatio||!this.elementArea?(v=g.x*this.sizeRatio,_=g.y*this.sizeRatio):(v=Math.sqrt(this.elementArea*(g.x/g.y)),_=this.elementArea/v),this.element.style.width=Math.round(v)+"px",this.element.style.height=Math.round(_)+"px",this.elementArea||(this.elementArea=v*_),this.updateSize()),p&&this.viewport){if(b=p.getBoundsNoRotate(!0),x=this.viewport.pixelFromPointNoRotate(b.getTopLeft(),!1),C=this.viewport.pixelFromPointNoRotate(b.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var S=p.getRotation(!0);h(this.displayRegion,-S)}var E=this.displayRegion.style;E.display=this.world.getItemCount()?"block":"none",E.top=x.y.toFixed(2)+"px",E.left=x.x.toFixed(2)+"px";var I=C.x-x.x,M=C.y-x.y;E.width=Math.round(Math.max(I,0))+"px",E.height=Math.round(Math.max(M,0))+"px"}},addTiledImage:function(p){var g=this,v=p.originalTiledImage;delete p.original;var _=s.extend({},p,{success:function(b){var x=b.item;function C(){g._matchBounds(x,v)}x._originalForNavigator=v,g._matchBounds(x,v,!0),g._matchOpacity(x,v),g._matchCompositeOperation(x,v),v.addHandler("bounds-change",C),v.addHandler("clip-change",C),v.addHandler("opacity-change",function(){g._matchOpacity(x,v)}),v.addHandler("composite-operation-change",function(){g._matchCompositeOperation(x,v)})}});return s.Viewer.prototype.addTiledImage.apply(this,[_])},destroy:function(){return s.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(p){for(var g,v=this.world.getItemCount(),_=0;_<v;_++)if((g=this.world.getItemAt(_))._originalForNavigator===p)return g;return null},_matchBounds:function(p,g,v){var _=g.getBoundsNoRotate();p.setPosition(_.getTopLeft(),v),p.setWidth(_.width,v),p.setRotation(g.getRotation(),v),p.setClip(g.getClip()),p.setFlip(g.getFlip())},_matchOpacity:function(p,g){p.setOpacity(g.opacity)},_matchCompositeOperation:function(p,g){p.setCompositeOperation(g.compositeOperation)}})}(e),function(s){var a={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};s.extend(s,{getString:function(l){var c,u=l.split("."),h=null,d=arguments,p=a;for(c=0;c<u.length-1;c++)p=p[u[c]]||{};return typeof(h=p[u[c]])!="string"&&(s.console.error("Untranslated source string:",l),h=""),h.replace(/\{\d+\}/g,function(g){var v=parseInt(g.match(/\d+/),10)+1;return v<d.length?d[v]:""})},setString:function(l,c){var u,h=l.split("."),d=a;for(u=0;u<h.length-1;u++)d[h[u]]||(d[h[u]]={}),d=d[h[u]];d[h[u]]=c}})}(e),function(s){s.Point=function(a,l){this.x=typeof a=="number"?a:0,this.y=typeof l=="number"?l:0},s.Point.prototype={clone:function(){return new s.Point(this.x,this.y)},plus:function(a){return new s.Point(this.x+a.x,this.y+a.y)},minus:function(a){return new s.Point(this.x-a.x,this.y-a.y)},times:function(a){return new s.Point(this.x*a,this.y*a)},divide:function(a){return new s.Point(this.x/a,this.y/a)},negate:function(){return new s.Point(-this.x,-this.y)},distanceTo:function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},squaredDistanceTo:function(a){return Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2)},apply:function(a){return new s.Point(a(this.x),a(this.y))},equals:function(a){return a instanceof s.Point&&this.x===a.x&&this.y===a.y},rotate:function(a,l){var c,u;if(l=l||new s.Point(0,0),a%90==0)switch(s.positiveModulo(a,360)){case 0:c=1,u=0;break;case 90:c=0,u=1;break;case 180:c=-1,u=0;break;case 270:c=0,u=-1}else{var h=a*Math.PI/180;c=Math.cos(h),u=Math.sin(h)}var d=c*(this.x-l.x)-u*(this.y-l.y)+l.x,p=u*(this.x-l.x)+c*(this.y-l.y)+l.y;return new s.Point(d,p)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(e),function(s){s.TileSource=function(a,l,c,u,h,d){var p,g,v=this,_=arguments;if(p=s.isPlainObject(a)?a:{width:_[0],height:_[1],tileSize:_[2],tileOverlap:_[3],minLevel:_[4],maxLevel:_[5]},s.EventSource.call(this),s.extend(!0,this,p),!this.success){for(g=0;g<arguments.length;g++)if(s.isFunction(arguments[g])){this.success=arguments[g];break}}this.success&&this.addHandler("ready",function(b){v.success(b)}),s.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new s.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=p.width&&p.height?p.width/p.height:1,this.dimensions=new s.Point(p.width,p.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=p.tileOverlap?p.tileOverlap:0,this.minLevel=p.minLevel?p.minLevel:0,this.maxLevel=p.maxLevel!==void 0&&p.maxLevel!==null?p.maxLevel:p.width&&p.height?Math.ceil(Math.log(Math.max(p.width,p.height))/Math.log(2)):0,this.success&&s.isFunction(this.success)&&this.success(this))},s.TileSource.prototype={getTileSize:function(a){return s.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(a){return this._tileWidth?this._tileWidth:this.getTileSize(a)},getTileHeight:function(a){return this._tileHeight?this._tileHeight:this.getTileSize(a)},setMaxLevel:function(a){this.maxLevel=a,this._memoizeLevelScale()},getLevelScale:function(a){return this._memoizeLevelScale(),this.getLevelScale(a)},_memoizeLevelScale:function(){var a,l={};for(a=0;a<=this.maxLevel;a++)l[a]=1/Math.pow(2,this.maxLevel-a);this.getLevelScale=function(c){return l[c]}},getNumTiles:function(a){var l=this.getLevelScale(a),c=Math.ceil(l*this.dimensions.x/this.getTileWidth(a)),u=Math.ceil(l*this.dimensions.y/this.getTileHeight(a));return new s.Point(c,u)},getPixelRatio:function(a){var l=this.dimensions.times(this.getLevelScale(a)),c=1/l.x*s.pixelDensityRatio,u=1/l.y*s.pixelDensityRatio;return new s.Point(c,u)},getClosestLevel:function(){var a,l;for(a=this.minLevel+1;a<=this.maxLevel&&!((l=this.getNumTiles(a)).x>1||l.y>1);a++);return a-1},getTileAtPoint:function(a,l){var c=l.x>=0&&l.x<=1&&l.y>=0&&l.y<=1/this.aspectRatio;s.console.assert(c,"[TileSource.getTileAtPoint] must be called with a valid point.");var u=this.dimensions.x*this.getLevelScale(a),h=l.x*u,d=l.y*u,p=Math.floor(h/this.getTileWidth(a)),g=Math.floor(d/this.getTileHeight(a));return l.x>=1&&(p=this.getNumTiles(a).x-1),l.y>=1/this.aspectRatio-1e-15&&(g=this.getNumTiles(a).y-1),new s.Point(p,g)},getTileBounds:function(a,l,c,u){var h=this.dimensions.times(this.getLevelScale(a)),d=this.getTileWidth(a),p=this.getTileHeight(a),g=l===0?0:d*l-this.tileOverlap,v=c===0?0:p*c-this.tileOverlap,_=d+(l===0?1:2)*this.tileOverlap,b=p+(c===0?1:2)*this.tileOverlap,x=1/h.x;return _=Math.min(_,h.x-g),b=Math.min(b,h.y-v),u?new s.Rect(0,0,_,b):new s.Rect(g*x,v*x,_*x,b*x)},getImageInfo:function(a){var l,c,u,h,d,p,g,v=this;a&&(g=(p=(d=a.split("/"))[d.length-1]).lastIndexOf("."))>-1&&(d[d.length-1]=p.slice(0,g));var _=null;if(this.splitHashDataForPost){var b=a.indexOf("#");b!==-1&&(_=a.substring(b+1),a=a.substr(0,b))}c=function(x){typeof x=="string"&&(x=s.parseXml(x));var C=s.TileSource.determineType(v,x,a);C?((h=C.prototype.configure.apply(v,[x,a,_])).ajaxWithCredentials===void 0&&(h.ajaxWithCredentials=v.ajaxWithCredentials),u=new C(h),v.ready=!0,v.raiseEvent("ready",{tileSource:u})):v.raiseEvent("open-failed",{message:"Unable to load TileSource",source:a})},a.match(/\.js$/)?(l=a.split("/").pop().replace(".js",""),s.jsonp({url:a,async:!1,callbackName:l,callback:c})):s.makeAjaxRequest({url:a,postData:_,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(x){var C=function(S){var E,I,M=S.responseText,k=S.status;if(!S)throw new Error(s.getString("Errors.Security"));if(S.status!==200&&S.status!==0)throw E=(k=S.status)===404?"Not Found":S.statusText,new Error(s.getString("Errors.Status",k,E));if(M.match(/^\s*<.*/))try{I=S.responseXML&&S.responseXML.documentElement?S.responseXML:s.parseXml(M)}catch{I=S.responseText}else if(M.match(/\s*[{[].*/))try{I=s.parseJSON(M)}catch{I=M}else I=M;return I}(x);c(C)},error:function(x,C){var S;try{S="HTTP "+x.status+" attempting to load TileSource: "+a}catch{S=(C!==void 0&&C.toString?C.toString():"Unknown error")+" attempting to load TileSource: "+a}s.console.error(S),v.raiseEvent("open-failed",{message:S,source:a,postData:_})}})},supports:function(a,l){return!1},configure:function(a,l,c){throw new Error("Method not implemented.")},getTileUrl:function(a,l,c){throw new Error("Method not implemented.")},getTilePostData:function(a,l,c){return null},getTileAjaxHeaders:function(a,l,c){return{}},getTileHashKey:function(a,l,c,u,h,d){return p=typeof u!="string"?a+"/"+l+"_"+c:u,h?p+"+"+JSON.stringify(h):p;var p},tileExists:function(a,l,c){var u=this.getNumTiles(a);return a>=this.minLevel&&a<=this.maxLevel&&l>=0&&c>=0&&l<u.x&&c<u.y},hasTransparency:function(a,l,c,u){return!!a||l.match(".png")},downloadTileStart:function(a){var l=a.userData,c=new Image;l.image=c,l.request=null;var u=function(h){c?(c.onload=c.onerror=c.onabort=null,a.finish(h?null:c,l.request,h)):a.finish(null,l.request,"Image load failed: undefined Image instance.")};c.onload=function(){u()},c.onabort=c.onerror=function(){u("Image load aborted.")},a.loadWithAjax?l.request=s.makeAjaxRequest({url:a.src,withCredentials:a.ajaxWithCredentials,headers:a.ajaxHeaders,responseType:"arraybuffer",postData:a.postData,success:function(h){var d;try{d=new window.Blob([h.response])}catch(v){var p=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(v.name==="TypeError"&&p){var g=new p;g.append(h.response),d=g.getBlob()}}d.size===0?u("Empty image response."):c.src=(window.URL||window.webkitURL).createObjectURL(d)},error:function(h){u("Image load aborted - XHR error")}}):(a.crossOriginPolicy!==!1&&(c.crossOrigin=a.crossOriginPolicy),c.src=a.src)},downloadTileAbort:function(a){a.userData.request&&a.userData.request.abort();var l=a.userData.image;a.userData.image&&(l.onload=l.onerror=l.onabort=null)},createTileCache:function(a,l,c){a._data=l},destroyTileCache:function(a){a._data=null,a._renderedContext=null},getTileCacheData:function(a){return a._data},getTileCacheDataAsImage:function(a){return a._data},getTileCacheDataAsContext2D:function(a){if(!a._renderedContext){var l=document.createElement("canvas");l.width=a._data.width,l.height=a._data.height,a._renderedContext=l.getContext("2d"),a._renderedContext.drawImage(a._data,0,0),a._data=null}return a._renderedContext}},s.extend(!0,s.TileSource.prototype,s.EventSource.prototype),s.TileSource.determineType=function(a,l,c){var u;for(u in e)if(u.match(/.+TileSource$/)&&s.isFunction(e[u])&&s.isFunction(e[u].prototype.supports)&&e[u].prototype.supports.call(a,l,c))return e[u];return s.console.error("No TileSource was able to open %s %s",c,l),null}}(e),function(s){function a(l,c){var u,h,d=c.Image,p=d.Url,g=d.Format,v=d.Size,_=d.DisplayRect||[],b=parseInt(v.Width,10),x=parseInt(v.Height,10),C=parseInt(d.TileSize,10),S=parseInt(d.Overlap,10),E=[];for(h=0;h<_.length;h++)u=_[h].Rect,E.push(new s.DisplayRect(parseInt(u.X,10),parseInt(u.Y,10),parseInt(u.Width,10),parseInt(u.Height,10),parseInt(u.MinLevel,10),parseInt(u.MaxLevel,10)));return s.extend(!0,{width:b,height:x,tileSize:C,tileOverlap:S,minLevel:null,maxLevel:null,tilesUrl:p,fileFormat:g,displayRects:E},c)}s.DziTileSource=function(l,c,u,h,d,p,g,v,_){var b,x,C,S;if(S=s.isPlainObject(l)?l:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=S.tilesUrl,this.fileFormat=S.fileFormat,this.displayRects=S.displayRects,this.displayRects)for(b=this.displayRects.length-1;b>=0;b--)for(C=(x=this.displayRects[b]).minLevel;C<=x.maxLevel;C++)this._levelRects[C]||(this._levelRects[C]=[]),this._levelRects[C].push(x);s.TileSource.apply(this,[S])},s.extend(s.DziTileSource.prototype,s.TileSource.prototype,{supports:function(l,c){var u;return l.Image?u=l.Image.xmlns:l.documentElement&&(l.documentElement.localName!=="Image"&&l.documentElement.tagName!=="Image"||(u=l.documentElement.namespaceURI)),(u=(u||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||u.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(l,c,u){var h;return h=s.isPlainObject(l)?a(0,l):function(d,p){if(!p||!p.documentElement)throw new Error(s.getString("Errors.Xml"));var g,v,_,b,x,C=p.documentElement,S=C.localName||C.tagName,E=p.documentElement.namespaceURI,I=null,M=[];if(S==="Image")try{if((b=C.getElementsByTagName("Size")[0])===void 0&&(b=C.getElementsByTagNameNS(E,"Size")[0]),I={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:C.getAttribute("Url"),Format:C.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(C.getAttribute("Overlap"),10),TileSize:parseInt(C.getAttribute("TileSize"),10),Size:{Height:parseInt(b.getAttribute("Height"),10),Width:parseInt(b.getAttribute("Width"),10)}}},!s.imageFormatSupported(I.Image.Format))throw new Error(s.getString("Errors.ImageFormat",I.Image.Format.toUpperCase()));for((g=C.getElementsByTagName("DisplayRect"))===void 0&&(g=C.getElementsByTagNameNS(E,"DisplayRect")[0]),x=0;x<g.length;x++)(_=(v=g[x]).getElementsByTagName("Rect")[0])===void 0&&(_=v.getElementsByTagNameNS(E,"Rect")[0]),M.push({Rect:{X:parseInt(_.getAttribute("X"),10),Y:parseInt(_.getAttribute("Y"),10),Width:parseInt(_.getAttribute("Width"),10),Height:parseInt(_.getAttribute("Height"),10),MinLevel:parseInt(v.getAttribute("MinLevel"),10),MaxLevel:parseInt(v.getAttribute("MaxLevel"),10)}});return M.length&&(I.Image.DisplayRect=M),a(0,I)}catch(F){throw F instanceof Error?F:new Error(s.getString("Errors.Dzi"))}else{if(S==="Collection")throw new Error(s.getString("Errors.Dzc"));if(S==="Error"){var k=C.getElementsByTagName("Message")[0].firstChild.nodeValue;throw new Error(k)}}throw new Error(s.getString("Errors.Dzi"))}(0,l),c&&!h.tilesUrl&&(h.tilesUrl=c.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),c.search(/\.(dzi|xml|js)\?/)!==-1?h.queryParams=c.match(/\?.*/):h.queryParams=""),h},getTileUrl:function(l,c,u){return[this.tilesUrl,l,"/",c,"_",u,".",this.fileFormat,this.queryParams].join("")},tileExists:function(l,c,u){var h,d,p,g,v,_,b,x=this._levelRects[l];if(this.minLevel&&l<this.minLevel||this.maxLevel&&l>this.maxLevel)return!1;if(!x||!x.length)return!0;for(b=x.length-1;b>=0;b--)if(!(l<(h=x[b]).minLevel||l>h.maxLevel)&&(d=this.getLevelScale(l),p=h.x*d,g=h.y*d,v=p+h.width*d,_=g+h.height*d,p=Math.floor(p/this._tileWidth),g=Math.floor(g/this._tileWidth),v=Math.ceil(v/this._tileWidth),_=Math.ceil(_/this._tileWidth),p<=c&&c<v&&g<=u&&u<_))return!0;return!1}})}(e),function(s){function a(u){var h=Array.isArray(u.profile)?u.profile[0]:u.profile,d=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"].indexOf(h)!==-1,p=!1;return u.version===2&&u.profile.length>1&&u.profile[1].supports&&(p=u.profile[1].supports.indexOf("sizeByW")!==-1),u.version===3&&u.extraFeatures&&(p=u.extraFeatures.indexOf("sizeByWh")!==-1),!d||p}function l(u){for(var h=[],d=0;d<u.sizes.length;d++)h.push({url:u._id+"/full/"+u.sizes[d].width+","+(u.version===3?u.sizes[d].height:"")+"/0/default."+u.tileFormat,width:u.sizes[d].width,height:u.sizes[d].height});return h.sort(function(p,g){return p.width-g.width})}function c(u,h,d){var p,g;if(u.nodeType===3&&d)(g=u.nodeValue.trim()).match(/^\d*$/)&&(g=Number(g)),h[d]?(s.isArray(h[d])||(h[d]=[h[d]]),h[d].push(g)):h[d]=g;else if(u.nodeType===1)for(p=0;p<u.childNodes.length;p++)c(u.childNodes[p],h,u.nodeName)}s.IIIFTileSource=function(u){if(s.extend(!0,this,u),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(u.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=u.version,this.tile_width&&this.tile_height)u.tileWidth=this.tile_width,u.tileHeight=this.tile_height;else if(this.tile_width)u.tileSize=this.tile_width;else if(this.tile_height)u.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)u.tileWidth=this.tiles[0].width,u.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var h=0;h<this.tiles.length;h++)for(var d=0;d<this.tiles[h].scaleFactors.length;d++){var p=this.tiles[h].scaleFactors[d];this.scale_factors.push(p),u.tileSizePerScaleFactor[p]={width:this.tiles[h].width,height:this.tiles[h].height||this.tiles[h].width}}}else if(a(u)){for(var g=Math.min(this.height,this.width),v=[256,512,1024],_=[],b=0;b<v.length;b++)v[b]<=g&&_.push(v[b]);_.length>0?u.tileSize=Math.max.apply(null,_):u.tileSize=g}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,u.levels=l(this),s.extend(!0,u,{width:u.levels[u.levels.length-1].width,height:u.levels[u.levels.length-1].height,tileSize:Math.max(u.height,u.width),tileOverlap:0,minLevel:0,maxLevel:u.levels.length-1}),this.levels=u.levels):s.console.error("Nothing in the info.json to construct image pyramids from");if(!u.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var x=Math.max.apply(null,this.scale_factors);u.maxLevel=Math.round(Math.log(x)*Math.LOG2E)}else u.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));if(this.sizes){var C=this.sizes.length;C!==u.maxLevel&&C!==u.maxLevel+1||(this.levelSizes=this.sizes.slice().sort((S,E)=>S.width-E.width),C===u.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}s.TileSource.apply(this,[u])},s.extend(s.IIIFTileSource.prototype,s.TileSource.prototype,{supports:function(u,h){return!!(u.protocol&&u.protocol==="http://iiif.io/api/image"||u["@context"]&&(u["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||u["@context"]==="http://iiif.io/api/image/1/context.json")||u.profile&&u.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||u.identifier&&u.width&&u.height||u.documentElement&&u.documentElement.tagName==="info"&&u.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(u,h,d){if(s.isPlainObject(u)){if(u["@context"]){var p=u["@context"];if(Array.isArray(p)){for(var g=0;g<p.length;g++)if(typeof p[g]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(p[g])||p[g]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){p=p[g];break}}switch(p){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":u.version=1;break;case"http://iiif.io/api/image/2/context.json":u.version=2;break;case"http://iiif.io/api/image/3/context.json":u.version=3;break;default:s.console.error("Data has a @context property which contains no known IIIF context URI.")}}else u["@context"]="http://iiif.io/api/image/1.0/context.json",u["@id"]=h.replace("/info.json",""),u.version=1;if(u.preferredFormats){for(var v=0;v<u.preferredFormats.length;v++)if(e.imageFormatSupported(u.preferredFormats[v])){u.tileFormat=u.preferredFormats[v];break}}return u}var _=function(b){if(!b||!b.documentElement)throw new Error(s.getString("Errors.Xml"));var x=b.documentElement,C=null;if(x.tagName==="info")try{return c(x,C={}),C}catch(S){throw S instanceof Error?S:new Error(s.getString("Errors.IIIF"))}throw new Error(s.getString("Errors.IIIF"))}(u);return _["@context"]="http://iiif.io/api/image/1.0/context.json",_["@id"]=h.replace("/info.xml",""),_.version=1,_},getTileWidth:function(u){if(this.emulateLegacyImagePyramid)return s.TileSource.prototype.getTileWidth.call(this,u);var h=Math.pow(2,this.maxLevel-u);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[h]?this.tileSizePerScaleFactor[h].width:this._tileWidth},getTileHeight:function(u){if(this.emulateLegacyImagePyramid)return s.TileSource.prototype.getTileHeight.call(this,u);var h=Math.pow(2,this.maxLevel-u);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[h]?this.tileSizePerScaleFactor[h].height:this._tileHeight},getLevelScale:function(u){if(this.emulateLegacyImagePyramid){var h=NaN;return this.levels.length>0&&u>=this.minLevel&&u<=this.maxLevel&&(h=this.levels[u].width/this.levels[this.maxLevel].width),h}return s.TileSource.prototype.getLevelScale.call(this,u)},getNumTiles:function(u){if(this.emulateLegacyImagePyramid)return this.getLevelScale(u)?new s.Point(1,1):new s.Point(0,0);if(this.levelSizes){var h=this.levelSizes[u],d=Math.ceil(h.width/this.getTileWidth(u)),p=Math.ceil(h.height/this.getTileHeight(u));return new s.Point(d,p)}return s.TileSource.prototype.getNumTiles.call(this,u)},getTileAtPoint:function(u,h){if(this.emulateLegacyImagePyramid)return new s.Point(0,0);if(this.levelSizes){var d=h.x>=0&&h.x<=1&&h.y>=0&&h.y<=1/this.aspectRatio;s.console.assert(d,"[TileSource.getTileAtPoint] must be called with a valid point.");var p=this.levelSizes[u].width,g=h.x*p,v=h.y*p,_=Math.floor(g/this.getTileWidth(u)),b=Math.floor(v/this.getTileHeight(u));return h.x>=1&&(_=this.getNumTiles(u).x-1),h.y>=1/this.aspectRatio-1e-15&&(b=this.getNumTiles(u).y-1),new s.Point(_,b)}return s.TileSource.prototype.getTileAtPoint.call(this,u,h)},getTileUrl:function(u,h,d){if(this.emulateLegacyImagePyramid){var p=null;return this.levels.length>0&&u>=this.minLevel&&u<=this.maxLevel&&(p=this.levels[u].url),p}var g,v,_,b,x,C,S,E,I,M,k,F,P,Q,N,W=Math.pow(.5,this.maxLevel-u);return this.levelSizes?(g=this.levelSizes[u].width,v=this.levelSizes[u].height):(g=Math.ceil(this.width*W),v=Math.ceil(this.height*W)),_=this.getTileWidth(u),b=this.getTileHeight(u),x=Math.round(_/W),C=Math.round(b/W),N=this.version===1?"native."+this.tileFormat:"default."+this.tileFormat,g<_&&v<b?(F=this.version===2&&g===this.width?"full":this.version===3&&g===this.width&&v===this.height?"max":this.version===3?g+","+v:g+",",S="full"):(E=h*x,I=d*C,M=Math.min(x,this.width-E),k=Math.min(C,this.height-I),S=h===0&&d===0&&M===this.width&&k===this.height?"full":[E,I,M,k].join(","),P=Math.min(_,g-h*_),Q=Math.min(b,v-d*b),F=this.version===2&&P===this.width?"full":this.version===3&&P===this.width&&Q===this.height?"max":this.version===3?P+","+Q:P+","),[this._id,S,F,"0",N].join("/")},__testonly__:{canBeTiled:a,constructLevels:l}})}(e),function(s){s.OsmTileSource=function(a,l,c,u,h){var d;(d=s.isPlainObject(a)?a:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width&&d.height||(d.width=65572864,d.height=65572864),d.tileSize||(d.tileSize=256,d.tileOverlap=0),d.tilesUrl||(d.tilesUrl="http://tile.openstreetmap.org/"),d.minLevel=8,s.TileSource.apply(this,[d])},s.extend(s.OsmTileSource.prototype,s.TileSource.prototype,{supports:function(a,l){return a.type&&a.type==="openstreetmaps"},configure:function(a,l,c){return a},getTileUrl:function(a,l,c){return this.tilesUrl+(a-8)+"/"+l+"/"+c+".png"}})}(e),function(s){s.TmsTileSource=function(a,l,c,u,h){var d;d=s.isPlainObject(a)?a:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var p,g=256*Math.ceil(d.width/256),v=256*Math.ceil(d.height/256);p=g>v?g/256:v/256,d.maxLevel=Math.ceil(Math.log(p)/Math.log(2))-1,d.tileSize=256,d.width=g,d.height=v,s.TileSource.apply(this,[d])},s.extend(s.TmsTileSource.prototype,s.TileSource.prototype,{supports:function(a,l){return a.type&&a.type==="tiledmapservice"},configure:function(a,l,c){return a},getTileUrl:function(a,l,c){var u=this.getNumTiles(a).y-1;return this.tilesUrl+a+"/"+l+"/"+(u-c)+".png"}})}(e),function(s){s.ZoomifyTileSource=function(a){a.tileSize===void 0&&(a.tileSize=256),a.fileFormat===void 0&&(a.fileFormat="jpg",this.fileFormat=a.fileFormat);var l={x:a.width,y:a.height};for(a.imageSizes=[{x:a.width,y:a.height}],a.gridSize=[this._getGridSize(a.width,a.height,a.tileSize)];parseInt(l.x,10)>a.tileSize||parseInt(l.y,10)>a.tileSize;)l.x=Math.floor(l.x/2),l.y=Math.floor(l.y/2),a.imageSizes.push({x:l.x,y:l.y}),a.gridSize.push(this._getGridSize(l.x,l.y,a.tileSize));a.imageSizes.reverse(),a.gridSize.reverse(),a.minLevel=0,a.maxLevel=a.gridSize.length-1,e.TileSource.apply(this,[a])},s.extend(s.ZoomifyTileSource.prototype,s.TileSource.prototype,{_getGridSize:function(a,l,c){return{x:Math.ceil(a/c),y:Math.ceil(l/c)}},_calculateAbsoluteTileNumber:function(a,l,c){for(var u=0,h={},d=0;d<a;d++)u+=(h=this.gridSize[d]).x*h.y;return u+((h=this.gridSize[a]).x*c+l)},supports:function(a,l){return a.type&&a.type==="zoomifytileservice"},configure:function(a,l,c){return a},getTileUrl:function(a,l,c){var u,h=this._calculateAbsoluteTileNumber(a,l,c);return u=Math.floor(h/256),this.tilesUrl+"TileGroup"+u+"/"+a+"-"+l+"-"+c+"."+this.fileFormat}})}(e),function(s){function a(l,c){return c.levels}s.LegacyTileSource=function(l){var c,u,h;s.isArray(l)&&(c={type:"legacy-image-pyramid",levels:l}),c.levels=function(d){var p,g,v=[];for(g=0;g<d.length;g++)(p=d[g]).height&&p.width&&p.url?v.push({url:p.url,width:Number(p.width),height:Number(p.height)}):s.console.error("Unsupported image format: %s",p.url?p.url:"<no URL>");return v.sort(function(_,b){return _.height-b.height})}(c.levels),c.levels.length>0?(u=c.levels[c.levels.length-1].width,h=c.levels[c.levels.length-1].height):(u=0,h=0,s.console.error("No supported image formats found")),s.extend(!0,c,{width:u,height:h,tileSize:Math.max(h,u),tileOverlap:0,minLevel:0,maxLevel:c.levels.length>0?c.levels.length-1:0}),s.TileSource.apply(this,[c]),this.levels=c.levels},s.extend(s.LegacyTileSource.prototype,s.TileSource.prototype,{supports:function(l,c){return l.type&&l.type==="legacy-image-pyramid"||l.documentElement&&l.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(l,c,u){return s.isPlainObject(l)?a(0,l):function(h,d){if(!d||!d.documentElement)throw new Error(s.getString("Errors.Xml"));var p,g,v=d.documentElement,_=v.tagName,b=null,x=[];if(_==="image")try{for(b={type:v.getAttribute("type"),levels:[]},x=v.getElementsByTagName("level"),g=0;g<x.length;g++)p=x[g],b.levels.push({url:p.getAttribute("url"),width:parseInt(p.getAttribute("width"),10),height:parseInt(p.getAttribute("height"),10)});return a(0,b)}catch(C){throw C instanceof Error?C:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(_==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(_==="error")throw new Error("Error: "+d)}throw new Error("Unknown element "+_)}(0,l)},getLevelScale:function(l){var c=NaN;return this.levels.length>0&&l>=this.minLevel&&l<=this.maxLevel&&(c=this.levels[l].width/this.levels[this.maxLevel].width),c},getNumTiles:function(l){return this.getLevelScale(l)?new s.Point(1,1):new s.Point(0,0)},getTileUrl:function(l,c,u){var h=null;return this.levels.length>0&&l>=this.minLevel&&l<=this.maxLevel&&(h=this.levels[l].url),h}})}(e),function(s){s.ImageTileSource=function(a){a=s.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1},a),s.TileSource.apply(this,[a])},s.extend(s.ImageTileSource.prototype,s.TileSource.prototype,{supports:function(a,l){return a.type&&a.type==="image"},configure:function(a,l,c){return a},getImageInfo:function(a){var l=this._image=new Image,c=this;this.crossOriginPolicy&&(l.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(l.useCredentials=this.ajaxWithCredentials),s.addEvent(l,"load",function(){c.width=l.naturalWidth,c.height=l.naturalHeight,c.aspectRatio=c.width/c.height,c.dimensions=new s.Point(c.width,c.height),c._tileWidth=c.width,c._tileHeight=c.height,c.tileOverlap=0,c.minLevel=0,c.levels=c._buildLevels(),c.maxLevel=c.levels.length-1,c.ready=!0,c.raiseEvent("ready",{tileSource:c})}),s.addEvent(l,"error",function(){c.raiseEvent("open-failed",{message:"Error loading image at "+a,source:a})}),l.src=a},getLevelScale:function(a){var l=NaN;return a>=this.minLevel&&a<=this.maxLevel&&(l=this.levels[a].width/this.levels[this.maxLevel].width),l},getNumTiles:function(a){return this.getLevelScale(a)?new s.Point(1,1):new s.Point(0,0)},getTileUrl:function(a,l,c){var u=null;return a>=this.minLevel&&a<=this.maxLevel&&(u=this.levels[a].url),u},getContext2D:function(a,l,c){var u=null;return a>=this.minLevel&&a<=this.maxLevel&&(u=this.levels[a].context2D),u},destroy:function(a){this._freeupCanvasMemory(a)},_buildLevels:function(){var a=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!s.supportsCanvas)return delete this._image,a;var l=this._image.naturalWidth,c=this._image.naturalHeight,u=document.createElement("canvas"),h=u.getContext("2d");if(u.width=l,u.height=c,h.drawImage(this._image,0,0,l,c),a[0].context2D=h,delete this._image,s.isCanvasTainted(u))return a;for(;l>=2&&c>=2;){l=Math.floor(l/2),c=Math.floor(c/2);var d=document.createElement("canvas"),p=d.getContext("2d");d.width=l,d.height=c,p.drawImage(u,0,0,l,c),a.splice(0,0,{context2D:p,width:l,height:c}),u=d,h=p}return a},_freeupCanvasMemory:function(a){for(var l=0;l<this.levels.length;l++)this.levels[l].context2D&&(this.levels[l].context2D.canvas.height=0,this.levels[l].context2D.canvas.width=0,a&&a.raiseEvent("image-unloaded",{context2D:this.levels[l].context2D}))}})}(e),function(s){s.TileSourceCollection=function(a,l,c,u){s.console.error("TileSourceCollection is deprecated; use World instead")}}(e),function(s){function a(u){s.requestAnimationFrame(function(){var h,d;(h=u).shouldFade&&(d=1-(s.now()-h.fadeBeginTime)/h.fadeLength,d=Math.min(1,d),d=Math.max(0,d),h.imgGroup&&s.setElementOpacity(h.imgGroup,d,!0),d>0&&a(h))})}function l(u,h){var d;u.element.disabled||(h>=s.ButtonState.GROUP&&u.currentState===s.ButtonState.REST&&((d=u).shouldFade=!1,d.imgGroup&&s.setElementOpacity(d.imgGroup,1,!0),u.currentState=s.ButtonState.GROUP),h>=s.ButtonState.HOVER&&u.currentState===s.ButtonState.GROUP&&(u.imgHover&&(u.imgHover.style.visibility=""),u.currentState=s.ButtonState.HOVER),h>=s.ButtonState.DOWN&&u.currentState===s.ButtonState.HOVER&&(u.imgDown&&(u.imgDown.style.visibility=""),u.currentState=s.ButtonState.DOWN))}function c(u,h){var d;u.element.disabled||(h<=s.ButtonState.HOVER&&u.currentState===s.ButtonState.DOWN&&(u.imgDown&&(u.imgDown.style.visibility="hidden"),u.currentState=s.ButtonState.HOVER),h<=s.ButtonState.GROUP&&u.currentState===s.ButtonState.HOVER&&(u.imgHover&&(u.imgHover.style.visibility="hidden"),u.currentState=s.ButtonState.GROUP),h<=s.ButtonState.REST&&u.currentState===s.ButtonState.GROUP&&((d=u).shouldFade=!0,d.fadeBeginTime=s.now()+d.fadeDelay,window.setTimeout(function(){a(d)},d.fadeDelay),u.currentState=s.ButtonState.REST))}s.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},s.Button=function(u){var h=this;s.EventSource.call(this),s.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:s.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:s.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},u),this.element=u.element||s.makeNeutralElement("div"),u.element||(this.imgRest=s.makeTransparentImage(this.srcRest),this.imgGroup=s.makeTransparentImage(this.srcGroup),this.imgHover=s.makeTransparentImage(this.srcHover),this.imgDown=s.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,s.setElementPointerEventsNone(this.imgRest),s.setElementPointerEventsNone(this.imgGroup),s.setElementPointerEventsNone(this.imgHover),s.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",s.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=s.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new s.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(d){d.insideElementPressed?(l(h,s.ButtonState.DOWN),h.raiseEvent("enter",{originalEvent:d.originalEvent})):d.buttonDownAny||l(h,s.ButtonState.HOVER)},focusHandler:function(d){h.tracker.enterHandler(d),h.raiseEvent("focus",{originalEvent:d.originalEvent})},leaveHandler:function(d){c(h,s.ButtonState.GROUP),d.insideElementPressed&&h.raiseEvent("exit",{originalEvent:d.originalEvent})},blurHandler:function(d){h.tracker.leaveHandler(d),h.raiseEvent("blur",{originalEvent:d.originalEvent})},pressHandler:function(d){l(h,s.ButtonState.DOWN),h.raiseEvent("press",{originalEvent:d.originalEvent})},releaseHandler:function(d){d.insideElementPressed&&d.insideElementReleased?(c(h,s.ButtonState.HOVER),h.raiseEvent("release",{originalEvent:d.originalEvent})):d.insideElementPressed?c(h,s.ButtonState.GROUP):l(h,s.ButtonState.HOVER)},clickHandler:function(d){d.quick&&h.raiseEvent("click",{originalEvent:d.originalEvent})},keyHandler:function(d){d.keyCode===13?(h.raiseEvent("click",{originalEvent:d.originalEvent}),h.raiseEvent("release",{originalEvent:d.originalEvent}),d.preventDefault=!0):d.preventDefault=!1}}),c(this,s.ButtonState.REST)},s.extend(s.Button.prototype,s.EventSource.prototype,{notifyGroupEnter:function(){l(this,s.ButtonState.GROUP)},notifyGroupExit:function(){c(this,s.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),s.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),s.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}})}(e),function(s){s.ButtonGroup=function(a){s.extend(!0,this,{buttons:[],clickTimeThreshold:s.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:s.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},a);var l,c=this.buttons.concat([]),u=this;if(this.element=a.element||s.makeNeutralElement("div"),!a.group)for(this.element.style.display="inline-block",l=0;l<c.length;l++)this.element.appendChild(c[l].element);s.setElementTouchActionNone(this.element),this.tracker=new s.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(h){var d;for(d=0;d<u.buttons.length;d++)u.buttons[d].notifyGroupEnter()},leaveHandler:function(h){var d;if(!h.insideElementPressed)for(d=0;d<u.buttons.length;d++)u.buttons[d].notifyGroupExit()}})},s.ButtonGroup.prototype={addButton:function(a){this.buttons.push(a),this.element.appendChild(a.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var a=this.buttons.pop();this.element.removeChild(a.element),a.destroy()}this.tracker.destroy(),this.element=null}}}(e),function(s){s.Rect=function(a,l,c,u,h){var d,p;this.x=typeof a=="number"?a:0,this.y=typeof l=="number"?l:0,this.width=typeof c=="number"?c:0,this.height=typeof u=="number"?u:0,this.degrees=typeof h=="number"?h:0,this.degrees=s.positiveModulo(this.degrees,360),this.degrees>=270?(d=this.getTopRight(),this.x=d.x,this.y=d.y,p=this.height,this.height=this.width,this.width=p,this.degrees-=270):this.degrees>=180?(d=this.getBottomRight(),this.x=d.x,this.y=d.y,this.degrees-=180):this.degrees>=90&&(d=this.getBottomLeft(),this.x=d.x,this.y=d.y,p=this.height,this.height=this.width,this.width=p,this.degrees-=90)},s.Rect.fromSummits=function(a,l,c){var u=a.distanceTo(l),h=a.distanceTo(c),d=l.minus(a),p=Math.atan(d.y/d.x);return d.x<0?p+=Math.PI:d.y<0&&(p+=2*Math.PI),new s.Rect(a.x,a.y,u,h,p/Math.PI*180)},s.Rect.prototype={clone:function(){return new s.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new s.Point(this.x,this.y)},getBottomRight:function(){return new s.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new s.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new s.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new s.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new s.Point(this.width,this.height)},equals:function(a){return a instanceof s.Rect&&this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height&&this.degrees===a.degrees},times:function(a){return new s.Rect(this.x*a,this.y*a,this.width*a,this.height*a,this.degrees)},translate:function(a){return new s.Rect(this.x+a.x,this.y+a.y,this.width,this.height,this.degrees)},union:function(a){var l=this.getBoundingBox(),c=a.getBoundingBox(),u=Math.min(l.x,c.x),h=Math.min(l.y,c.y),d=Math.max(l.x+l.width,c.x+c.width),p=Math.max(l.y+l.height,c.y+c.height);return new s.Rect(u,h,d-u,p-h)},intersection:function(a){var l=1e-10,c=[],u=this.getTopLeft();a.containsPoint(u,l)&&c.push(u);var h=this.getTopRight();a.containsPoint(h,l)&&c.push(h);var d=this.getBottomLeft();a.containsPoint(d,l)&&c.push(d);var p=this.getBottomRight();a.containsPoint(p,l)&&c.push(p);var g=a.getTopLeft();this.containsPoint(g,l)&&c.push(g);var v=a.getTopRight();this.containsPoint(v,l)&&c.push(v);var _=a.getBottomLeft();this.containsPoint(_,l)&&c.push(_);var b=a.getBottomRight();this.containsPoint(b,l)&&c.push(b);for(var x=this._getSegments(),C=a._getSegments(),S=0;S<x.length;S++)for(var E=x[S],I=0;I<C.length;I++){var M=C[I],k=F(E[0],E[1],M[0],M[1]);k&&c.push(k)}function F(V,Y,Z,ue){var $=Y.minus(V),ee=ue.minus(Z),oe=-ee.x*$.y+$.x*ee.y;if(oe===0)return null;var ge=($.x*(V.y-Z.y)-$.y*(V.x-Z.x))/oe,se=(ee.x*(V.y-Z.y)-ee.y*(V.x-Z.x))/oe;return-1e-10<=ge&&ge<=1-l&&-1e-10<=se&&se<=1-l?new s.Point(V.x+se*$.x,V.y+se*$.y):null}if(c.length===0)return null;for(var P=c[0].x,Q=c[0].x,N=c[0].y,W=c[0].y,q=1;q<c.length;q++){var J=c[q];J.x<P&&(P=J.x),J.x>Q&&(Q=J.x),J.y<N&&(N=J.y),J.y>W&&(W=J.y)}return new s.Rect(P,N,Q-P,W-N)},_getSegments:function(){var a=this.getTopLeft(),l=this.getTopRight(),c=this.getBottomLeft(),u=this.getBottomRight();return[[a,l],[l,u],[u,c],[c,a]]},rotate:function(a,l){if((a=s.positiveModulo(a,360))===0)return this.clone();l=l||this.getCenter();var c=this.getTopLeft().rotate(a,l),u=this.getTopRight().rotate(a,l).minus(c);u=u.apply(function(d){return Math.abs(d)<1e-15?0:d});var h=Math.atan(u.y/u.x);return u.x<0?h+=Math.PI:u.y<0&&(h+=2*Math.PI),new s.Rect(c.x,c.y,this.width,this.height,h/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var a=this.getTopLeft(),l=this.getTopRight(),c=this.getBottomLeft(),u=this.getBottomRight(),h=Math.min(a.x,l.x,c.x,u.x),d=Math.max(a.x,l.x,c.x,u.x),p=Math.min(a.y,l.y,c.y,u.y),g=Math.max(a.y,l.y,c.y,u.y);return new s.Rect(h,p,d-h,g-p)},getIntegerBoundingBox:function(){var a=this.getBoundingBox(),l=Math.floor(a.x),c=Math.floor(a.y),u=Math.ceil(a.width+a.x-l),h=Math.ceil(a.height+a.y-c);return new s.Rect(l,c,u,h)},containsPoint:function(a,l){l=l||0;var c=this.getTopLeft(),u=this.getTopRight(),h=this.getBottomLeft(),d=u.minus(c),p=h.minus(c);return(a.x-c.x)*d.x+(a.y-c.y)*d.y>=-l&&(a.x-u.x)*d.x+(a.y-u.y)*d.y<=l&&(a.x-c.x)*p.x+(a.y-c.y)*p.y>=-l&&(a.x-h.x)*p.x+(a.y-h.y)*p.y<=l},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(e),function(s){var a={};function l(_){var b;_.quick&&(b=this.scroll==="horizontal"?Math.floor(_.position.x/(this.panelWidth+4)):Math.floor(_.position.y/this.panelHeight),this.viewer.goToPage(b)),this.element.focus()}function c(_){if(this.dragging=!0,this.element){var b=Number(this.element.style.marginLeft.replace("px","")),x=Number(this.element.style.marginTop.replace("px","")),C=Number(this.element.style.width.replace("px","")),S=Number(this.element.style.height.replace("px","")),E=s.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-_.delta.x>0?b>-(C-E.x)&&(this.element.style.marginLeft=b+2*_.delta.x+"px",h(this,E.x,b+2*_.delta.x)):-_.delta.x<0&&b<0&&(this.element.style.marginLeft=b+2*_.delta.x+"px",h(this,E.x,b+2*_.delta.x)):-_.delta.y>0?x>-(S-E.y)&&(this.element.style.marginTop=x+2*_.delta.y+"px",h(this,E.y,x+2*_.delta.y)):-_.delta.y<0&&x<0&&(this.element.style.marginTop=x+2*_.delta.y+"px",h(this,E.y,x+2*_.delta.y))}}function u(_){if(this.element){var b=Number(this.element.style.marginLeft.replace("px","")),x=Number(this.element.style.marginTop.replace("px","")),C=Number(this.element.style.width.replace("px","")),S=Number(this.element.style.height.replace("px","")),E=s.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?_.scroll>0?b>-(C-E.x)&&(this.element.style.marginLeft=b-60*_.scroll+"px",h(this,E.x,b-60*_.scroll)):_.scroll<0&&b<0&&(this.element.style.marginLeft=b-60*_.scroll+"px",h(this,E.x,b-60*_.scroll)):_.scroll<0?x>E.y-S&&(this.element.style.marginTop=x+60*_.scroll+"px",h(this,E.y,x+60*_.scroll)):_.scroll>0&&x<0&&(this.element.style.marginTop=x+60*_.scroll+"px",h(this,E.y,x+60*_.scroll)),_.preventDefault=!0}}function h(_,b,x){var C,S,E,I,M,k;for(C=_.scroll==="horizontal"?_.panelWidth:_.panelHeight,S=Math.ceil(b/C)+5,M=S=(S=(E=Math.ceil((Math.abs(x)+b)/C)+1)-S)<0?0:S;M<E&&M<_.panels.length;M++)if(!(k=_.panels[M]).activePanel){var F,P=_.viewer.tileSources[M];F=P.referenceStripThumbnailUrl?{type:"image",url:P.referenceStripThumbnailUrl}:P,I=new s.Viewer({id:k.id,tileSources:[F],element:k,navigatorSizeRatio:_.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:_.viewer.loadTilesWithAjax,ajaxHeaders:_.viewer.ajaxHeaders,drawer:"canvas"}),s.setElementPointerEventsNone(I.canvas),s.setElementPointerEventsNone(I.container),I.innerTracker.setTracking(!1),I.outerTracker.setTracking(!1),_.miniViewers[k.id]=I,k.activePanel=!0}}function d(_){var b=_.eventSource.element;this.scroll==="horizontal"?b.style.marginBottom="0px":b.style.marginLeft="0px"}function p(_){var b=_.eventSource.element;this.scroll==="horizontal"?b.style.marginBottom="-"+s.getElementSize(b).y/2+"px":b.style.marginLeft="-"+s.getElementSize(b).x/2+"px"}function g(_){if(_.ctrl||_.alt||_.meta)_.preventDefault=!1;else switch(_.keyCode){case 38:case 39:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),_.preventDefault=!0;break;case 40:case 37:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),_.preventDefault=!0;break;default:_.preventDefault=!1}}function v(_){if(_.ctrl||_.alt||_.meta)_.preventDefault=!1;else switch(_.keyCode){case 61:case 48:case 119:case 87:case 100:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),_.preventDefault=!0;break;case 45:case 115:case 83:case 97:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),_.preventDefault=!0;break;default:_.preventDefault=!1}}s.ReferenceStrip=function(_){var b,x,C,S=_.viewer,E=s.getElementSize(S.element);for(_.id||(_.id="referencestrip-"+s.now(),this.element=s.makeNeutralElement("div"),this.element.id=_.id,this.element.className="referencestrip"),_=s.extend(!0,{sizeRatio:s.DEFAULT_SETTINGS.referenceStripSizeRatio,position:s.DEFAULT_SETTINGS.referenceStripPosition,scroll:s.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:s.DEFAULT_SETTINGS.clickTimeThreshold},_,{element:this.element}),s.extend(this,_),a[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,(x=this.element.style).marginTop="0px",x.marginRight="0px",x.marginBottom="0px",x.marginLeft="0px",x.left="0px",x.bottom="0px",x.border="0px",x.background="#000",x.position="relative",s.setElementTouchActionNone(this.element),s.setElementOpacity(this.element,.8),this.viewer=S,this.tracker=new s.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:s.delegate(this,l),dragHandler:s.delegate(this,c),scrollHandler:s.delegate(this,u),enterHandler:s.delegate(this,d),leaveHandler:s.delegate(this,p),keyDownHandler:s.delegate(this,g),keyHandler:s.delegate(this,v),preProcessEventHandler:function(I){I.eventType==="wheel"&&(I.preventDefault=!0)}}),_.width&&_.height?(this.element.style.width=_.width+"px",this.element.style.height=_.height+"px",S.addControl(this.element,{anchor:s.ControlAnchor.BOTTOM_LEFT})):_.scroll==="horizontal"?(this.element.style.width=E.x*_.sizeRatio*S.tileSources.length+12*S.tileSources.length+"px",this.element.style.height=E.y*_.sizeRatio+"px",S.addControl(this.element,{anchor:s.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=E.y*_.sizeRatio*S.tileSources.length+12*S.tileSources.length+"px",this.element.style.width=E.x*_.sizeRatio+"px",S.addControl(this.element,{anchor:s.ControlAnchor.TOP_LEFT})),this.panelWidth=E.x*this.sizeRatio+8,this.panelHeight=E.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},C=0;C<S.tileSources.length;C++)(b=s.makeNeutralElement("div")).id=this.element.id+"-"+C,b.style.width=this.panelWidth+"px",b.style.height=this.panelHeight+"px",b.style.display="inline",b.style.float="left",b.style.cssFloat="left",b.style.padding="2px",s.setElementTouchActionNone(b),s.setElementPointerEventsNone(b),this.element.appendChild(b),b.activePanel=!1,this.panels.push(b);h(this,this.scroll==="vertical"?E.y:E.x,0),this.setFocus(0)},s.ReferenceStrip.prototype={setFocus:function(_){var b,x=this.element.querySelector("#"+this.element.id+"-"+_),C=s.getElementSize(this.viewer.canvas),S=Number(this.element.style.width.replace("px","")),E=Number(this.element.style.height.replace("px","")),I=-Number(this.element.style.marginLeft.replace("px","")),M=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==x&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=x,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(b=Number(_)*(this.panelWidth+3))>I+C.x-this.panelWidth?(b=Math.min(b,S-C.x),this.element.style.marginLeft=-b+"px",h(this,C.x,-b)):b<I&&(b=Math.max(0,b-C.x/2),this.element.style.marginLeft=-b+"px",h(this,C.x,-b)):(b=Number(_)*(this.panelHeight+3))>M+C.y-this.panelHeight?(b=Math.min(b,E-C.y),this.element.style.marginTop=-b+"px",h(this,C.y,-b)):b<M&&(b=Math.max(0,b-C.y/2),this.element.style.marginTop=-b+"px",h(this,C.y,-b)),this.currentPage=_,d.call(this,{eventSource:this.tracker}))},update:function(){return!!a[this.id].animating},destroy:function(){if(this.miniViewers)for(var _ in this.miniViewers)this.miniViewers[_].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}}}(e),function(s){s.DisplayRect=function(a,l,c,u,h,d){s.Rect.apply(this,[a,l,c,u]),this.minLevel=h,this.maxLevel=d},s.extend(s.DisplayRect.prototype,s.Rect.prototype)}(e),function(s){s.Spring=function(a){var l=arguments;typeof a!="object"&&(a={initial:l.length&&typeof l[0]=="number"?l[0]:void 0,springStiffness:l.length>1?l[1].springStiffness:5,animationTime:l.length>1?l[1].animationTime:1.5}),s.console.assert(typeof a.springStiffness=="number"&&a.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),s.console.assert(typeof a.animationTime=="number"&&a.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),a.exponential&&(this._exponential=!0,delete a.exponential),s.extend(!0,this,a),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:s.now()},s.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},s.Spring.prototype={resetTo:function(a){s.console.assert(!this._exponential||a!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=a,this.start.time=this.target.time=this.current.time=s.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(a){s.console.assert(!this._exponential||a!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=a,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(a){this.start.value+=a,this.target.value+=a,this._exponential&&(s.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(a){this._exponential=a,this._exponential&&(s.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){let a,l;if(this.current.time=s.now(),this._exponential?(a=this.start._logValue,l=this.target._logValue):(a=this.start.value,l=this.target.value),this.current.time>=this.target.time)this.current.value=this.target.value;else{let h=a+(l-a)*(c=this.springStiffness,u=(this.current.time-this.start.time)/(this.target.time-this.start.time),(1-Math.exp(c*-u))/(1-Math.exp(-c)));this._exponential?this.current.value=Math.exp(h):this.current.value=h}var c,u;return this.current.value!==this.target.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(e),function(s){s.ImageJob=function(a){s.extend(!0,this,{timeout:s.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},a),this.data=null,this.userData={},this.errorMsg=null},s.ImageJob.prototype={start:function(){this.tries++;var a=this,l=this.abort;this.jobId=window.setTimeout(function(){a.finish(null,null,"Image load exceeded timeout ("+a.timeout+" ms)")},this.timeout),this.abort=function(){a.source.downloadTileAbort(a),typeof l=="function"&&l()},this.source.downloadTileStart(this)},finish:function(a,l,c){this.data=a,this.request=l,this.errorMsg=c,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},s.ImageLoader=function(a){s.extend(!0,this,{jobLimit:s.DEFAULT_SETTINGS.imageLoaderLimit,timeout:s.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},a)},s.ImageLoader.prototype={addJob:function(a){if(!a.source){s.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var l=s.TileSource.prototype;a.source={downloadTileStart:l.downloadTileStart,downloadTileAbort:l.downloadTileAbort}}var c=this,u={src:a.src,tile:a.tile||{},source:a.source,loadWithAjax:a.loadWithAjax,ajaxHeaders:a.loadWithAjax?a.ajaxHeaders:null,crossOriginPolicy:a.crossOriginPolicy,ajaxWithCredentials:a.ajaxWithCredentials,postData:a.postData,callback:function(d){var p,g,v,_;p=c,g=d,v=a.callback,g.errorMsg!==""&&(g.data===null||g.data===void 0)&&g.tries<1+p.tileRetryMax&&p.failedTiles.push(g),p.jobsInProgress--,(!p.jobLimit||p.jobsInProgress<p.jobLimit)&&p.jobQueue.length>0&&((_=p.jobQueue.shift()).start(),p.jobsInProgress++),p.tileRetryMax>0&&p.jobQueue.length===0&&(!p.jobLimit||p.jobsInProgress<p.jobLimit)&&p.failedTiles.length>0&&(_=p.failedTiles.shift(),setTimeout(function(){_.start()},p.tileRetryDelay),p.jobsInProgress++),v(g.data,g.errorMsg,g.request)},abort:a.abort,timeout:this.timeout},h=new s.ImageJob(u);!this.jobLimit||this.jobsInProgress<this.jobLimit?(h.start(),this.jobsInProgress++):this.jobQueue.push(h)},clear:function(){for(var a=0;a<this.jobQueue.length;a++){var l=this.jobQueue[a];typeof l.abort=="function"&&l.abort()}this.jobQueue=[]}}}(e),function(s){s.Tile=function(a,l,c,u,h,d,p,g,v,_,b,x){this.level=a,this.x=l,this.y=c,this.bounds=u,this.positionedBounds=new e.Rect(u.x,u.y,u.width,u.height),this.sourceBounds=_,this.exists=h,this._url=d,this.postData=b,this.context2D=p,this.loadWithAjax=g,this.ajaxHeaders=v,x===void 0&&(s.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),x=s.TileSource.prototype.getTileHashKey(a,l,c,d,v,b)),this.cacheKey=x,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},s.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},get image(){return s.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return s.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord&&this.cacheImageRecord.getRenderedContext()},getScaleForEdgeSmoothing:function(){var a;if(this.cacheImageRecord)a=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return s.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;a=this.context2D}return a.canvas.width/(this.size.x*s.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(a,l,c){var u=Math.max(1,Math.ceil((c.x-l.x)/2)),h=Math.max(1,Math.ceil((c.y-l.y)/2));return new s.Point(u,h).minus(this.position.times(s.pixelDensityRatio).times(a||1).apply(function(d){return d%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(e),function(s){s.OverlayPlacement=s.Placement,s.OverlayRotationMode=s.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),s.Overlay=function(a,l,c){var u;u=s.isPlainObject(a)?a:{element:a,location:l,placement:c},this.elementWrapper=document.createElement("div"),this.element=u.element,this.elementWrapper.appendChild(this.element),this.element.id?this.elementWrapper.id="overlay-wrapper-"+this.element.id:this.elementWrapper.id="overlay-wrapper",this.style=this.elementWrapper.style,this._init(u)},s.Overlay.prototype={_init:function(a){this.location=a.location,this.placement=a.placement===void 0?s.Placement.TOP_LEFT:a.placement,this.onDraw=a.onDraw,this.checkResize=a.checkResize===void 0||a.checkResize,this.width=a.width===void 0?null:a.width,this.height=a.height===void 0?null:a.height,this.rotationMode=a.rotationMode||s.OverlayRotationMode.EXACT,this.location instanceof s.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=s.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new s.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(a,l){var c=s.Placement.properties[this.placement];c&&(c.isHorizontallyCentered?a.x-=l.x/2:c.isRight&&(a.x-=l.x),c.isVerticallyCentered?a.y-=l.y/2:c.isBottom&&(a.y-=l.y))},destroy:function(){var a=this.elementWrapper,l=this.style;a.parentNode&&(a.parentNode.removeChild(a),a.prevElementParent&&(l.display="none",document.body.appendChild(a))),this.onDraw=null,l.top="",l.left="",l.position="",this.width!==null&&(l.width=""),this.height!==null&&(l.height="");var c=s.getCssPropertyWithVendorPrefix("transformOrigin"),u=s.getCssPropertyWithVendorPrefix("transform");c&&u&&(l[c]="",l[u]="")},drawHTML:function(a,l){var c=this.elementWrapper;c.parentNode!==a&&(c.prevElementParent=c.parentNode,c.prevNextSibling=c.nextSibling,a.appendChild(c),this.style.position="absolute",this.size=s.getElementSize(this.elementWrapper));var u=this._getOverlayPositionAndSize(l),h=u.position,d=this.size=u.size,p="";l.overlayPreserveContentDirection&&(p=l.flipped?" scaleX(-1)":" scaleX(1)");var g=l.flipped?-u.rotate:u.rotate,v=l.flipped?" scaleX(-1)":"";if(this.onDraw)this.onDraw(h,d,this.element);else{var _=this.style,b=this.element.style;b.display="block",_.left=h.x+"px",_.top=h.y+"px",this.width!==null&&(b.width=d.x+"px"),this.height!==null&&(b.height=d.y+"px");var x=s.getCssPropertyWithVendorPrefix("transformOrigin"),C=s.getCssPropertyWithVendorPrefix("transform");x&&C&&(g&&!l.flipped?(b[C]="",_[x]=this._getTransformOrigin(),_[C]="rotate("+g+"deg)"):!g&&l.flipped?(b[C]=p,_[x]=this._getTransformOrigin(),_[C]=v):g&&l.flipped?(b[C]=p,_[x]=this._getTransformOrigin(),_[C]="rotate("+g+"deg)"+v):(b[C]="",_[x]="",_[C]="")),_.display="flex"}},_getOverlayPositionAndSize:function(a){var l=a.pixelFromPoint(this.location,!0),c=this._getSizeInPixels(a);this.adjust(l,c);var u=0;if(a.getRotation(!0)&&this.rotationMode!==s.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===s.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var h=new s.Rect(l.x,l.y,c.x,c.y),d=this._getBoundingBox(h,a.getRotation(!0));l=d.getTopLeft(),c=d.getSize()}else u=a.getRotation(!0);return a.flipped&&(l.x=a.getContainerSize().x-l.x),{position:l,size:c,rotate:u}},_getSizeInPixels:function(a){var l=this.size.x,c=this.size.y;if(this.width!==null||this.height!==null){var u=a.deltaPixelsFromPointsNoRotate(new s.Point(this.width||0,this.height||0),!0);this.width!==null&&(l=u.x),this.height!==null&&(c=u.y)}if(this.checkResize&&(this.width===null||this.height===null)){var h=this.size=s.getElementSize(this.elementWrapper);this.width===null&&(l=h.x),this.height===null&&(c=h.y)}return new s.Point(l,c)},_getBoundingBox:function(a,l){var c=this._getPlacementPoint(a);return a.rotate(l,c).getBoundingBox()},_getPlacementPoint:function(a){var l=new s.Point(a.x,a.y),c=s.Placement.properties[this.placement];return c&&(c.isHorizontallyCentered?l.x+=a.width/2:c.isRight&&(l.x+=a.width),c.isVerticallyCentered?l.y+=a.height/2:c.isBottom&&(l.y+=a.height)),l},_getTransformOrigin:function(){var a="",l=s.Placement.properties[this.placement];return l&&(l.isLeft?a="left":l.isRight&&(a="right"),l.isTop?a+=" top":l.isBottom&&(a+=" bottom")),a},update:function(a,l){var c=s.isPlainObject(a)?a:{location:a,placement:l};this._init({location:c.location||this.location,placement:c.placement!==void 0?c.placement:this.placement,onDraw:c.onDraw||this.onDraw,checkResize:c.checkResize||this.checkResize,width:c.width!==void 0?c.width:this.width,height:c.height!==void 0?c.height:this.height,rotationMode:c.rotationMode||this.rotationMode})},getBounds:function(a){s.console.assert(a,"A viewport must now be passed to Overlay.getBounds.");var l=this.width,c=this.height;if(l===null||c===null){var u=a.deltaPointsFromPixelsNoRotate(this.size,!0);l===null&&(l=u.x),c===null&&(c=u.y)}var h=this.location.clone();return this.adjust(h,new s.Point(l,c)),this._adjustBoundsForRotation(a,new s.Rect(h.x,h.y,l,c))},_adjustBoundsForRotation:function(a,l){if(!a||a.getRotation(!0)===0||this.rotationMode===s.OverlayRotationMode.EXACT)return l;if(this.rotationMode===s.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return l;var c=this._getOverlayPositionAndSize(a);return a.viewerElementToViewportRectangle(new s.Rect(c.position.x,c.position.y,c.size.x,c.size.y))}return l.rotate(-a.getRotation(!0),this._getPlacementPoint(l))}}}(e),function(s){const a=s;a.DrawerBase=class{constructor(l){s.console.assert(l.viewer,"[Drawer] options.viewer is required"),s.console.assert(l.viewport,"[Drawer] options.viewport is required"),s.console.assert(l.element,"[Drawer] options.element is required"),this.viewer=l.viewer,this.viewport=l.viewport,this.debugGridColor=typeof l.debugGridColor=="string"?[l.debugGridColor]:l.debugGridColor||s.DEFAULT_SETTINGS.debugGridColor,this.options=l.options||{},this.container=s.getElement(l.element),this._renderingTarget=this._createDrawingElement(),this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",this.canvas.style.left="0",s.setElementOpacity(this.canvas,this.viewer.opacity,!0),s.setElementPointerEventsNone(this.canvas),s.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._checkForAPIOverrides()}get canvas(){return this._renderingTarget}get element(){return s.console.error("Drawer.element is deprecated. Use Drawer.container instead."),this.container}getType(){s.console.error("Drawer.getType must be implemented by child class")}static isSupported(){s.console.error("Drawer.isSupported must be implemented by child class")}_createDrawingElement(){return s.console.error("Drawer._createDrawingElement must be implemented by child class"),null}draw(l){s.console.error("Drawer.draw must be implemented by child class")}canRotate(){s.console.error("Drawer.canRotate must be implemented by child class")}destroy(){s.console.error("Drawer.destroy must be implemented by child class")}minimumOverlapRequired(l){return!1}setImageSmoothingEnabled(l){s.console.error("Drawer.setImageSmoothingEnabled must be implemented by child class")}drawDebuggingRect(l){s.console.warn("[drawer].drawDebuggingRect is not implemented by this drawer")}clear(){s.console.warn("[drawer].clear() is deprecated. The drawer is responsible for clearing itself as needed before drawing tiles.")}_checkForAPIOverrides(){if(this._createDrawingElement===s.DrawerBase.prototype._createDrawingElement)throw new Error("[drawer]._createDrawingElement must be implemented by child class");if(this.draw===s.DrawerBase.prototype.draw)throw new Error("[drawer].draw must be implemented by child class");if(this.canRotate===s.DrawerBase.prototype.canRotate)throw new Error("[drawer].canRotate must be implemented by child class");if(this.destroy===s.DrawerBase.prototype.destroy)throw new Error("[drawer].destroy must be implemented by child class");if(this.setImageSmoothingEnabled===s.DrawerBase.prototype.setImageSmoothingEnabled)throw new Error("[drawer].setImageSmoothingEnabled must be implemented by child class")}viewportToDrawerRectangle(l){var c=this.viewport.pixelFromPointNoRotate(l.getTopLeft(),!0),u=this.viewport.deltaPixelsFromPointsNoRotate(l.getSize(),!0);return new s.Rect(c.x*s.pixelDensityRatio,c.y*s.pixelDensityRatio,u.x*s.pixelDensityRatio,u.y*s.pixelDensityRatio)}viewportCoordToDrawerCoord(l){var c=this.viewport.pixelFromPointNoRotate(l,!0);return new s.Point(c.x*s.pixelDensityRatio,c.y*s.pixelDensityRatio)}_calculateCanvasSize(){var l=s.pixelDensityRatio,c=this.viewport.getContainerSize();return new a.Point(Math.round(c.x*l),Math.round(c.y*l))}_raiseTiledImageDrawnEvent(l,c){this.viewer&&this.viewer.raiseEvent("tiled-image-drawn",{tiledImage:l,tiles:c})}_raiseDrawerErrorEvent(l,c){this.viewer&&this.viewer.raiseEvent("drawer-error",{tiledImage:l,drawer:this,error:c})}}}(e),function(s){const a=s;class l extends a.DrawerBase{constructor(u){super(u),this.viewer.rejectEventHandler("tile-drawing","The HTMLDrawer does not raise the tile-drawing event"),this.viewer.allowEventHandler("tile-drawn")}static isSupported(){return!0}getType(){return"html"}minimumOverlapRequired(u){return!0}_createDrawingElement(){return s.makeNeutralElement("div")}draw(u){var h=this;this._prepareNewFrame(),u.forEach(function(d){d.opacity!==0&&h._drawTiles(d)})}canRotate(){return!1}destroy(){this.container.removeChild(this.canvas)}setImageSmoothingEnabled(){}_prepareNewFrame(){this.canvas.innerHTML=""}_drawTiles(u){var h=u.getTilesToDraw().map(g=>g.tile);if(u.opacity!==0&&(h.length!==0||u.placeholderFillStyle))for(var d=h.length-1;d>=0;d--){var p=h[d];this._drawTile(p),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:u,tile:p})}}_drawTile(u){s.console.assert(u,"[Drawer._drawTile] tile is required");let h=this.canvas;if(u.cacheImageRecord)if(u.loaded){if(!u.element){var d=u.getImage();if(!d)return;u.element=s.makeNeutralElement("div"),u.imgElement=d.cloneNode(),u.imgElement.style.msInterpolationMode="nearest-neighbor",u.imgElement.style.width="100%",u.imgElement.style.height="100%",u.style=u.element.style,u.style.position="absolute"}u.element.parentNode!==h&&h.appendChild(u.element),u.imgElement.parentNode!==u.element&&u.element.appendChild(u.imgElement),u.style.top=u.position.y+"px",u.style.left=u.position.x+"px",u.style.height=u.size.y+"px",u.style.width=u.size.x+"px",u.flipped&&(u.style.transform="scaleX(-1)"),s.setElementOpacity(u.element,u.opacity)}else s.console.warn("Attempting to draw tile %s when it's not yet loaded.",u.toString());else s.console.warn("[Drawer._drawTileToHTML] attempting to draw tile %s when it's not cached",u.toString())}}s.HTMLDrawer=l}(e),function(s){const a=s;class l extends a.DrawerBase{constructor(p){super(p),this.context=this.canvas.getContext("2d"),this.sketchCanvas=null,this.sketchContext=null,this._imageSmoothingEnabled=!0,this.viewer.allowEventHandler("tile-drawn"),this.viewer.allowEventHandler("tile-drawing")}static isSupported(){return s.supportsCanvas}getType(){return"canvas"}_createDrawingElement(){let p=s.makeNeutralElement("canvas"),g=this._calculateCanvasSize();return p.width=g.x,p.height=g.y,p}draw(p){this._prepareNewFrame(),this.viewer.viewport.getFlip()!==this._viewportFlipped&&this._flip();for(const g of p)g.opacity!==0&&this._drawTiles(g)}canRotate(){return!0}destroy(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null,this.container.removeChild(this.canvas)}minimumOverlapRequired(p){return!0}setImageSmoothingEnabled(p){this._imageSmoothingEnabled=!!p,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw()}drawDebuggingRect(p){var g=this.context;g.save(),g.lineWidth=2*s.pixelDensityRatio,g.strokeStyle=this.debugGridColor[0],g.fillStyle=this.debugGridColor[0],g.strokeRect(p.x*s.pixelDensityRatio,p.y*s.pixelDensityRatio,p.width*s.pixelDensityRatio,p.height*s.pixelDensityRatio),g.restore()}get _viewportFlipped(){return this.context.getTransform().a<0}_raiseTileDrawingEvent(p,g,v,_){this.viewer.raiseEvent("tile-drawing",{tiledImage:p,context:g,tile:v,rendered:_})}_prepareNewFrame(){var p=this._calculateCanvasSize();if((this.canvas.width!==p.x||this.canvas.height!==p.y)&&(this.canvas.width=p.x,this.canvas.height=p.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var g=this._calculateSketchCanvasSize();this.sketchCanvas.width=g.x,this.sketchCanvas.height=g.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}_clear(p,g){var v=this._getContext(p);if(g)v.clearRect(g.x,g.y,g.width,g.height);else{var _=v.canvas;v.clearRect(0,0,_.width,_.height)}}_drawTiles(p){var g=p.getTilesToDraw().map(q=>q.tile);if(p.opacity!==0&&(g.length!==0||p.placeholderFillStyle)){var v,_,b,x=g[0];x&&(v=p.opacity<1||p.compositeOperation&&p.compositeOperation!=="source-over"||!p._isBottomItem()&&p.source.hasTransparency(x.context2D,x.getUrl(),x.ajaxHeaders,x.postData));var C,S=this.viewport.getZoom(!0),E=p.viewportToImageZoom(S);g.length>1&&E>p.smoothTileEdgesMinZoom&&!p.iOSDevice&&p.getRotation(!0)%360==0&&(v=!0,_=x.getScaleForEdgeSmoothing(),b=x.getTranslationForEdgeSmoothing(_,this._getCanvasSize(!1),this._getCanvasSize(!0))),v&&(_||(C=(C=this.viewport.viewportToViewerElementRectangle(p.getClippedBounds(!0)).getIntegerBoundingBox()).times(s.pixelDensityRatio)),this._clear(!0,C)),_||this._setRotations(p,v);var I=!1;if(p._clip){this._saveContext(v);var M=p.imageToViewportRectangle(p._clip,!0);M=M.rotate(-p.getRotation(!0),p._getRotationPoint(!0));var k=this.viewportToDrawerRectangle(M);_&&(k=k.times(_)),b&&(k=k.translate(b)),this._setClip(k,v),I=!0}if(p._croppingPolygons){var F=this;I||this._saveContext(v);try{var P=p._croppingPolygons.map(function(q){return q.map(function(J){var V=p.imageToViewportCoordinates(J.x,J.y,!0).rotate(-p.getRotation(!0),p._getRotationPoint(!0)),Y=F.viewportCoordToDrawerCoord(V);return _&&(Y=Y.times(_)),b&&(Y=Y.plus(b)),Y})});this._clipWithPolygons(P,v)}catch(q){s.console.error(q)}I=!0}if(p._hasOpaqueTile=!1,p.placeholderFillStyle&&p._hasOpaqueTile===!1){let q=this.viewportToDrawerRectangle(p.getBoundsNoRotate(!0));_&&(q=q.times(_)),b&&(q=q.translate(b));let J=null;J=typeof p.placeholderFillStyle=="function"?p.placeholderFillStyle(p,this.context):p.placeholderFillStyle,this._drawRectangle(q,J,v)}var Q=function(q){if(typeof q=="number")return h(q);if(!q||!s.Browser)return c;var J=q[s.Browser.vendor];return u(J)&&(J=q["*"]),h(J)}(p.subPixelRoundingForTransparency),N=!1;Q===s.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS?N=!0:Q===s.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&(N=!(this.viewer&&this.viewer.isAnimating()));for(var W=0;W<g.length;W++)x=g[W],this._drawTile(x,p,v,_,b,N,p.source),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:p,tile:x});I&&this._restoreContext(v),_||(p.getRotation(!0)%360!=0&&this._restoreRotationChanges(v),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(v)),v&&(_&&this._setRotations(p),this.blendSketch({opacity:p.opacity,scale:_,translate:b,compositeOperation:p.compositeOperation,bounds:C}),_&&(p.getRotation(!0)%360!=0&&this._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(!1))),this._drawDebugInfo(p,g),this._raiseTiledImageDrawnEvent(p,g)}}_drawDebugInfo(p,g){if(p.debugMode)for(var v=g.length-1;v>=0;v--){var _=g[v];try{this._drawDebugInfoOnTile(_,g.length,v,p)}catch(b){s.console.error(b)}}}_clipWithPolygons(p,g){var v=this._getContext(g);v.beginPath();for(const _ of p)for(const[b,x]of _.entries())v[b===0?"moveTo":"lineTo"](x.x,x.y);v.clip()}_drawTile(p,g,v,_,b,x,C){s.console.assert(p,"[Drawer._drawTile] tile is required"),s.console.assert(g,"[Drawer._drawTile] drawingHandler is required");var S=this._getContext(v);_=_||1,this._drawTileToCanvas(p,S,g,_,b,x,C)}_drawTileToCanvas(p,g,v,_,b,x,C){var S,E,I,M=p.position.times(s.pixelDensityRatio),k=p.size.times(s.pixelDensityRatio);p.context2D||p.cacheImageRecord?(S=p.getCanvasContext(),p.loaded&&S?(g.save(),typeof _=="number"&&_!==1&&(M=M.times(_),k=k.times(_)),b instanceof s.Point&&(M=M.plus(b)),g.globalAlpha===1&&p.hasTransparency&&(x&&(M.x=Math.round(M.x),M.y=Math.round(M.y),k.x=Math.round(k.x),k.y=Math.round(k.y)),g.clearRect(M.x,M.y,k.x,k.y)),this._raiseTileDrawingEvent(v,g,p,S),p.sourceBounds?(E=Math.min(p.sourceBounds.width,S.canvas.width),I=Math.min(p.sourceBounds.height,S.canvas.height)):(E=S.canvas.width,I=S.canvas.height),g.translate(M.x+k.x/2,0),p.flipped&&g.scale(-1,1),g.drawImage(S.canvas,0,0,E,I,-k.x/2,M.y,k.x,k.y),g.restore()):s.console.warn("Attempting to draw tile %s when it's not yet loaded.",p.toString())):s.console.warn("[Drawer._drawTileToCanvas] attempting to draw tile %s when it's not cached",p.toString())}_getContext(p){var g=this.context;if(p){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var v=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=v.x,this.sketchCanvas.height=v.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var _=this;this.viewer.addHandler("rotate",function b(){if(_.viewport.getRotation()!==0){_.viewer.removeHandler("rotate",b);var x=_._calculateSketchCanvasSize();_.sketchCanvas.width=x.x,_.sketchCanvas.height=x.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}g=this.sketchContext}return g}_saveContext(p){this._getContext(p).save()}_restoreContext(p){this._getContext(p).restore()}_setClip(p,g){var v=this._getContext(g);v.beginPath(),v.rect(p.x,p.y,p.width,p.height),v.clip()}_drawRectangle(p,g,v){var _=this._getContext(v);_.save(),_.fillStyle=g,_.fillRect(p.x,p.y,p.width,p.height),_.restore()}blendSketch(p,g,v,_){var b=p;s.isPlainObject(b)||(b={opacity:p,scale:g,translate:v,compositeOperation:_}),p=b.opacity,_=b.compositeOperation;var x=b.bounds;if(this.context.save(),this.context.globalAlpha=p,_&&(this.context.globalCompositeOperation=_),x)x.x<0&&(x.width+=x.x,x.x=0),x.x+x.width>this.canvas.width&&(x.width=this.canvas.width-x.x),x.y<0&&(x.height+=x.y,x.y=0),x.y+x.height>this.canvas.height&&(x.height=this.canvas.height-x.y),this.context.drawImage(this.sketchCanvas,x.x,x.y,x.width,x.height,x.x,x.y,x.width,x.height);else{g=b.scale||1;var C=(v=b.translate)instanceof s.Point?v:new s.Point(0,0),S=0,E=0;if(v){var I=this.sketchCanvas.width-this.canvas.width,M=this.sketchCanvas.height-this.canvas.height;S=Math.round(I/2),E=Math.round(M/2)}this.context.drawImage(this.sketchCanvas,C.x-S*g,C.y-E*g,(this.canvas.width+2*S)*g,(this.canvas.height+2*E)*g,-S,-E,this.canvas.width+2*S,this.canvas.height+2*E)}this.context.restore()}_drawDebugInfoOnTile(p,g,v,_){var b=this.viewer.world.getIndexOfItem(_)%this.debugGridColor.length,x=this.context;x.save(),x.lineWidth=2*s.pixelDensityRatio,x.font="small-caps bold "+13*s.pixelDensityRatio+"px arial",x.strokeStyle=this.debugGridColor[b],x.fillStyle=this.debugGridColor[b],this._setRotations(_),this._viewportFlipped&&this._flip({point:p.position.plus(p.size.divide(2))}),x.strokeRect(p.position.x*s.pixelDensityRatio,p.position.y*s.pixelDensityRatio,p.size.x*s.pixelDensityRatio,p.size.y*s.pixelDensityRatio);var C=(p.position.x+p.size.x/2)*s.pixelDensityRatio,S=(p.position.y+p.size.y/2)*s.pixelDensityRatio;x.translate(C,S);const E=this.viewport.getRotation(!0);x.rotate(Math.PI/180*-E),x.translate(-C,-S),p.x===0&&p.y===0&&(x.fillText("Zoom: "+this.viewport.getZoom(),p.position.x*s.pixelDensityRatio,(p.position.y-30)*s.pixelDensityRatio),x.fillText("Pan: "+this.viewport.getBounds().toString(),p.position.x*s.pixelDensityRatio,(p.position.y-20)*s.pixelDensityRatio)),x.fillText("Level: "+p.level,(p.position.x+10)*s.pixelDensityRatio,(p.position.y+20)*s.pixelDensityRatio),x.fillText("Column: "+p.x,(p.position.x+10)*s.pixelDensityRatio,(p.position.y+30)*s.pixelDensityRatio),x.fillText("Row: "+p.y,(p.position.x+10)*s.pixelDensityRatio,(p.position.y+40)*s.pixelDensityRatio),x.fillText("Order: "+v+" of "+g,(p.position.x+10)*s.pixelDensityRatio,(p.position.y+50)*s.pixelDensityRatio),x.fillText("Size: "+p.size.toString(),(p.position.x+10)*s.pixelDensityRatio,(p.position.y+60)*s.pixelDensityRatio),x.fillText("Position: "+p.position.toString(),(p.position.x+10)*s.pixelDensityRatio,(p.position.y+70)*s.pixelDensityRatio),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(),_.getRotation(!0)%360!=0&&this._restoreRotationChanges(),x.restore()}_updateImageSmoothingEnabled(p){p.msImageSmoothingEnabled=this._imageSmoothingEnabled,p.imageSmoothingEnabled=this._imageSmoothingEnabled}_getCanvasSize(p){var g=this._getContext(p).canvas;return new s.Point(g.width,g.height)}_getCanvasCenter(){return new s.Point(this.canvas.width/2,this.canvas.height/2)}_setRotations(p,g=!1){var v=!1;this.viewport.getRotation(!0)%360!=0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:g,saveContext:v}),v=!1),p.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:p.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(p._getRotationPoint(!0),!0),useSketch:g,saveContext:v})}_offsetForRotation(p){var g=p.point?p.point.times(s.pixelDensityRatio):this._getCanvasCenter(),v=this._getContext(p.useSketch);v.save(),v.translate(g.x,g.y),v.rotate(Math.PI/180*p.degrees),v.translate(-g.x,-g.y)}_flip(p){var g=(p=p||{}).point?p.point.times(s.pixelDensityRatio):this._getCanvasCenter(),v=this._getContext(p.useSketch);v.translate(g.x,0),v.scale(-1,1),v.translate(-g.x,0)}_restoreRotationChanges(p){this._getContext(p).restore()}_calculateCanvasSize(){var p=s.pixelDensityRatio,g=this.viewport.getContainerSize();return{x:Math.round(g.x*p),y:Math.round(g.y*p)}}_calculateSketchCanvasSize(){var p=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return p;var g=Math.ceil(Math.sqrt(p.x*p.x+p.y*p.y));return{x:g,y:g}}}s.CanvasDrawer=l;var c=s.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function u(d){return d!==s.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&d!==s.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&d!==s.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function h(d){return u(d)?c:d}}(e),function(s){const a=s;a.WebGLDrawer=class extends a.DrawerBase{constructor(l){super(l),this._destroyed=!1,this._TextureMap=new Map,this._TileMap=new Map,this._gl=null,this._firstPass=null,this._secondPass=null,this._glFrameBuffer=null,this._renderToTexture=null,this._glFramebufferToCanvasTransform=null,this._outputCanvas=null,this._outputContext=null,this._clippingCanvas=null,this._clippingContext=null,this._renderingCanvas=null,this._backupCanvasDrawer=null,this._imageSmoothingEnabled=!0,this._boundToTileReady=c=>this._tileReadyHandler(c),this._boundToImageUnloaded=c=>this._imageUnloadedHandler(c),this.viewer.addHandler("tile-ready",this._boundToTileReady),this.viewer.addHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.rejectEventHandler("tile-drawn","The WebGLDrawer does not raise the tile-drawn event"),this.viewer.rejectEventHandler("tile-drawing","The WebGLDrawer does not raise the tile-drawing event"),this._setupCanvases(),this._setupRenderer(),this.context=this._outputContext}destroy(){if(this._destroyed)return;let l=this._gl;var c=l.getParameter(l.MAX_TEXTURE_IMAGE_UNITS);for(let h=0;h<c;++h)l.activeTexture(l.TEXTURE0+h),l.bindTexture(l.TEXTURE_2D,null),l.bindTexture(l.TEXTURE_CUBE_MAP,null);l.bindBuffer(l.ARRAY_BUFFER,null),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,null),l.bindRenderbuffer(l.RENDERBUFFER,null),l.bindFramebuffer(l.FRAMEBUFFER,null),this._unloadTextures(),l.deleteBuffer(this._secondPass.bufferOutputPosition),l.deleteFramebuffer(this._glFrameBuffer),this._renderingCanvas.width=this._renderingCanvas.height=1,this._clippingCanvas.width=this._clippingCanvas.height=1,this._outputCanvas.width=this._outputCanvas.height=1,this._renderingCanvas=null,this._clippingCanvas=this._clippingContext=null,this._outputCanvas=this._outputContext=null;let u=l.getExtension("WEBGL_lose_context");u&&u.loseContext(),this.viewer.removeHandler("tile-ready",this._boundToTileReady),this.viewer.removeHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.removeHandler("resize",this._resizeHandler),this._gl=null,this._backupCanvasDrawer&&(this._backupCanvasDrawer.destroy(),this._backupCanvasDrawer=null),this.container.removeChild(this.canvas),this.viewer.drawer===this&&(this.viewer.drawer=null),this._destroyed=!0}canRotate(){return!0}static isSupported(){let l=document.createElement("canvas"),c=s.isFunction(l.getContext)&&l.getContext("webgl"),u=c&&c.getExtension("WEBGL_lose_context");return u&&u.loseContext(),!!c}getType(){return"webgl"}minimumOverlapRequired(l){return l.isTainted()}_createDrawingElement(){let l=s.makeNeutralElement("canvas"),c=this._calculateCanvasSize();return l.width=c.x,l.height=c.y,l}_getBackupCanvasDrawer(){return this._backupCanvasDrawer||(this._backupCanvasDrawer=this.viewer.requestDrawer("canvas",{mainDrawer:!1}),this._backupCanvasDrawer.canvas.style.setProperty("visibility","hidden")),this._backupCanvasDrawer}draw(l){let c=this._gl;const u=this.viewport.getBoundsNoRotateWithMargins(!0);let h=u,d=new a.Point(u.x+u.width/2,u.y+u.height/2),p=this.viewport.getRotation(!0)*Math.PI/180,g=this.viewport.flipped?-1:1,v=s.Mat3.makeTranslation(-d.x,-d.y),_=s.Mat3.makeScaling(2/h.width*g,-2/h.height),b=s.Mat3.makeRotation(-p),x=_.multiply(b).multiply(v);c.bindFramebuffer(c.FRAMEBUFFER,null),c.clear(c.COLOR_BUFFER_BIT),this._outputContext.clearRect(0,0,this._outputCanvas.width,this._outputCanvas.height);let C=!1;l.forEach((S,E)=>{if(S.isTainted()){C&&(this._outputContext.drawImage(this._renderingCanvas,0,0),c.bindFramebuffer(c.FRAMEBUFFER,null),c.clear(c.COLOR_BUFFER_BIT),C=!1);const I=this._getBackupCanvasDrawer();I.draw([S]),this._outputContext.drawImage(I.canvas,0,0)}else{let I=S.getTilesToDraw();if(S.placeholderFillStyle&&S._hasOpaqueTile===!1&&this._drawPlaceholder(S),I.length===0||S.getOpacity()===0)return;let M=I[0],k=S.compositeOperation||this.viewer.compositeOperation||S._clip||S._croppingPolygons||S.debugMode,F=k||S.opacity<1||M.hasTransparency;k&&(C&&this._outputContext.drawImage(this._renderingCanvas,0,0),c.bindFramebuffer(c.FRAMEBUFFER,null),c.clear(c.COLOR_BUFFER_BIT)),c.useProgram(this._firstPass.shaderProgram),F?(c.bindFramebuffer(c.FRAMEBUFFER,this._glFrameBuffer),c.clear(c.COLOR_BUFFER_BIT)):c.bindFramebuffer(c.FRAMEBUFFER,null);let P=x,Q=S.getRotation(!0);if(Q%360!=0){let Y=s.Mat3.makeRotation(-Q*Math.PI/180),Z=S.getBoundsNoRotate(!0).getCenter(),ue=s.Mat3.makeTranslation(Z.x,Z.y),$=s.Mat3.makeTranslation(-Z.x,-Z.y),ee=ue.multiply(Y).multiply($);P=x.multiply(ee)}let N=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS);if(N<=0)throw new Error(`WegGL error: bad value for gl parameter MAX_TEXTURE_IMAGE_UNITS (${N}). This could happen
                        if too many contexts have been created and not released, or there is another problem with the graphics card.`);let W=new Float32Array(12*N),q=new Array(N),J=new Array(N),V=new Array(N);for(let Y=0;Y<I.length;Y++){let Z=I[Y].tile,ue=Y%N,$=ue+1,ee=Z.getCanvasContext(),oe=ee?this._TextureMap.get(ee.canvas):null;if(oe||(this._tileReadyHandler({tile:Z,tiledImage:S}),oe=ee?this._TextureMap.get(ee.canvas):null),oe&&this._getTileData(Z,S,oe,P,ue,W,q,J,V),$===N||Y===I.length-1){for(let ge=0;ge<=$;ge++)c.activeTexture(c.TEXTURE0+ge),c.bindTexture(c.TEXTURE_2D,q[ge]);c.bindBuffer(c.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),c.bufferData(c.ARRAY_BUFFER,W,c.DYNAMIC_DRAW),J.forEach((ge,se)=>{c.uniformMatrix3fv(this._firstPass.uTransformMatrices[se],!1,ge)}),c.uniform1fv(this._firstPass.uOpacities,new Float32Array(V)),c.bindBuffer(c.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),c.vertexAttribPointer(this._firstPass.aOutputPosition,2,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),c.vertexAttribPointer(this._firstPass.aTexturePosition,2,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,this._firstPass.bufferIndex),c.vertexAttribPointer(this._firstPass.aIndex,1,c.FLOAT,!1,0,0),c.drawArrays(c.TRIANGLES,0,6*$)}}F&&(c.useProgram(this._secondPass.shaderProgram),c.bindFramebuffer(c.FRAMEBUFFER,null),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,this._renderToTexture),this._gl.uniform1f(this._secondPass.uOpacityMultiplier,S.opacity),c.bindBuffer(c.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),c.vertexAttribPointer(this._secondPass.aTexturePosition,2,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),c.vertexAttribPointer(this._secondPass.aOutputPosition,2,c.FLOAT,!1,0,0),c.drawArrays(c.TRIANGLES,0,6)),C=!0,k&&(this._applyContext2dPipeline(S,I,E),C=!1,c.bindFramebuffer(c.FRAMEBUFFER,null),c.clear(c.COLOR_BUFFER_BIT)),E===0&&this._raiseTiledImageDrawnEvent(S,I.map(Y=>Y.tile))}}),C&&this._outputContext.drawImage(this._renderingCanvas,0,0)}setImageSmoothingEnabled(l){this._imageSmoothingEnabled!==l&&(this._imageSmoothingEnabled=l,this._unloadTextures(),this.viewer.world.draw())}drawDebuggingRect(l){let c=this._outputContext;c.save(),c.lineWidth=2*s.pixelDensityRatio,c.strokeStyle=this.debugGridColor[0],c.fillStyle=this.debugGridColor[0],c.strokeRect(l.x*s.pixelDensityRatio,l.y*s.pixelDensityRatio,l.width*s.pixelDensityRatio,l.height*s.pixelDensityRatio),c.restore()}_getTextureDataFromTile(l){return l.getCanvasContext().canvas}_applyContext2dPipeline(l,c,u){if(this._outputContext.save(),this._outputContext.globalCompositeOperation=u===0?null:l.compositeOperation||this.viewer.compositeOperation,l._croppingPolygons||l._clip?(this._renderToClippingCanvas(l),this._outputContext.drawImage(this._clippingCanvas,0,0)):this._outputContext.drawImage(this._renderingCanvas,0,0),this._outputContext.restore(),l.debugMode){const h=this.viewer.viewport.getFlip();h&&this._flip(),this._drawDebugInfo(c,l,h),h&&this._flip()}}_getTileData(l,c,u,h,d,p,g,v,_){let b=u.texture,x=u.position;p.set(x,12*d);let C=this._calculateOverlapFraction(l,c),S=l.positionedBounds.width*C.x,E=l.positionedBounds.height*C.y,I=l.positionedBounds.x+(l.x===0?0:S),M=l.positionedBounds.y+(l.y===0?0:E),k=l.positionedBounds.x+l.positionedBounds.width-(l.isRightMost?0:S)-I,F=l.positionedBounds.y+l.positionedBounds.height-(l.isBottomMost?0:E)-M,P=new s.Mat3([k,0,0,0,F,0,I,M,1]);if(l.flipped){let N=s.Mat3.makeTranslation(.5,0),W=s.Mat3.makeTranslation(-.5,0),q=N.multiply(s.Mat3.makeScaling(-1,1)).multiply(W);P=P.multiply(q)}let Q=h.multiply(P);_[d]=l.opacity,g[d]=b,v[d]=Q.values}_textureFilter(){return this._imageSmoothingEnabled?this._gl.LINEAR:this._gl.NEAREST}_setupRenderer(){let l=this._gl;l||s.console.error("_setupCanvases must be called before _setupRenderer"),this._unitQuad=this._makeQuadVertexBuffer(0,1,0,1),this._makeFirstPassShaderProgram(),this._makeSecondPassShaderProgram(),this._renderToTexture=l.createTexture(),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,this._renderToTexture),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,this._renderingCanvas.width,this._renderingCanvas.height,0,l.RGBA,l.UNSIGNED_BYTE,null),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this._textureFilter()),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),this._glFrameBuffer=l.createFramebuffer(),l.bindFramebuffer(l.FRAMEBUFFER,this._glFrameBuffer),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,this._renderToTexture,0),l.enable(l.BLEND),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA)}_makeFirstPassShaderProgram(){let l=this._glNumTextures=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS);const c=`
            attribute vec2 a_output_position;
            attribute vec2 a_texture_position;
            attribute float a_index;

            ${[...Array(l).keys()].map(v=>`uniform mat3 u_matrix_${v};`).join(`
`)} // create a uniform mat3 for each potential tile to draw

            varying vec2 v_texture_position;
            varying float v_image_index;

            void main() {

                mat3 transform_matrix; // value will be set by the if/elses in makeConditional()

                ${[...Array(l).keys()].map(v=>`${v>0?"else ":""}if(int(a_index) == ${v}) { transform_matrix = u_matrix_${v}; }`).join(`
`)}

                gl_Position = vec4(transform_matrix * vec3(a_output_position, 1), 1);

                v_texture_position = a_texture_position;
                v_image_index = a_index;
            }
            `,u=`
            precision mediump float;

            // our textures
            uniform sampler2D u_images[${l}];
            // our opacities
            uniform float u_opacities[${l}];

            // the varyings passed in from the vertex shader.
            varying vec2 v_texture_position;
            varying float v_image_index;

            void main() {
                // can't index directly with a variable, need to use a loop iterator hack
                for(int i = 0; i < ${l}; ++i){
                    if(i == int(v_image_index)){
                        gl_FragColor = texture2D(u_images[i], v_texture_position) * u_opacities[i];
                    }
                }
            }
            `;let h=this._gl,d=this.constructor.initShaderProgram(h,c,u);h.useProgram(d),this._firstPass={shaderProgram:d,aOutputPosition:h.getAttribLocation(d,"a_output_position"),aTexturePosition:h.getAttribLocation(d,"a_texture_position"),aIndex:h.getAttribLocation(d,"a_index"),uTransformMatrices:[...Array(this._glNumTextures).keys()].map(v=>h.getUniformLocation(d,`u_matrix_${v}`)),uImages:h.getUniformLocation(d,"u_images"),uOpacities:h.getUniformLocation(d,"u_opacities"),bufferOutputPosition:h.createBuffer(),bufferTexturePosition:h.createBuffer(),bufferIndex:h.createBuffer()},h.uniform1iv(this._firstPass.uImages,[...Array(l).keys()]);let p=new Float32Array(12*l);for(let v=0;v<l;++v)p.set(Float32Array.from(this._unitQuad),12*v);h.bindBuffer(h.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),h.bufferData(h.ARRAY_BUFFER,p,h.STATIC_DRAW),h.enableVertexAttribArray(this._firstPass.aOutputPosition),h.bindBuffer(h.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),h.enableVertexAttribArray(this._firstPass.aTexturePosition),h.bindBuffer(h.ARRAY_BUFFER,this._firstPass.bufferIndex);let g=[...Array(this._glNumTextures).keys()].map(v=>Array(6).fill(v)).flat();h.bufferData(h.ARRAY_BUFFER,new Float32Array(g),h.STATIC_DRAW),h.enableVertexAttribArray(this._firstPass.aIndex)}_makeSecondPassShaderProgram(){let l=this._gl,c=this.constructor.initShaderProgram(l,`
            attribute vec2 a_output_position;
            attribute vec2 a_texture_position;

            uniform mat3 u_matrix;

            varying vec2 v_texture_position;

            void main() {
                gl_Position = vec4(u_matrix * vec3(a_output_position, 1), 1);

                v_texture_position = a_texture_position;
            }
            `,`
            precision mediump float;

            // our texture
            uniform sampler2D u_image;

            // the texCoords passed in from the vertex shader.
            varying vec2 v_texture_position;

            // the opacity multiplier for the image
            uniform float u_opacity_multiplier;

            void main() {
                gl_FragColor = texture2D(u_image, v_texture_position);
                gl_FragColor *= u_opacity_multiplier;
            }
            `);l.useProgram(c),this._secondPass={shaderProgram:c,aOutputPosition:l.getAttribLocation(c,"a_output_position"),aTexturePosition:l.getAttribLocation(c,"a_texture_position"),uMatrix:l.getUniformLocation(c,"u_matrix"),uImage:l.getUniformLocation(c,"u_image"),uOpacityMultiplier:l.getUniformLocation(c,"u_opacity_multiplier"),bufferOutputPosition:l.createBuffer(),bufferTexturePosition:l.createBuffer()},l.bindBuffer(l.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),l.bufferData(l.ARRAY_BUFFER,this._unitQuad,l.STATIC_DRAW),l.enableVertexAttribArray(this._secondPass.aOutputPosition),l.bindBuffer(l.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),l.bufferData(l.ARRAY_BUFFER,this._unitQuad,l.DYNAMIC_DRAW),l.enableVertexAttribArray(this._secondPass.aTexturePosition);let u=s.Mat3.makeScaling(2,2).multiply(s.Mat3.makeTranslation(-.5,-.5));l.uniformMatrix3fv(this._secondPass.uMatrix,!1,u.values)}_resizeRenderer(){let l=this._gl,c=this._renderingCanvas.width,u=this._renderingCanvas.height;l.viewport(0,0,c,u),l.deleteTexture(this._renderToTexture),this._renderToTexture=l.createTexture(),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,this._renderToTexture),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,c,u,0,l.RGBA,l.UNSIGNED_BYTE,null),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this._textureFilter()),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.bindFramebuffer(l.FRAMEBUFFER,this._glFrameBuffer),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,this._renderToTexture,0)}_setupCanvases(){let l=this;this._outputCanvas=this.canvas,this._outputContext=this._outputCanvas.getContext("2d"),this._renderingCanvas=document.createElement("canvas"),this._clippingCanvas=document.createElement("canvas"),this._clippingContext=this._clippingCanvas.getContext("2d"),this._renderingCanvas.width=this._clippingCanvas.width=this._outputCanvas.width,this._renderingCanvas.height=this._clippingCanvas.height=this._outputCanvas.height,this._gl=this._renderingCanvas.getContext("webgl"),this._resizeHandler=function(){l._outputCanvas!==l.viewer.drawer.canvas&&(l._outputCanvas.style.width=l.viewer.drawer.canvas.clientWidth+"px",l._outputCanvas.style.height=l.viewer.drawer.canvas.clientHeight+"px");let c=l._calculateCanvasSize();l._outputCanvas.width===c.x&&l._outputCanvas.height===c.y||(l._outputCanvas.width=c.x,l._outputCanvas.height=c.y),l._renderingCanvas.style.width=l._outputCanvas.clientWidth+"px",l._renderingCanvas.style.height=l._outputCanvas.clientHeight+"px",l._renderingCanvas.width=l._clippingCanvas.width=l._outputCanvas.width,l._renderingCanvas.height=l._clippingCanvas.height=l._outputCanvas.height,l._resizeRenderer()},this.viewer.addHandler("resize",this._resizeHandler)}_makeQuadVertexBuffer(l,c,u,h){return new Float32Array([l,h,c,h,l,u,l,u,c,h,c,u])}_tileReadyHandler(l){let c=l.tile,u=l.tiledImage;if(u.isTainted())return;let h=c.getCanvasContext(),d=h&&h.canvas;if(d&&!s.isCanvasTainted(d)){if(!this._TextureMap.get(d)){let p,g,v,_=this._gl,b=_.createTexture(),x=u.source.tileOverlap;if(c.sourceBounds?(g=Math.min(c.sourceBounds.width,d.width)/d.width,v=Math.min(c.sourceBounds.height,d.height)/d.height):(g=1,v=1),x>0){let S=this._calculateOverlapFraction(c,u),E=(c.x===0?0:S.x)*g,I=(c.y===0?0:S.y)*v,M=(c.isRightMost?1:1-S.x)*g,k=(c.isBottomMost?1:1-S.y)*v;p=this._makeQuadVertexBuffer(E,M,I,k)}else p=g===1&&v===1?this._unitQuad:this._makeQuadVertexBuffer(0,g,0,v);let C={texture:b,position:p};this._TextureMap.set(d,C),_.activeTexture(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,b),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,this._textureFilter()),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,this._textureFilter()),this._uploadImageData(h)}}else u.isTainted()||(u.setTainted(!0),s.console.warn("WebGL cannot be used to draw this TiledImage because it has tainted data. Does crossOriginPolicy need to be set?"),this._raiseDrawerErrorEvent(u,"Tainted data cannot be used by the WebGLDrawer. Falling back to CanvasDrawer for this TiledImage."))}_calculateOverlapFraction(l,c){let u=c.source.tileOverlap,h=l.sourceBounds.width,d=l.sourceBounds.height;return{x:u/(h+((l.x===0?0:u)+(l.isRightMost?0:u))),y:u/(d+((l.y===0?0:u)+(l.isBottomMost?0:u)))}}_unloadTextures(){Array.from(this._TextureMap.keys()).forEach(l=>{this._cleanupImageData(l)})}_uploadImageData(l){let c=this._gl,u=l.canvas;try{if(!u)throw l;c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,u)}catch(h){s.console.error("Error uploading image data to WebGL",h)}}_imageUnloadedHandler(l){let c=l.context2D.canvas;this._cleanupImageData(c)}_cleanupImageData(l){let c=this._TextureMap.get(l);this._TextureMap.delete(l),c&&this._gl.deleteTexture(c.texture)}_setClip(){}_renderToClippingCanvas(l){if(this._clippingContext.clearRect(0,0,this._clippingCanvas.width,this._clippingCanvas.height),this._clippingContext.save(),this.viewer.viewport.getFlip()){const c=new s.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(c.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-c.x,0)}if(l._clip){let c=[{x:l._clip.x,y:l._clip.y},{x:l._clip.x+l._clip.width,y:l._clip.y},{x:l._clip.x+l._clip.width,y:l._clip.y+l._clip.height},{x:l._clip.x,y:l._clip.y+l._clip.height}].map(u=>{let h=l.imageToViewportCoordinates(u.x,u.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(h)});this._clippingContext.beginPath(),c.forEach((u,h)=>{this._clippingContext[h===0?"moveTo":"lineTo"](u.x,u.y)}),this._clippingContext.clip(),this._setClip()}if(l._croppingPolygons){let c=l._croppingPolygons.map(u=>u.map(h=>{let d=l.imageToViewportCoordinates(h.x,h.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(d)}));this._clippingContext.beginPath(),c.forEach(u=>{u.forEach((h,d)=>{this._clippingContext[d===0?"moveTo":"lineTo"](h.x,h.y)})}),this._clippingContext.clip()}if(this.viewer.viewport.getFlip()){const c=new s.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(c.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-c.x,0)}this._clippingContext.drawImage(this._renderingCanvas,0,0),this._clippingContext.restore()}_setRotations(l){var c=!1;this.viewport.getRotation(!0)%360!=0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),saveContext:c}),c=!1),l.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:l.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(l._getRotationPoint(!0),!0),saveContext:c})}_offsetForRotation(l){var c=l.point?l.point.times(s.pixelDensityRatio):this._getCanvasCenter(),u=this._outputContext;u.save(),u.translate(c.x,c.y),u.rotate(Math.PI/180*l.degrees),u.translate(-c.x,-c.y)}_flip(l){var c=(l=l||{}).point?l.point.times(s.pixelDensityRatio):this._getCanvasCenter(),u=this._outputContext;u.translate(c.x,0),u.scale(-1,1),u.translate(-c.x,0)}_drawDebugInfo(l,c,u){for(var h=l.length-1;h>=0;h--){var d=l[h].tile;try{this._drawDebugInfoOnTile(d,l.length,h,c,u)}catch(p){s.console.error(p)}}}_drawDebugInfoOnTile(l,c,u,h,d){var p=this.viewer.world.getIndexOfItem(h)%this.debugGridColor.length,g=this.context;g.save(),g.lineWidth=2*s.pixelDensityRatio,g.font="small-caps bold "+13*s.pixelDensityRatio+"px arial",g.strokeStyle=this.debugGridColor[p],g.fillStyle=this.debugGridColor[p],this._setRotations(h),d&&this._flip({point:l.position.plus(l.size.divide(2))}),g.strokeRect(l.position.x*s.pixelDensityRatio,l.position.y*s.pixelDensityRatio,l.size.x*s.pixelDensityRatio,l.size.y*s.pixelDensityRatio);var v=(l.position.x+l.size.x/2)*s.pixelDensityRatio,_=(l.position.y+l.size.y/2)*s.pixelDensityRatio;g.translate(v,_);const b=this.viewport.getRotation(!0);g.rotate(Math.PI/180*-b),g.translate(-v,-_),l.x===0&&l.y===0&&(g.fillText("Zoom: "+this.viewport.getZoom(),l.position.x*s.pixelDensityRatio,(l.position.y-30)*s.pixelDensityRatio),g.fillText("Pan: "+this.viewport.getBounds().toString(),l.position.x*s.pixelDensityRatio,(l.position.y-20)*s.pixelDensityRatio)),g.fillText("Level: "+l.level,(l.position.x+10)*s.pixelDensityRatio,(l.position.y+20)*s.pixelDensityRatio),g.fillText("Column: "+l.x,(l.position.x+10)*s.pixelDensityRatio,(l.position.y+30)*s.pixelDensityRatio),g.fillText("Row: "+l.y,(l.position.x+10)*s.pixelDensityRatio,(l.position.y+40)*s.pixelDensityRatio),g.fillText("Order: "+u+" of "+c,(l.position.x+10)*s.pixelDensityRatio,(l.position.y+50)*s.pixelDensityRatio),g.fillText("Size: "+l.size.toString(),(l.position.x+10)*s.pixelDensityRatio,(l.position.y+60)*s.pixelDensityRatio),g.fillText("Position: "+l.position.toString(),(l.position.x+10)*s.pixelDensityRatio,(l.position.y+70)*s.pixelDensityRatio),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(),h.getRotation(!0)%360!=0&&this._restoreRotationChanges(),g.restore()}_drawPlaceholder(l){const c=l.getBounds(!0),u=this.viewportToDrawerRectangle(l.getBounds(!0)),h=this._outputContext;let d;d=typeof l.placeholderFillStyle=="function"?l.placeholderFillStyle(l,h):l.placeholderFillStyle,this._offsetForRotation({degrees:this.viewer.viewport.getRotation(!0)}),h.fillStyle=d,h.translate(u.x,u.y),h.rotate(Math.PI/180*c.degrees),h.translate(-u.x,-u.y),h.fillRect(u.x,u.y,u.width,u.height),this._restoreRotationChanges()}_getCanvasCenter(){return new s.Point(this.canvas.width/2,this.canvas.height/2)}_restoreRotationChanges(){this._outputContext.restore()}static initShaderProgram(l,c,u){function h(v,_,b){const x=v.createShader(_);return v.shaderSource(x,b),v.compileShader(x),v.getShaderParameter(x,v.COMPILE_STATUS)?x:(s.console.error(`An error occurred compiling the shaders: ${v.getShaderInfoLog(x)}`),v.deleteShader(x),null)}const d=h(l,l.VERTEX_SHADER,c),p=h(l,l.FRAGMENT_SHADER,u),g=l.createProgram();return l.attachShader(g,d),l.attachShader(g,p),l.linkProgram(g),l.getProgramParameter(g,l.LINK_STATUS)?g:(s.console.error(`Unable to initialize the shader program: ${l.getProgramInfoLog(g)}`),null)}}}(e),function(s){s.Viewport=function(a){var l=arguments;l.length&&l[0]instanceof s.Point&&(a={containerSize:l[0],contentSize:l[1],config:l[2]}),a.config&&(s.extend(!0,a,a.config),delete a.config),this._margins=s.extend({left:0,top:0,right:0,bottom:0},a.margins||{}),delete a.margins,a.initialDegrees=a.degrees,delete a.degrees,s.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:s.DEFAULT_SETTINGS.springStiffness,animationTime:s.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:s.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:s.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:s.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:s.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:s.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:s.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:s.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:s.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:s.DEFAULT_SETTINGS.degrees,flipped:s.DEFAULT_SETTINGS.flipped,homeFillsViewer:s.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:s.DEFAULT_SETTINGS.silenceMultiImageWarnings},a),this._updateContainerInnerSize(),this.centerSpringX=new s.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new s.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new s.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new s.Spring({initial:a.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new s.Rect(0,0,1,1),1),this.goHome(!0),this.update()},s.Viewport.prototype={get degrees(){return s.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(a){s.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(a)},resetContentSize:function(a){return s.console.assert(a,"[Viewport.resetContentSize] contentSize is required"),s.console.assert(a instanceof s.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),s.console.assert(a.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),s.console.assert(a.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new s.Rect(0,0,1,a.y/a.x),a.x),this},setHomeBounds:function(a,l){s.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(a,l)},_setContentBounds:function(a,l){s.console.assert(a,"[Viewport._setContentBounds] bounds is required"),s.console.assert(a instanceof s.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),s.console.assert(a.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),s.console.assert(a.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=a.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(l),this._contentBounds=a.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(l),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:l,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var a=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?a>=1?a:1:a>=1?1:a)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var a=this._contentBounds.getCenter(),l=1/this.getHomeZoom(),c=l/this.getAspectRatio();return new s.Rect(a.x-l/2,a.y-c/2,l,c)},goHome:function(a){return this.viewer&&this.viewer.raiseEvent("home",{immediately:a}),this.fitBounds(this.getHomeBounds(),a)},getMinZoom:function(){var a=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*a},getMaxZoom:function(){var a=this.maxZoomLevel;return a||(a=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,a/=this._contentBounds.width),Math.max(a,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new s.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return s.extend({},this._margins)},setMargins:function(a){s.console.assert(s.type(a)==="object","[Viewport.setMargins] margins must be an object"),this._margins=s.extend({left:0,top:0,right:0,bottom:0},a),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(a){return this.getBoundsNoRotate(a).rotate(-this.getRotation(a))},getBoundsNoRotate:function(a){var l=this.getCenter(a),c=1/this.getZoom(a),u=c/this.getAspectRatio();return new s.Rect(l.x-c/2,l.y-u/2,c,u)},getBoundsWithMargins:function(a){return this.getBoundsNoRotateWithMargins(a).rotate(-this.getRotation(a),this.getCenter(a))},getBoundsNoRotateWithMargins:function(a){var l=this.getBoundsNoRotate(a),c=this._containerInnerSize.x*this.getZoom(a);return l.x-=this._margins.left/c,l.y-=this._margins.top/c,l.width+=(this._margins.left+this._margins.right)/c,l.height+=(this._margins.top+this._margins.bottom)/c,l},getCenter:function(a){var l,c,u,h,d,p,g=new s.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),v=new s.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return a?g:this.zoomPoint?(l=this.pixelFromPoint(this.zoomPoint,!0),h=(u=1/(c=this.getZoom()))/this.getAspectRatio(),d=new s.Rect(g.x-u/2,g.y-h/2,u,h),p=this._pixelFromPoint(this.zoomPoint,d).minus(l).rotate(-this.getRotation(!0)).divide(this._containerInnerSize.x*c),v.plus(p)):v},getZoom:function(a){return a?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(a){return Math.max(Math.min(a,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(a){var l=this.viewportToViewerElementRectangle(a).getBoundingBox(),c=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),u=!1,h=!1;if(!this.wrapHorizontal){var d,p,g,v=l.x+l.width,_=c.x+c.width;d=l.width>c.width?this.visibilityRatio*c.width:this.visibilityRatio*l.width,p=c.x-v+d,g=_-l.x-d,d>c.width?(l.x+=(p+g)/2,u=!0):g<0?(l.x+=g,u=!0):p>0&&(l.x+=p,u=!0)}if(!this.wrapVertical){var b,x,C,S=l.y+l.height,E=c.y+c.height;b=l.height>c.height?this.visibilityRatio*c.height:this.visibilityRatio*l.height,x=c.y-S+b,C=E-l.y-b,b>c.height?(l.y+=(x+C)/2,h=!0):C<0?(l.y+=C,h=!0):x>0&&(l.y+=x,h=!0)}var I=u||h,M=I?this.viewerElementToViewportRectangle(l):a.clone();return M.xConstrained=u,M.yConstrained=h,M.constraintApplied=I,M},_raiseConstraintsEvent:function(a){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:a})},applyConstraints:function(a){var l=this.getZoom(),c=this._applyZoomConstraints(l);l!==c&&this.zoomTo(c,this.zoomPoint,a);var u=this.getConstrainedBounds(!1);return u.constraintApplied&&(this.fitBounds(u,a),this._raiseConstraintsEvent(a)),this},ensureVisible:function(a){return this.applyConstraints(a)},_fitBounds:function(a,l){var c=(l=l||{}).immediately||!1,u=l.constraints||!1,h=this.getAspectRatio(),d=a.getCenter(),p=new s.Rect(a.x,a.y,a.width,a.height,a.degrees+this.getRotation()).getBoundingBox();p.getAspectRatio()>=h?p.height=p.width/h:p.width=p.height*h,p.x=d.x-p.width/2,p.y=d.y-p.height/2;var g=1/p.width;if(c)return this.panTo(d,!0),this.zoomTo(g,null,!0),u&&this.applyConstraints(!0),this;var v=this.getCenter(!0),_=this.getZoom(!0);this.panTo(v,!0),this.zoomTo(_,null,!0);var b=this.getBounds(),x=this.getZoom();if(x===0||Math.abs(g/x-1)<1e-8)return this.zoomTo(g,null,!0),this.panTo(d,c),u&&this.applyConstraints(!1),this;if(u){this.panTo(d,!1),g=this._applyZoomConstraints(g),this.zoomTo(g,null,!1);var C=this.getConstrainedBounds();this.panTo(v,!0),this.zoomTo(_,null,!0),this.fitBounds(C)}else{var S=p.rotate(-this.getRotation()).getTopLeft().times(g).minus(b.getTopLeft().times(x)).divide(g-x);this.zoomTo(g,S,c)}return this},fitBounds:function(a,l){return this._fitBounds(a,{immediately:l,constraints:!1})},fitBoundsWithConstraints:function(a,l){return this._fitBounds(a,{immediately:l,constraints:!0})},fitVertically:function(a){var l=new s.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(l,a)},fitHorizontally:function(a){var l=new s.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(l,a)},getConstrainedBounds:function(a){var l;return l=this.getBounds(a),this._applyBoundaryConstraints(l)},panBy:function(a,l){var c=new s.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(c.plus(a),l)},panTo:function(a,l){return l?(this.centerSpringX.resetTo(a.x),this.centerSpringY.resetTo(a.y)):(this.centerSpringX.springTo(a.x),this.centerSpringY.springTo(a.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:a,immediately:l}),this},zoomBy:function(a,l,c){return this.zoomTo(this.zoomSpring.target.value*a,l,c)},zoomTo:function(a,l,c){var u=this;return this.zoomPoint=l instanceof s.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,c?this._adjustCenterSpringsForZoomPoint(function(){u.zoomSpring.resetTo(a)}):this.zoomSpring.springTo(a),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:a,refPoint:l,immediately:c}),this},setRotation:function(a,l){return this.rotateTo(a,null,l)},getRotation:function(a){return a?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(a,l,c){return this.rotateTo(a,l,c)},rotateTo:function(a,l,c){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===a&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=l instanceof s.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,c)if(this.rotationPivot){if(!(a-this._oldDegrees))return this.rotationPivot=null,this;this._rotateAboutPivot(a)}else this.degreesSpring.resetTo(a);else{var u=s.positiveModulo(this.degreesSpring.current.value,360),h=s.positiveModulo(a,360),d=h-u;d>180?h-=360:d<-180&&(h+=360);var p=u-h;this.degreesSpring.resetTo(a+p),this.degreesSpring.springTo(a)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:a,immediately:!!c,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(a,l,c){return this.rotateTo(this.degreesSpring.target.value+a,l,c)},resize:function(a,l){var c,u=this.getBoundsNoRotate(),h=u;this.containerSize.x=a.x,this.containerSize.y=a.y,this._updateContainerInnerSize(),l&&(c=a.x/this.containerSize.x,h.width=u.width*c,h.height=h.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:a,maintain:l});var d=this.fitBounds(h,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:a,maintain:l}),d},_updateContainerInnerSize:function(){this._containerInnerSize=new s.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var a=this;this._adjustCenterSpringsForZoomPoint(function(){a.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var l=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,l||!this.zoomSpring.isAtTargetValue()||!this.centerSpringX.isAtTargetValue()||!this.centerSpringY.isAtTargetValue()||!this.degreesSpring.isAtTargetValue()},_rotateAboutPivot:function(a){var l=a===!0,c=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(c.x),this.centerSpringY.shiftBy(c.y),l?this.degreesSpring.update():this.degreesSpring.resetTo(a);var u=this.degreesSpring.current.value-this._oldDegrees,h=c.rotate(-1*u).times(-1);this.centerSpringX.shiftBy(h.x),this.centerSpringY.shiftBy(h.y)},_adjustCenterSpringsForZoomPoint:function(a){if(this.zoomPoint){var l=this.pixelFromPoint(this.zoomPoint,!0);a();var c=this.pixelFromPoint(this.zoomPoint,!0).minus(l),u=this.deltaPointsFromPixels(c,!0);this.centerSpringX.shiftBy(u.x),this.centerSpringY.shiftBy(u.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else a()},deltaPixelsFromPointsNoRotate:function(a,l){return a.times(this._containerInnerSize.x*this.getZoom(l))},deltaPixelsFromPoints:function(a,l){return this.deltaPixelsFromPointsNoRotate(a.rotate(this.getRotation(l)),l)},deltaPointsFromPixelsNoRotate:function(a,l){return a.divide(this._containerInnerSize.x*this.getZoom(l))},deltaPointsFromPixels:function(a,l){return this.deltaPointsFromPixelsNoRotate(a,l).rotate(-this.getRotation(l))},pixelFromPointNoRotate:function(a,l){return this._pixelFromPointNoRotate(a,this.getBoundsNoRotate(l))},pixelFromPoint:function(a,l){return this._pixelFromPoint(a,this.getBoundsNoRotate(l))},_pixelFromPointNoRotate:function(a,l){return a.minus(l.getTopLeft()).times(this._containerInnerSize.x/l.width).plus(new s.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(a,l){return this._pixelFromPointNoRotate(a.rotate(this.getRotation(!0),this.getCenter(!0)),l)},pointFromPixelNoRotate:function(a,l){var c=this.getBoundsNoRotate(l);return a.minus(new s.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/c.width).plus(c.getTopLeft())},pointFromPixel:function(a,l){return this.pointFromPixelNoRotate(a,l).rotate(-this.getRotation(l),this.getCenter(l))},_viewportToImageDelta:function(a,l){var c=this._contentBoundsNoRotate.width;return new s.Point(a*this._contentSizeNoRotate.x/c,l*this._contentSizeNoRotate.x/c)},viewportToImageCoordinates:function(a,l){if(a instanceof s.Point)return this.viewportToImageCoordinates(a.x,a.y);if(this.viewer){var c=this.viewer.world.getItemCount();if(c>1)this.silenceMultiImageWarnings||s.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(c===1)return this.viewer.world.getItemAt(0).viewportToImageCoordinates(a,l,!0)}return this._viewportToImageDelta(a-this._contentBoundsNoRotate.x,l-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(a,l){var c=this._contentBoundsNoRotate.width;return new s.Point(a/this._contentSizeNoRotate.x*c,l/this._contentSizeNoRotate.x*c)},imageToViewportCoordinates:function(a,l){if(a instanceof s.Point)return this.imageToViewportCoordinates(a.x,a.y);if(this.viewer){var c=this.viewer.world.getItemCount();if(c>1)this.silenceMultiImageWarnings||s.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(c===1)return this.viewer.world.getItemAt(0).imageToViewportCoordinates(a,l,!0)}var u=this._imageToViewportDelta(a,l);return u.x+=this._contentBoundsNoRotate.x,u.y+=this._contentBoundsNoRotate.y,u},imageToViewportRectangle:function(a,l,c,u){var h=a;if(h instanceof s.Rect||(h=new s.Rect(a,l,c,u)),this.viewer){var d=this.viewer.world.getItemCount();if(d>1)this.silenceMultiImageWarnings||s.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(d===1)return this.viewer.world.getItemAt(0).imageToViewportRectangle(a,l,c,u,!0)}var p=this.imageToViewportCoordinates(h.x,h.y),g=this._imageToViewportDelta(h.width,h.height);return new s.Rect(p.x,p.y,g.x,g.y,h.degrees)},viewportToImageRectangle:function(a,l,c,u){var h=a;if(h instanceof s.Rect||(h=new s.Rect(a,l,c,u)),this.viewer){var d=this.viewer.world.getItemCount();if(d>1)this.silenceMultiImageWarnings||s.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(d===1)return this.viewer.world.getItemAt(0).viewportToImageRectangle(a,l,c,u,!0)}var p=this.viewportToImageCoordinates(h.x,h.y),g=this._viewportToImageDelta(h.width,h.height);return new s.Rect(p.x,p.y,g.x,g.y,h.degrees)},viewerElementToImageCoordinates:function(a){var l=this.pointFromPixel(a,!0);return this.viewportToImageCoordinates(l)},imageToViewerElementCoordinates:function(a){var l=this.imageToViewportCoordinates(a);return this.pixelFromPoint(l,!0)},windowToImageCoordinates:function(a){s.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var l=a.minus(s.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(l)},imageToWindowCoordinates:function(a){return s.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(a).plus(s.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(a){return this.pointFromPixel(a,!0)},viewportToViewerElementCoordinates:function(a){return this.pixelFromPoint(a,!0)},viewerElementToViewportRectangle:function(a){return s.Rect.fromSummits(this.pointFromPixel(a.getTopLeft(),!0),this.pointFromPixel(a.getTopRight(),!0),this.pointFromPixel(a.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(a){return s.Rect.fromSummits(this.pixelFromPoint(a.getTopLeft(),!0),this.pixelFromPoint(a.getTopRight(),!0),this.pixelFromPoint(a.getBottomLeft(),!0))},windowToViewportCoordinates:function(a){s.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var l=a.minus(s.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(l)},viewportToWindowCoordinates:function(a){return s.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(a).plus(s.getElementPosition(this.viewer.element))},viewportToImageZoom:function(a){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||s.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(l===1)return this.viewer.world.getItemAt(0).viewportToImageZoom(a)}var c=this._contentSizeNoRotate.x;return a*(this._containerInnerSize.x/c*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(a){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||s.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image. Instead, use [TiledImage.imageToViewportZoom] for the specific image of interest");else if(l===1)return this.viewer.world.getItemAt(0).imageToViewportZoom(a)}return a*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(a){return this.flipped===a||(this.flipped=a,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:a})),this},getMaxZoomPixelRatio:function(){return this.maxZoomPixelRatio},setMaxZoomPixelRatio:function(a,l=!0,c=!1){s.console.assert(!isNaN(a),"[Viewport.setMaxZoomPixelRatio] ratio must be a number"),isNaN(a)||(this.maxZoomPixelRatio=a,l&&this.getZoom()>this.getMaxZoom()&&this.applyConstraints(c))}}}(e),function(s){s.TiledImage=function(a){this._initialized=!1,s.console.assert(a.tileCache,"[TiledImage] options.tileCache is required"),s.console.assert(a.drawer,"[TiledImage] options.drawer is required"),s.console.assert(a.viewer,"[TiledImage] options.viewer is required"),s.console.assert(a.imageLoader,"[TiledImage] options.imageLoader is required"),s.console.assert(a.source,"[TiledImage] options.source is required"),s.console.assert(!a.clip||a.clip instanceof s.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),s.EventSource.call(this),this._tileCache=a.tileCache,delete a.tileCache,this._drawer=a.drawer,delete a.drawer,this._imageLoader=a.imageLoader,delete a.imageLoader,a.clip instanceof s.Rect&&(this._clip=a.clip.clone()),delete a.clip;var l=a.x||0;delete a.x;var c=a.y||0;delete a.y,this.normHeight=a.source.dimensions.y/a.source.dimensions.x,this.contentAspectX=a.source.dimensions.x/a.source.dimensions.y;var u=1;a.width?(u=a.width,delete a.width,a.height&&(s.console.error("specifying both width and height to a tiledImage is not supported"),delete a.height)):a.height&&(u=a.height/this.normHeight,delete a.height);var h=a.fitBounds;delete a.fitBounds;var d=a.fitBoundsPlacement||e.Placement.CENTER;delete a.fitBoundsPlacement;var p=a.degrees||0;delete a.degrees;var g=a.ajaxHeaders;delete a.ajaxHeaders,s.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_needsDraw:!0,_needsUpdate:!0,_hasOpaqueTile:!1,_tilesLoading:0,_tilesToDraw:[],_lastDrawn:[],_isBlending:!1,_wasBlending:!1,_isTainted:!1,springStiffness:s.DEFAULT_SETTINGS.springStiffness,animationTime:s.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:s.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:s.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:s.DEFAULT_SETTINGS.wrapVertical,immediateRender:s.DEFAULT_SETTINGS.immediateRender,blendTime:s.DEFAULT_SETTINGS.blendTime,alwaysBlend:s.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:s.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:s.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:s.DEFAULT_SETTINGS.iOSDevice,debugMode:s.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:s.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:s.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:s.DEFAULT_SETTINGS.placeholderFillStyle,opacity:s.DEFAULT_SETTINGS.opacity,preload:s.DEFAULT_SETTINGS.preload,compositeOperation:s.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:s.DEFAULT_SETTINGS.subPixelRoundingForTransparency,maxTilesPerFrame:s.DEFAULT_SETTINGS.maxTilesPerFrame},a),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new s.Spring({initial:l,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new s.Spring({initial:c,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new s.Spring({initial:u,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new s.Spring({initial:p,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),h&&this.fitBounds(h,d,!0),this._ownAjaxHeaders={},this.setAjaxHeaders(g,!1),this._initialized=!0},s.extend(s.TiledImage.prototype,s.EventSource.prototype,{needsDraw:function(){return this._needsDraw},redraw:function(){this._needsDraw=!0},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(a){a!==this._fullyLoaded&&(this._fullyLoaded=a,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=s.now(),this._needsDraw=!0},update:function(a){let l=this._xSpring.update(),c=this._ySpring.update(),u=this._scaleSpring.update(),h=this._degreesSpring.update(),d=l||c||u||h||this._needsUpdate;if(d||a||!this._fullyLoaded){let p=this._updateLevelsForViewport();this._setFullyLoaded(p)}return this._needsUpdate=!1,!!d&&(this._updateForScale(),this._raiseBoundsChange(),this._needsDraw=!0,!0)},setDrawn:function(){return this._needsDraw=this._isBlending||this._wasBlending,this._needsDraw},setTainted(a){this._isTainted=a},isTainted(){return this._isTainted},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy(this.viewer)},getBounds:function(a){return this.getBoundsNoRotate(a).rotate(this.getRotation(a),this._getRotationPoint(a))},getBoundsNoRotate:function(a){return a?new s.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new s.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return s.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(a){var l=this.getBoundsNoRotate(a);if(this._clip){var c=(a?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,u=this._clip.times(c);l=new s.Rect(l.x+u.x,l.y+u.y,u.width,u.height)}return l.rotate(this.getRotation(a),this._getRotationPoint(a))},getTileBounds:function(a,l,c){var u=this.source.getNumTiles(a),h=(u.x+l%u.x)%u.x,d=(u.y+c%u.y)%u.y,p=this.source.getTileBounds(a,h,d);return this.getFlip()&&(p.x=Math.max(0,1-p.x-p.width)),p.x+=(l-h)/u.x,p.y+=this._worldHeightCurrent/this._worldWidthCurrent*((c-d)/u.y),p},getContentSize:function(){return new s.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var a=this.imageToWindowCoordinates(new s.Point(0,0)),l=this.imageToWindowCoordinates(this.getContentSize());return new s.Point(l.x-a.x,l.y-a.y)},_viewportToImageDelta:function(a,l,c){var u=c?this._scaleSpring.current.value:this._scaleSpring.target.value;return new s.Point(a*(this.source.dimensions.x/u),l*(this.source.dimensions.y*this.contentAspectX/u))},viewportToImageCoordinates:function(a,l,c){var u;return a instanceof s.Point?(c=l,u=a):u=new s.Point(a,l),u=u.rotate(-this.getRotation(c),this._getRotationPoint(c)),c?this._viewportToImageDelta(u.x-this._xSpring.current.value,u.y-this._ySpring.current.value):this._viewportToImageDelta(u.x-this._xSpring.target.value,u.y-this._ySpring.target.value)},_imageToViewportDelta:function(a,l,c){var u=c?this._scaleSpring.current.value:this._scaleSpring.target.value;return new s.Point(a/this.source.dimensions.x*u,l/this.source.dimensions.y/this.contentAspectX*u)},imageToViewportCoordinates:function(a,l,c){a instanceof s.Point&&(c=l,l=a.y,a=a.x);var u=this._imageToViewportDelta(a,l,c);return c?(u.x+=this._xSpring.current.value,u.y+=this._ySpring.current.value):(u.x+=this._xSpring.target.value,u.y+=this._ySpring.target.value),u.rotate(this.getRotation(c),this._getRotationPoint(c))},imageToViewportRectangle:function(a,l,c,u,h){var d=a;d instanceof s.Rect?h=l:d=new s.Rect(a,l,c,u);var p=this.imageToViewportCoordinates(d.getTopLeft(),h),g=this._imageToViewportDelta(d.width,d.height,h);return new s.Rect(p.x,p.y,g.x,g.y,d.degrees+this.getRotation(h))},viewportToImageRectangle:function(a,l,c,u,h){var d=a;a instanceof s.Rect?h=l:d=new s.Rect(a,l,c,u);var p=this.viewportToImageCoordinates(d.getTopLeft(),h),g=this._viewportToImageDelta(d.width,d.height,h);return new s.Rect(p.x,p.y,g.x,g.y,d.degrees-this.getRotation(h))},viewerElementToImageCoordinates:function(a){var l=this.viewport.pointFromPixel(a,!0);return this.viewportToImageCoordinates(l)},imageToViewerElementCoordinates:function(a){var l=this.imageToViewportCoordinates(a);return this.viewport.pixelFromPoint(l,!0)},windowToImageCoordinates:function(a){var l=a.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(l)},imageToWindowCoordinates:function(a){return this.imageToViewerElementCoordinates(a).plus(e.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(a){var l=this._scaleSpring.current.value;return a=a.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new s.Rect((a.x-this._xSpring.current.value)/l,(a.y-this._ySpring.current.value)/l,a.width/l,a.height/l,a.degrees)},viewportToImageZoom:function(a){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*a},imageToViewportZoom:function(a){return a/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(a,l){var c=this._xSpring.target.value===a.x&&this._ySpring.target.value===a.y;if(l){if(c&&this._xSpring.current.value===a.x&&this._ySpring.current.value===a.y)return;this._xSpring.resetTo(a.x),this._ySpring.resetTo(a.y),this._needsDraw=!0,this._needsUpdate=!0}else{if(c)return;this._xSpring.springTo(a.x),this._ySpring.springTo(a.y),this._needsDraw=!0,this._needsUpdate=!0}c||this._raiseBoundsChange()},setWidth:function(a,l){this._setScale(a,l)},setHeight:function(a,l){this._setScale(a/this.normHeight,l)},setCroppingPolygons:function(a){try{if(!s.isArray(a))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=a.map(function(l){return l.map(function(c){try{if((u=c)instanceof s.Point||typeof u.x=="number"&&typeof u.y=="number")return{x:c.x,y:c.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}var u})}),this._needsDraw=!0}catch(l){s.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),s.console.error(l),this.resetCroppingPolygons()}},resetCroppingPolygons:function(){this._croppingPolygons=null,this._needsDraw=!0},fitBounds:function(a,l,c){l=l||s.Placement.CENTER;var u=s.Placement.properties[l],h=this.contentAspectX,d=0,p=0,g=1,v=1;if(this._clip&&(h=this._clip.getAspectRatio(),g=this._clip.width/this.source.dimensions.x,v=this._clip.height/this.source.dimensions.y,a.getAspectRatio()>h?(d=this._clip.x/this._clip.height*a.height,p=this._clip.y/this._clip.height*a.height):(d=this._clip.x/this._clip.width*a.width,p=this._clip.y/this._clip.width*a.width)),a.getAspectRatio()>h){var _=a.height/v,b=0;u.isHorizontallyCentered?b=(a.width-a.height*h)/2:u.isRight&&(b=a.width-a.height*h),this.setPosition(new s.Point(a.x-d+b,a.y-p),c),this.setHeight(_,c)}else{var x=a.width/g,C=0;u.isVerticallyCentered?C=(a.height-a.width/h)/2:u.isBottom&&(C=a.height-a.width/h),this.setPosition(new s.Point(a.x-d,a.y-p+C),c),this.setWidth(x,c)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(a){s.console.assert(!a||a instanceof s.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),a instanceof s.Rect?this._clip=a.clone():this._clip=null,this._needsUpdate=!0,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return this.flipped},setFlip:function(a){this.flipped=a},get flipped(){return this._flipped},set flipped(a){let l=this._flipped!==!!a;this._flipped=!!a,l&&(this.update(!0),this._needsDraw=!0,this._raiseBoundsChange())},get wrapHorizontal(){return this._wrapHorizontal},set wrapHorizontal(a){let l=this._wrapHorizontal!==!!a;this._wrapHorizontal=!!a,this._initialized&&l&&(this.update(!0),this._needsDraw=!0)},get wrapVertical(){return this._wrapVertical},set wrapVertical(a){let l=this._wrapVertical!==!!a;this._wrapVertical=!!a,this._initialized&&l&&(this.update(!0),this._needsDraw=!0)},get debugMode(){return this._debugMode},set debugMode(a){this._debugMode=!!a,this._needsDraw=!0},getOpacity:function(){return this.opacity},setOpacity:function(a){this.opacity=a},get opacity(){return this._opacity},set opacity(a){a!==this.opacity&&(this._opacity=a,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(a){this._preload=!!a,this._needsDraw=!0},getRotation:function(a){return a?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(a,l){this._degreesSpring.target.value===a&&this._degreesSpring.isAtTargetValue()||(l?this._degreesSpring.resetTo(a):this._degreesSpring.springTo(a),this._needsDraw=!0,this._needsUpdate=!0,this._raiseBoundsChange())},getDrawArea:function(){if(this._opacity===0&&!this._preload)return!1;var a=this._viewportToTiledImageRectangle(this.viewport.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var l=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));a=a.intersection(l)}return a},getTilesToDraw:function(){let a=this._tilesToDraw.flat();return this._updateTilesInViewport(a),a=this._tilesToDraw.flat(),a.forEach(l=>{l.tile.beingDrawn=!0}),this._lastDrawn=a,a},_getRotationPoint:function(a){return this.getBoundsNoRotate(a).getCenter()},get compositeOperation(){return this._compositeOperation},set compositeOperation(a){a!==this._compositeOperation&&(this._compositeOperation=a,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this._compositeOperation}))},getCompositeOperation:function(){return this._compositeOperation},setCompositeOperation:function(a){this.compositeOperation=a},setAjaxHeaders:function(a,l){a===null&&(a={}),s.isPlainObject(a)?(this._ownAjaxHeaders=a,this._updateAjaxHeaders(l)):console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},_updateAjaxHeaders:function(a){if(a===void 0&&(a=!0),s.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=s.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,a){var l,c,u,h;for(var d in this.tilesMatrix)for(var p in l=this.source.getNumTiles(d),this.tilesMatrix[d])for(var g in c=(l.x+p%l.x)%l.x,this.tilesMatrix[d][p])if(u=(l.y+g%l.y)%l.y,(h=this.tilesMatrix[d][p][g]).loadWithAjax=this.loadTilesWithAjax,h.loadWithAjax){var v=this.source.getTileAjaxHeaders(d,c,u);h.ajaxHeaders=s.extend({},this.ajaxHeaders,v)}else h.ajaxHeaders=null;for(var _=0;_<this._imageLoader.jobQueue.length;_++){var b=this._imageLoader.jobQueue[_];b.loadWithAjax=b.tile.loadWithAjax,b.ajaxHeaders=b.tile.loadWithAjax?b.tile.ajaxHeaders:null}}},_setScale:function(a,l){var c=this._scaleSpring.target.value===a;if(l){if(c&&this._scaleSpring.current.value===a)return;this._scaleSpring.resetTo(a),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}else{if(c)return;this._scaleSpring.springTo(a),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}c||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var a=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),l=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,c=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(l/this.minPixelRatio)/Math.log(2))));return c=Math.max(c,this.source.minLevel||0),{lowestLevel:a=Math.min(a,c),highestLevel:c}},_updateLevelsForViewport:function(){var a=this._getLevelsInterval(),l=a.lowestLevel,c=a.highestLevel,u=[],h=this.getDrawArea(),d=s.now();if(this._lastDrawn.forEach(F=>{F.tile.beingDrawn=!1}),this._tilesToDraw=[],this._tilesLoading=0,this.loadingCoverage={},!h)return this._needsDraw=!1,this._fullyLoaded;var p=new Array(c-l+1);for(let F=0,P=c;P>=l;P--,F++)p[F]=P;for(let F=c+1;F<=this.source.maxLevel;F++){var g=this.tilesMatrix[F]&&this.tilesMatrix[F][0]&&this.tilesMatrix[F][0][0];if(g&&g.isBottomMost&&g.isRightMost&&g.loaded){p.push(F);break}}let v=!1;for(let F=0;F<p.length;F++){let P=p[F];var _=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(P),!0).x*this._scaleSpring.current.value;if(F===p.length-1||_>=this.minPixelRatio)v=!0;else if(!v)continue;var b=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(P),!1).x*this._scaleSpring.current.value,x=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,C=this.immediateRender?1:x,S=Math.min(1,(_-.5)/.5),E=C/Math.abs(C-b),I=this._updateLevel(P,S,E,h,d,u);u=I.bestTiles;var M=I.updatedTiles.filter(Q=>Q.loaded),k=function(Q,N,W){return function(q){return{tile:q,level:Q,levelOpacity:N,currentTime:W}}}(P,S,d);if(this._tilesToDraw[P]=M.map(k),this._providesCoverage(this.coverage,P))break}return u&&u.length>0?(u.forEach(function(F){F&&!F.context2D&&this._loadTile(F,d)},this),this._needsDraw=!0,!1):this._tilesLoading===0},_updateTilesInViewport:function(a){let l=s.now(),c=this;this._tilesLoading=0,this._wasBlending=this._isBlending,this._isBlending=!1,this.loadingCoverage={};let u=a.length?a[0].level:0;if(!this.getDrawArea())return;function h(p){let g=p.tile;if(g&&g.loaded){let v=c._blendTile(g,g.x,g.y,p.level,p.levelOpacity,l,u);c._isBlending=c._isBlending||v,c._needsDraw=c._needsDraw||v||c._wasBlending}}let d=0;for(let p=0;p<a.length;p++){let g=a[p];h(g),this._providesCoverage(this.coverage,g.level)&&(d=Math.max(d,g.level))}if(d>0)for(let p in this._tilesToDraw)p<d&&delete this._tilesToDraw[p]},_blendTile:function(a,l,c,u,h,d,p){let g,v,_=1e3*this.blendTime;return a.blendStart||(a.blendStart=d),g=d-a.blendStart,v=_?Math.min(1,g/_):1,u===p&&(v=1,g=_),this.alwaysBlend&&(v*=h),a.opacity=v,v===1&&(this._setCoverage(this.coverage,u,l,c,!0),this._hasOpaqueTile=!0),g<_},_updateLevel:function(a,l,c,u,h,d){var p=u.getBoundingBox().getTopLeft(),g=u.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:!0,level:a,opacity:l,visibility:c,drawArea:u,topleft:p,bottomright:g,currenttime:h,best:d}),this._resetCoverage(this.coverage,a),this._resetCoverage(this.loadingCoverage,a);var v=this._getCornerTiles(a,p,g),_=v.topLeft,b=v.bottomRight,x=this.source.getNumTiles(a),C=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(b.x+=1,this.wrapHorizontal||(b.x=Math.min(b.x,x.x-1)));for(var S=Math.max(0,(b.x-_.x)*(b.y-_.y)),E=new Array(S),I=0,M=_.x;M<=b.x;M++)for(var k=_.y;k<=b.y;k++){var F;if(this.getFlip()){var P=(x.x+M%x.x)%x.x;F=M+x.x-P-P-1}else F=M;if(u.intersection(this.getTileBounds(a,F,k))!==null){var Q=this._updateTile(F,k,a,c,C,x,h,d);d=Q.bestTiles,E[I]=Q.tile,I+=1}}return{bestTiles:d,updatedTiles:E}},_positionTile:function(a,l,c,u,h){var d=a.bounds.getTopLeft();d.x*=this._scaleSpring.current.value,d.y*=this._scaleSpring.current.value,d.x+=this._xSpring.current.value,d.y+=this._ySpring.current.value;var p=a.bounds.getSize();p.x*=this._scaleSpring.current.value,p.y*=this._scaleSpring.current.value,a.positionedBounds.x=d.x,a.positionedBounds.y=d.y,a.positionedBounds.width=p.x,a.positionedBounds.height=p.y;var g=c.pixelFromPointNoRotate(d,!0),v=c.pixelFromPointNoRotate(d,!1),_=c.deltaPixelsFromPointsNoRotate(p,!0),b=c.deltaPixelsFromPointsNoRotate(p,!1),x=v.plus(b.divide(2)),C=u.squaredDistanceTo(x);this.viewer.drawer.minimumOverlapRequired(this)&&(l||(_=_.plus(new s.Point(1,1))),a.isRightMost&&this.wrapHorizontal&&(_.x+=.75),a.isBottomMost&&this.wrapVertical&&(_.y+=.75)),a.position=g,a.size=_,a.squaredDistance=C,a.visibility=h},_updateTile:function(a,l,c,u,h,d,p,g){var v=this._getTile(a,l,c,p,d);this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:v}),this._setCoverage(this.coverage,c,a,l,!1);var _=v.loaded||v.loading||this._isCovered(this.loadingCoverage,c,a,l);if(this._setCoverage(this.loadingCoverage,c,a,l,_),!v.exists)return{bestTiles:g,tile:v};if(v.loaded&&v.opacity===1&&this._setCoverage(this.coverage,c,a,l,!0),this._positionTile(v,this.source.tileOverlap,this.viewport,h,u),!v.loaded)if(v.context2D)this._setTileLoaded(v);else{var b=this._tileCache.getImageRecord(v.cacheKey);b&&this._setTileLoaded(v,b.getData())}return v.loading?this._tilesLoading++:_||(g=this._compareTiles(g,v,this.maxTilesPerFrame)),{bestTiles:g,tile:v}},_getCornerTiles:function(a,l,c){var u,h,d,p;this.wrapHorizontal?(u=s.positiveModulo(l.x,1),h=s.positiveModulo(c.x,1)):(u=Math.max(0,l.x),h=Math.min(1,c.x));var g=1/this.source.aspectRatio;this.wrapVertical?(d=s.positiveModulo(l.y,g),p=s.positiveModulo(c.y,g)):(d=Math.max(0,l.y),p=Math.min(g,c.y));var v=this.source.getTileAtPoint(a,new s.Point(u,d)),_=this.source.getTileAtPoint(a,new s.Point(h,p)),b=this.source.getNumTiles(a);return this.wrapHorizontal&&(v.x+=b.x*Math.floor(l.x),_.x+=b.x*Math.floor(c.x)),this.wrapVertical&&(v.y+=b.y*Math.floor(l.y/g),_.y+=b.y*Math.floor(c.y/g)),{topLeft:v,bottomRight:_}},_getTile:function(a,l,c,u,h){var d,p,g,v,_,b,x,C,S,E,I=this.tilesMatrix,M=this.source;return I[c]||(I[c]={}),I[c][a]||(I[c][a]={}),I[c][a][l]&&!I[c][a][l].flipped==!this.flipped||(d=(h.x+a%h.x)%h.x,p=(h.y+l%h.y)%h.y,g=this.getTileBounds(c,a,l),v=M.getTileBounds(c,d,p,!0),_=M.tileExists(c,d,p),b=M.getTileUrl(c,d,p),x=M.getTilePostData(c,d,p),this.loadTilesWithAjax?(C=M.getTileAjaxHeaders(c,d,p),s.isPlainObject(this.ajaxHeaders)&&(C=s.extend({},this.ajaxHeaders,C))):C=null,S=M.getContext2D?M.getContext2D(c,d,p):void 0,E=new s.Tile(c,a,l,g,_,b,S,this.loadTilesWithAjax,C,v,x,M.getTileHashKey(c,d,p,b,C,x)),this.getFlip()?d===0&&(E.isRightMost=!0):d===h.x-1&&(E.isRightMost=!0),p===h.y-1&&(E.isBottomMost=!0),E.flipped=this.flipped,I[c][a][l]=E),(E=I[c][a][l]).lastTouchTime=u,E},_loadTile:function(a,l){var c=this;a.loading=!0,this._imageLoader.addJob({src:a.getUrl(),tile:a,source:this.source,postData:a.postData,loadWithAjax:a.loadWithAjax,ajaxHeaders:a.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(u,h,d){c._onTileLoad(a,l,u,h,d)},abort:function(){a.loading=!1}})},_onTileLoad:function(a,l,c,u,h){if(!c)return s.console.error("Tile %s failed to load: %s - error: %s",a,a.getUrl(),u),this.viewer.raiseEvent("tile-load-failed",{tile:a,tiledImage:this,time:l,message:u,tileRequest:h}),a.loading=!1,void(a.exists=!1);if(a.exists=!0,l<this.lastResetTime)return s.console.warn("Ignoring tile %s loaded before reset: %s",a,a.getUrl()),void(a.loading=!1);var d;d=this.source.getClosestLevel(),this._setTileLoaded(a,c,d,h)},_setTileLoaded:function(a,l,c,u){var h=0,d=!1,p=this;function g(){return d&&s.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),h++,v}function v(){--h==0&&(a.loading=!1,a.loaded=!0,a.hasTransparency=p.source.hasTransparency(a.context2D,a.getUrl(),a.ajaxHeaders,a.postData),a.context2D||p._tileCache.cacheTile({data:l,tile:a,cutoff:c,tiledImage:p}),p.viewer.raiseEvent("tile-ready",{tile:a,tiledImage:p,tileRequest:u}),p._needsDraw=!0)}var _=g();this.viewer.raiseEvent("tile-loaded",{tile:a,tiledImage:this,tileRequest:u,get image(){return s.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),l},data:l,getCompletionCallback:g}),d=!0,_()},_compareTiles:function(a,l,c){return a?(a.push(l),this._sortTiles(a),a.length>c&&a.pop(),a):[l]},_sortTiles:function(a){a.sort(function(l,c){return l===null?1:c===null?-1:l.visibility===c.visibility?l.squaredDistance-c.squaredDistance:c.visibility-l.visibility})},_providesCoverage:function(a,l,c,u){var h,d,p,g;if(!a[l])return!1;if(c===void 0||u===void 0){for(p in h=a[l])if(Object.prototype.hasOwnProperty.call(h,p)){for(g in d=h[p])if(Object.prototype.hasOwnProperty.call(d,g)&&!d[g])return!1}return!0}return a[l][c]===void 0||a[l][c][u]===void 0||a[l][c][u]===!0},_isCovered:function(a,l,c,u){return c===void 0||u===void 0?this._providesCoverage(a,l+1):this._providesCoverage(a,l+1,2*c,2*u)&&this._providesCoverage(a,l+1,2*c,2*u+1)&&this._providesCoverage(a,l+1,2*c+1,2*u)&&this._providesCoverage(a,l+1,2*c+1,2*u+1)},_setCoverage:function(a,l,c,u,h){a[l]?(a[l][c]||(a[l][c]={}),a[l][c][u]=h):s.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",l)},_resetCoverage:function(a,l){a[l]={}}})}(e),function(s){var a=function(c){s.console.assert(c,"[TileCache.cacheTile] options is required"),s.console.assert(c.tile,"[TileCache.cacheTile] options.tile is required"),s.console.assert(c.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=c.tile,this.tiledImage=c.tiledImage},l=function(c){s.console.assert(c,"[ImageRecord] options is required"),s.console.assert(c.data,"[ImageRecord] options.data is required"),this._tiles=[],c.create.apply(null,[this,c.data,c.ownerTile]),this._destroyImplementation=c.destroy.bind(null,this),this.getImage=c.getImage.bind(null,this),this.getData=c.getData.bind(null,this),this.getRenderedContext=c.getRenderedContext.bind(null,this)};l.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(c){s.console.assert(c,"[ImageRecord.addTile] tile is required"),this._tiles.push(c)},removeTile:function(c){for(var u=0;u<this._tiles.length;u++)if(this._tiles[u]===c)return void this._tiles.splice(u,1);s.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",c)},getTileCount:function(){return this._tiles.length}},s.TileCache=function(c){c=c||{},this._maxImageCacheCount=c.maxImageCacheCount||s.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},s.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(c){s.console.assert(c,"[TileCache.cacheTile] options is required"),s.console.assert(c.tile,"[TileCache.cacheTile] options.tile is required"),s.console.assert(c.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),s.console.assert(c.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var u=c.cutoff||0,h=this._tilesLoaded.length,d=this._imagesLoaded[c.tile.cacheKey];if(d||(c.data||(s.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),c.data=c.image),s.console.assert(c.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),d=this._imagesLoaded[c.tile.cacheKey]=new l({data:c.data,ownerTile:c.tile,create:c.tiledImage.source.createTileCache,destroy:c.tiledImage.source.destroyTileCache,getImage:c.tiledImage.source.getTileCacheDataAsImage,getData:c.tiledImage.source.getTileCacheData,getRenderedContext:c.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),d.addTile(c.tile),c.tile.cacheImageRecord=d,this._imagesLoadedCount>this._maxImageCacheCount){for(var p,g,v,_,b,x,C=null,S=-1,E=null,I=this._tilesLoaded.length-1;I>=0;I--)(p=(x=this._tilesLoaded[I]).tile).level<=u||p.beingDrawn||(C?(_=p.lastTouchTime,g=C.lastTouchTime,b=p.level,v=C.level,(_<g||_===g&&b>v)&&(C=p,S=I,E=x)):(C=p,S=I,E=x));C&&S>=0&&(this._unloadTile(E),h=S)}this._tilesLoaded[h]=new a({tile:c.tile,tiledImage:c.tiledImage})},clearTilesFor:function(c){var u;s.console.assert(c,"[TileCache.clearTilesFor] tiledImage is required");for(var h=0;h<this._tilesLoaded.length;++h)(u=this._tilesLoaded[h]).tiledImage===c&&(this._unloadTile(u),this._tilesLoaded.splice(h,1),h--)},getImageRecord:function(c){return s.console.assert(c,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[c]},_unloadTile:function(c){s.console.assert(c,"[TileCache._unloadTile] tileRecord is required");var u=c.tile,h=c.tiledImage;let d=u.getCanvasContext&&u.getCanvasContext();u.unload(),u.cacheImageRecord=null;var p=this._imagesLoaded[u.cacheKey];p&&(p.removeTile(u),p.getTileCount()||(p.destroy(),delete this._imagesLoaded[u.cacheKey],this._imagesLoadedCount--,d&&(d.canvas.width=0,d.canvas.height=0,h.viewer.raiseEvent("image-unloaded",{context2D:d,tile:u}))),h.viewer.raiseEvent("tile-unloaded",{tile:u,tiledImage:h}))}}}(e),function(s){s.World=function(a){var l=this;s.console.assert(a.viewer,"[World] options.viewer is required"),s.EventSource.call(this),this.viewer=a.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(c){l._autoRefigureSizes?l._figureSizes():l._needsSizesFigured=!0},this._figureSizes()},s.extend(s.World.prototype,s.EventSource.prototype,{addItem:function(a,l){if(s.console.assert(a,"[World.addItem] item is required"),s.console.assert(a instanceof s.TiledImage,"[World.addItem] only TiledImages supported at this time"),(l=l||{}).index!==void 0){var c=Math.max(0,Math.min(this._items.length,l.index));this._items.splice(c,0,a)}else this._items.push(a);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,a.addHandler("bounds-change",this._delegatedFigureSizes),a.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:a})},getItemAt:function(a){return s.console.assert(a!==void 0,"[World.getItemAt] index is required"),this._items[a]},getIndexOfItem:function(a){return s.console.assert(a,"[World.getIndexOfItem] item is required"),s.indexOf(this._items,a)},getItemCount:function(){return this._items.length},setItemIndex:function(a,l){s.console.assert(a,"[World.setItemIndex] item is required"),s.console.assert(l!==void 0,"[World.setItemIndex] index is required");var c=this.getIndexOfItem(a);if(l>=this._items.length)throw new Error("Index bigger than number of layers.");l!==c&&c!==-1&&(this._items.splice(c,1),this._items.splice(l,0,a),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:a,previousIndex:c,newIndex:l}))},removeItem:function(a){s.console.assert(a,"[World.removeItem] item is required");var l=s.indexOf(this._items,a);l!==-1&&(a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy(),this._items.splice(l,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(a))},removeAll:function(){var a,l;for(this.viewer._cancelPendingImages(),l=0;l<this._items.length;l++)(a=this._items[l]).removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy();var c=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,l=0;l<c.length;l++)a=c[l],this._raiseRemoveItem(a)},resetItems:function(){for(var a=0;a<this._items.length;a++)this._items[a].reset()},update:function(a){for(var l=!1,c=0;c<this._items.length;c++)l=this._items[c].update(a)||l;return l},draw:function(){this.viewer.drawer.draw(this._items),this._needsDraw=!1,this._items.forEach(a=>{this._needsDraw=a.setDrawn()||this._needsDraw})},needsDraw:function(){for(var a=0;a<this._items.length;a++)if(this._items[a].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(a){this._autoRefigureSizes=a,a&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(a){var l,c=(a=a||{}).immediately||!1,u=a.layout||s.DEFAULT_SETTINGS.collectionLayout,h=a.rows||s.DEFAULT_SETTINGS.collectionRows,d=a.columns||s.DEFAULT_SETTINGS.collectionColumns,p=a.tileSize||s.DEFAULT_SETTINGS.collectionTileSize,g=p+(a.tileMargin||s.DEFAULT_SETTINGS.collectionTileMargin);l=!a.rows&&d?d:Math.ceil(this._items.length/h);var v,_,b,x,C,S=0,E=0;this.setAutoRefigureSizes(!1);for(var I=0;I<this._items.length;I++)I&&I%l==0&&(u==="horizontal"?(E+=g,S=0):(S+=g,E=0)),x=(b=(_=(v=this._items[I]).getBounds()).width>_.height?p:p*(_.width/_.height))*(_.height/_.width),C=new s.Point(S+(p-b)/2,E+(p-x)/2),v.setPosition(C,c),v.setWidth(b,c),u==="horizontal"?S+=g:E+=g;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var a=this._homeBounds?this._homeBounds.clone():null,l=this._contentSize?this._contentSize.clone():null,c=this._contentFactor||0;if(this._items.length){var u=this._items[0],h=u.getBounds();this._contentFactor=u.getContentSize().x/h.width;for(var d=u.getClippedBounds().getBoundingBox(),p=d.x,g=d.y,v=d.x+d.width,_=d.y+d.height,b=1;b<this._items.length;b++)h=(u=this._items[b]).getBounds(),this._contentFactor=Math.max(this._contentFactor,u.getContentSize().x/h.width),d=u.getClippedBounds().getBoundingBox(),p=Math.min(p,d.x),g=Math.min(g,d.y),v=Math.max(v,d.x+d.width),_=Math.max(_,d.y+d.height);this._homeBounds=new s.Rect(p,g,v-p,_-g),this._contentSize=new s.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new s.Rect(0,0,1,1),this._contentSize=new s.Point(1,1),this._contentFactor=1;this._contentFactor===c&&this._homeBounds.equals(a)&&this._contentSize.equals(l)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(a){this.raiseEvent("remove-item",{item:a})}})}(e)}(LO)),LO.exports);const Sf=(VC=M2e)&&VC.__esModule&&Object.prototype.hasOwnProperty.call(VC,"default")?VC.default:VC;var VC,R2e=Object.defineProperty,k2e=Object.getOwnPropertyDescriptor,Ib=(i,e,t,n)=>{for(var r,o=n>1?void 0:n?k2e(e,t):e,s=i.length-1;s>=0;s--)(r=i[s])&&(o=(n?r(e,t,o):r(o))||o);return n&&o&&R2e(e,t,o),o};let Ef=class extends Oc{constructor(){super(...arguments),this.src2D="",this._imageFiles=[],this._currentImageIdx=-1,this._currentSyncRotationAngle=0,this._imageCenter=new Sf.Point(0,0),this._deltaX=0,this._deltaY=0,this._minZoomLevel=-1,this._lastDoublePressPointer={clientX:-1,clientY:-1,id:-1},this._lastDoublePressTimeStamp=0,this._isDown=!1,this._viewer=null,this._viewerHomeBounds=new Sf.Rect(0,0,0,0,0),this._checkIfZoomIsInvalid=PO(()=>{if(this._viewer==null)return;const i=this._viewer.viewport;i.getZoom(!0)<i.getMinZoom()&&(console.log("Zoom is invalid",i.getZoom(!0)),i.applyConstraints())},250),this._checkIfCenterPosIsUpdated=PO(()=>{const[i,e]=this.getImageCenter();this._deltaX==i&&this._deltaY==e||(this._deltaX=i,this._deltaY=e,this.dispatchEvent(new CustomEvent("image-shifted",{detail:{deltaX:i,deltaY:e}})))},15)}get viewer(){return this._viewer}render(){return Na`
      <div id="image_viewer" @pointermove="${this._handlePointerMove}"></div>
      <div id="overlay"></div>
    `}firstUpdated(){const i=this.renderRoot.querySelector("#image_viewer");i!=null?(this._viewer=Sf({crossOriginPolicy:"Anonymous",element:i,autoResize:!0,showFullPageControl:!1,showZoomControl:!1,showHomeControl:!1,showNavigator:!1,navigatorPosition:"TOP_LEFT",minZoomImageRatio:1,maxZoomLevel:100,imageSmoothingEnabled:!1,visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:0,placeholderFillStyle:"#FF8800",preserveViewport:!0,loadTilesWithAjax:!0,imageLoaderLimit:1,zoomPerScroll:1.4,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!1,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!1},gestureSettingsPen:{scrollToZoom:!0,clickToZoom:!1,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!1},gestureSettingsUnknown:{scrollToZoom:!0,clickToZoom:!1,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!1},preserveOverlays:!0}),console.log("Viewer 2D",this._viewer,this.clientHeight,this.clientWidth),this._viewer.addHandler("resize",this._handleImageResizeEvent.bind(this)),this._viewer.addHandler("tile-loaded",this._handleTileLoaded.bind(this)),this._viewer.addHandler("zoom",this._handleZoomChanged.bind(this)),this._viewer.addHandler("rotate",this._checkIfMinZoomChanged.bind(this)),this._viewer.addHandler("update-viewport",this._checkIfCenterPosIsUpdated.bind(this)),this._viewer.addHandler("canvas-press",function(e,t=300){let n,r=0;return function(...o){r++,r===1?n=window.setTimeout(()=>{r=0},t):(window.clearTimeout(n),e(...o),r=0)}}(this._handleCanvasDoublePressEvent.bind(this))),this._viewer.addHandler("viewport-change",this._handleViewportChangedEvent.bind(this)),this._viewer.addOverlay(this.hotspotOverlay,new Sf.Point(0,0),Sf.Placement.CENTER),this.hotspotOverlay.style.opacity="0",new bte(this.parentElement,"pointerdown").on("single-click",this._handleSingleClickEvent.bind(this)),this.measurementTool.on("change-image-hotspot-visibility",e=>this.hotspotOverlay.style.opacity=e?"1":"0"),this.measurementTool.on("update-image-hotspot-position-requested",this._updateImageHotspotPosition.bind(this))):console.log("coudn't find element #image_viewer")}connectWithSettings(i){i.imageRotation.on("rotation-angle-changed",this.rotateImage.bind(this))}resize(i,e,t){this.style.height=i+"px",this.style.width=e+"px",this.style.transform=t,this._checkIfZoomIsInvalid()}setImageFiles(i){this._imageFiles=i,console.log("Image Files has been set")}async loadNextImage(i){if(i>=this._imageFiles.length)return void console.log("Image with index",i,"cannot be loaded because only",this._imageFiles.length,"images exist");if(this._currentImageIdx==i||(this._currentImageIdx=i,this._viewer==null))return;const e=await this.viewSettings.resolve2dFileURL(this._imageFiles[this._currentImageIdx]);this._viewer.open({type:"image",url:e}),console.log("Loaded image",e)}rotateImage(i){this._currentSyncRotationAngle!=i&&(this._currentSyncRotationAngle=i,this._viewer!=null&&(this._viewer.viewport.setRotation(this._currentSyncRotationAngle),this._checkIfZoomIsInvalid()))}updatePointerEventsState(i){var e;(e=this._viewer)==null||e.setMouseNavEnabled(!i)}zoomImage(i){this._viewer!=null&&this._viewer.viewport.getZoom()!=i&&(console.log("Zooom image, ",i),this._viewer.viewport.zoomTo(i,void 0,!0))}getZoomLevel(){return this._viewer==null?1:this._viewer.viewport.getZoom()}getImageCenter(){if(this._viewer==null)return[0,0];const i=this._viewer.viewport.imageToViewerElementCoordinates(this._imageCenter);return[.5*this.clientWidth-i.x,.5*this.clientHeight-i.y]}_handlePointerMove(i){if(this._viewer==null||this._viewer.isMouseNavEnabled()||i.pointerId!=this._lastDoublePressPointer.id||!this._isDown)return;const e=i.clientX-this._lastDoublePressPointer.clientX,t=i.clientY-this._lastDoublePressPointer.clientY;e===0&&t===0||(this._lastDoublePressPointer.clientX=i.clientX,this._lastDoublePressPointer.clientY=i.clientY,this.dispatchEvent(new CustomEvent("pointer-move-in-disable-mode",{detail:{dx:e,dy:t}})))}_handlePointerUpAfterDoublePress(i){this._isDown=!1,this._viewer==null||this._viewer.isMouseNavEnabled()||i.timeStamp-this._lastDoublePressTimeStamp>700&&this.dispatchEvent(new Event("double-press-completed"))}_updateImageHotspotPosition(i,e){console.log("Hotspot update-image-hotspot-position",i,e),this._viewer!=null&&this._viewer.updateOverlay(this.hotspotOverlay,this._viewer.viewport.imageToViewportCoordinates(i,e),Sf.Placement.CENTER)}_handleSingleClickEvent(i){if(this._viewer==null||!this.measurementTool.isEditModeActive)return void console.log("Single click event: ignoring, viewer null or measurement tool not active.");const e=this.parentElement.getBoundingClientRect(),t=this._viewer.viewport.pointFromPixel(new Sf.Point(i.clientX-e.x,i.clientY-e.y)),n=this._viewer.viewport.viewportToImageCoordinates(t);this.measurementTool.addPointFromImage(n.x,n.y),this._viewer.updateOverlay(this.hotspotOverlay,t,Sf.Placement.CENTER),console.log("Hotspot in image added")}_handleCanvasDoublePressEvent(i){this._isDown=!0;const e=i.originalEvent;this._lastDoublePressPointer={clientX:e.clientX,clientY:e.clientX,id:e.pointerId},this.dispatchEvent(new CustomEvent("double-press",{detail:{pointerEvent:e}})),this._viewer!=null&&(console.log("Add event handler"),this._lastDoublePressTimeStamp=e.timeStamp,this.parentElement.addEventListener("pointerup",this._handlePointerUpAfterDoublePress.bind(this),{once:!0}))}_handleViewportChangedEvent(){this._viewer!=null&&(this._viewerHomeBounds.equals(this._viewer.viewport.getHomeBounds())||(this._viewerHomeBounds=this._viewer.viewport.getHomeBounds(),this.dispatchEvent(new CustomEvent("image-zoom-changed",{detail:{zoomLevel:this._viewer.viewport.getZoom(!1)}}))))}_handleImageResizeEvent(){this._checkIfMinZoomChanged()}_handleTileLoaded(i){this._checkIfZoomIsInvalid(),this._checkIfMinZoomChanged(),this._checkIfCenterPosIsUpdated();const e=i.tiledImage.source.dimensions;this._imageCenter.x=.5*e.x,this._imageCenter.y=.5*e.y}_checkIfMinZoomChanged(){this._viewer!=null&&this._minZoomLevel!=this._viewer.viewport.getMinZoom()&&(this._minZoomLevel=this._viewer.viewport.getMinZoom(),console.log("emit min zoom changed",this._minZoomLevel),this.dispatchEvent(new CustomEvent("min-zoom-level-changed",{detail:{zoomLevel:this._minZoomLevel}})))}_handleZoomChanged(i){this._viewer!=null&&i.immediately!=1?(console.log("image zoom changed 1",i.zoom),this._checkIfZoomIsInvalid(),this.dispatchEvent(new CustomEvent("image-zoom-changed",{detail:{zoomLevel:i.zoom}}))):console.log("Return zoom",i.zoom)}};Ef.styles=qA`
    :host {
      background-color: black;
    }

    #image_viewer {
      height: inherit;
      width: inherit;
      background-color: transparent;
    }

    .hotspot {
      display: block;
      width: 20px;
      height: 20px;
      border-radius: 20px;
      border: none;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);
      box-sizing: border-box;
      cursor: pointer;
      transition: opacity 0.3s;
      position: relative;
      font-size: 12px;
      padding: 0;
    }

    #overlay {
      display: none;
      background-color: transparent;
      opacity: 0;
      width: 20px;
      height: 20px;
      border-radius: 20px;
      border: 3px solid rgb(0, 128, 200);
    }
  `,Ib([Zn()],Ef.prototype,"src2D",2),Ib([OA("#image_viewer")],Ef.prototype,"parentElement",2),Ib([OA("#overlay")],Ef.prototype,"hotspotOverlay",2),Ib([Zn({type:Object})],Ef.prototype,"measurementTool",2),Ib([Zn({type:Object})],Ef.prototype,"viewSettings",2),Ef=Ib([WA("viewer-2d")],Ef);const OO=(i,e=document.body,t)=>{let n=document.querySelector(i);return n||(n=t?t():document.createElement(i),e.insertBefore(n,e.firstChild))},F2e=()=>{const i=document.createElement("meta");return i.setAttribute("name","ui5-shared-resources"),i.setAttribute("content",""),i},Mv=(i,e)=>{const t=i.split(".");let n=typeof document>"u"?null:OO('meta[name="ui5-shared-resources"]',document.head,F2e);if(!n)return e;for(let r=0;r<t.length;r++){const o=t[r],s=r===t.length-1;Object.prototype.hasOwnProperty.call(n,o)||(n[o]=s?e:{}),n=n[o]}return n};var QO=(i=>(i["SAP-icons"]="SAP-icons-v4",i.horizon="SAP-icons-v5",i["SAP-icons-TNT"]="tnt",i.BusinessSuiteInAppSymbols="business-suite",i))(QO||{});const yte=i=>QO[i]?QO[i]:i;var wte={},xte=wte.hasOwnProperty,D2e=wte.toString,Cte=xte.toString,U2e=Cte.call(Object),hW=function(i){var e,t;return!(!i||D2e.call(i)!=="[object Object]"||(e=Object.getPrototypeOf(i))&&(typeof(t=xte.call(e,"constructor")&&e.constructor)!="function"||Cte.call(t)!==U2e))},P2e=Object.create(null),Bte=function(i,e,t,n){var r,o,s,a,l,c,u=arguments[2]||{},h=3,d=arguments.length,p=arguments[0]||!1,g=arguments[1]?void 0:P2e;for(typeof u!="object"&&typeof u!="function"&&(u={});h<d;h++)if((l=arguments[h])!=null)for(a in l)r=u[a],s=l[a],a!=="__proto__"&&u!==s&&(p&&s&&(hW(s)||(o=Array.isArray(s)))?(o?(o=!1,c=r&&Array.isArray(r)?r:[]):c=r&&hW(r)?r:{},u[a]=Bte(p,arguments[1],c,s)):s!==g&&(u[a]=s));return u};const NO=function(i,e){return Bte(!0,!1,...arguments)},Ste=new Map,nv=i=>Ste.get(i),Y5="sap_horizon",L2e=["sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"],qB="en",Ep="en",AW=["ar","ar_EG","ar_SA","bg","ca","cnr","cs","da","de","de_AT","de_CH","el","el_CY","en","en_AU","en_GB","en_HK","en_IE","en_IN","en_NZ","en_PG","en_SG","en_ZA","es","es_AR","es_BO","es_CL","es_CO","es_MX","es_PE","es_UY","es_VE","et","fa","fi","fr","fr_BE","fr_CA","fr_CH","fr_LU","he","hi","hr","hu","id","it","it_CH","ja","kk","ko","lt","lv","ms","mk","nb","nl","nl_BE","pl","pt","pt_PT","ro","ru","ru_UA","sk","sl","sr","sr_Latn","sv","th","tr","uk","vi","zh_CN","zh_HK","zh_SG","zh_TW"],Ete=typeof document>"u",O2e=()=>Ete?"":window.location.search,dW=()=>Ete?"":window.location.href,Q2e=i=>{let e;try{if(i.startsWith(".")||i.startsWith("/"))e=new URL(i,dW()).toString();else{const t=new URL(i),n=t.origin;e=n&&(r=>{const o=(()=>{const s=document.querySelector('META[name="sap-allowedThemeOrigins"]');return s&&s.getAttribute("content")})();return o&&o.split(",").some(s=>s==="*"||r===s.trim())})(n)?t.toString():((r,o)=>{const s=new URL(r).pathname;return new URL(s,o).toString()})(t.toString(),dW())}return e.endsWith("/")||(e=`${e}/`),`${e}UI5/`}catch{}};var $N=(i=>(i.Full="full",i.Basic="basic",i.Minimal="minimal",i.None="none",i))($N||{});let Dp=class{constructor(){this._eventRegistry=new Map}attachEvent(i,e){const t=this._eventRegistry,n=t.get(i);Array.isArray(n)?n.includes(e)||n.push(e):t.set(i,[e])}detachEvent(i,e){const t=this._eventRegistry,n=t.get(i);if(!n)return;const r=n.indexOf(e);r!==-1&&n.splice(r,1),n.length===0&&t.delete(i)}fireEvent(i,e){const t=this._eventRegistry.get(i);return t?t.map(n=>n.call(this,e)):[]}fireEventAsync(i,e){return Promise.all(this.fireEvent(i,e))}isHandlerAttached(i,e){const t=this._eventRegistry.get(i);return!!t&&t.includes(e)}hasListeners(i){return!!this._eventRegistry.get(i)}};const N2e=new Dp,Ew=i=>{N2e.attachEvent("configurationReset",i)};let pW=!1,El={animationMode:$N.Full,theme:Y5,themeRoot:void 0,rtl:void 0,language:void 0,timezone:void 0,calendarType:void 0,secondaryCalendarType:void 0,noConflict:!1,formatSettings:{},fetchDefaultLanguage:!1,defaultFontLoading:!0,enableDefaultTooltips:!0};const Z5=new Map;Z5.set("true",!0),Z5.set("false",!1);const fW=(i,e,t)=>{const n=e.toLowerCase(),r=i.split(`${t}-`)[1];var o;Z5.has(e)&&(e=Z5.get(n)),r==="theme"?(El.theme=(o=e,r==="theme"&&o.includes("@")?o.split("@")[0]:o),e&&e.includes("@")&&(El.themeRoot=(s=>{const a=s.split("@")[1];return Q2e(a)})(e))):El[r]=e},Ng=()=>{typeof document>"u"||pW||(H2e(),pW=!0)},H2e=i=>{(()=>{const e=document.querySelector("[data-ui5-config]")||document.querySelector("[data-id='sap-ui-config']");let t;if(e){try{t=JSON.parse(e.innerHTML)}catch{console.warn("Incorrect data-sap-ui-config format. Please use JSON")}t&&(El=NO(El,t))}})(),(()=>{const e=new URLSearchParams(O2e());e.forEach((t,n)=>{const r=n.split("sap-").length;r===0||r===n.split("sap-ui-").length||fW(n,t,"sap")}),e.forEach((t,n)=>{n.startsWith("sap-ui")&&fW(n,t,"sap-ui")})})(),(()=>{const e=nv("OpenUI5Support");if(!e||!e.isOpenUI5Detected())return;const t=e.getConfigurationSettingsObject();El=NO(El,t)})()},Tte={version:"2.9.0",major:2,minor:9,patch:0,suffix:"",isNext:!1,buildTime:1743779257};let HO={include:[/^ui5-/],exclude:[]};const Z9=new Map,zO=i=>{if(!Z9.has(i)){const e=HO.include.some(t=>i.match(t))&&!HO.exclude.some(t=>i.match(t));Z9.set(i,e)}return Z9.get(i)},Tw=i=>{const e=`v${Tte.version.replaceAll(".","-")}`;return i.replaceAll(/(--_?ui5)([^,:)\s]+)/g,`$1-${e}$2`)};let cM;const J9=new Map,WB=Mv("Runtimes",[]),ew=()=>cM,Ite=(i,e)=>{const t=`${i},${e}`;if(J9.has(t))return J9.get(t);const n=WB[i],r=WB[e];if(!n||!r)throw new Error("Invalid runtime index supplied");if(n.isNext||r.isNext)return n.buildTime-r.buildTime;const o=n.major-r.major;if(o)return o;const s=n.minor-r.minor;if(s)return s;const a=n.patch-r.patch;if(a)return a;const l=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}).compare(n.suffix,r.suffix);return J9.set(t,l),l},gW=Mv("Tags",new Map),GO=new Set;let eP,s_=new Map;const Mte=()=>[...GO.values()],Rte=new Set,XN=new Set,z2e=new Dp,tw=new class{constructor(){this.list=[],this.lookup=new Set}add(i){this.lookup.has(i)||(this.list.push(i),this.lookup.add(i))}remove(i){this.lookup.has(i)&&(this.list=this.list.filter(e=>e!==i),this.lookup.delete(i))}shift(){const i=this.list.shift();if(i)return this.lookup.delete(i),i}isEmpty(){return this.list.length===0}isAdded(i){return this.lookup.has(i)}process(i){let e;const t=new Map;for(e=this.shift();e;){const n=t.get(e)||0;if(n>10)throw new Error("Web component processed too many times this task, max allowed is: 10");i(e),t.set(e,n+1),e=this.shift()}}};let b2,uM,tP,J1;const kte=async i=>{tw.add(i),await G2e()},Fte=i=>{z2e.fireEvent("beforeComponentRender",i),XN.add(i),i._render()},G2e=async()=>{J1||(J1=new Promise(i=>{window.requestAnimationFrame(()=>{tw.process(Fte),J1=null,i(),tP||(tP=setTimeout(()=>{tP=void 0,tw.isEmpty()&&V2e()},200))})})),await J1},jB=async()=>{await(()=>{const i=Mte().map(e=>customElements.whenDefined(e));return Promise.all(i)})(),await(b2||(b2=new Promise(i=>{uM=i,window.requestAnimationFrame(()=>{tw.isEmpty()&&(b2=void 0,i())})}),b2))},V2e=()=>{tw.isEmpty()&&uM&&(uM(),uM=void 0,b2=void 0)},q2e=typeof document>"u",Uk=(i,e)=>e?`${i}|${e}`:i,KB=(i,e,t="",n)=>{const r=ew(),o=new CSSStyleSheet;o.replaceSync(i),o._ui5StyleId=Uk(e,t),n&&(o._ui5RuntimeIndex=r,o._ui5Theme=n),document.adoptedStyleSheets=[...document.adoptedStyleSheets,o]},$B=(i,e="")=>!!q2e||!!document.adoptedStyleSheets.find(t=>t._ui5StyleId===Uk(i,e)),mW=(i,e,t="",n)=>{$B(e,t)?((r,o,s="",a)=>{const l=ew(),c=document.adoptedStyleSheets.find(h=>h._ui5StyleId===Uk(o,s));if(c)if(a){const h=c._ui5RuntimeIndex;(c._ui5Theme!==a||(u=h)===void 0||Ite(ew(),parseInt(u))===1)&&(c.replaceSync(r||""),c._ui5RuntimeIndex=String(l),c._ui5Theme=a)}else c.replaceSync(r||"");var u})(i,e,t,n):KB(i,e,t,n)},Dte=new Dp,Ute="themeRegistered",_W=new Map,Pte=new Map,W2e=new Map,Lte=new Set,J5=new Set,bt=(i,e,t)=>{var n;Pte.set(`${i}/${e}`,t),Lte.add(i),J5.add(e),n=e,Dte.fireEvent(Ute,n)},vW=async(i,e,t)=>{const n=`${i}_${e}_${t||""}`,r=_W.get(n);if(r!==void 0)return r;if(!J5.has(e)){const u=[...J5.values()].join(", ");return console.warn(`You have requested a non-registered theme ${e} - falling back to ${Y5}. Registered themes are: ${u}`),iP(i,Y5)}const[o,s]=await Promise.all([iP(i,e),t?iP(i,t,!0):void 0]),a=(c=s,(l=o)===void 0?c:c===void 0?l:`${l} ${c}`);var l,c;return a&&_W.set(n,a),a},iP=async(i,e,t=!1)=>{const n=(t?W2e:Pte).get(`${i}/${e}`);if(!n)return void(t||console.error(`Theme [${e}] not registered for package [${i}]`));let r;try{r=await n(e)}catch(o){return void console.error(i,o.message)}return r},bW=()=>Lte,Mb=new Set,VO=()=>{const i=(()=>{let t=document.querySelector(".sapThemeMetaData-Base-baseLib")||document.querySelector(".sapThemeMetaData-UI5-sap-ui-core");if(t)return getComputedStyle(t).backgroundImage;t=document.createElement("span"),t.style.display="none",t.classList.add("sapThemeMetaData-Base-baseLib"),document.body.appendChild(t);let n=getComputedStyle(t).backgroundImage;return n==="none"&&(t.classList.add("sapThemeMetaData-UI5-sap-ui-core"),n=getComputedStyle(t).backgroundImage),document.body.removeChild(t),n})();if(!i||i==="none")return;const e=(t=>{const n=/\(["']?data:text\/plain;utf-8,(.*?)['"]?\)$/i.exec(t);if(n&&n.length>=2){let r=n[1];if(r=r.replace(/\\"/g,'"'),r.charAt(0)!=="{"&&r.charAt(r.length-1)!=="}")try{r=decodeURIComponent(r)}catch{return void(Mb.has("decode")||(console.warn("Malformed theme metadata string, unable to decodeURIComponent"),Mb.add("decode")))}try{return JSON.parse(r)}catch{Mb.has("parse")||(console.warn("Malformed theme metadata string, unable to parse JSON"),Mb.add("parse"))}}})(i);return e?(t=>{let n,r;try{const o=t.Path.split(".");n=o.length===4?o[2]:getComputedStyle(document.body).getPropertyValue("--sapSapThemeId"),r=t.Extends[0]}catch{return void(Mb.has("object")||(console.warn("Malformed theme metadata Object",t),Mb.add("object")))}return{themeName:n,baseThemeName:r}})(e):void 0},j2e=new Dp;let hM;Ew(()=>{hM=void 0});const yW=()=>(hM===void 0&&(Ng(),hM=El.themeRoot),hM),qC="@ui5/webcomponents-theming",Ote=async i=>{const e=await(async r=>{var o;const s=VO();if(s)return s;const a=nv("OpenUI5Support");if(a&&a.isOpenUI5Detected()){if(a.cssVariablesLoaded())return{themeName:(o=a.getConfigurationSettingsObject())==null?void 0:o.theme,baseThemeName:""}}else if(yW())return await(async l=>{const c=document.querySelector(`[sap-ui-webcomponents-theme="${l}"]`);var u;c&&document.head.removeChild(c),await((h,d)=>{const p=document.createElement("link");return p.type="text/css",p.rel="stylesheet",d&&Object.entries(d).forEach(g=>p.setAttribute(...g)),p.href=h,document.head.appendChild(p),new Promise(g=>{p.addEventListener("load",g),p.addEventListener("error",g)})})((u=l,`${yW()}Base/baseLib/${u}/css_variables.css`),{"sap-ui-webcomponents-theme":l})})(r),VO()})(i);e&&i===e.themeName?((r,o="")=>{document.adoptedStyleSheets=document.adoptedStyleSheets.filter(s=>s._ui5StyleId!==Uk(r,o))})("data-ui5-theme-properties",qC):await(async r=>{if(!bW().has(qC))return;const o=await vW(qC,r);o&&mW(o,"data-ui5-theme-properties",qC,r)})(i);const t=(n=i,J5.has(n)?i:e&&e.baseThemeName);var n;await(async(r,o)=>{const s=[...bW()].map(async a=>{if(a===qC)return;const l=await vW(a,r,o);l&&mW(l,`data-ui5-component-properties-${ew()}`,a)});return Promise.all(s)})(t||Y5,e&&e.themeName===i?i:void 0),(r=>{j2e.fireEvent("themeLoaded",r)})(i)};let AM;Ew(()=>{AM=void 0});const K2e=()=>{const i=document.querySelector("head>style[data-ui5-font-face]");AM===void 0&&(Ng(),AM=El.defaultFontLoading),!AM||i||$B("data-ui5-font-face")||KB(`@font-face{font-family:"72";font-style:normal;font-weight:400;src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72-Regular.woff2?ui5-webcomponents) format("woff2"),local("72");unicode-range:U+00,U+0D,U+20-7E,U+A0-FF,U+131,U+152-153,U+161,U+178,U+17D-17E,U+192,U+237,U+2C6,U+2DC,U+3BC,U+1E9E,U+2013-2014,U+2018-201A,U+201C-201E,U+2020-2022,U+2026,U+2030,U+2039-203A,U+2044,U+20AC,U+2122}@font-face{font-family:"72full";font-style:normal;font-weight:400;src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72-Regular-full.woff2?ui5-webcomponents) format("woff2"),local('72-full')}@font-face{font-family:"72";font-style:normal;font-weight:700;src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72-Bold.woff2?ui5-webcomponents) format("woff2"),local('72-Bold');unicode-range:U+00,U+0D,U+20-7E,U+A0-FF,U+131,U+152-153,U+161,U+178,U+17D-17E,U+192,U+237,U+2C6,U+2DC,U+3BC,U+1E9E,U+2013-2014,U+2018-201A,U+201C-201E,U+2020-2022,U+2026,U+2030,U+2039-203A,U+2044,U+20AC,U+2122}@font-face{font-family:"72full";font-style:normal;font-weight:700;src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72-Bold-full.woff2?ui5-webcomponents) format("woff2")}@font-face{font-family:'72-Bold';font-style:normal;src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72-Bold.woff2?ui5-webcomponents) format("woff2"),local('72-Bold');unicode-range:U+00,U+0D,U+20-7E,U+A0-FF,U+131,U+152-153,U+161,U+178,U+17D-17E,U+192,U+237,U+2C6,U+2DC,U+3BC,U+1E9E,U+2013-2014,U+2018-201A,U+201C-201E,U+2020-2022,U+2026,U+2030,U+2039-203A,U+2044,U+20AC,U+2122}@font-face{font-family:'72-Boldfull';font-style:normal;src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72-Bold-full.woff2?ui5-webcomponents) format("woff2")}@font-face{font-family:'72-Light';font-style:normal;src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72-Light.woff2?ui5-webcomponents) format("woff2"),local('72-Light');unicode-range:U+00,U+0D,U+20-7E,U+A0-FF,U+131,U+152-153,U+161,U+178,U+17D-17E,U+192,U+237,U+2C6,U+2DC,U+3BC,U+1E9E,U+2013-2014,U+2018-201A,U+201C-201E,U+2020-2022,U+2026,U+2030,U+2039-203A,U+2044,U+20AC,U+2122}@font-face{font-family:'72-Lightfull';font-style:normal;src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72-Light-full.woff2?ui5-webcomponents) format("woff2")}@font-face{font-family:'72Mono';src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72Mono-Regular.woff2?ui5-webcomponents) format('woff2'),local('72Mono');unicode-range:U+00,U+0D,U+20-7E,U+A0-FF,U+131,U+152-153,U+161,U+178,U+17D-17E,U+192,U+237,U+2C6,U+2DC,U+3BC,U+1E9E,U+2013-2014,U+2018-201A,U+201C-201E,U+2020-2022,U+2026,U+2030,U+2039-203A,U+2044,U+20AC,U+2122}@font-face{font-family:'72Monofull';src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72Mono-Regular-full.woff2?ui5-webcomponents) format('woff2')}@font-face{font-family:'72Mono-Bold';src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72Mono-Bold.woff2?ui5-webcomponents) format('woff2'),local('72Mono-Bold');unicode-range:U+00,U+0D,U+20-7E,U+A0-FF,U+131,U+152-153,U+161,U+178,U+17D-17E,U+192,U+237,U+2C6,U+2DC,U+3BC,U+1E9E,U+2013-2014,U+2018-201A,U+201C-201E,U+2020-2022,U+2026,U+2030,U+2039-203A,U+2044,U+20AC,U+2122}@font-face{font-family:'72Mono-Boldfull';src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72Mono-Bold-full.woff2?ui5-webcomponents) format('woff2')}@font-face{font-family:"72Black";font-style:bold;font-weight:900;src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72-Black.woff2?ui5-webcomponents) format("woff2"),local('72Black');unicode-range:U+00,U+0D,U+20-7E,U+A0-FF,U+131,U+152-153,U+161,U+178,U+17D-17E,U+192,U+237,U+2C6,U+2DC,U+3BC,U+1E9E,U+2013-2014,U+2018-201A,U+201C-201E,U+2020-2022,U+2026,U+2030,U+2039-203A,U+2044,U+20AC,U+2122}@font-face{font-family:'72Blackfull';src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72-Black-full.woff2?ui5-webcomponents) format('woff2')}@font-face{font-family:"72-SemiboldDuplex";src:url(https://sdk.openui5.org/resources/sap/ui/core/themes/sap_horizon/fonts/72-SemiboldDuplex.woff2?ui5-webcomponents) format("woff2"),local('72-SemiboldDuplex');unicode-range:U+00,U+0D,U+20-7E,U+A0-FF,U+131,U+152-153,U+161,U+178,U+17D-17E,U+192,U+237,U+2C6,U+2DC,U+3BC,U+1E9E,U+2013-2014,U+2018-201A,U+201C-201E,U+2020-2022,U+2026,U+2030,U+2039-203A,U+2044,U+20AC,U+2122}`,"data-ui5-font-face")},Pa=typeof document>"u",un={get userAgent(){return Pa?"":navigator.userAgent},get touch(){return!Pa&&("ontouchstart"in window||navigator.maxTouchPoints>0)},get chrome(){return!Pa&&/(Chrome|CriOS)/.test(un.userAgent)},get firefox(){return!Pa&&/Firefox/.test(un.userAgent)},get safari(){return!Pa&&!un.chrome&&/(Version|PhantomJS)\/(\d+\.\d+).*Safari/.test(un.userAgent)},get webkit(){return!Pa&&/webkit/.test(un.userAgent)},get windows(){return!Pa&&navigator.platform.indexOf("Win")!==-1},get macOS(){return!Pa&&!!navigator.userAgent.match(/Macintosh|Mac OS X/i)},get iOS(){return!(Pa||!navigator.platform.match(/iPhone|iPad|iPod/)&&(!un.userAgent.match(/Mac/)||!("ontouchend"in document)))},get android(){return!Pa&&!un.windows&&/Android/.test(un.userAgent)},get androidPhone(){return!Pa&&un.android&&/(?=android)(?=.*mobile)/i.test(un.userAgent)},get ipad(){return!Pa&&(/ipad/i.test(un.userAgent)||/Macintosh/i.test(un.userAgent)&&"ontouchend"in document)},_isPhone:()=>(Qte(),un.touch&&!Xf)};let nP,rP,Xf;const qO=()=>{if(Pa||!un.windows)return!1;if(nP===void 0){const i=un.userAgent.match(/Windows NT (\d+).(\d)/);nP=i?parseFloat(i[1]):0}return nP>=8},Qte=()=>{if(Pa)return!1;if(Xf===void 0){if(un.ipad)return void(Xf=!0);if(un.touch){if(qO())return void(Xf=!0);if(un.chrome&&un.android)return void(Xf=!/Mobile Safari\/[.0-9]+/.test(un.userAgent));let i=window.devicePixelRatio?window.devicePixelRatio:1;return un.android&&(()=>{if(Pa||!un.webkit)return!1;if(rP===void 0){const e=un.userAgent.match(/(webkit)[ /]([\w.]+)/);rP=e?parseFloat(e[1]):0}return rP>=537.1})()&&(i=1),void(Xf=Math.min(window.screen.width/i,window.screen.height/i)>=600)}Xf=un.userAgent.indexOf("Touch")!==-1||un.android&&!un.androidPhone}},wW=()=>un.touch,Pk=()=>un.safari,jr=()=>un._isPhone(),Nu=()=>!Pa&&(Qte(),!((un.touch||qO())&&Xf||jr())||qO()),Nte=()=>un.iOS;let oP,xW=!1,YN=!1;const Hte=new Dp,$2e=async()=>(oP!==void 0||(oP=new Promise(async i=>{if((()=>{if(cM===void 0){cM=WB.length;const o=Tte;WB.push({...o,get scopingSuffix(){},get registeredTags(){return Mte()},get scopingRules(){return HO},alias:"",description:`Runtime ${cM} - ver ${o.version}`})}})(),typeof document>"u")return void i();var e;e=X2e,Dte.attachEvent(Ute,e);const t=nv("OpenUI5Support"),n=!!t&&t.isOpenUI5Detected(),r=nv("F6Navigation");t&&await t.init(),r&&!n&&r.init(),await new Promise(o=>{document.body?o():document.addEventListener("DOMContentLoaded",()=>{o()})}),await Ote(XB()),t&&t.attachListeners(),(()=>{const o=nv("OpenUI5Support");(!o||!o.isOpenUI5Detected())&&K2e(),$B("data-ui5-font-face-override")||KB("@font-face{font-family:'72override';unicode-range:U+0102-0103,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EB7,U+1EB8-1EC7,U+1EC8-1ECB,U+1ECC-1EE3,U+1EE4-1EF1,U+1EF4-1EF7;src:local('Arial'),local('Helvetica'),local('sans-serif')}","data-ui5-font-face-override")})(),$B("data-ui5-system-css-vars")||KB(":root{--_ui5_content_density:cozy}.sapUiSizeCompact,.ui5-content-density-compact,[data-ui5-compact-size]{--_ui5_content_density:compact}","data-ui5-system-css-vars"),Pk()&&Nte()&&!xW&&(document.body.addEventListener("touchstart",()=>{}),xW=!0),i(),YN=!0,Hte.fireEvent("boot")})),oP),X2e=i=>{YN&&i===XB()&&Ote(XB())};let dM;Ew(()=>{dM=void 0});const XB=()=>(dM===void 0&&(Ng(),dM=El.theme),dM);var Y2e=(i=>(i.SAPIconsV4="SAP-icons-v4",i.SAPIconsV5="SAP-icons-v5",i.SAPIconsTNTV2="tnt-v2",i.SAPIconsTNTV3="tnt-v3",i.SAPBSIconsV1="business-suite-v1",i.SAPBSIconsV2="business-suite-v2",i))(Y2e||{});const _p=new Map;_p.set("SAP-icons",{legacy:"SAP-icons-v4",sap_horizon:"SAP-icons-v5"}),_p.set("tnt",{legacy:"tnt-v2",sap_horizon:"tnt-v3"}),_p.set("business-suite",{legacy:"business-suite-v1",sap_horizon:"business-suite-v2"});const Z2e=i=>{const e=(()=>{var t,n;const r=XB();return(o=>L2e.includes(o))(r)?!r.startsWith("sap_horizon"):!((n=(t=VO())==null?void 0:t.baseThemeName)!=null&&n.startsWith("sap_horizon"))})()?"legacy":"sap_horizon";return _p.has(i)?_p.get(i)[e]:i},J2e=new Map,zte=i=>{const e=(t=XB(),J2e.get(t));var t;return!i&&e?yte(e):Z2e(i||"SAP-icons")},eBe=typeof document>"u",tBe=new Dp,Gte=i=>{tBe.attachEvent("languageChange",i)};let pM,fM;Ew(()=>{pM=void 0,fM=void 0});const iBe=/^((?:[A-Z]{2,3}(?:-[A-Z]{3}){0,3})|[A-Z]{4}|[A-Z]{5,8})(?:-([A-Z]{4}))?(?:-([A-Z]{2}|[0-9]{3}))?((?:-[0-9A-Z]{5,8}|-[0-9][0-9A-Z]{3})*)((?:-[0-9A-WYZ](?:-[0-9A-Z]{2,8})+)*)(?:-(X(?:-[0-9A-Z]{1,8})+))?$/i;let Vte=class{constructor(i){const e=iBe.exec(i.replace(/_/g,"-"));if(e===null)throw new Error(`The given language ${i} does not adhere to BCP-47.`);this.sLocaleId=i,this.sLanguage=e[1]||qB,this.sScript=e[2]||"",this.sRegion=e[3]||"",this.sVariant=e[4]&&e[4].slice(1)||null,this.sExtension=e[5]&&e[5].slice(1)||null,this.sPrivateUse=e[6]||null,this.sLanguage&&(this.sLanguage=this.sLanguage.toLowerCase()),this.sScript&&(this.sScript=this.sScript.toLowerCase().replace(/^[a-z]/,t=>t.toUpperCase())),this.sRegion&&(this.sRegion=this.sRegion.toUpperCase())}getLanguage(){return this.sLanguage}getScript(){return this.sScript}getRegion(){return this.sRegion}getVariant(){return this.sVariant}getVariantSubtags(){return this.sVariant?this.sVariant.split("-"):[]}getExtension(){return this.sExtension}getExtensionSubtags(){return this.sExtension?this.sExtension.slice(2).split("-"):[]}getPrivateUse(){return this.sPrivateUse}getPrivateUseSubtags(){return this.sPrivateUse?this.sPrivateUse.slice(2).split("-"):[]}hasPrivateUseSubtag(i){return this.getPrivateUseSubtags().indexOf(i)>=0}toString(){const i=[this.sLanguage];return this.sScript&&i.push(this.sScript),this.sRegion&&i.push(this.sRegion),this.sVariant&&i.push(this.sVariant),this.sExtension&&i.push(this.sExtension),this.sPrivateUse&&i.push(this.sPrivateUse),i.join("-")}};const sP=new Map,CW=i=>(sP.has(i)||sP.set(i,new Vte(i)),sP.get(i)),rv=i=>{const e=(pM===void 0&&(Ng(),pM=El.language),pM);return e?CW(e):(t=>{try{if(t&&typeof t=="string")return CW(t)}catch{}return new Vte(Ep)})((()=>{if(eBe)return qB;const t=navigator.languages;return t&&t[0]||navigator.language||qB})())},nBe=/^((?:[A-Z]{2,3}(?:-[A-Z]{3}){0,3})|[A-Z]{4}|[A-Z]{5,8})(?:-([A-Z]{4}))?(?:-([A-Z]{2}|[0-9]{3}))?((?:-[0-9A-Z]{5,8}|-[0-9][0-9A-Z]{3})*)((?:-[0-9A-WYZ](?:-[0-9A-Z]{2,8})+)*)(?:-(X(?:-[0-9A-Z]{1,8})+))?$/i,BW=/(?:^|-)(saptrc|sappsd)(?:-|$)/i,rBe={he:"iw",yi:"ji",nb:"no",sr:"sh"},SW={zh_HK:"zh_TW",in:"id"},oBe=i=>{if(!i)return Ep;if(SW[i])return SW[i];const e=i.lastIndexOf("_");return e>=0?i.slice(0,e):i!==Ep?Ep:""},EW=new Set,TW=new Set,ZN=new Map,aP=new Map,qte=new Map,IW=(i,e)=>{ZN.set(i,e)},Wte=(i,e)=>{const t=`${i}/${e}`;return qte.has(t)},MW=(i,e)=>e!==qB&&!Wte(i,e),jte=async i=>{const e=rv().getLanguage(),t=rv().getRegion(),n=rv().getVariant();let r=e+(t?`-${t}`:"")+(n?`-${n}`:"");if(MW(i,r))for(r=(a=>{let l;if(!a)return Ep;if(typeof a=="string"&&(l=nBe.exec(a.replace(/_/g,"-")))){let c=l[1].toLowerCase(),u=l[3]?l[3].toUpperCase():void 0;const h=l[2]?l[2].toLowerCase():void 0,d=l[4]?l[4].slice(1):void 0,p=l[6];return c=rBe[c]||c,p&&(l=BW.exec(p))||d&&(l=BW.exec(d))?`en_US_${l[1].toLowerCase()}`:(c==="zh"&&!u&&(h==="hans"?u="CN":h==="hant"&&(u="TW")),c+(u?"_"+u+(d?"_"+d.replace("-","_"):""):""))}return Ep})(r);MW(i,r);)r=oBe(r);const o=(fM===void 0&&(Ng(),fM=El.fetchDefaultLanguage),fM);if(r!==qB||o)if(Wte(i,r))try{const a=await((l,c)=>{const u=`${l}/${c}`,h=qte.get(u);return h&&!aP.get(u)&&aP.set(u,h(c)),aP.get(u)})(i,r);IW(i,a)}catch(a){const l=a;TW.has(l.message)||(TW.add(l.message),console.error(l.message))}else s=i,EW.has(s)||(console.warn(`[${s}]: Message bundle assets are not configured. Falling back to English texts.`,` Add \`import "${s}/dist/Assets.js"\` in your bundle and make sure your build tool supports dynamic imports and JSON imports. See section "Assets" in the documentation for more information.`),EW.add(s));else IW(i,null);var s};Gte(i=>{const e=[...ZN.keys()];return Promise.all(e.map(jte))});const sBe=/('')|'([^']+(?:''[^']*)*)(?:'|$)|\{([0-9]+(?:\s*,[^{}]*)?)\}|[{}]/g,lP=new Map;let aBe=class{constructor(i){this.packageName=i}getText(i,...e){if(typeof i=="string"&&(i={key:i,defaultText:i}),!i||!i.key)return"";const t=(n=this.packageName,ZN.get(n));var n;return t&&!t[i.key]&&console.warn(`Key ${i.key} not found in the i18n bundle, the default text will be used`),((r,o)=>(o=o||[],r.replace(sBe,(s,a,l,c,u)=>{if(a)return"'";if(l)return l.replace(/''/g,"'");if(c){const h=typeof c=="string"?parseInt(c):c;return String(o[h])}throw new Error(`[i18n]: pattern syntax error at pos ${u}`)})))(t&&t[i.key]?t[i.key]:i.defaultText||i.key,e)}};const JN=async i=>(await jte(i),(e=>{if(lP.has(e))return lP.get(e);const t=new aBe(e);return lP.set(e,t),t})(i)),RW=new Map,Kte=Mv("SVGIcons.registry",new Map),cP=Mv("SVGIcons.promises",new Map),WO="ICON_NOT_FOUND",kW=i=>{Object.keys(i.data).forEach(e=>{const t=i.data[e];vi(e,{pathData:t.path||t.paths,ltr:t.ltr,accData:t.acc,collection:i.collection,packageName:i.packageName})})},vi=(i,e)=>{const t=`${e.collection}/${i}`;Kte.set(t,{pathData:e.pathData,ltr:e.ltr,accData:e.accData,packageName:e.packageName,customTemplate:e.customTemplate,viewBox:e.viewBox,collection:e.collection})},$te=i=>{let e;return i.startsWith("sap-icon://")&&(i=i.replace("sap-icon://","")),[i,e]=i.split("/").reverse(),i=i.replace("icon-",""),e&&(e=yte(e)),{name:i,collection:e}},Xte=i=>{const{name:e,collection:t}=$te(i);return jO(t,e)},Yte=async i=>{const{name:e,collection:t}=$te(i);let n=WO;try{n=await(async r=>{if(!cP.has(r)){if(!RW.has(r))throw new Error(`No loader registered for the ${r} icons collection. Probably you forgot to import the "AllIcons.js" module for the respective package.`);const o=RW.get(r);cP.set(r,o(r))}return cP.get(r)})(zte(t))}catch(r){console.error(r.message)}return n===WO?n:jO(t,e)||(Array.isArray(n)?n.forEach(r=>{var o,s;kW(r),o=t,s={[r.themeFamily||"legacy"]:r.collection},_p.has(o)?_p.set(o,{...s,..._p.get(o)}):_p.set(o,s)}):kW(n),jO(t,e))},jO=(i,e)=>{const t=`${zte(i)}/${e}`;return Kte.get(t)},uP=new Map,hP=new Map,FW=new Map,M_=i=>{if(!uP.has(i)){const e=lBe(i.split("-"));uP.set(i,e)}return uP.get(i)},Zte=i=>{if(!hP.has(i)){const e=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();hP.set(i,e)}return hP.get(i)},lBe=i=>i.map((e,t)=>t===0?e.toLowerCase():e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(""),DW=i=>{const e=FW.get(i);if(e)return e;const t=M_(i),n=t.charAt(0).toUpperCase()+t.slice(1);return FW.set(i,n),n},Jte=i=>i instanceof HTMLSlotElement?i.assignedNodes({flatten:!0}).filter(e=>e instanceof HTMLElement):[i],UW=i=>i.reduce((e,t)=>e.concat(Jte(t)),[]);let cBe=class{constructor(i){this.metadata=i}getInitialState(){if(Object.prototype.hasOwnProperty.call(this,"_initialState"))return this._initialState;const i={};if(this.slotsAreManaged()){const e=this.getSlots();for(const[t,n]of Object.entries(e)){const r=n.propertyName||t;i[r]=[],i[M_(r)]=i[r]}}return this._initialState=i,i}static validateSlotValue(i,e){return uBe(i,e)}getPureTag(){return this.metadata.tag||""}getTag(){const i=this.metadata.tag;if(!i)return"";const e=void zO(i);return e?`${i}-${e}`:i}hasAttribute(i){const e=this.getProperties()[i];return e.type!==Object&&e.type!==Array&&!e.noAttribute}getPropertiesList(){return Object.keys(this.getProperties())}getAttributesList(){return this.getPropertiesList().filter(this.hasAttribute.bind(this)).map(Zte)}canSlotText(){var i;return((i=this.getSlots().default)==null?void 0:i.type)===Node}hasSlots(){return!!Object.entries(this.getSlots()).length}hasIndividualSlots(){return this.slotsAreManaged()&&Object.values(this.getSlots()).some(i=>i.individualSlots)}slotsAreManaged(){return!!this.metadata.managedSlots}supportsF6FastNavigation(){return!!this.metadata.fastNavigation}getProperties(){return this.metadata.properties||(this.metadata.properties={}),this.metadata.properties}getEvents(){return this.metadata.events||(this.metadata.events={}),this.metadata.events}getSlots(){return this.metadata.slots||(this.metadata.slots={}),this.metadata.slots}isLanguageAware(){return!!this.metadata.languageAware}isThemeAware(){return!!this.metadata.themeAware}needsCLDR(){return!!this.metadata.cldr}getShadowRootOptions(){return this.metadata.shadowRootOptions||{}}isFormAssociated(){return!!this.metadata.formAssociated}shouldInvalidateOnChildChange(i,e,t){const n=this.getSlots()[i].invalidateOnChildChange;if(n===void 0)return!1;if(typeof n=="boolean")return n;if(typeof n=="object"){if(e==="property"){if(n.properties===void 0)return!1;if(typeof n.properties=="boolean")return n.properties;if(Array.isArray(n.properties))return n.properties.includes(t);throw new Error("Wrong format for invalidateOnChildChange.properties: boolean or array is expected")}if(e==="slot"){if(n.slots===void 0)return!1;if(typeof n.slots=="boolean")return n.slots;if(Array.isArray(n.slots))return n.slots.includes(t);throw new Error("Wrong format for invalidateOnChildChange.slots: boolean or array is expected")}}throw new Error("Wrong format for invalidateOnChildChange: boolean or object is expected")}getI18n(){return this.metadata.i18n||(this.metadata.i18n={}),this.metadata.i18n}};const uBe=(i,e)=>(i&&Jte(i).forEach(t=>{if(!(t instanceof e.type))throw new Error(`The element is not of type ${e.type.toString()}`)}),i),eH=i=>{Mv("CustomStyle.eventProvider",new Dp).attachEvent("CustomCSSChange",i)};eH(i=>{(async e=>{XN.forEach(t=>{const n=t.constructor,r=n.getMetadata().getTag(),o=(l=n,Rte.has(l)),s=n.getMetadata().isLanguageAware(),a=n.getMetadata().isThemeAware();var l;(!e||e.tag===r||e.rtlAware&&o||e.languageAware&&s||e.themeAware&&a)&&kte(t)}),await jB()})({tag:i})});const PW=i=>Array.isArray(i)?i.filter(e=>!!e).flat(10).join(" "):i,gM=new Map;eH(i=>{gM.delete(`${i}_normal`)});const mM=new Map;eH(i=>{mM.delete(`${i}_normal`)});const hBe=i=>{const e=`${i.getMetadata().getTag()}_normal`;if(!mM.has(e)){const t=(r=>{const o=r.getMetadata().getTag(),s=`${o}_normal`,a=nv("OpenUI5Enablement");if(!gM.has(s)){let l="";a&&(l=PW(a.getBusyIndicatorStyles()));const c=(h=>{const d=Mv("CustomStyle.customCSSFor",{});return d[h]?d[h].join(""):""})(o)||"",u=`${PW(r.styles)} ${c} ${l}`;gM.set(s,u)}return gM.get(s)})(i),n=new CSSStyleSheet;n.replaceSync(t),mM.set(e,[n])}return mM.get(e)},ABe=[],AP=new WeakMap,dBe=["value-changed","click"];let _M;Ew(()=>{_M=void 0});const LW=()=>(_M===void 0&&(Ng(),_M=El.noConflict),_M),pBe=["disabled","title","hidden","role","draggable"],OW=i=>!(!pBe.includes(i)&&!i.startsWith("aria")&&[HTMLElement,Element,Node].some(e=>e.prototype.hasOwnProperty(i))),fBe=(i,e)=>{if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0},eie=(i,e)=>i.call(e),dP=i=>{var e,t;if((e=i._internals)!=null&&e.form){if(gBe(i),!i.name)return void((t=i._internals)==null||t.setFormValue(null));i._internals.setFormValue(i.formFormattedValue)}},gBe=async i=>{var e,t;if((e=i._internals)!=null&&e.form)if(i.formValidity&&Object.keys(i.formValidity).some(n=>n)){const n=await((t=i.formElementAnchor)==null?void 0:t.call(i));i._internals.setValidity(i.formValidity,i.formValidityMessage,n)}else i._internals.setValidity({})},KO=i=>{var e,t;(t=(e=i._internals)==null?void 0:e.form)==null||t.requestSubmit()},mBe=new Map,vM=new Map,pP=new Map,QW=new Set;let NW=!1;const _Be={iw:"he",ji:"yi",in:"id"},HW=i=>{NW||(console.warn(`[LocaleData] Supported locale "${i}" not configured, import the "Assets.js" module from the webcomponents package you are using.`),NW=!0)},zW=(i,e)=>{mBe.set(i,e)},tie=async(i,e,t)=>{const n=((o,s,a)=>{(o=o&&_Be[o]||o)==="no"&&(o="nb"),o==="zh"&&!s&&(a==="Hans"?s="CN":a==="Hant"&&(s="TW")),(o==="sh"||o==="sr"&&a==="Latn")&&(o="sr",s="Latn");let l=`${o}_${s}`;return AW.includes(l)?vM.has(l)?l:(HW(l),Ep):(l=o,AW.includes(l)?vM.has(l)?l:(HW(l),Ep):Ep)})(i,e,t),r=nv("OpenUI5Support");if(r){const o=r.getLocaleDataObject();if(o)return void zW(n,o)}try{const o=await(s=>{if(!pP.get(s)){const a=vM.get(s);if(!a)throw new Error(`CLDR data for locale ${s} is not loaded!`);pP.set(s,a(s))}return pP.get(s)})(n);zW(n,o)}catch(o){const s=o;QW.has(s.message)||(QW.add(s.message),console.error(s.message))}};vM.set("en",async()=>(await fetch("https://sdk.openui5.org/1.120.17/resources/sap/ui/core/cldr/en.json")).json()),Gte(()=>{const i=rv();return tie(i.getLanguage(),i.getRegion(),i.getScript())});let vBe=0;const GW=new Map,fP=new Map,VW={fromAttribute:(i,e)=>e===Boolean?i!==null:e===Number?i===null?void 0:parseFloat(i):i,toAttribute:(i,e)=>e===Boolean?i?"":null:e===Object||e===Array||i==null?null:String(i)};function WC(i){this._suppressInvalidation||(this.onInvalidation(i),this._changedState.push(i),kte(this),this._invalidationEventProvider.fireEvent("invalidate",{...i,target:this}))}function bBe(i,e){do{const t=Object.getOwnPropertyDescriptor(i,e);if(t)return t;i=Object.getPrototypeOf(i)}while(i&&i!==HTMLElement.prototype)}let Xr=(hb=class extends HTMLElement{constructor(){super(),this._rendered=!1;const i=this.constructor;let e;this._changedState=[],this._suppressInvalidation=!0,this._inDOM=!1,this._fullyConnected=!1,this._childChangeListeners=new Map,this._slotChangeListeners=new Map,this._invalidationEventProvider=new Dp,this._componentStateFinalizedEventProvider=new Dp,this._domRefReadyPromise=new Promise(t=>{e=t}),this._domRefReadyPromise._deferredResolve=e,this._doNotSyncAttributes=new Set,this._slotsAssignedNodes=new WeakMap,this._state={...i.getMetadata().getInitialState()},this.initializedProperties=new Map,this.constructor.getMetadata().getPropertiesList().forEach(t=>{if(this.hasOwnProperty(t)){const n=this[t];this.initializedProperties.set(t,n)}}),this._internals=this.attachInternals(),this._initShadowRoot()}_initShadowRoot(){const i=this.constructor;if(i._needsShadowDOM()){const e={mode:"open"};this.attachShadow({...e,...i.getMetadata().getShadowRootOptions()}),i.getMetadata().slotsAreManaged()&&this.shadowRoot.addEventListener("slotchange",this._onShadowRootSlotChange.bind(this))}}_onShadowRootSlotChange(i){var e;((e=i.target)==null?void 0:e.getRootNode())===this.shadowRoot&&this._processChildren()}get _id(){return this.__id||(this.__id="ui5wc_"+ ++vBe),this.__id}render(){const i=this.constructor.template;return eie(i,this)}async connectedCallback(){const i=this.constructor;this.setAttribute(i.getMetadata().getPureTag(),""),i.getMetadata().supportsF6FastNavigation()&&this.setAttribute("data-sap-ui-fastnavgroup","true");const e=i.getMetadata().slotsAreManaged();this._inDOM=!0,e&&(this._startObservingDOMChildren(),await this._processChildren()),this._inDOM&&(i.asyncFinished||await i.definePromise,Fte(this),this._domRefReadyPromise._deferredResolve(),this._fullyConnected=!0,this.onEnterDOM())}disconnectedCallback(){const i=this.constructor.getMetadata().slotsAreManaged();var e;this._inDOM=!1,i&&this._stopObservingDOMChildren(),this._fullyConnected&&(this.onExitDOM(),this._fullyConnected=!1),this._domRefReadyPromise._deferredResolve(),e=this,tw.remove(e),XN.delete(e)}onBeforeRendering(){}onAfterRendering(){}onEnterDOM(){}onExitDOM(){}_startObservingDOMChildren(){const i=this.constructor.getMetadata();if(!i.hasSlots())return;const e=i.canSlotText(),t={childList:!0,subtree:e,characterData:e};((n,r,o)=>{const s=new MutationObserver(r);AP.set(n,s),s.observe(n,o)})(this,this._processChildren.bind(this),t)}_stopObservingDOMChildren(){(i=>{const e=AP.get(i);e&&(e.disconnect(),AP.delete(i))})(this)}async _processChildren(){this.constructor.getMetadata().hasSlots()&&await this._updateSlots()}async _updateSlots(){const i=this.constructor,e=i.getMetadata().getSlots(),t=i.getMetadata().canSlotText(),n=Array.from(t?this.childNodes:this.children),r=new Map,o=new Map;for(const[u,h]of Object.entries(e)){const d=h.propertyName||u;o.set(d,u),r.set(d,[...this._state[d]]),this._clearSlot(u,h)}const s=new Map,a=new Map,l=n.map(async(u,h)=>{const d=(_=>{if(!(_ instanceof HTMLElement))return"default";const b=_.getAttribute("slot");if(b){const x=b.match(/^(.+?)-\d+$/);return x?x[1]:b}return"default"})(u),p=e[d];if(p===void 0){if(d!=="default"){const _=Object.keys(e).join(", ");console.warn(`Unknown slotName: ${d}, ignoring`,u,`Valid values are: ${_}`)}return}if(p.individualSlots){const _=(s.get(d)||0)+1;s.set(d,_),u._individualSlot=`${d}-${_}`}if(u instanceof HTMLElement){const _=u.localName;if(_.includes("-")&&(g=_,!ABe.some(b=>g.startsWith(b)))){if(!customElements.get(_)){const b=customElements.whenDefined(_);let x=GW.get(_);x||(x=new Promise(C=>setTimeout(C,1e3)),GW.set(_,x)),await Promise.race([b,x])}customElements.upgrade(u)}}var g;if(u=i.getMetadata().constructor.validateSlotValue(u,p),Uh(u)&&p.invalidateOnChildChange){const _=this._getChildChangeListener(d);u.attachInvalidate.call(u,_)}u instanceof HTMLSlotElement&&this._attachSlotChange(u,d,!!p.invalidateOnChildChange);const v=p.propertyName||d;a.has(v)?a.get(v).push({child:u,idx:h}):a.set(v,[{child:u,idx:h}])});await Promise.all(l),a.forEach((u,h)=>{this._state[h]=u.sort((d,p)=>d.idx-p.idx).map(d=>d.child),this._state[M_(h)]=this._state[h]});let c=!1;for(const[u,h]of Object.entries(e)){const d=h.propertyName||u;fBe(r.get(d),this._state[d])||(WC.call(this,{type:"slot",name:o.get(d),reason:"children"}),c=!0,i.getMetadata().isFormAssociated()&&dP(this))}c||WC.call(this,{type:"slot",name:"default",reason:"textcontent"})}_clearSlot(i,e){const t=e.propertyName||i;this._state[t].forEach(n=>{if(Uh(n)){const r=this._getChildChangeListener(i);n.detachInvalidate.call(n,r)}n instanceof HTMLSlotElement&&this._detachSlotChange(n,i)}),this._state[t]=[],this._state[M_(t)]=this._state[t]}attachInvalidate(i){this._invalidationEventProvider.attachEvent("invalidate",i)}detachInvalidate(i){this._invalidationEventProvider.detachEvent("invalidate",i)}_onChildChange(i,e){this.constructor.getMetadata().shouldInvalidateOnChildChange(i,e.type,e.name)&&WC.call(this,{type:"slot",name:i,reason:"childchange",child:e.target})}attributeChangedCallback(i,e,t){let n;if(this._doNotSyncAttributes.has(i))return;const r=this.constructor.getMetadata().getProperties(),o=i.replace(/^ui5-/,""),s=M_(o);if(r.hasOwnProperty(s)){const a=r[s];n=(a.converter??VW).fromAttribute(t,a.type),this[s]=n}}formAssociatedCallback(){this.constructor.getMetadata().isFormAssociated()&&(i=>{(e=>"formFormattedValue"in e&&"name"in e)(i)&&dP(i)})(this)}static get formAssociated(){return this.getMetadata().isFormAssociated()}_updateAttribute(i,e){const t=this.constructor;if(!t.getMetadata().hasAttribute(i))return;const n=t.getMetadata().getProperties()[i],r=Zte(i),o=(n.converter||VW).toAttribute(e,n.type);this._doNotSyncAttributes.add(r),o==null?this.removeAttribute(r):this.setAttribute(r,o),this._doNotSyncAttributes.delete(r)}_getChildChangeListener(i){return this._childChangeListeners.has(i)||this._childChangeListeners.set(i,this._onChildChange.bind(this,i)),this._childChangeListeners.get(i)}_getSlotChangeListener(i){return this._slotChangeListeners.has(i)||this._slotChangeListeners.set(i,this._onSlotChange.bind(this,i)),this._slotChangeListeners.get(i)}_attachSlotChange(i,e,t){const n=this._getSlotChangeListener(e);i.addEventListener("slotchange",r=>{if(n.call(i,r),t){const o=this._slotsAssignedNodes.get(i);o&&o.forEach(a=>{if(Uh(a)){const l=this._getChildChangeListener(e);a.detachInvalidate.call(a,l)}});const s=UW([i]);this._slotsAssignedNodes.set(i,s),s.forEach(a=>{if(Uh(a)){const l=this._getChildChangeListener(e);a.attachInvalidate.call(a,l)}})}})}_detachSlotChange(i,e){i.removeEventListener("slotchange",this._getSlotChangeListener(e))}_onSlotChange(i){WC.call(this,{type:"slot",name:i,reason:"slotchange"})}onInvalidation(i){}updateAttributes(){const i=this.constructor.getMetadata().getProperties();for(const[e,t]of Object.entries(i))this._updateAttribute(e,this[e])}_render(){const i=this.constructor,e=i.getMetadata().hasIndividualSlots();this.initializedProperties.size>0&&(Array.from(this.initializedProperties.entries()).forEach(([t,n])=>{delete this[t],this[t]=n}),this.initializedProperties.clear()),this._suppressInvalidation=!0;try{this.onBeforeRendering(),this._rendered||this.updateAttributes(),this._componentStateFinalizedEventProvider.fireEvent("componentStateFinalized")}finally{this._suppressInvalidation=!1}this._changedState=[],i._needsShadowDOM()&&(t=>{const n=t.constructor,r=t.shadowRoot;r?(r.adoptedStyleSheets=hBe(n),n.renderer(t,r)):console.warn("There is no shadow root to update")})(this),this._rendered=!0,e&&this._assignIndividualSlotsToChildren(),this.onAfterRendering()}_assignIndividualSlotsToChildren(){Array.from(this.children).forEach(i=>{i._individualSlot&&i.setAttribute("slot",i._individualSlot)})}_waitForDomRef(){return this._domRefReadyPromise}getDomRef(){return typeof this._getRealDomRef=="function"?this._getRealDomRef():this.shadowRoot&&this.shadowRoot.children.length!==0?this.shadowRoot.children[0]:void 0}getFocusDomRef(){const i=this.getDomRef();if(i)return i.querySelector("[data-sap-focus-ref]")||i}async getFocusDomRefAsync(){return await this._waitForDomRef(),this.getFocusDomRef()}async focus(i){await this._waitForDomRef();const e=this.getFocusDomRef();e===this?HTMLElement.prototype.focus.call(this,i):e&&typeof e.focus=="function"&&e.focus(i)}fireEvent(i,e,t=!1,n=!0){const r=this._fireEvent(i,e,t,n),o=DW(i);return o!==i?r&&this._fireEvent(o,e,t,n):r}fireDecoratorEvent(i,e){const t=this.getEventData(i),n=!!t&&t.cancelable,r=!!t&&t.bubbles,o=this._fireEvent(i,e,n,r),s=DW(i);return s!==i?o&&this._fireEvent(s,e,n,r):o}_fireEvent(i,e,t=!1,n=!0){const r=new CustomEvent(`ui5-${i}`,{detail:e,composed:!1,bubbles:n,cancelable:t}),o=this.dispatchEvent(r);if((a=>{const l=LW();return c=a,!(dBe.includes(c)||l!==!0&&(u=>{const h=LW();return!(typeof h!="boolean"&&h.events&&h.events.includes&&h.events.includes(u))})(a));var c})(i))return o;const s=new CustomEvent(i,{detail:e,composed:!1,bubbles:n,cancelable:t});return this.dispatchEvent(s)&&o}getEventData(i){return this.constructor.getMetadata().getEvents()[i]}getSlottedNodes(i){return UW(this[i])}attachComponentStateFinalized(i){this._componentStateFinalizedEventProvider.attachEvent("componentStateFinalized",i)}detachComponentStateFinalized(i){this._componentStateFinalizedEventProvider.detachEvent("componentStateFinalized",i)}get effectiveDir(){return(i=>{Rte.add(i)})(this.constructor),this.matches(":dir(rtl)")?"rtl":"ltr"}get isUI5Element(){return!0}get isUI5AbstractElement(){return!this.constructor._needsShadowDOM()}get classes(){return{}}get accessibilityInfo(){return{}}static get observedAttributes(){return this.getMetadata().getAttributesList()}static get tagsToScope(){const i=this.getMetadata().getPureTag(),e=this.getUniqueDependencies().map(t=>t.getMetadata().getPureTag()).filter(zO);return zO(i)&&e.push(i),e}static _needsShadowDOM(){return!!this.template||Object.prototype.hasOwnProperty.call(this.prototype,"render")}static _generateAccessors(){const i=this.prototype,e=this.getMetadata().slotsAreManaged(),t=this.getMetadata().getProperties();for(const[n,r]of Object.entries(t)){OW(n)||console.warn(`"${n}" is not a valid property name. Use a name that does not collide with DOM APIs`);const o=bBe(i,n);let s,a;o!=null&&o.set&&(s=o.set),o!=null&&o.get&&(a=o.get),Object.defineProperty(i,n,{get(){return a?a.call(this):this._state[n]},set(l){const c=this.constructor,u=a?a.call(this):this._state[n];if(u!==l){if(s?s.call(this,l):this._state[n]=l,WC.call(this,{type:"property",name:n,newValue:l,oldValue:u}),this._rendered){const h=a?a.call(this):this._state[n];this._updateAttribute(n,h)}c.getMetadata().isFormAssociated()&&dP(this)}}})}if(e){const n=this.getMetadata().getSlots();for(const[r,o]of Object.entries(n)){OW(r)||console.warn(`"${r}" is not a valid property name. Use a name that does not collide with DOM APIs`);const s=o.propertyName||r,a={get(){return this._state[s]!==void 0?this._state[s]:[]},set(){throw new Error("Cannot set slot content directly, use the DOM APIs (appendChild, removeChild, etc...)")}};Object.defineProperty(i,s,a),s!==M_(s)&&Object.defineProperty(i,M_(s),a)}}}static get dependencies(){return[]}static cacheUniqueDependencies(){const i=this.dependencies.filter((e,t,n)=>n.indexOf(e)===t);fP.set(this,i)}static getUniqueDependencies(){return fP.has(this)||this.cacheUniqueDependencies(),fP.get(this)||[]}static async onDefine(){return Promise.resolve()}static fetchI18nBundles(){return Promise.all(Object.entries(this.getMetadata().getI18n()).map(i=>{const{bundleName:e}=i[1];return JN(e)}))}static fetchCLDR(){return this.getMetadata().needsCLDR()?tie(rv().getLanguage(),rv().getRegion(),rv().getScript()):Promise.resolve()}static get i18nBundles(){return this.i18nBundleStorage}static define(){this.definePromise=(async()=>{await $2e();const r=await Promise.all([this.fetchI18nBundles(),this.fetchCLDR(),this.onDefine()]),[o]=r;Object.entries(this.getMetadata().getI18n()).forEach((s,a)=>{const l=s[1].bundleName;this.i18nBundleStorage[l]=o[a]}),this.asyncFinished=!0})();const i=this.getMetadata().getTag(),e=(n=i,GO.has(n)),t=customElements.get(i);var n;return t&&!e?(r=>{let o=gW.get(r);o===void 0&&(o=-1),s_.has(o)||s_.set(o,new Set),s_.get(o).add(r),eP||(eP=setTimeout(()=>{(()=>{const s=WB,a=ew(),l=s[a];let c="Multiple UI5 Web Components instances detected.";s.length>1&&(c=`${c}
Loading order (versions before 1.1.0 not listed): ${s.map(u=>`
${u.description}`).join("")}`),[...s_.keys()].forEach(u=>{let h,d,p;u===-1?(h=1,d={description:"Older unknown runtime"}):(h=Ite(a,u),d=s[u]),p=h>0?"an older":h<0?"a newer":"the same",c=`${c}

"${l.description}" failed to define ${s_.get(u).size} tag(s) as they were defined by a runtime of ${p} version "${d.description}": ${[...s_.get(u)].sort().join(", ")}.`,c=h>0?`${c}
WARNING! If your code uses features of the above web components, unavailable in ${d.description}, it might not work as expected!`:`${c}
Since the above web components were defined by the same or newer version runtime, they should be compatible with your code.`}),c=`${c}

To prevent other runtimes from defining tags that you use, consider using scoping or have third-party libraries use scoping: https://github.com/SAP/ui5-webcomponents/blob/main/docs/2-advanced/06-scoping.md.`,console.warn(c)})(),s_=new Map,eP=void 0},1e3))})(i):t||(this._generateAccessors(),(r=>{GO.add(r),gW.set(r,ew())})(i),customElements.define(i,this)),this}static getMetadata(){if(this.hasOwnProperty("_metadata"))return this._metadata;const i=[this.metadata];let e=this;for(;e!==hb;)e=Object.getPrototypeOf(e),i.unshift(e.metadata);const t=NO({},...i);return this._metadata=new cBe(t),this._metadata}get validity(){return this._internals.validity}get validationMessage(){return this._internals.validationMessage}checkValidity(){return this._internals.checkValidity()}reportValidity(){return this._internals.reportValidity()}},hb.metadata={},hb.styles="",hb.i18nBundleStorage={},hb);const Uh=i=>"isUI5Element"in i,wn=(i={})=>e=>{if(Object.prototype.hasOwnProperty.call(e,"metadata")||(e.metadata={}),typeof i=="string")return void(e.metadata.tag=i);const{tag:t,languageAware:n,themeAware:r,cldr:o,fastNavigation:s,formAssociated:a,shadowRootOptions:l}=i;e.metadata.tag=t,n&&(e.metadata.languageAware=n),o&&(e.metadata.cldr=o),r&&(e.metadata.themeAware=r),s&&(e.metadata.fastNavigation=s),a&&(e.metadata.formAssociated=a),l&&(e.metadata.shadowRootOptions=l),["renderer","template","styles","dependencies"].forEach(c=>{i[c]&&Object.defineProperty(e,c,{get:()=>i[c]})})},me=i=>(e,t)=>{const n=e.constructor;Object.prototype.hasOwnProperty.call(n,"metadata")||(n.metadata={});const r=n.metadata;r.properties||(r.properties={});const o=r.properties;o[t]||(o[t]=i??{})},Xt=(i,e={})=>t=>{Object.prototype.hasOwnProperty.call(t,"metadata")||(t.metadata={});const n=t.metadata;n.events||(n.events={});const r=n.events;r[i]||(e.bubbles=!!e.bubbles,e.cancelable=!!e.cancelable,r[i]=e)},Jn=i=>(e,t)=>{const n=e.constructor;Object.prototype.hasOwnProperty.call(n,"metadata")||(n.metadata={});const r=n.metadata;r.slots||(r.slots={});const o=r.slots;if(i&&i.default&&o.default)throw new Error("Only one slot can be the default slot.");const s=i&&i.default?"default":t;(i=i||{type:HTMLElement}).type||(i.type=HTMLElement),o[s]||(o[s]=i),i.default&&(delete o.default.default,o.default.propertyName=t),n.metadata.managedSlots=!0};var eR,Ar,iie,R_,qW,nie,$O,rie,tH,XO,YO,oie,YB={},sie=[],yBe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ZO=Array.isArray;function ag(i,e){for(var t in e)i[t]=e[t];return i}function JO(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function bM(i,e,t,n,r){var o={type:i,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++iie,__i:-1,__u:0};return r==null&&Ar.vnode!=null&&Ar.vnode(o),o}function kS(i){return i.children}function yM(i,e){this.props=i,this.context=e}function iw(i,e){if(e==null)return i.__?iw(i.__,i.__i+1):null;for(var t;e<i.__k.length;e++)if((t=i.__k[e])!=null&&t.__e!=null)return t.__e;return typeof i.type=="function"?iw(i):null}function aie(i){var e,t;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,e=0;e<i.__k.length;e++)if((t=i.__k[e])!=null&&t.__e!=null){i.__e=i.__c.base=t.__e;break}return aie(i)}}function e8(i){(!i.__d&&(i.__d=!0)&&R_.push(i)&&!tR.__r++||qW!==Ar.debounceRendering)&&((qW=Ar.debounceRendering)||nie)(tR)}function tR(){var i,e,t,n,r,o,s,a;for(R_.sort($O);i=R_.shift();)i.__d&&(e=R_.length,n=void 0,o=(r=(t=i).__v).__e,s=[],a=[],t.__P&&((n=ag({},r)).__v=r.__v+1,Ar.vnode&&Ar.vnode(n),iH(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,s,o??iw(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,cie(s,n,a),n.__e!=o&&aie(n)),R_.length>e&&R_.sort($O));tR.__r=0}function WW(i,e,t,n,r,o,s,a,l,c,u){var h,d,p,g,v,_,b=n&&n.__k||sie,x=e.length;for(l=function(C,S,E,I){var M,k,F,P,Q,N=S.length,W=E.length,q=W,J=0;for(C.__k=[],M=0;M<N;M++)(k=S[M])!=null&&typeof k!="boolean"&&typeof k!="function"?(P=M+J,(k=C.__k[M]=typeof k=="string"||typeof k=="number"||typeof k=="bigint"||k.constructor==String?bM(null,k,null,null,null):ZO(k)?bM(kS,{children:k},null,null,null):k.constructor===void 0&&k.__b>0?bM(k.type,k.props,k.key,k.ref?k.ref:null,k.__v):k).__=C,k.__b=C.__b+1,F=null,(Q=k.__i=wBe(k,E,P,q))!==-1&&(q--,(F=E[Q])&&(F.__u|=2)),F==null||F.__v===null?(Q==-1&&J--,typeof k.type!="function"&&(k.__u|=4)):Q!==P&&(Q==P-1?J--:Q==P+1?J++:(Q>P?J--:J++,k.__u|=4))):k=C.__k[M]=null;if(q)for(M=0;M<W;M++)(F=E[M])!=null&&!(2&F.__u)&&(F.__e==I&&(I=iw(F)),uie(F,F));return I}(t,e,b,l),h=0;h<x;h++)(p=t.__k[h])!=null&&(d=p.__i===-1?YB:b[p.__i]||YB,p.__i=h,_=iH(i,p,d,r,o,s,a,l,c,u),g=p.__e,p.ref&&d.ref!=p.ref&&(d.ref&&nH(d.ref,null,p),u.push(p.ref,p.__c||g,p)),v==null&&g!=null&&(v=g),4&p.__u||d.__k===p.__k?l=lie(p,l,i):typeof p.type=="function"&&_!==void 0?l=_:g&&(l=g.nextSibling),p.__u&=-7);return t.__e=v,l}function lie(i,e,t){var n,r;if(typeof i.type=="function"){for(n=i.__k,r=0;n&&r<n.length;r++)n[r]&&(n[r].__=i,e=lie(n[r],e,t));return e}i.__e!=e&&(e&&i.type&&!t.contains(e)&&(e=iw(i)),t.insertBefore(i.__e,e||null),e=i.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function wBe(i,e,t,n){var r=i.key,o=i.type,s=t-1,a=t+1,l=e[t];if(l===null||l&&r==l.key&&o===l.type&&!(2&l.__u))return t;if((typeof o!="function"||o===kS||r)&&n>(l==null||2&l.__u?0:1))for(;s>=0||a<e.length;){if(s>=0){if((l=e[s])&&!(2&l.__u)&&r==l.key&&o===l.type)return s;s--}if(a<e.length){if((l=e[a])&&!(2&l.__u)&&r==l.key&&o===l.type)return a;a++}}return-1}function jW(i,e,t){e[0]==="-"?i.setProperty(e,t??""):i[e]=t==null?"":typeof t!="number"||yBe.test(e)?t:t+"px"}function eI(i,e,t,n,r){var o,s;e:if(e==="style")if(typeof t=="string")i.style.cssText=t;else{if(typeof n=="string"&&(i.style.cssText=n=""),n)for(e in n)t&&e in t||jW(i.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||jW(i.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(rie,"$1")),e=e.toLowerCase()in i||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),i.l||(i.l={}),i.l[e+o]=t,t?n?t.u=n.u:(t.u=tH,i.addEventListener(e,o?YO:XO,o)):i.removeEventListener(e,o?YO:XO,o);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in i)try{s=i.tagName&&i.tagName.includes("-"),t!==n&&(i[e]=t!=null||s?t:"");break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!=="-"?i.removeAttribute(e):i.setAttribute(e,e=="popover"&&t==1?"":t))}}function KW(i){return function(e){if(this.l){var t=this.l[e.type+i];if(e.t==null)e.t=tH++;else if(e.t<t.u)return;return t(Ar.event?Ar.event(e):e)}}}function iH(i,e,t,n,r,o,s,a,l,c){var u,h,d,p,g,v,_,b,x,C,S,E,I,M,k,F,P,Q=e.type;if(e.constructor!==void 0)return null;128&t.__u&&(l=!!(32&t.__u),o=[a=e.__e=t.__e]),(u=Ar.__b)&&u(e);e:if(typeof Q=="function")try{if(b=e.props,x="prototype"in Q&&Q.prototype.render,C=(u=Q.contextType)&&n[u.__c],S=u?C?C.props.value:u.__:n,t.__c?_=(h=e.__c=t.__c).__=h.__E:(x?e.__c=h=new Q(b,S):(e.__c=h=new yM(b,S),h.constructor=Q,h.render=xBe),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=S,h.__n=n,d=h.__d=!0,h.__h=[],h._sb=[]),x&&h.__s==null&&(h.__s=h.state),x&&Q.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=ag({},h.__s)),ag(h.__s,Q.getDerivedStateFromProps(b,h.__s))),p=h.props,g=h.state,h.__v=e,d)x&&Q.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),x&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(x&&Q.getDerivedStateFromProps==null&&b!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(b,S),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(b,h.__s,S)===!1||e.__v===t.__v)){for(e.__v!==t.__v&&(h.props=b,h.state=h.__s,h.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(N){N&&(N.__=e)}),E=0;E<h._sb.length;E++)h.__h.push(h._sb[E]);h._sb=[],h.__h.length&&s.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(b,h.__s,S),x&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,g,v)})}if(h.context=S,h.props=b,h.__P=i,h.__e=!1,I=Ar.__r,M=0,x){for(h.state=h.__s,h.__d=!1,I&&I(e),u=h.render(h.props,h.state,h.context),k=0;k<h._sb.length;k++)h.__h.push(h._sb[k]);h._sb=[]}else do h.__d=!1,I&&I(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++M<25);h.state=h.__s,h.getChildContext!=null&&(n=ag(ag({},n),h.getChildContext())),x&&!d&&h.getSnapshotBeforeUpdate!=null&&(v=h.getSnapshotBeforeUpdate(p,g)),a=WW(i,ZO(F=u!=null&&u.type===kS&&u.key==null?u.props.children:u)?F:[F],e,t,n,r,o,s,a,l,c),h.base=e.__e,e.__u&=-161,h.__h.length&&s.push(h),_&&(h.__E=h.__=null)}catch(N){if(e.__v=null,l||o!=null)if(N.then){for(e.__u|=l?160:128;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,e.__e=a}else for(P=o.length;P--;)JO(o[P]);else e.__e=t.__e,e.__k=t.__k;Ar.__e(N,e,t)}else o==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):a=e.__e=function(N,W,q,J,V,Y,Z,ue,$){var ee,oe,ge,se,Ae,we,xe,Be,Re=q.props,ke=W.props,Pe=W.type;if(Pe==="svg"?V="http://www.w3.org/2000/svg":Pe==="math"?V="http://www.w3.org/1998/Math/MathML":V||(V="http://www.w3.org/1999/xhtml"),Y!=null){for(ee=0;ee<Y.length;ee++)if((Ae=Y[ee])&&"setAttribute"in Ae==!!Pe&&(Pe?Ae.localName===Pe:Ae.nodeType===3)){N=Ae,Y[ee]=null;break}}if(N==null){if(Pe===null)return document.createTextNode(ke);N=document.createElementNS(V,Pe,ke.is&&ke),ue&&(Ar.__m&&Ar.__m(W,Y),ue=!1),Y=null}if(Pe===null)Re===ke||ue&&N.data===ke||(N.data=ke);else{if(Y=Y&&eR.call(N.childNodes),Re=q.props||YB,!ue&&Y!=null)for(Re={},ee=0;ee<N.attributes.length;ee++)Re[(Ae=N.attributes[ee]).name]=Ae.value;for(ee in Re)if(Ae=Re[ee],ee!="children"){if(ee=="dangerouslySetInnerHTML")ge=Ae;else if(!(ee in ke)){if(ee=="value"&&"defaultValue"in ke||ee=="checked"&&"defaultChecked"in ke)continue;eI(N,ee,null,Ae,V)}}for(ee in ke)Ae=ke[ee],ee=="children"?se=Ae:ee=="dangerouslySetInnerHTML"?oe=Ae:ee=="value"?we=Ae:ee=="checked"?xe=Ae:ue&&typeof Ae!="function"||Re[ee]===Ae||(ee.startsWith("on")&&(Be=J[Object.keys(J)[0]].props.value,Ae=Ae.bind(Be)),eI(N,ee,Ae,Re[ee],V));if(oe)ue||ge&&(oe.__html===ge.__html||oe.__html===N.innerHTML)||(N.innerHTML=oe.__html),W.__k=[];else if(ge&&(N.innerHTML=""),WW(N,ZO(se)?se:[se],W,q,J,Pe==="foreignObject"?"http://www.w3.org/1999/xhtml":V,Y,Z,Y?Y[0]:q.__k&&iw(q,0),ue,$),Y!=null)for(ee=Y.length;ee--;)JO(Y[ee]);ue||(ee="value",Pe==="progress"&&we==null?N.removeAttribute("value"):we!==void 0&&(we!==N[ee]||Pe==="progress"&&!we||Pe==="option"&&we!==Re[ee])&&eI(N,ee,we,Re[ee],V),ee="checked",xe!==void 0&&xe!==N[ee]&&eI(N,ee,xe,Re[ee],V))}return N}(t.__e,e,t,n,r,o,s,l,c);return(u=Ar.diffed)&&u(e),128&e.__u?void 0:a}function cie(i,e,t){for(var n=0;n<t.length;n++)nH(t[n],t[++n],t[++n]);Ar.__c&&Ar.__c(e,i),i.some(function(r){try{i=r.__h,r.__h=[],i.some(function(o){o.call(r)})}catch(o){Ar.__e(o,r.__v)}})}function nH(i,e,t){try{if(typeof i=="function"){var n=typeof i.__u=="function";n&&i.__u(),n&&e==null||(i.__u=i(e))}else i.current=e}catch(r){Ar.__e(r,t)}}function uie(i,e,t){var n,r;if(Ar.unmount&&Ar.unmount(i),(n=i.ref)&&(n.current&&n.current!==i.__e||nH(n,null,e)),(n=i.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){Ar.__e(o,e)}n.base=n.__P=null}if(n=i.__k)for(r=0;r<n.length;r++)n[r]&&uie(n[r],e,t||typeof i.type!="function");t||JO(i.__e),i.__c=i.__=i.__e=void 0}function xBe(i,e,t){return this.constructor(i,t)}eR=sie.slice,Ar={__e:function(i,e,t,n){for(var r,o,s;e=e.__;)if((r=e.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(i)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(i,n||{}),s=r.__d),s)return r.__E=r}catch(a){i=a}throw i}},iie=0,yM.prototype.setState=function(i,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ag({},this.state),typeof i=="function"&&(i=i(ag({},t),this.props)),i&&ag(t,i),i!=null&&this.__v&&(e&&this._sb.push(e),e8(this))},yM.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),e8(this))},yM.prototype.render=kS,R_=[],nie=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$O=function(i,e){return i.__v.__b-e.__v.__b},tR.__r=0,rie=/(PointerCapture)$|Capture$/i,tH=0,XO=KW(!1),YO=KW(!0),oie=0;var CBe=0;const $W=new WeakMap,Br=(i,e)=>{let t=$W.get(i);var n,r;t||(t=(r={__c:n="__cC"+oie++,__:i,Consumer:function(s,a){return s.children(a)},Provider:function(s){var a,l;return this.getChildContext||(a=new Set,(l={})[n]=this,this.getChildContext=function(){return l},this.componentWillUnmount=function(){a=null},this.shouldComponentUpdate=function(c){this.props.value!==c.value&&a.forEach(function(u){u.__e=!0,e8(u)})},this.sub=function(c){a.add(c);var u=c.componentWillUnmount;c.componentWillUnmount=function(){a&&a.delete(c),u&&u.call(c)}}),s.children}}).Provider.__=r.Consumer.contextType=r,$W.set(i,t));const o=i.render();(function(s,a){var l,c,u;a===document&&(a=document.documentElement),Ar.__&&Ar.__(s,a),l=a.__k,c=[],u=[],iH(a,s=a.__k=function(h,d,p){var g,v,_,b={};for(_ in d)_=="key"?g=d[_]:_=="ref"?v=d[_]:b[_]=d[_];if(arguments.length>2&&(b.children=arguments.length>3?eR.call(arguments,2):p),typeof h=="function"&&h.defaultProps!=null)for(_ in h.defaultProps)b[_]===void 0&&(b[_]=h.defaultProps[_]);return bM(h,b,g,v,null)}(kS,null,[s]),l||YB,YB,a.namespaceURI,l?null:a.firstChild?eR.call(a.childNodes):null,c,l?l.__e:a.firstChild,!1,u),cie(c,s,u)})(function(s,a){a||(a={});var l,c,u=a;"ref"in a&&(l=a.ref,delete a.ref);var h={type:s,props:u,key:void 0,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--CBe,__i:-1,__u:0,__source:void 0,__self:void 0};if(typeof s=="function"&&(l=s.defaultProps))for(c in l)u[c]===void 0&&(u[c]=l[c]);return Ar.vnode&&Ar.vnode(h),h}(t.Provider,{value:i,children:o}),e)},Dr=i=>(i.key?i.key==="Enter":i.keyCode===13)&&!ss(i),wr=i=>(i.key?i.key==="Spacebar"||i.key===" ":i.keyCode===32)&&!ss(i),hie=i=>(i.key?i.key==="Spacebar"||i.key===" ":i.keyCode===32)&&ra(i,!1,!1,!0),Ig=i=>(i.key?i.key==="ArrowLeft"||i.key==="Left":i.keyCode===37)&&!ss(i),Mg=i=>(i.key?i.key==="ArrowRight"||i.key==="Right":i.keyCode===39)&&!ss(i),za=i=>(i.key?i.key==="ArrowUp"||i.key==="Up":i.keyCode===38)&&!ss(i),Bl=i=>(i.key?i.key==="ArrowDown"||i.key==="Down":i.keyCode===40)&&!ss(i),gP=i=>(i.key?i.key==="ArrowLeft"||i.key==="Left":i.keyCode===37)&&ra(i,!0,!1,!1),mP=i=>(i.key?i.key==="ArrowRight"||i.key==="Right":i.keyCode===39)&&ra(i,!0,!1,!1),y2=i=>(i.key?i.key==="ArrowUp"||i.key==="Up":i.keyCode===38)&&ra(i,!0,!1,!1),t8=i=>(i.key?i.key==="ArrowDown"||i.key==="Down":i.keyCode===40)&&ra(i,!0,!1,!1),i8=i=>(i.key?i.key==="ArrowUp"||i.key==="Up":i.keyCode===38)&&ra(i,!1,!1,!0),n8=i=>(i.key?i.key==="ArrowDown"||i.key==="Down":i.keyCode===40)&&ra(i,!1,!1,!0),XW=i=>(i.key?i.key==="ArrowLeft"||i.key==="Left":i.keyCode===37)&&ra(i,!1,!1,!0),YW=i=>(i.key?i.key==="ArrowRight"||i.key==="Right":i.keyCode===39)&&ra(i,!1,!1,!0),nw=i=>(i.key?i.key==="Home":i.keyCode===36)&&!ss(i),rw=i=>(i.key?i.key==="End":i.keyCode===35)&&!ss(i),Rg=i=>(i.key?i.key==="Escape"||i.key==="Esc":i.keyCode===27)&&!ss(i),kg=i=>(i.key?i.key==="Tab":i.keyCode===9)&&!ss(i),Lk=i=>(i.key?i.key==="Tab":i.keyCode===9)&&ra(i,!1,!1,!0),r8=i=>(i.key?i.key==="Delete":i.keyCode===46)&&!ss(i),my=i=>(i.key?i.key==="PageUp":i.keyCode===33)&&!ss(i),iR=i=>(i.key?i.key==="PageDown":i.keyCode===34)&&!ss(i),_P=i=>(i.key?i.key==="+":i.keyCode===187)||i.keyCode===107&&!ss(i),BBe=i=>(i.key?i.key==="-":i.keyCode===219)||i.keyCode===109&&!ss(i),o8=i=>i.key==="F2"&&!ss(i),ss=i=>i.shiftKey||i.altKey||Aie(i),Aie=i=>!(!i.metaKey&&!i.ctrlKey),ra=(i,e,t,n)=>i.shiftKey===n&&i.altKey===t&&Aie(i)===e,Rv=()=>{let i=document.activeElement;for(;i&&i.shadowRoot&&i.shadowRoot.activeElement;)i=i.shadowRoot.activeElement;return i};var k_=(i=>(i.Auto="Auto",i.Vertical="Vertical",i.Horizontal="Horizontal",i.Paging="Paging",i))(k_||{}),tg=(i=>(i.Static="Static",i.Cyclic="Cyclic",i))(tg||{});let nR=class{constructor(i,e){if(!i.isUI5Element)throw new Error("The root web component must be a UI5 Element instance");if(this.rootWebComponent=i,this.rootWebComponent.addEventListener("keydown",this._onkeydown.bind(this)),this._initBound=this._init.bind(this),this.rootWebComponent.attachComponentStateFinalized(this._initBound),typeof e.getItemsCallback!="function")throw new Error("getItemsCallback is required");this._getItems=e.getItemsCallback,this._currentIndex=e.currentIndex||0,this._rowSize=e.rowSize||1,this._behavior=e.behavior||tg.Static,this._navigationMode=e.navigationMode||k_.Auto,this._affectedPropertiesNames=e.affectedPropertiesNames||[],this._skipItemsSize=e.skipItemsSize||null}setCurrentItem(i){const e=this._getItems().indexOf(i);e!==-1?(this._currentIndex=e,this._applyTabIndex()):console.warn("The provided item is not managed by ItemNavigation",i)}setRowSize(i){this._rowSize=i}_init(){this._getItems().forEach((i,e)=>{i.forcedTabIndex=e===this._currentIndex?"0":"-1"})}_onkeydown(i){if(!this._canNavigate())return;const e=this._navigationMode===k_.Horizontal||this._navigationMode===k_.Auto,t=this._navigationMode===k_.Vertical||this._navigationMode===k_.Auto,n=this.rootWebComponent.effectiveDir==="rtl";if(n&&Ig(i)&&e)this._handleRight();else if(n&&Mg(i)&&e)this._handleLeft();else if(Ig(i)&&e)this._handleLeft();else if(Mg(i)&&e)this._handleRight();else if(za(i)&&t)this._handleUp();else if(Bl(i)&&t)this._handleDown();else if(nw(i))this._handleHome();else if(rw(i))this._handleEnd();else if(my(i))this._handlePageUp();else{if(!iR(i))return;this._handlePageDown()}i.preventDefault(),this._applyTabIndex(),this._focusCurrentItem()}_handleUp(){const i=this._getItems().length;if(this._currentIndex-this._rowSize>=0)this._currentIndex-=this._rowSize;else if(this._behavior===tg.Cyclic){const e=this._currentIndex%this._rowSize;let t=(e===0?this._rowSize-1:e-1)+(Math.ceil(i/this._rowSize)-1)*this._rowSize;t>i-1&&(t-=this._rowSize),this._currentIndex=t}else this._currentIndex=0}_handleDown(){const i=this._getItems().length;if(this._currentIndex+this._rowSize<i)this._currentIndex+=this._rowSize;else if(this._behavior===tg.Cyclic){const e=(this._currentIndex%this._rowSize+1)%this._rowSize;this._currentIndex=e}else this._currentIndex=i-1}_handleLeft(){const i=this._getItems().length;this._currentIndex>0?this._currentIndex-=1:this._behavior===tg.Cyclic&&(this._currentIndex=i-1)}_handleRight(){const i=this._getItems().length;this._currentIndex<i-1?this._currentIndex+=1:this._behavior===tg.Cyclic&&(this._currentIndex=0)}_handleHome(){const i=this._rowSize>1?this._rowSize:this._getItems().length;this._currentIndex-=this._currentIndex%i}_handleEnd(){const i=this._rowSize>1?this._rowSize:this._getItems().length;this._currentIndex+=i-1-this._currentIndex%i}_handlePageUp(){this._rowSize>1||this._handlePageUpFlat()}_handlePageDown(){this._rowSize>1||this._handlePageDownFlat()}_handlePageUpFlat(){this._skipItemsSize!==null&&this._currentIndex+1>this._skipItemsSize?this._currentIndex-=this._skipItemsSize:this._currentIndex-=this._currentIndex}_handlePageDownFlat(){this._skipItemsSize!==null&&this._getItems().length-this._currentIndex-1>this._skipItemsSize?this._currentIndex+=this._skipItemsSize:this._currentIndex=this._getItems().length-1}_applyTabIndex(){const i=this._getItems();for(let e=0;e<i.length;e++)i[e].forcedTabIndex=e===this._currentIndex?"0":"-1";this._affectedPropertiesNames.forEach(e=>{const t=this.rootWebComponent[e];this.rootWebComponent[e]=Array.isArray(t)?[...t]:{...t}})}_focusCurrentItem(){const i=this._getCurrentItem();i&&i.focus()}_canNavigate(){const i=this._getCurrentItem(),e=Rv();return i&&i===e}_getCurrentItem(){const i=this._getItems();if(!i.length)return;for(;this._currentIndex>=i.length;)this._currentIndex-=this._rowSize;this._currentIndex<0&&(this._currentIndex=0);const e=i[this._currentIndex];if(!e)return;if(Uh(e))return e.getFocusDomRef();const t=this.rootWebComponent.getDomRef();return t&&e.id?t.querySelector(`[id="${e.id}"]`):void 0}};const wo=i=>(e,t)=>{e.metadata.i18n||(e.metadata.i18n={}),Object.defineProperty(e,t,{get:()=>e.i18nBundles[i],set(){}}),e.metadata.i18n[t]={bundleName:i,target:e}};var vP;const rR=window,ow=rR.trustedTypes,ZW=ow?ow.createPolicy("lit-html",{createHTML:i=>i}):void 0,bP="$lit$",Hf=`lit$${(Math.random()+"").slice(9)}$`,die="?"+Hf,SBe=`<${die}>`,wv=document,oR=()=>wv.createComment(""),ZB=i=>i===null||typeof i!="object"&&typeof i!="function",JW=Array.isArray,yP=`[ 	
\f\r]`,jC=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ej=/-->/g,tj=/>/g,a_=RegExp(`>|${yP}(?:([^\\s"'>=/]+)(${yP}*=${yP}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),ij=/'/g,nj=/"/g,rj=/^(?:script|style|textarea|title)$/i,pie=i=>(e,...t)=>({_$litType$:i,strings:e,values:t}),EBe=pie(1),TBe=pie(2),JB=Symbol.for("lit-noChange"),Fs=Symbol.for("lit-nothing"),oj=new WeakMap,H_=wv.createTreeWalker(wv,129,null,!1);function fie(i,e){if(!Array.isArray(i)||!i.hasOwnProperty("raw"))throw Error("invalid template strings array");return ZW!==void 0?ZW.createHTML(e):e}class eS{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let o=0,s=0;const a=e.length-1,l=this.parts,[c,u]=((h,d)=>{const p=h.length-1,g=[];let v,_=d===2?"<svg>":"",b=jC;for(let x=0;x<p;x++){const C=h[x];let S,E,I=-1,M=0;for(;M<C.length&&(b.lastIndex=M,E=b.exec(C),E!==null);)M=b.lastIndex,b===jC?E[1]==="!--"?b=ej:E[1]!==void 0?b=tj:E[2]!==void 0?(rj.test(E[2])&&(v=RegExp("</"+E[2],"g")),b=a_):E[3]!==void 0&&(b=a_):b===a_?E[0]===">"?(b=v??jC,I=-1):E[1]===void 0?I=-2:(I=b.lastIndex-E[2].length,S=E[1],b=E[3]===void 0?a_:E[3]==='"'?nj:ij):b===nj||b===ij?b=a_:b===ej||b===tj?b=jC:(b=a_,v=void 0);const k=b===a_&&h[x+1].startsWith("/>")?" ":"";_+=b===jC?C+SBe:I>=0?(g.push(S),C.slice(0,I)+bP+C.slice(I)+Hf+k):C+Hf+(I===-2?(g.push(void 0),x):k)}return[fie(h,_+(h[p]||"<?>")+(d===2?"</svg>":"")),g]})(e,t);if(this.el=eS.createElement(c,n),H_.currentNode=this.el.content,t===2){const h=this.el.content,d=h.firstChild;d.remove(),h.append(...d.childNodes)}for(;(r=H_.nextNode())!==null&&l.length<a;){if(r.nodeType===1){if(r.hasAttributes()){const h=[];for(const d of r.getAttributeNames())if(d.endsWith(bP)||d.startsWith(Hf)){const p=u[s++];if(h.push(d),p!==void 0){const g=r.getAttribute(p.toLowerCase()+bP).split(Hf),v=/([.?@])?(.*)/.exec(p);l.push({type:1,index:o,name:v[2],strings:g,ctor:v[1]==="."?MBe:v[1]==="?"?kBe:v[1]==="@"?FBe:Qk})}else l.push({type:6,index:o})}for(const d of h)r.removeAttribute(d)}if(rj.test(r.tagName)){const h=r.textContent.split(Hf),d=h.length-1;if(d>0){r.textContent=ow?ow.emptyScript:"";for(let p=0;p<d;p++)r.append(h[p],oR()),H_.nextNode(),l.push({type:2,index:++o});r.append(h[d],oR())}}}else if(r.nodeType===8)if(r.data===die)l.push({type:2,index:o});else{let h=-1;for(;(h=r.data.indexOf(Hf,h+1))!==-1;)l.push({type:7,index:o}),h+=Hf.length-1}o++}}static createElement(e,t){const n=wv.createElement("template");return n.innerHTML=e,n}}function sw(i,e,t=i,n){var r,o,s,a;if(e===JB)return e;let l=n!==void 0?(r=t._$Co)===null||r===void 0?void 0:r[n]:t._$Cl;const c=ZB(e)?void 0:e._$litDirective$;return(l==null?void 0:l.constructor)!==c&&((o=l==null?void 0:l._$AO)===null||o===void 0||o.call(l,!1),c===void 0?l=void 0:(l=new c(i),l._$AT(i,t,n)),n!==void 0?((s=(a=t)._$Co)!==null&&s!==void 0?s:a._$Co=[])[n]=l:t._$Cl=l),l!==void 0&&(e=sw(i,l._$AS(i,e.values),l,n)),e}let IBe=class{constructor(i,e){this._$AV=[],this._$AN=void 0,this._$AD=i,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(i){var e;const{el:{content:t},parts:n}=this._$AD,r=((e=i==null?void 0:i.creationScope)!==null&&e!==void 0?e:wv).importNode(t,!0);H_.currentNode=r;let o=H_.nextNode(),s=0,a=0,l=n[0];for(;l!==void 0;){if(s===l.index){let c;l.type===2?c=new Ok(o,o.nextSibling,this,i):l.type===1?c=new l.ctor(o,l.name,l.strings,this,i):l.type===6&&(c=new DBe(o,this,i)),this._$AV.push(c),l=n[++a]}s!==(l==null?void 0:l.index)&&(o=H_.nextNode(),s++)}return H_.currentNode=wv,r}v(i){let e=0;for(const t of this._$AV)t!==void 0&&(t.strings!==void 0?(t._$AI(i,t,e),e+=t.strings.length-2):t._$AI(i[e])),e++}};class Ok{constructor(e,t,n,r){var o;this.type=2,this._$AH=Fs,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cp=(o=r==null?void 0:r.isConnected)===null||o===void 0||o}get _$AU(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){var n;e=sw(this,e,t),ZB(e)?e===Fs||e==null||e===""?(this._$AH!==Fs&&this._$AR(),this._$AH=Fs):e!==this._$AH&&e!==JB&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):JW(n=e)||typeof(n==null?void 0:n[Symbol.iterator])=="function"?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==Fs&&ZB(this._$AH)?this._$AA.nextSibling.data=e:this.$(wv.createTextNode(e)),this._$AH=e}g(e){var t;const{values:n,_$litType$:r}=e,o=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=eS.createElement(fie(r.h,r.h[0]),this.options)),r);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===o)this._$AH.v(n);else{const s=new IBe(o,this),a=s.u(this.options);s.v(n),this.$(a),this._$AH=s}}_$AC(e){let t=oj.get(e.strings);return t===void 0&&oj.set(e.strings,t=new eS(e)),t}T(e){JW(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const o of e)r===t.length?t.push(n=new Ok(this.k(oR()),this.k(oR()),this,this.options)):n=t[r],n._$AI(o),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,t);e&&e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}let Qk=class{constructor(i,e,t,n,r){this.type=1,this._$AH=Fs,this._$AN=void 0,this.element=i,this.name=e,this._$AM=n,this.options=r,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=Fs}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(i,e=this,t,n){const r=this.strings;let o=!1;if(r===void 0)i=sw(this,i,e,0),o=!ZB(i)||i!==this._$AH&&i!==JB,o&&(this._$AH=i);else{const s=i;let a,l;for(i=r[0],a=0;a<r.length-1;a++)l=sw(this,s[t+a],e,a),l===JB&&(l=this._$AH[a]),o||(o=!ZB(l)||l!==this._$AH[a]),l===Fs?i=Fs:i!==Fs&&(i+=(l??"")+r[a+1]),this._$AH[a]=l}o&&!n&&this.j(i)}j(i){i===Fs?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,i??"")}},MBe=class extends Qk{constructor(){super(...arguments),this.type=3}j(i){this.element[this.name]=i===Fs?void 0:i}};const RBe=ow?ow.emptyScript:"";let kBe=class extends Qk{constructor(){super(...arguments),this.type=4}j(i){i&&i!==Fs?this.element.setAttribute(this.name,RBe):this.element.removeAttribute(this.name)}},FBe=class extends Qk{constructor(i,e,t,n,r){super(i,e,t,n,r),this.type=5}_$AI(i,e=this){var t;if((i=(t=sw(this,i,e,0))!==null&&t!==void 0?t:Fs)===JB)return;const n=this._$AH,r=i===Fs&&n!==Fs||i.capture!==n.capture||i.once!==n.once||i.passive!==n.passive,o=i!==Fs&&(n===Fs||r);r&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,i),this._$AH=i}handleEvent(i){var e,t;typeof this._$AH=="function"?this._$AH.call((t=(e=this.options)===null||e===void 0?void 0:e.host)!==null&&t!==void 0?t:this.element,i):this._$AH.handleEvent(i)}},DBe=class{constructor(i,e,t){this.element=i,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}get _$AU(){return this._$AM._$AU}_$AI(i){sw(this,i)}};const sj=rR.litHtmlPolyfillSupport;sj==null||sj(eS,Ok),((vP=rR.litHtmlVersions)!==null&&vP!==void 0?vP:rR.litHtmlVersions=[]).push("2.8.0");const gie=Symbol.for(""),UBe=i=>{if((i==null?void 0:i.r)===gie)return i==null?void 0:i._$litStatic$},aj=new Map,mie=i=>(e,...t)=>{const n=t.length;let r,o;const s=[],a=[];let l,c=0,u=!1;for(;c<n;){for(l=e[c];c<n&&(o=t[c],(r=UBe(o))!==void 0);)l+=r+e[++c],u=!0;c!==n&&a.push(o),s.push(l),c++}if(c===n&&s.push(e[n]),u){const h=s.join("$$lit$$");(e=aj.get(h))===void 0&&(s.raw=s,aj.set(h,e=s)),t=a}return i(e,...t)},PBe=mie(EBe),LBe=mie(TBe);var lj;(T1=class{}).html=PBe,T1.svg=LBe,T1.unsafeStatic=i=>({_$litStatic$:i,r:gie}),lj=T1,Ste.set("LitStatic",lj);const OBe={key:"BUSY_INDICATOR_TITLE",defaultText:"Please wait"},QBe={key:"BUTTON_ARIA_TYPE_ACCEPT",defaultText:"Positive Action"},NBe={key:"BUTTON_ARIA_TYPE_REJECT",defaultText:"Negative Action"},HBe={key:"BUTTON_ARIA_TYPE_EMPHASIZED",defaultText:"Emphasized"},zBe={key:"COLORPALETTE_CONTAINER_LABEL",defaultText:"Color Palette - Predefined Colors"},GBe={key:"COLORPALETTE_POPOVER_TITLE",defaultText:"Color Palette"},VBe={key:"COLORPALETTE_COLOR_LABEL",defaultText:"Color"},_ie={key:"COLOR_PALETTE_DIALOG_CANCEL_BUTTON",defaultText:"Cancel"},qBe={key:"COLOR_PALETTE_DIALOG_OK_BUTTON",defaultText:"OK"},WBe={key:"COLOR_PALETTE_DIALOG_TITLE",defaultText:"Change Color"},jBe={key:"COLOR_PALETTE_MORE_COLORS_TEXT",defaultText:"More Colors..."},KBe={key:"COLOR_PALETTE_DEFAULT_COLOR_TEXT",defaultText:"Default Color"},$Be={key:"COLORPICKER_ALPHA_SLIDER",defaultText:"Alpha control"},XBe={key:"COLORPICKER_HUE_SLIDER",defaultText:"Hue control"},YBe={key:"COLORPICKER_HEX",defaultText:"Hexadecimal"},ZBe={key:"COLORPICKER_RED",defaultText:"Red"},JBe={key:"COLORPICKER_GREEN",defaultText:"Green"},eSe={key:"COLORPICKER_BLUE",defaultText:"Blue"},tSe={key:"COLORPICKER_HUE",defaultText:"Hue"},iSe={key:"COLORPICKER_SATURATION",defaultText:"Saturation"},nSe={key:"COLORPICKER_LIGHT",defaultText:"Light"},rSe={key:"COLORPICKER_TOGGLE_MODE_TOOLTIP",defaultText:"Change Color Mode"},oSe={key:"COLORPICKER_ALPHA",defaultText:"Alpha"},sSe={key:"DELETE",defaultText:"Delete"},aSe={key:"GROUP_HEADER_TEXT",defaultText:"Group Header"},lSe={key:"SELECT_ROLE_DESCRIPTION",defaultText:"Listbox"},cSe={key:"INPUT_SUGGESTIONS",defaultText:"Suggestions Available"},vie={key:"INPUT_SUGGESTIONS_TITLE",defaultText:"Select"},uSe={key:"INPUT_SUGGESTIONS_ONE_HIT",defaultText:"1 result available"},hSe={key:"INPUT_SUGGESTIONS_MORE_HITS",defaultText:"{0} results are available"},ASe={key:"INPUT_SUGGESTIONS_NO_HIT",defaultText:"No results"},dSe={key:"INPUT_CLEAR_ICON_ACC_NAME",defaultText:"Clear"},pSe={key:"LIST_ITEM_ACTIVE",defaultText:"Is Active"},fSe={key:"LIST_ITEM_POSITION",defaultText:"List item {0} of {1}"},gSe={key:"LIST_ITEM_SELECTED",defaultText:"Selected"},mSe={key:"LIST_ITEM_NOT_SELECTED",defaultText:"Not Selected"},Vke={key:"LIST_ITEM_GROUP_HEADER",defaultText:"Group Header"},_Se={key:"LIST_ROLE_LIST_GROUP_DESCRIPTION",defaultText:"contains {0} sub groups with {1} items"},vSe={key:"LIST_ROLE_LISTBOX_GROUP_DESCRIPTION",defaultText:"contains {0} sub groups"},bSe={key:"ARIA_LABEL_LIST_ITEM_CHECKBOX",defaultText:"Multiple Selection Mode"},ySe={key:"ARIA_LABEL_LIST_ITEM_RADIO_BUTTON",defaultText:"Item Selection."},wSe={key:"ARIA_LABEL_LIST_SELECTABLE",defaultText:"Contains Selectable Items"},xSe={key:"ARIA_LABEL_LIST_MULTISELECTABLE",defaultText:"Contains Multi-Selectable Items"},CSe={key:"ARIA_LABEL_LIST_DELETABLE",defaultText:"Contains Deletable Items"},BSe={key:"INPUT_AVALIABLE_VALUES",defaultText:"Available Values"},SSe={key:"PANEL_ICON",defaultText:"Expand/Collapse"},ESe={key:"RESPONSIVE_POPOVER_CLOSE_DIALOG_BUTTON",defaultText:"Decline"},TSe={key:"SEGMENTEDBUTTON_ARIA_DESCRIPTION",defaultText:"Segmented button group"},ISe={key:"SEGMENTEDBUTTON_ARIA_DESCRIBEDBY",defaultText:"Press SPACE or ENTER to select an item"},MSe={key:"SEGMENTEDBUTTONITEM_ARIA_DESCRIPTION",defaultText:"Segmented button"},RSe={key:"SLIDER_ARIA_DESCRIPTION",defaultText:"Slider handle"},kSe={key:"LOAD_MORE_TEXT",defaultText:"More"},bie={key:"VALUE_STATE_TYPE_ERROR",defaultText:"Value State Error"},yie={key:"VALUE_STATE_TYPE_WARNING",defaultText:"Value State Warning"},wie={key:"VALUE_STATE_TYPE_SUCCESS",defaultText:"Value State Success"},xie={key:"VALUE_STATE_TYPE_INFORMATION",defaultText:"Value State Information"},Nk={key:"VALUE_STATE_ERROR",defaultText:"Invalid entry"},Hk={key:"VALUE_STATE_WARNING",defaultText:"Warning issued"},rH={key:"VALUE_STATE_INFORMATION",defaultText:"Informative entry"},zk={key:"VALUE_STATE_SUCCESS",defaultText:"Entry successfully validated"},FSe={key:"SLIDER_TOOLTIP_INPUT_DESCRIPTION",defaultText:"Press F2 to enter a value"},DSe={key:"SLIDER_TOOLTIP_INPUT_LABEL",defaultText:"Current Value"},USe={key:"STEPINPUT_DEC_ICON_TITLE",defaultText:"Decrease"},PSe={key:"STEPINPUT_INC_ICON_TITLE",defaultText:"Increase"},LSe={key:"DIALOG_HEADER_ARIA_ROLE_DESCRIPTION",defaultText:"Interactive Header"},OSe={key:"DIALOG_HEADER_ARIA_DESCRIBEDBY_RESIZABLE",defaultText:"Use Shift+Arrow keys to resize"},QSe={key:"DIALOG_HEADER_ARIA_DESCRIBEDBY_DRAGGABLE",defaultText:"Use Arrow keys to move"},NSe={key:"DIALOG_HEADER_ARIA_DESCRIBEDBY_DRAGGABLE_RESIZABLE",defaultText:"Use Arrow keys to move, Shift+Arrow keys to resize"},HSe={key:"LABEL_COLON",defaultText:":"},zSe={key:"FORM_CHECKABLE_REQUIRED",defaultText:"Please tick this box if you want to proceed."},GSe={key:"FORM_SELECTABLE_REQUIRED",defaultText:"Please select an item in the list."},VSe={key:"FORM_SELECTABLE_REQUIRED2",defaultText:"Please select one of these options."},qSe={key:"FORM_TEXTFIELD_REQUIRED",defaultText:"Please fill in this field."};let wP;const s8=()=>(wP===void 0&&(Ng(),wP=El.enableDefaultTooltips),wP),sR=new WeakMap,W2=new WeakMap,WSe={attributes:!0,childList:!0,characterData:!0,subtree:!0},Hg=i=>{const e=i;return e.accessibleNameRef?oH(i):e.accessibleName?e.accessibleName:void 0},oH=i=>{var e;const t=((e=i.accessibleNameRef)==null?void 0:e.split(" "))??[];let n="";return t.forEach((r,o)=>{const s=sH(i,r),a=`${s&&s.textContent?s.textContent:""}`;a&&(n+=a,o<t.length-1&&(n+=" "))}),n},cj=i=>{const e=new Set;Cie(i).forEach(n=>{e.add(n)});const t=[i.accessibleNameRef,i.accessibleDescriptionRef].filter(Boolean).join(" ");return(t?t.split(" "):[]).forEach(n=>{const r=sH(i,n);r&&e.add(r)}),Array.from(e)},Cie=i=>{const e=i.getRootNode().querySelectorAll(`[for="${i.id}"]`);return Array.from(e)},sH=(i,e)=>i.getRootNode().querySelector(`[id='${e}']`)||document.getElementById(e),Bie=(i,e)=>{if(W2.has(i))return;const t=cj(i),n=(o=>s=>{const a=s&&s.type==="property"&&s.name==="accessibleNameRef",l=s&&s.type==="property"&&s.name==="accessibleDescriptionRef";if(!a&&!l)return;const c=W2.get(o);if(!c)return;const u=c.observedElements,h=cj(o);u.forEach(d=>{h.includes(d)||aH(c,d)}),h.forEach(d=>{u.includes(d)||(uj(c,d),c.observedElements.push(d))}),c==null||c.callback()})(i),r={host:i,observedElements:t,callback:e,invalidationCallback:n};W2.set(i,r),i.attachInvalidate(n),t.forEach(o=>{uj(r,o)}),e()},uj=(i,e)=>{let t=sR.get(e);if(!t){t={observer:null,callbacks:[]};const n=new MutationObserver(()=>{t.callbacks.forEach(o=>{o()});const r=document.getElementById(e.id);i.host.id===e.getAttribute("for")||r||aH(i,e)});t.observer=n,n.observe(e,WSe),sR.set(e,t)}t.callbacks.includes(i.callback)||t.callbacks.push(i.callback)},aH=(i,e)=>{var t;const n=sR.get(e);n&&(n.callbacks=n.callbacks.filter(r=>r!==i.callback),n.callbacks.length||((t=n.observer)==null||t.disconnect(),sR.delete(e))),i.observedElements=i.observedElements.filter(r=>r!==e)},Sie=i=>{const e=W2.get(i);e&&([...e.observedElements].forEach(t=>{aH(e,t)}),i.detachInvalidate(e.invalidationCallback),W2.delete(i))},Eie=i=>{const e=i;return e.accessibleDescriptionRef?lH(i):e.accessibleDescription?e.accessibleDescription:void 0},lH=i=>{var e;const t=((e=i.accessibleDescriptionRef)==null?void 0:e.split(" "))??[];let n="";return t.forEach((r,o)=>{const s=sH(i,r),a=`${s&&s.textContent?s.textContent:""}`;a&&(n+=a,o<t.length-1&&(n+=" "))}),n},Tie=i=>Array.from(i).filter(e=>e.nodeType!==Node.COMMENT_NODE&&(e.nodeType!==Node.TEXT_NODE||(e.nodeValue||"").trim().length!==0)).length>0;var tS;tS={__e:function(i,e,t,n){for(var r,o,s;e=e.__;)if((r=e.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(i)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(i,n||{}),s=r.__d),s)return r.__E=r}catch(a){i=a}throw i}},typeof Promise=="function"&&Promise.prototype.then.bind(Promise.resolve());var jSe=0;function Iie(i,e,t,n,r,o){e||(e={});var s,a,l=e;"ref"in e&&(s=e.ref,delete e.ref);var c={type:i,props:l,key:t,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--jSe,__i:-1,__u:0,__source:r,__self:o};if(typeof i=="function"&&(s=i.defaultProps))for(a in s)l[a]===void 0&&(l[a]=s[a]);return tS.vnode&&tS.vnode(c),c}const xP=new Map;function Mie(i,e,t){let n;return typeof(r=i)=="function"&&"getMetadata"in r?(n=i.getMetadata().getTag(),function(o,s){const a=o.getMetadata().getEvents();Object.keys(s).forEach(l=>{if(l.startsWith("on")){const c=l.slice(2),u=(p=>(g=>{if(!xP.has(g)){const v=g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();xP.set(g,v)}return xP.get(g)})(p))(c),h=c.charAt(0).toLowerCase()+c.slice(1);let d;u in a?d=u:h in a&&(d=h),d&&l!=="onClick"&&(s[`onui5-${d}`]=s[l],delete s[l])}})}(i,e)):n=i,typeof e.class=="object"&&(e.class=function(o){let s="";for(const a in o)o[a]&&(s&&(s+=" "),s+=a);return s}(e.class)),n;var r}const hj=tS.vnode;function xr(i,e){return i.children}function Ce(i,e,t){return Iie(Mie(i,e),e,t)}function Rt(i,e,t){return Iie(Mie(i,e),e,t)}var a8;tS.vnode=i=>{const e=i.props;e!==null&&typeof e=="object"&&e.class&&e.class,hj&&hj(i)},function(i){i.Image="Image",i.Decorative="Decorative",i.Interactive="Interactive"}(a8||(a8={}));const Rb=a8,Hi=`:root{--sapThemeMetaData-Base-baseLib:{"Path": "Base.baseLib.sap_horizon.css_variables","PathPattern": "/%frameworkId%/%libId%/%themeId%/%fileId%.css","Extends": ["baseTheme"],"Tags": ["Fiori_3","LightColorScheme"],"FallbackThemeId": "sap_fiori_3","Engine":{"Name": "theming-engine","Version": "14.2.25"},"Version":{"Build": "11.26.0.20250203135245","Source": "11.26.0"}};--sapBrandColor: #0070f2;--sapHighlightColor: #0064d9;--sapBaseColor: #fff;--sapShellColor: #fff;--sapBackgroundColor: #f5f6f7;--sapFontFamily: "72", "72full", Arial, Helvetica, sans-serif;--sapFontSize: .875rem;--sapTextColor: #1d2d3e;--sapLinkColor: #0064d9;--sapCompanyLogo: none;--sapBackgroundImage: none;--sapBackgroundImageOpacity: 1;--sapBackgroundImageRepeat: false;--sapSelectedColor: #0064d9;--sapHoverColor: #eaecee;--sapActiveColor: #dee2e5;--sapHighlightTextColor: #fff;--sapTitleColor: #1d2d3e;--sapNegativeColor: #aa0808;--sapCriticalColor: #e76500;--sapPositiveColor: #256f3a;--sapInformativeColor: #0070f2;--sapNeutralColor: #788fa6;--sapNegativeElementColor: #f53232;--sapCriticalElementColor: #e76500;--sapPositiveElementColor: #30914c;--sapInformativeElementColor: #0070f2;--sapNeutralElementColor: #788fa6;--sapNegativeTextColor: #aa0808;--sapCriticalTextColor: #b44f00;--sapPositiveTextColor: #256f3a;--sapInformativeTextColor: #0064d9;--sapNeutralTextColor: #1d2d3e;--sapErrorColor: #aa0808;--sapWarningColor: #e76500;--sapSuccessColor: #256f3a;--sapInformationColor: #0070f2;--sapErrorBackground: #ffeaf4;--sapWarningBackground: #fff8d6;--sapSuccessBackground: #f5fae5;--sapInformationBackground: #e1f4ff;--sapNeutralBackground: #eff1f2;--sapErrorBorderColor: #e90b0b;--sapWarningBorderColor: #dd6100;--sapSuccessBorderColor: #30914c;--sapInformationBorderColor: #0070f2;--sapNeutralBorderColor: #788fa6;--sapElement_LineHeight: 2.75rem;--sapElement_Height: 2.25rem;--sapElement_BorderWidth: .0625rem;--sapElement_BorderCornerRadius: .75rem;--sapElement_Compact_LineHeight: 2rem;--sapElement_Compact_Height: 1.625rem;--sapElement_Condensed_LineHeight: 1.5rem;--sapElement_Condensed_Height: 1.375rem;--sapContent_LineHeight: 1.5;--sapContent_IconHeight: 1rem;--sapContent_IconColor: #1d2d3e;--sapContent_ContrastIconColor: #fff;--sapContent_NonInteractiveIconColor: #758ca4;--sapContent_MarkerIconColor: #5d36ff;--sapContent_MarkerTextColor: #046c7a;--sapContent_MeasureIndicatorColor: #556b81;--sapContent_Selected_MeasureIndicatorColor: #0064d9;--sapContent_Placeholderloading_Background: #ccc;--sapContent_Placeholderloading_Gradient: linear-gradient(to right, #ccc 0%, #ccc 20%, #999 50%, #ccc 80%, #ccc 100%);--sapContent_ImagePlaceholderBackground: #eaecee;--sapContent_ImagePlaceholderForegroundColor: #5b738b;--sapContent_RatedColor: #d27700;--sapContent_UnratedColor: #758ca4;--sapContent_BusyColor: #0064d9;--sapContent_FocusColor: #0032a5;--sapContent_FocusStyle: solid;--sapContent_FocusWidth: .125rem;--sapContent_ContrastFocusColor: #fff;--sapContent_ShadowColor: #223548;--sapContent_ContrastShadowColor: #fff;--sapContent_Shadow0: 0 0 .125rem 0 rgba(34,53,72,.2), 0 .125rem .25rem 0 rgba(34,53,72,.2);--sapContent_Shadow1: 0 0 0 .0625rem rgba(34,53,72,.48), 0 .125rem .5rem 0 rgba(34,53,72,.3);--sapContent_Shadow2: 0 0 0 .0625rem rgba(34,53,72,.48), 0 .625rem 1.875rem 0 rgba(34,53,72,.25);--sapContent_Shadow3: 0 0 0 .0625rem rgba(34,53,72,.48), 0 1.25rem 5rem 0 rgba(34,53,72,.25);--sapContent_TextShadow: 0 0 .125rem #fff;--sapContent_ContrastTextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapContent_HeaderShadow: 0 .125rem .125rem 0 rgba(34,53,72,.05), inset 0 -.0625rem 0 0 #d9d9d9;--sapContent_Interaction_Shadow: inset 0 0 0 .0625rem rgba(85,107,129,.25);--sapContent_Selected_Shadow: inset 0 0 0 .0625rem rgba(79,160,255,.5);--sapContent_Negative_Shadow: inset 0 0 0 .0625rem rgba(255,142,196,.45);--sapContent_Critical_Shadow: inset 0 0 0 .0625rem rgba(255,213,10,.4);--sapContent_Positive_Shadow: inset 0 0 0 .0625rem rgba(48,145,76,.18);--sapContent_Informative_Shadow: inset 0 0 0 .0625rem rgba(104,174,255,.5);--sapContent_Neutral_Shadow: inset 0 0 0 .0625rem rgba(120,143,166,.3);--sapContent_SearchHighlightColor: #dafdf5;--sapContent_HelpColor: #188918;--sapContent_LabelColor: #556b82;--sapContent_MonospaceFontFamily: "72Mono", "72Monofull", lucida console, monospace;--sapContent_MonospaceBoldFontFamily: "72Mono-Bold", "72Mono-Boldfull", lucida console, monospace;--sapContent_IconFontFamily: "SAP-icons";--sapContent_DisabledTextColor: rgba(29,45,62,.6);--sapContent_DisabledOpacity: .4;--sapContent_ContrastTextThreshold: .65;--sapContent_ContrastTextColor: #fff;--sapContent_ForegroundColor: #efefef;--sapContent_ForegroundBorderColor: #758ca4;--sapContent_ForegroundTextColor: #1d2d3e;--sapContent_BadgeBackground: #aa0808;--sapContent_BadgeTextColor: #fff;--sapContent_BadgeBorderColor: #fff;--sapContent_DragAndDropActiveColor: #0064d9;--sapContent_Selected_TextColor: #0064d9;--sapContent_Selected_Background: #fff;--sapContent_Selected_Hover_Background: #e3f0ff;--sapContent_Selected_ForegroundColor: #0064d9;--sapContent_ForcedColorAdjust: none;--sapContent_Lite_Shadow: None;--sapContent_Illustrative_Color1: #9b015d;--sapContent_Illustrative_Color2: #56bdff;--sapContent_Illustrative_Color3: #ff7f4c;--sapContent_Illustrative_Color4: #00144a;--sapContent_Illustrative_Color5: #a9b4be;--sapContent_Illustrative_Color6: #d5dadd;--sapContent_Illustrative_Color7: #dbf1ff;--sapContent_Illustrative_Color8: #fff;--sapContent_Illustrative_Color9: #0899a7;--sapContent_Illustrative_Color10: #dbf1ff;--sapContent_Illustrative_Color11: #df1278;--sapContent_Illustrative_Color12: #00a800;--sapContent_Illustrative_Color13: #0070f2;--sapContent_Illustrative_Color14: #0040b0;--sapContent_Illustrative_Color15: #c35500;--sapContent_Illustrative_Color16: #8d2a00;--sapContent_Illustrative_Color17: #046c7c;--sapContent_Illustrative_Color18: #bce5ff;--sapContent_Illustrative_Color19: #a3dbff;--sapContent_Illustrative_Color20: #89d1ff;--sapContent_Illustrative_Color21: #1b90ff;--sapContent_Illustrative_Color22: #00144a;--sapContent_Illustrative_Color23: #d20a0a;--sapContent_Illustrative_Color24: #ffb2d2;--sapContent_Illustrative_Color25: #ffeaf4;--sapContent_Illustrative_Color26: #ffdf72;--sapContent_Illustrative_Color27: #fff8d6;--sapContent_Illustrative_Color28: #a93e00;--sapContent_Illustrative_Color29: #450b00;--sapContent_Illustrative_Color30: #340800;--sapContent_Illustrative_Color31: #ffab92;--sapContent_Space_S: 1rem;--sapContent_Space_M: 2rem;--sapContent_Space_L: 2rem;--sapContent_Space_XL: 3rem;--sapContent_Space_Tiny: 2rem;--sapContent_Space_Small: 1rem;--sapContent_Space_Medium: 2rem;--sapContent_Space_Large: 3rem;--sapContent_Margin_Tiny: 0 0 1rem;--sapContent_Margin_Small: 1rem;--sapContent_Margin_Medium: 1rem 2rem;--sapContent_Margin_Large: 1rem;--sapContent_Padding_S: 0rem;--sapContent_Padding_M: 2rem;--sapContent_Padding_L: 2rem;--sapContent_Padding_XL: 3rem;--sapContent_Gap: 1rem;--sapContent_Success_HeaderShadow: 0 .125rem .125rem 0 rgba(34,53,72,.05), inset 0 -.0625rem 0 0 #30914c;--sapContent_Warning_HeaderShadow: 0 .125rem .125rem 0 rgba(34,53,72,.05), inset 0 -.0625rem 0 0 #dd6100;--sapContent_Error_HeaderShadow: 0 .125rem .125rem 0 rgba(34,53,72,.05), inset 0 -.0625rem 0 0 #e90b0b;--sapContent_Information_HeaderShadow: 0 .125rem .125rem 0 rgba(34,53,72,.05), inset 0 -.0625rem 0 0 #0070f2;--sapFontLightFamily: "72-Light", "72-Lightfull", "72", "72full", Arial, Helvetica, sans-serif;--sapFontBoldFamily: "72-Bold", "72-Boldfull", "72", "72full", Arial, Helvetica, sans-serif;--sapFontSemiboldFamily: "72-Semibold", "72-Semiboldfull", "72", "72full", Arial, Helvetica, sans-serif;--sapFontSemiboldDuplexFamily: "72-SemiboldDuplex", "72-SemiboldDuplexfull", "72", "72full", Arial, Helvetica, sans-serif;--sapFontBlackFamily: "72Black", "72Blackfull","72", "72full", Arial, Helvetica, sans-serif;--sapFontHeaderFamily: "72-Bold", "72-Boldfull", "72", "72full", Arial, Helvetica, sans-serif;--sapFontSmallSize: .75rem;--sapFontLargeSize: 1rem;--sapFontHeader1Size: 3rem;--sapFontHeader2Size: 2rem;--sapFontHeader3Size: 1.5rem;--sapFontHeader4Size: 1.25rem;--sapFontHeader5Size: 1rem;--sapFontHeader6Size: .875rem;--sapLink_TextDecoration: none;--sapLink_Hover_Color: #0064d9;--sapLink_Hover_TextDecoration: underline;--sapLink_Active_Color: #0064d9;--sapLink_Active_TextDecoration: none;--sapLink_Visited_Color: #0064d9;--sapLink_InvertedColor: #a6cfff;--sapLink_SubtleColor: #1d2d3e;--sapShell_Background: #eff1f2;--sapShell_BackgroundImage: linear-gradient(to bottom, #eff1f2, #eff1f2);--sapShell_BackgroundImageOpacity: 1;--sapShell_BackgroundImageRepeat: false;--sapShell_BorderColor: #fff;--sapShell_TextColor: #1d2d3e;--sapShell_InteractiveBackground: #eff1f2;--sapShell_InteractiveTextColor: #1d2d3e;--sapShell_InteractiveBorderColor: #556b81;--sapShell_GroupTitleTextColor: #1d2d3e;--sapShell_GroupTitleTextShadow: 0 0 .125rem #fff;--sapShell_Hover_Background: #fff;--sapShell_Active_Background: #fff;--sapShell_Active_TextColor: #0070f2;--sapShell_Selected_Background: #fff;--sapShell_Selected_TextColor: #0070f2;--sapShell_Selected_Hover_Background: #fff;--sapShell_Favicon: none;--sapShell_Navigation_Background: #fff;--sapShell_Navigation_Hover_Background: #fff;--sapShell_Navigation_SelectedColor: #0064d9;--sapShell_Navigation_Selected_TextColor: #0064d9;--sapShell_Navigation_TextColor: #1d2d3e;--sapShell_Navigation_Active_TextColor: #0064d9;--sapShell_Navigation_Active_Background: #fff;--sapShell_Shadow: 0 .125rem .125rem 0 rgba(34,53,72,.15), inset 0 -.0625rem 0 0 rgba(34,53,72,.2);--sapShell_NegativeColor: #aa0808;--sapShell_CriticalColor: #b44f00;--sapShell_PositiveColor: #256f3a;--sapShell_InformativeColor: #0064d9;--sapShell_NeutralColor: #1d2d3e;--sapShell_Assistant_ForegroundColor: #5d36ff;--sapShell_SubBrand_TextColor: #003e87;--sapShell_Category_1_Background: #0057d2;--sapShell_Category_1_BorderColor: #0057d2;--sapShell_Category_1_TextColor: #fff;--sapShell_Category_1_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_2_Background: #df1278;--sapShell_Category_2_BorderColor: #df1278;--sapShell_Category_2_TextColor: #fff;--sapShell_Category_2_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_3_Background: #e76500;--sapShell_Category_3_BorderColor: #e76500;--sapShell_Category_3_TextColor: #fff;--sapShell_Category_3_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_4_Background: #7800a4;--sapShell_Category_4_BorderColor: #7800a4;--sapShell_Category_4_TextColor: #fff;--sapShell_Category_4_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_5_Background: #aa2608;--sapShell_Category_5_BorderColor: #aa2608;--sapShell_Category_5_TextColor: #fff;--sapShell_Category_5_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_6_Background: #07838f;--sapShell_Category_6_BorderColor: #07838f;--sapShell_Category_6_TextColor: #fff;--sapShell_Category_6_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_7_Background: #f31ded;--sapShell_Category_7_BorderColor: #f31ded;--sapShell_Category_7_TextColor: #fff;--sapShell_Category_7_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_8_Background: #188918;--sapShell_Category_8_BorderColor: #188918;--sapShell_Category_8_TextColor: #fff;--sapShell_Category_8_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_9_Background: #002a86;--sapShell_Category_9_BorderColor: #002a86;--sapShell_Category_9_TextColor: #fff;--sapShell_Category_9_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_10_Background: #5b738b;--sapShell_Category_10_BorderColor: #5b738b;--sapShell_Category_10_TextColor: #fff;--sapShell_Category_10_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_11_Background: #d20a0a;--sapShell_Category_11_BorderColor: #d20a0a;--sapShell_Category_11_TextColor: #fff;--sapShell_Category_11_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_12_Background: #7858ff;--sapShell_Category_12_BorderColor: #7858ff;--sapShell_Category_12_TextColor: #fff;--sapShell_Category_12_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_13_Background: #a00875;--sapShell_Category_13_BorderColor: #a00875;--sapShell_Category_13_TextColor: #fff;--sapShell_Category_13_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_14_Background: #14565b;--sapShell_Category_14_BorderColor: #14565b;--sapShell_Category_14_TextColor: #fff;--sapShell_Category_14_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_15_Background: #223548;--sapShell_Category_15_BorderColor: #223548;--sapShell_Category_15_TextColor: #fff;--sapShell_Category_15_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Category_16_Background: #1e592f;--sapShell_Category_16_BorderColor: #1e592f;--sapShell_Category_16_TextColor: #fff;--sapShell_Category_16_TextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapShell_Space_S: .5rem;--sapShell_Space_M: 2rem;--sapShell_Space_L: 2rem;--sapShell_Space_XL: 3rem;--sapShell_Gap_S: .5rem;--sapShell_Gap_M: 1rem;--sapShell_Gap_L: 1rem;--sapShell_Gap_XL: 1rem;--sapShell_GroupGap_S: 2rem;--sapShell_GroupGap_M: 3rem;--sapShell_GroupGap_L: 3rem;--sapShell_GroupGap_XL: 3rem;--sapAssistant_Color1: #5d36ff;--sapAssistant_Color2: #a100c2;--sapAssistant_BackgroundGradient: linear-gradient(#5d36ff, #a100c2);--sapAssistant_Background: #5d36ff;--sapAssistant_BorderColor: #5d36ff;--sapAssistant_TextColor: #fff;--sapAssistant_Hover_Background: #2800cf;--sapAssistant_Hover_BorderColor: #2800cf;--sapAssistant_Hover_TextColor: #fff;--sapAssistant_Active_Background: #fff;--sapAssistant_Active_BorderColor: #5d36ff;--sapAssistant_Active_TextColor: #5d36ff;--sapAssistant_Question_Background: #eae5ff;--sapAssistant_Question_BorderColor: #eae5ff;--sapAssistant_Question_TextColor: #1d2d3e;--sapAssistant_Answer_Background: #eff1f2;--sapAssistant_Answer_BorderColor: #eff1f2;--sapAssistant_Answer_TextColor: #1d2d3e;--sapAvatar_1_Background: #fff3b8;--sapAvatar_1_BorderColor: #fff3b8;--sapAvatar_1_TextColor: #a45d00;--sapAvatar_1_Hover_Background: #fff3b8;--sapAvatar_2_Background: #ffd0e7;--sapAvatar_2_BorderColor: #ffd0e7;--sapAvatar_2_TextColor: #aa0808;--sapAvatar_2_Hover_Background: #ffd0e7;--sapAvatar_3_Background: #ffdbe7;--sapAvatar_3_BorderColor: #ffdbe7;--sapAvatar_3_TextColor: #ba066c;--sapAvatar_3_Hover_Background: #ffdbe7;--sapAvatar_4_Background: #ffdcf3;--sapAvatar_4_BorderColor: #ffdcf3;--sapAvatar_4_TextColor: #a100c2;--sapAvatar_4_Hover_Background: #ffdcf3;--sapAvatar_5_Background: #ded3ff;--sapAvatar_5_BorderColor: #ded3ff;--sapAvatar_5_TextColor: #552cff;--sapAvatar_5_Hover_Background: #ded3ff;--sapAvatar_6_Background: #d1efff;--sapAvatar_6_BorderColor: #d1efff;--sapAvatar_6_TextColor: #0057d2;--sapAvatar_6_Hover_Background: #d1efff;--sapAvatar_7_Background: #c2fcee;--sapAvatar_7_BorderColor: #c2fcee;--sapAvatar_7_TextColor: #046c7a;--sapAvatar_7_Hover_Background: #c2fcee;--sapAvatar_8_Background: #ebf5cb;--sapAvatar_8_BorderColor: #ebf5cb;--sapAvatar_8_TextColor: #256f3a;--sapAvatar_8_Hover_Background: #ebf5cb;--sapAvatar_9_Background: #ddccf0;--sapAvatar_9_BorderColor: #ddccf0;--sapAvatar_9_TextColor: #6c32a9;--sapAvatar_9_Hover_Background: #ddccf0;--sapAvatar_10_Background: #eaecee;--sapAvatar_10_BorderColor: #eaecee;--sapAvatar_10_TextColor: #556b82;--sapAvatar_10_Hover_Background: #eaecee;--sapAvatar_Lite_BorderColor: transparent;--sapAvatar_Lite_Background: transparent;--sapAvatar_Hover_BorderColor: rgba(85,107,129,.25);--sapButton_Background: #fff;--sapButton_BorderColor: #bcc3ca;--sapButton_BorderWidth: .0625rem;--sapButton_BorderCornerRadius: .5rem;--sapButton_TextColor: #0064d9;--sapButton_FontFamily: "72-SemiboldDuplex", "72-SemiboldDuplexfull", "72", "72full", Arial, Helvetica, sans-serif;--sapButton_Hover_Background: #eaecee;--sapButton_Hover_BorderColor: #bcc3ca;--sapButton_Hover_TextColor: #0064d9;--sapButton_IconColor: #0064d9;--sapButton_Active_Background: #fff;--sapButton_Active_BorderColor: #0064d9;--sapButton_Active_TextColor: #0064d9;--sapButton_Emphasized_Background: #0070f2;--sapButton_Emphasized_BorderColor: #0070f2;--sapButton_Emphasized_BorderWidth: .0625rem;--sapButton_Emphasized_TextColor: #fff;--sapButton_Emphasized_FontFamily: "72-Bold", "72-Boldfull", "72", "72full", Arial, Helvetica, sans-serif;--sapButton_Emphasized_Hover_Background: #0064d9;--sapButton_Emphasized_Hover_BorderColor: #0064d9;--sapButton_Emphasized_Hover_TextColor: #fff;--sapButton_Emphasized_Active_Background: #fff;--sapButton_Emphasized_Active_BorderColor: #0064d9;--sapButton_Emphasized_Active_TextColor: #0064d9;--sapButton_Emphasized_TextShadow: transparent;--sapButton_Emphasized_FontWeight: bold;--sapButton_Reject_Background: #ffd6e9;--sapButton_Reject_BorderColor: #ffc2de;--sapButton_Reject_TextColor: #aa0808;--sapButton_Reject_Hover_Background: #ffbddb;--sapButton_Reject_Hover_BorderColor: #ffbddb;--sapButton_Reject_Hover_TextColor: #aa0808;--sapButton_Reject_Active_Background: #fff;--sapButton_Reject_Active_BorderColor: #e90b0b;--sapButton_Reject_Active_TextColor: #aa0808;--sapButton_Reject_Selected_Background: #fff;--sapButton_Reject_Selected_BorderColor: #e90b0b;--sapButton_Reject_Selected_TextColor: #aa0808;--sapButton_Reject_Selected_Hover_Background: #ffbddb;--sapButton_Reject_Selected_Hover_BorderColor: #e90b0b;--sapButton_Accept_Background: #ebf5cb;--sapButton_Accept_BorderColor: #dbeda0;--sapButton_Accept_TextColor: #256f3a;--sapButton_Accept_Hover_Background: #e3f1b6;--sapButton_Accept_Hover_BorderColor: #e3f1b6;--sapButton_Accept_Hover_TextColor: #256f3a;--sapButton_Accept_Active_Background: #fff;--sapButton_Accept_Active_BorderColor: #30914c;--sapButton_Accept_Active_TextColor: #256f3a;--sapButton_Accept_Selected_Background: #fff;--sapButton_Accept_Selected_BorderColor: #30914c;--sapButton_Accept_Selected_TextColor: #256f3a;--sapButton_Accept_Selected_Hover_Background: #e3f1b6;--sapButton_Accept_Selected_Hover_BorderColor: #30914c;--sapButton_Lite_Background: transparent;--sapButton_Lite_BorderColor: transparent;--sapButton_Lite_TextColor: #0064d9;--sapButton_Lite_Hover_Background: #eaecee;--sapButton_Lite_Hover_BorderColor: #bcc3ca;--sapButton_Lite_Hover_TextColor: #0064d9;--sapButton_Lite_Active_Background: #fff;--sapButton_Lite_Active_BorderColor: #0064d9;--sapButton_Selected_Background: #edf6ff;--sapButton_Selected_BorderColor: #0064d9;--sapButton_Selected_TextColor: #0064d9;--sapButton_Selected_Hover_Background: #d9ecff;--sapButton_Selected_Hover_BorderColor: #0064d9;--sapButton_Attention_Background: #fff3b7;--sapButton_Attention_BorderColor: #ffeb84;--sapButton_Attention_TextColor: #b44f00;--sapButton_Attention_Hover_Background: #ffef9e;--sapButton_Attention_Hover_BorderColor: #ffef9e;--sapButton_Attention_Hover_TextColor: #b44f00;--sapButton_Attention_Active_Background: #fff;--sapButton_Attention_Active_BorderColor: #dd6100;--sapButton_Attention_Active_TextColor: #b44f00;--sapButton_Attention_Selected_Background: #fff;--sapButton_Attention_Selected_BorderColor: #dd6100;--sapButton_Attention_Selected_TextColor: #b44f00;--sapButton_Attention_Selected_Hover_Background: #ffef9e;--sapButton_Attention_Selected_Hover_BorderColor: #dd6100;--sapButton_Negative_Background: #f53232;--sapButton_Negative_BorderColor: #f53232;--sapButton_Negative_TextColor: #fff;--sapButton_Negative_Hover_Background: #e90b0b;--sapButton_Negative_Hover_BorderColor: #e90b0b;--sapButton_Negative_Hover_TextColor: #fff;--sapButton_Negative_Active_Background: #fff;--sapButton_Negative_Active_BorderColor: #f53232;--sapButton_Negative_Active_TextColor: #aa0808;--sapButton_Critical_Background: #e76500;--sapButton_Critical_BorderColor: #e76500;--sapButton_Critical_TextColor: #fff;--sapButton_Critical_Hover_Background: #dd6100;--sapButton_Critical_Hover_BorderColor: #dd6100;--sapButton_Critical_Hover_TextColor: #fff;--sapButton_Critical_Active_Background: #fff;--sapButton_Critical_Active_BorderColor: #dd6100;--sapButton_Critical_Active_TextColor: #b44f00;--sapButton_Success_Background: #30914c;--sapButton_Success_BorderColor: #30914c;--sapButton_Success_TextColor: #fff;--sapButton_Success_Hover_Background: #2c8646;--sapButton_Success_Hover_BorderColor: #2c8646;--sapButton_Success_Hover_TextColor: #fff;--sapButton_Success_Active_Background: #fff;--sapButton_Success_Active_BorderColor: #30914c;--sapButton_Success_Active_TextColor: #256f3a;--sapButton_Information_Background: #e8f3ff;--sapButton_Information_BorderColor: #b5d8ff;--sapButton_Information_TextColor: #0064d9;--sapButton_Information_Hover_Background: #d4e8ff;--sapButton_Information_Hover_BorderColor: #b5d8ff;--sapButton_Information_Hover_TextColor: #0064d9;--sapButton_Information_Active_Background: #fff;--sapButton_Information_Active_BorderColor: #0064d9;--sapButton_Information_Active_TextColor: #0064d9;--sapButton_Neutral_Background: #e8f3ff;--sapButton_Neutral_BorderColor: #b5d8ff;--sapButton_Neutral_TextColor: #0064d9;--sapButton_Neutral_Hover_Background: #d4e8ff;--sapButton_Neutral_Hover_BorderColor: #b5d8ff;--sapButton_Neutral_Hover_TextColor: #0064d9;--sapButton_Neutral_Active_Background: #fff;--sapButton_Neutral_Active_BorderColor: #0064d9;--sapButton_Neutral_Active_TextColor: #0064d9;--sapButton_Track_Background: #788fa6;--sapButton_Track_BorderColor: #788fa6;--sapButton_Track_TextColor: #fff;--sapButton_Track_Hover_Background: #637d97;--sapButton_Track_Hover_BorderColor: #637d97;--sapButton_Track_Selected_Background: #0064d9;--sapButton_Track_Selected_BorderColor: #0064d9;--sapButton_Track_Selected_TextColor: #fff;--sapButton_Track_Selected_Hover_Background: #0058c0;--sapButton_Track_Selected_Hover_BorderColor: #0058c0;--sapButton_Handle_Background: #fff;--sapButton_Handle_BorderColor: #fff;--sapButton_Handle_TextColor: #1d2d3e;--sapButton_Handle_Hover_Background: #fff;--sapButton_Handle_Hover_BorderColor: rgba(255,255,255,.5);--sapButton_Handle_Selected_Background: #edf6ff;--sapButton_Handle_Selected_BorderColor: #edf6ff;--sapButton_Handle_Selected_TextColor: #0064d9;--sapButton_Handle_Selected_Hover_Background: #edf6ff;--sapButton_Handle_Selected_Hover_BorderColor: rgba(237,246,255,.5);--sapButton_Track_Negative_Background: #f53232;--sapButton_Track_Negative_BorderColor: #f53232;--sapButton_Track_Negative_TextColor: #fff;--sapButton_Track_Negative_Hover_Background: #e90b0b;--sapButton_Track_Negative_Hover_BorderColor: #e90b0b;--sapButton_Handle_Negative_Background: #fff;--sapButton_Handle_Negative_BorderColor: #fff;--sapButton_Handle_Negative_TextColor: #aa0808;--sapButton_Handle_Negative_Hover_Background: #fff;--sapButton_Handle_Negative_Hover_BorderColor: rgba(255,255,255,.5);--sapButton_Track_Positive_Background: #30914c;--sapButton_Track_Positive_BorderColor: #30914c;--sapButton_Track_Positive_TextColor: #fff;--sapButton_Track_Positive_Hover_Background: #2c8646;--sapButton_Track_Positive_Hover_BorderColor: #2c8646;--sapButton_Handle_Positive_Background: #fff;--sapButton_Handle_Positive_BorderColor: #fff;--sapButton_Handle_Positive_TextColor: #256f3a;--sapButton_Handle_Positive_Hover_Background: #fff;--sapButton_Handle_Positive_Hover_BorderColor: rgba(255,255,255,.5);--sapButton_TokenBackground: #fff;--sapButton_TokenBorderColor: #bcc3ca;--sapButton_TokenBorderCornerRadius: .375rem;--sapButton_Selected_TokenBorderWidth: .125rem;--sapButton_ReadOnly_TokenBackground: #fff;--sapButton_Segment_BorderCornerRadius: .5rem;--sapField_Background: #fff;--sapField_BackgroundStyle: 0 100% / 100% .0625rem no-repeat linear-gradient(0deg, #556b81, #556b81) border-box;--sapField_TextColor: #131e29;--sapField_PlaceholderTextColor: #556b82;--sapField_BorderColor: #556b81;--sapField_HelpBackground: #fff;--sapField_BorderWidth: .0625rem;--sapField_BorderStyle: none;--sapField_BorderCornerRadius: .25rem;--sapField_Shadow: inset 0 0 0 .0625rem rgba(85,107,129,.25);--sapField_Hover_Background: #fff;--sapField_Hover_BackgroundStyle: 0 100% / 100% .0625rem no-repeat linear-gradient(0deg, #0064d9, #0064d9) border-box;--sapField_Hover_BorderColor: #0064d9;--sapField_Hover_HelpBackground: #fff;--sapField_Hover_Shadow: inset 0 0 0 .0625rem rgba(79,160,255,.5);--sapField_Hover_InvalidShadow: inset 0 0 0 .0625rem rgba(255,142,196,.45);--sapField_Hover_WarningShadow: inset 0 0 0 .0625rem rgba(255,213,10,.4);--sapField_Hover_SuccessShadow: inset 0 0 0 .0625rem rgba(48,145,76,.18);--sapField_Hover_InformationShadow: inset 0 0 0 .0625rem rgba(104,174,255,.5);--sapField_Active_BorderColor: #0064d9;--sapField_Focus_Background: #fff;--sapField_Focus_BorderColor: #0032a5;--sapField_Focus_HelpBackground: #fff;--sapField_ReadOnly_Background: #eaecee;--sapField_ReadOnly_BackgroundStyle: 0 100% / .375rem .0625rem repeat-x linear-gradient(90deg, #556b81 0, #556b81 .25rem, transparent .25rem) border-box;--sapField_ReadOnly_BorderColor: #556b81;--sapField_ReadOnly_BorderStyle: none;--sapField_ReadOnly_HelpBackground: #eaecee;--sapField_RequiredColor: #ba066c;--sapField_InvalidColor: #e90b0b;--sapField_InvalidBackground: #ffeaf4;--sapField_InvalidBackgroundStyle: 0 100% / 100% .125rem no-repeat linear-gradient(0deg, #e90b0b, #e90b0b) border-box;--sapField_InvalidBorderWidth: .125rem;--sapField_InvalidBorderStyle: none;--sapField_InvalidShadow: inset 0 0 0 .0625rem rgba(255,142,196,.45);--sapField_WarningColor: #dd6100;--sapField_WarningBackground: #fff8d6;--sapField_WarningBackgroundStyle: 0 100% / 100% .125rem no-repeat linear-gradient(0deg, #dd6100, #dd6100) border-box;--sapField_WarningBorderWidth: .125rem;--sapField_WarningBorderStyle: none;--sapField_WarningShadow: inset 0 0 0 .0625rem rgba(255,213,10,.4);--sapField_SuccessColor: #30914c;--sapField_SuccessBackground: #f5fae5;--sapField_SuccessBackgroundStyle: 0 100% / 100% .0625rem no-repeat linear-gradient(0deg, #30914c, #30914c) border-box;--sapField_SuccessBorderWidth: .0625rem;--sapField_SuccessBorderStyle: none;--sapField_SuccessShadow: inset 0 0 0 .0625rem rgba(48,145,76,.18);--sapField_InformationColor: #0070f2;--sapField_InformationBackground: #e1f4ff;--sapField_InformationBackgroundStyle: 0 100% / 100% .125rem no-repeat linear-gradient(0deg, #0070f2, #0070f2) border-box;--sapField_InformationBorderWidth: .125rem;--sapField_InformationBorderStyle: none;--sapField_InformationShadow: inset 0 0 0 .0625rem rgba(104,174,255,.5);--sapField_Selector_Hover_Background: #e3f0ff;--sapField_Selector_Hover_InvalidBackground: #fff;--sapField_Selector_Hover_WarningBackground: #fff;--sapField_Selector_Hover_SuccessBackground: #fff;--sapField_Selector_Hover_InformationBackground: #fff;--sapField_Picker_BorderColor: #556b81;--sapField_Picker_BorderWidth: .0625rem;--sapField_Selector_BorderStyle: solid;--sapField_Selector_ReadOnly_BorderStyle: dashed;--sapField_Selector_InvalidBorderStyle: solid;--sapField_Selector_WarningBorderStyle: solid;--sapField_Selector_SuccessBorderStyle: solid;--sapField_Selector_InformationBorderStyle: solid;--sapGroup_TitleBorderWidth: .0625rem;--sapGroup_TitleBackground: #fff;--sapGroup_TitleBorderColor: #a8b2bd;--sapGroup_TitleTextColor: #1d2d3e;--sapGroup_Title_FontSize: 1rem;--sapGroup_ContentBackground: #fff;--sapGroup_ContentBorderColor: #d9d9d9;--sapGroup_BorderWidth: .0625rem;--sapGroup_BorderCornerRadius: .75rem;--sapGroup_FooterBackground: transparent;--sapToolbar_Background: #fff;--sapToolbar_SeparatorColor: #d9d9d9;--sapList_HeaderBackground: #fff;--sapList_HeaderBorderColor: #a8b2bd;--sapList_HeaderTextColor: #1d2d3e;--sapList_BorderColor: #e5e5e5;--sapList_BorderWidth: .0625rem;--sapList_TextColor: #1d2d3e;--sapList_Active_TextColor: #1d2d3e;--sapList_Active_Background: #dee2e5;--sapList_SelectionBackgroundColor: #ebf8ff;--sapList_SelectionBorderColor: #0064d9;--sapList_Hover_SelectionBackground: #dcf3ff;--sapList_Background: #fff;--sapList_Hover_Background: #eaecee;--sapList_AlternatingBackground: #f5f6f7;--sapList_GroupHeaderBackground: #fff;--sapList_GroupHeaderBorderColor: #a8b2bd;--sapList_GroupHeaderTextColor: #1d2d3e;--sapList_TableGroupHeaderBackground: #eff1f2;--sapList_TableGroupHeaderBorderColor: #a8b2bd;--sapList_TableGroupHeaderTextColor: #1d2d3e;--sapList_FooterBackground: #fff;--sapList_FooterTextColor: #1d2d3e;--sapList_TableFooterBorder: #a8b2bd;--sapList_TableFixedBorderColor: #8c8c8c;--sapList_TableFixedColumnBorderWidth: .0625rem;--sapList_TableFixedRowBorderWidth: .125rem;--sapMessage_BorderWidth: .0625rem;--sapMessage_ErrorBorderColor: #ff8ec4;--sapMessage_WarningBorderColor: #ffe770;--sapMessage_SuccessBorderColor: #cee67e;--sapMessage_InformationBorderColor: #7bcfff;--sapMessage_Button_Hover_Background: rgba(234,236,238,.2);--sapPopover_BorderCornerRadius: .5rem;--sapProgress_Background: #d5dadd;--sapProgress_BorderColor: #d5dadd;--sapProgress_TextColor: #1d2d3e;--sapProgress_FontSize: .875rem;--sapProgress_NegativeBackground: #ffdbec;--sapProgress_NegativeBorderColor: #ffdbec;--sapProgress_NegativeTextColor: #1d2d3e;--sapProgress_CriticalBackground: #fff4bd;--sapProgress_CriticalBorderColor: #fff4bd;--sapProgress_CriticalTextColor: #1d2d3e;--sapProgress_PositiveBackground: #e5f2ba;--sapProgress_PositiveBorderColor: #e5f2ba;--sapProgress_PositiveTextColor: #1d2d3e;--sapProgress_InformationBackground: #cdedff;--sapProgress_InformationBorderColor: #cdedff;--sapProgress_InformationTextColor: #1d2d3e;--sapProgress_Value_Background: #617b94;--sapProgress_Value_BorderColor: #617b94;--sapProgress_Value_TextColor: #788fa6;--sapProgress_Value_NegativeBackground: #f53232;--sapProgress_Value_NegativeBorderColor: #f53232;--sapProgress_Value_NegativeTextColor: #f53232;--sapProgress_Value_CriticalBackground: #e76500;--sapProgress_Value_CriticalBorderColor: #e76500;--sapProgress_Value_CriticalTextColor: #e76500;--sapProgress_Value_PositiveBackground: #30914c;--sapProgress_Value_PositiveBorderColor: #30914c;--sapProgress_Value_PositiveTextColor: #30914c;--sapProgress_Value_InformationBackground: #0070f2;--sapProgress_Value_InformationBorderColor: #0070f2;--sapProgress_Value_InformationTextColor: #0070f2;--sapScrollBar_FaceColor: #7b91a8;--sapScrollBar_TrackColor: #fff;--sapScrollBar_BorderColor: #7b91a8;--sapScrollBar_SymbolColor: #0064d9;--sapScrollBar_Dimension: .75rem;--sapScrollBar_Hover_FaceColor: #5b728b;--sapSlider_Background: #d5dadd;--sapSlider_BorderColor: #d5dadd;--sapSlider_Selected_Background: #0064d9;--sapSlider_Selected_BorderColor: #0064d9;--sapSlider_Selected_Dimension: 111px;--sapSlider_HandleBackground: #fff;--sapSlider_HandleBorderColor: #b0d5ff;--sapSlider_RangeHandleBackground: #fff;--sapSlider_Hover_HandleBackground: #d9ecff;--sapSlider_Hover_HandleBorderColor: #b0d5ff;--sapSlider_Hover_RangeHandleBackground: #d9ecff;--sapSlider_Active_HandleBackground: #fff;--sapSlider_Active_HandleBorderColor: #0064d9;--sapSlider_Active_RangeHandleBackground: transparent;--sapPageHeader_Background: #fff;--sapPageHeader_BorderColor: #d9d9d9;--sapPageHeader_TextColor: #1d2d3e;--sapPageFooter_Background: #fff;--sapPageFooter_BorderColor: #d9d9d9;--sapPageFooter_TextColor: #1d2d3e;--sapInfobar_Background: #c2fcee;--sapInfobar_Hover_Background: #fff;--sapInfobar_Active_Background: #fff;--sapInfobar_NonInteractive_Background: #f5f6f7;--sapInfobar_TextColor: #046c7a;--sapObjectHeader_Background: #fff;--sapObjectHeader_Hover_Background: #eaecee;--sapObjectHeader_BorderColor: #d9d9d9;--sapObjectHeader_Title_TextColor: #1d2d3e;--sapObjectHeader_Title_FontSize: 1.5rem;--sapObjectHeader_Title_SnappedFontSize: 1.25rem;--sapObjectHeader_Title_FontFamily: "72Black", "72Blackfull","72", "72full", Arial, Helvetica, sans-serif;--sapObjectHeader_Subtitle_TextColor: #556b82;--sapBlockLayer_Background: #000;--sapBlockLayer_Opacity: .2;--sapTab_TextColor: #1d2d3e;--sapTab_ForegroundColor: #0064d9;--sapTab_IconColor: #0064d9;--sapTab_Background: #fff;--sapTab_Selected_TextColor: #0064d9;--sapTab_Selected_IconColor: #fff;--sapTab_Selected_Background: #0064d9;--sapTab_Selected_Indicator_Dimension: .1875rem;--sapTab_Positive_TextColor: #256f3a;--sapTab_Positive_ForegroundColor: #30914c;--sapTab_Positive_IconColor: #30914c;--sapTab_Positive_Selected_TextColor: #256f3a;--sapTab_Positive_Selected_IconColor: #fff;--sapTab_Positive_Selected_Background: #30914c;--sapTab_Negative_TextColor: #aa0808;--sapTab_Negative_ForegroundColor: #f53232;--sapTab_Negative_IconColor: #f53232;--sapTab_Negative_Selected_TextColor: #aa0808;--sapTab_Negative_Selected_IconColor: #fff;--sapTab_Negative_Selected_Background: #f53232;--sapTab_Critical_TextColor: #b44f00;--sapTab_Critical_ForegroundColor: #e76500;--sapTab_Critical_IconColor: #e76500;--sapTab_Critical_Selected_TextColor: #b44f00;--sapTab_Critical_Selected_IconColor: #fff;--sapTab_Critical_Selected_Background: #e76500;--sapTab_Neutral_TextColor: #1d2d3e;--sapTab_Neutral_ForegroundColor: #788fa6;--sapTab_Neutral_IconColor: #788fa6;--sapTab_Neutral_Selected_TextColor: #1d2d3e;--sapTab_Neutral_Selected_IconColor: #fff;--sapTab_Neutral_Selected_Background: #788fa6;--sapTile_Background: #fff;--sapTile_Hover_Background: #eaecee;--sapTile_Active_Background: #dee2e5;--sapTile_BorderColor: transparent;--sapTile_BorderCornerRadius: 1rem;--sapTile_TitleTextColor: #1d2d3e;--sapTile_TextColor: #556b82;--sapTile_IconColor: #556b82;--sapTile_SeparatorColor: #ccc;--sapTile_Interactive_BorderColor: #b3b3b3;--sapTile_OverlayBackground: #fff;--sapTile_OverlayForegroundColor: #1d2d3e;--sapTile_Hover_ContentBackground: #fff;--sapTile_Active_ContentBackground: #fff;--sapAccentColor1: #d27700;--sapAccentColor2: #aa0808;--sapAccentColor3: #ba066c;--sapAccentColor4: #a100c2;--sapAccentColor5: #5d36ff;--sapAccentColor6: #0057d2;--sapAccentColor7: #046c7a;--sapAccentColor8: #256f3a;--sapAccentColor9: #6c32a9;--sapAccentColor10: #5b738b;--sapAccentBackgroundColor1: #fff3b8;--sapAccentBackgroundColor2: #ffd0e7;--sapAccentBackgroundColor3: #ffdbe7;--sapAccentBackgroundColor4: #ffdcf3;--sapAccentBackgroundColor5: #ded3ff;--sapAccentBackgroundColor6: #d1efff;--sapAccentBackgroundColor7: #c2fcee;--sapAccentBackgroundColor8: #ebf5cb;--sapAccentBackgroundColor9: #ddccf0;--sapAccentBackgroundColor10: #eaecee;--sapIndicationColor_1: #840606;--sapIndicationColor_1_Background: #840606;--sapIndicationColor_1_BorderColor: #840606;--sapIndicationColor_1_TextColor: #fff;--sapIndicationColor_1_Hover_Background: #6c0505;--sapIndicationColor_1_Active_Background: #fff;--sapIndicationColor_1_Active_BorderColor: #fb9d9d;--sapIndicationColor_1_Active_TextColor: #840606;--sapIndicationColor_1_Selected_Background: #fff;--sapIndicationColor_1_Selected_BorderColor: #fb9d9d;--sapIndicationColor_1_Selected_TextColor: #840606;--sapIndicationColor_1b: #fb9d9d;--sapIndicationColor_1b_TextColor: #830707;--sapIndicationColor_1b_Background: #fb9d9d;--sapIndicationColor_1b_BorderColor: #fb9d9d;--sapIndicationColor_1b_Hover_Background: #fa8585;--sapIndicationColor_2: #aa0808;--sapIndicationColor_2_Background: #aa0808;--sapIndicationColor_2_BorderColor: #aa0808;--sapIndicationColor_2_TextColor: #fff;--sapIndicationColor_2_Hover_Background: #920707;--sapIndicationColor_2_Active_Background: #fff;--sapIndicationColor_2_Active_BorderColor: #fcc4c4;--sapIndicationColor_2_Active_TextColor: #aa0808;--sapIndicationColor_2_Selected_Background: #fff;--sapIndicationColor_2_Selected_BorderColor: #fcc4c4;--sapIndicationColor_2_Selected_TextColor: #aa0808;--sapIndicationColor_2b: #fcc4c4;--sapIndicationColor_2b_TextColor: #a90909;--sapIndicationColor_2b_Background: #fcc4c4;--sapIndicationColor_2b_BorderColor: #fcc4c4;--sapIndicationColor_2b_Hover_Background: #fbacac;--sapIndicationColor_3: #b95100;--sapIndicationColor_3_Background: #e76500;--sapIndicationColor_3_BorderColor: #e76500;--sapIndicationColor_3_TextColor: #fff;--sapIndicationColor_3_Hover_Background: #d85e00;--sapIndicationColor_3_Active_Background: #fff;--sapIndicationColor_3_Active_BorderColor: #ffdfc3;--sapIndicationColor_3_Active_TextColor: #b95100;--sapIndicationColor_3_Selected_Background: #fff;--sapIndicationColor_3_Selected_BorderColor: #ffdfc3;--sapIndicationColor_3_Selected_TextColor: #b95100;--sapIndicationColor_3b: #ffdfc3;--sapIndicationColor_3b_TextColor: #a44d00;--sapIndicationColor_3b_Background: #ffdfc3;--sapIndicationColor_3b_BorderColor: #ffdfc3;--sapIndicationColor_3b_Hover_Background: #ffd1a9;--sapIndicationColor_4: #256f3a;--sapIndicationColor_4_Background: #256f3a;--sapIndicationColor_4_BorderColor: #256f3a;--sapIndicationColor_4_TextColor: #fff;--sapIndicationColor_4_Hover_Background: #1f5c30;--sapIndicationColor_4_Active_Background: #fff;--sapIndicationColor_4_Active_BorderColor: #bae8bc;--sapIndicationColor_4_Active_TextColor: #256f3a;--sapIndicationColor_4_Selected_Background: #fff;--sapIndicationColor_4_Selected_BorderColor: #bae8bc;--sapIndicationColor_4_Selected_TextColor: #256f3a;--sapIndicationColor_4b: #bae8bc;--sapIndicationColor_4b_TextColor: #256f28;--sapIndicationColor_4b_Background: #bae8bc;--sapIndicationColor_4b_BorderColor: #bae8bc;--sapIndicationColor_4b_Hover_Background: #a7e2a9;--sapIndicationColor_5: #0070f2;--sapIndicationColor_5_Background: #0070f2;--sapIndicationColor_5_BorderColor: #0070f2;--sapIndicationColor_5_TextColor: #fff;--sapIndicationColor_5_Hover_Background: #0064d9;--sapIndicationColor_5_Active_Background: #fff;--sapIndicationColor_5_Active_BorderColor: #d9ebff;--sapIndicationColor_5_Active_TextColor: #0070f2;--sapIndicationColor_5_Selected_Background: #fff;--sapIndicationColor_5_Selected_BorderColor: #d9ebff;--sapIndicationColor_5_Selected_TextColor: #0070f2;--sapIndicationColor_5b: #d9ebff;--sapIndicationColor_5b_TextColor: #0067d9;--sapIndicationColor_5b_Background: #d9ebff;--sapIndicationColor_5b_BorderColor: #d9ebff;--sapIndicationColor_5b_Hover_Background: #c0deff;--sapIndicationColor_6: #046c7a;--sapIndicationColor_6_Background: #046c7a;--sapIndicationColor_6_BorderColor: #046c7a;--sapIndicationColor_6_TextColor: #fff;--sapIndicationColor_6_Hover_Background: #035661;--sapIndicationColor_6_Active_Background: #fff;--sapIndicationColor_6_Active_BorderColor: #cdf5ec;--sapIndicationColor_6_Active_TextColor: #046c7a;--sapIndicationColor_6_Selected_Background: #fff;--sapIndicationColor_6_Selected_BorderColor: #cdf5ec;--sapIndicationColor_6_Selected_TextColor: #046c7a;--sapIndicationColor_6b: #cdf5ec;--sapIndicationColor_6b_TextColor: #156b58;--sapIndicationColor_6b_Background: #cdf5ec;--sapIndicationColor_6b_BorderColor: #cdf5ec;--sapIndicationColor_6b_Hover_Background: #b8f1e4;--sapIndicationColor_7: #5d36ff;--sapIndicationColor_7_Background: #5d36ff;--sapIndicationColor_7_BorderColor: #5d36ff;--sapIndicationColor_7_TextColor: #fff;--sapIndicationColor_7_Hover_Background: #481cff;--sapIndicationColor_7_Active_Background: #fff;--sapIndicationColor_7_Active_BorderColor: #e2dbff;--sapIndicationColor_7_Active_TextColor: #5d36ff;--sapIndicationColor_7_Selected_Background: #fff;--sapIndicationColor_7_Selected_BorderColor: #e2dbff;--sapIndicationColor_7_Selected_TextColor: #5d36ff;--sapIndicationColor_7b: #e2dbff;--sapIndicationColor_7b_TextColor: #5f38ff;--sapIndicationColor_7b_Background: #e2dbff;--sapIndicationColor_7b_BorderColor: #e2dbff;--sapIndicationColor_7b_Hover_Background: #cdc2ff;--sapIndicationColor_8: #a100c2;--sapIndicationColor_8_Background: #a100c2;--sapIndicationColor_8_BorderColor: #a100c2;--sapIndicationColor_8_TextColor: #fff;--sapIndicationColor_8_Hover_Background: #8c00a9;--sapIndicationColor_8_Active_Background: #fff;--sapIndicationColor_8_Active_BorderColor: #f8d6ff;--sapIndicationColor_8_Active_TextColor: #a100c2;--sapIndicationColor_8_Selected_Background: #fff;--sapIndicationColor_8_Selected_BorderColor: #f8d6ff;--sapIndicationColor_8_Selected_TextColor: #a100c2;--sapIndicationColor_8b: #f8d6ff;--sapIndicationColor_8b_TextColor: #a100c2;--sapIndicationColor_8b_Background: #f8d6ff;--sapIndicationColor_8b_BorderColor: #f8d6ff;--sapIndicationColor_8b_Hover_Background: #f4bdff;--sapIndicationColor_9: #1d2d3e;--sapIndicationColor_9_Background: #1d2d3e;--sapIndicationColor_9_BorderColor: #1d2d3e;--sapIndicationColor_9_TextColor: #fff;--sapIndicationColor_9_Hover_Background: #15202d;--sapIndicationColor_9_Active_Background: #fff;--sapIndicationColor_9_Active_BorderColor: #d9d9d9;--sapIndicationColor_9_Active_TextColor: #1d2d3e;--sapIndicationColor_9_Selected_Background: #fff;--sapIndicationColor_9_Selected_BorderColor: #d9d9d9;--sapIndicationColor_9_Selected_TextColor: #1d2d3e;--sapIndicationColor_9b: #fff;--sapIndicationColor_9b_TextColor: #2e2e2e;--sapIndicationColor_9b_Background: #fff;--sapIndicationColor_9b_BorderColor: #d9d9d9;--sapIndicationColor_9b_Hover_Background: #f2f2f2;--sapIndicationColor_10: #45484a;--sapIndicationColor_10_Background: #83888b;--sapIndicationColor_10_BorderColor: #83888b;--sapIndicationColor_10_TextColor: #fff;--sapIndicationColor_10_Hover_Background: #767b7e;--sapIndicationColor_10_Active_Background: #fff;--sapIndicationColor_10_Active_BorderColor: #eaecee;--sapIndicationColor_10_Active_TextColor: #45484a;--sapIndicationColor_10_Selected_Background: #fff;--sapIndicationColor_10_Selected_BorderColor: #eaecee;--sapIndicationColor_10_Selected_TextColor: #45484a;--sapIndicationColor_10b: #eaecee;--sapIndicationColor_10b_TextColor: #464646;--sapIndicationColor_10b_Background: #eaecee;--sapIndicationColor_10b_BorderColor: #eaecee;--sapIndicationColor_10b_Hover_Background: #dcdfe3;--sapLegend_WorkingBackground: #fff;--sapLegend_NonWorkingBackground: #ebebeb;--sapLegend_CurrentDateTime: #a100c2;--sapLegendColor1: #c35500;--sapLegendColor2: #d23a0a;--sapLegendColor3: #df1278;--sapLegendColor4: #840606;--sapLegendColor5: #cc00dc;--sapLegendColor6: #0057d2;--sapLegendColor7: #07838f;--sapLegendColor8: #188918;--sapLegendColor9: #5b738b;--sapLegendColor10: #7800a4;--sapLegendColor11: #a93e00;--sapLegendColor12: #aa2608;--sapLegendColor13: #ba066c;--sapLegendColor14: #8d2a00;--sapLegendColor15: #4e247a;--sapLegendColor16: #002a86;--sapLegendColor17: #035663;--sapLegendColor18: #1e592f;--sapLegendColor19: #1a4796;--sapLegendColor20: #470ced;--sapLegendBackgroundColor1: #ffef9f;--sapLegendBackgroundColor2: #feeae1;--sapLegendBackgroundColor3: #fbf6f8;--sapLegendBackgroundColor4: #fbebeb;--sapLegendBackgroundColor5: #ffe5fe;--sapLegendBackgroundColor6: #d1efff;--sapLegendBackgroundColor7: #c2fcee;--sapLegendBackgroundColor8: #f5fae5;--sapLegendBackgroundColor9: #f5f6f7;--sapLegendBackgroundColor10: #fff0fa;--sapLegendBackgroundColor11: #fff8d6;--sapLegendBackgroundColor12: #fff6f6;--sapLegendBackgroundColor13: #f7ebef;--sapLegendBackgroundColor14: #f1ecd5;--sapLegendBackgroundColor15: #f0e7f8;--sapLegendBackgroundColor16: #ebf8ff;--sapLegendBackgroundColor17: #dafdf5;--sapLegendBackgroundColor18: #ebf5cb;--sapLegendBackgroundColor19: #fafdff;--sapLegendBackgroundColor20: #eceeff;--sapChart_Background: #fff;--sapChart_ContrastTextShadow: 0 0 .0625rem rgba(0,0,0,.7);--sapChart_ContrastShadowColor: #fff;--sapChart_ContrastLineColor: #fff;--sapChart_LineColor_1: #e1e6eb;--sapChart_LineColor_2: #768da4;--sapChart_LineColor_3: #000001;--sapChart_Choropleth_Background: #edf0f3;--sapChart_ChoroplethRegion_Background: #758ca4;--sapChart_ChoroplethRegion_BorderColor: #edf0f3;--sapChart_Data_TextColor: #000;--sapChart_Data_ContrastTextColor: #fff;--sapChart_Data_InteractiveColor: #000001;--sapChart_Data_Active_Background: #dee2e5;--sapChart_OrderedColor_1: #168eff;--sapChart_OrderedColor_2: #c87b00;--sapChart_OrderedColor_3: #75980b;--sapChart_OrderedColor_4: #df1278;--sapChart_OrderedColor_5: #8b47d7;--sapChart_OrderedColor_6: #049f9a;--sapChart_OrderedColor_7: #0070f2;--sapChart_OrderedColor_8: #cc00dc;--sapChart_OrderedColor_9: #798c77;--sapChart_OrderedColor_10: #da6c6c;--sapChart_OrderedColor_11: #5d36ff;--sapChart_OrderedColor_12: #a68a5b;--sapChart_Bad: #f53232;--sapChart_Critical: #e26300;--sapChart_Good: #30914c;--sapChart_Neutral: #758ca4;--sapChart_Sequence_1_Plus3: #96ccff;--sapChart_Sequence_1_Plus3_TextColor: #000;--sapChart_Sequence_1_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_1_Plus2: #3b9ffe;--sapChart_Sequence_1_Plus2_TextColor: #000;--sapChart_Sequence_1_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_1_Plus1: #3fa2ff;--sapChart_Sequence_1_Plus1_TextColor: #000;--sapChart_Sequence_1_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_1: #168eff;--sapChart_Sequence_1_TextColor: #000;--sapChart_Sequence_1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_1_BorderColor: #168eff;--sapChart_Sequence_1_Minus1: #077cea;--sapChart_Sequence_1_Minus1_TextColor: #fff;--sapChart_Sequence_1_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_1_Minus2: #077cea;--sapChart_Sequence_1_Minus2_TextColor: #fff;--sapChart_Sequence_1_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_1_Minus3: #06559e;--sapChart_Sequence_1_Minus3_TextColor: #fff;--sapChart_Sequence_1_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_1_Minus4: #054887;--sapChart_Sequence_1_Minus4_TextColor: #fff;--sapChart_Sequence_1_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_1_Minus5: #043b6e;--sapChart_Sequence_1_Minus5_TextColor: #fff;--sapChart_Sequence_1_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_2_Plus3: #efbf72;--sapChart_Sequence_2_Plus3_TextColor: #000;--sapChart_Sequence_2_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_2_Plus2: #eaaa44;--sapChart_Sequence_2_Plus2_TextColor: #000;--sapChart_Sequence_2_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_2_Plus1: #e29419;--sapChart_Sequence_2_Plus1_TextColor: #000;--sapChart_Sequence_2_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_2: #c87b00;--sapChart_Sequence_2_TextColor: #000;--sapChart_Sequence_2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_2_BorderColor: #9f6200;--sapChart_Sequence_2_Minus1: #9f6200;--sapChart_Sequence_2_Minus1_TextColor: #fff;--sapChart_Sequence_2_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_2_Minus2: #7c4c00;--sapChart_Sequence_2_Minus2_TextColor: #fff;--sapChart_Sequence_2_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_2_Minus3: #623c00;--sapChart_Sequence_2_Minus3_TextColor: #fff;--sapChart_Sequence_2_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_2_Minus4: #623c00;--sapChart_Sequence_2_Minus4_TextColor: #fff;--sapChart_Sequence_2_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_2_Minus5: #2f1d00;--sapChart_Sequence_2_Minus5_TextColor: #fff;--sapChart_Sequence_2_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_3_Plus3: #b9d369;--sapChart_Sequence_3_Plus3_TextColor: #000;--sapChart_Sequence_3_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_3_Plus2: #a6c742;--sapChart_Sequence_3_Plus2_TextColor: #000;--sapChart_Sequence_3_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_3_Plus1: #8fad33;--sapChart_Sequence_3_Plus1_TextColor: #000;--sapChart_Sequence_3_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_3: #75980b;--sapChart_Sequence_3_TextColor: #000;--sapChart_Sequence_3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_3_BorderColor: #587208;--sapChart_Sequence_3_Minus1: #587208;--sapChart_Sequence_3_Minus1_TextColor: #fff;--sapChart_Sequence_3_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_3_Minus2: #3e5106;--sapChart_Sequence_3_Minus2_TextColor: #fff;--sapChart_Sequence_3_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_3_Minus3: #2c3904;--sapChart_Sequence_3_Minus3_TextColor: #fff;--sapChart_Sequence_3_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_3_Minus4: #212b03;--sapChart_Sequence_3_Minus4_TextColor: #fff;--sapChart_Sequence_3_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_3_Minus5: #161c02;--sapChart_Sequence_3_Minus5_TextColor: #fff;--sapChart_Sequence_3_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_4_Plus3: #f473b3;--sapChart_Sequence_4_Plus3_TextColor: #000;--sapChart_Sequence_4_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_4_Plus2: #f14d9e;--sapChart_Sequence_4_Plus2_TextColor: #000;--sapChart_Sequence_4_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_4_Plus1: #ee278a;--sapChart_Sequence_4_Plus1_TextColor: #000;--sapChart_Sequence_4_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_4: #df1278;--sapChart_Sequence_4_TextColor: #fff;--sapChart_Sequence_4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_4_BorderColor: #df1278;--sapChart_Sequence_4_Minus1: #b90f64;--sapChart_Sequence_4_Minus1_TextColor: #fff;--sapChart_Sequence_4_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_4_Minus2: #930c4f;--sapChart_Sequence_4_Minus2_TextColor: #fff;--sapChart_Sequence_4_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_4_Minus3: #770a40;--sapChart_Sequence_4_Minus3_TextColor: #fff;--sapChart_Sequence_4_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_4_Minus4: #51072c;--sapChart_Sequence_4_Minus4_TextColor: #fff;--sapChart_Sequence_4_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_4_Minus5: #3a051f;--sapChart_Sequence_4_Minus5_TextColor: #fff;--sapChart_Sequence_4_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_5_Plus3: #d5bcf0;--sapChart_Sequence_5_Plus3_TextColor: #000;--sapChart_Sequence_5_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_5_Plus2: #b994e0;--sapChart_Sequence_5_Plus2_TextColor: #000;--sapChart_Sequence_5_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_5_Plus1: #a679d8;--sapChart_Sequence_5_Plus1_TextColor: #000;--sapChart_Sequence_5_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_5: #8b47d7;--sapChart_Sequence_5_TextColor: #fff;--sapChart_Sequence_5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_5_BorderColor: #8b47d7;--sapChart_Sequence_5_Minus1: #7236b5;--sapChart_Sequence_5_Minus1_TextColor: #fff;--sapChart_Sequence_5_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_5_Minus2: #5e2c96;--sapChart_Sequence_5_Minus2_TextColor: #fff;--sapChart_Sequence_5_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_5_Minus3: #522682;--sapChart_Sequence_5_Minus3_TextColor: #fff;--sapChart_Sequence_5_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_5_Minus4: #46216f;--sapChart_Sequence_5_Minus4_TextColor: #fff;--sapChart_Sequence_5_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_5_Minus5: #341358;--sapChart_Sequence_5_Minus5_TextColor: #fff;--sapChart_Sequence_5_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_6_Plus3: #64ede9;--sapChart_Sequence_6_Plus3_TextColor: #000;--sapChart_Sequence_6_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_6_Plus2: #2ee0da;--sapChart_Sequence_6_Plus2_TextColor: #000;--sapChart_Sequence_6_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_6_Plus1: #05c7c1;--sapChart_Sequence_6_Plus1_TextColor: #000;--sapChart_Sequence_6_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_6: #049f9a;--sapChart_Sequence_6_TextColor: #000;--sapChart_Sequence_6_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_6_BorderColor: #05c7c1;--sapChart_Sequence_6_Minus1: #02837f;--sapChart_Sequence_6_Minus1_TextColor: #fff;--sapChart_Sequence_6_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_6_Minus2: #006663;--sapChart_Sequence_6_Minus2_TextColor: #fff;--sapChart_Sequence_6_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_6_Minus3: #00514f;--sapChart_Sequence_6_Minus3_TextColor: #fff;--sapChart_Sequence_6_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_6_Minus4: #003d3b;--sapChart_Sequence_6_Minus4_TextColor: #fff;--sapChart_Sequence_6_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_6_Minus5: #002322;--sapChart_Sequence_6_Minus5_TextColor: #fff;--sapChart_Sequence_6_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_7_Plus3: #68aeff;--sapChart_Sequence_7_Plus3_TextColor: #000;--sapChart_Sequence_7_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_7_Plus2: #4098ff;--sapChart_Sequence_7_Plus2_TextColor: #000;--sapChart_Sequence_7_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_7_Plus1: #1c85ff;--sapChart_Sequence_7_Plus1_TextColor: #000;--sapChart_Sequence_7_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_7: #0070f2;--sapChart_Sequence_7_TextColor: #fff;--sapChart_Sequence_7_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_7_BorderColor: #0070f2;--sapChart_Sequence_7_Minus1: #0062d3;--sapChart_Sequence_7_Minus1_TextColor: #fff;--sapChart_Sequence_7_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_7_Minus2: #0054b5;--sapChart_Sequence_7_Minus2_TextColor: #fff;--sapChart_Sequence_7_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_7_Minus3: #00418c;--sapChart_Sequence_7_Minus3_TextColor: #fff;--sapChart_Sequence_7_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_7_Minus4: #00244f;--sapChart_Sequence_7_Minus4_TextColor: #fff;--sapChart_Sequence_7_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_7_Minus5: #001b3a;--sapChart_Sequence_7_Minus5_TextColor: #fff;--sapChart_Sequence_7_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_8_Plus3: #f462ff;--sapChart_Sequence_8_Plus3_TextColor: #000;--sapChart_Sequence_8_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_8_Plus2: #f034ff;--sapChart_Sequence_8_Plus2_TextColor: #000;--sapChart_Sequence_8_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_8_Plus1: #ed0bff;--sapChart_Sequence_8_Plus1_TextColor: #000;--sapChart_Sequence_8_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_8: #cc00dc;--sapChart_Sequence_8_TextColor: #fff;--sapChart_Sequence_8_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_8_BorderColor: #cc00dc;--sapChart_Sequence_8_Minus1: #a600b3;--sapChart_Sequence_8_Minus1_TextColor: #fff;--sapChart_Sequence_8_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_8_Minus2: #80008a;--sapChart_Sequence_8_Minus2_TextColor: #fff;--sapChart_Sequence_8_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_8_Minus3: #6d0076;--sapChart_Sequence_8_Minus3_TextColor: #fff;--sapChart_Sequence_8_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_8_Minus4: #56005d;--sapChart_Sequence_8_Minus4_TextColor: #fff;--sapChart_Sequence_8_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_8_Minus5: #350039;--sapChart_Sequence_8_Minus5_TextColor: #fff;--sapChart_Sequence_8_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_9_Plus3: #bdc6bc;--sapChart_Sequence_9_Plus3_TextColor: #000;--sapChart_Sequence_9_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_9_Plus2: #b5bfb4;--sapChart_Sequence_9_Plus2_TextColor: #000;--sapChart_Sequence_9_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_9_Plus1: #97a695;--sapChart_Sequence_9_Plus1_TextColor: #000;--sapChart_Sequence_9_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_9: #798c77;--sapChart_Sequence_9_TextColor: #000;--sapChart_Sequence_9_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_9_BorderColor: #798c77;--sapChart_Sequence_9_Minus1: #667664;--sapChart_Sequence_9_Minus1_TextColor: #fff;--sapChart_Sequence_9_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_9_Minus2: #536051;--sapChart_Sequence_9_Minus2_TextColor: #fff;--sapChart_Sequence_9_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_9_Minus3: #404a3f;--sapChart_Sequence_9_Minus3_TextColor: #fff;--sapChart_Sequence_9_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_9_Minus4: #2d342c;--sapChart_Sequence_9_Minus4_TextColor: #fff;--sapChart_Sequence_9_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_9_Minus5: #1e231e;--sapChart_Sequence_9_Minus5_TextColor: #fff;--sapChart_Sequence_9_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_10_Plus3: #f1c6c6;--sapChart_Sequence_10_Plus3_TextColor: #000;--sapChart_Sequence_10_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_10_Plus2: #eaadad;--sapChart_Sequence_10_Plus2_TextColor: #000;--sapChart_Sequence_10_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_10_Plus1: #e28d8d;--sapChart_Sequence_10_Plus1_TextColor: #000;--sapChart_Sequence_10_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_10: #da6c6c;--sapChart_Sequence_10_TextColor: #000;--sapChart_Sequence_10_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_10_BorderColor: #b75757;--sapChart_Sequence_10_Minus1: #b75757;--sapChart_Sequence_10_Minus1_TextColor: #000;--sapChart_Sequence_10_Minus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_10_Minus2: #9d4343;--sapChart_Sequence_10_Minus2_TextColor: #fff;--sapChart_Sequence_10_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_10_Minus3: #803737;--sapChart_Sequence_10_Minus3_TextColor: #fff;--sapChart_Sequence_10_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_10_Minus4: #672c2c;--sapChart_Sequence_10_Minus4_TextColor: #fff;--sapChart_Sequence_10_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_10_Minus5: #562424;--sapChart_Sequence_10_Minus5_TextColor: #fff;--sapChart_Sequence_10_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_11_Plus3: #c0b0ff;--sapChart_Sequence_11_Plus3_TextColor: #000;--sapChart_Sequence_11_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_11_Plus2: #9b83ff;--sapChart_Sequence_11_Plus2_TextColor: #000;--sapChart_Sequence_11_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_11_Plus1: #8669ff;--sapChart_Sequence_11_Plus1_TextColor: #000;--sapChart_Sequence_11_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_11: #5d36ff;--sapChart_Sequence_11_TextColor: #fff;--sapChart_Sequence_11_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_11_BorderColor: #5d36ff;--sapChart_Sequence_11_Minus1: #4b25e7;--sapChart_Sequence_11_Minus1_TextColor: #fff;--sapChart_Sequence_11_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_11_Minus2: #3a17cd;--sapChart_Sequence_11_Minus2_TextColor: #fff;--sapChart_Sequence_11_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_11_Minus3: #2f13a8;--sapChart_Sequence_11_Minus3_TextColor: #fff;--sapChart_Sequence_11_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_11_Minus4: #250f83;--sapChart_Sequence_11_Minus4_TextColor: #fff;--sapChart_Sequence_11_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_11_Minus5: #2f13a8;--sapChart_Sequence_11_Minus5_TextColor: #fff;--sapChart_Sequence_11_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_12_Plus3: #e4ddcf;--sapChart_Sequence_12_Plus3_TextColor: #000;--sapChart_Sequence_12_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_12_Plus2: #dacebb;--sapChart_Sequence_12_Plus2_TextColor: #000;--sapChart_Sequence_12_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_12_Plus1: #c4b293;--sapChart_Sequence_12_Plus1_TextColor: #000;--sapChart_Sequence_12_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_12: #a68a5b;--sapChart_Sequence_12_TextColor: #000;--sapChart_Sequence_12_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_12_BorderColor: #a68a5b;--sapChart_Sequence_12_Minus1: #8c744c;--sapChart_Sequence_12_Minus1_TextColor: #fff;--sapChart_Sequence_12_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_12_Minus2: #786441;--sapChart_Sequence_12_Minus2_TextColor: #fff;--sapChart_Sequence_12_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_12_Minus3: #5e4e33;--sapChart_Sequence_12_Minus3_TextColor: #fff;--sapChart_Sequence_12_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_12_Minus4: #433825;--sapChart_Sequence_12_Minus4_TextColor: #fff;--sapChart_Sequence_12_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_12_Minus5: #30271a;--sapChart_Sequence_12_Minus5_TextColor: #fff;--sapChart_Sequence_12_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Bad_Plus3: #fdcece;--sapChart_Sequence_Bad_Plus3_TextColor: #000;--sapChart_Sequence_Bad_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Bad_Plus2: #fa9d9d;--sapChart_Sequence_Bad_Plus2_TextColor: #000;--sapChart_Sequence_Bad_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Bad_Plus1: #f86c6c;--sapChart_Sequence_Bad_Plus1_TextColor: #000;--sapChart_Sequence_Bad_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Bad: #f53232;--sapChart_Sequence_Bad_TextColor: #000;--sapChart_Sequence_Bad_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Bad_BorderColor: #f53232;--sapChart_Sequence_Bad_Minus1: #d00a0a;--sapChart_Sequence_Bad_Minus1_TextColor: #fff;--sapChart_Sequence_Bad_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Bad_Minus2: #a90808;--sapChart_Sequence_Bad_Minus2_TextColor: #fff;--sapChart_Sequence_Bad_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Bad_Minus3: #830606;--sapChart_Sequence_Bad_Minus3_TextColor: #fff;--sapChart_Sequence_Bad_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Bad_Minus4: #570404;--sapChart_Sequence_Bad_Minus4_TextColor: #fff;--sapChart_Sequence_Bad_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Bad_Minus5: #320000;--sapChart_Sequence_Bad_Minus5_TextColor: #fff;--sapChart_Sequence_Bad_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Critical_Plus3: #ffb881;--sapChart_Sequence_Critical_Plus3_TextColor: #000;--sapChart_Sequence_Critical_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Critical_Plus2: #ff933f;--sapChart_Sequence_Critical_Plus2_TextColor: #000;--sapChart_Sequence_Critical_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Critical_Plus1: #ff760c;--sapChart_Sequence_Critical_Plus1_TextColor: #000;--sapChart_Sequence_Critical_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Critical: #e26300;--sapChart_Sequence_Critical_TextColor: #000;--sapChart_Sequence_Critical_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Critical_BorderColor: #e26300;--sapChart_Sequence_Critical_Minus1: #c35600;--sapChart_Sequence_Critical_Minus1_TextColor: #fff;--sapChart_Sequence_Critical_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Critical_Minus2: #aa4a00;--sapChart_Sequence_Critical_Minus2_TextColor: #fff;--sapChart_Sequence_Critical_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Critical_Minus3: #903f00;--sapChart_Sequence_Critical_Minus3_TextColor: #fff;--sapChart_Sequence_Critical_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Critical_Minus4: #6d3000;--sapChart_Sequence_Critical_Minus4_TextColor: #fff;--sapChart_Sequence_Critical_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Critical_Minus5: #492000;--sapChart_Sequence_Critical_Minus5_TextColor: #fff;--sapChart_Sequence_Critical_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Good_Plus3: #88d79f;--sapChart_Sequence_Good_Plus3_TextColor: #000;--sapChart_Sequence_Good_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Good_Plus2: #56c776;--sapChart_Sequence_Good_Plus2_TextColor: #000;--sapChart_Sequence_Good_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Good_Plus1: #3ab05c;--sapChart_Sequence_Good_Plus1_TextColor: #000;--sapChart_Sequence_Good_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Good: #30914c;--sapChart_Sequence_Good_TextColor: #000;--sapChart_Sequence_Good_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Good_BorderColor: #30914c;--sapChart_Sequence_Good_Minus1: #287a40;--sapChart_Sequence_Good_Minus1_TextColor: #fff;--sapChart_Sequence_Good_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Good_Minus2: #226736;--sapChart_Sequence_Good_Minus2_TextColor: #fff;--sapChart_Sequence_Good_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Good_Minus3: #1c542c;--sapChart_Sequence_Good_Minus3_TextColor: #fff;--sapChart_Sequence_Good_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Good_Minus4: #13391e;--sapChart_Sequence_Good_Minus4_TextColor: #fff;--sapChart_Sequence_Good_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Good_Minus5: #0a1e10;--sapChart_Sequence_Good_Minus5_TextColor: #fff;--sapChart_Sequence_Good_Minus5_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Neutral_Plus3: #edf0f3;--sapChart_Sequence_Neutral_Plus3_TextColor: #000;--sapChart_Sequence_Neutral_Plus3_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Neutral_Plus2: #c2ccd7;--sapChart_Sequence_Neutral_Plus2_TextColor: #000;--sapChart_Sequence_Neutral_Plus2_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Neutral_Plus1: #9aabbc;--sapChart_Sequence_Neutral_Plus1_TextColor: #000;--sapChart_Sequence_Neutral_Plus1_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Neutral: #758ca4;--sapChart_Sequence_Neutral_TextColor: #000;--sapChart_Sequence_Neutral_TextShadow: 0 0 .125rem #fff;--sapChart_Sequence_Neutral_BorderColor: #758ca4;--sapChart_Sequence_Neutral_Minus1: #5b728b;--sapChart_Sequence_Neutral_Minus1_TextColor: #fff;--sapChart_Sequence_Neutral_Minus1_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Neutral_Minus2: #495e74;--sapChart_Sequence_Neutral_Minus2_TextColor: #fff;--sapChart_Sequence_Neutral_Minus2_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Neutral_Minus3: #364a5f;--sapChart_Sequence_Neutral_Minus3_TextColor: #fff;--sapChart_Sequence_Neutral_Minus3_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Neutral_Minus4: #233649;--sapChart_Sequence_Neutral_Minus4_TextColor: #fff;--sapChart_Sequence_Neutral_Minus4_TextShadow: 0 0 .125rem #223548;--sapChart_Sequence_Neutral_Minus5: #1a2633;--sapChart_Sequence_Neutral_Minus5_TextColor: #fff;--sapChart_Sequence_Neutral_Minus5_TextShadow: 0 0 .125rem #223548;--sapSapThemeId: sap_horizon;--sapBreakpoint_S_Min: 0;--sapBreakpoint_M_Min: 600px;--sapBreakpoint_L_Min: 1024px;--sapBreakpoint_XL_Min: 1440px}
`,zi=`:root{--ui5-v2-9-0-avatar-hover-box-shadow-offset: 0px 0px 0px .0625rem var();--ui5-v2-9-0-avatar-initials-color: var(--sapContent_ImagePlaceholderForegroundColor);--ui5-v2-9-0-avatar-border-radius-img-deduction: .0625rem;--_ui5-v2-9-0_avatar_outline: var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);--_ui5-v2-9-0_avatar_focus_width: .0625rem;--_ui5-v2-9-0_avatar_focus_color: var(--sapContent_FocusColor);--_ui5-v2-9-0_avatar_overflow_button_focus_offset: .0625rem;--ui5-v2-9-0-avatar-hover-box-shadow-offset: 0px 0px 0px .0625rem var( --sapAvatar_Hover_BorderColor);--_ui5-v2-9-0_avatar_focus_offset: .1875rem;--ui5-v2-9-0-avatar-initials-border: .0625rem solid var(--sapAvatar_1_BorderColor);--ui5-v2-9-0-avatar-border-radius: var(--sapElement_BorderCornerRadius);--_ui5-v2-9-0_avatar_fontsize_XS: 1rem;--_ui5-v2-9-0_avatar_fontsize_S: 1.125rem;--_ui5-v2-9-0_avatar_fontsize_M: 1.5rem;--_ui5-v2-9-0_avatar_fontsize_L: 2.25rem;--_ui5-v2-9-0_avatar_fontsize_XL: 3rem;--ui5-v2-9-0-avatar-accent1: var(--sapAvatar_1_Background);--ui5-v2-9-0-avatar-accent2: var(--sapAvatar_2_Background);--ui5-v2-9-0-avatar-accent3: var(--sapAvatar_3_Background);--ui5-v2-9-0-avatar-accent4: var(--sapAvatar_4_Background);--ui5-v2-9-0-avatar-accent5: var(--sapAvatar_5_Background);--ui5-v2-9-0-avatar-accent6: var(--sapAvatar_6_Background);--ui5-v2-9-0-avatar-accent7: var(--sapAvatar_7_Background);--ui5-v2-9-0-avatar-accent8: var(--sapAvatar_8_Background);--ui5-v2-9-0-avatar-accent9: var(--sapAvatar_9_Background);--ui5-v2-9-0-avatar-accent10: var(--sapAvatar_10_Background);--ui5-v2-9-0-avatar-placeholder: var(--sapContent_ImagePlaceholderBackground);--ui5-v2-9-0-avatar-accent1-color: var(--sapAvatar_1_TextColor);--ui5-v2-9-0-avatar-accent2-color: var(--sapAvatar_2_TextColor);--ui5-v2-9-0-avatar-accent3-color: var(--sapAvatar_3_TextColor);--ui5-v2-9-0-avatar-accent4-color: var(--sapAvatar_4_TextColor);--ui5-v2-9-0-avatar-accent5-color: var(--sapAvatar_5_TextColor);--ui5-v2-9-0-avatar-accent6-color: var(--sapAvatar_6_TextColor);--ui5-v2-9-0-avatar-accent7-color: var(--sapAvatar_7_TextColor);--ui5-v2-9-0-avatar-accent8-color: var(--sapAvatar_8_TextColor);--ui5-v2-9-0-avatar-accent9-color: var(--sapAvatar_9_TextColor);--ui5-v2-9-0-avatar-accent10-color: var(--sapAvatar_10_TextColor);--ui5-v2-9-0-avatar-placeholder-color: var(--sapAvatar_Lite_Background);--ui5-v2-9-0-avatar-accent1-border-color: var(--sapAvatar_1_BorderColor);--ui5-v2-9-0-avatar-accent2-border-color: var(--sapAvatar_2_BorderColor);--ui5-v2-9-0-avatar-accent3-border-color: var(--sapAvatar_3_BorderColor);--ui5-v2-9-0-avatar-accent4-border-color: var(--sapAvatar_4_BorderColor);--ui5-v2-9-0-avatar-accent5-border-color: var(--sapAvatar_5_BorderColor);--ui5-v2-9-0-avatar-accent6-border-color: var(--sapAvatar_6_BorderColor);--ui5-v2-9-0-avatar-accent7-border-color: var(--sapAvatar_7_BorderColor);--ui5-v2-9-0-avatar-accent8-border-color: var(--sapAvatar_8_BorderColor);--ui5-v2-9-0-avatar-accent9-border-color: var(--sapAvatar_9_BorderColor);--ui5-v2-9-0-avatar-accent10-border-color: var(--sapAvatar_10_BorderColor);--ui5-v2-9-0-avatar-placeholder-border-color: var(--sapContent_ImagePlaceholderForegroundColor);--_ui5-v2-9-0_avatar_icon_XS: var(--_ui5-v2-9-0_avatar_fontsize_XS);--_ui5-v2-9-0_avatar_icon_S: var(--_ui5-v2-9-0_avatar_fontsize_S);--_ui5-v2-9-0_avatar_icon_M: var(--_ui5-v2-9-0_avatar_fontsize_M);--_ui5-v2-9-0_avatar_icon_L: var(--_ui5-v2-9-0_avatar_fontsize_L);--_ui5-v2-9-0_avatar_icon_XL: var(--_ui5-v2-9-0_avatar_fontsize_XL);--_ui5-v2-9-0_avatar_group_button_focus_border: none;--_ui5-v2-9-0_avatar_group_focus_border_radius: .375rem;--_ui5-v2-9-0-tag-height: 1rem;--_ui5-v2-9-0-tag-icon-width: .75rem;--ui5-v2-9-0-tag-text-shadow: var(--sapContent_TextShadow);--ui5-v2-9-0-tag-contrast-text-shadow: var(--sapContent_ContrastTextShadow);--ui5-v2-9-0-tag-information-text-shadow: var(--ui5-v2-9-0-tag-text-shadow);--ui5-v2-9-0-tag-set2-color-scheme-1-border: var(--sapIndicationColor_1b_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-1-hover-background: var(--sapIndicationColor_1b_Hover_Background);--ui5-v2-9-0-tag-set2-color-scheme-1-active-color: var(--sapIndicationColor_1_Active_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-1-active-background: var(--sapIndicationColor_1_Active_Background);--ui5-v2-9-0-tag-set2-color-scheme-1-active-border: var(--sapIndicationColor_1_Active_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-2-border: var(--sapIndicationColor_2b_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-2-hover-background: var(--sapIndicationColor_2b_Hover_Background);--ui5-v2-9-0-tag-set2-color-scheme-2-active-color: var(--sapIndicationColor_2_Active_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-2-active-background: var(--sapIndicationColor_2_Active_Background);--ui5-v2-9-0-tag-set2-color-scheme-2-active-border: var(--sapIndicationColor_2_Active_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-3-border: var(--sapIndicationColor_3b_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-3-hover-background: var(--sapIndicationColor_3b_Hover_Background);--ui5-v2-9-0-tag-set2-color-scheme-3-active-color: var(--sapIndicationColor_3_Active_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-3-active-background: var(--sapIndicationColor_3_Active_Background);--ui5-v2-9-0-tag-set2-color-scheme-3-active-border: var(--sapIndicationColor_3_Active_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-4-border: var(--sapIndicationColor_4b_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-4-hover-background: var(--sapIndicationColor_4b_Hover_Background);--ui5-v2-9-0-tag-set2-color-scheme-4-active-color: var(--sapIndicationColor_4_Active_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-4-active-background: var(--sapIndicationColor_4_Active_Background);--ui5-v2-9-0-tag-set2-color-scheme-4-active-border: var(--sapIndicationColor_4_Active_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-5-border: var(--sapIndicationColor_5b_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-5-hover-background: var(--sapIndicationColor_5b_Hover_Background);--ui5-v2-9-0-tag-set2-color-scheme-5-active-color: var(--sapIndicationColor_5_Active_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-5-active-background: var(--sapIndicationColor_5_Active_Background);--ui5-v2-9-0-tag-set2-color-scheme-5-active-border: var(--sapIndicationColor_5_Active_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-6-border: var(--sapIndicationColor_6b_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-6-hover-background: var(--sapIndicationColor_6b_Hover_Background);--ui5-v2-9-0-tag-set2-color-scheme-6-active-color: var(--sapIndicationColor_6_Active_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-6-active-background: var(--sapIndicationColor_6_Active_Background);--ui5-v2-9-0-tag-set2-color-scheme-6-active-border: var(--sapIndicationColor_6_Active_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-7-border: var(--sapIndicationColor_7b_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-7-hover-background: var(--sapIndicationColor_7b_Hover_Background);--ui5-v2-9-0-tag-set2-color-scheme-7-active-color: var(--sapIndicationColor_7_Active_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-7-active-background: var(--sapIndicationColor_7_Active_Background);--ui5-v2-9-0-tag-set2-color-scheme-7-active-border: var(--sapIndicationColor_7_Active_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-8-border: var(--sapIndicationColor_8b_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-8-hover-background: var(--sapIndicationColor_8b_Hover_Background);--ui5-v2-9-0-tag-set2-color-scheme-8-active-color: var(--sapIndicationColor_8_Active_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-8-active-background: var(--sapIndicationColor_8_Active_Background);--ui5-v2-9-0-tag-set2-color-scheme-8-active-border: var(--sapIndicationColor_8_Active_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-9-border: var(--sapIndicationColor_9b_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-9-hover-background: var(--sapIndicationColor_9b_Hover_Background);--ui5-v2-9-0-tag-set2-color-scheme-9-active-color: var(--sapIndicationColor_9_Active_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-9-active-background: var(--sapIndicationColor_9_Active_Background);--ui5-v2-9-0-tag-set2-color-scheme-9-active-border: var(--sapIndicationColor_9_Active_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-10-border: var(--sapIndicationColor_10b_BorderColor);--ui5-v2-9-0-tag-set2-color-scheme-10-hover-background: var(--sapIndicationColor_10b_Hover_Background);--ui5-v2-9-0-tag-set2-color-scheme-10-active-color: var(--sapIndicationColor_10_Active_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-10-active-background: var(--sapIndicationColor_10_Active_Background);--ui5-v2-9-0-tag-set2-color-scheme-10-active-border: var(--sapIndicationColor_10_Active_BorderColor);--_ui5-v2-9-0-tag-height_size_l: 1.5rem;--_ui5-v2-9-0-tag-min-width_size_l: 1.75rem;--_ui5-v2-9-0-tag-font-size_size_l: 1.25rem;--_ui5-v2-9-0-tag-icon_min_width_size_l: 1.25rem;--_ui5-v2-9-0-tag-icon_min_height_size_l:1.25rem;--_ui5-v2-9-0-tag-icon_height_size_l: 1.25rem;--_ui5-v2-9-0-tag-text_padding_size_l: .125rem .25rem;--_ui5-v2-9-0-tag-text-height_size_l: 1.5rem;--_ui5-v2-9-0-tag-text-padding: .1875rem .25rem;--_ui5-v2-9-0-tag-padding-inline-icon-only: .313rem;--_ui5-v2-9-0-tag-text-transform: none;--_ui5-v2-9-0-tag-icon-gap: .25rem;--_ui5-v2-9-0-tag-font-size: var(--sapFontSize);--_ui5-v2-9-0-tag-font: var(--sapFontSemiboldDuplexFamily);--_ui5-v2-9-0-tag-font-weight: normal;--_ui5-v2-9-0-tag-letter-spacing: normal;--ui5-v2-9-0-tag-set2-color-scheme-1-color: var(--sapIndicationColor_1b_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-1-background: var(--sapIndicationColor_1b_Background);--ui5-v2-9-0-tag-set2-color-scheme-2-color: var(--sapIndicationColor_2b_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-2-background: var(--sapIndicationColor_2b_Background);--ui5-v2-9-0-tag-set2-color-scheme-3-color: var(--sapIndicationColor_3b_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-3-background: var(--sapIndicationColor_3b_Background);--ui5-v2-9-0-tag-set2-color-scheme-4-color: var(--sapIndicationColor_4b_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-4-background: var(--sapIndicationColor_4b_Background);--ui5-v2-9-0-tag-set2-color-scheme-5-color: var(--sapIndicationColor_5b_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-5-background: var(--sapIndicationColor_5b_Background);--ui5-v2-9-0-tag-set2-color-scheme-6-color: var(--sapIndicationColor_6b_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-6-background: var(--sapIndicationColor_6b_Background);--ui5-v2-9-0-tag-set2-color-scheme-7-color: var(--sapIndicationColor_7b_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-7-background: var(--sapIndicationColor_7b_Background);--ui5-v2-9-0-tag-set2-color-scheme-8-color: var(--sapIndicationColor_8b_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-8-background: var(--sapIndicationColor_8b_Background);--ui5-v2-9-0-tag-set2-color-scheme-9-color: var(--sapIndicationColor_9b_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-9-background: var(--sapIndicationColor_9b_Background);--ui5-v2-9-0-tag-set2-color-scheme-10-color: var(--sapIndicationColor_10b_TextColor);--ui5-v2-9-0-tag-set2-color-scheme-10-background: var(--sapIndicationColor_10b_Background);--_ui5-v2-9-0_bar_base_height: 2.75rem;--_ui5-v2-9-0_bar_subheader_height: 3rem;--_ui5-v2-9-0_bar-start-container-padding-start: 1rem;--_ui5-v2-9-0_bar-mid-container-padding-start-end: .5rem;--_ui5-v2-9-0_bar-end-container-padding-end: 1rem;--_ui5-v2-9-0_bar_subheader_margin-top: -.0625rem;--_ui5-v2-9-0_breadcrumbs_margin: 0 0 .5rem 0;--_ui5-v2-9-0_busy_indicator_block_layer: color-mix(in oklch, transparent, var(--sapBlockLayer_Background) 20%);--_ui5-v2-9-0_busy_indicator_color: var(--sapContent_BusyColor);--_ui5-v2-9-0_busy_indicator_focus_outline: var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);--_ui5-v2-9-0-button-badge-diameter: .75rem;--_ui5-v2-9-0-calendar-legend-root-padding: .75rem;--_ui5-v2-9-0-calendar-legend-root-width: 18.5rem;--_ui5-v2-9-0-calendar-legend-item-root-focus-margin: 0;--_ui5-v2-9-0-calendar-legend-item-root-width: 7.75rem;--_ui5-v2-9-0-calendar-legend-item-root-focus-border: var(--sapContent_FocusWidth) solid var(--sapContent_FocusColor);--_ui5-v2-9-0_card_box_shadow: var(--sapContent_Shadow0);--_ui5-v2-9-0_card_header_border_color: var(--sapTile_SeparatorColor);--_ui5-v2-9-0_card_header_focus_border: var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);--_ui5-v2-9-0_card_header_focus_bottom_radius: 0px;--_ui5-v2-9-0_card_header_title_font_weight: normal;--_ui5-v2-9-0_card_header_subtitle_margin_top: .25rem;--_ui5-v2-9-0_card_hover_box_shadow: var(--sapContent_Shadow2);--_ui5-v2-9-0_card_header_focus_offset: 0px;--_ui5-v2-9-0_card_header_focus_radius: var(--_ui5-v2-9-0_card_border-radius);--_ui5-v2-9-0_card_header_title_font_family: var(--sapFontHeaderFamily);--_ui5-v2-9-0_card_header_title_font_size: var(--sapFontHeader6Size);--_ui5-v2-9-0_card_header_hover_bg: var(--sapTile_Hover_Background);--_ui5-v2-9-0_card_header_active_bg: var(--sapTile_Active_Background);--_ui5-v2-9-0_card_header_border: none;--_ui5-v2-9-0_card_border-radius: var(--sapTile_BorderCornerRadius);--_ui5-v2-9-0_card_header_padding: 1rem 1rem .75rem 1rem;--_ui5-v2-9-0_card_border: none;--ui5-v2-9-0_carousel_background_color_solid: var(--sapGroup_ContentBackground);--ui5-v2-9-0_carousel_background_color_translucent: var(--sapBackgroundColor);--ui5-v2-9-0_carousel_button_size: 2.5rem;--ui5-v2-9-0_carousel_inactive_dot_size: .25rem;--ui5-v2-9-0_carousel_inactive_dot_margin: 0 .375rem;--ui5-v2-9-0_carousel_inactive_dot_border: 1px solid var(--sapContent_ForegroundBorderColor);--ui5-v2-9-0_carousel_inactive_dot_background: var(--sapContent_ForegroundBorderColor);--ui5-v2-9-0_carousel_active_dot_border: 1px solid var(--sapContent_Selected_ForegroundColor);--ui5-v2-9-0_carousel_active_dot_background: var(--sapContent_Selected_ForegroundColor);--ui5-v2-9-0_carousel_navigation_button_active_box_shadow: none;--_ui5-v2-9-0_checkbox_box_shadow: none;--_ui5-v2-9-0_checkbox_transition: unset;--_ui5-v2-9-0_checkbox_focus_border: none;--_ui5-v2-9-0_checkbox_border_radius: 0;--_ui5-v2-9-0_checkbox_focus_outline: var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);--_ui5-v2-9-0_checkbox_outer_hover_background: transparent;--_ui5-v2-9-0_checkbox_inner_width_height: 1.375rem;--_ui5-v2-9-0_checkbox_inner_disabled_border_color: var(--sapField_BorderColor);--_ui5-v2-9-0_checkbox_inner_information_box_shadow: none;--_ui5-v2-9-0_checkbox_inner_warning_box_shadow: none;--_ui5-v2-9-0_checkbox_inner_error_box_shadow: none;--_ui5-v2-9-0_checkbox_inner_success_box_shadow: none;--_ui5-v2-9-0_checkbox_inner_default_box_shadow: none;--_ui5-v2-9-0_checkbox_inner_background: var(--sapField_Background);--_ui5-v2-9-0_checkbox_wrapped_focus_padding: .375rem;--_ui5-v2-9-0_checkbox_wrapped_focus_inset_block: var(--_ui5-v2-9-0_checkbox_focus_position);--_ui5-v2-9-0_checkbox_compact_wrapper_padding: .5rem;--_ui5-v2-9-0_checkbox_compact_width_height: 2rem;--_ui5-v2-9-0_checkbox_compact_inner_size: 1rem;--_ui5-v2-9-0_checkbox_compact_focus_position: .375rem;--_ui5-v2-9-0_checkbox_label_offset: var(--_ui5-v2-9-0_checkbox_wrapper_padding);--_ui5-v2-9-0_checkbox_disabled_label_color: var(--sapContent_LabelColor);--_ui5-v2-9-0_checkbox_default_focus_border: none;--_ui5-v2-9-0_checkbox_focus_outline_display: block;--_ui5-v2-9-0_checkbox_wrapper_padding: .6875rem;--_ui5-v2-9-0_checkbox_width_height: 2.75rem;--_ui5-v2-9-0_checkbox_label_color: var(--sapField_TextColor);--_ui5-v2-9-0_checkbox_inner_border: solid var(--sapField_BorderWidth) var(--sapField_BorderColor);--_ui5-v2-9-0_checkbox_inner_border_radius: var(--sapField_BorderCornerRadius);--_ui5-v2-9-0_checkbox_checkmark_color: var(--sapContent_Selected_ForegroundColor);--_ui5-v2-9-0_checkbox_hover_background: var(--sapContent_Selected_Hover_Background);--_ui5-v2-9-0_checkbox_inner_hover_border_color: var(--sapField_Hover_BorderColor);--_ui5-v2-9-0_checkbox_inner_hover_checked_border_color: var(--sapField_Hover_BorderColor);--_ui5-v2-9-0_checkbox_inner_selected_border_color: var(--sapField_BorderColor);--_ui5-v2-9-0_checkbox_inner_active_border_color: var(--sapField_Hover_BorderColor);--_ui5-v2-9-0_checkbox_active_background: var(--sapContent_Selected_Hover_Background);--_ui5-v2-9-0_checkbox_inner_readonly_border: var(--sapElement_BorderWidth) var(--sapField_ReadOnly_BorderColor) dashed;--_ui5-v2-9-0_checkbox_inner_error_border: var(--sapField_InvalidBorderWidth) solid var(--sapField_InvalidColor);--_ui5-v2-9-0_checkbox_inner_error_background_hover: var(--sapField_Hover_Background);--_ui5-v2-9-0_checkbox_inner_warning_border: var(--sapField_WarningBorderWidth) solid var(--sapField_WarningColor);--_ui5-v2-9-0_checkbox_inner_warning_color: var(--sapField_WarningColor);--_ui5-v2-9-0_checkbox_inner_warning_background_hover: var(--sapField_Hover_Background);--_ui5-v2-9-0_checkbox_checkmark_warning_color: var(--sapField_WarningColor);--_ui5-v2-9-0_checkbox_inner_success_border: var(--sapField_SuccessBorderWidth) solid var(--sapField_SuccessColor);--_ui5-v2-9-0_checkbox_inner_success_background_hover: var(--sapField_Hover_Background);--_ui5-v2-9-0_checkbox_inner_information_color: var(--sapField_InformationColor);--_ui5-v2-9-0_checkbox_inner_information_border: var(--sapField_InformationBorderWidth) solid var(--sapField_InformationColor);--_ui5-v2-9-0_checkbox_inner_information_background_hover: var(--sapField_Hover_Background);--_ui5-v2-9-0_checkbox_disabled_opacity: var(--sapContent_DisabledOpacity);--_ui5-v2-9-0_checkbox_focus_position: .3125rem;--_ui5-v2-9-0_checkbox_focus_border_radius: .5rem;--_ui5-v2-9-0_checkbox_right_focus_distance: var(--_ui5-v2-9-0_checkbox_focus_position);--_ui5-v2-9-0_color-palette-item-after-focus-inset: .0625rem;--_ui5-v2-9-0_color-palette-item-outer-border-radius: .25rem;--_ui5-v2-9-0_color-palette-item-inner-border-radius: .1875rem;--_ui5-v2-9-0_color-palette-item-after-not-focus-color: .0625rem solid var(--sapGroup_ContentBackground);--_ui5-v2-9-0_color-palette-item-container-sides-padding: .3125rem;--_ui5-v2-9-0_color-palette-item-container-rows-padding: .6875rem;--_ui5-v2-9-0_color-palette-item-focus-height: 1.5rem;--_ui5-v2-9-0_color-palette-item-container-padding: var(--_ui5-v2-9-0_color-palette-item-container-sides-padding) var(--_ui5-v2-9-0_color-palette-item-container-rows-padding);--_ui5-v2-9-0_color-palette-item-hover-margin: .0625rem;--_ui5-v2-9-0_color-palette-row-height: 9.5rem;--_ui5-v2-9-0_color-palette-button-height: 3rem;--_ui5-v2-9-0_color-palette-item-before-focus-color: .125rem solid var(--sapContent_FocusColor);--_ui5-v2-9-0_color-palette-item-before-focus-inset: -.3125rem;--_ui5-v2-9-0_color-palette-item-before-focus-hover-inset: -.0625rem;--_ui5-v2-9-0_color-palette-item-after-focus-color: .0625rem solid var(--sapContent_ContrastFocusColor);--_ui5-v2-9-0_color-palette-item-selected-focused-border-after: none;--_ui5-v2-9-0_color-palette-item-after-focus-hover-inset: .0625rem;--_ui5-v2-9-0_color-palette-item-before-focus-border-radius: .4375rem;--_ui5-v2-9-0_color-palette-item-after-focus-border-radius: .3125rem;--_ui5-v2-9-0_color-palette-item-hover-outer-border-radius: .4375rem;--_ui5-v2-9-0_color-palette-item-hover-inner-border-radius: .375rem;--_ui5-v2-9-0_color-palette-item-selected-focused-border-before: -.0625rem;--_ui5-v2-9-0_color-palette-item-after-focus-not-selected-border: none;--_ui5-v2-9-0_color-palette-item-selected-focused-border: none;--_ui5-v2-9-0_color-palette-item-mobile-focus-sides-inset: -.375rem -.375rem;--_ui5-v2-9-0-color-palette-item-mobile-focus-inset: 0px;--_ui5-v2-9-0_color-palette-item-after-mobile-focus-border: none;--_ui5-v2-9-0_color_picker_slider_handle_box_shadow: inset 0 0 0 .125rem var(--sapContent_ContrastShadowColor);--_ui5-v2-9-0_color_picker_slider_handle_margin_top: -.125rem;--_ui5-v2-9-0_color_picker_slider_handle_inner_border_color: #fff;--_ui5-v2-9-0_color_picker_circle_outer_border: .0625rem solid var(--sapContent_ContrastShadowColor);--_ui5-v2-9-0_color_picker_circle_inner_border: var(--sapField_Picker_BorderWidth) solid var(--sapField_BorderColor);--_ui5-v2-9-0_color_picker_circle_inner_circle_size: .5625rem;--_ui5-v2-9-0_color_picker_slider_handle_container_margin_top: none;--_ui5-v2-9-0_color_picker_slider_handle_border: .125rem solid var(--sapField_BorderColor);--_ui5-v2-9-0_color_picker_slider_handle_outline_hover: .125rem solid var(--sapContent_FocusColor);--_ui5-v2-9-0_color_picker_slider_handle_outline_focus: .125rem solid var(--sapContent_FocusColor);--_ui5-v2-9-0_color_picker_slider_handle_inline_focus: 1px solid var(--sapContent_ContrastFocusColor);--_ui5-v2-9-0_datepicker_icon_border: none;--_ui5-v2-9-0-datepicker-hover-background: var(--sapField_Hover_Background);--_ui5-v2-9-0-datepicker_border_radius: .25rem;--_ui5-v2-9-0-datepicker_icon_border_radius: .125rem;--_ui5-v2-9-0_daypicker_item_box_shadow: inset 0 0 0 .0625rem var(--sapContent_Selected_ForegroundColor);--_ui5-v2-9-0_daypicker_item_margin: 2px;--_ui5-v2-9-0_daypicker_item_border: none;--_ui5-v2-9-0_daypicker_item_selected_border_color: var(--sapList_Background);--_ui5-v2-9-0_daypicker_daynames_container_height: 2rem;--_ui5-v2-9-0_daypicker_weeknumbers_container_padding_top: 2rem;--_ui5-v2-9-0_daypicker_item_othermonth_background_color: var(--sapList_Background);--_ui5-v2-9-0_daypicker_item_othermonth_color: var(--sapContent_LabelColor);--_ui5-v2-9-0_daypicker_item_othermonth_hover_color: var(--sapContent_LabelColor);--_ui5-v2-9-0_daypicker_item_now_inner_border_radius: 0;--_ui5-v2-9-0_daypicker_item_outline_width: 1px;--_ui5-v2-9-0_daypicker_item_outline_offset: 1px;--_ui5-v2-9-0_daypicker_item_now_focus_after_width: calc(100% - .25rem) ;--_ui5-v2-9-0_daypicker_item_now_focus_after_height: calc(100% - .25rem) ;--_ui5-v2-9-0_daypicker_item_now_selected_focus_after_width: calc(100% - .375rem) ;--_ui5-v2-9-0_daypicker_item_now_selected_focus_after_height: calc(100% - .375rem) ;--_ui5-v2-9-0_daypicker_item_selected_background: transparent;--_ui5-v2-9-0_daypicker_item_outline_focus_after: none;--_ui5-v2-9-0_daypicker_item_border_focus_after: var(--_ui5-v2-9-0_daypicker_item_outline_width) dotted var(--sapContent_FocusColor);--_ui5-v2-9-0_daypicker_item_width_focus_after: calc(100% - .25rem) ;--_ui5-v2-9-0_daypicker_item_height_focus_after: calc(100% - .25rem) ;--_ui5-v2-9-0_daypicker_item_now_outline: none;--_ui5-v2-9-0_daypicker_item_now_outline_offset: none;--_ui5-v2-9-0_daypicker_item_now_outline_offset_focus_after: var(--_ui5-v2-9-0_daypicker_item_now_outline_offset);--_ui5-v2-9-0_daypicker_item_selected_between_hover_background: var(--sapList_Hover_SelectionBackground);--_ui5-v2-9-0_daypicker_item_now_not_selected_inset: 0;--_ui5-v2-9-0_daypicker_item_now_border_color: var(--sapLegend_CurrentDateTime);--_ui5-v2-9-0_dp_two_calendar_item_secondary_text_border_radios: .25rem;--_ui5-v2-9-0_daypicker_special_day_top: 2.5rem;--_ui5-v2-9-0_daypicker_special_day_before_border_color: var(--sapList_Background);--_ui5-v2-9-0_daypicker_selected_item_now_special_day_border_bottom_radius: 0;--_ui5-v2-9-0_daypicker_twocalendar_item_special_day_after_border_width: .125rem;--_ui5-v2-9-0_daypicker_twocalendar_item_special_day_dot: .375rem;--_ui5-v2-9-0_daypicker_twocalendar_item_special_day_top: 2rem;--_ui5-v2-9-0_daypicker_twocalendar_item_special_day_right: 1.4375rem;--_ui5-v2-9-0_daypicker_item_border_radius: .4375rem;--_ui5-v2-9-0_daypicker_item_focus_border: .0625rem dotted var(--sapContent_FocusColor);--_ui5-v2-9-0_daypicker_item_selected_border: .0625rem solid var(--sapList_SelectionBorderColor);--_ui5-v2-9-0_daypicker_item_not_selected_focus_border: .125rem solid var(--sapContent_FocusColor);--_ui5-v2-9-0_daypicker_item_selected_focus_color: var(--sapContent_FocusColor);--_ui5-v2-9-0_daypicker_item_selected_focus_width: .125rem;--_ui5-v2-9-0_daypicker_item_no_selected_inset: .375rem;--_ui5-v2-9-0_daypicker_item_now_border_focus_after: .125rem solid var(--sapList_SelectionBorderColor);--_ui5-v2-9-0_daypicker_item_now_border_radius_focus_after: .3125rem;--_ui5-v2-9-0_day_picker_item_selected_now_border_focus: .125rem solid var(--sapContent_FocusColor);--_ui5-v2-9-0_day_picker_item_selected_now_border_radius_focus: .1875rem;--ui5-v2-9-0-dp-item_withsecondtype_border: .375rem;--_ui5-v2-9-0_daypicker_item_now_border: .125rem solid var(--sapLegend_CurrentDateTime);--_ui5-v2-9-0_daypicker_dayname_color: var(--sapContent_LabelColor);--_ui5-v2-9-0_daypicker_weekname_color: var(--sapContent_LabelColor);--_ui5-v2-9-0_daypicker_item_selected_box_shadow: inset 0 0 0 .0625rem var(--sapContent_Selected_ForegroundColor);--_ui5-v2-9-0_daypicker_item_selected_daytext_hover_background: transparent;--_ui5-v2-9-0_daypicker_item_border_radius_item: .5rem;--_ui5-v2-9-0_daypicker_item_border_radius_focus_after: .1875rem;--_ui5-v2-9-0_daypicker_item_selected_between_border: .5rem;--_ui5-v2-9-0_daypicker_item_selected_between_background: var(--sapList_SelectionBackgroundColor);--_ui5-v2-9-0_daypicker_item_selected_between_text_background: transparent;--_ui5-v2-9-0_daypicker_item_selected_between_text_font: var(--sapFontFamily);--_ui5-v2-9-0_daypicker_item_selected_text_font: var(--sapFontBoldFamily);--_ui5-v2-9-0_daypicker_item_now_box_shadow: inset 0 0 0 .35rem var(--sapList_Background);--_ui5-v2-9-0_daypicker_item_selected_text_outline: .0625rem solid var(--sapSelectedColor);--_ui5-v2-9-0_daypicker_item_now_selected_outline_offset: -.25rem;--_ui5-v2-9-0_daypicker_item_now_selected_between_inset: .25rem;--_ui5-v2-9-0_daypicker_item_now_selected_between_border: .0625rem solid var(--sapContent_Selected_ForegroundColor);--_ui5-v2-9-0_daypicker_item_now_selected_between_border_radius: .1875rem;--_ui5-v2-9-0_daypicker_item_select_between_border: 1px solid var(--sapContent_Selected_ForegroundColor);--_ui5-v2-9-0_daypicker_item_weeekend_filter: brightness(105%);--_ui5-v2-9-0_daypicker_item_selected_hover: var(--sapList_Hover_Background);--_ui5-v2-9-0_daypicker_item_now_inset: .3125rem;--_ui5-v2-9-0-dp-item_withsecondtype_border: .25rem;--_ui5-v2-9-0_daypicker_item_selected__secondary_type_text_outline: .0625rem solid var(--sapSelectedColor);--_ui5-v2-9-0_daypicker_two_calendar_item_now_day_text_content: "";--_ui5-v2-9-0_daypicker_two_calendar_item_now_selected_border_width: .125rem;--_ui5-v2-9-0_daypicker_two_calendar_item_border_radius: .5rem;--_ui5-v2-9-0_daypicker_two_calendar_item_border_focus_border_radius: .375rem;--_ui5-v2-9-0_daypicker_two_calendar_item_no_selected_inset: 0;--_ui5-v2-9-0_daypicker_two_calendar_item_selected_now_border_radius_focus: .1875rem;--_ui5-v2-9-0_daypicker_two_calendar_item_no_selected_focus_inset: .1875rem;--_ui5-v2-9-0_daypicker_two_calendar_item_no_select_focus_border_radius: .3125rem;--_ui5-v2-9-0_daypicker_two_calendar_item_now_inset: .3125rem;--_ui5-v2-9-0_daypicker_two_calendar_item_now_selected_border_inset: .125rem;--_ui5-v2-9-0_daypicker_selected_item_special_day_width: calc(100% - .125rem) ;--_ui5-v2-9-0_daypicker_special_day_border_bottom_radius: .5rem;--_ui5-v2-9-0-daypicker_item_selected_now_border_radius: .5rem;--_ui5-v2-9-0_daypicker_selected_item_now_special_day_width: calc(100% - .1875rem) ;--_ui5-v2-9-0_daypicker_selected_item_now_special_day_border_bottom_radius_alternate: .5rem;--_ui5-v2-9-0_daypicker_selected_item_now_special_day_top: 2.4375rem;--_ui5-v2-9-0_daypicker_two_calendar_item_margin_bottom: 0;--_ui5-v2-9-0_daypicker_twocalendar_item_special_day_now_inset: .3125rem;--_ui5-v2-9-0_daypicker_twocalendar_item_special_day_now_border_radius: .25rem;--_ui5-v2-9-0_daypicker_item_now_focus_margin: 0;--_ui5-v2-9-0_daypicker_special_day_border_top: none;--_ui5-v2-9-0_daypicker_special_day_selected_border_radius_bottom: .25rem;--_ui5-v2-9-0_daypicker_specialday_focused_top: 2.125rem;--_ui5-v2-9-0_daypicker_specialday_focused_width: calc(100% - .75rem) ;--_ui5-v2-9-0_daypicker_specialday_focused_border_bottom: 0;--_ui5-v2-9-0_daypicker_item_now_specialday_top: 2.3125rem;--_ui5-v2-9-0_daypicker_item_now_specialday_width: calc(100% - .5rem) ;--_ui5-v2-9-0_dialog_header_error_state_icon_color: var(--sapNegativeElementColor);--_ui5-v2-9-0_dialog_header_information_state_icon_color: var(--sapInformativeElementColor);--_ui5-v2-9-0_dialog_header_success_state_icon_color: var(--sapPositiveElementColor);--_ui5-v2-9-0_dialog_header_warning_state_icon_color: var(--sapCriticalElementColor);--_ui5-v2-9-0_dialog_header_state_line_height: .0625rem;--_ui5-v2-9-0_dialog_header_focus_bottom_offset: 2px;--_ui5-v2-9-0_dialog_header_focus_top_offset: 1px;--_ui5-v2-9-0_dialog_header_focus_left_offset: 1px;--_ui5-v2-9-0_dialog_header_focus_right_offset: 1px;--_ui5-v2-9-0_dialog_header_border_radius: var(--sapElement_BorderCornerRadius);--_ui5-v2-9-0_file_uploader_value_state_error_hover_background_color: var(--sapField_Hover_Background);--_ui5-v2-9-0_file_uploader_hover_border: none;--_ui5-v2-9-0_table_cell_valign: center;--_ui5-v2-9-0_table_cell_min_width: 2.75rem;--_ui5-v2-9-0_table_navigated_cell_width: .25rem;--_ui5-v2-9-0_table_cell_horizontal_padding: .5rem;--_ui5-v2-9-0_table_cell_vertical_padding: .25rem;--_ui5-v2-9-0_table_row_actions_gap: .25rem;--ui5-v2-9-0-form-item-layout: 4fr 8fr 0fr;--ui5-v2-9-0-form-item-label-justify: end;--ui5-v2-9-0-form-item-label-justify-span12: start;--ui5-v2-9-0-form-item-label-padding: .125rem 0;--ui5-v2-9-0-form-item-label-padding-end: .85rem;--ui5-v2-9-0-form-item-label-padding-span12: .625rem .25rem 0 .25rem;--ui5-v2-9-0-group-header-listitem-background-color: var(--sapList_GroupHeaderBackground);--ui5-v2-9-0-icon-focus-border-radius: .25rem;--_ui5-v2-9-0_input_width: 13.125rem;--_ui5-v2-9-0_input_min_width: 2.75rem;--_ui5-v2-9-0_input_height: var(--sapElement_Height);--_ui5-v2-9-0_input_compact_height: 1.625rem;--_ui5-v2-9-0_input_value_state_error_hover_background: var(--sapField_Hover_Background);--_ui5-v2-9-0_input_background_color: var(--sapField_Background);--_ui5-v2-9-0_input_border_radius: var(--sapField_BorderCornerRadius);--_ui5-v2-9-0_input_placeholder_style: italic;--_ui5-v2-9-0_input_placeholder_color: var(--sapField_PlaceholderTextColor);--_ui5-v2-9-0_input_bottom_border_height: 0;--_ui5-v2-9-0_input_bottom_border_color: transparent;--_ui5-v2-9-0_input_focused_border_color: var(--sapField_Hover_BorderColor);--_ui5-v2-9-0_input_state_border_width: .125rem;--_ui5-v2-9-0_input_information_border_width: .125rem;--_ui5-v2-9-0_input_error_font_weight: normal;--_ui5-v2-9-0_input_warning_font_weight: normal;--_ui5-v2-9-0_input_focus_border_width: 1px;--_ui5-v2-9-0_input_error_warning_font_style: inherit;--_ui5-v2-9-0_input_error_warning_text_indent: 0;--_ui5-v2-9-0_input_disabled_color: var(--sapContent_DisabledTextColor);--_ui5-v2-9-0_input_disabled_font_weight: normal;--_ui5-v2-9-0_input_disabled_border_color: var(--sapField_BorderColor);--_ui5-v2-9-0-input_disabled_background: var(--sapField_Background);--_ui5-v2-9-0_input_readonly_border: none;--_ui5-v2-9-0_input_readonly_border_color: var(--sapField_ReadOnly_BorderColor);--_ui5-v2-9-0_input_readonly_background: var(--sapField_ReadOnly_Background);--_ui5-v2-9-0_input_disabled_opacity: var(--sapContent_DisabledOpacity);--_ui5-v2-9-0_input_icon_min_width: 2.25rem;--_ui5-v2-9-0_input_compact_min_width: 2rem;--_ui5-v2-9-0_input_transition: none;--_ui5-v2-9-0-input-value-state-icon-display: none;--_ui5-v2-9-0_input_value_state_error_border_color: var(--sapField_InvalidColor);--_ui5-v2-9-0_input_focused_value_state_error_border_color: var(--sapField_InvalidColor);--_ui5-v2-9-0_input_value_state_warning_border_color: var(--sapField_WarningColor);--_ui5-v2-9-0_input_focused_value_state_warning_border_color: var(--sapField_WarningColor);--_ui5-v2-9-0_input_value_state_success_border_color: var(--sapField_SuccessColor);--_ui5-v2-9-0_input_focused_value_state_success_border_color: var(--sapField_SuccessColor);--_ui5-v2-9-0_input_value_state_success_border_width: 1px;--_ui5-v2-9-0_input_value_state_information_border_color: var(--sapField_InformationColor);--_ui5-v2-9-0_input_focused_value_state_information_border_color: var(--sapField_InformationColor);--_ui5-v2-9-0-input-value-state-information-border-width: 1px;--_ui5-v2-9-0-input-background-image: none;--ui5-v2-9-0_input_focus_pseudo_element_content: "";--_ui5-v2-9-0_input_value_state_error_warning_placeholder_font_weight: normal;--_ui5-v2-9-0-input_error_placeholder_color: var(--sapField_PlaceholderTextColor);--_ui5-v2-9-0_input_icon_width: 2.25rem;--_ui5-v2-9-0-input-icons-count: 0;--_ui5-v2-9-0_input_margin_top_bottom: .1875rem;--_ui5-v2-9-0_input_tokenizer_min_width: 3.25rem;--_ui5-v2-9-0-input-border: none;--_ui5-v2-9-0_input_hover_border: none;--_ui5-v2-9-0_input_focus_border_radius: .25rem;--_ui5-v2-9-0_input_readonly_focus_border_radius: .125rem;--_ui5-v2-9-0_input_error_warning_border_style: none;--_ui5-v2-9-0_input_focused_value_state_error_background: var(--sapField_Hover_Background);--_ui5-v2-9-0_input_focused_value_state_warning_background: var(--sapField_Hover_Background);--_ui5-v2-9-0_input_focused_value_state_success_background: var(--sapField_Hover_Background);--_ui5-v2-9-0_input_focused_value_state_information_background: var(--sapField_Hover_Background);--_ui5-v2-9-0_input_focused_value_state_error_focus_outline_color: var(--sapField_InvalidColor);--_ui5-v2-9-0_input_focused_value_state_warning_focus_outline_color: var(--sapField_WarningColor);--_ui5-v2-9-0_input_focused_value_state_success_focus_outline_color: var(--sapField_SuccessColor);--_ui5-v2-9-0_input_focus_offset: 0;--_ui5-v2-9-0_input_readonly_focus_offset: .125rem;--_ui5-v2-9-0_input_information_icon_padding: .625rem .625rem .5rem .625rem;--_ui5-v2-9-0_input_information_focused_icon_padding: .625rem .625rem .5625rem .625rem;--_ui5-v2-9-0_input_error_warning_icon_padding: .625rem .625rem .5rem .625rem;--_ui5-v2-9-0_input_error_warning_focused_icon_padding: .625rem .625rem .5625rem .625rem;--_ui5-v2-9-0_input_custom_icon_padding: .625rem .625rem .5625rem .625rem;--_ui5-v2-9-0_input_error_warning_custom_icon_padding: .625rem .625rem .5rem .625rem;--_ui5-v2-9-0_input_error_warning_custom_focused_icon_padding: .625rem .625rem .5625rem .625rem;--_ui5-v2-9-0_input_information_custom_icon_padding: .625rem .625rem .5rem .625rem;--_ui5-v2-9-0_input_information_custom_focused_icon_padding: .625rem .625rem .5625rem .625rem;--_ui5-v2-9-0_input_focus_outline_color: var(--sapField_Active_BorderColor);--_ui5-v2-9-0_input_icon_wrapper_height: calc(100% - 1px) ;--_ui5-v2-9-0_input_icon_wrapper_state_height: calc(100% - 2px) ;--_ui5-v2-9-0_input_icon_wrapper_success_state_height: calc(100% - var(--_ui5-v2-9-0_input_value_state_success_border_width));--_ui5-v2-9-0_input_icon_color: var(--sapField_TextColor);--_ui5-v2-9-0_input_icon_pressed_bg: var(--sapField_Hover_Background);--_ui5-v2-9-0_input_icon_padding: .625rem .625rem .5625rem .625rem;--_ui5-v2-9-0_input_icon_hover_bg: var(--sapField_Focus_Background);--_ui5-v2-9-0_input_icon_pressed_color: var(--sapButton_Active_TextColor);--_ui5-v2-9-0_input_icon_border_radius: var(--sapField_BorderCornerRadius);--_ui5-v2-9-0_input_icon_box_shadow: var(--sapField_Hover_Shadow);--_ui5-v2-9-0_input_icon_border: none;--_ui5-v2-9-0_input_error_icon_box_shadow: var(--sapContent_Negative_Shadow);--_ui5-v2-9-0_input_warning_icon_box_shadow: var(--sapContent_Critical_Shadow);--_ui5-v2-9-0_input_information_icon_box_shadow: var(--sapContent_Informative_Shadow);--_ui5-v2-9-0_input_success_icon_box_shadow: var(--sapContent_Positive_Shadow);--_ui5-v2-9-0_input_icon_error_pressed_color: var(--sapButton_Reject_Selected_TextColor);--_ui5-v2-9-0_input_icon_warning_pressed_color: var(--sapButton_Attention_Selected_TextColor);--_ui5-v2-9-0_input_icon_information_pressed_color: var(--sapButton_Selected_TextColor);--_ui5-v2-9-0_input_icon_success_pressed_color: var(--sapButton_Accept_Selected_TextColor);--_ui5-v2-9-0_link_focus_text_decoration: underline;--_ui5-v2-9-0_link_text_decoration: var(--sapLink_TextDecoration);--_ui5-v2-9-0_link_hover_text_decoration: var(--sapLink_Hover_TextDecoration);--_ui5-v2-9-0_link_focused_hover_text_decoration: none;--_ui5-v2-9-0_link_focused_hover_text_color: var(--sapContent_ContrastTextColor);--_ui5-v2-9-0_link_active_text_decoration: var(--sapLink_Active_TextDecoration);--_ui5-v2-9-0_link_outline: none;--_ui5-v2-9-0_link_focus_border-radius: .125rem;--_ui5-v2-9-0_link_focus_background_color: var(--sapContent_FocusColor);--_ui5-v2-9-0_link_focus_color: var(--sapContent_ContrastTextColor);--_ui5-v2-9-0_link_subtle_text_decoration: underline;--_ui5-v2-9-0_link_subtle_text_decoration_hover: none;--_ui5-v2-9-0_link_large_interactive_area_height: 1.5rem;--ui5-v2-9-0_list_footer_text_color: var(--sapList_FooterTextColor);--ui5-v2-9-0-listitem-background-color: var(--sapList_Background);--ui5-v2-9-0-listitem-border-bottom: var(--sapList_BorderWidth) solid var(--sapList_BorderColor);--ui5-v2-9-0-listitem-selected-border-bottom: 1px solid var(--sapList_SelectionBorderColor);--ui5-v2-9-0-listitem-focused-selected-border-bottom: 1px solid var(--sapList_SelectionBorderColor);--_ui5-v2-9-0_listitembase_focus_width: 1px;--_ui5-v2-9-0-listitembase_disabled_opacity: .5;--_ui5-v2-9-0_product_switch_item_border: none;--ui5-v2-9-0-listitem-active-border-color: var(--sapContent_FocusColor);--_ui5-v2-9-0_menu_item_padding: 0 1rem 0 .75rem;--_ui5-v2-9-0_menu_item_submenu_icon_right: 1rem;--_ui5-v2-9-0_menu_item_additional_text_start_margin: 1rem;--_ui5-v2-9-0_menu_popover_border_radius: var(--sapPopover_BorderCornerRadius);--_ui5-v2-9-0_monthpicker_item_margin: .0625rem;--_ui5-v2-9-0_monthpicker_item_border: .0625rem solid var(--sapButton_Lite_BorderColor);--_ui5-v2-9-0_monthpicker_item_hover_border: .0625rem solid var(--sapButton_Lite_Hover_BorderColor);--_ui5-v2-9-0_monthpicker_item_active_border: .0625rem solid var(--sapButton_Lite_Active_BorderColor);--_ui5-v2-9-0_monthpicker_item_selected_border: .0625rem solid var(--sapButton_Selected_BorderColor);--_ui5-v2-9-0_monthpicker_item_selected_hover_border: .0625rem solid var(--sapButton_Selected_Hover_BorderColor);--_ui5-v2-9-0_monthpicker_item_border_radius: .5rem;--_ui5-v2-9-0_message_strip_icon_width: 2.5rem;--_ui5-v2-9-0_message_strip_button_border_width: 0;--_ui5-v2-9-0_message_strip_button_border_style: none;--_ui5-v2-9-0_message_strip_button_border_color: transparent;--_ui5-v2-9-0_message_strip_button_border_radius: 0;--_ui5-v2-9-0_message_strip_padding: .4375rem 2.5rem .4375rem 2.5rem;--_ui5-v2-9-0_message_strip_padding_block_no_icon: .4375rem .4375rem;--_ui5-v2-9-0_message_strip_padding_inline_no_icon: 1rem 2.5rem;--_ui5-v2-9-0_message_strip_button_height: 1.625rem;--_ui5-v2-9-0_message_strip_border_width: var(--sapMessage_BorderWidth);--_ui5-v2-9-0_message_strip_close_button_border: none;--_ui5-v2-9-0_message_strip_icon_top: .4375rem;--_ui5-v2-9-0_message_strip_focus_width: 1px;--_ui5-v2-9-0_message_strip_focus_offset: -2px;--_ui5-v2-9-0_message_strip_close_button_top: .125rem;--_ui5-v2-9-0_message_strip_close_button_color_set_1_background: var(--sapMessage_Button_Hover_Background);--_ui5-v2-9-0_message_strip_close_button_color_set_2_background: var(--sapMessage_Button_Hover_Background);--_ui5-v2-9-0_message_strip_close_button_color_set_1_color: var(--sapContent_ContrastIconColor);--_ui5-v2-9-0_message_strip_close_button_color_set_1_hover_color: var(--sapContent_ContrastIconColor);--_ui5-v2-9-0_message_strip_scheme_1_set_2_background: var(--sapIndicationColor_1b);--_ui5-v2-9-0_message_strip_scheme_1_set_2_border_color: var(--sapIndicationColor_1b_BorderColor);--_ui5-v2-9-0_message_strip_scheme_2_set_2_background: var(--sapIndicationColor_2b);--_ui5-v2-9-0_message_strip_scheme_2_set_2_border_color: var(--sapIndicationColor_2b_BorderColor);--_ui5-v2-9-0_message_strip_scheme_3_set_2_background: var(--sapIndicationColor_3b);--_ui5-v2-9-0_message_strip_scheme_3_set_2_border_color: var(--sapIndicationColor_3b_BorderColor);--_ui5-v2-9-0_message_strip_scheme_4_set_2_background: var(--sapIndicationColor_4b);--_ui5-v2-9-0_message_strip_scheme_4_set_2_border_color: var(--sapIndicationColor_4b_BorderColor);--_ui5-v2-9-0_message_strip_scheme_5_set_2_background: var(--sapIndicationColor_5b);--_ui5-v2-9-0_message_strip_scheme_5_set_2_border_color: var(--sapIndicationColor_5b_BorderColor);--_ui5-v2-9-0_message_strip_scheme_6_set_2_background: var(--sapIndicationColor_6b);--_ui5-v2-9-0_message_strip_scheme_6_set_2_border_color: var(--sapIndicationColor_6b_BorderColor);--_ui5-v2-9-0_message_strip_scheme_7_set_2_background: var(--sapIndicationColor_7b);--_ui5-v2-9-0_message_strip_scheme_7_set_2_border_color: var(--sapIndicationColor_7b_BorderColor);--_ui5-v2-9-0_message_strip_scheme_8_set_2_background: var(--sapIndicationColor_8b);--_ui5-v2-9-0_message_strip_scheme_8_set_2_border_color: var(--sapIndicationColor_8b_BorderColor);--_ui5-v2-9-0_message_strip_scheme_9_set_2_background: var(--sapIndicationColor_9b);--_ui5-v2-9-0_message_strip_scheme_9_set_2_border_color: var(--sapIndicationColor_9b_BorderColor);--_ui5-v2-9-0_message_strip_scheme_10_set_2_background: var(--sapIndicationColor_10b);--_ui5-v2-9-0_message_strip_scheme_10_set_2_border_color: var(--sapIndicationColor_10b_BorderColor);--_ui5-v2-9-0_message_strip_close_button_right: .1875rem;--_ui5-v2-9-0_panel_focus_border: var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);--_ui5-v2-9-0_panel_header_height: 2.75rem;--_ui5-v2-9-0_panel_button_root_width: 2.75rem;--_ui5-v2-9-0_panel_button_root_height: 2.75rem;--_ui5-v2-9-0_panel_header_padding_right: .5rem;--_ui5-v2-9-0_panel_header_button_wrapper_padding: .25rem;--_ui5-v2-9-0_panel_border_radius: var(--sapGroup_BorderCornerRadius);--_ui5-v2-9-0_panel_border_bottom: none;--_ui5-v2-9-0_panel_default_header_border: .0625rem solid var(--sapGroup_TitleBorderColor);--_ui5-v2-9-0_panel_outline_offset: -.125rem;--_ui5-v2-9-0_panel_border_radius_expanded: var(--sapElement_BorderCornerRadius) var(--sapElement_BorderCornerRadius) 0 0;--_ui5-v2-9-0_panel_icon_color: var(--sapButton_Lite_TextColor);--_ui5-v2-9-0_panel_focus_offset: 0px;--_ui5-v2-9-0_panel_focus_bottom_offset: -1px;--_ui5-v2-9-0_panel_content_padding: .625rem 1rem;--_ui5-v2-9-0_panel_header_background_color: var(--sapGroup_TitleBackground);--_ui5-v2-9-0_popover_background: var(--sapGroup_ContentBackground);--_ui5-v2-9-0_popover_box_shadow: var(--sapContent_Shadow2);--_ui5-v2-9-0_popover_no_arrow_box_shadow: var(--sapContent_Shadow1);--_ui5-v2-9-0_popup_content_padding_s: 1rem;--_ui5-v2-9-0_popup_content_padding_m_l: 2rem;--_ui5-v2-9-0_popup_content_padding_xl: 3rem;--_ui5-v2-9-0_popup_header_footer_padding_s: 1rem;--_ui5-v2-9-0_popup_header_footer_padding_m_l: 2rem;--_ui5-v2-9-0_popup_header_footer_padding_xl: 3rem;--_ui5-v2-9-0_popup_viewport_margin: 10px;--_ui5-v2-9-0_popup_header_font_weight: 400;--_ui5-v2-9-0_popup_header_prop_header_text_alignment: flex-start;--_ui5-v2-9-0_popup_header_background: var(--sapPageHeader_Background);--_ui5-v2-9-0_popup_header_shadow: var(--sapContent_HeaderShadow);--_ui5-v2-9-0_popup_header_border: none;--_ui5-v2-9-0_popup_border_radius: .5rem;--_ui5-v2-9-0_popup_block_layer_background: var(--sapBlockLayer_Background);--_ui5-v2-9-0_popup_block_layer_opacity: .2;--_ui5-v2-9-0_progress_indicator_bar_border_max: none;--_ui5-v2-9-0_progress_indicator_icon_visibility: inline-block;--_ui5-v2-9-0_progress_indicator_side_points_visibility: block;--_ui5-v2-9-0_progress_indicator_padding: 1.25rem 0 .75rem 0;--_ui5-v2-9-0_progress_indicator_padding_novalue: .3125rem;--_ui5-v2-9-0_progress_indicator_padding_end: 1.25rem;--_ui5-v2-9-0_progress_indicator_host_height: unset;--_ui5-v2-9-0_progress_indicator_host_min_height: unset;--_ui5-v2-9-0_progress_indicator_host_box_sizing: border-box;--_ui5-v2-9-0_progress_indicator_root_position: relative;--_ui5-v2-9-0_progress_indicator_root_border_radius: .25rem;--_ui5-v2-9-0_progress_indicator_root_height: .375rem;--_ui5-v2-9-0_progress_indicator_root_min_height: .375rem;--_ui5-v2-9-0_progress_indicator_root_overflow: visible;--_ui5-v2-9-0_progress_indicator_bar_height: .625rem;--_ui5-v2-9-0_progress_indicator_bar_border_radius: .5rem;--_ui5-v2-9-0_progress_indicator_remaining_bar_border_radius: .25rem;--_ui5-v2-9-0_progress_indicator_remaining_bar_position: absolute;--_ui5-v2-9-0_progress_indicator_remaining_bar_width: 100%;--_ui5-v2-9-0_progress_indicator_remaining_bar_overflow: visible;--_ui5-v2-9-0_progress_indicator_icon_position: absolute;--_ui5-v2-9-0_progress_indicator_icon_right_position: -1.25rem;--_ui5-v2-9-0_progress_indicator_value_margin: 0 0 .1875rem 0;--_ui5-v2-9-0_progress_indicator_value_position: absolute;--_ui5-v2-9-0_progress_indicator_value_top_position: -1.3125rem;--_ui5-v2-9-0_progress_indicator_value_left_position: 0;--_ui5-v2-9-0_progress_indicator_background_none: var(--sapProgress_Background);--_ui5-v2-9-0_progress_indicator_background_error: var(--sapProgress_NegativeBackground);--_ui5-v2-9-0_progress_indicator_background_warning: var(--sapProgress_CriticalBackground);--_ui5-v2-9-0_progress_indicator_background_success: var(--sapProgress_PositiveBackground);--_ui5-v2-9-0_progress_indicator_background_information: var(--sapProgress_InformationBackground);--_ui5-v2-9-0_progress_indicator_value_state_none: var(--sapProgress_Value_Background);--_ui5-v2-9-0_progress_indicator_value_state_error: var(--sapProgress_Value_NegativeBackground);--_ui5-v2-9-0_progress_indicator_value_state_warning: var(--sapProgress_Value_CriticalBackground);--_ui5-v2-9-0_progress_indicator_value_state_success: var(--sapProgress_Value_PositiveBackground);--_ui5-v2-9-0_progress_indicator_value_state_information: var(--sapProgress_Value_InformationBackground);--_ui5-v2-9-0_progress_indicator_value_state_error_icon_color: var(--sapProgress_Value_NegativeTextColor);--_ui5-v2-9-0_progress_indicator_value_state_warning_icon_color: var(--sapProgress_Value_CriticalTextColor);--_ui5-v2-9-0_progress_indicator_value_state_success_icon_color: var(--sapProgress_Value_PositiveTextColor);--_ui5-v2-9-0_progress_indicator_value_state_information_icon_color: var(--sapProgress_Value_InformationTextColor);--_ui5-v2-9-0_progress_indicator_border: none;--_ui5-v2-9-0_progress_indicator_border_color_error: var(--sapErrorBorderColor);--_ui5-v2-9-0_progress_indicator_border_color_warning: var(--sapWarningBorderColor);--_ui5-v2-9-0_progress_indicator_border_color_success: var(--sapSuccessBorderColor);--_ui5-v2-9-0_progress_indicator_border_color_information: var(--sapInformationBorderColor);--_ui5-v2-9-0_progress_indicator_color: var(--sapField_TextColor);--_ui5-v2-9-0_progress_indicator_bar_color: var(--sapProgress_TextColor);--_ui5-v2-9-0_progress_indicator_icon_size: var(--sapFontLargeSize);--_ui5-v2-9-0_rating_indicator_border_radius: .5rem;--_ui5-v2-9-0_rating_indicator_outline_offset: -.125rem;--_ui5-v2-9-0_rating_indicator_item_height: 1em;--_ui5-v2-9-0_rating_indicator_item_width: 1em;--_ui5-v2-9-0_rating_indicator_component_spacing: .5rem 0px;--_ui5-v2-9-0_rating_indicator_component_padding: .25rem;--_ui5-v2-9-0_rating_indicator_item_size_s: 1.375rem;--_ui5-v2-9-0_rating_indicator_item_size_l: 2rem;--_ui5-v2-9-0_rating_indicator_readonly_item_height: .75em;--_ui5-v2-9-0_rating_indicator_readonly_item_width: .75em;--_ui5-v2-9-0_rating_indicator_readonly_item_spacing: .1875rem .1875rem;--_ui5-v2-9-0_segmented_btn_inner_border: .0625rem solid transparent;--_ui5-v2-9-0_segmented_btn_inner_border_odd_child: .0625rem solid transparent;--_ui5-v2-9-0_segmented_btn_inner_pressed_border_odd_child: .0625rem solid var(--sapButton_Selected_BorderColor);--_ui5-v2-9-0_segmented_btn_background_color: var(--sapButton_Lite_Background);--_ui5-v2-9-0_segmented_btn_border_color: var(--sapButton_Lite_BorderColor);--_ui5-v2-9-0_segmented_btn_hover_box_shadow: none;--_ui5-v2-9-0_segmented_btn_item_border_left: .0625rem;--_ui5-v2-9-0_segmented_btn_item_border_right: .0625rem;--_ui5-v2-9-0_button_base_min_compact_width: 2rem;--_ui5-v2-9-0_button_base_height: var(--sapElement_Height);--_ui5-v2-9-0_button_compact_height: 1.625rem;--_ui5-v2-9-0_button_border_radius: var(--sapButton_BorderCornerRadius);--_ui5-v2-9-0_button_compact_padding: .4375rem;--_ui5-v2-9-0_button_emphasized_outline: 1px dotted var(--sapContent_FocusColor);--_ui5-v2-9-0_button_focus_offset: 1px;--_ui5-v2-9-0_button_focus_width: 1px;--_ui5-v2-9-0_button_emphasized_focused_border_before: .125rem solid var(--sapContent_FocusColor);--_ui5-v2-9-0_button_emphasized_focused_active_border_color: transparent;--_ui5-v2-9-0_button_focused_border: .125rem solid var(--sapContent_FocusColor);--_ui5-v2-9-0_button_focused_border_radius: .375rem;--_ui5-v2-9-0_button_focused_inner_border_radius: .375rem;--_ui5-v2-9-0_button_base_min_width: 2.25rem;--_ui5-v2-9-0_button_base_padding: .5625rem;--_ui5-v2-9-0_button_base_icon_only_padding: .5625rem;--_ui5-v2-9-0_button_base_icon_margin: .375rem;--_ui5-v2-9-0_button_icon_font_size: 1rem;--_ui5-v2-9-0_button_text_shadow: none;--_ui5-v2-9-0_button_emphasized_border_width: .0625rem;--_ui5-v2-9-0_button_pressed_focused_border_color: var(--sapContent_FocusColor);--_ui5-v2-9-0_button_fontFamily: var(--sapFontSemiboldDuplexFamily);--_ui5-v2-9-0_button_emphasized_focused_border_color: var(--sapContent_ContrastFocusColor);--_ui5-v2-9-0_radio_button_min_width: 2.75rem;--_ui5-v2-9-0_radio_button_checked_fill: var(--sapSelectedColor);--_ui5-v2-9-0_radio_button_checked_error_fill: var(--sapField_InvalidColor);--_ui5-v2-9-0_radio_button_checked_success_fill: var(--sapField_SuccessColor);--_ui5-v2-9-0_radio_button_checked_information_fill: var(--sapField_InformationColor);--_ui5-v2-9-0_radio_button_warning_error_border_dash: 0;--_ui5-v2-9-0_radio_button_outer_ring_color: var(--sapField_BorderColor);--_ui5-v2-9-0_radio_button_outer_ring_width: var(--sapField_BorderWidth);--_ui5-v2-9-0_radio_button_outer_ring_bg: var(--sapField_Background);--_ui5-v2-9-0_radio_button_outer_ring_hover_color: var(--sapField_Hover_BorderColor);--_ui5-v2-9-0_radio_button_outer_ring_active_color: var(--sapField_Hover_BorderColor);--_ui5-v2-9-0_radio_button_outer_ring_checked_hover_color: var(--sapField_Hover_BorderColor);--_ui5-v2-9-0_radio_button_outer_ring_padding_with_label: 0 .6875rem;--_ui5-v2-9-0_radio_button_border: none;--_ui5-v2-9-0_radio_button_focus_outline: block;--_ui5-v2-9-0_radio_button_color: var(--sapField_BorderColor);--_ui5-v2-9-0_radio_button_label_offset: 1px;--_ui5-v2-9-0_radio_button_items_align: unset;--_ui5-v2-9-0_radio_button_read_only_border_type: 4,2;--_ui5-v2-9-0_radio_button_information_border_width: var(--sapField_InformationBorderWidth);--_ui5-v2-9-0_radio_button_hover_fill: var(--sapField_Selector_Hover_Background);--_ui5-v2-9-0_radio_button_hover_fill_error: var(--sapField_Selector_Hover_InvalidBackground);--_ui5-v2-9-0_radio_button_hover_fill_warning: var(--sapField_Selector_Hover_WarningBackground);--_ui5-v2-9-0_radio_button_hover_fill_success: var(--sapField_Selector_Hover_SuccessBackground);--_ui5-v2-9-0_radio_button_hover_fill_information: var(--sapField_Selector_Hover_InformationBackground);--_ui5-v2-9-0_radio_button_border_width: var(--sapContent_FocusWidth);--_ui5-v2-9-0_radio_button_border_radius: .5rem;--_ui5-v2-9-0_radio_button_label_color: var(--sapField_TextColor);--_ui5-v2-9-0_radio_button_inner_ring_radius: 27.5%;--_ui5-v2-9-0_radio_button_outer_ring_padding: 0 .6875rem;--_ui5-v2-9-0_radio_button_inner_ring_color: var(--sapContent_Selected_ForegroundColor);--_ui5-v2-9-0_radio_button_checked_warning_fill: var(--sapField_WarningColor);--_ui5-v2-9-0_radio_button_read_only_inner_ring_color: var(--sapField_TextColor);--_ui5-v2-9-0_radio_button_read_only_border_width: var(--sapElement_BorderWidth);--_ui5-v2-9-0_radio_button_focus_dist: .375rem;--_ui5-v2-9-0_switch_height: 2.75rem;--_ui5-v2-9-0_switch_foucs_border_size: 1px;--_ui5-v2-9-0-switch-root-border-radius: 0;--_ui5-v2-9-0-switch-root-box-shadow: none;--_ui5-v2-9-0-switch-focus: "";--_ui5-v2-9-0_switch_track_border_radius: .75rem;--_ui5-v2-9-0-switch-track-border: 1px solid;--_ui5-v2-9-0_switch_track_transition: none;--_ui5-v2-9-0_switch_handle_border_radius: 1rem;--_ui5-v2-9-0-switch-slider-texts-display: inline;--_ui5-v2-9-0_switch_width: 2.5rem;--_ui5-v2-9-0_switch_min_width: none;--_ui5-v2-9-0_switch_with_label_width: 2.875rem;--_ui5-v2-9-0_switch_focus_outline: none;--_ui5-v2-9-0_switch_root_after_outline: .125rem solid var(--sapContent_FocusColor);--_ui5-v2-9-0_switch_root_after_boreder: none;--_ui5-v2-9-0_switch_root_after_boreder_radius: 1rem;--_ui5-v2-9-0_switch_root_outline_top: .5rem;--_ui5-v2-9-0_switch_root_outline_bottom: .5rem;--_ui5-v2-9-0_switch_root_outline_left: -.125rem;--_ui5-v2-9-0_switch_root_outline_right: -.125rem;--_ui5-v2-9-0_switch_disabled_opacity: var(--sapContent_DisabledOpacity);--_ui5-v2-9-0_switch_transform: translateX(100%) translateX(-1.625rem);--_ui5-v2-9-0_switch_transform_with_label: translateX(100%) translateX(-1.875rem);--_ui5-v2-9-0_switch_rtl_transform: translateX(-100%) translateX(1.625rem);--_ui5-v2-9-0_switch_rtl_transform_with_label: translateX(-100%) translateX(1.875rem);--_ui5-v2-9-0_switch_track_width: 2.5rem;--_ui5-v2-9-0_switch_track_height: 1.5rem;--_ui5-v2-9-0_switch_track_with_label_width: 2.875rem;--_ui5-v2-9-0_switch_track_with_label_height: 1.5rem;--_ui5-v2-9-0_switch_track_active_background_color: var(--sapButton_Track_Selected_Background);--_ui5-v2-9-0_switch_track_inactive_background_color: var(--sapButton_Track_Background);--_ui5-v2-9-0_switch_track_hover_active_background_color: var(--sapButton_Track_Selected_Hover_Background);--_ui5-v2-9-0_switch_track_hover_inactive_background_color: var(--sapButton_Track_Hover_Background);--_ui5-v2-9-0_switch_track_active_border_color: var(--sapButton_Track_Selected_BorderColor);--_ui5-v2-9-0_switch_track_inactive_border_color: var(--sapButton_Track_BorderColor);--_ui5-v2-9-0_switch_track_hover_active_border_color: var(--sapButton_Track_Selected_Hover_BorderColor);--_ui5-v2-9-0_switch_track_hover_inactive_border_color: var(--sapButton_Track_Hover_BorderColor);--_ui5-v2-9-0_switch_track_semantic_accept_background_color: var(--sapButton_Track_Positive_Background);--_ui5-v2-9-0_switch_track_semantic_reject_background_color: var(--sapButton_Track_Negative_Background);--_ui5-v2-9-0_switch_track_semantic_hover_accept_background_color: var(--sapButton_Track_Positive_Hover_Background);--_ui5-v2-9-0_switch_track_semantic_hover_reject_background_color: var(--sapButton_Track_Negative_Hover_Background);--_ui5-v2-9-0_switch_track_semantic_accept_border_color: var(--sapButton_Track_Positive_BorderColor);--_ui5-v2-9-0_switch_track_semantic_reject_border_color: var(--sapButton_Track_Negative_BorderColor);--_ui5-v2-9-0_switch_track_semantic_hover_accept_border_color: var(--sapButton_Track_Positive_Hover_BorderColor);--_ui5-v2-9-0_switch_track_semantic_hover_reject_border_color: var(--sapButton_Track_Negative_Hover_BorderColor);--_ui5-v2-9-0_switch_track_icon_display: inline-block;--_ui5-v2-9-0_switch_handle_width: 1.5rem;--_ui5-v2-9-0_switch_handle_height: 1.25rem;--_ui5-v2-9-0_switch_handle_with_label_width: 1.75rem;--_ui5-v2-9-0_switch_handle_with_label_height: 1.25rem;--_ui5-v2-9-0_switch_handle_border: var(--_ui5-v2-9-0_switch_handle_border_width) solid var(--sapButton_Handle_BorderColor);--_ui5-v2-9-0_switch_handle_border_width: .125rem;--_ui5-v2-9-0_switch_handle_active_background_color: var(--sapButton_Handle_Selected_Background);--_ui5-v2-9-0_switch_handle_inactive_background_color: var(--sapButton_Handle_Background);--_ui5-v2-9-0_switch_handle_hover_active_background_color: var(--sapButton_Handle_Selected_Hover_Background);--_ui5-v2-9-0_switch_handle_hover_inactive_background_color: var(--sapButton_Handle_Hover_Background);--_ui5-v2-9-0_switch_handle_active_border_color: var(--sapButton_Handle_Selected_BorderColor);--_ui5-v2-9-0_switch_handle_inactive_border_color: var(--sapButton_Handle_BorderColor);--_ui5-v2-9-0_switch_handle_hover_active_border_color: var(--sapButton_Handle_Selected_BorderColor);--_ui5-v2-9-0_switch_handle_hover_inactive_border_color: var(--sapButton_Handle_BorderColor);--_ui5-v2-9-0_switch_handle_semantic_accept_background_color: var(--sapButton_Handle_Positive_Background);--_ui5-v2-9-0_switch_handle_semantic_reject_background_color: var(--sapButton_Handle_Negative_Background);--_ui5-v2-9-0_switch_handle_semantic_hover_accept_background_color: var(--sapButton_Handle_Positive_Hover_Background);--_ui5-v2-9-0_switch_handle_semantic_hover_reject_background_color: var(--sapButton_Handle_Negative_Hover_Background);--_ui5-v2-9-0_switch_handle_semantic_accept_border_color: var(--sapButton_Handle_Positive_BorderColor);--_ui5-v2-9-0_switch_handle_semantic_reject_border_color: var(--sapButton_Handle_Negative_BorderColor);--_ui5-v2-9-0_switch_handle_semantic_hover_accept_border_color: var(--sapButton_Handle_Positive_BorderColor);--_ui5-v2-9-0_switch_handle_semantic_hover_reject_border_color: var(--sapButton_Handle_Negative_BorderColor);--_ui5-v2-9-0_switch_handle_on_hover_box_shadow: 0 0 0 .125rem var(--sapButton_Handle_Selected_Hover_BorderColor);--_ui5-v2-9-0_switch_handle_off_hover_box_shadow: 0 0 0 .125rem var(--sapButton_Handle_Hover_BorderColor);--_ui5-v2-9-0_switch_handle_semantic_on_hover_box_shadow: 0 0 0 .125rem var(--sapButton_Handle_Positive_Hover_BorderColor);--_ui5-v2-9-0_switch_handle_semantic_off_hover_box_shadow: 0 0 0 .125rem var(--sapButton_Handle_Negative_Hover_BorderColor);--_ui5-v2-9-0_switch_handle_left: .0625rem;--_ui5-v2-9-0_switch_text_font_family: var(--sapContent_IconFontFamily);--_ui5-v2-9-0_switch_text_font_size: var(--sapFontLargeSize);--_ui5-v2-9-0_switch_text_width: 1.25rem;--_ui5-v2-9-0_switch_text_with_label_font_family: "72-Condensed-Bold" , "72" , "72full" , Arial, Helvetica, sans-serif;--_ui5-v2-9-0_switch_text_with_label_font_size: var(--sapFontSmallSize);--_ui5-v2-9-0_switch_text_with_label_width: 1.75rem;--_ui5-v2-9-0_switch_text_inactive_left: .1875rem;--_ui5-v2-9-0_switch_text_inactive_left_alternate: .0625rem;--_ui5-v2-9-0_switch_text_inactive_right: auto;--_ui5-v2-9-0_switch_text_inactive_right_alternate: 0;--_ui5-v2-9-0_switch_text_active_left: .1875rem;--_ui5-v2-9-0_switch_text_active_left_alternate: .0625rem;--_ui5-v2-9-0_switch_text_active_right: auto;--_ui5-v2-9-0_switch_text_active_color: var(--sapButton_Handle_Selected_TextColor);--_ui5-v2-9-0_switch_text_inactive_color: var(--sapButton_Handle_TextColor);--_ui5-v2-9-0_switch_text_semantic_accept_color: var(--sapButton_Handle_Positive_TextColor);--_ui5-v2-9-0_switch_text_semantic_reject_color: var(--sapButton_Handle_Negative_TextColor);--_ui5-v2-9-0_switch_text_overflow: hidden;--_ui5-v2-9-0_switch_text_z_index: 1;--_ui5-v2-9-0_switch_text_hidden: hidden;--_ui5-v2-9-0_switch_text_min_width: none;--_ui5-v2-9-0_switch_icon_width: 1rem;--_ui5-v2-9-0_switch_icon_height: 1rem;--_ui5-v2-9-0_select_label_color: var(--sapField_TextColor);--_ui5-v2-9-0_select_hover_icon_left_border: none;--_ui5-v2-9-0_select_option_focus_border_radius: var(--sapElement_BorderCornerRadius);--_ui5-v2-9-0_split_button_host_transparent_hover_background: transparent;--_ui5-v2-9-0_split_button_transparent_disabled_background: transparent;--_ui5-v2-9-0_split_button_host_default_box_shadow: inset 0 0 0 var(--sapButton_BorderWidth) var(--sapButton_BorderColor);--_ui5-v2-9-0_split_button_host_attention_box_shadow: inset 0 0 0 var(--sapButton_BorderWidth) var(--sapButton_Attention_BorderColor);--_ui5-v2-9-0_split_button_host_emphasized_box_shadow: inset 0 0 0 var(--sapButton_BorderWidth) var(--sapButton_Emphasized_BorderColor);--_ui5-v2-9-0_split_button_host_positive_box_shadow: inset 0 0 0 var(--sapButton_BorderWidth) var(--sapButton_Accept_BorderColor);--_ui5-v2-9-0_split_button_host_negative_box_shadow: inset 0 0 0 var(--sapButton_BorderWidth) var(--sapButton_Reject_BorderColor);--_ui5-v2-9-0_split_button_host_transparent_box_shadow: inset 0 0 0 var(--sapButton_BorderWidth) var(--sapButton_Lite_BorderColor);--_ui5-v2-9-0_split_text_button_border_color: transparent;--_ui5-v2-9-0_split_text_button_background_color: transparent;--_ui5-v2-9-0_split_text_button_emphasized_border: var(--sapButton_BorderWidth) solid var(--sapButton_Emphasized_BorderColor);--_ui5-v2-9-0_split_text_button_emphasized_border_width: .0625rem;--_ui5-v2-9-0_split_text_button_hover_border: var(--sapButton_BorderWidth) solid var(--sapButton_BorderColor);--_ui5-v2-9-0_split_text_button_emphasized_hover_border: var(--sapButton_BorderWidth) solid var(--sapButton_Emphasized_BorderColor);--_ui5-v2-9-0_split_text_button_positive_hover_border: var(--sapButton_BorderWidth) solid var(--sapButton_Accept_BorderColor);--_ui5-v2-9-0_split_text_button_negative_hover_border: var(--sapButton_BorderWidth) solid var(--sapButton_Reject_BorderColor);--_ui5-v2-9-0_split_text_button_attention_hover_border: var(--sapButton_BorderWidth) solid var(--sapButton_Attention_BorderColor);--_ui5-v2-9-0_split_text_button_transparent_hover_border: var(--sapButton_BorderWidth) solid var(--sapButton_BorderColor);--_ui5-v2-9-0_split_arrow_button_hover_border: var(--sapButton_BorderWidth) solid var(--sapButton_BorderColor);--_ui5-v2-9-0_split_arrow_button_emphasized_hover_border: var(--sapButton_BorderWidth) solid var(--sapButton_Emphasized_BorderColor);--_ui5-v2-9-0_split_arrow_button_emphasized_hover_border_left: var(--sapButton_BorderWidth) solid var(--sapButton_Emphasized_BorderColor);--_ui5-v2-9-0_split_arrow_button_positive_hover_border: var(--sapButton_BorderWidth) solid var(--sapButton_Accept_BorderColor);--_ui5-v2-9-0_split_arrow_button_negative_hover_border: var(--sapButton_BorderWidth) solid var(--sapButton_Reject_BorderColor);--_ui5-v2-9-0_split_arrow_button_attention_hover_border: var(--sapButton_BorderWidth) solid var(--sapButton_Attention_BorderColor);--_ui5-v2-9-0_split_arrow_button_transparent_hover_border: var(--sapButton_BorderWidth) solid var(--sapButton_BorderColor);--_ui5-v2-9-0_split_text_button_hover_border_left: var(--sapButton_BorderWidth) solid var(--sapButton_BorderColor);--_ui5-v2-9-0_split_text_button_emphasized_hover_border_left: var(--sapButton_BorderWidth) solid var(--sapButton_Emphasized_BorderColor);--_ui5-v2-9-0_split_text_button_positive_hover_border_left: var(--sapButton_BorderWidth) solid var(--sapButton_Accept_BorderColor);--_ui5-v2-9-0_split_text_button_negative_hover_border_left: var(--sapButton_BorderWidth) solid var(--sapButton_Reject_BorderColor);--_ui5-v2-9-0_split_text_button_attention_hover_border_left: var(--sapButton_BorderWidth) solid var(--sapButton_Attention_BorderColor);--_ui5-v2-9-0_split_text_button_transparent_hover_border_left: var(--sapButton_BorderWidth) solid var(--sapButton_BorderColor);--_ui5-v2-9-0_split_button_focused_border: .125rem solid var(--sapContent_FocusColor);--_ui5-v2-9-0_split_button_focused_border_radius: .375rem;--_ui5-v2-9-0_split_button_middle_separator_width: 0;--_ui5-v2-9-0_split_button_middle_separator_left: -.0625rem;--_ui5-v2-9-0_split_button_middle_separator_hover_display: none;--_ui5-v2-9-0_split_button_text_button_width: 2.375rem;--_ui5-v2-9-0_split_button_text_button_right_border_width: .0625rem;--_ui5-v2-9-0_split_button_transparent_hover_background: var(--sapButton_Lite_Hover_Background);--_ui5-v2-9-0_split_button_transparent_hover_color: var(--sapButton_TextColor);--_ui5-v2-9-0_split_button_host_transparent_hover_box_shadow: inset 0 0 0 var(--sapButton_BorderWidth) var(--sapButton_BorderColor);--_ui5-v2-9-0_split_button_inner_focused_border_radius_outer: .375rem;--_ui5-v2-9-0_split_button_inner_focused_border_radius_inner: .375rem;--_ui5-v2-9-0_split_button_emphasized_separator_color: transparent;--_ui5-v2-9-0_split_button_positive_separator_color: transparent;--_ui5-v2-9-0_split_button_negative_separator_color: transparent;--_ui5-v2-9-0_split_button_attention_separator_color: transparent;--_ui5-v2-9-0_split_button_attention_separator_color_default: var(--sapButton_Attention_TextColor);--_ui5-v2-9-0_split_text_button_hover_border_right: var(--sapButton_BorderWidth) solid var(--sapButton_BorderColor);--_ui5-v2-9-0_split_text_button_emphasized_hover_border_right: none;--_ui5-v2-9-0_split_text_button_positive_hover_border_right: var(--sapButton_BorderWidth) solid var(--sapButton_Accept_BorderColor);--_ui5-v2-9-0_split_text_button_negative_hover_border_right: var(--sapButton_BorderWidth) solid var(--sapButton_Reject_BorderColor);--_ui5-v2-9-0_split_text_button_attention_hover_border_right: var(--sapButton_BorderWidth) solid var(--sapButton_Attention_BorderColor);--_ui5-v2-9-0_split_text_button_transparent_hover_border_right: var(--sapButton_BorderWidth) solid var(--sapButton_BorderColor);--_ui5-v2-9-0_split_button_middle_separator_hover_display_emphasized: none;--_ui5-v2-9-0_tc_header_height: var(--_ui5-v2-9-0_tc_item_height);--_ui5-v2-9-0_tc_header_height_text_only: var(--_ui5-v2-9-0_tc_item_text_only_height);--_ui5-v2-9-0_tc_header_height_text_with_additional_text: var(--_ui5-v2-9-0_tc_item_text_only_with_additional_text_height);--_ui5-v2-9-0_tc_header_box_shadow: var(--sapContent_HeaderShadow);--_ui5-v2-9-0_tc_header_background: var(--sapObjectHeader_Background);--_ui5-v2-9-0_tc_header_background_translucent: var(--sapObjectHeader_Background);--_ui5-v2-9-0_tc_content_background: var(--sapBackgroundColor);--_ui5-v2-9-0_tc_content_background_translucent: var(--sapGroup_ContentBackground);--_ui5-v2-9-0_tc_headeritem_padding: 1rem;--_ui5-v2-9-0_tc_headerItem_additional_text_color: var(--sapContent_LabelColor);--_ui5-v2-9-0_tc_headerItem_text_selected_color: var(--sapTab_Selected_TextColor);--_ui5-v2-9-0_tc_headerItem_text_selected_hover_color: var(--sapSelectedColor);--_ui5-v2-9-0_tc_headerItem_additional_text_font_weight: normal;--_ui5-v2-9-0_tc_headerItem_neutral_border_color: var(--sapTab_Neutral_ForegroundColor);--_ui5-v2-9-0_tc_headerItem_transition: none;--_ui5-v2-9-0_tc_headerItem_hover_border_visibility: hidden;--_ui5-v2-9-0_tc_headerItemContent_border_radius: .125rem .125rem 0 0;--_ui5-v2-9-0_tc_headerItemContent_border_bg: transparent;--_ui5-v2-9-0_tc_headerItem_neutral_border_bg: transparent;--_ui5-v2-9-0_tc_headerItem_positive_border_bg: transparent;--_ui5-v2-9-0_tc_headerItem_negative_border_bg: transparent;--_ui5-v2-9-0_tc_headerItem_critical_border_bg: transparent;--_ui5-v2-9-0_tc_headerItemContent_border_height: 0;--_ui5-v2-9-0_tc_headerItemContent_focus_offset: 1rem;--_ui5-v2-9-0_tc_headerItem_text_focus_border_offset_left: 0px;--_ui5-v2-9-0_tc_headerItem_text_focus_border_offset_right: 0px;--_ui5-v2-9-0_tc_headerItem_text_focus_border_offset_top: 0px;--_ui5-v2-9-0_tc_headerItem_text_focus_border_offset_bottom: 0px;--_ui5-v2-9-0_tc_headerItem_mixed_mode_focus_border_offset_left: .75rem;--_ui5-v2-9-0_tc_headerItem_mixed_mode_focus_border_offset_right: .625rem;--_ui5-v2-9-0_tc_headerItem_mixed_mode_focus_border_offset_top: .75rem;--_ui5-v2-9-0_tc_headerItem_mixed_mode_focus_border_offset_bottom: .75rem;--_ui5-v2-9-0_tc_headerItemContent_focus_border: none;--_ui5-v2-9-0_tc_headerItemContent_default_focus_border: none;--_ui5-v2-9-0_tc_headerItemContent_focus_border_radius: 0;--_ui5-v2-9-0_tc_headerItemSemanticIcon_display: none;--_ui5-v2-9-0_tc_headerItemSemanticIcon_size: .75rem;--_ui5-v2-9-0_tc_mixedMode_itemText_font_family: var(--sapFontFamily);--_ui5-v2-9-0_tc_mixedMode_itemText_font_size: var(--sapFontSmallSize);--_ui5-v2-9-0_tc_mixedMode_itemText_font_weight: normal;--_ui5-v2-9-0_tc_overflowItem_positive_color: var(--sapPositiveColor);--_ui5-v2-9-0_tc_overflowItem_negative_color: var(--sapNegativeColor);--_ui5-v2-9-0_tc_overflowItem_critical_color: var(--sapCriticalColor);--_ui5-v2-9-0_tc_overflowItem_focus_offset: .125rem;--_ui5-v2-9-0_tc_overflowItem_indent: .5rem;--_ui5-v2-9-0_tc_overflowItem_extra_indent: 0rem;--_ui5-v2-9-0_tc_headerItemIcon_semantic_selected_color: var(--sapGroup_ContentBackground);--_ui5-v2-9-0_tc_header_border_bottom: .0625rem solid var(--sapObjectHeader_Background);--_ui5-v2-9-0_tc_headerItem_color: var(--sapTab_TextColor);--_ui5-v2-9-0_tc_overflowItem_default_color: var(--sapTab_TextColor);--_ui5-v2-9-0_tc_overflowItem_current_color: CurrentColor;--_ui5-v2-9-0_tc_content_border_bottom: .0625rem solid var(--sapObjectHeader_BorderColor);--_ui5-v2-9-0_tc_headerItem_expand_button_margin_inline_start: 0rem;--_ui5-v2-9-0_tc_headerItem_single_click_expand_button_margin_inline_start: .25rem;--_ui5-v2-9-0_tc_headerItem_expand_button_border_radius: .25rem;--_ui5-v2-9-0_tc_headerItem_expand_button_separator_display: inline-block;--_ui5-v2-9-0_tc_headerItem_focus_border: .125rem solid var(--sapContent_FocusColor);--_ui5-v2-9-0_tc_headerItem_focus_border_offset: -5px;--_ui5-v2-9-0_tc_headerItemIcon_focus_border_radius: 50%;--_ui5-v2-9-0_tc_headerItem_focus_border_radius: .375rem;--_ui5-v2-9-0_tc_headeritem_text_font_weight: bold;--_ui5-v2-9-0_tc_headerItem_focus_offset: 1px;--_ui5-v2-9-0_tc_headerItem_text_hover_color: var(--sapTab_Selected_TextColor);--_ui5-v2-9-0_tc_headerItemIcon_border: .125rem solid var(--sapTab_ForegroundColor);--_ui5-v2-9-0_tc_mixedMode_itemText_color: var(--sapTextColor);--_ui5-v2-9-0_tc_overflow_text_color: var(--sapTextColor);--_ui5-v2-9-0_text_max_lines: initial;--_ui5-v2-9-0_textarea_state_border_width: .125rem;--_ui5-v2-9-0_textarea_information_border_width: .125rem;--_ui5-v2-9-0_textarea_placeholder_font_style: italic;--_ui5-v2-9-0_textarea_value_state_error_warning_placeholder_font_weight: normal;--_ui5-v2-9-0_textarea_error_placeholder_font_style: italic;--_ui5-v2-9-0_textarea_error_placeholder_color: var(--sapField_PlaceholderTextColor);--_ui5-v2-9-0_textarea_error_hover_background_color: var(--sapField_Hover_Background);--_ui5-v2-9-0_textarea_disabled_opacity: .4;--_ui5-v2-9-0_textarea_focus_pseudo_element_content: "";--_ui5-v2-9-0_textarea_min_height: 2.25rem;--_ui5-v2-9-0_textarea_padding_right_and_left_readonly: .5625rem;--_ui5-v2-9-0_textarea_padding_top_readonly: .4375rem;--_ui5-v2-9-0_textarea_exceeded_text_height: 1rem;--_ui5-v2-9-0_textarea_hover_border: none;--_ui5-v2-9-0_textarea_focus_border_radius: .25rem;--_ui5-v2-9-0_textarea_error_warning_border_style: none;--_ui5-v2-9-0_textarea_line_height: 1.5;--_ui5-v2-9-0_textarea_focused_value_state_error_background: var(--sapField_Hover_Background);--_ui5-v2-9-0_textarea_focused_value_state_warning_background: var(--sapField_Hover_Background);--_ui5-v2-9-0_textarea_focused_value_state_success_background: var(--sapField_Hover_Background);--_ui5-v2-9-0_textarea_focused_value_state_information_background: var(--sapField_Hover_Background);--_ui5-v2-9-0_textarea_focused_value_state_error_focus_outline_color: var(--sapField_InvalidColor);--_ui5-v2-9-0_textarea_focused_value_state_warning_focus_outline_color: var(--sapField_WarningColor);--_ui5-v2-9-0_textarea_focused_value_state_success_focus_outline_color: var(--sapField_SuccessColor);--_ui5-v2-9-0_textarea_focus_offset: 0;--_ui5-v2-9-0_textarea_readonly_focus_offset: 1px;--_ui5-v2-9-0_textarea_focus_outline_color: var(--sapField_Active_BorderColor);--_ui5-v2-9-0_textarea_value_state_focus_offset: 1px;--_ui5-v2-9-0_textarea_wrapper_padding: .0625rem;--_ui5-v2-9-0_textarea_success_wrapper_padding: .0625rem;--_ui5-v2-9-0_textarea_warning_error_wrapper_padding: .0625rem .0625rem .125rem .0625rem;--_ui5-v2-9-0_textarea_information_wrapper_padding: .0625rem .0625rem .125rem .0625rem;--_ui5-v2-9-0_textarea_padding_bottom_readonly: .375rem;--_ui5-v2-9-0_textarea_padding_top_error_warning: .5rem;--_ui5-v2-9-0_textarea_padding_bottom_error_warning: .4375rem;--_ui5-v2-9-0_textarea_padding_top_information: .5rem;--_ui5-v2-9-0_textarea_padding_bottom_information: .4375rem;--_ui5-v2-9-0_textarea_padding_right_and_left: .625rem;--_ui5-v2-9-0_textarea_padding_right_and_left_error_warning: .625rem;--_ui5-v2-9-0_textarea_padding_right_and_left_information: .625rem;--_ui5-v2-9-0_textarea_readonly_border_style: dashed;--_ui5-v2-9-0_time_picker_border: .0625rem solid transparent;--_ui5-v2-9-0-time_picker_border_radius: .25rem;--_ui5-v2-9-0_toast_vertical_offset: 3rem;--_ui5-v2-9-0_toast_horizontal_offset: 2rem;--_ui5-v2-9-0_toast_background: var(--sapIndicationColor_9_Background);--_ui5-v2-9-0_toast_shadow: var(--sapContent_Lite_Shadow);--_ui5-v2-9-0_toast_offset_width: -.1875rem;--_ui5-v2-9-0_toggle_button_pressed_focussed: var(--sapButton_Selected_BorderColor);--_ui5-v2-9-0_toggle_button_pressed_focussed_hovered: var(--sapButton_Selected_BorderColor);--_ui5-v2-9-0_toggle_button_selected_positive_text_color: var(--sapButton_Selected_TextColor);--_ui5-v2-9-0_toggle_button_selected_negative_text_color: var(--sapButton_Selected_TextColor);--_ui5-v2-9-0_toggle_button_selected_attention_text_color: var(--sapButton_Selected_TextColor);--_ui5-v2-9-0_toggle_button_emphasized_pressed_focussed_hovered: var(--sapContent_FocusColor);--_ui5-v2-9-0_toggle_button_emphasized_text_shadow: none;--_ui5-v2-9-0_yearpicker_item_margin: .0625rem;--_ui5-v2-9-0_yearpicker_item_border: .0625rem solid var(--sapButton_Lite_BorderColor);--_ui5-v2-9-0_yearpicker_item_hover_border: .0625rem solid var(--sapButton_Lite_Hover_BorderColor);--_ui5-v2-9-0_yearpicker_item_active_border: .0625rem solid var(--sapButton_Lite_Active_BorderColor);--_ui5-v2-9-0_yearpicker_item_selected_border: .0625rem solid var(--sapButton_Selected_BorderColor);--_ui5-v2-9-0_yearpicker_item_selected_hover_border: .0625rem solid var(--sapButton_Selected_Hover_BorderColor);--_ui5-v2-9-0_yearpicker_item_border_radius: .5rem;--_ui5-v2-9-0_calendar_header_middle_button_width: 6.25rem;--_ui5-v2-9-0_calendar_header_middle_button_flex: 1 1 auto;--_ui5-v2-9-0_calendar_header_middle_button_focus_after_display: block;--_ui5-v2-9-0_calendar_header_middle_button_focus_after_width: calc(100% - .375rem) ;--_ui5-v2-9-0_calendar_header_middle_button_focus_after_height: calc(100% - .375rem) ;--_ui5-v2-9-0_calendar_header_middle_button_focus_after_top_offset: .125rem;--_ui5-v2-9-0_calendar_header_middle_button_focus_after_left_offset: .125rem;--_ui5-v2-9-0_calendar_header_arrow_button_border: none;--_ui5-v2-9-0_calendar_header_arrow_button_border_radius: .5rem;--_ui5-v2-9-0_calendar_header_button_background_color: var(--sapButton_Lite_Background);--_ui5-v2-9-0_calendar_header_arrow_button_box_shadow: 0 0 .125rem 0 rgb(85 107 130 / 72%);--_ui5-v2-9-0_calendar_header_middle_button_focus_border_radius: .5rem;--_ui5-v2-9-0_calendar_header_middle_button_focus_border: none;--_ui5-v2-9-0_calendar_header_middle_button_focus_after_border: none;--_ui5-v2-9-0_calendar_header_middle_button_focus_background: transparent;--_ui5-v2-9-0_calendar_header_middle_button_focus_outline: .125rem solid var(--sapSelectedColor);--_ui5-v2-9-0_calendar_header_middle_button_focus_active_outline: .0625rem solid var(--sapSelectedColor);--_ui5-v2-9-0_calendar_header_middle_button_focus_active_background: transparent;--_ui5-v2-9-0_token_background: var(--sapButton_TokenBackground);--_ui5-v2-9-0_token_readonly_background: var(--sapButton_TokenBackground);--_ui5-v2-9-0_token_readonly_color: var(--sapContent_LabelColor);--_ui5-v2-9-0_token_right_margin: .3125rem;--_ui5-v2-9-0_token_padding: .25rem 0;--_ui5-v2-9-0_token_left_padding: .3125rem;--_ui5-v2-9-0_token_focused_selected_border: 1px solid var(--sapButton_Selected_BorderColor);--_ui5-v2-9-0_token_focus_offset: -.25rem;--_ui5-v2-9-0_token_focus_outline_width: .0625rem;--_ui5-v2-9-0_token_hover_border_color: var(--sapButton_TokenBorderColor);--_ui5-v2-9-0_token_selected_focus_outline: none;--_ui5-v2-9-0_token_focus_outline: none;--_ui5-v2-9-0_token_outline_offset: .125rem;--_ui5-v2-9-0_token_selected_hover_border_color: var(--sapButton_Selected_BorderColor);--ui5-v2-9-0_token_focus_pseudo_element_content: "";--_ui5-v2-9-0_token_border_radius: .375rem;--_ui5-v2-9-0_token_focus_outline_border_radius: .5rem;--_ui5-v2-9-0_token_text_color: var(--sapTextColor);--_ui5-v2-9-0_token_selected_text_font_family: var(--sapFontSemiboldDuplexFamily);--_ui5-v2-9-0_token_selected_internal_border_bottom: .125rem solid var(--sapButton_Selected_BorderColor);--_ui5-v2-9-0_token_selected_internal_border_bottom_radius: .1875rem;--_ui5-v2-9-0_token_text_icon_top: .0625rem;--_ui5-v2-9-0_token_selected_focused_offset_bottom: -.375rem;--_ui5-v2-9-0_token_readonly_padding: .25rem .3125rem;--_ui5-v2-9-0_tokenizer_gap: .625rem .25rem;--_ui5-v2-9-0_tokenizer-popover_offset: .3125rem;--_ui5-v2-9-0_tokenizer_n_more_text_color: var(--sapLinkColor);--_ui5-v2-9-0-multi_combobox_token_margin_top: 1px;--_ui5-v2-9-0_slider_progress_container_dot_background: var(--sapField_BorderColor);--_ui5-v2-9-0_slider_progress_border: none;--_ui5-v2-9-0_slider_padding: 1.406rem 1.0625rem;--_ui5-v2-9-0_slider_inner_height: .25rem;--_ui5-v2-9-0_slider_outer_height: 1.6875rem;--_ui5-v2-9-0_slider_progress_border_radius: .25rem;--_ui5-v2-9-0_slider_tickmark_bg: var(--sapField_BorderColor);--_ui5-v2-9-0_slider_handle_margin_left: calc(-1 * (var(--_ui5-v2-9-0_slider_handle_width) / 2));--_ui5-v2-9-0_slider_handle_outline_offset: .075rem;--_ui5-v2-9-0_slider_progress_outline: .0625rem dotted var(--sapContent_FocusColor);--_ui5-v2-9-0_slider_progress_outline_offset: -.8125rem;--_ui5-v2-9-0_slider_disabled_opacity: .4;--_ui5-v2-9-0_slider_tooltip_border_color: var(--sapField_BorderColor);--_ui5-v2-9-0_range_slider_handle_background_focus: transparent;--_ui5-v2-9-0_slider_progress_box_sizing: content-box;--_ui5-v2-9-0_range_slider_focus_outline_width: 100%;--_ui5-v2-9-0_slider_progress_outline_offset_left: 0;--_ui5-v2-9-0_range_slider_focus_outline_radius: 0;--_ui5-v2-9-0_slider_progress_container_top: 0;--_ui5-v2-9-0_slider_progress_height: 100%;--_ui5-v2-9-0_slider_active_progress_border: none;--_ui5-v2-9-0_slider_active_progress_left: 0;--_ui5-v2-9-0_slider_active_progress_top: 0;--_ui5-v2-9-0_slider_no_tickmarks_progress_container_top: var(--_ui5-v2-9-0_slider_progress_container_top);--_ui5-v2-9-0_slider_no_tickmarks_progress_height: var(--_ui5-v2-9-0_slider_progress_height);--_ui5-v2-9-0_slider_no_tickmarks_active_progress_border: var(--_ui5-v2-9-0_slider_active_progress_border);--_ui5-v2-9-0_slider_no_tickmarks_active_progress_left: var(--_ui5-v2-9-0_slider_active_progress_left);--_ui5-v2-9-0_slider_no_tickmarks_active_progress_top: var(--_ui5-v2-9-0_slider_active_progress_top);--_ui5-v2-9-0_slider_handle_focus_visibility: none;--_ui5-v2-9-0_slider_handle_icon_size: 1rem;--_ui5-v2-9-0_slider_progress_container_background: var(--sapSlider_Background);--_ui5-v2-9-0_slider_progress_container_dot_display: block;--_ui5-v2-9-0_slider_inner_min_width: 4rem;--_ui5-v2-9-0_slider_progress_background: var(--sapSlider_Selected_Background);--_ui5-v2-9-0_slider_progress_before_background: var(--sapSlider_Selected_Background);--_ui5-v2-9-0_slider_progress_after_background: var(--sapContent_MeasureIndicatorColor);--_ui5-v2-9-0_slider_handle_background: var(--sapSlider_HandleBackground);--_ui5-v2-9-0_slider_handle_icon_display: inline-block;--_ui5-v2-9-0_slider_handle_border: .0625rem solid var(--sapSlider_HandleBorderColor);--_ui5-v2-9-0_slider_handle_border_radius: .5rem;--_ui5-v2-9-0_slider_handle_height: 1.5rem;--_ui5-v2-9-0_slider_handle_width: 2rem;--_ui5-v2-9-0_slider_handle_top: -.625rem;--_ui5-v2-9-0_slider_handle_font_family: "SAP-icons";--_ui5-v2-9-0_slider_handle_hover_border: .0625rem solid var(--sapSlider_Hover_HandleBorderColor);--_ui5-v2-9-0_slider_handle_focus_border: .125rem solid var(--sapContent_FocusColor);--_ui5-v2-9-0_slider_handle_background_focus: var(--sapSlider_Active_RangeHandleBackground);--_ui5-v2-9-0_slider_handle_outline: none;--_ui5-v2-9-0_slider_handle_hover_background: var(--sapSlider_Hover_HandleBackground);--_ui5-v2-9-0_slider_tooltip_background: var(--sapField_Focus_Background);--_ui5-v2-9-0_slider_tooltip_border: none;--_ui5-v2-9-0_slider_tooltip_border_radius: .5rem;--_ui5-v2-9-0_slider_tooltip_box_shadow: var(--sapContent_Shadow1);--_ui5-v2-9-0_range_slider_legacy_progress_focus_display: none;--_ui5-v2-9-0_range_slider_progress_focus_display: block;--_ui5-v2-9-0_slider_tickmark_in_range_bg: var(--sapSlider_Selected_BorderColor);--_ui5-v2-9-0_slider_label_fontsize: var(--sapFontSmallSize);--_ui5-v2-9-0_slider_label_color: var(--sapContent_LabelColor);--_ui5-v2-9-0_slider_tooltip_min_width: 2rem;--_ui5-v2-9-0_slider_tooltip_padding: .25rem;--_ui5-v2-9-0_slider_tooltip_fontsize: var(--sapFontSmallSize);--_ui5-v2-9-0_slider_tooltip_color: var(--sapContent_LabelColor);--_ui5-v2-9-0_slider_tooltip_height: 1.375rem;--_ui5-v2-9-0_slider_handle_focus_width: 1px;--_ui5-v2-9-0_slider_start_end_point_size: .5rem;--_ui5-v2-9-0_slider_start_end_point_left: -.75rem;--_ui5-v2-9-0_slider_start_end_point_top: -.125rem;--_ui5-v2-9-0_slider_handle_focused_tooltip_distance: calc(var(--_ui5-v2-9-0_slider_tooltip_bottom) - var(--_ui5-v2-9-0_slider_handle_focus_width));--_ui5-v2-9-0_slider_tooltip_border_box: border-box;--_ui5-v2-9-0_range_slider_handle_active_background: var(--sapSlider_Active_RangeHandleBackground);--_ui5-v2-9-0_range_slider_active_handle_icon_display: none;--_ui5-v2-9-0_range_slider_progress_focus_top: -15px;--_ui5-v2-9-0_range_slider_progress_focus_left: calc(-1 * (var(--_ui5-v2-9-0_slider_handle_width) / 2) - 5px);--_ui5-v2-9-0_range_slider_progress_focus_padding: 0 1rem 0 1rem;--_ui5-v2-9-0_range_slider_progress_focus_width: calc(100% + var(--_ui5-v2-9-0_slider_handle_width) + 10px);--_ui5-v2-9-0_range_slider_progress_focus_height: calc(var(--_ui5-v2-9-0_slider_handle_height) + 10px);--_ui5-v2-9-0_range_slider_root_hover_handle_icon_display: inline-block;--_ui5-v2-9-0_range_slider_root_hover_handle_bg: var(--_ui5-v2-9-0_slider_handle_hover_background);--_ui5-v2-9-0_range_slider_root_active_handle_icon_display: none;--_ui5-v2-9-0_slider_tickmark_height: .5rem;--_ui5-v2-9-0_slider_tickmark_top: -2px;--_ui5-v2-9-0_slider_handle_box_sizing: border-box;--_ui5-v2-9-0_range_slider_handle_background: var(--sapSlider_RangeHandleBackground);--_ui5-v2-9-0_slider_tooltip_bottom: 2rem;--_ui5-v2-9-0_value_state_message_border: none;--_ui5-v2-9-0_value_state_header_border: none;--_ui5-v2-9-0_input_value_state_icon_offset: .5rem;--_ui5-v2-9-0_value_state_header_box_shadow_error: inset 0 -.0625rem var(--sapField_InvalidColor);--_ui5-v2-9-0_value_state_header_box_shadow_information: inset 0 -.0625rem var(--sapField_InformationColor);--_ui5-v2-9-0_value_state_header_box_shadow_success: inset 0 -.0625rem var(--sapField_SuccessColor);--_ui5-v2-9-0_value_state_header_box_shadow_warning: inset 0 -.0625rem var(--sapField_WarningColor);--_ui5-v2-9-0_value_state_message_icon_offset_phone: 1rem;--_ui5-v2-9-0_value_state_header_border_bottom: none;--_ui5-v2-9-0_input_value_state_icon_display: inline-block;--_ui5-v2-9-0_value_state_message_padding: .5rem .5rem .5rem 1.875rem;--_ui5-v2-9-0_value_state_header_padding: .5rem .5rem .5rem 1.875rem;--_ui5-v2-9-0_value_state_message_popover_box_shadow: var(--sapContent_Shadow1);--_ui5-v2-9-0_value_state_message_icon_width: 1rem;--_ui5-v2-9-0_value_state_message_icon_height: 1rem;--_ui5-v2-9-0_value_state_header_offset: -.25rem;--_ui5-v2-9-0_value_state_message_popover_border_radius: var(--sapPopover_BorderCornerRadius);--_ui5-v2-9-0_value_state_message_padding_phone: .5rem .5rem .5rem 2.375rem;--_ui5-v2-9-0_value_state_message_line_height: 1.125rem;--_ui5-v2-9-0-toolbar-padding-left: .5rem;--_ui5-v2-9-0-toolbar-padding-right: .5rem;--_ui5-v2-9-0-toolbar-item-margin-left: 0;--_ui5-v2-9-0-toolbar-item-margin-right: .25rem;--_ui5-v2-9-0_step_input_min_width: 7.25rem;--_ui5-v2-9-0_step_input_padding: 2.5rem;--_ui5-v2-9-0_step_input_input_error_background_color: inherit;--_ui5-v2-9-0-step_input_button_state_hover_background_color: var(--sapField_Hover_Background);--_ui5-v2-9-0_step_input_border_style: none;--_ui5-v2-9-0_step_input_border_style_hover: none;--_ui5-v2-9-0_step_input_button_background_color: transparent;--_ui5-v2-9-0_step_input_input_border: none;--_ui5-v2-9-0_step_input_input_margin_top: 0;--_ui5-v2-9-0_step_input_button_display: inline-flex;--_ui5-v2-9-0_step_input_button_left: 0;--_ui5-v2-9-0_step_input_button_right: 0;--_ui5-v2-9-0_step_input_input_border_focused_after: .125rem solid #0070f2;--_ui5-v2-9-0_step_input_input_border_top_bottom_focused_after: 0;--_ui5-v2-9-0_step_input_input_border_radius_focused_after: .25rem;--_ui5-v2-9-0_step_input_input_information_border_color_focused_after: var(--sapField_InformationColor);--_ui5-v2-9-0_step_input_input_warning_border_color_focused_after: var(--sapField_WarningColor);--_ui5-v2-9-0_step_input_input_success_border_color_focused_after: var(--sapField_SuccessColor);--_ui5-v2-9-0_step_input_input_error_border_color_focused_after: var(--sapField_InvalidColor);--_ui5-v2-9-0_step_input_disabled_button_background: none;--_ui5-v2-9-0_step_input_border_color_hover: none;--_ui5-v2-9-0_step_input_border_hover: none;--_ui5-v2-9-0_input_input_background_color: transparent;--_ui5-v2-9-0_load_more_padding: 0;--_ui5-v2-9-0_load_more_border: 1px top solid transparent;--_ui5-v2-9-0_load_more_border_radius: none;--_ui5-v2-9-0_load_more_outline_width: var(--sapContent_FocusWidth);--_ui5-v2-9-0_load_more_border-bottom: var(--sapList_BorderWidth) solid var(--sapList_BorderColor);--_ui5-v2-9-0_calendar_height: 24.5rem;--_ui5-v2-9-0_calendar_width: 20rem;--_ui5-v2-9-0_calendar_padding: 1rem;--_ui5-v2-9-0_calendar_left_right_padding: .5rem;--_ui5-v2-9-0_calendar_top_bottom_padding: 1rem;--_ui5-v2-9-0_calendar_header_height: 3rem;--_ui5-v2-9-0_calendar_header_arrow_button_width: 2.5rem;--_ui5-v2-9-0_calendar_header_padding: .25rem 0;--_ui5-v2-9-0_checkbox_root_side_padding: .6875rem;--_ui5-v2-9-0_checkbox_icon_size: 1rem;--_ui5-v2-9-0_checkbox_partially_icon_size: .75rem;--_ui5-v2-9-0_custom_list_item_rb_min_width: 2.75rem;--_ui5-v2-9-0_day_picker_item_width: 2.25rem;--_ui5-v2-9-0_day_picker_item_height: 2.875rem;--_ui5-v2-9-0_day_picker_empty_height: 3rem;--_ui5-v2-9-0_day_picker_item_justify_content: space-between;--_ui5-v2-9-0_dp_two_calendar_item_now_text_padding_top: .375rem;--_ui5-v2-9-0_daypicker_item_now_selected_two_calendar_focus_special_day_top: 2rem;--_ui5-v2-9-0_daypicker_item_now_selected_two_calendar_focus_special_day_right: 1.4375rem;--_ui5-v2-9-0_dp_two_calendar_item_primary_text_height: 1.8125rem;--_ui5-v2-9-0_dp_two_calendar_item_secondary_text_height: 1rem;--_ui5-v2-9-0_dp_two_calendar_item_text_padding_top: .4375rem;--_ui5-v2-9-0_daypicker_item_now_selected_two_calendar_focus_secondary_text_padding_block: 0 .5rem;--_ui5-v2-9-0-calendar-legend-item-root-focus-offset: -.125rem;--_ui5-v2-9-0-calendar-legend-item-box-margin: .25rem;--_ui5-v2-9-0-calendar-legend-item-box-inner-margin: .5rem;--_ui5-v2-9-0_color_picker_slider_progress_container_height: 1.625rem;--_ui5-v2-9-0_color_picker_slider_container_margin_top: -.5rem;--_ui5-v2-9-0_color_picker_slider_handle_height: 2rem;--_ui5-v2-9-0_color_picker_slider_handle_width: 1.0625rem;--_ui5-v2-9-0_color_picker_slider_handle_after_height: 1.75rem;--_ui5-v2-9-0_color_picker_slider_handle_focus_height: 2.125rem;--_ui5-v2-9-0_color_picker_colors_wrapper_height: 2.25rem;--_ui5-v2-9-0_color_picker_sliders_height: 3rem;--_ui5-v2-9-0_color_picker_main_color_margin_bottom: 1rem;--_ui5-v2-9-0_color_picker_slider_spacing: .9375rem;--_ui5-v2-9-0_color_channel_toggle_button_width: 1.625rem;--_ui5-v2-9-0_color_channel_toggle_button_margin-top: -.75rem;--_ui5-v2-9-0_color_channel_hex_input_width: 4.8125rem;--_ui5-v2-9-0-color_channel_margin_top: .25rem;--_ui5-v2-9-0_color-palette-swatch-container-padding: .3125rem .6875rem;--_ui5-v2-9-0_datetime_picker_width: 40.0625rem;--_ui5-v2-9-0_datetime_picker_height: 25rem;--_ui5-v2-9-0_datetime_timeview_width: 17rem;--_ui5-v2-9-0_datetime_timeview_phonemode_width: 19.5rem;--_ui5-v2-9-0_datetime_timeview_padding: 1rem;--_ui5-v2-9-0_datetime_timeview_phonemode_clocks_width: 24.5rem;--_ui5-v2-9-0_datetime_dateview_phonemode_margin_bottom: 0;--_ui5-v2-9-0_dialog_content_min_height: 2.75rem;--_ui5-v2-9-0_dialog_footer_height: 2.75rem;--_ui5-v2-9-0_input_inner_padding: 0 .625rem;--_ui5-v2-9-0_input_inner_padding_with_icon: 0 .25rem 0 .625rem;--_ui5-v2-9-0_input_inner_space_to_tokenizer: .125rem;--_ui5-v2-9-0_input_inner_space_to_n_more_text: .1875rem;--_ui5-v2-9-0_list_no_data_height: 3rem;--_ui5-v2-9-0_list_item_cb_margin_right: 0;--_ui5-v2-9-0_list_item_title_size: var(--sapFontLargeSize);--_ui5-v2-9-0_list_no_data_font_size: var(--sapFontLargeSize);--_ui5-v2-9-0_list_item_img_size: 3rem;--_ui5-v2-9-0_list_item_img_top_margin: .5rem;--_ui5-v2-9-0_list_item_img_bottom_margin: .5rem;--_ui5-v2-9-0_list_item_img_hn_margin: .75rem;--_ui5-v2-9-0_list_item_dropdown_base_height: 2.5rem;--_ui5-v2-9-0_list_item_base_height: var(--sapElement_LineHeight);--_ui5-v2-9-0_list_item_base_padding: 0 1rem;--_ui5-v2-9-0_list_item_icon_size: 1.125rem;--_ui5-v2-9-0_list_item_icon_padding-inline-end: .5rem;--_ui5-v2-9-0_list_item_selection_btn_margin_top: calc(-1 * var(--_ui5-v2-9-0_checkbox_wrapper_padding));--_ui5-v2-9-0_list_item_content_vertical_offset: calc((var(--_ui5-v2-9-0_list_item_base_height) - var(--_ui5-v2-9-0_list_item_title_size)) / 2);--_ui5-v2-9-0_group_header_list_item_height: 2.75rem;--_ui5-v2-9-0_list_busy_row_height: 3rem;--_ui5-v2-9-0_month_picker_item_height: 3rem;--_ui5-v2-9-0_list_buttons_left_space: .125rem;--_ui5-v2-9-0_form_item_min_height: 2.813rem;--_ui5-v2-9-0_form_item_padding: .65rem;--_ui5-v2-9-0-form-group-heading-height: 2.75rem;--_ui5-v2-9-0_popup_default_header_height: 2.75rem;--_ui5-v2-9-0_year_picker_item_height: 3rem;--_ui5-v2-9-0_tokenizer_padding: .25rem;--_ui5-v2-9-0_token_height: 1.625rem;--_ui5-v2-9-0_token_icon_size: .75rem;--_ui5-v2-9-0_token_icon_padding: .25rem .5rem;--_ui5-v2-9-0_token_wrapper_right_padding: .3125rem;--_ui5-v2-9-0_token_wrapper_left_padding: 0;--_ui5-v2-9-0_tl_bubble_padding: 1rem;--_ui5-v2-9-0_tl_indicator_before_bottom: -1.625rem;--_ui5-v2-9-0_tl_padding: 1rem 1rem 1rem .5rem;--_ui5-v2-9-0_tl_li_margin_bottom: 1.625rem;--_ui5-v2-9-0_tc_item_text: 3rem;--_ui5-v2-9-0_tc_item_height: 4.75rem;--_ui5-v2-9-0_tc_item_text_only_height: 2.75rem;--_ui5-v2-9-0_tc_item_text_only_with_additional_text_height: 3.75rem;--_ui5-v2-9-0_tc_item_text_line_height: 1.325rem;--_ui5-v2-9-0_tc_item_icon_circle_size: 2.75rem;--_ui5-v2-9-0_tc_item_icon_size: 1.25rem;--_ui5-v2-9-0_tc_item_add_text_margin_top: .375rem;--_ui5-v2-9-0_textarea_margin: .25rem 0;--_ui5-v2-9-0_radio_button_height: 2.75rem;--_ui5-v2-9-0_radio_button_label_side_padding: .875rem;--_ui5-v2-9-0_radio_button_inner_size: 2.75rem;--_ui5-v2-9-0_radio_button_svg_size: 1.375rem;--_ui5-v2-9-0-responsive_popover_header_height: 2.75rem;--ui5-v2-9-0_side_navigation_item_height: 2.75rem;--_ui5-v2-9-0-tree-indent-step: 1.5rem;--_ui5-v2-9-0-tree-toggle-box-width: 2.75rem;--_ui5-v2-9-0-tree-toggle-box-height: 2.25rem;--_ui5-v2-9-0-tree-toggle-icon-size: 1.0625rem;--_ui5-v2-9-0_timeline_tli_indicator_before_bottom: -1.5rem;--_ui5-v2-9-0_timeline_tli_indicator_before_right: -1.625rem;--_ui5-v2-9-0_timeline_tli_indicator_before_without_icon_bottom: -1.875rem;--_ui5-v2-9-0_timeline_tli_indicator_before_without_icon_right: -1.9375rem;--_ui5-v2-9-0_timeline_tli_indicator_after_top: calc(-100% - 1rem) ;--_ui5-v2-9-0_timeline_tli_indicator_after_height: calc(100% + 1rem) ;--_ui5-v2-9-0_timeline_tli_indicator_before_height: 100%;--_ui5-v2-9-0_timeline_tli_horizontal_indicator_after_width: calc(100% + .25rem) ;--_ui5-v2-9-0_timeline_tli_horizontal_indicator_after_left: 1.9375rem;--_ui5-v2-9-0_timeline_tli_horizontal_without_icon_indicator_before_width: calc(100% + .5rem) ;--_ui5-v2-9-0_timeline_tli_horizontal_indicator_before_width: calc(100% + .5rem) ;--_ui5-v2-9-0_timeline_tli_icon_horizontal_indicator_after_width: calc(100% + .25rem) ;--_ui5-v2-9-0_timeline_tli_without_icon_horizontal_indicator_before_width: calc(100% + .375rem) ;--_ui5-v2-9-0_timeline_tli_horizontal_indicator_short_after_width: 100%;--_ui5-v2-9-0_timeline_tli_last_child_vertical_indicator_before_height: calc(100% - 1.5rem) ;--_ui5-v2-9-0-toolbar-separator-height: 2rem;--_ui5-v2-9-0-toolbar-height: 2.75rem;--_ui5-v2-9-0_toolbar_overflow_padding: .25rem .5rem;--_ui5-v2-9-0_table_cell_padding: .25rem .5rem;--_ui5-v2-9-0_dynamic_page_title_actions_separator_height: var(--_ui5-v2-9-0-toolbar-separator-height);--_ui5-v2-9-0_split_button_middle_separator_top: .625rem;--_ui5-v2-9-0_split_button_middle_separator_height: 1rem;--_ui5-v2-9-0-calendar-legend-item-root-focus-border-radius: .25rem;--_ui5-v2-9-0_color-palette-item-height: 1.75rem;--_ui5-v2-9-0_color-palette-item-hover-height: 2.25rem;--_ui5-v2-9-0_color-palette-item-margin: calc(((var(--_ui5-v2-9-0_color-palette-item-hover-height) - var(--_ui5-v2-9-0_color-palette-item-height)) / 2) + .0625rem);--_ui5-v2-9-0_color-palette-row-width: 12rem;--_ui5-v2-9-0_textarea_padding_top: .5rem;--_ui5-v2-9-0_textarea_padding_bottom: .4375rem;--_ui5-v2-9-0_dp_two_calendar_item_secondary_text_padding_block: 0 .5rem;--_ui5-v2-9-0_dp_two_calendar_item_secondary_text_padding: 0 .5rem;--_ui5-v2-9-0_daypicker_two_calendar_item_selected_focus_margin_bottom: 0;--_ui5-v2-9-0_daypicker_two_calendar_item_selected_focus_padding_right: .5rem}[data-ui5-compact-size],.ui5-content-density-compact,.sapUiSizeCompact{--_ui5-v2-9-0_input_min_width: 2rem;--_ui5-v2-9-0_input_icon_width: 2rem;--_ui5-v2-9-0_input_information_icon_padding: .3125rem .5rem .1875rem .5rem;--_ui5-v2-9-0_input_information_focused_icon_padding: .3125rem .5rem .25rem .5rem;--_ui5-v2-9-0_input_error_warning_icon_padding: .3125rem .5rem .1875rem .5rem;--_ui5-v2-9-0_input_error_warning_focused_icon_padding: .3125rem .5rem .25rem .5rem;--_ui5-v2-9-0_input_custom_icon_padding: .3125rem .5rem .25rem .5rem;--_ui5-v2-9-0_input_error_warning_custom_icon_padding: .3125rem .5rem .1875rem .5rem;--_ui5-v2-9-0_input_error_warning_custom_focused_icon_padding: .3125rem .5rem .25rem .5rem;--_ui5-v2-9-0_input_information_custom_icon_padding: .3125rem .5rem .1875rem .5rem;--_ui5-v2-9-0_input_information_custom_focused_icon_padding: .3125rem .5rem .25rem .5rem;--_ui5-v2-9-0_input_icon_padding: .3125rem .5rem .25rem .5rem;--_ui5-v2-9-0_panel_header_button_wrapper_padding: .1875rem .25rem;--_ui5-v2-9-0_rating_indicator_item_height: 1em;--_ui5-v2-9-0_rating_indicator_item_width: 1em;--_ui5-v2-9-0_rating_indicator_readonly_item_height: .75em;--_ui5-v2-9-0_rating_indicator_readonly_item_width: .75em;--_ui5-v2-9-0_rating_indicator_component_spacing: .5rem 0px;--_ui5-v2-9-0_radio_button_min_width: 2rem;--_ui5-v2-9-0_radio_button_outer_ring_padding_with_label: 0 .5rem;--_ui5-v2-9-0_radio_button_outer_ring_padding: 0 .5rem;--_ui5-v2-9-0_radio_button_focus_dist: .1875rem;--_ui5-v2-9-0_switch_height: 2rem;--_ui5-v2-9-0_switch_width: 2.75rem;--_ui5-v2-9-0_switch_min_width: none;--_ui5-v2-9-0_switch_with_label_width: 2.75rem;--_ui5-v2-9-0_switch_root_outline_top: .25rem;--_ui5-v2-9-0_switch_root_outline_bottom: .25rem;--_ui5-v2-9-0_switch_transform: translateX(100%) translateX(-1.375rem);--_ui5-v2-9-0_switch_transform_with_label: translateX(100%) translateX(-1.875rem);--_ui5-v2-9-0_switch_rtl_transform: translateX(1.375rem) translateX(-100%);--_ui5-v2-9-0_switch_rtl_transform_with_label: translateX(1.875rem) translateX(-100%);--_ui5-v2-9-0_switch_track_width: 2.75rem;--_ui5-v2-9-0_switch_track_height: 1.25rem;--_ui5-v2-9-0_switch_track_with_label_width: 2.75rem;--_ui5-v2-9-0_switch_track_with_label_height: 1.25rem;--_ui5-v2-9-0_switch_handle_width: 1.25rem;--_ui5-v2-9-0_switch_handle_height: 1rem;--_ui5-v2-9-0_switch_handle_with_label_width: 1.75rem;--_ui5-v2-9-0_switch_handle_with_label_height: 1rem;--_ui5-v2-9-0_switch_text_font_size: var(--sapFontSize);--_ui5-v2-9-0_switch_text_width: 1rem;--_ui5-v2-9-0_switch_text_active_left: .1875rem;--_ui5-v2-9-0_textarea_padding_right_and_left_readonly: .4375rem;--_ui5-v2-9-0_textarea_padding_top_readonly: .125rem;--_ui5-v2-9-0_textarea_exceeded_text_height: .375rem;--_ui5-v2-9-0_textarea_min_height: 1.625rem;--_ui5-v2-9-0_textarea_padding_bottom_readonly: .0625rem;--_ui5-v2-9-0_textarea_padding_top_error_warning: .1875rem;--_ui5-v2-9-0_textarea_padding_bottom_error_warning: .125rem;--_ui5-v2-9-0_textarea_padding_top_information: .1875rem;--_ui5-v2-9-0_textarea_padding_bottom_information: .125rem;--_ui5-v2-9-0_textarea_padding_right_and_left: .5rem;--_ui5-v2-9-0_textarea_padding_right_and_left_error_warning: .5rem;--_ui5-v2-9-0_textarea_padding_right_and_left_information: .5rem;--_ui5-v2-9-0_token_selected_focused_offset_bottom: -.25rem;--_ui5-v2-9-0_tokenizer_gap: .375em .25rem;--_ui5-v2-9-0_tokenizer-popover_offset: .1875rem;--_ui5-v2-9-0_slider_handle_icon_size: .875rem;--_ui5-v2-9-0_slider_padding: 1rem 1.0625rem;--_ui5-v2-9-0_range_slider_progress_focus_width: calc(100% + var(--_ui5-v2-9-0_slider_handle_width) + 10px);--_ui5-v2-9-0_range_slider_progress_focus_height: calc(var(--_ui5-v2-9-0_slider_handle_height) + 10px);--_ui5-v2-9-0_range_slider_progress_focus_top: -.8125rem;--_ui5-v2-9-0_slider_tooltip_bottom: 1.75rem;--_ui5-v2-9-0_slider_handle_focused_tooltip_distance: calc(var(--_ui5-v2-9-0_slider_tooltip_bottom) - var(--_ui5-v2-9-0_slider_handle_focus_width));--_ui5-v2-9-0_range_slider_progress_focus_left: calc(-1 * (var(--_ui5-v2-9-0_slider_handle_width) / 2) - 5px);--_ui5-v2-9-0_bar_base_height: 2.5rem;--_ui5-v2-9-0_bar_subheader_height: 2.25rem;--_ui5-v2-9-0_button_base_height: var(--sapElement_Compact_Height);--_ui5-v2-9-0_button_base_padding: .4375rem;--_ui5-v2-9-0_button_base_min_width: 2rem;--_ui5-v2-9-0_button_icon_font_size: 1rem;--_ui5-v2-9-0-button-badge-diameter: .625rem;--_ui5-v2-9-0_calendar_height: 18rem;--_ui5-v2-9-0_calendar_width: 17.75rem;--_ui5-v2-9-0_calendar_left_right_padding: .25rem;--_ui5-v2-9-0_calendar_top_bottom_padding: .5rem;--_ui5-v2-9-0_calendar_header_height: 2rem;--_ui5-v2-9-0_calendar_header_arrow_button_width: 2rem;--_ui5-v2-9-0_calendar_header_padding: 0;--_ui5-v2-9-0-calendar-legend-root-padding: .5rem;--_ui5-v2-9-0-calendar-legend-root-width: 16.75rem;--_ui5-v2-9-0-calendar-legend-item-root-focus-margin: -.125rem;--_ui5-v2-9-0_checkbox_root_side_padding: var(--_ui5-v2-9-0_checkbox_wrapped_focus_padding);--_ui5-v2-9-0_checkbox_width_height: var(--_ui5-v2-9-0_checkbox_compact_width_height);--_ui5-v2-9-0_checkbox_wrapper_padding: var(--_ui5-v2-9-0_checkbox_compact_wrapper_padding);--_ui5-v2-9-0_checkbox_inner_width_height: var(--_ui5-v2-9-0_checkbox_compact_inner_size);--_ui5-v2-9-0_checkbox_icon_size: .75rem;--_ui5-v2-9-0_checkbox_partially_icon_size: .5rem;--_ui5-v2-9-0_color_picker_slider_progress_container_height: 1.125rem;--_ui5-v2-9-0_color_picker_slider_container_margin_top: -.375rem;--_ui5-v2-9-0_color_picker_slider_handle_height: 1.5rem;--_ui5-v2-9-0_color_picker_slider_handle_width: .9375rem;--_ui5-v2-9-0_color_picker_slider_handle_after_height: 1.25rem;--_ui5-v2-9-0_color_picker_slider_handle_focus_height: 1.625rem;--_ui5-v2-9-0_color_picker_colors_wrapper_height: 1.5rem;--_ui5-v2-9-0_color_picker_sliders_height: 2.25rem;--_ui5-v2-9-0_color_picker_main_color_margin_bottom: .75rem;--_ui5-v2-9-0_color_picker_slider_spacing: .8125rem;--_ui5-v2-9-0_color_channel_toggle_button_width: 1.375rem;--_ui5-v2-9-0_color_channel_toggle_button_margin-top: -.9375rem;--_ui5-v2-9-0_color_channel_hex_input_width: 4.625rem;--_ui5-v2-9-0-color_channel_margin_top: 0rem;--_ui5-v2-9-0_custom_list_item_rb_min_width: 2rem;--_ui5-v2-9-0_daypicker_weeknumbers_container_padding_top: 2rem;--_ui5-v2-9-0_day_picker_item_width: 2rem;--_ui5-v2-9-0_day_picker_item_height: 2rem;--_ui5-v2-9-0_day_picker_empty_height: 2.125rem;--_ui5-v2-9-0_day_picker_item_justify_content: flex-end;--_ui5-v2-9-0_dp_two_calendar_item_now_text_padding_top: .5rem;--_ui5-v2-9-0_dp_two_calendar_item_primary_text_height: 1rem;--_ui5-v2-9-0_dp_two_calendar_item_secondary_text_height: .75rem;--_ui5-v2-9-0_dp_two_calendar_item_text_padding_top: .5rem;--_ui5-v2-9-0_daypicker_special_day_top: 1.625rem;--_ui5-v2-9-0_daypicker_twocalendar_item_special_day_top: 1.25rem;--_ui5-v2-9-0_daypicker_twocalendar_item_special_day_right: 1.25rem;--_ui5-v2-9-0_daypicker_two_calendar_item_margin_bottom: 0;--_ui5-v2-9-0_daypicker_item_now_selected_two_calendar_focus_special_day_top: 1.125rem;--_ui5-v2-9-0_daypicker_item_now_selected_two_calendar_focus_special_day_right: 1.125rem;--_ui5-v2-9-0_daypicker_item_now_selected_two_calendar_focus_secondary_text_padding_block: 0 1rem;--_ui5-v2-9-0_datetime_picker_height: 20.5rem;--_ui5-v2-9-0_datetime_picker_width: 35.5rem;--_ui5-v2-9-0_datetime_timeview_width: 17rem;--_ui5-v2-9-0_datetime_timeview_phonemode_width: 18.5rem;--_ui5-v2-9-0_datetime_timeview_padding: .5rem;--_ui5-v2-9-0_datetime_timeview_phonemode_clocks_width: 21.125rem;--_ui5-v2-9-0_datetime_dateview_phonemode_margin_bottom: 3.125rem;--_ui5-v2-9-0_dialog_content_min_height: 2.5rem;--_ui5-v2-9-0_dialog_footer_height: 2.5rem;--_ui5-v2-9-0_form_item_min_height: 2rem;--_ui5-v2-9-0_form_item_padding: .25rem;--_ui5-v2-9-0-form-group-heading-height: 2rem;--_ui5-v2-9-0_input_height: var(--sapElement_Compact_Height);--_ui5-v2-9-0_input_inner_padding: 0 .5rem;--_ui5-v2-9-0_input_inner_padding_with_icon: 0 .2rem 0 .5rem;--_ui5-v2-9-0_input_inner_space_to_tokenizer: .125rem;--_ui5-v2-9-0_input_inner_space_to_n_more_text: .125rem;--_ui5-v2-9-0_input_icon_min_width: var(--_ui5-v2-9-0_input_compact_min_width);--_ui5-v2-9-0_menu_item_padding: 0 .75rem 0 .5rem;--_ui5-v2-9-0_menu_item_submenu_icon_right: .75rem;--_ui5-v2-9-0_popup_default_header_height: 2.5rem;--_ui5-v2-9-0_textarea_margin: .1875rem 0;--_ui5-v2-9-0_list_no_data_height: 2rem;--_ui5-v2-9-0_list_item_cb_margin_right: .5rem;--_ui5-v2-9-0_list_item_title_size: var(--sapFontSize);--_ui5-v2-9-0_list_item_img_top_margin: .55rem;--_ui5-v2-9-0_list_no_data_font_size: var(--sapFontSize);--_ui5-v2-9-0_list_item_dropdown_base_height: 2rem;--_ui5-v2-9-0_list_item_base_height: 2rem;--_ui5-v2-9-0_list_item_base_padding: 0 1rem;--_ui5-v2-9-0_list_item_icon_size: 1rem;--_ui5-v2-9-0_list_item_selection_btn_margin_top: calc(-1 * var(--_ui5-v2-9-0_checkbox_wrapper_padding));--_ui5-v2-9-0_list_item_content_vertical_offset: calc((var(--_ui5-v2-9-0_list_item_base_height) - var(--_ui5-v2-9-0_list_item_title_size)) / 2);--_ui5-v2-9-0_list_busy_row_height: 2rem;--_ui5-v2-9-0_list_buttons_left_space: .125rem;--_ui5-v2-9-0_month_picker_item_height: 2rem;--_ui5-v2-9-0_year_picker_item_height: 2rem;--_ui5-v2-9-0_panel_header_height: 2rem;--_ui5-v2-9-0_panel_button_root_height: 2rem;--_ui5-v2-9-0_panel_button_root_width: 2.5rem;--_ui5-v2-9-0_token_height: 1.25rem;--_ui5-v2-9-0_token_right_margin: .25rem;--_ui5-v2-9-0_token_left_padding: .25rem;--_ui5-v2-9-0_token_readonly_padding: .125rem .25rem;--_ui5-v2-9-0_token_focus_offset: -.125rem;--_ui5-v2-9-0_token_icon_size: .75rem;--_ui5-v2-9-0_token_icon_padding: .375rem .375rem;--_ui5-v2-9-0_token_wrapper_right_padding: .25rem;--_ui5-v2-9-0_token_wrapper_left_padding: 0;--_ui5-v2-9-0_token_outline_offset: -.125rem;--_ui5-v2-9-0_tl_bubble_padding: .5rem;--_ui5-v2-9-0_tl_indicator_before_bottom: -.5rem;--_ui5-v2-9-0_tl_padding: .5rem;--_ui5-v2-9-0_tl_li_margin_bottom: .5rem;--_ui5-v2-9-0_tc_item_text: 2rem;--_ui5-v2-9-0_tc_item_text_line_height: 1.325rem;--_ui5-v2-9-0_tc_item_add_text_margin_top: .3125rem;--_ui5-v2-9-0_tc_item_height: 4rem;--_ui5-v2-9-0_tc_header_height: var(--_ui5-v2-9-0_tc_item_height);--_ui5-v2-9-0_tc_item_icon_circle_size: 2rem;--_ui5-v2-9-0_tc_item_icon_size: 1rem;--_ui5-v2-9-0_radio_button_height: 2rem;--_ui5-v2-9-0_radio_button_label_side_padding: .5rem;--_ui5-v2-9-0_radio_button_inner_size: 2rem;--_ui5-v2-9-0_radio_button_svg_size: 1rem;--_ui5-v2-9-0-responsive_popover_header_height: 2.5rem;--_ui5-v2-9-0_slider_handle_height: 1.25rem;--_ui5-v2-9-0_slider_handle_width: 1.5rem;--_ui5-v2-9-0_slider_tooltip_padding: .25rem;--_ui5-v2-9-0_slider_progress_outline_offset: -.625rem;--_ui5-v2-9-0_slider_outer_height: 1.3125rem;--_ui5-v2-9-0_step_input_min_width: 6rem;--_ui5-v2-9-0_step_input_padding: 2rem;--_ui5-v2-9-0-tree-indent-step: .5rem;--_ui5-v2-9-0-tree-toggle-box-width: 2rem;--_ui5-v2-9-0-tree-toggle-box-height: 1.5rem;--_ui5-v2-9-0-tree-toggle-icon-size: .8125rem;--_ui5-v2-9-0_timeline_tli_indicator_before_bottom: -.75rem;--_ui5-v2-9-0_timeline_tli_indicator_before_right: -.5rem;--_ui5-v2-9-0_timeline_tli_indicator_before_without_icon_bottom: -1rem;--_ui5-v2-9-0_timeline_tli_indicator_before_without_icon_right: -.8125rem;--_ui5-v2-9-0_timeline_tli_indicator_before_height: calc(100% - 1.25rem) ;--_ui5-v2-9-0_timeline_tli_horizontal_without_icon_indicator_before_width: var(--_ui5-v2-9-0_timeline_tli_indicator_after_height);--_ui5-v2-9-0_timeline_tli_horizontal_indicator_after_width: var(--_ui5-v2-9-0_timeline_tli_indicator_after_height);--_ui5-v2-9-0_timeline_tli_horizontal_indicator_before_width: var(--_ui5-v2-9-0_timeline_tli_indicator_after_height);--_ui5-v2-9-0_timeline_tli_icon_horizontal_indicator_after_width: var(--_ui5-v2-9-0_timeline_tli_indicator_after_height);--_ui5-v2-9-0_timeline_tli_indicator_after_top: calc(-100% + .9375rem) ;--_ui5-v2-9-0_timeline_tli_indicator_after_height: calc(100% - .75rem) ;--_ui5-v2-9-0_timeline_tli_horizontal_indicator_after_left: 1.8625rem;--_ui5-v2-9-0_timeline_tli_horizontal_indicator_short_after_width: calc(100% - 1rem) ;--_ui5-v2-9-0_timeline_tli_without_icon_horizontal_indicator_before_width: calc(100% - .625rem) ;--_ui5-v2-9-0_timeline_tli_last_child_vertical_indicator_before_height: calc(100% - 2.5rem) ;--_ui5-v2-9-0_timeline_tlgi_compact_icon_before_height: calc(100% + 1.5rem) ;--_ui5-v2-9-0_timeline_tlgi_horizontal_line_placeholder_before_width: var(--_ui5-v2-9-0_timeline_tlgi_compact_icon_before_height);--_ui5-v2-9-0_timeline_tlgi_horizontal_compact_root_margin_left: .5rem;--_ui5-v2-9-0_timeline_tlgi_compact_root_gap: .5rem;--_ui5-v2-9-0_timeline_tlgi_root_horizontal_height: 19.375rem;--_ui5-v2-9-0_vsd_header_container: 2.5rem;--_ui5-v2-9-0_vsd_sub_header_container_height: 2rem;--_ui5-v2-9-0_vsd_header_height: 4rem;--_ui5-v2-9-0_vsd_expand_content_height: 25.4375rem;--_ui5-v2-9-0-toolbar-separator-height: 1.5rem;--_ui5-v2-9-0-toolbar-height: 2rem;--_ui5-v2-9-0_toolbar_overflow_padding: .1875rem .375rem;--_ui5-v2-9-0_dynamic_page_title_actions_separator_height: var(--_ui5-v2-9-0-toolbar-separator-height);--_ui5-v2-9-0_textarea_padding_top: .1875rem;--_ui5-v2-9-0_textarea_padding_bottom: .125rem;--_ui5-v2-9-0_checkbox_focus_position: .25rem;--_ui5-v2-9-0_split_button_middle_separator_top: .3125rem;--_ui5-v2-9-0_split_button_middle_separator_height: 1rem;--_ui5-v2-9-0_slider_handle_top: -.5rem;--_ui5-v2-9-0_slider_tooltip_height: 1.375rem;--_ui5-v2-9-0_checkbox_wrapped_focus_inset_block: .125rem;--_ui5-v2-9-0_color-palette-item-height: 1.25rem;--_ui5-v2-9-0_color-palette-item-focus-height: 1rem;--_ui5-v2-9-0_color-palette-item-container-sides-padding: .1875rem;--_ui5-v2-9-0_color-palette-item-container-rows-padding: .8125rem;--_ui5-v2-9-0_color-palette-item-hover-height: 1.625rem;--_ui5-v2-9-0_color-palette-item-margin: calc(((var(--_ui5-v2-9-0_color-palette-item-hover-height) - var(--_ui5-v2-9-0_color-palette-item-height)) / 2) + .0625rem);--_ui5-v2-9-0_color-palette-row-width: 8.75rem;--_ui5-v2-9-0_color-palette-swatch-container-padding: .1875rem .5rem;--_ui5-v2-9-0_color-palette-item-hover-margin: .0625rem;--_ui5-v2-9-0_color-palette-row-height: 7.5rem;--_ui5-v2-9-0_color-palette-button-height: 2rem;--_ui5-v2-9-0_color-palette-item-before-focus-inset: -.25rem;--_ui5-v2-9-0_daypicker_selected_item_now_special_day_top: 1.5625rem;--_ui5-v2-9-0_daypicker_specialday_focused_top: 1.3125rem;--_ui5-v2-9-0_daypicker_selected_item_now_special_day_border_bottom_radius_alternate: .5rem;--_ui5-v2-9-0_daypicker_specialday_focused_border_bottom: .25rem;--_ui5-v2-9-0_daypicker_item_now_specialday_top: 1.4375rem;--_ui5-v2-9-0_dp_two_calendar_item_secondary_text_padding_block: 0 .375rem;--_ui5-v2-9-0_dp_two_calendar_item_secondary_text_padding: 0 .375rem;--_ui5-v2-9-0_daypicker_two_calendar_item_selected_focus_margin_bottom: -.25rem;--_ui5-v2-9-0_daypicker_two_calendar_item_selected_focus_padding_right: .4375rem}:root,[dir=ltr]{--_ui5-v2-9-0_rotation_90deg: rotate(90deg);--_ui5-v2-9-0_rotation_minus_90deg: rotate(-90deg);--_ui5-v2-9-0_icon_transform_scale: none;--_ui5-v2-9-0_panel_toggle_btn_rotation: var(--_ui5-v2-9-0_rotation_90deg);--_ui5-v2-9-0_li_notification_group_toggle_btn_rotation: var(--_ui5-v2-9-0_rotation_90deg);--_ui5-v2-9-0_timeline_scroll_container_offset: .5rem;--_ui5-v2-9-0_popover_upward_arrow_margin: .1875rem 0 0 .1875rem;--_ui5-v2-9-0_popover_right_arrow_margin: .1875rem 0 0 -.375rem;--_ui5-v2-9-0_popover_downward_arrow_margin: -.375rem 0 0 .125rem;--_ui5-v2-9-0_popover_left_arrow_margin: .125rem 0 0 .25rem;--_ui5-v2-9-0_dialog_resize_cursor: se-resize;--_ui5-v2-9-0_progress_indicator_bar_border_radius: .5rem 0 0 .5rem;--_ui5-v2-9-0_progress_indicator_remaining_bar_border_radius: 0 .5rem .5rem 0;--_ui5-v2-9-0_menu_submenu_margin_offset: -.25rem 0;--_ui5-v2-9-0_menu_submenu_placement_type_left_margin_offset: .25rem 0;--_ui5-v2-9-0-menu_item_icon_float: right;--_ui5-v2-9-0-shellbar-notification-btn-count-offset: -.125rem}[dir=rtl],[dir=rtl] :host{--_ui5-v2-9-0_icon_transform_scale: scale(-1, 1);--_ui5-v2-9-0_panel_toggle_btn_rotation: var(--_ui5-v2-9-0_rotation_minus_90deg);--_ui5-v2-9-0_li_notification_group_toggle_btn_rotation: var(--_ui5-v2-9-0_rotation_minus_90deg);--_ui5-v2-9-0_timeline_scroll_container_offset: -.5rem;--_ui5-v2-9-0_popover_upward_arrow_margin: .1875rem .125rem 0 0;--_ui5-v2-9-0_popover_right_arrow_margin: .1875rem .25rem 0 0;--_ui5-v2-9-0_popover_downward_arrow_margin: -.4375rem .125rem 0 0;--_ui5-v2-9-0_popover_left_arrow_margin: .1875rem -.375rem 0 0;--_ui5-v2-9-0_dialog_resize_cursor:sw-resize;--_ui5-v2-9-0_progress_indicator_bar_border_radius: 0 .5rem .5rem 0;--_ui5-v2-9-0_progress_indicator_remaining_bar_border_radius: .5rem 0 0 .5rem;--_ui5-v2-9-0_menu_submenu_margin_offset: 0 -.25rem;--_ui5-v2-9-0_menu_submenu_placement_type_left_margin_offset: 0 .25rem;--_ui5-v2-9-0-menu_item_icon_float: left;--_ui5-v2-9-0_segmented_btn_item_border_left: .0625rem;--_ui5-v2-9-0_segmented_btn_item_border_right: 0px;--_ui5-v2-9-0-shellbar-notification-btn-count-offset: auto}[dir=rtl]{--_ui5-v2-9-0_segmented_btn_item_border_left: .0625rem;--_ui5-v2-9-0_segmented_btn_item_border_right: .0625rem;--_ui5-v2-9-0_progress_indicator_bar_border_radius: .5rem;--_ui5-v2-9-0_progress_indicator_remaining_bar_border_radius: .25rem}
`;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var wA=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let Ic=class extends Xr{constructor(){super(...arguments),this.design="Default",this.showTooltip=!1,this.mode="Decorative",this.pathData=[],this.invalid=!1}_onkeydown(i){this.mode===Rb.Interactive&&(Dr(i)&&this.fireDecoratorEvent("click"),wr(i)&&i.preventDefault())}_onkeyup(i){this.mode===Rb.Interactive&&wr(i)&&this.fireDecoratorEvent("click")}get _dir(){return this.ltr?"ltr":void 0}get effectiveAriaHidden(){return this.mode===Rb.Decorative?"true":void 0}get _tabIndex(){return this.mode===Rb.Interactive?0:void 0}get effectiveAccessibleRole(){switch(this.mode){case Rb.Interactive:return"button";case Rb.Decorative:return"presentation";default:return"img"}}onEnterDOM(){Nu()&&this.setAttribute("desktop","")}async onBeforeRendering(){const i=this.name;if(!i)return;let e=Xte(i);if(e||(e=await Yte(i)),!e)return this.invalid=!0,console.warn(`Required icon is not registered. Invalid icon name: ${this.name}`);if(e==="ICON_NOT_FOUND")return this.invalid=!0,console.warn(`Required icon is not registered. You can either import the icon as a module in order to use it e.g. "@ui5/webcomponents-icons/dist/${i.replace("sap-icon://","")}.js", or setup a JSON build step and import "@ui5/webcomponents-icons/dist/AllIcons.js".`);if(this.viewBox=e.viewBox||"0 0 512 512",e.customTemplate&&(e.pathData=[],this.customSvg=eie(e.customTemplate,this)),this.invalid=!1,this.pathData=Array.isArray(e.pathData)?e.pathData:[e.pathData],this.accData=e.accData,this.ltr=e.ltr,this.packageName=e.packageName,this.accessibleName)this.effectiveAccessibleName=this.accessibleName;else if(this.accData){const t=await JN(this.packageName);this.effectiveAccessibleName=t.getText(this.accData)||void 0}else this.effectiveAccessibleName=void 0}get hasIconTooltip(){return this.showTooltip&&this.effectiveAccessibleName}};wA([me()],Ic.prototype,"design",void 0),wA([me()],Ic.prototype,"name",void 0),wA([me()],Ic.prototype,"accessibleName",void 0),wA([me({type:Boolean})],Ic.prototype,"showTooltip",void 0),wA([me()],Ic.prototype,"mode",void 0),wA([me({type:Array})],Ic.prototype,"pathData",void 0),wA([me({type:Object,noAttribute:!0})],Ic.prototype,"accData",void 0),wA([me({type:Boolean})],Ic.prototype,"invalid",void 0),wA([me({noAttribute:!0})],Ic.prototype,"effectiveAccessibleName",void 0),Ic=wA([wn({tag:"ui5-icon",languageAware:!0,themeAware:!0,renderer:Br,template:function(){var i;return Rt("svg",{class:"ui5-icon-root",part:"root",tabindex:this._tabIndex,dir:this._dir,viewBox:this.viewBox,role:this.effectiveAccessibleRole,focusable:"false",preserveAspectRatio:"xMidYMid meet","aria-label":this.effectiveAccessibleName,"aria-hidden":this.effectiveAriaHidden,xmlns:"http://www.w3.org/2000/svg",onKeyDown:this._onkeydown,onKeyUp:this._onkeyup,children:[this.hasIconTooltip&&Rt("title",{id:`${this._id}-tooltip`,children:[" ",this.effectiveAccessibleName," "]}),Rt("g",{role:"presentation",children:[this.customSvg&&Ce("g",{dangerouslySetInnerHTML:{__html:((i=this.customSvg.strings)==null?void 0:i.join(""))??""}}),this.pathData.map(e=>Ce("path",{d:e}))]})]})},styles:`:host{-webkit-tap-highlight-color:rgba(0,0,0,0)}:host([hidden]){display:none}:host([invalid]){display:none}:host(:not([hidden]).ui5_hovered){opacity:.7}:host{display:inline-block;width:1rem;height:1rem;color:var(--sapContent_IconColor);fill:currentColor;outline:none}:host([design="Contrast"]){color:var(--sapContent_ContrastIconColor)}:host([design="Critical"]){color:var(--sapCriticalElementColor)}:host([design="Information"]){color:var(--sapInformativeElementColor)}:host([design="Negative"]){color:var(--sapNegativeElementColor)}:host([design="Neutral"]){color:var(--sapNeutralElementColor)}:host([design="NonInteractive"]){color:var(--sapContent_NonInteractiveIconColor)}:host([design="Positive"]){color:var(--sapPositiveElementColor)}:host([mode="Interactive"][desktop]) .ui5-icon-root:focus,:host([mode="Interactive"]) .ui5-icon-root:focus-visible{outline:var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);border-radius:var(--ui5-v2-9-0-icon-focus-border-radius)}.ui5-icon-root{display:flex;height:100%;width:100%;outline:none;vertical-align:top}:host([mode="Interactive"]){cursor:pointer}.ui5-icon-root:not([dir=ltr]){transform:var(--_ui5-v2-9-0_icon_transform_scale);transform-origin:center}
`}),Xt("click",{bubbles:!0})],Ic),Ic.define();const Ur=Ic;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var l8,ql=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let ka=l8=class extends Xr{get ariaDescription(){return l8.i18nBundle.getText(MSe)}constructor(){super(),this.disabled=!1,this.selected=!1,this.iconOnly=!1,this.nonInteractive=!1,this.posInSet=0,this.sizeOfSet=0}_onclick(i){this.disabled&&(i.preventDefault(),i.stopPropagation()),this.selected=!this.selected}onEnterDOM(){Nu()&&this.setAttribute("desktop","")}onBeforeRendering(){this.iconOnly=!Tie(this.text)}_onkeyup(i){hie(i)&&i.preventDefault()}get tabIndexValue(){if(!this.disabled)return this.getAttribute("tabindex")||this.forcedTabIndex}get ariaLabelText(){return Hg(this)}get showIconTooltip(){return s8()&&this.iconOnly&&!this.tooltip}};var c8;ql([me({type:Boolean})],ka.prototype,"disabled",void 0),ql([me({type:Boolean})],ka.prototype,"selected",void 0),ql([me()],ka.prototype,"tooltip",void 0),ql([me()],ka.prototype,"accessibleName",void 0),ql([me()],ka.prototype,"accessibleNameRef",void 0),ql([me()],ka.prototype,"icon",void 0),ql([me({type:Boolean})],ka.prototype,"iconOnly",void 0),ql([me({type:Boolean})],ka.prototype,"nonInteractive",void 0),ql([me({noAttribute:!0})],ka.prototype,"forcedTabIndex",void 0),ql([me({type:Number})],ka.prototype,"posInSet",void 0),ql([me({type:Number})],ka.prototype,"sizeOfSet",void 0),ql([Jn({type:Node,default:!0})],ka.prototype,"text",void 0),ql([wo("@ui5/webcomponents")],ka,"i18nBundle",void 0),ka=l8=ql([wn({tag:"ui5-segmented-button-item",renderer:Br,template:function(){return Rt("li",{role:"option",class:"ui5-segmented-button-item-root","aria-posinset":this.posInSet,"aria-setsize":this.sizeOfSet,"aria-selected":this.selected,"aria-disabled":this.disabled,"aria-roledescription":this.ariaDescription,"data-sap-focus-ref":!0,onClick:this._onclick,onKeyUp:this._onkeyup,tabindex:this.tabIndexValue?parseInt(this.tabIndexValue):void 0,"aria-label":this.ariaLabelText,title:this.tooltip,children:[this.icon&&Ce(Ur,{part:"icon",class:"ui5-segmented-button-item-icon",name:this.icon,showTooltip:this.showIconTooltip}),Ce("span",{id:`${this._id}-content`,class:"ui5-segmented-button-item-text",children:Ce("bdi",{children:Ce("slot",{})})})]})},styles:`:host{vertical-align:middle}:host(:not([hidden])){display:inline-block}:host{min-width:var(--_ui5-v2-9-0_button_base_min_width);height:var(--_ui5-v2-9-0_button_base_height);line-height:normal;font-family:var(--_ui5-v2-9-0_button_fontFamily);font-size:var(--sapFontSize);text-shadow:var(--_ui5-v2-9-0_button_text_shadow);border-radius:var(--_ui5-v2-9-0_button_border_radius);cursor:pointer;background-color:var(--sapButton_Background);border:var(--sapButton_BorderWidth) solid var(--sapButton_BorderColor);color:var(--sapButton_TextColor);box-sizing:border-box;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ui5-segmented-button-item-root{min-width:inherit;cursor:inherit;height:100%;width:100%;box-sizing:border-box;display:flex;justify-content:center;align-items:center;outline:none;padding:0 var(--_ui5-v2-9-0_button_base_padding);position:relative;background:transparent;border:none;color:inherit;text-shadow:inherit;font:inherit;white-space:inherit;overflow:inherit;text-overflow:inherit;letter-spacing:inherit;word-spacing:inherit;line-height:inherit;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host(:not([active]):not([non-interactive]):not([_is-touch]):not([disabled]):hover),:host(:not([hidden]):not([disabled]).ui5_hovered){background:var(--sapButton_Hover_Background);border:.0625rem solid var(--sapButton_Hover_BorderColor);color:var(--sapButton_Hover_TextColor)}.ui5-segmented-button-item-icon{color:inherit;flex-shrink:0;padding-inline-end:.375rem}:host([icon-only]) .ui5-segmented-button-item-icon{padding-inline-end:0}:host([icon-only]) .ui5-segmented-button-item-root{min-width:auto;padding:0}:host([icon-only]) .ui5-segmented-button-item-text{display:none}.ui5-segmented-button-item-text{outline:none;position:relative;white-space:inherit;overflow:inherit;text-overflow:inherit}:host([has-icon]:not([icon-end])) .ui5-segmented-button-item-text{margin-inline-start:var(--_ui5-v2-9-0_button_base_icon_margin)}:host([has-icon][icon-end]) .ui5-segmented-button-item-text{margin-inline-start:0}:host([disabled]){opacity:var(--sapContent_DisabledOpacity);pointer-events:unset;cursor:default}:host([has-icon]:not([icon-only])) .ui5-segmented-button-item-text{min-width:calc(var(--_ui5-v2-9-0_button_base_min_width) - var(--_ui5-v2-9-0_button_base_icon_margin) - 1rem)}:host([disabled]){pointer-events:none}:host([desktop]:not([active])) .ui5-segmented-button-item-root:focus-within:after,:host(:not([active])) .ui5-segmented-button-item-root:focus-visible:after,:host([desktop][active]) .ui5-segmented-button-item-root:focus-within:before,:host([active]) .ui5-segmented-button-item-root:focus-visible:before{content:"";position:absolute;box-sizing:border-box;inset:.0625rem;border:var(--_ui5-v2-9-0_button_focused_border);border-radius:var(--_ui5-v2-9-0_button_focused_border_radius)}:host([desktop][active]) .ui5-segmented-button-item-root:focus-within:before,:host([active]) .ui5-segmented-button-item-root:focus-visible:before{border-color:var(--_ui5-v2-9-0_button_pressed_focused_border_color)}.ui5-segmented-button-item-root::-moz-focus-inner{border:0}bdi{display:block;white-space:inherit;overflow:inherit;text-overflow:inherit}:host([active][desktop]) .ui5-segmented-button-item-root:focus-within:after,:host([active]) .ui5-segmented-button-item-root:focus-visible:after,:host([selected][desktop]) .ui5-segmented-button-item-root:focus-within:after,:host([selected]) .ui5-segmented-button-item-root:focus-visible:after{border-color:var(--_ui5-v2-9-0_button_pressed_focused_border_color);outline:none}:host([desktop]:not(:last-child)) .ui5-segmented-button-item-root:focus-within:after,:host(:not(:last-child)) .ui5-segmented-button-item-root:focus-visible:after{border-start-end-radius:var(--_ui5-v2-9-0_button_focused_inner_border_radius);border-end-end-radius:var(--_ui5-v2-9-0_button_focused_inner_border_radius)}:host([desktop]:not(:first-child)) .ui5-segmented-button-item-root:focus-within:after,:host(:not(:first-child)) .ui5-segmented-button-item-root:focus-visible:after{border-start-start-radius:var(--_ui5-v2-9-0_button_focused_inner_border_radius);border-end-start-radius:var(--_ui5-v2-9-0_button_focused_inner_border_radius)}
`})],ka),ka.define(),function(i){i.Single="Single",i.Multiple="Multiple"}(c8||(c8={}));const Aj=c8;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var wM,KC=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let l_=wM=class extends Xr{constructor(){super(),this.selectionMode="Single",this._itemNavigation=new nR(this,{getItemsCallback:()=>this.navigatableItems}),this.hasPreviouslyFocusedItem=!1}onBeforeRendering(){const i=this.getSlottedNodes("items");i.forEach((e,t,n)=>{e.posInSet=t+1,e.sizeOfSet=n.length}),this.normalizeSelection(),this.style.setProperty(Tw("--_ui5_segmented_btn_items_count"),`${i.length}`)}normalizeSelection(){if(this.items.length)switch(this.selectionMode){case Aj.Single:{const i=this.selectedItems,e=this._selectedItem?i.indexOf(this._selectedItem):-1;this._selectedItem&&i.length>1&&i.splice(e,1);const t=i.pop()||this.items[0];this._applySingleSelection(t);break}}}_selectItem(i){const e=i.target,t=e.hasAttribute("ui5-segmented-button-item");if(!e.disabled&&e!==this.getDomRef()&&t)return this.selectionMode===Aj.Multiple?i instanceof KeyboardEvent&&(e.selected=!e.selected):this._applySingleSelection(e),this.fireDecoratorEvent("selection-change",{selectedItems:this.selectedItems}),this._itemNavigation.setCurrentItem(e),this}_applySingleSelection(i){this.items.forEach(e=>{e.selected=!1}),i.selected=!0,this._selectedItem=i}_onclick(i){this._selectItem(i)}_onkeydown(i){Dr(i)?this._selectItem(i):wr(i)&&i.preventDefault()}_onkeyup(i){wr(i)&&this._selectItem(i)}_onmousedown(i){const e=i.target;e.hasAttribute("ui5-segmented-button-item")&&(this._itemNavigation.setCurrentItem(e),this.hasPreviouslyFocusedItem=!0)}_onfocusin(i){this.hasPreviouslyFocusedItem?this._itemNavigation.setCurrentItem(i.target):this.selectedItems.length&&(this._itemNavigation.setCurrentItem(this.selectedItems[0]),this.selectedItems[0].focus(),this.hasPreviouslyFocusedItem=!0)}get selectedItems(){return this.items.filter(i=>i.selected)}get navigatableItems(){return this.getSlottedNodes("items").filter(i=>!i.disabled)}get ariaDescribedBy(){return wM.i18nBundle.getText(ISe)}get ariaDescription(){return wM.i18nBundle.getText(TSe)}};function aw(i){return i.toLowerCase()}var u8;KC([me()],l_.prototype,"accessibleName",void 0),KC([me()],l_.prototype,"selectionMode",void 0),KC([Jn({type:HTMLElement,invalidateOnChildChange:!0,default:!0})],l_.prototype,"items",void 0),KC([wo("@ui5/webcomponents")],l_,"i18nBundle",void 0),l_=wM=KC([wn({tag:"ui5-segmented-button",languageAware:!0,renderer:Br,template:function(){return Rt("ul",{role:"listbox",class:"ui5-segmented-button-root",onClick:this._onclick,onMouseDown:this._onmousedown,onKeyDown:this._onkeydown,onKeyUp:this._onkeyup,onFocusIn:this._onfocusin,"aria-multiselectable":"true","aria-describedby":`${this._id}-invisibleText`,"aria-roledescription":this.ariaDescription,"aria-label":this.accessibleName,children:[Ce("slot",{}),Ce("span",{id:`${this._id}-invisibleText`,class:"ui5-hidden-text",children:this.ariaDescribedBy})]})},styles:`:host{vertical-align:middle}.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host(:not([hidden])){display:inline-block;min-width:calc(var(--_ui5-v2-9-0_segmented_btn_items_count) * var(--_ui5-v2-9-0_button_base_min_width))}.ui5-segmented-button-root{width:inherit;display:grid;grid-template-columns:repeat(var(--_ui5-v2-9-0_segmented_btn_items_count),minmax(var(--_ui5-v2-9-0_button_base_min_width),1fr));margin:0;padding:0;background-color:var(--sapButton_Background);border-radius:var(--sapButton_BorderCornerRadius);box-shadow:inset 0 0 0 var(--sapButton_BorderWidth) var(--sapButton_BorderColor)}::slotted([ui5-segmented-button-item]){border-radius:var(--sapButton_Segment_BorderCornerRadius);border-color:var(--_ui5-v2-9-0_segmented_btn_border_color);background-color:var(--_ui5-v2-9-0_segmented_btn_background_color);height:var(--_ui5-v2-9-0_button_base_height);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;z-index:initial}::slotted([ui5-segmented-button-item]:hover){z-index:2;box-shadow:var(--_ui5-v2-9-0_segmented_btn_hover_box_shadow);border-color:var(--sapButton_Hover_BorderColor);background-color:var(--sapButton_Hover_Background)}::slotted([ui5-segmented-button-item][selected]),::slotted([ui5-segmented-button-item][active]){border-color:var(--sapButton_Selected_BorderColor);background-color:var(--sapButton_Selected_Background);color:var(--sapButton_Selected_TextColor)}::slotted([ui5-segmented-button-item][selected]:hover){border-color:var(--sapButton_Selected_Hover_BorderColor);background-color:var(--sapButton_Selected_Hover_Background);color:var(--sapButton_Selected_TextColor)}::slotted([ui5-segmented-button-item]:last-child){border-start-end-radius:var(--sapButton_BorderCornerRadius);border-end-end-radius:var(--sapButton_BorderCornerRadius)}::slotted([ui5-segmented-button-item]:first-child){border-start-start-radius:var(--sapButton_BorderCornerRadius);border-end-start-radius:var(--sapButton_BorderCornerRadius)}::slotted([ui5-segmented-button-item]:not(:first-child)){border-left-width:var(--_ui5-v2-9-0_segmented_btn_item_border_left);border-right-width:var(--_ui5-v2-9-0_segmented_btn_item_border_right)}::slotted([ui5-segmented-button-item][active]:not([active]):hover){border-color:var(--sapButton_BorderColor)}::slotted([ui5-segmented-button-item][active]:hover){border-color:var(--sapButton_Selected_BorderColor)}
`}),Xt("selection-change",{bubbles:!0})],l_),l_.define(),function(i){i.Default="Default",i.Positive="Positive",i.Negative="Negative",i.Transparent="Transparent",i.Emphasized="Emphasized",i.Attention="Attention"}(u8||(u8={}));const dj=u8;var h8;(function(i){i.Button="Button",i.Submit="Submit",i.Reset="Reset"})(h8||(h8={}));const pj=h8;var A8;(function(i){i.InlineText="InlineText",i.OverlayText="OverlayText",i.AttentionDot="AttentionDot"})(A8||(A8={}));const CP=A8;function Rie(i){var e,t,n;return Ce(xr,{children:Rt("button",{type:"button",class:{"ui5-button-root":!0,"ui5-button-badge-placement-end":((e=this.badge[0])==null?void 0:e.design)==="InlineText","ui5-button-badge-placement-end-top":((t=this.badge[0])==null?void 0:t.design)==="OverlayText","ui5-button-badge-dot":((n=this.badge[0])==null?void 0:n.design)==="AttentionDot"},disabled:this.disabled,"data-sap-focus-ref":!0,"aria-pressed":i==null?void 0:i.ariaPressed,"aria-valuemin":i==null?void 0:i.ariaValueMin,"aria-valuemax":i==null?void 0:i.ariaValueMax,"aria-valuenow":i==null?void 0:i.ariaValueNow,"aria-valuetext":i==null?void 0:i.ariaValueText,onFocusOut:this._onfocusout,onClick:this._onclick,onMouseDown:this._onmousedown,onKeyDown:this._onkeydown,onKeyUp:this._onkeyup,onTouchStart:this._ontouchstart,onTouchEnd:this._ontouchend,tabindex:this.tabIndexValue,"aria-expanded":this.accessibilityAttributes.expanded,"aria-controls":this.accessibilityAttributes.controls,"aria-haspopup":this._hasPopup,"aria-label":this.ariaLabelText,"aria-describedby":this.ariaDescribedbyText,"aria-description":this.ariaDescriptionText,title:this.buttonTitle,part:"button",role:this.effectiveAccRole,children:[this.icon&&Ce(Ur,{class:"ui5-button-icon",name:this.icon,mode:"Decorative",part:"icon",showTooltip:this.showIconTooltip}),Ce("span",{id:`${this._id}-content`,class:"ui5-button-text",children:Ce("bdi",{children:Ce("slot",{})})}),this.endIcon&&Ce(Ur,{class:"ui5-button-end-icon",name:this.endIcon,mode:"Decorative",part:"endIcon"}),this.hasButtonType&&Ce("span",{id:"ui5-button-hiddenText-type","aria-hidden":"true",class:"ui5-hidden-text",children:this.buttonTypeText}),this.shouldRenderBadge&&Ce("slot",{name:"badge"})]})})}bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var xM,ar=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let fj=!1,$C=null,Un=xM=class extends Xr{constructor(){super(),this.design="Default",this.disabled=!1,this.submits=!1,this.accessibilityAttributes={},this.type="Button",this.accessibleRole="Button",this.active=!1,this.iconOnly=!1,this.hasIcon=!1,this.hasEndIcon=!1,this.nonInteractive=!1,this._iconSettings={},this.forcedTabIndex="0",this._isTouch=!1,this._cancelAction=!1,this._deactivate=()=>{$C&&$C._setActiveState(!1)},fj||(document.addEventListener("mouseup",this._deactivate),fj=!0)}_ontouchstart(){this.nonInteractive||this._setActiveState(!0)}onEnterDOM(){Nu()&&this.setAttribute("desktop","")}async onBeforeRendering(){this._setBadgeOverlayStyle(),this.hasIcon=!!this.icon,this.hasEndIcon=!!this.endIcon,this.iconOnly=this.isIconOnly,this.buttonTitle=this.tooltip||await this.getDefaultTooltip()}_setBadgeOverlayStyle(){!this.badge.length||this.badge[0].design!==CP.AttentionDot&&this.badge[0].design!==CP.OverlayText?this._internals.states.delete("has-overlay-badge"):this._internals.states.add("has-overlay-badge")}_onclick(){var i;this.nonInteractive||(this._isSubmit&&KO(this),this._isReset&&(()=>{var e,t;(t=(e=this._internals)==null?void 0:e.form)==null||t.reset()})(),Pk()&&((i=this.getDomRef())==null||i.focus()))}_onmousedown(){this.nonInteractive||(this._setActiveState(!0),$C=this)}_ontouchend(i){this.disabled&&(i.preventDefault(),i.stopPropagation()),this.active&&this._setActiveState(!1),$C&&$C._setActiveState(!1)}_onkeydown(i){var e;this._cancelAction=(e=i).key==="Shift"||e.keyCode===16||Rg(i),wr(i)||Dr(i)?this._setActiveState(!0):this._cancelAction&&this._setActiveState(!1)}_onkeyup(i){this._cancelAction&&i.preventDefault(),(wr(i)||Dr(i))&&this.active&&this._setActiveState(!1)}_onfocusout(){this.nonInteractive||this.active&&this._setActiveState(!1)}_setActiveState(i){!this.fireDecoratorEvent("active-state-change")||(this.active=i)}get _hasPopup(){return this.accessibilityAttributes.hasPopup}get hasButtonType(){return this.design!==dj.Default&&this.design!==dj.Transparent}get isIconOnly(){return!Tie(this.text)}static typeTextMappings(){return{Positive:QBe,Negative:NBe,Emphasized:HBe}}getDefaultTooltip(){if(s8())return(async i=>{if(!i)return;let e=Xte(i);return e||(e=await Yte(i)),e&&e!==WO&&e.accData?(await JN(e.packageName)).getText(e.accData):void 0})(this.icon)}get buttonTypeText(){return xM.i18nBundle.getText(xM.typeTextMappings()[this.design])}get effectiveAccRole(){return aw(this.accessibleRole)}get tabIndexValue(){if(this.disabled)return;const i=this.getAttribute("tabindex");return i?Number.parseInt(i):this.nonInteractive?-1:Number.parseInt(this.forcedTabIndex)}get showIconTooltip(){return s8()&&this.iconOnly&&!this.tooltip}get ariaLabelText(){return Hg(this)}get ariaDescribedbyText(){return this.hasButtonType?"ui5-button-hiddenText-type":void 0}get ariaDescriptionText(){return this.accessibleDescription===""?void 0:this.accessibleDescription}get _isSubmit(){return this.type===pj.Submit||this.submits}get _isReset(){return this.type===pj.Reset}get shouldRenderBadge(){return!(!this.badge.length||!this.badge[0].text.length&&this.badge[0].design!==CP.AttentionDot)}};ar([me()],Un.prototype,"design",void 0),ar([me({type:Boolean})],Un.prototype,"disabled",void 0),ar([me()],Un.prototype,"icon",void 0),ar([me()],Un.prototype,"endIcon",void 0),ar([me({type:Boolean})],Un.prototype,"submits",void 0),ar([me()],Un.prototype,"tooltip",void 0),ar([me()],Un.prototype,"accessibleName",void 0),ar([me()],Un.prototype,"accessibleNameRef",void 0),ar([me({type:Object})],Un.prototype,"accessibilityAttributes",void 0),ar([me()],Un.prototype,"accessibleDescription",void 0),ar([me()],Un.prototype,"type",void 0),ar([me()],Un.prototype,"accessibleRole",void 0),ar([me({type:Boolean})],Un.prototype,"active",void 0),ar([me({type:Boolean})],Un.prototype,"iconOnly",void 0),ar([me({type:Boolean})],Un.prototype,"hasIcon",void 0),ar([me({type:Boolean})],Un.prototype,"hasEndIcon",void 0),ar([me({type:Boolean})],Un.prototype,"nonInteractive",void 0),ar([me({noAttribute:!0})],Un.prototype,"buttonTitle",void 0),ar([me({type:Object})],Un.prototype,"_iconSettings",void 0),ar([me({noAttribute:!0})],Un.prototype,"forcedTabIndex",void 0),ar([me({type:Boolean})],Un.prototype,"_isTouch",void 0),ar([me({type:Boolean,noAttribute:!0})],Un.prototype,"_cancelAction",void 0),ar([Jn({type:Node,default:!0})],Un.prototype,"text",void 0),ar([Jn({type:HTMLElement,invalidateOnChildChange:!0})],Un.prototype,"badge",void 0),ar([wo("@ui5/webcomponents")],Un,"i18nBundle",void 0),Un=xM=ar([wn({tag:"ui5-button",formAssociated:!0,languageAware:!0,renderer:Br,template:Rie,styles:`:host{vertical-align:middle}.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host(:not([hidden])){display:inline-block}:host{min-width:var(--_ui5-v2-9-0_button_base_min_width);height:var(--_ui5-v2-9-0_button_base_height);line-height:normal;font-family:var(--_ui5-v2-9-0_button_fontFamily);font-size:var(--sapFontSize);text-shadow:var(--_ui5-v2-9-0_button_text_shadow);border-radius:var(--_ui5-v2-9-0_button_border_radius);cursor:pointer;background-color:var(--sapButton_Background);border:var(--sapButton_BorderWidth) solid var(--sapButton_BorderColor);color:var(--sapButton_TextColor);box-sizing:border-box;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-tap-highlight-color:transparent}.ui5-button-root{min-width:inherit;cursor:inherit;height:100%;width:100%;box-sizing:border-box;display:flex;justify-content:center;align-items:center;outline:none;padding:0 var(--_ui5-v2-9-0_button_base_padding);position:relative;background:transparent;border:none;color:inherit;text-shadow:inherit;font:inherit;white-space:inherit;overflow:inherit;text-overflow:inherit;letter-spacing:inherit;word-spacing:inherit;line-height:inherit;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host(:not([active]):not([non-interactive]):not([_is-touch]):not([disabled]):hover),:host(:not([hidden]):not([disabled]).ui5_hovered){background:var(--sapButton_Hover_Background);border:1px solid var(--sapButton_Hover_BorderColor);color:var(--sapButton_Hover_TextColor)}.ui5-button-icon,.ui5-button-end-icon{color:inherit;flex-shrink:0}.ui5-button-end-icon{margin-inline-start:var(--_ui5-v2-9-0_button_base_icon_margin)}:host([icon-only]:not([has-end-icon])) .ui5-button-root{min-width:auto;padding:0}:host([icon-only]) .ui5-button-text{display:none}.ui5-button-text{outline:none;position:relative;white-space:inherit;overflow:inherit;text-overflow:inherit}:host([has-icon]:not(:empty)) .ui5-button-text{margin-inline-start:var(--_ui5-v2-9-0_button_base_icon_margin)}:host([has-end-icon]:not([has-icon]):empty) .ui5-button-end-icon{margin-inline-start:0}:host([disabled]){opacity:var(--sapContent_DisabledOpacity);pointer-events:unset;cursor:default}:host([has-icon]:not([icon-only]):not([has-end-icon])) .ui5-button-text{min-width:calc(var(--_ui5-v2-9-0_button_base_min_width) - var(--_ui5-v2-9-0_button_base_icon_margin) - 1rem)}:host([disabled]:active){pointer-events:none}:host([desktop]:not([active])) .ui5-button-root:focus-within:after,:host(:not([active])) .ui5-button-root:focus-visible:after,:host([desktop][active][design="Emphasized"]) .ui5-button-root:focus-within:after,:host([active][design="Emphasized"]) .ui5-button-root:focus-visible:after,:host([desktop][active]) .ui5-button-root:focus-within:before,:host([active]) .ui5-button-root:focus-visible:before{content:"";position:absolute;box-sizing:border-box;inset:.0625rem;border:var(--_ui5-v2-9-0_button_focused_border);border-radius:var(--_ui5-v2-9-0_button_focused_border_radius)}:host([desktop][active]) .ui5-button-root:focus-within:before,:host([active]) .ui5-button-root:focus-visible:before{border-color:var(--_ui5-v2-9-0_button_pressed_focused_border_color)}:host([design="Emphasized"][desktop]) .ui5-button-root:focus-within:after,:host([design="Emphasized"]) .ui5-button-root:focus-visible:after{border-color:var(--_ui5-v2-9-0_button_emphasized_focused_border_color)}:host([design="Emphasized"][desktop]) .ui5-button-root:focus-within:before,:host([design="Emphasized"]) .ui5-button-root:focus-visible:before{content:"";position:absolute;box-sizing:border-box;inset:.0625rem;border:var(--_ui5-v2-9-0_button_emphasized_focused_border_before);border-radius:var(--_ui5-v2-9-0_button_focused_border_radius)}.ui5-button-root::-moz-focus-inner{border:0}bdi{display:block;white-space:inherit;overflow:inherit;text-overflow:inherit}:host([ui5-button][active]:not([disabled]):not([non-interactive])){background-image:none;background-color:var(--sapButton_Active_Background);border-color:var(--sapButton_Active_BorderColor);color:var(--sapButton_Active_TextColor)}:host([design="Positive"]){background-color:var(--sapButton_Accept_Background);border-color:var(--sapButton_Accept_BorderColor);color:var(--sapButton_Accept_TextColor)}:host([design="Positive"]:not([active]):not([non-interactive]):not([_is-touch]):not([disabled]):hover),:host([design="Positive"]:not([active]):not([non-interactive]):not([_is-touch]):not([disabled]).ui5_hovered){background-color:var(--sapButton_Accept_Hover_Background);border-color:var(--sapButton_Accept_Hover_BorderColor);color:var(--sapButton_Accept_Hover_TextColor)}:host([ui5-button][design="Positive"][active]:not([non-interactive])){background-color:var(--sapButton_Accept_Active_Background);border-color:var(--sapButton_Accept_Active_BorderColor);color:var(--sapButton_Accept_Active_TextColor)}:host([design="Negative"]){background-color:var(--sapButton_Reject_Background);border-color:var(--sapButton_Reject_BorderColor);color:var(--sapButton_Reject_TextColor)}:host([design="Negative"]:not([active]):not([non-interactive]):not([_is-touch]):not([disabled]):hover),:host([design="Negative"]:not([active]):not([non-interactive]):not([_is-touch]):not([disabled]).ui5_hovered){background-color:var(--sapButton_Reject_Hover_Background);border-color:var(--sapButton_Reject_Hover_BorderColor);color:var(--sapButton_Reject_Hover_TextColor)}:host([ui5-button][design="Negative"][active]:not([non-interactive])){background-color:var(--sapButton_Reject_Active_Background);border-color:var(--sapButton_Reject_Active_BorderColor);color:var(--sapButton_Reject_Active_TextColor)}:host([design="Attention"]){background-color:var(--sapButton_Attention_Background);border-color:var(--sapButton_Attention_BorderColor);color:var(--sapButton_Attention_TextColor)}:host([design="Attention"]:not([active]):not([non-interactive]):not([_is-touch]):not([disabled]):hover),:host([design="Attention"]:not([active]):not([non-interactive]):not([_is-touch]):not([disabled]).ui5_hovered){background-color:var(--sapButton_Attention_Hover_Background);border-color:var(--sapButton_Attention_Hover_BorderColor);color:var(--sapButton_Attention_Hover_TextColor)}:host([ui5-button][design="Attention"][active]:not([non-interactive])){background-color:var(--sapButton_Attention_Active_Background);border-color:var(--sapButton_Attention_Active_BorderColor);color:var(--sapButton_Attention_Active_TextColor)}:host([design="Emphasized"]){background-color:var(--sapButton_Emphasized_Background);border-color:var(--sapButton_Emphasized_BorderColor);border-width:var(--_ui5-v2-9-0_button_emphasized_border_width);color:var(--sapButton_Emphasized_TextColor);font-family:var(--sapFontBoldFamily )}:host([design="Emphasized"]:not([active]):not([non-interactive]):not([_is-touch]):not([disabled]):hover),:host([design="Emphasized"]:not([active]):not([non-interactive]):not([_is-touch]):not([disabled]).ui5_hovered){background-color:var(--sapButton_Emphasized_Hover_Background);border-color:var(--sapButton_Emphasized_Hover_BorderColor);border-width:var(--_ui5-v2-9-0_button_emphasized_border_width);color:var(--sapButton_Emphasized_Hover_TextColor)}:host([ui5-button][design="Empasized"][active]:not([non-interactive])){background-color:var(--sapButton_Emphasized_Active_Background);border-color:var(--sapButton_Emphasized_Active_BorderColor);color:var(--sapButton_Emphasized_Active_TextColor)}:host([design="Emphasized"][desktop]) .ui5-button-root:focus-within:after,:host([design="Emphasized"]) .ui5-button-root:focus-visible:after{border-color:var(--_ui5-v2-9-0_button_emphasized_focused_border_color);outline:none}:host([design="Emphasized"][desktop][active]:not([non-interactive])) .ui5-button-root:focus-within:after,:host([design="Emphasized"][active]:not([non-interactive])) .ui5-button-root:focus-visible:after{border-color:var(--_ui5-v2-9-0_button_emphasized_focused_active_border_color)}:host([design="Transparent"]){background-color:var(--sapButton_Lite_Background);color:var(--sapButton_Lite_TextColor);border-color:var(--sapButton_Lite_BorderColor)}:host([design="Transparent"]:not([active]):not([non-interactive]):not([_is-touch]):not([disabled]):hover),:host([design="Transparent"]:not([active]):not([non-interactive]):not([_is-touch]):not([disabled]).ui5_hovered){background-color:var(--sapButton_Lite_Hover_Background);border-color:var(--sapButton_Lite_Hover_BorderColor);color:var(--sapButton_Lite_Hover_TextColor)}:host([ui5-button][design="Transparent"][active]:not([non-interactive])){background-color:var(--sapButton_Lite_Active_Background);border-color:var(--sapButton_Lite_Active_BorderColor);color:var(--sapButton_Active_TextColor)}:host([ui5-segmented-button-item][active][desktop]) .ui5-button-root:focus-within:after,:host([ui5-segmented-button-item][active]) .ui5-button-root:focus-visible:after,:host([pressed][desktop]) .ui5-button-root:focus-within:after,:host([pressed]) .ui5-button-root:focus-visible:after{border-color:var(--_ui5-v2-9-0_button_pressed_focused_border_color);outline:none}:host([ui5-segmented-button-item][desktop]:not(:last-child)) .ui5-button-root:focus-within:after,:host([ui5-segmented-button-item]:not(:last-child)) .ui5-button-root:focus-visible:after{border-top-right-radius:var(--_ui5-v2-9-0_button_focused_inner_border_radius);border-bottom-right-radius:var(--_ui5-v2-9-0_button_focused_inner_border_radius)}:host([ui5-segmented-button-item][desktop]:not(:first-child)) .ui5-button-root:focus-within:after,:host([ui5-segmented-button-item]:not(:first-child)) .ui5-button-root:focus-visible:after{border-top-left-radius:var(--_ui5-v2-9-0_button_focused_inner_border_radius);border-bottom-left-radius:var(--_ui5-v2-9-0_button_focused_inner_border_radius)}::slotted([slot="badge"][design="InlineText"]){pointer-events:initial;font-family:"72override",var(--sapFontFamily);font-size:var(--sapFontSmallSize);padding-inline-start:.25rem;--_ui5-v2-9-0-tag-height: .625rem}::slotted([slot="badge"][design="OverlayText"]){pointer-events:initial;position:absolute;top:0;inset-inline-end:0;margin:-.5rem;z-index:1000;font-family:"72override",var(--sapFontFamily);font-size:var(--sapFontSmallSize);--_ui5-v2-9-0-tag-height: .625rem}::slotted([slot="badge"][design="AttentionDot"]){pointer-events:initial;content:"";position:absolute;top:0;inset-inline-end:0;margin:-.25rem;z-index:1000}:host(:state(has-overlay-badge)){overflow:visible;margin-right:5px}
`,shadowRootOptions:{delegatesFocus:!0}}),Xt("active-state-change",{bubbles:!0,cancelable:!0})],Un),Un.define();const rc=Un,gj={key:"ICON_ADD",defaultText:"Add"},mj={key:"ICON_DECLINE",defaultText:"Decline"},_j={key:"ICON_ERROR",defaultText:"Error"},vj={key:"ICON_EXPAND",defaultText:"Expand"};vi("decline",{pathData:"M86 109l22-23q5-5 12-5 6 0 11 5l124 125L380 86q5-5 11-5 7 0 12 5l22 23q12 11 0 23L301 256l124 125q11 11 0 22l-22 23q-8 5-12 5-3 0-11-5L255 301 131 426q-5 5-11 5-4 0-12-5l-22-23q-11-11 0-22l124-125L86 132q-12-12 0-23z",ltr:!1,accData:mj,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("decline",{pathData:"M292 256l117 116q7 7 7 18 0 12-7.5 19t-18.5 7q-10 0-18-8L256 292 140 408q-8 8-18 8-11 0-18.5-7.5T96 390q0-10 8-18l116-116-116-116q-8-8-8-18 0-11 7.5-18.5T122 96t18 7l116 117 116-117q7-7 18-7t18.5 7.5T416 122t-7 18z",ltr:!1,accData:mj,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"});const Gk="decline";vi("unit",{pathData:"M0 512L512 0v512H0zm77-32h403V77l-77 77 45 45-23 23-45-45-22 22 45 45-23 23-45-45-22 23 44 45-22 22-45-45-23 23 45 45-22 22-45-44-23 22 45 45-23 23-45-45-22 22 45 45-23 23-45-45zm204-32l167-167v167H281zm135-32v-58l-58 58h58z",ltr:!1,collection:"tnt-v2",packageName:"@ui5/webcomponents-icons-tnt"}),vi("unit",{pathData:"M485.191 509h-456c-14 0-25-11-25-25 0-7 3-14 7-18l456-456c5-5 11-8 18-8s13 3 18 8c6 6 9 14 7 22v452c0 14-11 25-25 25zm-268-119c-7 0-13-2-18-7l-17-17-92 93h370V89l-90 90 17 16c10 10 10 26 0 35-5 6-12 8-18 8-7 0-12-2-18-8l-16-16-41 40 17 17c10 10 10 26 0 36-5 5-12 7-18 7-7 0-13-2-18-7l-17-17-40 40 17 17c10 10 9 26 0 36-5 5-11 7-18 7zm193-91v109h-108z",ltr:!1,collection:"tnt-v3",packageName:"@ui5/webcomponents-icons-tnt"}),vi("measure",{pathData:"M0 208V64h512v32h-32v80q0 16-16 16t-16-16V96h-32v112q0 16-16 16t-16-16V96h-32v80q0 16-16 16t-16-16V96h-32v112q0 16-16 16t-16-16V96h-32v80q0 16-16 16t-16-16V96h-32v112q0 16-16 16t-16-16V96H96v80q0 16-16 16t-16-16V96H32v112q0 16-16 16T0 208zm0 112h304l25-49q2-5 7-5t7 5l25 49h144v32H384l16 32h112v32h-96l10 21q2 4 0 7.5t-7 3.5H253q-5 0-7-3.5t0-7.5l10-21H0v-32h272l16-32H0v-32zm292 96h88l-44-88z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("measure",{pathData:"M454 96q24 0 41 17t17 41v160q0 23-17 40t-41 17h-12q-11 0-18.5-7t-7.5-18 7.5-18.5T442 320h12q7 0 7-6V154q0-7-7-7h-38v51q0 11-7.5 18.5T390 224t-18-7.5-7-18.5v-51h-39v51q0 11-7 18.5t-18 7.5-18.5-7.5T275 198v-51h-38v51q0 11-7.5 18.5T211 224t-18-7.5-7-18.5v-51h-39v51q0 11-7 18.5t-18 7.5-18.5-7.5T96 198v-51H58q-7 0-7 7v160q0 6 7 6h108q11 0 18.5 7.5T192 346t-7.5 18-18.5 7H58q-24 0-41-17T0 314V154q0-24 17-41t41-17h396zm-75 280q5 7 5 14 0 11-7.5 18.5T358 416H250q-11 0-18.5-7.5T224 390q0-7 5-14l54-77q8-11 21-11t21 11z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),vi("camera",{pathData:"M0 158q0-13 9.5-21.5T32 128h64q4-14 11.5-30.5t17-31 19-24.5T160 32h192q9 0 18 9.5t17.5 24 16 31.5 12.5 31h64q9 0 16 4 6 3 11 9t5 17v290q0 12-9 22t-23 10H32q-13 0-22.5-10T0 448V158zm32 290h448V160h-87q-2-8-4.5-16t-6.5-16q-7-17-16-33.5T347 64H166q-11 14-19 30.5T132 128q-4 8-6.5 16t-5.5 16H32v288zm96-160q0-26 10-49.5t27.5-41T206 170t50-10 50 10 40.5 27.5 27.5 41 10 49.5q0 27-10 50t-27.5 40.5T306 406t-50 10-50-10-40.5-27.5T138 338t-10-50zm32 0q0 40 28 68t68 28 68-28 28-68-28-68-68-28-68 28-28 68zm272-96q16 0 16 16t-16 16-16-16 16-16z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("camera",{pathData:"M441 480q-11 0-18-7.5t-7-18.5 7-18 18-7h13q7 0 7-7V154q0-7-7-7h-73q-6 0-12-3t-13-12l-40-49H196l-44 55q-7 9-20 9H58q-7 0-7 7v268q0 7 7 7h13q11 0 18 7t7 18-7 18.5-18 7.5H58q-24 0-41-17T0 422V154q0-24 17-41t41-17h62l44-55q8-9 20-9h145q13 0 20 10l44 54h61q24 0 41 17t17 41v268q0 24-17 41t-41 17h-13zm-41-256q-16 0-16-16t16-16 16 16-16 16zM256 448q-27 0-50-10t-40.5-27.5T138 370t-10-50 10-50 27.5-40.5T206 202t50-10 50 10 40.5 27.5T374 270t10 50-10 50-27.5 40.5T306 438t-50 10zm0-205q-32 0-54.5 22.5T179 320t22.5 54.5T256 397t54.5-22.5T333 320t-22.5-54.5T256 243z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),vi("chart-axis",{pathData:"M487.5 408q9 10 9 23t-9 23l-61 53q-5 5-11 5t-11-5-5-11.5 5-11.5l44-36h-336q-14 0-23-9.5t-9-22.5V80l-37 43q-5 5-11.5 5t-11.5-5-5-11 5-11l52-60q10-9 23-9t23 9l53 60q5 5 5 11t-5 11-11.5 5-11.5-5l-36-43v313l225-225-57 5q-16-2-16-16 0-7 4.5-11.5t10.5-4.5l80-6q13 1 22.5 10t9.5 22l-5 81q0 6-4.5 10.5t-10.5 4.5q-17 0-17-16l5-56-224 225h313l-44-37q-5-5-5-11.5t5-11.5 11-5 11 5z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("chart-axis",{pathData:"M505 391q7 7 7 18 0 12-7 19l-77 77q-7 7-18 7t-18.5-7.5T384 486q0-10 8-18l33-33H102q-11 0-18-7t-7-18V87l-33 33q-8 8-18 8-11 0-18.5-7.5T0 102q0-10 8-18L84 7q9-7 19-7 9 0 18 7l77 77q7 7 7 18t-7.5 18.5T179 128q-10 0-18-8l-33-33v261l233-233h-47q-11 0-18.5-7T288 90t7.5-18.5T314 64h108q11 0 18.5 7.5T448 90v108q0 11-7.5 18.5T422 224t-18-7.5-7-18.5v-47L164 384h261l-33-33q-8-8-8-18 0-11 7.5-18.5T410 307t18 7z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),vi("rotate",{pathData:"M480 480V224H224v256h256zm16-288q16 0 16 16v288q0 16-16 16H208q-16 0-16-16V208q0-16 16-16h288zM200 59q5 5 5 11 0 5-5 12l-54 54q-5 5-12 5-6 0-11-4.5t-5-11.5q0-5 5-12l27-27H80q-20 0-34 14t-14 34v77q0 16-16 16T0 211v-77q0-33 23.5-56.5T80 54h70l-27-27q-5-5-5-11t5-11q4-5 11-5 8 0 12 5z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("rotate",{pathData:"M217 62q7 7 7 18t-7 18l-55 54q-8 8-18 8-11 0-18-7.5t-7-18.5 7-18l11-10H90q-17 0-28 11t-11 27v86q0 11-7 18.5T26 256t-18.5-7.5T0 230v-86q0-37 26-63.5T90 54h47l-11-10q-7-7-7-18t7-18.5T144 0t18 7zm269 130q11 0 18.5 7.5T512 218v268q0 11-7.5 18.5T486 512H218q-11 0-18.5-7.5T192 486V218q0-11 7.5-18.5T218 192h268zm-25 51H243v218h218V243z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var bj=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let tI=class extends rc{constructor(){super(...arguments),this.pressed=!1}_onclick(){this.pressed=!this.pressed,Pk()&&this.getDomRef().focus()}_onkeyup(i){hie(i)?i.preventDefault():super._onkeyup(i)}};bj([me({type:Boolean})],tI.prototype,"pressed",void 0),tI=bj([wn({tag:"ui5-toggle-button",template:function(){return Ce(xr,{children:Rie.call(this,{ariaPressed:this.pressed})})},styles:[rc.styles,`:host(:not([hidden])){display:inline-block}:host([design="Emphasized"]:not([pressed])){text-shadow:var(--_ui5-v2-9-0_toggle_button_emphasized_text_shadow)}:host([pressed]),:host([design="Default"][pressed]),:host([design="Transparent"][pressed]),:host([design="Emphasized"][pressed]){background:var(--sapButton_Selected_Background);border-color:var(--sapButton_Selected_BorderColor);color:var(--sapButton_Selected_TextColor);text-shadow:none}:host([pressed]:hover),:host([pressed]:not([active]):not([non-interactive]):not([_is-touch]):hover),:host([design="Default"][pressed]:hover),:host([design="Default"][pressed]:not([active]):not([non-interactive]):not([_is-touch]):hover),:host([design="Transparent"][pressed]:hover),:host([design="Transparent"][pressed]:not([active]):not([non-interactive]):not([_is-touch]):hover),:host([design="Emphasized"][pressed]:hover),:host([design="Emphasized"][pressed]:not([active]):not([non-interactive]):not([_is-touch]):hover){background:var(--sapButton_Selected_Hover_Background);border-color:var(--sapButton_Selected_Hover_BorderColor);color:var(--sapButton_Selected_TextColor)}:host([active]:not([disabled])),:host([design="Default"][active]:not([disabled])),:host([design="Transparent"][active]:not([disabled])),:host([design="Emphasized"][active]:not([disabled])){background:var(--sapButton_Active_Background);border-color:var(--sapButton_Active_BorderColor);color:var(--sapButton_Selected_TextColor)}:host([pressed]:not([active]):not([non-interactive]):not([_is-touch])),:host([design="Default"][pressed]:not([active]):not([non-interactive]):not([_is-touch])),:host([design="Transparent"][pressed]:not([active]):not([non-interactive]):not([_is-touch])),:host([design="Emphasized"][pressed]:not([active]):not([non-interactive]):not([_is-touch])){background:var(--sapButton_Selected_Background);border-color:var(--sapButton_Selected_BorderColor);color:var(--sapButton_Selected_TextColor)}:host([design="Negative"][pressed]){background:var(--sapButton_Reject_Selected_Background);border-color:var(--sapButton_Reject_Selected_BorderColor);color:var(--sapButton_Reject_Selected_TextColor)}:host([design="Negative"][active]:not([disabled])){background:var(--sapButton_Reject_Active_Background);border-color:var(--sapButton_Reject_Active_BorderColor);color:var(--sapButton_Reject_Active_TextColor)}:host([design="Negative"][pressed][active]:hover),:host([design="Negative"][pressed]:not([active]):not([non-interactive]):not([_is-touch]):hover){background:var(--sapButton_Reject_Selected_Hover_Background);border-color:var(--sapButton_Reject_Selected_Hover_BorderColor);color:var(--sapButton_Reject_Selected_TextColor)}:host([design="Negative"][pressed]:not([active]):not([non-interactive]):not([_is-touch])){background:var(--sapButton_Reject_Selected_Background);border-color:var(--sapButton_Reject_Selected_BorderColor);color:var(--sapButton_Reject_Selected_TextColor)}:host([design="Positive"][pressed]){background:var(--sapButton_Accept_Selected_Background);border-color:var(--sapButton_Accept_Selected_BorderColor);color:var(--sapButton_Accept_Selected_TextColor)}:host([design="Positive"][active]:not([disabled])){background:var(--sapButton_Accept_Active_Background);border-color:var(--sapButton_Accept_Active_BorderColor);color:var(--sapButton_Accept_Selected_TextColor)}:host([design="Positive"][pressed][active]:hover),:host([design="Positive"][pressed]:not([active]):not([non-interactive]):not([_is-touch]):hover){background:var(--sapButton_Accept_Selected_Hover_Background);border-color:var(--sapButton_Accept_Selected_Hover_BorderColor);color:var(--sapButton_Accept_Selected_TextColor)}:host([design="Positive"][pressed]:not([active]):not([non-interactive]):not([_is-touch])){background:var(--sapButton_Accept_Selected_Background);border-color:var(--sapButton_Accept_Selected_BorderColor);color:var(--sapButton_Accept_Selected_TextColor)}:host([design="Attention"][pressed]){background:var(--sapButton_Attention_Selected_Background);border-color:var(--sapButton_Attention_Selected_BorderColor);color:var(--sapButton_Attention_Selected_TextColor)}:host([design="Attention"][active]:not([disabled])){background:var(--sapButton_Attention_Active_Background);border-color:var(--sapButton_Attention_Active_BorderColor);color:var(--sapButton_Attention_Active_TextColor)}:host([design="Attention"][pressed][active]:hover),:host([design="Attention"][pressed]:not([active]):not([non-interactive]):not([_is-touch]):hover){background:var(--sapButton_Attention_Selected_Hover_Background);border-color:var(--sapButton_Attention_Selected_Hover_BorderColor);color:var(--sapButton_Attention_Selected_TextColor)}:host([design="Attention"][pressed]:not([active]):not([non-interactive]):not([_is-touch])){background:var(--sapButton_Attention_Selected_Background);border-color:var(--sapButton_Attention_Selected_BorderColor);color:var(--sapButton_Attention_Selected_TextColor)}
`]})],tI),tI.define();const yj=()=>{const i=Rv();return i&&typeof i.focus=="function"?i:null},kie=(i,e)=>{let t=i;if(t.shadowRoot&&(t=Array.from(t.shadowRoot.children).find(r=>r.localName!=="style"),!t))return!1;if(t===e)return!0;const n=t.localName==="slot"?t.assignedNodes():t.children;return!!n&&Array.from(n).some(r=>kie(r,e))},KSe=(i,e)=>{let t,n;if(i instanceof MouseEvent)t=i.clientX,n=i.clientY;else{const a=i.touches[0];t=a.clientX,n=a.clientY}return o=n,(r=t)>=(s=e).left&&r<=s.right&&o>=s.top&&o<=s.bottom;var r,o,s},Fie=i=>{const e=i.parentElement||i.getRootNode&&i.getRootNode().host;return e&&("isUI5Element"in(t=e)&&"_show"in t||e===document.documentElement)?e:Fie(e);var t},Rh=(i,e,t)=>Math.min(Math.max(i,e),Math.max(e,t)),$Se=typeof document>"u",cH=()=>$Se||document.body.classList.contains("ui5-content-native-scrollbars")?"":`::-webkit-scrollbar:horizontal {
	height: var(--sapScrollBar_Dimension);
}

::-webkit-scrollbar:vertical {
	width: var(--sapScrollBar_Dimension);
}

::-webkit-scrollbar {
	background-color: var(--sapScrollBar_TrackColor);
	border-left: none;
}

::-webkit-scrollbar-thumb {
	border-radius: var(--sapElement_BorderCornerRadius);
	background-color: var(--sapScrollBar_FaceColor);
}

::-webkit-scrollbar-thumb:hover {
	background-color: var(--sapScrollBar_Hover_FaceColor);
}

::-webkit-scrollbar-corner {
	background-color: var(--sapScrollBar_TrackColor);
}`,Die={toAttribute:i=>i instanceof HTMLElement?null:i,fromAttribute:i=>i},lw=i=>i.nodeName!=="SLOT"&&(i.offsetWidth<=0&&i.offsetHeight<=0||i.style&&i.style.visibility==="hidden"),XSe=/^(?:a|area)$/i,YSe=/^(?:input|select|textarea|button)$/i,ZSe=i=>{if(i.disabled)return!1;const e=i.getAttribute("tabindex");return e!=null?parseInt(e)>=0:YSe.test(i.nodeName)||XSe.test(i.nodeName)&&!!i.href},JSe=i=>i.hasAttribute("data-ui5-focus-trap"),eEe=i=>{const e=getComputedStyle(i);return i.scrollHeight>i.clientHeight&&["scroll","auto"].indexOf(e.overflowY)>=0||i.scrollWidth>i.clientWidth&&["scroll","auto"].indexOf(e.overflowX)>=0},d8=async(i,e)=>!i||lw(i)?null:uH(i,!0),tEe=i=>i.hasAttribute("data-ui5-focus-redirect")||!lw(i),iEe=i=>{if(Uh(i)){const e=i.getAttribute("tabindex");if(e!==null&&parseInt(e)<0)return!0}return!1},uH=async(i,e,t)=>{let n,r,o,s=-1;for(i.shadowRoot?n=e?i.shadowRoot.firstChild:i.shadowRoot.lastChild:i instanceof HTMLSlotElement&&i.assignedNodes()?(r=i.assignedNodes(),s=e?0:r.length-1,n=r[s]):n=e?i.firstElementChild:i.lastElementChild;n;){const a=n;if(!lw(a)&&!iEe(a)){if(Uh(n)&&(await n._waitForDomRef(),n=n.getDomRef()),!n||lw(n))return null;if(n.nodeType===1&&tEe(n)&&!JSe(n)){if(ZSe(n)||(o=await uH(n,e),!Pk()&&!o&&eEe(n)))return n&&typeof n.focus=="function"?n:null;if(o)return o&&typeof o.focus=="function"?o:null}}n=e?a.nextSibling:a.previousSibling,r&&!r[s].contains(n)&&(s=e?s+1:s-1,n=r[s])}return null};let BP;const iy=new Map,wj=()=>(BP||(BP=new window.ResizeObserver(i=>{window.requestAnimationFrame(()=>{i.forEach(e=>{const t=iy.get(e.target);t&&Promise.all(t.map(n=>n()))})})})),BP);let Fg=class{static register(i,e){let t=i;Uh(t)&&(t=t.getDomRef()),t instanceof HTMLElement?((n,r)=>{const o=iy.get(n)||[];o.length||wj().observe(n),iy.set(n,[...o,r])})(t,e):console.warn("Cannot register ResizeHandler for element",i)}static deregister(i,e){let t=i;Uh(t)&&(t=t.getDomRef()),t instanceof HTMLElement?((n,r)=>{const o=iy.get(n)||[];if(o.length===0)return;const s=o.filter(a=>a!==r);s.length===0?(wj().unobserve(n),iy.delete(n)):iy.set(n,s)})(t,e):console.warn("Cannot deregister ResizeHandler for element",i)}};const SP=new Map,w2=new Map;w2.set("S",[0,599]),w2.set("M",[600,1023]),w2.set("L",[1024,1439]),w2.set("XL",[1440,1/0]);var Uie=(i=>(i.RANGE_4STEPS="4Step",i))(Uie||{});const aR={RANGESETS:Uie,initRangeSet:(i,e)=>{SP.set(i,e)},getCurrentRange:(i,e=window.innerWidth)=>{let t,n=SP.get(i);n||(n=SP.get("4Step"));const r=Math.floor(e);return n.forEach((o,s)=>{r>=o[0]&&r<=o[1]&&(t=s)}),t||[...n.keys()][0]}};function nEe(){return Ce("div",{class:"ui5-block-layer",onKeyDown:this._preventBlockLayerFocus,onMouseDown:this._preventBlockLayerFocus})}function hH(i){return Rt(xr,{children:[nEe.call(this),Rt("section",{"root-element":!0,style:this.styles.root,class:this.classes.root,role:this._role,"aria-modal":this._ariaModal,"aria-label":this._ariaLabel,"aria-labelledby":this._ariaLabelledBy,onKeyDown:this._onkeydown,onFocusOut:this._onfocusout,onMouseUp:this._onmouseup,onMouseDown:this._onmousedown,children:[Ce("span",{class:"first-fe","data-ui5-focus-trap":!0,role:"none",tabIndex:0,onFocusIn:this.forwardToLast}),((i==null?void 0:i.beforeContent)||rEe).call(this),Ce("div",{style:this.styles.content,class:this.classes.content,onScroll:this._scroll,part:"content",children:Ce("slot",{})}),((i==null?void 0:i.afterContent)||oEe).call(this),Ce("span",{class:"last-fe","data-ui5-focus-trap":!0,role:"none",tabIndex:0,onFocusIn:this.forwardToFirst})]})]})}function rEe(){}function oEe(){}var p8;aR.initRangeSet(aR.RANGESETS.RANGE_4STEPS,w2),function(i){i.None="None",i.Dialog="Dialog",i.AlertDialog="AlertDialog"}(p8||(p8={}));const lR=p8,Uu=Mv("OpenedPopupsRegistry",{openedRegistry:[]}),Pie=(i,e=[])=>{Uu.openedRegistry.some(t=>t.instance===i)||Uu.openedRegistry.push({instance:i,parentPopovers:e}),Qie(),Uu.openedRegistry.length===1&&sEe()},Lie=i=>{Uu.openedRegistry=Uu.openedRegistry.filter(e=>e.instance!==i),Qie(),Uu.openedRegistry.length||aEe()},Oie=i=>{Uu.openedRegistry.length&&Rg(i)&&(i.stopPropagation(),Uu.openedRegistry[Uu.openedRegistry.length-1].instance.closePopup(!0))},sEe=()=>{document.addEventListener("keydown",Oie)},aEe=()=>{document.removeEventListener("keydown",Oie)},Qie=()=>{let i,e=!1;for(let t=Uu.openedRegistry.length-1;t>=0;t--)i=Uu.openedRegistry[t].instance,!e&&i.isModal?(i.isTopModalPopup=!0,e=!0):i.isTopModalPopup=!1};bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var x2,Sc=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};$B("data-ui5-popup-scroll-blocker")||KB(`.ui5-popup-scroll-blocker{overflow:hidden}
`,"data-ui5-popup-scroll-blocker");const iI=new Set;let hl=x2=class extends Xr{constructor(){super(),this.preventFocusRestore=!1,this.accessibleRole="Dialog",this.preventInitialFocus=!1,this.isTopModalPopup=!1,this.onPhone=!1,this.onDesktop=!1,this._opened=!1,this._open=!1,this._resizeHandler=this._resize.bind(this),this._getRealDomRef=()=>this.shadowRoot.querySelector("[root-element]")}onBeforeRendering(){this.onPhone=jr(),this.onDesktop=Nu()}onAfterRendering(){jB().then(()=>{this._updateMediaRange()})}onEnterDOM(){this.setAttribute("popover","manual"),Fg.register(this,this._resizeHandler),Nu()&&this.setAttribute("desktop",""),this.tabIndex=-1,this.open&&(this.showPopover(),this.openPopup())}onExitDOM(){this._opened&&(x2.unblockPageScrolling(this),this._removeOpenedPopup()),Fg.deregister(this,this._resizeHandler)}set open(i){this._open!==i&&(this._open=i,i?this.openPopup():this.closePopup())}get open(){return this._open}async openPopup(){this._opened||(this.fireDecoratorEvent("before-open")?(this.isModal&&x2.blockPageScrolling(this),this._focusedElementBeforeOpen=yj(),this._show(),this._opened=!0,this.getDomRef()&&this._updateMediaRange(),this._addOpenedPopup(),this.open=!0,await this.applyInitialFocus(),await jB(),this.isConnected&&this.fireDecoratorEvent("open")):this.open=!1)}_resize(){this._updateMediaRange()}_preventBlockLayerFocus(i){i.preventDefault()}static blockPageScrolling(i){iI.add(i),iI.size===1&&document.documentElement.classList.add("ui5-popup-scroll-blocker")}static unblockPageScrolling(i){iI.delete(i),iI.size===0&&document.documentElement.classList.remove("ui5-popup-scroll-blocker")}_scroll(i){this.fireDecoratorEvent("scroll",{scrollTop:i.target.scrollTop,targetRef:i.target})}_onkeydown(i){const e=i.target===this._root&&Lk(i),t=Dr(i)&&!this.open;(e||t)&&i.preventDefault()}_onfocusout(i){i.relatedTarget||(this._shouldFocusRoot=!0)}_onmousedown(i){this.shadowRoot.contains(i.target)?this._shouldFocusRoot=!0:this._shouldFocusRoot=!1}_onmouseup(){this._shouldFocusRoot&&(un.chrome&&this._root.focus(),this._shouldFocusRoot=!1)}async forwardToFirst(){const i=await d8(this);i?i.focus():this._root.focus()}async forwardToLast(){const i=await(async e=>!e||lw(e)?null:uH(e,!1))(this);i?i.focus():this._root.focus()}async applyInitialFocus(){this.preventInitialFocus||await this.applyFocus()}async applyFocus(){if(this.querySelector("[autofocus]")||(await this._waitForDomRef(),this.getRootNode()===this))return;let i;this.initialFocus&&(i=this.getRootNode().getElementById(this.initialFocus)||document.getElementById(this.initialFocus)),i=i||await d8(this)||this._root,i&&(i===this._root&&(i.tabIndex=-1),i.focus())}isFocusWithin(){return(i=>{const e=yj();return!!e&&kie(i,e)})(this._root)}_updateMediaRange(){this.mediaRange=aR.getCurrentRange(aR.RANGESETS.RANGE_4STEPS,this.getDomRef().offsetWidth)}_addOpenedPopup(){Pie(this)}closePopup(i=!1,e=!1,t=!1){this._opened&&(this.fireDecoratorEvent("before-close",{escPressed:i})?(this._opened=!1,this.isModal&&x2.unblockPageScrolling(this),this.hide(),this.open=!1,e||this._removeOpenedPopup(),this.preventFocusRestore||t||this.resetFocus(),this.fireDecoratorEvent("close")):this.open=!0)}_removeOpenedPopup(){Lie(this)}resetFocus(){var i;(i=this._focusedElementBeforeOpen)==null||i.focus(),this._focusedElementBeforeOpen=null}_show(){this.isConnected&&(this.setAttribute("popover","manual"),this.showPopover())}hide(){this.isConnected&&this.hidePopover()}get _ariaLabel(){return Hg(this)}get _root(){return this.shadowRoot.querySelector(".ui5-popup-root")}get _role(){return this.accessibleRole===lR.None?void 0:aw(this.accessibleRole)}get _ariaModal(){return this.accessibleRole===lR.None?void 0:"true"}get contentDOM(){return this.shadowRoot.querySelector(".ui5-popup-content")}get styles(){return{root:{},content:{}}}get classes(){return{root:{"ui5-popup-root":!0},content:{"ui5-popup-content":!0}}}};Sc([me()],hl.prototype,"initialFocus",void 0),Sc([me({type:Boolean})],hl.prototype,"preventFocusRestore",void 0),Sc([me()],hl.prototype,"accessibleName",void 0),Sc([me()],hl.prototype,"accessibleNameRef",void 0),Sc([me()],hl.prototype,"accessibleRole",void 0),Sc([me()],hl.prototype,"mediaRange",void 0),Sc([me({type:Boolean})],hl.prototype,"preventInitialFocus",void 0),Sc([me({type:Boolean,noAttribute:!0})],hl.prototype,"isTopModalPopup",void 0),Sc([Jn({type:HTMLElement,default:!0})],hl.prototype,"content",void 0),Sc([me({type:Boolean})],hl.prototype,"onPhone",void 0),Sc([me({type:Boolean})],hl.prototype,"onDesktop",void 0),Sc([me({type:Boolean})],hl.prototype,"open",null),hl=x2=Sc([wn({renderer:Br,styles:[`:host{min-width:1px;overflow:visible;border:none;inset:unset;margin:0;padding:0}
`,`.ui5-block-layer{position:fixed;z-index:-1;display:none;inset:-500px;outline:none;pointer-events:all}
`],template:hH}),Xt("before-open",{cancelable:!0}),Xt("open"),Xt("before-close",{cancelable:!0}),Xt("close"),Xt("scroll",{bubbles:!0})],hl);const Vk=hl;var f8;(function(i){i.Start="Start",i.End="End",i.Top="Top",i.Bottom="Bottom"})(f8||(f8={}));const xs=f8;var g8;(function(i){i.Center="Center",i.Top="Top",i.Bottom="Bottom",i.Stretch="Stretch"})(g8||(g8={}));const kb=g8;var m8;(function(i){i.Center="Center",i.Start="Start",i.End="End",i.Stretch="Stretch"})(m8||(m8={}));const Wl=m8;let Nie;const Qa=[],j2=()=>{Qa.forEach(i=>{i.instance.reposition()})},Hie=i=>{const e=[...Uu.openedRegistry];if(e.length!==0&&pEe(e[e.length-1].instance))for(let t=e.length-1;t!==-1;t--){const n=e[t].instance;if(n.isModal||n.isOpenerClicked(i))return;if(KSe(i,n.getBoundingClientRect()))break;n.closePopup()}},lEe=i=>{const e=uEe(i);var t;Pie(i,e),Qa.push({instance:i,parentPopovers:e}),(t=i)&&t.shadowRoot.addEventListener("scroll",j2,{capture:!0}),Qa.length===1&&(document.addEventListener("scroll",j2,{capture:!0}),document.addEventListener("mousedown",Hie,{capture:!0}),Nie=setInterval(()=>{j2(),Rv().tagName==="IFRAME"&&cEe().reverse().forEach(n=>n.instance.closePopup(!1,!1,!0))},300))},cEe=()=>Qa,uEe=i=>{let e=i.parentNode;const t=[];for(;e&&e.parentNode;){for(let n=0;n<Qa.length;n++)e===Qa[n].instance&&t.push(e);e=e.parentNode}return t};var _8;(function(i){i.H1="H1",i.H2="H2",i.H3="H3",i.H4="H4",i.H5="H5",i.H6="H6"})(_8||(_8={}));const Fb=_8;function hEe(i){switch(i){case"H1":return Ce("h1",{class:"ui5-title-root",children:Db.call(this)});case"H2":default:return Ce("h2",{class:"ui5-title-root",children:Db.call(this)});case"H3":return Ce("h3",{class:"ui5-title-root",children:Db.call(this)});case"H4":return Ce("h4",{class:"ui5-title-root",children:Db.call(this)});case"H5":return Ce("h5",{class:"ui5-title-root",children:Db.call(this)});case"H6":return Ce("h6",{id:`${this._id}-inner`,class:"ui5-title-root",children:Db.call(this)})}}function Db(){return Ce("span",{id:`${this._id}-inner`,children:Ce("slot",{})})}bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var nI=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let S_=class extends Xr{constructor(){super(...arguments),this.wrappingType="Normal",this.level="H2",this.size="H5"}get h1(){return this.level===Fb.H1}get h2(){return this.level===Fb.H2}get h3(){return this.level===Fb.H3}get h4(){return this.level===Fb.H4}get h5(){return this.level===Fb.H5}get h6(){return this.level===Fb.H6}};nI([me()],S_.prototype,"wrappingType",void 0),nI([me()],S_.prototype,"level",void 0),nI([me()],S_.prototype,"size",void 0),S_=nI([wn({tag:"ui5-title",renderer:Br,template:function(){return Ce(xr,{children:hEe.call(this,this.level)})},styles:`:host(:not([hidden])){display:block;cursor:text}:host{max-width:100%;color:var(--sapGroup_TitleTextColor);font-size:var(--sapFontHeader5Size);font-family:"72override",var(--sapFontHeaderFamily);text-shadow:var(--sapContent_TextShadow)}.ui5-title-root{display:inline-block;position:relative;font-weight:400;font-size:inherit;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;max-width:100%;vertical-align:bottom;-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0;margin:0;cursor:inherit}:host{white-space:pre-line}:host([wrapping-type="None"]){white-space:nowrap}.ui5-title-root,:host ::slotted(*){white-space:inherit}::slotted(*){font-size:inherit;font-family:inherit;text-shadow:inherit}:host([size="H1"]){font-size:var(--sapFontHeader1Size)}:host([size="H2"]){font-size:var(--sapFontHeader2Size)}:host([size="H3"]){font-size:var(--sapFontHeader3Size)}:host([size="H4"]){font-size:var(--sapFontHeader4Size)}:host([size="H5"]){font-size:var(--sapFontHeader5Size)}:host([size="H6"]){font-size:var(--sapFontHeader6Size)}
`})],S_),S_.define();const qk=S_;function zie(){return hH.call(this,{beforeContent:AEe,afterContent:dEe})}function AEe(){return Rt(xr,{children:[Ce("span",{class:"ui5-popover-arrow",style:this.styles.arrow}),this._displayHeader&&Ce("header",{class:"ui5-popup-header-root",id:"ui5-popup-header",part:"header",children:this.header.length?Ce("slot",{name:"header"}):Ce(qk,{level:"H1",class:"ui5-popup-header-text",children:this.headerText})})]})}function dEe(){return Ce(xr,{children:this._displayFooter&&!!this.footer.length&&Ce("footer",{class:"ui5-popup-footer-root",part:"footer",children:Ce("slot",{name:"footer"})})})}bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);const Gie=`:host{position:fixed;background:var(--sapGroup_ContentBackground);border-radius:var(--_ui5-v2-9-0_popup_border_radius);min-height:2rem;box-sizing:border-box}:host([open]){display:flex}.ui5-popup-root{background:inherit;border-radius:inherit;width:100%;box-sizing:border-box;display:flex;flex-direction:column;overflow:hidden;flex:1 1 auto;outline:none}.ui5-popup-root .ui5-popup-header-root{color:var(--sapPageHeader_TextColor);box-shadow:var(--_ui5-v2-9-0_popup_header_shadow);border-bottom:var(--_ui5-v2-9-0_popup_header_border)}.ui5-popup-content{color:var(--sapTextColor);flex:auto}.ui5-popup-content:focus{outline:var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);outline-offset:calc(-1 * var(--sapContent_FocusWidth));border-radius:var(--_ui5-v2-9-0_popup_border_radius)}.ui5-popup-footer-root{background:var(--sapPageFooter_Background);border-top:1px solid var(--sapPageFooter_BorderColor);color:var(--sapPageFooter_TextColor)}.ui5-popup-header-root,.ui5-popup-footer-root,:host([header-text]) .ui5-popup-header-text{margin:0;display:flex;justify-content:center;align-items:center}.ui5-popup-header-root .ui5-popup-header-text{font-weight:var(--_ui5-v2-9-0_popup_header_font_weight)}.ui5-popup-content{overflow:auto;box-sizing:border-box}:host([header-text]) .ui5-popup-header-text{min-height:var(--_ui5-v2-9-0_popup_default_header_height);max-height:var(--_ui5-v2-9-0_popup_default_header_height);line-height:var(--_ui5-v2-9-0_popup_default_header_height);text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:100%;display:inline-flex;justify-content:var(--_ui5-v2-9-0_popup_header_prop_header_text_alignment)}:host([header-text]) .ui5-popup-header-root{justify-content:var(--_ui5-v2-9-0_popup_header_prop_header_text_alignment)}:host(:not([header-text])) .ui5-popup-header-text{display:none}:host([media-range="S"]) .ui5-popup-content{padding:1rem var(--_ui5-v2-9-0_popup_content_padding_s)}:host([media-range="M"]) .ui5-popup-content,:host([media-range="L"]) .ui5-popup-content{padding:1rem var(--_ui5-v2-9-0_popup_content_padding_m_l)}:host([media-range="XL"]) .ui5-popup-content{padding:1rem var(--_ui5-v2-9-0_popup_content_padding_xl)}.ui5-popup-header-root{background:var(--_ui5-v2-9-0_popup_header_background)}:host([media-range="S"]) .ui5-popup-header-root,:host([media-range="S"]) .ui5-popup-footer-root{padding-left:var(--_ui5-v2-9-0_popup_header_footer_padding_s);padding-right:var(--_ui5-v2-9-0_popup_header_footer_padding_s)}:host([media-range="M"]) .ui5-popup-header-root,:host([media-range="L"]) .ui5-popup-header-root,:host([media-range="M"]) .ui5-popup-footer-root,:host([media-range="L"]) .ui5-popup-footer-root{padding-left:var(--_ui5-v2-9-0_popup_header_footer_padding_m_l);padding-right:var(--_ui5-v2-9-0_popup_header_footer_padding_m_l)}:host([media-range="XL"]) .ui5-popup-header-root,:host([media-range="XL"]) .ui5-popup-footer-root{padding-left:var(--_ui5-v2-9-0_popup_header_footer_padding_xl);padding-right:var(--_ui5-v2-9-0_popup_header_footer_padding_xl)}
`;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var Zo,Fa=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let Jo=Zo=class extends Vk{static get VIEWPORT_MARGIN(){return 10}constructor(){super(),this.placement="End",this.horizontalAlign="Center",this.verticalAlign="Center",this.modal=!1,this.hideArrow=!1,this.allowTargetOverlap=!1,this.arrowTranslateX=0,this.arrowTranslateY=0,this.actualPlacement="End"}set opener(i){this._opener!==i&&(this._opener=i,i&&this.open&&this.openPopup())}get opener(){return this._opener}async openPopup(){if(this._opened)return;const i=this.getOpenerHTMLElement(this.opener);if(i){if(this.isOpenerOutsideViewport(i.getBoundingClientRect()))return await jB(),this.open=!1,void this.fireDecoratorEvent("close");this._openerRect=i.getBoundingClientRect(),await super.openPopup()}}isOpenerClicked(i){const e=i.target,t=this.getOpenerHTMLElement(this.opener);return!!t&&(e===t||!(!this._isUI5AbstractElement(e)||e.getFocusDomRef()!==t)||i.composedPath().indexOf(t)>-1)}_addOpenedPopup(){lEe(this)}_removeOpenedPopup(){(i=>{const e=[i];for(let n=0;n<Qa.length;n++){const r=Qa[n].parentPopovers.indexOf(i);Qa[n].parentPopovers.length>0&&r>-1&&e.push(Qa[n].instance)}for(let n=e.length-1;n>=0;n--)for(let r=0;r<Qa.length;r++){let o=-1;e[n]===Qa[r].instance&&(o=r),o>=0&&(Lie(Qa[o].instance),(t=Qa[o].instance)&&t.shadowRoot.removeEventListener("scroll",j2,{capture:!0}),Qa.splice(o,1)[0].instance.closePopup(!1,!0))}var t;Qa.length||(document.removeEventListener("scroll",j2,{capture:!0}),document.removeEventListener("mousedown",Hie,{capture:!0}),clearInterval(Nie))})(this)}getOpenerHTMLElement(i){if(i===void 0)return i;if(i instanceof HTMLElement)return this._isUI5AbstractElement(i)?i.getFocusDomRef():i;let e=this.getRootNode();e===this&&(e=document);let t=e.getElementById(i);return e instanceof ShadowRoot&&!t&&(t=document.getElementById(i)),t&&this._isUI5AbstractElement(t)?t.getFocusDomRef():t}shouldCloseDueToOverflow(i,e){const t={Start:e.right,End:e.left,Top:e.top,Bottom:e.bottom},n=this.getOpenerHTMLElement(this.opener),r=Fie(n);let o=!1,s=!1;if(r instanceof Zo){const a=r.getBoundingClientRect();o=e.top>a.top+a.height,s=e.top+e.height<a.top}return t[i]<0||t[i]+32>r.innerHeight||o||s}shouldCloseDueToNoOpener(i){return i.top===0&&i.bottom===0&&i.left===0&&i.right===0}isOpenerOutsideViewport(i){return i.bottom<0||i.top>window.innerHeight||i.right<0||i.left>window.innerWidth}_resize(){super._resize(),this.open&&this.reposition()}reposition(){this._show()}async _show(){super._show();const i=this.getOpenerHTMLElement(this.opener);if(i&&Uh(i)&&!i.getDomRef())return;this._opened||this._showOutsideViewport();const e=this.getPopoverSize();let t;if(e.width===0||e.height===0)return;if(this.open&&(this._openerRect=i.getBoundingClientRect()),t=this._oldPlacement&&this.shouldCloseDueToNoOpener(this._openerRect)&&this.isFocusWithin()?this._oldPlacement:this.calcPlacement(this._openerRect,e),this._preventRepositionAndClose||this.isOpenerOutsideViewport(this._openerRect))return await this._waitForDomRef(),this.closePopup();this._oldPlacement=t,this.actualPlacement=t.placement;let n=Rh(this._left,Zo.VIEWPORT_MARGIN,document.documentElement.clientWidth-e.width-Zo.VIEWPORT_MARGIN);this.actualPlacement===xs.End&&(n=Math.max(n,this._left));let r=Rh(this._top,Zo.VIEWPORT_MARGIN,document.documentElement.clientHeight-e.height-Zo.VIEWPORT_MARGIN);this.actualPlacement===xs.Bottom&&(r=Math.max(r,this._top)),this.arrowTranslateX=t.arrow.x,this.arrowTranslateY=t.arrow.y,r=this._adjustForIOSKeyboard(r),Object.assign(this.style,{top:`${r}px`,left:`${n}px`}),this.horizontalAlign===Wl.Stretch&&this._width&&(this.style.width=this._width),this.verticalAlign===kb.Stretch&&this._height&&(this.style.height=this._height)}_adjustForIOSKeyboard(i){if(!Nte())return i;const e=Math.ceil(this.getBoundingClientRect().top);return i+(Number.parseInt(this.style.top||"0")-e)}getPopoverSize(){const i=this.getBoundingClientRect();return{width:i.width,height:i.height}}_showOutsideViewport(){Object.assign(this.style,{top:"-10000px",left:"-10000px"})}_isUI5AbstractElement(i){return Uh(i)&&i.isUI5AbstractElement}get arrowDOM(){return this.shadowRoot.querySelector(".ui5-popover-arrow")}focusOpener(){var i;(i=this.getOpenerHTMLElement(this.opener))==null||i.focus()}calcPlacement(i,e){let t=Zo.VIEWPORT_MARGIN,n=0;const r=this.allowTargetOverlap,o=document.documentElement.clientWidth,s=document.documentElement.clientHeight;let a=s,l=o;const c=this.getActualPlacement(i,e);this._preventRepositionAndClose=this.shouldCloseDueToNoOpener(i)||this.shouldCloseDueToOverflow(c,i);const u=c===xs.Top||c===xs.Bottom;this.horizontalAlign===Wl.Stretch&&u?(e.width=i.width,this._width=`${i.width}px`):this.verticalAlign!==kb.Stretch||u||(e.height=i.height,this._height=`${i.height}px`);const h=this.hideArrow?0:8;switch(c){case xs.Top:t=this.getVerticalLeft(i,e),n=Math.max(i.top-e.height-h,0),r||(a=i.top-h);break;case xs.Bottom:t=this.getVerticalLeft(i,e),n=i.bottom+h,r?n=Math.max(Math.min(n,s-e.height),0):a=s-i.bottom-h;break;case xs.Start:t=Math.max(i.left-e.width-h,0),n=this.getHorizontalTop(i,e),r||(l=i.left-h);break;case xs.End:t=i.left+i.width+h,n=this.getHorizontalTop(i,e),r?t=Math.max(Math.min(t,o-e.width),0):l=o-i.right-h}u?e.width>o||t<Zo.VIEWPORT_MARGIN?t=Zo.VIEWPORT_MARGIN:t+e.width>o-Zo.VIEWPORT_MARGIN&&(t=o-Zo.VIEWPORT_MARGIN-e.width):e.height>s||n<Zo.VIEWPORT_MARGIN?n=Zo.VIEWPORT_MARGIN:n+e.height>s-Zo.VIEWPORT_MARGIN&&(n=s-Zo.VIEWPORT_MARGIN-e.height),this._maxHeight=Math.round(a-Zo.VIEWPORT_MARGIN),this._maxWidth=Math.round(l-Zo.VIEWPORT_MARGIN),(this._left===void 0||Math.abs(this._left-t)>1.5)&&(this._left=Math.round(t)),(this._top===void 0||Math.abs(this._top-n)>1.5)&&(this._top=Math.round(n));const d=Number.parseInt(window.getComputedStyle(this).getPropertyValue("border-radius")),p=this.getArrowPosition(i,e,t,n,u,d);return this._left+=this.getRTLCorrectionLeft(),{arrow:p,top:this._top,left:this._left,placement:c}}getRTLCorrectionLeft(){return parseFloat(window.getComputedStyle(this).left)-this.getBoundingClientRect().left}getArrowPosition(i,e,t,n,r,o){const s=this._actualHorizontalAlign;let a=s===Wl.Center||s===Wl.Stretch;s===Wl.End&&t<=i.left&&(a=!0),s===Wl.Start&&t+e.width>=i.left+i.width&&(a=!0);let l=0;r&&a&&(l=i.left+i.width/2-t-e.width/2);let c=0;r||(c=i.top+i.height/2-n-e.height/2);const u=e.height/2-o-4;c=Rh(c,-u,u);const h=e.width/2-o-4;return l=Rh(l,-h,h),{x:Math.round(l),y:Math.round(c)}}fallbackPlacement(i,e,t,n){return t.left>n.width?xs.Start:i-t.right>t.left?xs.End:e-t.bottom>n.height?xs.Bottom:e-t.bottom<t.top?xs.Top:void 0}getActualPlacement(i,e){const t=this.placement;let n=t;const r=document.documentElement.clientWidth,o=document.documentElement.clientHeight;switch(t){case xs.Top:i.top<e.height&&i.top<o-i.bottom&&(n=xs.Bottom);break;case xs.Bottom:o-i.bottom<e.height&&o-i.bottom<i.top&&(n=xs.Top);break;case xs.Start:i.left<e.width&&(n=this.fallbackPlacement(r,o,i,e)||t);break;case xs.End:r-i.right<e.width&&(n=this.fallbackPlacement(r,o,i,e)||t)}return n}getVerticalLeft(i,e){const t=this._actualHorizontalAlign;let n=Zo.VIEWPORT_MARGIN;switch(t){case Wl.Center:case Wl.Stretch:n=i.left-(e.width-i.width)/2;break;case Wl.Start:n=i.left;break;case Wl.End:n=i.right-e.width}return n}getHorizontalTop(i,e){let t=0;switch(this.verticalAlign){case kb.Center:case kb.Stretch:t=i.top-(e.height-i.height)/2;break;case kb.Top:t=i.top;break;case kb.Bottom:t=i.bottom-e.height}return t}get isModal(){return this.modal}get _ariaLabelledBy(){if(!this._ariaLabel&&this._displayHeader)return"ui5-popup-header"}get styles(){return{...super.styles,root:{"max-height":this._maxHeight?`${this._maxHeight}px`:"","max-width":this._maxWidth?`${this._maxWidth}px`:""},arrow:{transform:`translate(${this.arrowTranslateX}px, ${this.arrowTranslateY}px)`}}}get classes(){const i=super.classes;return i.root["ui5-popover-root"]=!0,i}get _displayHeader(){return!(!this.header.length&&!this.headerText)}get _displayFooter(){return!0}get _actualHorizontalAlign(){if(this.effectiveDir==="rtl"){if(this.horizontalAlign===Wl.Start)return Wl.End;if(this.horizontalAlign===Wl.End)return Wl.Start}return this.horizontalAlign}};Fa([me()],Jo.prototype,"headerText",void 0),Fa([me()],Jo.prototype,"placement",void 0),Fa([me()],Jo.prototype,"horizontalAlign",void 0),Fa([me()],Jo.prototype,"verticalAlign",void 0),Fa([me({type:Boolean})],Jo.prototype,"modal",void 0),Fa([me({type:Boolean})],Jo.prototype,"hideArrow",void 0),Fa([me({type:Boolean})],Jo.prototype,"allowTargetOverlap",void 0),Fa([me({type:Number,noAttribute:!0})],Jo.prototype,"arrowTranslateX",void 0),Fa([me({type:Number,noAttribute:!0})],Jo.prototype,"arrowTranslateY",void 0),Fa([me()],Jo.prototype,"actualPlacement",void 0),Fa([me({type:Number,noAttribute:!0})],Jo.prototype,"_maxHeight",void 0),Fa([me({type:Number,noAttribute:!0})],Jo.prototype,"_maxWidth",void 0),Fa([Jn({type:HTMLElement})],Jo.prototype,"header",void 0),Fa([Jn({type:HTMLElement})],Jo.prototype,"footer",void 0),Fa([me({converter:Die})],Jo.prototype,"opener",null),Jo=Zo=Fa([wn({tag:"ui5-popover",styles:[Vk.styles,Gie,`:host{box-shadow:var(--_ui5-v2-9-0_popover_box_shadow);background-color:var(--_ui5-v2-9-0_popover_background);max-width:calc(100vw - (100vw - 100%) - 2 * var(--_ui5-v2-9-0_popup_viewport_margin))}:host([hide-arrow]){box-shadow:var(--_ui5-v2-9-0_popover_no_arrow_box_shadow)}:host([actual-placement="Bottom"]) .ui5-popover-arrow{left:calc(50% - .5625rem);top:-.5rem;height:.5rem}:host([actual-placement="Bottom"]) .ui5-popover-arrow:after{margin:var(--_ui5-v2-9-0_popover_upward_arrow_margin)}:host([actual-placement="Start"]) .ui5-popover-arrow{top:calc(50% - .5625rem);right:-.5625rem;width:.5625rem}:host([actual-placement="Start"]) .ui5-popover-arrow:after{margin:var(--_ui5-v2-9-0_popover_right_arrow_margin)}:host([actual-placement="Top"]) .ui5-popover-arrow{left:calc(50% - .5625rem);height:.5625rem;top:100%}:host([actual-placement="Top"]) .ui5-popover-arrow:after{margin:var(--_ui5-v2-9-0_popover_downward_arrow_margin)}:host(:not([actual-placement])) .ui5-popover-arrow,:host([actual-placement="End"]) .ui5-popover-arrow{left:-.5625rem;top:calc(50% - .5625rem);width:.5625rem;height:1rem}:host(:not([actual-placement])) .ui5-popover-arrow:after,:host([actual-placement="End"]) .ui5-popover-arrow:after{margin:var(--_ui5-v2-9-0_popover_left_arrow_margin)}:host([hide-arrow]) .ui5-popover-arrow{display:none}.ui5-popover-root{min-width:6.25rem}.ui5-popover-arrow{pointer-events:none;display:block;width:1rem;height:1rem;position:absolute;overflow:hidden}.ui5-popover-arrow:after{content:"";display:block;width:.7rem;height:.7rem;background-color:var(--_ui5-v2-9-0_popover_background);box-shadow:var(--_ui5-v2-9-0_popover_box_shadow);transform:rotate(-45deg)}:host([modal])::backdrop{background-color:var(--_ui5-v2-9-0_popup_block_layer_background);opacity:var(--_ui5-v2-9-0_popup_block_layer_opacity)}:host([modal]) .ui5-block-layer{display:block}
`,cH()],template:zie})],Jo);const pEe=i=>"opener"in i;Jo.define();const FS=Jo;var fEe=Object.defineProperty,gEe=Object.getOwnPropertyDescriptor,xj=(i,e,t,n)=>{for(var r,o=n>1?void 0:n?gEe(e,t):e,s=i.length-1;s>=0;s--)(r=i[s])&&(o=(n?r(e,t,o):r(o))||o);return n&&o&&fEe(e,t,o),o};let rI=class extends Oc{constructor(){super(...arguments),this.isColumnMode=!1}render(){return Na`
      <div
        id="toolBar"
        class="${this.isColumnMode?"ver-orientation":"hor-orientation"}"
      >
        <div
          id="btnBar"
          class="${this.isColumnMode?"hor-orientation":"ver-orientation"}"
        >
          <slot @slotchange=${this._handleSlotChange}></slot>
        </pv-tool-area>
      </div>
    `}_handleSlotChange(i){console.log("Slot changed",i)}};rI.styles=qA`
    :host {
      max-height: 100%;
      max-width: 100%;
      --size: 13.5rem;
    }

    #btnBar.hor-orientation{
      width: 100%;
      flex-direction: row;
    }

    #btnBar.ver-orientation{
      height: 100%;
      flex-direction: column;
    }

    #btnBar
    {
      display: flex;
      gap: 0.25rem;
      pointer-events: auto;
    }

    #toolBar.hor-orientation{
      width: calc(100% - 1rem);
      height: var(--size);
      flex-direction: row;
    }

    #toolBar.ver-orientation{
      height: calc(100% - 1rem);
      width: var(--size);
      flex-direction: column;
    }

    #toolBar {
      display: flex;
      gap: 0.5625rem;
      left: 0.5rem;
      top: 0.5rem;
      position: absolute;
      pointer-events: none;
    }

    #toolBar.hor-orientation pv-tool-area{
      height: 100%;
    }

    #toolBar.ver-orientation pv-tool-area{
      width: 100%;
    }

    ui5-toggle-button{
      height: 2.5rem;
      width: 2.5rem;
    }

    ui5-toggle-button ui5-icon{
      height: 85%;
      width: 85%;
    }

    ui5-icon {
      stroke:black;
      fill: black;
      pointer-events: none;
      transform: translateY(2.5%)
    }
  `,xj([Zn({type:Boolean})],rI.prototype,"isColumnMode",2),rI=xj([WA("pv-menu")],rI);var mEe=Object.defineProperty,_Ee=Object.getOwnPropertyDescriptor,Ub=(i,e,t,n)=>{for(var r,o=n>1?void 0:n?_Ee(e,t):e,s=i.length-1;s>=0;s--)(r=i[s])&&(o=(n?r(e,t,o):r(o))||o);return n&&o&&mEe(e,t,o),o};let Tf=class extends Oc{constructor(){super(...arguments),this.title="",this.icon="",this.idx=0}render(){return Na`
      <ui5-button
        data-index=${this.idx}
        tooltip=${this.title}
        id="tool-button"
        @click="${this._togglePopover}"
        icon=${this.icon}
      >
      </ui5-button>
      <ui5-popover id="tool-popover" header-text="${this.title}">
        <slot></slot>
      </ui5-popover>
    `}_togglePopover(){this.toolPopover!==null?(this.toolPopover.opener===void 0&&(this.toolPopover.opener=this.toolButton),this.toolPopover.open=!this.toolPopover.open):console.warn("Popover not found.")}updated(i){super.updated(i)}};Tf.styles=qA`
    :host {
      max-height: 100%;
      max-width: 100%;
    }
  `,Ub([Zn()],Tf.prototype,"title",2),Ub([Zn()],Tf.prototype,"icon",2),Ub([Zn()],Tf.prototype,"idx",2),Ub([OA("#tool-popover")],Tf.prototype,"toolPopover",2),Ub([OA("#tool-button")],Tf.prototype,"toolButton",2),Tf=Ub([WA("pv-menu-item")],Tf),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var v8,Pb=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let rp=v8=class extends Xr{constructor(){super(...arguments),this.showColon=!1,this.required=!1,this.wrappingType="Normal"}_onclick(){if(!this.for)return;const i=this.getRootNode().querySelector(`[id="${this.for}"]`);i&&i.focus()}get _colonSymbol(){return v8.i18nBundle.getText(HSe)}};Pb([me()],rp.prototype,"for",void 0),Pb([me({type:Boolean})],rp.prototype,"showColon",void 0),Pb([me({type:Boolean})],rp.prototype,"required",void 0),Pb([me()],rp.prototype,"wrappingType",void 0),Pb([wo("@ui5/webcomponents")],rp,"i18nBundle",void 0),rp=v8=Pb([wn({tag:"ui5-label",renderer:Br,template:function(){return Rt("label",{class:"ui5-label-root",onClick:this._onclick,children:[Ce("span",{class:"ui5-label-text-wrapper",children:Ce("slot",{})}),Ce("span",{"aria-hidden":"true",class:"ui5-label-required-colon","data-ui5-colon":this._colonSymbol})]})},styles:`:host(:not([hidden])){display:inline-flex}:host{max-width:100%;color:var(--sapContent_LabelColor);font-family:"72override",var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;cursor:text}.ui5-label-root{width:100%;cursor:inherit}:host{white-space:normal}:host([wrapping-type="None"]){white-space:nowrap}:host([wrapping-type="None"]) .ui5-label-root{display:inline-flex}:host([wrapping-type="None"]) .ui5-label-text-wrapper{text-overflow:ellipsis;overflow:hidden;display:inline-block;vertical-align:top;flex:0 1 auto;min-width:0}:host([show-colon]) .ui5-label-required-colon:before{content:attr(data-ui5-colon)}:host([required]) .ui5-label-required-colon:after{content:"*";color:var(--sapField_RequiredColor);font-size:var(--sapFontLargeSize);font-weight:700;position:relative;font-style:normal;vertical-align:middle;line-height:0}.ui5-label-text-wrapper{padding-inline-end:.075rem}:host([required][show-colon]) .ui5-label-required-colon:after{margin-inline-start:.125rem}:host([show-colon]) .ui5-label-required-colon{margin-inline-start:-.05rem;white-space:pre}
`,languageAware:!0})],rp),rp.define();const lg=rp;let zf,c_;const Cj=i=>{i.style.position="absolute",i.style.clip="rect(1px,1px,1px,1px)",i.style.userSelect="none",i.style.left="-1000px",i.style.top="-1000px",i.style.pointerEvents="none"};(i=>{YN?i():Hte.attachEvent("boot",i)})(()=>{zf&&c_||(zf=document.createElement("span"),c_=document.createElement("span"),zf.classList.add("ui5-invisiblemessage-polite"),c_.classList.add("ui5-invisiblemessage-assertive"),zf.setAttribute("aria-live","polite"),c_.setAttribute("aria-live","assertive"),zf.setAttribute("role","alert"),c_.setAttribute("role","alert"),Cj(zf),Cj(c_),OO("ui5-announcement-area").appendChild(zf),OO("ui5-announcement-area").appendChild(c_))});var di=(i=>(i.None="None",i.Positive="Positive",i.Critical="Critical",i.Negative="Negative",i.Information="Information",i))(di||{});vi("error",{pathData:"M512 256q0 53-20.5 100t-55 81.5-81 54.5-99.5 20-100-20.5-81.5-55T20 355 0 256q0-54 20-100.5t55-81T156.5 20 256 0t99.5 20T437 75t55 81.5 20 99.5zM399 364q6-6 0-12l-86-86q-6-6 0-12l81-81q6-6 0-12l-37-37q-2-2-6-2t-6 2l-83 82q-1 3-6 3-3 0-6-3l-84-83q-1-2-6-2-4 0-6 2l-37 37q-6 6 0 12l83 82q6 6 0 12l-83 82q-2 2-2.5 6t2.5 6l36 37q4 2 6 2 4 0 6-2l85-84q2-2 6-2t6 2l88 88q4 2 6 2t6-2z",ltr:!1,accData:_j,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("error",{pathData:"M256 0q53 0 99.5 20T437 75t55 81.5 20 99.5-20 99.5-55 81.5-81.5 55-99.5 20-99.5-20T75 437t-55-81.5T0 256t20-99.5T75 75t81.5-55T256 0zm45 256l74-73q9-11 9-23 0-13-9.5-22.5T352 128q-12 0-23 9l-73 74-73-74q-10-9-23-9t-22.5 9.5T128 160q0 12 9 23l74 73-74 73q-9 10-9 23t9.5 22.5T160 384t23-9l73-74 73 74q11 9 23 9 13 0 22.5-9.5T384 352t-9-23z",ltr:!1,accData:_j,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),vi("alert",{pathData:"M501 374q5 10 7.5 19.5T512 412v5q0 31-23 47t-50 16H74q-13 0-26-4t-23.5-12-17-20T0 417q0-13 4-22.5t9-20.5L198 38q21-38 61-38 38 0 59 38zM257 127q-13 0-23.5 8T223 161q1 7 2 12 3 25 4.5 48t3.5 61q0 11 7.5 16t16.5 5q22 0 23-21l2-36 9-85q0-18-10.5-26t-23.5-8zm0 299q20 0 31.5-12t11.5-32q0-19-11.5-31T257 339t-31.5 12-11.5 31q0 20 11.5 32t31.5 12z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("alert",{pathData:"M505 399q7 13 7 27 0 21-15.5 37.5T456 480H56q-25 0-40.5-16.5T0 426q0-14 7-27L208 59q17-27 48-27 14 0 27 6.5T304 59zM288 176q0-14-9-23t-23-9-23 9-9 23v96q0 14 9 23t23 9 23-9 9-23v-96zm-32 240q14 0 23-9t9-23-9-23-23-9-23 9-9 23 9 23 23 9z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),vi("sys-enter-2",{pathData:"M512 256q0 54-20 100.5t-54.5 81T356 492t-100 20q-54 0-100.5-20t-81-55T20 355.5 0 256t20.5-100 55-81.5T157 20t99-20q53 0 100 20t81.5 54.5T492 156t20 100zm-118-87q4-8-1-13l-36-36q-3-4-8-4t-8 5L237 294q-3 1-4 0l-70-52q-4-3-7-3t-4.5 2-2.5 3l-29 41q-6 8 2 14l113 95q2 2 7 2t8-4z",ltr:!0,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("sys-enter-2",{pathData:"M256 0q53 0 100 20t81.5 54.5T492 156t20 100-20 100-54.5 81.5T356 492t-100 20-100-20-81.5-54.5T20 356 0 256t20-100 54.5-81.5T156 20 256 0zm150 183q10-9 10-23 0-13-9.5-22.5T384 128t-22 9L186 308l-68-63q-9-9-22-9t-22.5 9.5T64 268q0 15 10 24l91 83q9 9 21 9 13 0 23-9z",ltr:!0,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),vi("information",{pathData:"M0 256q0-53 20.5-100t55-81.5T157 20t99-20q54 0 100.5 20t81 55 54.5 81.5 20 99.5q0 54-20 100.5t-54.5 81T356 492t-100 20q-54 0-100.5-20t-81-55T20 355.5 0 256zm192 112v33h128v-33h-32V215q0-6-7-6h-88v31h32v128h-33zm34-201q14 11 30 11 17 0 29.5-11.5T298 138q0-19-13-31-12-12-29-12-19 0-30.5 12.5T214 138q0 17 12 29z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("information",{pathData:"M256 0q53 0 99.5 20T437 75t55 81.5 20 99.5-20 99.5-55 81.5-81.5 55-99.5 20-99.5-20T75 437t-55-81.5T0 256t20-99.5T75 75t81.5-55T256 0zm0 160q14 0 23-9t9-23-9-23-23-9-23 9-9 23 9 23 23 9zm32 64q0-14-9-23t-23-9-23 9-9 23v160q0 14 9 23t23 9 23-9 9-23V224z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"});let Wk=null;const b8=new Set,vEe=new Set,bEe=i=>{!i.dataTransfer||!(i.target instanceof HTMLElement)||vEe.has(i.target)||(Wk=i.target)},yEe=()=>{Wk=null},wEe=()=>{Wk=null},Vie=i=>{b8.add(i),document.body.addEventListener("dragstart",bEe),document.body.addEventListener("dragend",yEe),document.body.addEventListener("drop",wEe)},qie=i=>{b8.delete(i),b8.size},cR=()=>Wk;var gg=(i=>(i.Vertical="Vertical",i.Horizontal="Horizontal",i))(gg||{}),ts=(i=>(i.On="On",i.Before="Before",i.After="After",i))(ts||{});const Bj=(i,e,t,n)=>{const r=Math.abs(i-e),o=Math.abs(i-t),s=Math.abs(i-n);let a=[];switch(Math.min(r,o,s)){case r:a=[ts.Before];break;case o:a=[ts.On,r<s?ts.Before:ts.After];break;case s:a=[ts.After]}return a},Wie=(i,e,t)=>{let n=Number.POSITIVE_INFINITY,r=null;for(let d=0;d<i.length;d++){const p=i[d],{left:g,width:v,top:_,height:b}=p.getBoundingClientRect();let x;x=t===gg.Vertical?_+b/2:g+v/2;const C=Math.abs(e-x);C<n&&(n=C,r=p)}if(!r)return null;const{width:o,height:s,left:a,right:l,top:c,bottom:u}=r.getBoundingClientRect();let h;return h=t===gg.Vertical?Bj(e,c,c+s/2,u):Bj(e,a,a+o/2,l),{element:r,placements:h}},Sj=(i,e)=>--e<0?[]:[{element:i[e],placement:ts.Before}],Ej=(i,e)=>++e>=i.length?[]:[{element:i[e],placement:ts.After}],Tj={ArrowLeft:Sj,ArrowUp:Sj,ArrowRight:Ej,ArrowDown:Ej,Home:(i,e)=>i.slice(0,e).map(t=>({element:t,placement:ts.Before})),End:(i,e)=>i.slice(e+1,i.length).reverse().map(t=>({element:t,placement:ts.After}))},Ij=i=>{let e=i;return i.shadowRoot&&i.shadowRoot.activeElement&&(e=i.shadowRoot.activeElement),e};let oI=null;var y8;(function(i){i.None="None",i.Single="Single",i.SingleStart="SingleStart",i.SingleEnd="SingleEnd",i.SingleAuto="SingleAuto",i.Multiple="Multiple",i.Delete="Delete"})(y8||(y8={}));const es=y8;var w8;(function(i){i.Button="Button",i.Scroll="Scroll",i.None="None"})(w8||(w8={}));const EP=w8;var x8;(function(i){i.List="List",i.Menu="Menu",i.Tree="Tree",i.ListBox="ListBox"})(x8||(x8={}));const Mj=x8;var C8;(function(i){i.All="All",i.Inner="Inner",i.None="None"})(C8||(C8={}));const Rj=C8;var B8;(function(i){i.Top="Top",i.Bottom="Bottom"})(B8||(B8={}));const kj=B8;function Fj(){return Ce(xr,{children:this.text&&Ce(lg,{id:`${this._id}-label`,class:"ui5-busy-indicator-text",children:this.text})})}bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var S8,If=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let xh=S8=class extends Xr{constructor(){super(),this.size="M",this.active=!1,this.delay=1e3,this.textPlacement="Bottom",this._isBusy=!1,this._keydownHandler=this._handleKeydown.bind(this),this._preventEventHandler=this._preventEvent.bind(this)}onEnterDOM(){this.addEventListener("keydown",this._keydownHandler,{capture:!0}),this.addEventListener("keyup",this._preventEventHandler,{capture:!0}),Nu()&&this.setAttribute("desktop","")}onExitDOM(){this._busyTimeoutId&&(clearTimeout(this._busyTimeoutId),delete this._busyTimeoutId),this.removeEventListener("keydown",this._keydownHandler,!0),this.removeEventListener("keyup",this._preventEventHandler,!0)}get ariaTitle(){return S8.i18nBundle.getText(OBe)}get labelId(){return this.text?`${this._id}-label`:void 0}get textPosition(){return{top:this.text&&this.textPlacement===kj.Top,bottom:this.text&&this.textPlacement===kj.Bottom}}onBeforeRendering(){this.active?this._isBusy||this._busyTimeoutId||(this._busyTimeoutId=setTimeout(()=>{delete this._busyTimeoutId,this._isBusy=!0},Math.max(0,this.delay))):(this._busyTimeoutId&&(clearTimeout(this._busyTimeoutId),delete this._busyTimeoutId),this._isBusy=!1)}_handleKeydown(i){this._isBusy&&(i.stopImmediatePropagation(),kg(i)&&(this.focusForward=!0,this.shadowRoot.querySelector("[data-ui5-focus-redirect]").focus(),this.focusForward=!1))}_preventEvent(i){this._isBusy&&i.stopImmediatePropagation()}_redirectFocus(i){this.focusForward||(i.preventDefault(),this.shadowRoot.querySelector(".ui5-busy-indicator-busy-area").focus())}};If([me()],xh.prototype,"text",void 0),If([me()],xh.prototype,"size",void 0),If([me({type:Boolean})],xh.prototype,"active",void 0),If([me({type:Number})],xh.prototype,"delay",void 0),If([me()],xh.prototype,"textPlacement",void 0),If([me({type:Boolean})],xh.prototype,"_isBusy",void 0),If([wo("@ui5/webcomponents")],xh,"i18nBundle",void 0),xh=S8=If([wn({tag:"ui5-busy-indicator",languageAware:!0,styles:`:host(:not([hidden])){display:inline-block}:host([_is-busy]){color:var(--_ui5-v2-9-0_busy_indicator_color)}:host([size="S"]) .ui5-busy-indicator-root{min-width:1.625rem;min-height:.5rem}:host([size="S"][text]:not([text=""])) .ui5-busy-indicator-root{min-height:1.75rem}:host([size="S"]) .ui5-busy-indicator-circle{width:.5rem;height:.5rem}:host([size="S"]) .ui5-busy-indicator-circle:first-child,:host([size="S"]) .ui5-busy-indicator-circle:nth-child(2){margin-inline-end:.0625rem}:host(:not([size])) .ui5-busy-indicator-root,:host([size="M"]) .ui5-busy-indicator-root{min-width:3.375rem;min-height:1rem}:host([size="M"]) .ui5-busy-indicator-circle:first-child,:host([size="M"]) .ui5-busy-indicator-circle:nth-child(2){margin-inline-end:.1875rem}:host(:not([size])[text]:not([text=""])) .ui5-busy-indicator-root,:host([size="M"][text]:not([text=""])) .ui5-busy-indicator-root{min-height:2.25rem}:host(:not([size])) .ui5-busy-indicator-circle,:host([size="M"]) .ui5-busy-indicator-circle{width:1rem;height:1rem}:host([size="L"]) .ui5-busy-indicator-root{min-width:6.5rem;min-height:2rem}:host([size="L"]) .ui5-busy-indicator-circle:first-child,:host([size="L"]) .ui5-busy-indicator-circle:nth-child(2){margin-inline-end:.25rem}:host([size="L"][text]:not([text=""])) .ui5-busy-indicator-root{min-height:3.25rem}:host([size="L"]) .ui5-busy-indicator-circle{width:2rem;height:2rem}.ui5-busy-indicator-root{display:flex;justify-content:center;align-items:center;position:relative;background-color:inherit;height:inherit;border-radius:inherit}.ui5-busy-indicator-busy-area{position:absolute;z-index:99;inset:0;display:flex;justify-content:center;align-items:center;background-color:inherit;flex-direction:column;border-radius:inherit}:host(:not(:empty)) .ui5-busy-indicator-busy-area{background-color:var(--_ui5-v2-9-0_busy_indicator_block_layer)}:host([desktop]) .ui5-busy-indicator-busy-area:focus,.ui5-busy-indicator-busy-area:focus-visible{outline:var(--_ui5-v2-9-0_busy_indicator_focus_outline);outline-offset:-2px}.ui5-busy-indicator-circles-wrapper{line-height:0}.ui5-busy-indicator-circle{display:inline-block;background-color:currentColor;border-radius:50%}.ui5-busy-indicator-circle:before{content:"";width:100%;height:100%;border-radius:100%}.circle-animation-0{animation:grow 1.6s infinite cubic-bezier(.32,.06,.85,1.11)}.circle-animation-1{animation:grow 1.6s infinite cubic-bezier(.32,.06,.85,1.11);animation-delay:.2s}.circle-animation-2{animation:grow 1.6s infinite cubic-bezier(.32,.06,.85,1.11);animation-delay:.4s}.ui5-busy-indicator-text{width:100%;text-align:center}:host([text-placement="Top"]) .ui5-busy-indicator-text{margin-bottom:.5rem}:host(:not([text-placement])) .ui5-busy-indicator-text,:host([text-placement="Bottom"]) .ui5-busy-indicator-text{margin-top:.5rem}@keyframes grow{0%,50%,to{-webkit-transform:scale(.5);-moz-transform:scale(.5);transform:scale(.5)}25%{-webkit-transform:scale(1);-moz-transform:scale(1);transform:scale(1)}}
`,renderer:Br,template:function(){return Rt("div",{class:"ui5-busy-indicator-root",children:[this._isBusy&&Rt("div",{class:"ui5-busy-indicator-busy-area",title:this.ariaTitle,tabindex:0,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuetext":"Busy","aria-labelledby":this.labelId,"data-sap-focus-ref":!0,children:[this.textPosition.top&&Fj.call(this),Rt("div",{class:"ui5-busy-indicator-circles-wrapper",children:[Ce("div",{class:"ui5-busy-indicator-circle circle-animation-0"}),Ce("div",{class:"ui5-busy-indicator-circle circle-animation-1"}),Ce("div",{class:"ui5-busy-indicator-circle circle-animation-2"})]}),this.textPosition.bottom&&Fj.call(this)]}),Ce("slot",{}),this._isBusy&&Ce("span",{"data-ui5-focus-redirect":!0,tabindex:0,role:"none",onFocusIn:this._redirectFocus})]})}})],xh),xh.define();const jie=xh;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var XC=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let Gf=class extends Xr{get _positionProperty(){return this.orientation===gg.Vertical?"left":"top"}constructor(){super(),this.targetReference=null,this.ownerReference=null,this.placement="Before",this.orientation="Vertical"}onAfterRendering(){if(!this.targetReference||!this.ownerReference)return void Object.assign(this.style,{display:"none"});const{left:i,width:e,right:t,top:n,bottom:r,height:o}=this.targetReference.getBoundingClientRect(),{top:s,height:a}=this.ownerReference.getBoundingClientRect(),l={display:"",[this._positionProperty]:"",width:"",height:""};let c=0,u=!1,h=!1;if(this.orientation===gg.Vertical){switch(this.placement){case ts.Before:c=i;break;case ts.On:l.width=`${e}px`,c=i;break;case ts.After:c=t}l.height=`${o}px`}if(this.orientation===gg.Horizontal){switch(this.placement){case ts.Before:c=n;break;case ts.On:l.height=`${o}px`,c=n;break;case ts.After:c=r}l.width=`${e}px`,c-=s,c<=0&&(h=!0),c>=a&&(u=!0)}l[this._positionProperty]=`${c}px`,this.toggleAttribute("first",h),this.toggleAttribute("last",u),Object.assign(this.style,l)}};XC([me({type:Object})],Gf.prototype,"targetReference",void 0),XC([me({type:Object})],Gf.prototype,"ownerReference",void 0),XC([me()],Gf.prototype,"placement",void 0),XC([me()],Gf.prototype,"orientation",void 0),Gf=XC([wn({tag:"ui5-drop-indicator",renderer:Br,styles:`:host{position:absolute;pointer-events:none;z-index:99}:host([orientation="Vertical"]) .ui5-di-needle{width:.125rem;height:100%;inset-block:0;background:var(--sapContent_DragAndDropActiveColor)}:host([orientation="Vertical"]){margin-left:-.0625rem}:host([orientation="Horizontal"]) .ui5-di-needle{height:.125rem;width:100%;inset-inline:0;background:var(--sapContent_DragAndDropActiveColor)}:host([orientation="Horizontal"]){margin-top:-.0625rem}:host([orientation="Horizontal"][placement="Before"][first]){margin-top:.3125rem}:host([orientation="Horizontal"][placement="After"][last]){margin-top:-.3125rem}:host([orientation="Vertical"]) .ui5-di-needle:before{left:-.1875rem;content:"";position:absolute;width:.25rem;height:.25rem;border-radius:.25rem;border:.125rem solid var(--sapContent_DragAndDropActiveColor);background-color:#fff;pointer-events:none}:host([orientation="Horizontal"]) .ui5-di-needle:before{top:-.1875rem;content:"";position:absolute;width:.25rem;height:.25rem;border-radius:.25rem;border:.125rem solid var(--sapContent_DragAndDropActiveColor);background-color:#fff;pointer-events:none}:host .ui5-di-rect{border:.125rem solid var(--sapContent_DragAndDropActiveColor);position:absolute;inset:0}:host .ui5-di-rect:before{content:" ";position:absolute;inset:0;background:var(--sapContent_DragAndDropActiveColor);opacity:.05}
`,template:function(){return Ce("div",{class:{"ui5-di-rect":this.placement===ts.On,"ui5-di-needle":this.placement!==ts.On}})}})],Gf),Gf.define();const Kie=Gf;function xEe(){return Ce("div",{class:"ui5-growing-button",part:"growing-button",children:Rt("div",{id:`${this._id}-growing-btn`,role:"button",tabindex:0,part:"growing-button-inner",class:{"ui5-growing-button-inner":!0,"ui5-growing-button-inner-active":this._loadMoreActive},"aria-labelledby":`${this._id}-growingButton-text`,onClick:this._onLoadMoreClick,onKeyDown:this._onLoadMoreKeydown,onKeyUp:this._onLoadMoreKeyup,onMouseDown:this._onLoadMoreMousedown,onMouseUp:this._onLoadMoreMouseup,children:[this.loading&&Ce(jie,{delay:this.loadingDelay,part:"growing-button-busy-indicator",class:"ui5-list-growing-button-busy-indicator",active:!0}),Ce("span",{id:`${this._id}-growingButton-text`,class:"ui5-growing-button-text","growing-button-text":!0,children:this._growingButtonText})]})})}bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);const E8=(i,e)=>{const t=e||[];return i&&i.forEach(n=>{if(n.nodeType===Node.TEXT_NODE||n.nodeType===Node.COMMENT_NODE)return;const r=n;if(!r.hasAttribute("data-sap-no-tab-ref"))if((o=>{if(!o||o.hasAttribute("data-sap-no-tab-ref")||lw(o))return!1;const s=o.getAttribute("tabindex");if(s!=null)return parseInt(s)>=0;const a=o.nodeName.toLowerCase();return!(a!=="a"&&!/^(input|select|textarea|button|object)$/.test(a)||o.disabled)})(r)&&t.push(r),r.tagName==="SLOT")E8(r.assignedNodes(),t);else{const o=r.shadowRoot?r.shadowRoot.children:r.children;E8([...o],t)}}),t};bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var Mf=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let TA=class extends Xr{constructor(){super(...arguments),this.selected=!1,this.movable=!1,this.hasBorder=!1,this.disabled=!1,this.focused=!1,this.actionable=!1}onEnterDOM(){Nu()&&this.setAttribute("desktop","")}onBeforeRendering(){this.actionable=!0}_onfocusin(i){this.fireDecoratorEvent("request-tabindex-change",i),i.target===this.getFocusDomRef()&&this.fireDecoratorEvent("_focused",i)}_onkeydown(i){return kg(i)?this._handleTabNext(i):Lk(i)?this._handleTabPrevious(i):void(this.getFocusDomRef().matches(":has(:focus-within)")||(wr(i)&&i.preventDefault(),Dr(i)&&this.fireItemPress(i)))}_onkeyup(i){this.getFocusDomRef().matches(":has(:focus-within)")||wr(i)&&this.fireItemPress(i)}_onclick(i){this.getFocusDomRef().matches(":has(:focus-within)")||this.fireItemPress(i)}fireItemPress(i){!this.disabled&&this._pressable&&(Dr(i)&&i.preventDefault(),this.fireDecoratorEvent("_press",{item:this,selected:this.selected,key:i.key}))}_handleTabNext(i){this.shouldForwardTabAfter()&&(this.fireDecoratorEvent("forward-after")||i.preventDefault())}_handleTabPrevious(i){const e=i.target;this.shouldForwardTabBefore(e)&&this.fireDecoratorEvent("forward-before")}shouldForwardTabAfter(){const i=(e=this.getFocusDomRef(),E8([...e.children]));var e;return i.length===0||i[i.length-1]===Rv()}shouldForwardTabBefore(i){return this.getFocusDomRef()===i}get classes(){return{main:{"ui5-li-root":!0,"ui5-li--focusable":this._focusable}}}get _ariaDisabled(){return!!this.disabled||void 0}get _focusable(){return!this.disabled}get _pressable(){return!0}get hasConfigurableMode(){return!1}get _effectiveTabIndex(){return this._focusable?this.selected?0:this.forcedTabIndex?parseInt(this.forcedTabIndex):void 0:-1}};Mf([me({type:Boolean})],TA.prototype,"selected",void 0),Mf([me({type:Boolean})],TA.prototype,"movable",void 0),Mf([me({type:Boolean})],TA.prototype,"hasBorder",void 0),Mf([me()],TA.prototype,"forcedTabIndex",void 0),Mf([me({type:Boolean})],TA.prototype,"disabled",void 0),Mf([me({type:Boolean})],TA.prototype,"focused",void 0),Mf([me({type:Boolean})],TA.prototype,"actionable",void 0),TA=Mf([wn({renderer:Br,styles:[`:host{box-sizing:border-box;height:var(--_ui5-v2-9-0_list_item_base_height);background-color:var(--ui5-v2-9-0-listitem-background-color);border-bottom:.0625rem solid transparent}:host(:not([hidden])){display:block}:host([disabled]){opacity:var(--_ui5-v2-9-0-listitembase_disabled_opacity);pointer-events:none}:host([actionable]:not([disabled]):not([ui5-li-group-header])){cursor:pointer}:host([has-border]){border-bottom:var(--ui5-v2-9-0-listitem-border-bottom)}:host([selected]){background-color:var(--sapList_SelectionBackgroundColor);border-bottom:var(--ui5-v2-9-0-listitem-selected-border-bottom)}:host([selected]) .ui5-li-additional-text{text-shadow:var(--sapContent_TextShadow)}:host([actionable]:not([active]):not([selected]):not([ui5-li-group-header]):hover){background-color:var(--sapList_Hover_Background)}:host([actionable]:not([active]):not([selected]):not([ui5-li-group-header]):hover) .ui5-li-additional-text{text-shadow:var(--sapContent_TextShadow)}:host([actionable][selected]:not([active],[data-moving]):hover){background-color:var(--sapList_Hover_SelectionBackground)}:host([active][actionable]:not([data-moving])),:host([active][actionable][selected]:not([data-moving])){background-color:var(--sapList_Active_Background)}:host([desktop]:not([data-moving])) .ui5-li-root.ui5-li--focusable:focus:after,:host([desktop][focused]:not([data-moving])) .ui5-li-root.ui5-li--focusable:after,:host(:not([data-moving])) .ui5-li-root.ui5-li--focusable:focus-visible:after,:host([desktop]:not([data-moving])) .ui5-li-root .ui5-li-content:focus:after,:host([desktop][focused]:not([data-moving])) .ui5-li-root .ui5-li-content:after,:host(:not([data-moving])) .ui5-li-root .ui5-li-content:focus-visible:after{content:"";border:var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);position:absolute;inset:.125rem;pointer-events:none}.ui5-li-root{position:relative;display:flex;align-items:center;width:100%;height:100%;padding:var(--_ui5-v2-9-0_list_item_base_padding);box-sizing:border-box;background-color:inherit}.ui5-li-root.ui5-li--focusable{outline:none}.ui5-li-content{display:flex;align-items:center;flex:auto;overflow:hidden;max-width:100%;font-family:"72override",var(--sapFontFamily);color:var(--sapList_TextColor)}.ui5-li-content .ui5-li-title{color:var(--sapList_TextColor);font-size:var(--_ui5-v2-9-0_list_item_title_size)}.ui5-li-text-wrapper{display:flex;flex-direction:row;justify-content:space-between;flex:auto;min-width:1px;line-height:normal}
`,`[draggable=true]{cursor:grab!important}[draggable=true][data-moving]{cursor:grabbing!important;opacity:var(--sapContent_DisabledOpacity)}
`]}),Xt("request-tabindex-change",{bubbles:!0}),Xt("_press",{bubbles:!0}),Xt("_focused",{bubbles:!0}),Xt("forward-after",{bubbles:!0,cancelable:!0}),Xt("forward-before",{bubbles:!0})],TA);const Iw=TA;var T8;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi),function(i){i.Group="Group",i.ListItem="ListItem",i.MenuItem="MenuItem",i.TreeItem="TreeItem",i.Option="Option",i.None="None"}(T8||(T8={}));const $ie=T8;var I8,YC=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let Vf=I8=class extends Iw{constructor(){super(...arguments),this.accessibleRole=$ie.ListItem}get effectiveAccRole(){return aw(this.accessibleRole)}get groupItem(){return!0}get _pressable(){return!1}get groupHeaderText(){return I8.i18nBundle.getText(aSe)}get ariaLabelText(){return[this.textContent,this.accessibleName].filter(Boolean).join(" ")}get hasSubItems(){return this.subItems.length>0}};YC([me()],Vf.prototype,"accessibleName",void 0),YC([me()],Vf.prototype,"accessibleRole",void 0),YC([Jn()],Vf.prototype,"subItems",void 0),YC([wo("@ui5/webcomponents")],Vf,"i18nBundle",void 0),Vf=I8=YC([wn({tag:"ui5-li-group-header",languageAware:!0,template:function(){return Rt("div",{part:"native-li",role:this.effectiveAccRole,tabindex:this.forcedTabIndex?parseInt(this.forcedTabIndex):void 0,class:{"ui5-ghli-root":!0,...this.classes.main},"aria-label":this.ariaLabelText,"aria-roledescription":this.groupHeaderText,onFocusIn:this._onfocusin,onKeyDown:this._onkeydown,children:[Ce("div",{id:`${this._id}-content`,class:"ui5-li-content",children:Ce("span",{class:"ui5-ghli-title",children:Ce("slot",{})})}),this.hasSubItems&&Ce("slot",{name:"subItems"})]})},styles:[Iw.styles,`.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host{height:var(--_ui5-v2-9-0_group_header_list_item_height);background:var(--ui5-v2-9-0-group-header-listitem-background-color);color:var(--sapList_TableGroupHeaderTextColor)}:host([has-border]){border-bottom:var(--sapList_BorderWidth) solid var(--sapList_GroupHeaderBorderColor)}:host([actionable]:not([disabled])){cursor:default}.ui5-li-root.ui5-ghli-root{padding-top:.5rem;color:currentColor;font-size:var(--sapFontHeader6Size);font-weight:400;line-height:2rem;margin:0}.ui5-ghli-title{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:700;font-family:var(--sapFontHeaderFamily)}.ui5-li-content{width:100%}
`]})],Vf),Vf.define();const CEe=Vf;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var Lb=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let op=class extends Xr{constructor(){super(...arguments),this.focused=!1}onEnterDOM(){Vie(this)}onExitDOM(){qie(this)}get groupHeaderItem(){return this.shadowRoot.querySelector("[ui5-li-group-header]")}get hasHeader(){return!!this.headerText||this.hasFormattedHeader}get hasFormattedHeader(){return!!this.header.length}get isListItemGroup(){return!0}get dropIndicatorDOM(){return this.shadowRoot.querySelector("[ui5-drop-indicator]")}_ondragenter(i){i.preventDefault()}_ondragleave(i){i.relatedTarget instanceof Node&&this.shadowRoot.contains(i.relatedTarget)||(this.dropIndicatorDOM.targetReference=null)}_ondragover(i){const e=cR();if(!(i.target instanceof HTMLElement&&e))return;const t=Wie(this.items,i.clientY,gg.Vertical);if(!t)return void(this.dropIndicatorDOM.targetReference=null);let n=t.placements;t.element===e&&(n=n.filter(r=>r!==ts.On)),n.some(r=>!this.fireDecoratorEvent("move-over",{source:{element:e},destination:{element:t.element,placement:r}})&&(i.preventDefault(),this.dropIndicatorDOM.targetReference=t.element,this.dropIndicatorDOM.placement=r,!0))||(this.dropIndicatorDOM.targetReference=null)}_ondrop(i){i.preventDefault(),this.fireDecoratorEvent("move",{source:{element:cR()},destination:{element:this.dropIndicatorDOM.targetReference,placement:this.dropIndicatorDOM.placement}}),this.dropIndicatorDOM.targetReference=null}};Lb([me()],op.prototype,"headerText",void 0),Lb([me()],op.prototype,"headerAccessibleName",void 0),Lb([Jn({default:!0,invalidateOnChildChange:!0,type:HTMLElement})],op.prototype,"items",void 0),Lb([me({type:Boolean})],op.prototype,"focused",void 0),Lb([Jn({type:HTMLElement})],op.prototype,"header",void 0),op=Lb([wn({tag:"ui5-li-group",renderer:Br,languageAware:!0,template:function(){return Rt(xr,{children:[this.hasHeader&&Rt(CEe,{focused:this.focused,part:"header",accessibleRole:$ie.ListItem,children:[this.hasFormattedHeader?Ce("slot",{name:"header"}):this.headerText,Ce("div",{role:"list",slot:"subItems","aria-owns":`${this._id}-content`,"aria-label":this.headerText})]}),Rt("div",{class:"ui5-group-li-root",onDragEnter:this._ondragenter,onDragOver:this._ondragover,onDrop:this._ondrop,onDragLeave:this._ondragleave,id:`${this._id}-content`,children:[Ce("slot",{}),Ce(Kie,{orientation:"Horizontal",ownerReference:this})]})]})},styles:[`.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host{height:var(--_ui5-v2-9-0_group_header_list_item_height);background:var(--ui5-v2-9-0-group-header-listitem-background-color);color:var(--sapList_TableGroupHeaderTextColor)}.ui5-group-li-root{width:100%;height:100%;position:relative;box-sizing:border-box;padding:0;margin:0;list-style-type:none}
`]}),Xt("move-over",{bubbles:!0,cancelable:!0}),Xt("move",{bubbles:!0})],op),op.define();const qke=op;var qf,Gr=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let cr=qf=class extends Xr{constructor(){super(),this.indent=!1,this.selectionMode="None",this.separators="All",this.growing="None",this.loading=!1,this.loadingDelay=1e3,this.accessibleRole="List",this._inViewport=!1,this._loadMoreActive=!1,this._previouslyFocusedItem=null,this._forwardingFocus=!1,this.resizeListenerAttached=!1,this.listEndObserved=!1,this._itemNavigation=new nR(this,{skipItemsSize:10,navigationMode:k_.Vertical,getItemsCallback:()=>this.getEnabledItems()}),this._handleResize=this.checkListInViewport.bind(this),this._handleResize=this.checkListInViewport.bind(this),this.initialIntersection=!0,this._groupCount=0,this._groupItemCount=0,this.onItemFocusedBound=this.onItemFocused.bind(this),this.onForwardAfterBound=this.onForwardAfter.bind(this),this.onForwardBeforeBound=this.onForwardBefore.bind(this),this.onItemTabIndexChangeBound=this.onItemTabIndexChange.bind(this)}get listItems(){return this.getItems()}_updateAssociatedLabelsTexts(){this._associatedDescriptionRefTexts=lH(this),this._associatedLabelsRefTexts=oH(this)}onEnterDOM(){Bie(this,this._updateAssociatedLabelsTexts.bind(this)),Vie(this)}onExitDOM(){Sie(this),this.unobserveListEnd(),this.resizeListenerAttached=!1,Fg.deregister(this.getDomRef(),this._handleResize),qie(this)}onBeforeRendering(){this.detachGroupHeaderEvents(),this.prepareListItems()}onAfterRendering(){this.attachGroupHeaderEvents(),this.growsOnScroll?this.observeListEnd():this.listEndObserved&&this.unobserveListEnd(),this.grows&&(this.checkListInViewport(),this.attachForResize())}attachGroupHeaderEvents(){this.getItems().forEach(i=>{i.hasAttribute("ui5-li-group-header")&&(i.addEventListener("ui5-_focused",this.onItemFocusedBound),i.addEventListener("ui5-forward-after",this.onForwardAfterBound),i.addEventListener("ui5-forward-before",this.onForwardBeforeBound))})}detachGroupHeaderEvents(){this.getItems().forEach(i=>{i.hasAttribute("ui5-li-group-header")&&(i.removeEventListener("ui5-_focused",this.onItemFocusedBound),i.removeEventListener("ui5-forward-after",this.onForwardAfterBound),i.removeEventListener("ui5-forward-before",this.onForwardBeforeBound))})}attachForResize(){this.resizeListenerAttached||(this.resizeListenerAttached=!0,Fg.register(this.getDomRef(),this._handleResize))}get shouldRenderH1(){return!this.header.length&&this.headerText}get headerID(){return`${this._id}-header`}get modeLabelID(){return`${this._id}-modeLabel`}get listEndDOM(){return this.shadowRoot.querySelector(".ui5-list-end-marker")}get dropIndicatorDOM(){return this.shadowRoot.querySelector("[ui5-drop-indicator]")}get hasData(){return this.getItems().length!==0}get showBusyIndicatorOverlay(){return!this.growsWithButton&&this.loading}get showNoDataText(){return!this.hasData&&this.noDataText}get isDelete(){return this.selectionMode===es.Delete}get isSingleSelect(){return[es.Single,es.SingleStart,es.SingleEnd,es.SingleAuto].includes(this.selectionMode)}get isMultiple(){return this.selectionMode===es.Multiple}get ariaLabelledBy(){if(this.accessibleNameRef||this.accessibleName)return;const i=[];return(this.isMultiple||this.isSingleSelect||this.isDelete)&&i.push(this.modeLabelID),this.shouldRenderH1&&i.push(this.headerID),i.length?i.join(" "):void 0}get ariaLabelTxt(){return this._associatedLabelsRefTexts||Hg(this)}get ariaDescriptionText(){return this._associatedDescriptionRefTexts||Eie(this)||this._getDescriptionForGroups()}get scrollContainer(){return this.shadowRoot.querySelector(".ui5-list-scroll-container")}hasGrowingComponent(){return this.growsOnScroll&&this.scrollContainer?this.scrollContainer.clientHeight!==this.scrollContainer.scrollHeight:this.growsWithButton}_getDescriptionForGroups(){let i="";return this._groupCount>0&&(this.accessibleRole===Mj.List?i=qf.i18nBundle.getText(_Se,this._groupCount,this._groupItemCount):this.accessibleRole===Mj.ListBox&&(i=qf.i18nBundle.getText(vSe,this._groupCount))),i}get ariaLabelModeText(){if(this.hasData){if(this.isMultiple)return qf.i18nBundle.getText(xSe);if(this.isSingleSelect)return qf.i18nBundle.getText(wSe);if(this.isDelete)return qf.i18nBundle.getText(CSe)}return""}get grows(){return this.growing!==EP.None}get growsOnScroll(){return this.growing===EP.Scroll}get growsWithButton(){return this.growing===EP.Button}get _growingButtonText(){return this.growingButtonText||qf.i18nBundle.getText(kSe)}get listAccessibleRole(){return aw(this.accessibleRole)}get classes(){return{root:{"ui5-list-root":!0}}}prepareListItems(){const i=this.getItemsForProcessing();i.forEach((e,t)=>{const n=t===i.length-1,r=this.separators===Rj.All||this.separators===Rj.Inner&&!n;e.hasConfigurableMode&&(e._selectionMode=this.selectionMode),e.hasBorder=r})}async observeListEnd(){this.listEndObserved||(await jB(),this.getIntersectionObserver().observe(this.listEndDOM),this.listEndObserved=!0)}unobserveListEnd(){this.growingIntersectionObserver&&(this.growingIntersectionObserver.disconnect(),this.growingIntersectionObserver=null,this.listEndObserved=!1)}onInteresection(i){this.initialIntersection?this.initialIntersection=!1:i.forEach(e=>{var t;e.isIntersecting&&(t=this.loadMore.bind(this),oI&&clearTimeout(oI),oI=setTimeout(()=>{oI=null,t()},250))})}onSelectionRequested(i){const e=this.getSelectedItems();let t=!1;this.selectionMode!==es.None&&this[`handle${this.selectionMode}`]&&(t=this[`handle${this.selectionMode}`](i.detail.item,!!i.detail.selected)),t&&!this.fireDecoratorEvent("selection-change",{selectedItems:this.getSelectedItems(),previouslySelectedItems:e,selectionComponentPressed:i.detail.selectionComponentPressed,targetItem:i.detail.item,key:i.detail.key})&&this._revertSelection(e)}handleSingle(i){return!i.selected&&(this.deselectSelectedItems(),i.selected=!0,!0)}handleSingleStart(i){return this.handleSingle(i)}handleSingleEnd(i){return this.handleSingle(i)}handleSingleAuto(i){return this.handleSingle(i)}handleMultiple(i,e){return i.selected=e,!0}handleDelete(i){return this.fireDecoratorEvent("item-delete",{item:i}),!0}deselectSelectedItems(){this.getSelectedItems().forEach(i=>{i.selected=!1})}getSelectedItems(){return this.getItems().filter(i=>i.selected)}getEnabledItems(){return this.getItems().filter(i=>i._focusable)}getItems(){const i=[],e=this.getSlottedNodes("items");let t=0,n=0;return e.forEach(r=>{if("isListItemGroup"in r){const o=[r.groupHeaderItem,...r.items.filter(s=>s.assignedSlot)].filter(Boolean);i.push(...o),t++,n+=o.length-1}else r.assignedSlot&&i.push(r)}),this._groupCount=t,this._groupItemCount=n,i}getItemsForProcessing(){return this.getItems()}_revertSelection(i){this.getItems().forEach(e=>{const t=i.indexOf(e)!==-1,n=e.shadowRoot.querySelector(".ui5-li-multisel-cb"),r=e.shadowRoot.querySelector(".ui5-li-singlesel-radiobtn");e.selected=t,n?n.checked=t:r&&(r.checked=t)})}_onkeydown(i){return rw(i)?(this._handleEnd(),void i.preventDefault()):nw(i)?void this._handleHome():Bl(i)?(this._handleDown(),void i.preventDefault()):void(ra(i,!0,!1,!1)?this._moveItem(i.target,i):kg(i)&&this._handleTabNext(i))}_moveItem(i,e){if(!i||!i.movable)return;const t=(n=this.items,r=i,(a=>a in Tj)((o=e).key)?Tj[o.key](n,n.indexOf(r)):[]);var n,r,o;if(!t.length)return;e.preventDefault();const s=t.find(({element:a,placement:l})=>!this.fireDecoratorEvent("move-over",{originalEvent:e,source:{element:i},destination:{element:a,placement:l}}));s&&(this.fireDecoratorEvent("move",{originalEvent:e,source:{element:i},destination:{element:s.element,placement:s.placement}}),i.focus())}_onLoadMoreKeydown(i){wr(i)&&(i.preventDefault(),this._loadMoreActive=!0),Dr(i)&&(this._onLoadMoreClick(),this._loadMoreActive=!0),kg(i)&&this.focusAfterElement(),za(i)?this._handleLodeMoreUp(i):Lk(i)&&(this.getPreviouslyFocusedItem()?this.focusPreviouslyFocusedItem():this.focusFirstItem(),i.preventDefault())}_onLoadMoreKeyup(i){wr(i)&&this._onLoadMoreClick(),this._loadMoreActive=!1}_onLoadMoreMousedown(){this._loadMoreActive=!0}_onLoadMoreMouseup(){this._loadMoreActive=!1}_onLoadMoreClick(){this.loadMore()}_handleLodeMoreUp(i){if(this.getGrowingButton()===i.target){const e=this.getItems(),t=e[e.length-1];this.focusItem(t),i.preventDefault(),i.stopImmediatePropagation()}}checkListInViewport(){this._inViewport=(()=>{const i=this.getDomRef().getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)})()}loadMore(){this.hasGrowingComponent()&&this.fireDecoratorEvent("load-more")}_handleTabNext(i){Ij(i.target)}_handleHome(){this.growsWithButton&&this.focusFirstItem()}_handleEnd(){this.growsWithButton&&this._shouldFocusGrowingButton()}_handleDown(){this.growsWithButton&&this._shouldFocusGrowingButton()}_onfocusin(i){const e=Ij(i.target);if(this.isForwardElement(e)){if(!this.getPreviouslyFocusedItem())return this.growsWithButton&&this.isForwardAfterElement(e)?this.focusGrowingButton():this.focusFirstItem(),void i.stopImmediatePropagation();if(!this.getForwardingFocus()){if(this.growsWithButton&&this.isForwardAfterElement(e))return this.focusGrowingButton(),void i.stopImmediatePropagation();this.focusPreviouslyFocusedItem()}i.stopImmediatePropagation(),this.setForwardingFocus(!1)}}_ondragenter(i){i.preventDefault()}_ondragleave(i){i.relatedTarget instanceof Node&&this.shadowRoot.contains(i.relatedTarget)||(this.dropIndicatorDOM.targetReference=null)}_ondragover(i){if(!(i.target instanceof HTMLElement))return;const e=Wie(this.items,i.clientY,gg.Vertical);if(!e)return void(this.dropIndicatorDOM.targetReference=null);const{targetReference:t,placement:n}=function(r,o,s,a,l={}){const c=cR(),u={targetReference:null,placement:null};if(!c&&!(l!=null&&l.crossDnD))return u;const h=s.placements;return u.targetReference=r.target,h.some(d=>{const p=l.originalEvent?{originalEvent:r}:{};return!o.fireDecoratorEvent("move-over",{...p,source:{element:c},destination:{element:a,placement:d}})&&(r.preventDefault(),u.targetReference=s.element,u.placement=d,!0)})||(u.targetReference=null),u}(i,this,e,e.element,{originalEvent:!0});this.dropIndicatorDOM.targetReference=t,this.dropIndicatorDOM.placement=n}_ondrop(i){var e,t;(e=this.dropIndicatorDOM)!=null&&e.targetReference&&((t=this.dropIndicatorDOM)!=null&&t.placement)?(function(n,r,o,s,a={}){n.preventDefault();const l=cR();if(!l&&(a!=null&&a.crossDnD))return;const c=a.originalEvent?{originalEvent:n}:{};r.fireDecoratorEvent("move",{...c,source:{element:l},destination:{element:o,placement:s}}),l==null||l.focus()}(i,this,this.dropIndicatorDOM.targetReference,this.dropIndicatorDOM.placement,{originalEvent:!0}),this.dropIndicatorDOM.targetReference=null):i.preventDefault()}isForwardElement(i){const e=i.id,t=this.getBeforeElement();return!!(this._id===e||t&&t.id===e)||this.isForwardAfterElement(i)}isForwardAfterElement(i){const e=i.id,t=this.getAfterElement();return t&&t.id===e}onItemTabIndexChange(i){i.stopPropagation();const e=i.target;this._itemNavigation.setCurrentItem(e)}onItemFocused(i){const e=i.target;if(i.stopPropagation(),this._itemNavigation.setCurrentItem(e),this.fireDecoratorEvent("item-focused",{item:e}),this.selectionMode===es.SingleAuto){const t={item:e,selectionComponentPressed:!1,selected:!0,key:i.detail.key};this.onSelectionRequested({detail:t})}}onItemPress(i){const e=i.detail.item;if(this.fireDecoratorEvent("item-click",{item:e})&&this.selectionMode!==es.Delete){const t={item:e,selectionComponentPressed:!1,selected:!e.selected,key:i.detail.key};this.onSelectionRequested({detail:t})}}onItemClose(i){var e;const t=i.target;(t!=null&&t.hasAttribute("ui5-li-notification")||t!=null&&t.hasAttribute("ui5-li-notification-group"))&&this.fireDecoratorEvent("item-close",{item:(e=i.detail)==null?void 0:e.item})}onItemToggle(i){this.fireDecoratorEvent("item-toggle",{item:i.detail.item})}onForwardBefore(i){this.setPreviouslyFocusedItem(i.target),this.focusBeforeElement(),i.stopPropagation()}onForwardAfter(i){this.setPreviouslyFocusedItem(i.target),this.growsWithButton?(this.focusGrowingButton(),i.preventDefault()):this.focusAfterElement(),i.stopPropagation()}focusBeforeElement(){this.setForwardingFocus(!0),this.getBeforeElement().focus()}focusAfterElement(){this.setForwardingFocus(!0),this.getAfterElement().focus()}focusGrowingButton(){const i=this.getGrowingButton();i&&i.focus()}_shouldFocusGrowingButton(){const i=this.getItems().length-1,e=this._itemNavigation._currentIndex;e!==-1&&e===i&&this.focusGrowingButton()}getGrowingButton(){return this.shadowRoot.querySelector(`[id="${this._id}-growing-btn"]`)}focusFirstItem(){const i=this.getFirstItem(e=>e._focusable);i&&i.focus()}focusPreviouslyFocusedItem(){const i=this.getPreviouslyFocusedItem();i&&i.focus()}focusFirstSelectedItem(){const i=this.getFirstItem(e=>e.selected&&e._focusable);i&&i.focus()}focusItem(i){this._itemNavigation.setCurrentItem(i),i.focus()}onFocusRequested(i){setTimeout(()=>{this.setPreviouslyFocusedItem(i.target),this.focusPreviouslyFocusedItem()},0)}setForwardingFocus(i){this._forwardingFocus=i}getForwardingFocus(){return this._forwardingFocus}setPreviouslyFocusedItem(i){this._previouslyFocusedItem=i}getPreviouslyFocusedItem(){return this._previouslyFocusedItem}getFirstItem(i){const e=this.getItems();let t=null;if(!i)return e.length?e[0]:null;for(let n=0;n<e.length;n++)if(i(e[n])){t=e[n];break}return t}getAfterElement(){return this._afterElement||(this._afterElement=this.shadowRoot.querySelector(`[id="${this._id}-after"]`)),this._afterElement}getBeforeElement(){return this._beforeElement||(this._beforeElement=this.shadowRoot.querySelector(`[id="${this._id}-before"]`)),this._beforeElement}getIntersectionObserver(){return this.growingIntersectionObserver||(this.growingIntersectionObserver=new IntersectionObserver(this.onInteresection.bind(this),{root:null,rootMargin:"0px",threshold:1})),this.growingIntersectionObserver}};Gr([me()],cr.prototype,"headerText",void 0),Gr([me()],cr.prototype,"footerText",void 0),Gr([me({type:Boolean})],cr.prototype,"indent",void 0),Gr([me()],cr.prototype,"selectionMode",void 0),Gr([me()],cr.prototype,"noDataText",void 0),Gr([me()],cr.prototype,"separators",void 0),Gr([me()],cr.prototype,"growing",void 0),Gr([me()],cr.prototype,"growingButtonText",void 0),Gr([me({type:Boolean})],cr.prototype,"loading",void 0),Gr([me({type:Number})],cr.prototype,"loadingDelay",void 0),Gr([me()],cr.prototype,"accessibleName",void 0),Gr([me()],cr.prototype,"accessibleNameRef",void 0),Gr([me()],cr.prototype,"accessibleDescription",void 0),Gr([me()],cr.prototype,"accessibleDescriptionRef",void 0),Gr([me({noAttribute:!0})],cr.prototype,"_associatedDescriptionRefTexts",void 0),Gr([me({noAttribute:!0})],cr.prototype,"_associatedLabelsRefTexts",void 0),Gr([me()],cr.prototype,"accessibleRole",void 0),Gr([me({type:Boolean})],cr.prototype,"_inViewport",void 0),Gr([me({type:Boolean})],cr.prototype,"_loadMoreActive",void 0),Gr([Jn({type:HTMLElement,default:!0,invalidateOnChildChange:!0})],cr.prototype,"items",void 0),Gr([Jn()],cr.prototype,"header",void 0),Gr([wo("@ui5/webcomponents")],cr,"i18nBundle",void 0),cr=qf=Gr([wn({tag:"ui5-list",fastNavigation:!0,renderer:Br,template:function(){return Ce("div",{class:"ui5-list-root",onFocusIn:this._onfocusin,onKeyDown:this._onkeydown,onDragEnter:this._ondragenter,onDragOver:this._ondragover,onDrop:this._ondrop,onDragLeave:this._ondragleave,"onui5-close":this.onItemClose,"onui5-toggle":this.onItemToggle,"onui5-request-tabindex-change":this.onItemTabIndexChange,"onui5-_focused":this.onItemFocused,"onui5-forward-after":this.onForwardAfter,"onui5-forward-before":this.onForwardBefore,"onui5-selection-requested":this.onSelectionRequested,"onui5-focus-requested":this.onFocusRequested,"onui5-_press":this.onItemPress,children:Rt(jie,{id:`${this._id}-busyIndicator`,delay:this.loadingDelay,active:this.showBusyIndicatorOverlay,class:"ui5-list-busy-indicator",children:[Rt("div",{class:"ui5-list-scroll-container",children:[this.header.length>0&&Ce("slot",{name:"header"}),this.shouldRenderH1&&Ce("header",{id:this.headerID,class:"ui5-list-header",children:this.headerText}),this.hasData&&Ce("div",{id:`${this._id}-before`,tabindex:0,role:"none",class:"ui5-list-focusarea"}),Ce("span",{id:`${this._id}-modeLabel`,class:"ui5-hidden-text",children:this.ariaLabelModeText}),Rt("ul",{id:`${this._id}-listUl`,class:"ui5-list-ul",role:this.listAccessibleRole,"aria-label":this.ariaLabelTxt,"aria-labelledby":this.ariaLabelledBy,"aria-description":this.ariaDescriptionText,children:[Ce("slot",{}),this.showNoDataText&&Ce("li",{tabindex:0,id:`${this._id}-nodata`,class:"ui5-list-nodata",role:"listitem",children:Ce("div",{id:`${this._id}-nodata-text`,class:"ui5-list-nodata-text",children:this.noDataText})})]}),this.growsWithButton&&xEe.call(this),this.footerText&&Ce("footer",{id:`${this._id}-footer`,class:"ui5-list-footer",children:this.footerText}),this.hasData&&Ce("div",{id:`${this._id}-after`,tabindex:0,role:"none",class:"ui5-list-focusarea"}),Ce("span",{tabindex:-1,"aria-hidden":"true",class:"ui5-list-end-marker"})]}),Ce(Kie,{orientation:"Horizontal",ownerReference:this})]})})},styles:[`.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}.ui5-growing-button{display:flex;align-items:center;padding:var(--_ui5-v2-9-0_load_more_padding);border-top:1px solid var(--sapList_BorderColor);border-bottom:var(--_ui5-v2-9-0_load_more_border-bottom);box-sizing:border-box;cursor:pointer;outline:none}.ui5-growing-button-inner{display:flex;align-items:center;justify-content:center;flex-direction:row;min-height:var(--_ui5-v2-9-0_load_more_text_height);width:100%;color:var(--sapButton_TextColor);background-color:var(--sapList_Background);border:var(--_ui5-v2-9-0_load_more_border);border-radius:var(--_ui5-v2-9-0_load_more_border_radius);box-sizing:border-box}.ui5-growing-button-inner:focus-visible{outline:var(--_ui5-v2-9-0_load_more_outline_width) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);outline-offset:-.125rem;border-color:transparent}.ui5-growing-button-inner:hover{background-color:var(--sapList_Hover_Background)}.ui5-growing-button-inner:active,.ui5-growing-button-inner.ui5-growing-button-inner--active{background-color:var(--sapList_Active_Background);border-color:var(--sapList_Active_Background)}.ui5-growing-button-inner:active>*,.ui5-growing-button-inner.ui5-growing-button-inner--active>*{color:var(--sapList_Active_TextColor)}.ui5-growing-button-text{text-align:center;font-family:"72override",var(--sapFontFamily);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;box-sizing:border-box}.ui5-growing-button-text{height:var(--_ui5-v2-9-0_load_more_text_height);padding:.875rem 1rem 1rem;font-size:var(--_ui5-v2-9-0_load_more_text_font_size);font-weight:700}:host([loading]) .ui5-list-growing-button-busy-indicator:not([_is-busy]){display:none}:host([loading]) .ui5-list-growing-button-busy-indicator[_is-busy]+.ui5-growing-button-text{padding-left:.5rem}:host(:not([hidden])){display:block;max-width:100%;width:100%;-webkit-tap-highlight-color:transparent}:host([indent]) .ui5-list-root{padding:2rem}:host([separators="None"]) .ui5-list-nodata{border-bottom:0}.ui5-list-root,.ui5-list-busy-indicator{width:100%;height:100%;position:relative;box-sizing:border-box}.ui5-list-scroll-container{overflow:auto;height:100%;width:100%}.ui5-list-ul{list-style-type:none;padding:0;margin:0}.ui5-list-ul:focus{outline:none}.ui5-list-focusarea{position:fixed}.ui5-list-header{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;font-size:var(--sapFontHeader4Size);font-family:"72override",var(--sapFontFamily);color:var(--sapGroup_TitleTextColor);height:3rem;line-height:3rem;padding:0 1rem;background-color:var(--sapGroup_TitleBackground);border-bottom:1px solid var(--sapGroup_TitleBorderColor)}.ui5-list-footer{height:2rem;box-sizing:border-box;-webkit-text-size-adjust:none;font-size:var(--sapFontSize);font-family:"72override",var(--sapFontFamily);line-height:2rem;background-color:var(--sapList_FooterBackground);color:var(--ui5-v2-9-0_list_footer_text_color);padding:0 1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ui5-list-nodata{list-style-type:none;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;color:var(--sapTextColor);background-color:var(--sapList_Background);border-bottom:1px solid var(--sapList_BorderColor);padding:0 1rem!important;outline:none;min-height:var(--_ui5-v2-9-0_list_no_data_height);font-size:var(--_ui5-v2-9-0_list_no_data_font_size);font-family:"72override",var(--sapFontFamily);position:relative}.ui5-list-nodata:focus:after{content:"";border:var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);position:absolute;inset:.125rem;pointer-events:none}.ui5-list-nodata-text{overflow:hidden;text-overflow:ellipsis;white-space:normal;margin:var(--_ui5-v2-9-0_list_item_content_vertical_offset) 0}:host([growing="Scroll"]) .ui5-list-end-marker{display:inline-block}
`,cH()]}),Xt("item-click",{bubbles:!0,cancelable:!0}),Xt("item-close",{bubbles:!0}),Xt("item-toggle",{bubbles:!0}),Xt("item-delete",{bubbles:!0}),Xt("selection-change",{bubbles:!0,cancelable:!0}),Xt("load-more",{bubbles:!0}),Xt("item-focused",{bubbles:!0}),Xt("move-over",{bubbles:!0,cancelable:!0}),Xt("move",{bubbles:!0})],cr),cr.define();const Xie=cr;function BEe(){return Ce(xr,{children:!!this._displayHeader&&Ce("header",{children:Rt("div",{class:"ui5-popup-header-root",id:"ui5-popup-header",role:"group","aria-describedby":this.effectiveAriaDescribedBy,"aria-roledescription":this.ariaRoleDescriptionHeaderText,tabIndex:this._headerTabIndex,onKeyDown:this._onDragOrResizeKeyDown,onMouseDown:this._onDragMouseDown,part:"header",children:[this.hasValueState&&Ce(Ur,{class:"ui5-dialog-value-state-icon",name:this._dialogStateIcon}),this.header.length?Ce("slot",{name:"header"}):Ce(qk,{level:"H1",id:"ui5-popup-header-text",class:"ui5-popup-header-text",children:this.headerText}),this.resizable?this.draggable?Ce("span",{id:`${this._id}-descr`,"aria-hidden":"true",class:"ui5-hidden-text",children:this.ariaDescribedByHeaderTextDraggableAndResizable}):Ce("span",{id:`${this._id}-descr`,"aria-hidden":"true",class:"ui5-hidden-text",children:this.ariaDescribedByHeaderTextResizable}):this.draggable&&Ce("span",{id:`${this._id}-descr`,"aria-hidden":"true",class:"ui5-hidden-text",children:this.ariaDescribedByHeaderTextDraggable})]})})})}function SEe(){return Rt(xr,{children:[!!this.footer.length&&Ce("footer",{class:"ui5-popup-footer-root",part:"footer",children:Ce("slot",{name:"footer"})}),this._showResizeHandle&&Ce("div",{class:"ui5-popup-resize-handle",onMouseDown:this._onResizeMouseDown,children:Ce(Ur,{name:"resize-corner"})})]})}vi("resize-corner",{pathData:"M384 160v32q0 12-10 22L182 406q-10 10-22 10h-32zM224 416l160-160v32q0 12-10 22l-96 96q-10 10-22 10h-32zm160-64v32q0 12-10 22t-22 10h-32z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("resize-corner",{pathData:"M282 416q-11 0-18.5-7.5T256 390t7-18l109-109q7-7 18-7t18.5 7.5T416 282t-7 18L300 409q-7 7-18 7zm-160 0q-11 0-18.5-7.5T96 390t7-18l269-269q7-7 18-7t18.5 7.5T416 122t-7 18L140 409q-7 7-18 7z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var Wf,Xd=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};const Rf=16,EEe={[di.Negative]:"error",[di.Critical]:"alert",[di.Positive]:"sys-enter-2",[di.Information]:"information"};let _u=Wf=class extends Vk{constructor(){super(),this.stretch=!1,this.draggable=!1,this.resizable=!1,this.state="None",this._draggedOrResized=!1,this._revertSize=()=>{Object.assign(this.style,{top:"",left:"",width:"",height:""})},this._screenResizeHandler=this._screenResize.bind(this),this._dragMouseMoveHandler=this._onDragMouseMove.bind(this),this._dragMouseUpHandler=this._onDragMouseUp.bind(this),this._resizeMouseMoveHandler=this._onResizeMouseMove.bind(this),this._resizeMouseUpHandler=this._onResizeMouseUp.bind(this),this._dragStartHandler=this._handleDragStart.bind(this)}static _isHeader(i){return i.classList.contains("ui5-popup-header-root")||i.getAttribute("slot")==="header"}get isModal(){return!0}get _ariaLabelledBy(){let i;return this.headerText&&!this._ariaLabel&&(i="ui5-popup-header-text"),i}get ariaRoleDescriptionHeaderText(){return this.resizable||this.draggable?Wf.i18nBundle.getText(LSe):void 0}get effectiveAriaDescribedBy(){return this.resizable||this.draggable?`${this._id}-descr`:void 0}get ariaDescribedByHeaderTextResizable(){return Wf.i18nBundle.getText(OSe)}get ariaDescribedByHeaderTextDraggable(){return Wf.i18nBundle.getText(QSe)}get ariaDescribedByHeaderTextDraggableAndResizable(){return Wf.i18nBundle.getText(NSe)}get _displayHeader(){return this.header.length||this.headerText||this.draggable||this.resizable}get _movable(){return!this.stretch&&this.onDesktop&&(this.draggable||this.resizable)}get _headerTabIndex(){return this._movable?0:void 0}get _showResizeHandle(){return this.resizable&&this.onDesktop}get _minHeight(){let i=Number.parseInt(window.getComputedStyle(this.contentDOM).minHeight);const e=this._root.querySelector(".ui5-popup-header-root");e&&(i+=e.offsetHeight);const t=this._root.querySelector(".ui5-popup-footer-root");return t&&(i+=t.offsetHeight),i}get hasValueState(){return this.state!==di.None}get _dialogStateIcon(){return EEe[this.state]}get _role(){if(this.accessibleRole!==lR.None)return this.state===di.Negative||this.state===di.Critical?aw(lR.AlertDialog):aw(this.accessibleRole)}_show(){super._show(),this._center()}onBeforeRendering(){super.onBeforeRendering(),this._isRTL=this.effectiveDir==="rtl"}onEnterDOM(){super.onEnterDOM(),this._attachScreenResizeHandler(),this.addEventListener("dragstart",this._dragStartHandler),this.setAttribute("data-sap-ui-fastnavgroup-container","true")}onExitDOM(){super.onExitDOM(),this._detachScreenResizeHandler(),this.removeEventListener("dragstart",this._dragStartHandler)}_resize(){super._resize(),this._draggedOrResized||this._center()}_screenResize(){this._center()}_attachScreenResizeHandler(){this._screenResizeHandlerAttached||(window.addEventListener("resize",this._screenResizeHandler),this._screenResizeHandlerAttached=!0)}_detachScreenResizeHandler(){this._screenResizeHandlerAttached&&(window.removeEventListener("resize",this._screenResizeHandler),this._screenResizeHandlerAttached=!1)}_center(){const i=window.innerHeight-this.offsetHeight,e=window.innerWidth-this.offsetWidth;Object.assign(this.style,{top:`${Math.round(i/2)}px`,left:`${Math.round(e/2)}px`})}_onDragMouseDown(i){if(!this._movable||!this.draggable||!Wf._isHeader(i.target))return;const{top:e,left:t}=this.getBoundingClientRect(),{width:n,height:r}=window.getComputedStyle(this);Object.assign(this.style,{top:`${e}px`,left:`${t}px`,width:Math.round(100*Number.parseFloat(n))/100+"px",height:Math.round(100*Number.parseFloat(r))/100+"px"}),this._x=i.clientX,this._y=i.clientY,this._draggedOrResized=!0,this._attachMouseDragHandlers()}_onDragMouseMove(i){i.preventDefault();const{clientX:e,clientY:t}=i,n=this._x-e,r=this._y-t,{left:o,top:s}=this.getBoundingClientRect();Object.assign(this.style,{left:`${Math.floor(o-n)}px`,top:`${Math.floor(s-r)}px`}),this._x=e,this._y=t}_onDragMouseUp(){delete this._x,delete this._y,this._detachMouseDragHandlers()}_onDragOrResizeKeyDown(i){this._movable&&Wf._isHeader(i.target)&&(this.draggable&&[za,Bl,Ig,Mg].some(e=>e(i))?this._dragWithEvent(i):this.resizable&&[i8,n8,XW,YW].some(e=>e(i))&&this._resizeWithEvent(i))}_dragWithEvent(i){const{top:e,left:t,width:n,height:r}=this.getBoundingClientRect();let o=0,s="top";switch(!0){case za(i):o=e-Rf,s="top";break;case Bl(i):o=e+Rf,s="top";break;case Ig(i):o=t-Rf,s="left";break;case Mg(i):o=t+Rf,s="left"}o=Rh(o,0,s==="left"?window.innerWidth-n:window.innerHeight-r),this.style[s]=`${o}px`}_resizeWithEvent(i){this._draggedOrResized=!0,this.addEventListener("ui5-before-close",this._revertSize,{once:!0});const{top:e,left:t}=this.getBoundingClientRect(),n=window.getComputedStyle(this),r=Number.parseFloat(n.minWidth),o=window.innerWidth-t,s=window.innerHeight-e;let a=Number.parseFloat(n.width),l=Number.parseFloat(n.height);switch(!0){case i8(i):l-=Rf;break;case n8(i):l+=Rf;break;case XW(i):a-=Rf;break;case YW(i):a+=Rf}a=Rh(a,r,o),l=Rh(l,this._minHeight,s),Object.assign(this.style,{width:`${a}px`,height:`${l}px`})}_attachMouseDragHandlers(){window.addEventListener("mousemove",this._dragMouseMoveHandler),window.addEventListener("mouseup",this._dragMouseUpHandler)}_detachMouseDragHandlers(){window.removeEventListener("mousemove",this._dragMouseMoveHandler),window.removeEventListener("mouseup",this._dragMouseUpHandler)}_onResizeMouseDown(i){if(!this._movable||!this.resizable)return;i.preventDefault();const{top:e,left:t}=this.getBoundingClientRect(),{width:n,height:r,minWidth:o}=window.getComputedStyle(this);this._initialX=i.clientX,this._initialY=i.clientY,this._initialWidth=Number.parseFloat(n),this._initialHeight=Number.parseFloat(r),this._initialTop=e,this._initialLeft=t,this._minWidth=Number.parseFloat(o),this._cachedMinHeight=this._minHeight,Object.assign(this.style,{top:`${e}px`,left:`${t}px`}),this._draggedOrResized=!0,this._attachMouseResizeHandlers()}_onResizeMouseMove(i){const{clientX:e,clientY:t}=i;let n,r;this._isRTL?(n=Rh(this._initialWidth-(e-this._initialX),this._minWidth,this._initialLeft+this._initialWidth),r=Rh(this._initialLeft+(e-this._initialX),0,this._initialX+this._initialWidth-this._minWidth)):n=Rh(this._initialWidth+(e-this._initialX),this._minWidth,window.innerWidth-this._initialLeft);const o=Rh(this._initialHeight+(t-this._initialY),this._cachedMinHeight,window.innerHeight-this._initialTop);Object.assign(this.style,{height:`${o}px`,width:`${n}px`,left:r?`${r}px`:void 0})}_onResizeMouseUp(){delete this._initialX,delete this._initialY,delete this._initialWidth,delete this._initialHeight,delete this._initialTop,delete this._initialLeft,delete this._minWidth,delete this._cachedMinHeight,this._detachMouseResizeHandlers()}_handleDragStart(i){this.draggable&&i.preventDefault()}_attachMouseResizeHandlers(){window.addEventListener("mousemove",this._resizeMouseMoveHandler),window.addEventListener("mouseup",this._resizeMouseUpHandler),this.addEventListener("ui5-before-close",this._revertSize,{once:!0})}_detachMouseResizeHandlers(){window.removeEventListener("mousemove",this._resizeMouseMoveHandler),window.removeEventListener("mouseup",this._resizeMouseUpHandler)}};Xd([me()],_u.prototype,"headerText",void 0),Xd([me({type:Boolean})],_u.prototype,"stretch",void 0),Xd([me({type:Boolean})],_u.prototype,"draggable",void 0),Xd([me({type:Boolean})],_u.prototype,"resizable",void 0),Xd([me()],_u.prototype,"state",void 0),Xd([Jn()],_u.prototype,"header",void 0),Xd([Jn()],_u.prototype,"footer",void 0),Xd([wo("@ui5/webcomponents")],_u,"i18nBundle",void 0),_u=Wf=Xd([wn({tag:"ui5-dialog",template:function(){return hH.call(this,{beforeContent:BEe,afterContent:SEe})},styles:[Vk.styles,Gie,`.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host{min-width:20rem;min-height:6rem;max-height:94%;max-width:90%;flex-direction:column;box-shadow:var(--sapContent_Shadow3);border-radius:var(--sapElement_BorderCornerRadius)}:host([stretch]){width:90%;height:94%}:host([stretch][on-phone]){width:100%;height:100%;max-height:100%;max-width:100%;border-radius:0;min-width:0}:host([draggable]) .ui5-popup-header-root,:host([draggable]) ::slotted([slot="header"]){cursor:move}:host([draggable]) .ui5-popup-header-root *{cursor:auto}:host([draggable]) .ui5-popup-root{user-select:text}::slotted([slot="header"]){max-width:100%}.ui5-popup-root{display:flex;flex-direction:column;max-width:100vw}.ui5-popup-header-root{position:relative}.ui5-popup-header-root:before{content:"";position:absolute;inset-block-start:auto;inset-block-end:0;inset-inline-start:0;inset-inline-end:0;height:var(--_ui5-v2-9-0_dialog_header_state_line_height);background:var(--sapObjectHeader_BorderColor)}:host([state="Negative"]) .ui5-popup-header-root:before{background:var(--sapErrorBorderColor)}:host([state="Information"]) .ui5-popup-header-root:before{background:var(--sapInformationBorderColor)}:host([state="Positive"]) .ui5-popup-header-root:before{background:var(--sapSuccessBorderColor)}:host([state="Critical"]) .ui5-popup-header-root:before{background:var(--sapWarningBorderColor)}.ui5-dialog-value-state-icon{margin-inline-end:.5rem;flex-shrink:0}:host([state="Negative"]) .ui5-dialog-value-state-icon{color:var(--_ui5-v2-9-0_dialog_header_error_state_icon_color)}:host([state="Information"]) .ui5-dialog-value-state-icon{color:var(--_ui5-v2-9-0_dialog_header_information_state_icon_color)}:host([state="Positive"]) .ui5-dialog-value-state-icon{color:var(--_ui5-v2-9-0_dialog_header_success_state_icon_color)}:host([state="Critical"]) .ui5-dialog-value-state-icon{color:var(--_ui5-v2-9-0_dialog_header_warning_state_icon_color)}.ui5-popup-header-root{outline:none}:host([desktop]) .ui5-popup-header-root:focus:after,.ui5-popup-header-root:focus-visible:after{content:"";position:absolute;left:var(--_ui5-v2-9-0_dialog_header_focus_left_offset);bottom:var(--_ui5-v2-9-0_dialog_header_focus_bottom_offset);right:var(--_ui5-v2-9-0_dialog_header_focus_right_offset);top:var(--_ui5-v2-9-0_dialog_header_focus_top_offset);border:var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);border-radius:var(--_ui5-v2-9-0_dialog_header_border_radius) var(--_ui5-v2-9-0_dialog_header_border_radius) 0 0;pointer-events:none}:host([stretch]) .ui5-popup-content{width:100%;height:100%}.ui5-popup-content{min-height:var(--_ui5-v2-9-0_dialog_content_min_height);flex:1 1 auto}.ui5-popup-resize-handle{position:absolute;bottom:-.5rem;inset-inline-end:-.5rem;cursor:var(--_ui5-v2-9-0_dialog_resize_cursor);width:1.5rem;height:1.5rem;border-radius:50%}.ui5-popup-resize-handle [ui5-icon]{color:var(--sapButton_Lite_TextColor)}::slotted([slot="footer"]){height:var(--_ui5-v2-9-0_dialog_footer_height)}::slotted([slot="footer"][ui5-bar][design="Footer"]){border-top:none}::slotted([slot="header"][ui5-bar]){box-shadow:none}::slotted([slot="footer"][ui5-toolbar]){border:0}:host::backdrop{background-color:var(--_ui5-v2-9-0_popup_block_layer_background);opacity:var(--_ui5-v2-9-0_popup_block_layer_opacity)}.ui5-block-layer{display:block}
`,cH()]})],_u),_u.define();const Yie=_u;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var M8,ZC=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let jf=M8=class extends FS{constructor(){super(),this.contentOnlyOnDesktop=!1,this._hideHeader=!1,this._hideCloseButton=!1}async openPopup(){jr()?this._dialog&&(this._dialog.open=!0):await super.openPopup()}async _show(){if(!jr())return super._show()}_dialogCloseButtonClick(){this.closePopup()}closePopup(i=!1,e=!1,t=!1){var n;jr()?(n=this._dialog)==null||n.closePopup(i,e,t):super.closePopup(i,e,t)}toggle(i){this.open?this.closePopup():(this.opener=i,this.open=!0)}get classes(){const i=super.classes;return i.header={"ui5-responsive-popover-header":!0,"ui5-responsive-popover-header-no-title":!this.headerText},i}get _dialog(){return this.shadowRoot.querySelector("[ui5-dialog]")}get contentDOM(){return jr()?this._dialog.contentDOM:super.contentDOM}get _isPhone(){return jr()}get _displayHeader(){return(jr()||!this.contentOnlyOnDesktop)&&super._displayHeader}get _displayFooter(){return jr()||!this.contentOnlyOnDesktop}get _closeDialogAriaLabel(){return M8.i18nBundle.getText(ESe)}_beforeDialogOpen(){this._opened=!0,this.open=!0,this.fireDecoratorEvent("before-open")}_afterDialogOpen(){this.fireDecoratorEvent("open")}_beforeDialogClose(i){this.fireDecoratorEvent("before-close",i.detail)}_afterDialogClose(){this._opened=!1,this.open=!1,this.fireDecoratorEvent("close")}get isModal(){return jr()?this._dialog.isModal:super.isModal}};ZC([me({type:Boolean})],jf.prototype,"contentOnlyOnDesktop",void 0),ZC([me({type:Boolean})],jf.prototype,"_hideHeader",void 0),ZC([me({type:Boolean})],jf.prototype,"_hideCloseButton",void 0),ZC([wo("@ui5/webcomponents")],jf,"i18nBundle",void 0),jf=M8=ZC([wn({tag:"ui5-responsive-popover",styles:[FS.styles,`:host{--_ui5-v2-9-0_input_width: 100%;min-width:6.25rem;min-height:2rem}:host([on-phone]){display:contents}.ui5-responsive-popover-header{height:var(--_ui5-v2-9-0-responsive_popover_header_height);display:flex;justify-content:var(--_ui5-v2-9-0_popup_header_prop_header_text_alignment);align-items:center;width:100%}.ui5-responsive-popover-header-text{width:calc(100% - var(--_ui5-v2-9-0_button_base_min_width))}.ui5-responsive-popover-header-no-title{justify-content:flex-end}
`],template:function(){return this._isPhone?Rt(Yie,{"root-element":!0,accessibleName:this.accessibleName,accessibleNameRef:this.accessibleNameRef,accessibleRole:this.accessibleRole,stretch:!0,preventInitialFocus:this.preventInitialFocus,preventFocusRestore:this.preventFocusRestore,initialFocus:this.initialFocus,onBeforeOpen:this._beforeDialogOpen,onOpen:this._afterDialogOpen,onBeforeClose:this._beforeDialogClose,onClose:this._afterDialogClose,exportparts:"content, header, footer",open:this.open,children:[!this._hideHeader&&Ce(xr,{children:this.header.length?Ce("slot",{slot:"header",name:"header"}):Rt("div",{class:this.classes.header,slot:"header",children:[this.headerText&&Ce(qk,{level:"H1",wrappingType:"None",class:"ui5-popup-header-text ui5-responsive-popover-header-text",children:this.headerText}),!this._hideCloseButton&&Ce(rc,{icon:Gk,design:"Transparent",accessibleName:this._closeDialogAriaLabel,onClick:this._dialogCloseButtonClick})]})}),Ce("slot",{}),Ce("slot",{slot:"footer",name:"footer"})]}):zie.call(this)}})],jf),jf.define();const AH=jf;function TEe(){return Rt(xr,{children:[this.options.length>0&&Rt(AH,{class:{"ui5-select-popover":!0,...this.classes.popover},part:"popover",style:this.styles.responsivePopover,placement:"Bottom",horizontalAlign:"Start",hideArrow:!0,preventInitialFocus:!0,onOpen:this._afterOpen,onBeforeOpen:this._beforeOpen,onClose:this._afterClose,onKeyDown:this._onkeydown,children:[this._isPhone&&Rt("div",{slot:"header",class:"ui5-responsive-popover-header",children:[Rt("div",{class:"row",children:[Ce("span",{children:this._headerTitleText}),Ce(rc,{class:"ui5-responsive-popover-close-btn",icon:Gk,design:"Transparent",onClick:this._toggleRespPopover})]}),this.hasValueStateText&&Ce("div",{class:{row:!0,"ui5-select-value-state-dialog-header":!0,...this.classes.popoverValueState},children:this._isPickerOpen&&TP.call(this)})]}),!this._isPhone&&this.hasValueStateText&&Rt("div",{class:this.classes.popoverValueState,style:this.styles.responsivePopoverHeader,children:[Ce(Ur,{class:"ui5-input-value-state-message-icon",name:this._valueStateMessageInputIcon}),this._isPickerOpen&&TP.call(this)]}),Ce(Xie,{separators:"None",onMouseDown:this._itemMousedown,onItemClick:this._handleItemPress,accessibleRole:"ListBox",children:Ce("slot",{})})]}),this.shouldOpenValueStateMessagePopover&&Ce(FS,{part:"popover",class:"ui5-valuestatemessage-popover",preventInitialFocus:!0,preventFocusRestore:!0,hideArrow:!0,placement:"Bottom",horizontalAlign:"Start",children:Rt("div",{class:this.classes.popoverValueState,style:this.styles.popoverHeader,children:[Ce(Ur,{class:"ui5-input-value-state-message-icon",name:this._valueStateMessageInputIcon}),TP.call(this)]})})]})}function TP(){return Ce(xr,{children:this.shouldDisplayDefaultValueStateMessage?this.valueStateText:Ce("slot",{onClick:this._applyFocus,name:"valueStateMessage"})})}vi("slim-arrow-down",{pathData:"M420.5 187q11-12 23 0 5 5 5 11t-5 11l-165 165q-10 9-23 9t-22-9l-166-165q-5-5-5-11.5t5-11.5 11.5-5 11.5 5l160 160q5 6 11 0z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("slim-arrow-down",{pathData:"M96 186q0-11 7.5-18.5T122 160q10 0 18 8l116 121 116-121q8-8 18-8 11 0 18.5 7.5T416 186q0 10-7 17L275 344q-8 8-19 8-12 0-18-8L103 203q-7-7-7-17z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);const dH=`.input-root-phone{flex:1;position:relative;height:var(--_ui5-v2-9-0_input_height);color:var(--sapField_TextColor);font-size:var(--sapFontSize);font-family:"72override",var(--sapFontFamily);background:var(--sapField_BackgroundStyle);background-color:var(--_ui5-v2-9-0_input_background_color);border:var(--_ui5-v2-9-0-input-border);border-radius:var(--_ui5-v2-9-0_input_border_radius);box-sizing:border-box}.input-root-phone [inner-input]{padding:0 .5rem;width:100%;height:100%}.input-root-phone [inner-input]:focus{background-color:var(--sapField_Focus_Background)}.input-root-phone:focus-within:before{content:"";position:absolute;pointer-events:none;z-index:2;border:var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);border-radius:var(--_ui5-v2-9-0_input_focus_border_radius);top:var(--_ui5-v2-9-0_input_focus_offset);bottom:var(--_ui5-v2-9-0_input_focus_offset);left:var(--_ui5-v2-9-0_input_focus_offset);right:var(--_ui5-v2-9-0_input_focus_offset)}.input-root-phone [value-state=Negative] .inputIcon[data-ui5-compact-size],.input-root-phone [value-state=Positive] .inputIcon[data-ui5-compact-size],.input-root-phone [value-state=Critical] .inputIcon[data-ui5-compact-size]{padding:.1875rem .5rem}[inner-input]{background:transparent;color:inherit;border:none;font-style:normal;-webkit-appearance:none;-moz-appearance:textfield;line-height:normal;padding:var(--_ui5-v2-9-0_input_inner_padding);box-sizing:border-box;min-width:3rem;text-overflow:ellipsis;flex:1;outline:none;font-size:inherit;font-family:inherit;border-radius:var(--_ui5-v2-9-0_input_border_radius)}[inner-input]::selection,[inner-input]::-moz-selection{background:var(--sapSelectedColor);color:var(--sapContent_ContrastTextColor)}[inner-input]::-webkit-input-placeholder{font-style:italic;color:var(--sapField_PlaceholderTextColor)}[inner-input]::-moz-placeholder{font-style:italic;color:var(--sapField_PlaceholderTextColor)}.input-root-phone[value-state]:not([value-state=None]){border-width:var(--_ui5-v2-9-0_input_state_border_width)}.input-root-phone[value-state=Negative] [inner-input],.input-root-phone[value-state=Critical] [inner-input]{font-style:var(--_ui5-v2-9-0_input_error_warning_font_style)}.input-root-phone[value-state=Negative] [inner-input]{font-weight:var(--_ui5-v2-9-0_input_error_font_weight)}.input-root-phone[value-state=Negative]:not([readonly]){background:var(--sapField_InvalidBackgroundStyle);background-color:var(--sapField_InvalidBackground);border-color:var(--_ui5-v2-9-0_input_value_state_error_border_color)}.input-root-phone[value-state=Negative]:not([readonly]) [inner-input]:focus{background-color:var(--_ui5-v2-9-0_input_focused_value_state_error_background);border-color:var(--_ui5-v2-9-0_input_focused_value_state_error_border_color)}.input-root-phone[value-state=Negative]:not([readonly]):focus-within:before{border-color:var(--_ui5-v2-9-0_input_focused_value_state_error_focus_outline_color)}.input-root-phone[value-state=Negative]:not([readonly]):not([disabled]),.input-root-phone[value-state=Critical]:not([readonly]):not([disabled]),.input-root-phone[value-state=Information]:not([readonly]):not([disabled]){border-style:var(--_ui5-v2-9-0_input_error_warning_border_style)}.input-root-phone[value-state=Critical]:not([readonly]){background:var(--sapField_WarningBackgroundStyle);background-color:var(--sapField_WarningBackground);border-color:var(--_ui5-v2-9-0_input_value_state_warning_border_color)}.input-root-phone[value-state=Critical]:not([readonly]) [inner-input]:focus{background-color:var(--_ui5-v2-9-0_input_focused_value_state_warning_background);border-color:var(--_ui5-v2-9-0_input_focused_value_state_warning_border_color)}.input-root-phone[value-state=Critical]:not([readonly]):focus-within:before{border-color:var(--_ui5-v2-9-0_input_focused_value_state_warning_focus_outline_color)}.input-root-phone[value-state=Positive]:not([readonly]){background:var(--sapField_SuccessBackgroundStyle);background-color:var(--sapField_SuccessBackground);border-color:var(--_ui5-v2-9-0_input_value_state_success_border_color);border-width:var(--_ui5-v2-9-0_input_value_state_success_border_width)}.input-root-phone[value-state=Positive]:not([readonly]) [inner-input]:focus{background-color:var(--_ui5-v2-9-0_input_focused_value_state_success_background);border-color:var(--_ui5-v2-9-0_input_focused_value_state_success_border_color)}.input-root-phone[value-state=Positive]:not([readonly]):focus-within:before{border-color:var(--_ui5-v2-9-0_input_focused_value_state_success_focus_outline_color)}.input-root-phone[value-state=Information]:not([readonly]){background:var(--sapField_InformationBackgroundStyle);background-color:var(--sapField_InformationBackground);border-color:var(--_ui5-v2-9-0_input_value_state_information_border_color);border-width:var(--_ui5-v2-9-0_input_information_border_width)}.input-root-phone[value-state=Information]:not([readonly]) [inner-input]:focus{background-color:var(--_ui5-v2-9-0_input_focused_value_state_information_background);border-color:var(--_ui5-v2-9-0_input_focused_value_state_information_border_color)}.ui5-multi-combobox-toggle-button{margin-left:.5rem}.ui5-responsive-popover-header{width:100%;min-height:2.5rem;display:flex;flex-direction:column}.ui5-responsive-popover-header-text{width:calc(100% - var(--_ui5-v2-9-0_button_base_min_width))}.ui5-responsive-popover-header .row{box-sizing:border-box;padding:.25rem 1rem;min-height:2.5rem;display:flex;justify-content:center;align-items:center;font-size:var(--sapFontHeader5Size)}.ui5-responsive-popover-footer{display:flex;justify-content:flex-end;padding:.25rem 0;width:100%}.ui5-responsive-popover-close-btn{position:absolute;right:1rem}
`;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);const Zie=`.ui5-valuestatemessage-popover{border-radius:var(--_ui5-v2-9-0_value_state_message_popover_border_radius);box-shadow:var(--_ui5-v2-9-0_value_state_message_popover_box_shadow)}.ui5-input-value-state-message-icon{width:var(--_ui5-v2-9-0_value_state_message_icon_width);height:var(--_ui5-v2-9-0_value_state_message_icon_height);display:var(--_ui5-v2-9-0_input_value_state_icon_display);position:absolute;padding-right:.375rem}.ui5-valuestatemessage-root .ui5-input-value-state-message-icon{left:var(--_ui5-v2-9-0_input_value_state_icon_offset)}.ui5-input-value-state-message-icon[name=error]{color:var(--sapNegativeElementColor)}.ui5-input-value-state-message-icon[name=alert]{color:var(--sapCriticalElementColor)}.ui5-input-value-state-message-icon[name=success]{color:var(--sapPositiveElementColor)}.ui5-input-value-state-message-icon[name=information]{color:var(--sapInformativeElementColor)}.ui5-valuestatemessage-root{box-sizing:border-box;display:inline-block;color:var(--sapTextColor);font-size:var(--sapFontSmallSize);font-family:"72override",var(--sapFontFamily);height:auto;padding:var(--_ui5-v2-9-0_value_state_message_padding);overflow:hidden;text-overflow:ellipsis;min-width:6.25rem;border:var(--_ui5-v2-9-0_value_state_message_border);line-height:var(--_ui5-v2-9-0_value_state_message_line_height)}[ui5-responsive-popover] .ui5-valuestatemessage-header,[ui5-popover] .ui5-valuestatemessage-header{min-height:2rem}[ui5-responsive-popover] .ui5-valuestatemessage-header{padding:var(--_ui5-v2-9-0_value_state_header_padding);border:var(--_ui5-v2-9-0_value_state_header_border);border-bottom:var(--_ui5-v2-9-0_value_state_header_border_bottom);flex-grow:1;position:relative}.ui5-valuestatemessage--success{background:var(--sapSuccessBackground)}.ui5-valuestatemessage--warning{background:var(--sapWarningBackground)}.ui5-valuestatemessage--error{background:var(--sapErrorBackground)}.ui5-valuestatemessage--information{background:var(--sapInformationBackground)}.ui5-responsive-popover-header.ui5-responsive-popover-header--focused,.ui5-responsive-popover-header:focus{outline-offset:var(--_ui5-v2-9-0_value_state_header_offset);outline:var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor)}.ui5-valuestatemessage-popover::part(header),.ui5-valuestatemessage-popover::part(content){padding:0}.ui5-valuestatemessage-popover::part(header),.ui5-valuestatemessage-popover::part(footer){min-height:0}.ui5-valuestatemessage-popover::part(header),.ui5-popover-with-value-state-header::part(header),.ui5-popover-with-value-state-header-phone::part(header){margin-bottom:0}.ui5-popover-with-value-state-header-phone .ui5-valuestatemessage-root{padding:var(--_ui5-v2-9-0_value_state_message_padding_phone);width:100%}.ui5-popover-with-value-state-header-phone .ui5-input-value-state-message-icon{left:var(--_ui5-v2-9-0_value_state_message_icon_offset_phone)}.ui5-popover-with-value-state-header-phone .ui5-valuestatemessage-header{position:relative;flex:none;top:0;left:0}.ui5-popover-with-value-state-header-phone::part(content){padding:0;overflow:hidden;display:flex;flex-direction:column}.ui5-popover-with-value-state-header-phone [ui5-list]{overflow:auto}[ui5-responsive-popover] .ui5-valuestatemessage--error{box-shadow:var(--_ui5-v2-9-0_value_state_header_box_shadow_error)}[ui5-responsive-popover] .ui5-valuestatemessage--information{box-shadow:var(--_ui5-v2-9-0_value_state_header_box_shadow_information)}[ui5-responsive-popover] .ui5-valuestatemessage--success{box-shadow:var(--_ui5-v2-9-0_value_state_header_box_shadow_success)}[ui5-responsive-popover] .ui5-valuestatemessage--warning{box-shadow:var(--_ui5-v2-9-0_value_state_header_box_shadow_warning)}[ui5-responsive-popover].ui5-popover-with-value-state-header .ui5-valuestatemessage-root:has(+[ui5-list]:empty){box-shadow:none}
`;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var Xl,Yo=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let po=Xl=class extends Xr{constructor(){super(...arguments),this.disabled=!1,this.valueState="None",this.required=!1,this.readonly=!1,this._iconPressed=!1,this.opened=!1,this._listWidth=0,this.focused=!1,this._selectedIndexBeforeOpen=-1,this._escapePressed=!1,this._lastSelectedOption=null,this._typedChars=""}get formValidityMessage(){return Xl.i18nBundle.getText(GSe)}get formValidity(){var i;return{valueMissing:this.required&&((i=this.selectedOption)==null?void 0:i.getAttribute("value"))===""}}async formElementAnchor(){return this.getFocusDomRefAsync()}get formFormattedValue(){if(this._valueStorage!==void 0)return this._valueStorage;const i=this.selectedOption;return i?"value"in i&&i.value?i.value:i.hasAttribute("value")?i.getAttribute("value"):i.textContent:""}onBeforeRendering(){this._applySelection(),this.style.setProperty(Tw("--_ui5-input-icons-count"),`${this.iconsCount}`)}onAfterRendering(){this.toggleValueStatePopover(this.shouldOpenValueStateMessagePopover),this._isPickerOpen&&(this._listWidth||(this._listWidth=this.responsivePopover.offsetWidth))}_applySelection(){this._valueStorage!==void 0?this._applySelectionByValue(this._valueStorage):this._applyAutoSelection()}_applySelectionByValue(i){var e,t;i!==(((e=this.selectedOption)==null?void 0:e.value)||((t=this.selectedOption)==null?void 0:t.textContent))&&Array.from(this.children).forEach(n=>{n.selected=(n.getAttribute("value")||n.textContent)===i})}_applyAutoSelection(){let i=this.options.findLastIndex(e=>e.selected);i=i===-1?0:i;for(let e=0;e<this.options.length&&(this.options[e].selected=i===e,i!==e);e++);}_setValueByOption(i){this.value=i.value||i.textContent||""}_applyFocus(){this.focus()}_onfocusin(){this.focused=!0}_onfocusout(){this.focused=!1}get _isPickerOpen(){return!!this.responsivePopover&&this.responsivePopover.open}_respPopover(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}set value(i){this._valueStorage=i}get value(){var i,e;return this._valueStorage!==void 0?this._valueStorage:((i=this.selectedOption)==null?void 0:i.value)||((e=this.selectedOption)==null?void 0:e.textContent)||""}get _selectedIndex(){return this.options.findIndex(i=>i.selected)}get selectedOption(){return this.options.find(i=>i.selected)}get text(){var i;return(i=this.selectedOption)==null?void 0:i.effectiveDisplayText}_toggleRespPopover(){this.disabled||this.readonly||(this._iconPressed=!0,this.responsivePopover=this._respPopover(),this._isPickerOpen?this.responsivePopover.open=!1:(this.responsivePopover.opener=this,this.responsivePopover.open=!0))}_onkeydown(i){var e;(kg(i)||Lk(i))&&this._isPickerOpen?this.responsivePopover.open=!1:((e=i).key?(t=>t.key==="F4"&&!ss(t))(e)||(t=>(t.key==="ArrowDown"||t.key==="Down"||t.key==="ArrowUp"||t.key==="Up")&&ra(t,!1,!0,!1))(e):e.keyCode===115&&!ss(e)||e.keyCode===40&&ra(e,!1,!0,!1))?(i.preventDefault(),this._toggleRespPopover()):wr(i)?i.preventDefault():Rg(i)&&this._isPickerOpen?this._escapePressed=!0:nw(i)?this._handleHomeKey(i):rw(i)?this._handleEndKey(i):Dr(i)?this._handleSelectionChange():(za(i)||Bl(i))&&this._handleArrowNavigation(i)}_handleKeyboardNavigation(i){if(Dr(i)||this.readonly)return;const e=i.key.toLowerCase();this._typedChars+=e;const t=/^(.)\1+$/i.test(this._typedChars)?e:this._typedChars;clearTimeout(this._typingTimeoutID),this._typingTimeoutID=setTimeout(()=>{this._typedChars="",this._typingTimeoutID=-1},1e3),this._selectTypedItem(t)}_selectTypedItem(i){const e=this._selectedIndex,t=this._searchNextItemByText(i);if(t){const n=this.options.indexOf(t);this._changeSelectedItem(this._selectedIndex,n),e!==this._selectedIndex&&(this.itemSelectionAnnounce(),this._scrollSelectedItem())}}_searchNextItemByText(i){let e=this.options.slice(0);const t=e.splice(this._selectedIndex+1,e.length-this._selectedIndex),n=e.splice(0,e.length-1);return e=t.concat(n),e.find(r=>r.effectiveDisplayText.toLowerCase().startsWith(i))}_handleHomeKey(i){i.preventDefault(),this.readonly||this._changeSelectedItem(this._selectedIndex,0)}_handleEndKey(i){if(i.preventDefault(),this.readonly)return;const e=this.options.length-1;this._changeSelectedItem(this._selectedIndex,e)}_onkeyup(i){wr(i)&&(this._isPickerOpen?this._handleSelectionChange():this._toggleRespPopover())}_getItemIndex(i){return this.options.indexOf(i)}_select(i){const e=this._selectedIndex;if(i<0||i>=this.options.length||this.options.length===0)return;this.options[e]&&(this.options[e].selected=!1);const t=this.options[i];e!==i&&this.fireDecoratorEvent("live-change",{selectedOption:t}),t.selected=!0,this._valueStorage!==void 0&&this._setValueByOption(t)}_handleItemPress(i){const e=i.detail.item,t=this._getItemIndex(e);this._handleSelectionChange(t)}_itemMousedown(i){i.preventDefault()}_onclick(){this.getFocusDomRef().focus(),this._toggleRespPopover()}_handleSelectionChange(i=this._selectedIndex){this._typedChars="",this._select(i),this._toggleRespPopover()}_scrollSelectedItem(){var i;if(this._isPickerOpen){const e=(i=this._currentlySelectedOption)==null?void 0:i.getDomRef();e&&e.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}}_handleArrowNavigation(i){if(i.preventDefault(),this.readonly)return;let e=-1;const t=this._selectedIndex;e=Bl(i)?this._getNextOptionIndex():this._getPreviousOptionIndex(),this._changeSelectedItem(this._selectedIndex,e),t!==this._selectedIndex&&(this.itemSelectionAnnounce(),this._scrollSelectedItem())}_changeSelectedItem(i,e){const t=this.options,n=t[i],r=t[e];n!==r&&(n.selected=!1,n.focused=!1,r.selected=!0,r.focused=!0,this._valueStorage!==void 0&&this._setValueByOption(r),this.fireDecoratorEvent("live-change",{selectedOption:r}),this._isPickerOpen||this._fireChangeEvent(r))}_getNextOptionIndex(){return this._selectedIndex===this.options.length-1?this._selectedIndex:this._selectedIndex+1}_getPreviousOptionIndex(){return this._selectedIndex===0?this._selectedIndex:this._selectedIndex-1}_beforeOpen(){this._selectedIndexBeforeOpen=this._selectedIndex,this._lastSelectedOption=this.options[this._selectedIndex]}_afterOpen(){this.opened=!0,this.fireDecoratorEvent("open"),this.itemSelectionAnnounce(),this._scrollSelectedItem(),this._applyFocusToSelectedItem()}_applyFocusToSelectedItem(){this.options.forEach(i=>{i.focused=i.selected})}_afterClose(){this.opened=!1,this._iconPressed=!1,this._listWidth=0,this._escapePressed?(this._select(this._selectedIndexBeforeOpen),this._escapePressed=!1):this._lastSelectedOption!==this.options[this._selectedIndex]&&(this._fireChangeEvent(this.options[this._selectedIndex]),this._lastSelectedOption=this.options[this._selectedIndex]),this.fireDecoratorEvent("close")}get hasCustomLabel(){return!!this.label.length}_fireChangeEvent(i){const e=!this.fireDecoratorEvent("change",{selectedOption:i});this.fireDecoratorEvent("selected-item-changed"),this.fireDecoratorEvent("input"),e&&this._select(this._selectedIndexBeforeOpen)}get valueStateTextMappings(){return{[di.Positive]:Xl.i18nBundle.getText(zk),[di.Information]:Xl.i18nBundle.getText(rH),[di.Negative]:Xl.i18nBundle.getText(Nk),[di.Critical]:Xl.i18nBundle.getText(Hk)}}get valueStateTypeMappings(){return{[di.Positive]:Xl.i18nBundle.getText(wie),[di.Information]:Xl.i18nBundle.getText(xie),[di.Negative]:Xl.i18nBundle.getText(bie),[di.Critical]:Xl.i18nBundle.getText(yie)}}get valueStateText(){let i;return i=this.shouldDisplayDefaultValueStateMessage?this.valueStateDefaultText:this.valueStateMessage.map(e=>e.textContent).join(" "),`${this.valueStateTypeText} ${i}`}get valueStateDefaultText(){return this.valueState!==di.None?this.valueStateTextMappings[this.valueState]:""}get valueStateTypeText(){return this.valueState!==di.None?this.valueStateTypeMappings[this.valueState]:""}get hasValueState(){return this.valueState!==di.None}get valueStateTextId(){return this.hasValueState?`${this._id}-valueStateDesc`:void 0}get isDisabled(){return this.disabled||void 0}get _headerTitleText(){return Xl.i18nBundle.getText(vie)}get _currentlySelectedOption(){return this.options[this._selectedIndex]}get _effectiveTabIndex(){return this.disabled||this.responsivePopover&&this.responsivePopover.open?-1:0}get _valueStateMessageInputIcon(){return this.valueState!==di.None?{Negative:"error",Critical:"alert",Positive:"sys-enter-2",Information:"information"}[this.valueState]:""}get iconsCount(){return this.selectedOptionIcon?2:1}get classes(){return{popoverValueState:{"ui5-valuestatemessage-root":!0,"ui5-valuestatemessage--success":this.valueState===di.Positive,"ui5-valuestatemessage--error":this.valueState===di.Negative,"ui5-valuestatemessage--warning":this.valueState===di.Critical,"ui5-valuestatemessage--information":this.valueState===di.Information},popover:{"ui5-select-popover-valuestate":this.hasValueState}}}get styles(){return{popoverHeader:{"max-width":`${this.offsetWidth}px`},responsivePopoverHeader:{display:this.options.length&&this._listWidth===0?"none":"inline-block",width:`${this.options.length?this._listWidth:this.offsetWidth}px`},responsivePopover:{"min-width":`${this.offsetWidth}px`}}}get ariaLabelText(){return Hg(this)}get shouldDisplayDefaultValueStateMessage(){return!this.valueStateMessage.length&&this.hasValueStateText}get hasValueStateText(){return this.hasValueState&&this.valueState!==di.Positive}get shouldOpenValueStateMessagePopover(){return this.focused&&this.hasValueStateText&&!this._iconPressed&&!this._isPickerOpen&&!this._isPhone}get _ariaRoleDescription(){return Xl.i18nBundle.getText(lSe)}get _isPhone(){return jr()}itemSelectionAnnounce(){let i;const e=this.options.length,t=Xl.i18nBundle.getText(fSe,this._selectedIndex+1,e);this.focused&&this._currentlySelectedOption&&(i=`${this._currentlySelectedOption.textContent} ${this._isPickerOpen?t:""}`,(n=>{const r=zf;r.textContent="",r.textContent=n,setTimeout(()=>{r.textContent===n&&(r.textContent="")},3e3)})(i))}openValueStatePopover(){this.valueStatePopover=this._getPopover(),this.valueStatePopover&&(this.valueStatePopover.opener=this,this.valueStatePopover.open=!0)}closeValueStatePopover(){this.valueStatePopover&&(this.valueStatePopover.open=!1)}toggleValueStatePopover(i){i?this.openValueStatePopover():this.closeValueStatePopover()}get selectedOptionIcon(){return this.selectedOption&&this.selectedOption.icon}_getPopover(){return this.shadowRoot.querySelector("[ui5-popover]")}};function IEe(i,e){const t=(i==null?void 0:i.listItemContent)||MEe;return Ce("li",{part:"native-li","data-sap-focus-ref":!0,tabindex:this._effectiveTabIndex,class:this.classes.main,draggable:this.movable,role:e==null?void 0:e.role,title:e==null?void 0:e.title,onFocusIn:this._onfocusin,onKeyUp:this._onkeyup,onKeyDown:this._onkeydown,onClick:this._onclick,children:t.call(this)})}function MEe(){return Ce("div",{part:"content",id:`${this._id}-content`,class:"ui5-li-content",children:Ce("div",{class:"ui5-li-text-wrapper",children:Ce("span",{part:"title",class:"ui5-li-title",children:Ce("slot",{})})})})}function REe(){return Rt("div",{part:"content",id:`${this._id}-content`,class:"ui5-li-content",children:[this.displayIconBegin&&Ce(Ur,{part:"icon",name:this.icon,class:"ui5-li-icon",mode:"Decorative"}),Rt("div",{class:"ui5-li-text-wrapper",children:[Ce("span",{part:"title",class:"ui5-li-title",children:Ce("slot",{})}),this.additionalText&&Ce("span",{part:"additional-text",class:"ui5-li-additional-text",children:this.additionalText})]})]})}Yo([me({type:Boolean})],po.prototype,"disabled",void 0),Yo([me()],po.prototype,"icon",void 0),Yo([me()],po.prototype,"name",void 0),Yo([me()],po.prototype,"valueState",void 0),Yo([me({type:Boolean})],po.prototype,"required",void 0),Yo([me({type:Boolean})],po.prototype,"readonly",void 0),Yo([me()],po.prototype,"accessibleName",void 0),Yo([me()],po.prototype,"accessibleNameRef",void 0),Yo([me()],po.prototype,"tooltip",void 0),Yo([me({type:Boolean,noAttribute:!0})],po.prototype,"_iconPressed",void 0),Yo([me({type:Boolean})],po.prototype,"opened",void 0),Yo([me({type:Number,noAttribute:!0})],po.prototype,"_listWidth",void 0),Yo([me({type:Boolean})],po.prototype,"focused",void 0),Yo([Jn({default:!0,type:HTMLElement,invalidateOnChildChange:!0})],po.prototype,"options",void 0),Yo([Jn()],po.prototype,"valueStateMessage",void 0),Yo([Jn()],po.prototype,"label",void 0),Yo([me()],po.prototype,"value",null),Yo([wo("@ui5/webcomponents")],po,"i18nBundle",void 0),po=Xl=Yo([wn({tag:"ui5-select",languageAware:!0,formAssociated:!0,renderer:Br,template:function(){return Rt(xr,{children:[Rt("div",{class:{"ui5-select-root":!0,"ui5-input-focusable-element":!0},id:`${this._id}-select`,onClick:this._onclick,title:this.tooltip,children:[!this.icon&&this.selectedOptionIcon&&Ce(Ur,{mode:"Decorative",class:"ui5-select-option-icon",name:this.selectedOptionIcon}),Ce("div",{class:"ui5-select-label-root","data-sap-focus-ref":!0,tabindex:this._effectiveTabIndex,role:"combobox","aria-haspopup":"listbox","aria-label":this.ariaLabelText,"aria-describedby":this.valueStateTextId,"aria-disabled":this.isDisabled,"aria-required":this.required,"aria-readonly":this.readonly,"aria-expanded":this._isPickerOpen,"aria-roledescription":this._ariaRoleDescription,onKeyDown:this._onkeydown,onKeyPress:this._handleKeyboardNavigation,onKeyUp:this._onkeyup,onFocusIn:this._onfocusin,onFocusOut:this._onfocusout,children:this.hasCustomLabel?Ce("slot",{name:"label"}):this.text}),this.icon&&Ce(Ur,{name:this.icon,class:{inputIcon:!0,"inputIcon--pressed":this._iconPressed}}),!this.icon&&!this.readonly&&Ce(Ur,{part:"icon",name:"slim-arrow-down",class:{inputIcon:!0,"inputIcon--pressed":this._iconPressed}}),this.hasValueState&&Ce("span",{id:`${this._id}-valueStateDesc`,class:"ui5-hidden-text",children:this.valueStateText})]}),TEe.call(this)]})},styles:[`:host{vertical-align:middle}.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}.inputIcon{color:var(--_ui5-v2-9-0_input_icon_color);cursor:pointer;outline:none;padding:var(--_ui5-v2-9-0_input_icon_padding);border-inline-start:var(--_ui5-v2-9-0_input_icon_border);min-width:1rem;min-height:1rem;border-radius:var(--_ui5-v2-9-0_input_icon_border_radius)}.inputIcon.inputIcon--pressed{background:var(--_ui5-v2-9-0_input_icon_pressed_bg);box-shadow:var(--_ui5-v2-9-0_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-9-0_select_hover_icon_left_border);color:var(--_ui5-v2-9-0_input_icon_pressed_color)}.inputIcon:active{background-color:var(--sapButton_Active_Background);box-shadow:var(--_ui5-v2-9-0_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-9-0_select_hover_icon_left_border);color:var(--_ui5-v2-9-0_input_icon_pressed_color)}.inputIcon:not(.inputIcon--pressed):not(:active):hover{background:var(--_ui5-v2-9-0_input_icon_hover_bg);box-shadow:var(--_ui5-v2-9-0_input_icon_box_shadow)}.inputIcon:hover{border-inline-start:var(--_ui5-v2-9-0_select_hover_icon_left_border);box-shadow:var(--_ui5-v2-9-0_input_icon_box_shadow)}:host(:not([hidden])){display:inline-block}:host{width:var(--_ui5-v2-9-0_input_width);min-width:calc(var(--_ui5-v2-9-0_input_min_width) + (var(--_ui5-v2-9-0-input-icons-count)*var(--_ui5-v2-9-0_input_icon_width)));margin:var(--_ui5-v2-9-0_input_margin_top_bottom) 0;height:var(--_ui5-v2-9-0_input_height);color:var(--sapField_TextColor);font-size:var(--sapFontSize);font-family:"72override",var(--sapFontFamily);font-style:normal;border:var(--_ui5-v2-9-0-input-border);border-radius:var(--_ui5-v2-9-0_input_border_radius);box-sizing:border-box;text-align:start;transition:var(--_ui5-v2-9-0_input_transition);background:var(--sapField_BackgroundStyle);background-color:var(--_ui5-v2-9-0_input_background_color)}:host(:not([readonly])),:host([readonly][disabled]){box-shadow:var(--sapField_Shadow)}:host([focused]:not([opened])){border-color:var(--_ui5-v2-9-0_input_focused_border_color);background-color:var(--sapField_Focus_Background)}.ui5-input-focusable-element{position:relative}:host([focused]:not([opened])) .ui5-input-focusable-element:after{content:var(--ui5-v2-9-0_input_focus_pseudo_element_content);position:absolute;pointer-events:none;z-index:2;border:var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--_ui5-v2-9-0_input_focus_outline_color);border-radius:var(--_ui5-v2-9-0_input_focus_border_radius);top:var(--_ui5-v2-9-0_input_focus_offset);bottom:var(--_ui5-v2-9-0_input_focus_offset);left:var(--_ui5-v2-9-0_input_focus_offset);right:var(--_ui5-v2-9-0_input_focus_offset)}:host([focused][readonly]:not([opened])) .ui5-input-focusable-element:after{top:var(--_ui5-v2-9-0_input_readonly_focus_offset);bottom:var(--_ui5-v2-9-0_input_readonly_focus_offset);left:var(--_ui5-v2-9-0_input_readonly_focus_offset);right:var(--_ui5-v2-9-0_input_readonly_focus_offset);border-radius:var(--_ui5-v2-9-0_input_readonly_focus_border_radius)}.ui5-input-root:before{content:"";position:absolute;width:calc(100% - 2px);left:1px;bottom:-2px;border-bottom-left-radius:8px;border-bottom-right-radius:8px;height:var(--_ui5-v2-9-0_input_bottom_border_height);transition:var(--_ui5-v2-9-0_input_transition);background-color:var(--_ui5-v2-9-0_input_bottom_border_color)}.ui5-input-root{width:100%;height:100%;position:relative;background:transparent;display:inline-block;outline:none;box-sizing:border-box;color:inherit;transition:border-color .2s ease-in-out;border-radius:var(--_ui5-v2-9-0_input_border_radius);overflow:hidden}:host([disabled]){opacity:var(--_ui5-v2-9-0_input_disabled_opacity);cursor:default;pointer-events:none;background-color:var(--_ui5-v2-9-0-input_disabled_background);border-color:var(--_ui5-v2-9-0_input_disabled_border_color)}:host([disabled]) .ui5-input-root:before,:host([readonly]) .ui5-input-root:before{content:none}[inner-input]{background:transparent;color:inherit;border:none;font-style:inherit;-webkit-appearance:none;-moz-appearance:textfield;padding:var(--_ui5-v2-9-0_input_inner_padding);box-sizing:border-box;width:100%;text-overflow:ellipsis;flex:1;outline:none;font-size:inherit;font-family:inherit;line-height:inherit;letter-spacing:inherit;word-spacing:inherit;text-align:inherit}[inner-input][inner-input-with-icon]{padding:var(--_ui5-v2-9-0_input_inner_padding_with_icon)}[inner-input][type=search]::-webkit-search-decoration,[inner-input][type=search]::-webkit-search-cancel-button,[inner-input][type=search]::-webkit-search-results-button,[inner-input][type=search]::-webkit-search-results-decoration{display:none}[inner-input]::-ms-reveal,[inner-input]::-ms-clear{display:none}.ui5-input-value-state-icon{height:100%;display:var(--_ui5-v2-9-0-input-value-state-icon-display);align-items:center}.ui5-input-value-state-icon>svg{margin-right:8px}[inner-input]::selection{background:var(--sapSelectedColor);color:var(--sapContent_ContrastTextColor)}:host([disabled]) [inner-input]::-webkit-input-placeholder{visibility:hidden}:host([readonly]) [inner-input]::-webkit-input-placeholder{visibility:hidden}:host([disabled]) [inner-input]::-moz-placeholder{visibility:hidden}:host([readonly]) [inner-input]::-moz-placeholder{visibility:hidden}[inner-input]::-webkit-input-placeholder{font-weight:400;font-style:var(--_ui5-v2-9-0_input_placeholder_style);color:var(--_ui5-v2-9-0_input_placeholder_color);padding-right:.125rem}[inner-input]::-moz-placeholder{font-weight:400;font-style:var(--_ui5-v2-9-0_input_placeholder_style);color:var(--_ui5-v2-9-0_input_placeholder_color);padding-right:.125rem}:host([value-state="Negative"]) [inner-input]::-webkit-input-placeholder{color:var(--_ui5-v2-9-0-input_error_placeholder_color);font-weight:var(--_ui5-v2-9-0_input_value_state_error_warning_placeholder_font_weight)}:host([value-state="Negative"]) [inner-input]::-moz-placeholder{color:var(--_ui5-v2-9-0-input_error_placeholder_color);font-weight:var(--_ui5-v2-9-0_input_value_state_error_warning_placeholder_font_weight)}:host([value-state="Critical"]) [inner-input]::-webkit-input-placeholder{font-weight:var(--_ui5-v2-9-0_input_value_state_error_warning_placeholder_font_weight)}:host([value-state="Critical"]) [inner-input]::-moz-placeholder{font-weight:var(--_ui5-v2-9-0_input_value_state_error_warning_placeholder_font_weight)}:host([value-state="Positive"]) [inner-input]::-webkit-input-placeholder{color:var(--_ui5-v2-9-0_input_placeholder_color)}:host([value-state="Positive"]) [inner-input]::-moz-placeholder{color:var(--_ui5-v2-9-0_input_placeholder_color)}:host([value-state="Information"]) [inner-input]::-webkit-input-placeholder{color:var(--_ui5-v2-9-0_input_placeholder_color)}:host([value-state="Information"]) [inner-input]::-moz-placeholder{color:var(--_ui5-v2-9-0_input_placeholder_color)}.ui5-input-content{height:100%;box-sizing:border-box;display:flex;flex-direction:row;justify-content:flex-end;overflow:hidden;outline:none;background:transparent;color:inherit;border-radius:var(--_ui5-v2-9-0_input_border_radius)}:host([readonly]:not([disabled])){border:var(--_ui5-v2-9-0_input_readonly_border);background:var(--sapField_ReadOnly_BackgroundStyle);background-color:var(--_ui5-v2-9-0_input_readonly_background)}:host([value-state="None"]:not([readonly]):hover),:host(:not([value-state]):not([readonly]):hover){border:var(--_ui5-v2-9-0_input_hover_border);border-color:var(--_ui5-v2-9-0_input_focused_border_color);box-shadow:var(--sapField_Hover_Shadow);background:var(--sapField_Hover_BackgroundStyle);background-color:var(--sapField_Hover_Background)}:host(:not([value-state]):not([readonly])[focused]:not([opened]):hover),:host([value-state="None"]:not([readonly])[focused]:not([opened]):hover){box-shadow:none}:host([focused]):not([opened]) .ui5-input-root:before{content:none}:host(:not([readonly]):not([disabled])[value-state]:not([value-state="None"])){border-width:var(--_ui5-v2-9-0_input_state_border_width)}:host([value-state="Negative"]) [inner-input],:host([value-state="Critical"]) [inner-input]{font-style:var(--_ui5-v2-9-0_input_error_warning_font_style);text-indent:var(--_ui5-v2-9-0_input_error_warning_text_indent)}:host([value-state="Negative"]) [inner-input]{font-weight:var(--_ui5-v2-9-0_input_error_font_weight)}:host([value-state="Critical"]) [inner-input]{font-weight:var(--_ui5-v2-9-0_input_warning_font_weight)}:host([value-state="Negative"]:not([readonly]):not([disabled])){background:var(--sapField_InvalidBackgroundStyle);background-color:var(--sapField_InvalidBackground);border-color:var(--_ui5-v2-9-0_input_value_state_error_border_color);box-shadow:var(--sapField_InvalidShadow)}:host([value-state="Negative"][focused]:not([opened]):not([readonly])){background-color:var(--_ui5-v2-9-0_input_focused_value_state_error_background);border-color:var(--_ui5-v2-9-0_input_focused_value_state_error_border_color)}:host([value-state="Negative"][focused]:not([opened]):not([readonly])) .ui5-input-focusable-element:after{border-color:var(--_ui5-v2-9-0_input_focused_value_state_error_focus_outline_color)}:host([value-state="Negative"]:not([readonly])) .ui5-input-root:before{background-color:var(--_ui5-v2-9-0-input-value-state-error-border-botom-color)}:host([value-state="Negative"]:not([readonly]):not([focused]):hover),:host([value-state="Negative"]:not([readonly])[focused][opened]:hover){background-color:var(--_ui5-v2-9-0_input_value_state_error_hover_background);box-shadow:var(--sapField_Hover_InvalidShadow)}:host([value-state="Negative"]:not([readonly]):not([disabled])),:host([value-state="Critical"]:not([readonly]):not([disabled])),:host([value-state="Information"]:not([readonly]):not([disabled])){border-style:var(--_ui5-v2-9-0_input_error_warning_border_style)}:host([value-state="Critical"]:not([readonly]):not([disabled])){background:var(--sapField_WarningBackgroundStyle);background-color:var(--sapField_WarningBackground);border-color:var(--_ui5-v2-9-0_input_value_state_warning_border_color);box-shadow:var(--sapField_WarningShadow)}:host([value-state="Critical"][focused]:not([opened]):not([readonly])){background-color:var(--_ui5-v2-9-0_input_focused_value_state_warning_background);border-color:var(--_ui5-v2-9-0_input_focused_value_state_warning_border_color)}:host([value-state="Critical"][focused]:not([opened]):not([readonly])) .ui5-input-focusable-element:after{border-color:var(--_ui5-v2-9-0_input_focused_value_state_warning_focus_outline_color)}:host([value-state="Critical"]:not([readonly])) .ui5-input-root:before{background-color:var(--_ui5-v2-9-0_input_value_state_warning_border_botom_color)}:host([value-state="Critical"]:not([readonly]):not([focused]):hover),:host([value-state="Critical"]:not([readonly])[focused][opened]:hover){background-color:var(--sapField_Hover_Background);box-shadow:var(--sapField_Hover_WarningShadow)}:host([value-state="Positive"]:not([readonly]):not([disabled])){background:var(--sapField_SuccessBackgroundStyle);background-color:var(--sapField_SuccessBackground);border-color:var(--_ui5-v2-9-0_input_value_state_success_border_color);border-width:var(--_ui5-v2-9-0_input_value_state_success_border_width);box-shadow:var(--sapField_SuccessShadow)}:host([value-state="Positive"][focused]:not([opened]):not([readonly])){background-color:var(--_ui5-v2-9-0_input_focused_value_state_success_background);border-color:var(--_ui5-v2-9-0_input_focused_value_state_success_border_color)}:host([value-state="Positive"][focused]:not([opened]):not([readonly])) .ui5-input-focusable-element:after{border-color:var(--_ui5-v2-9-0_input_focused_value_state_success_focus_outline_color)}:host([value-state="Positive"]:not([readonly])) .ui5-input-root:before{background-color:var(--_ui5-v2-9-0_input_value_state_success_border_botom_color)}:host([value-state="Positive"]:not([readonly]):not([focused]):hover),:host([value-state="Positive"]:not([readonly])[focused][opened]:hover){background-color:var(--sapField_Hover_Background);box-shadow:var(--sapField_Hover_SuccessShadow)}:host([value-state="Information"]:not([readonly]):not([disabled])){background:var(--sapField_InformationBackgroundStyle);background-color:var(--sapField_InformationBackground);border-color:var(--_ui5-v2-9-0_input_value_state_information_border_color);border-width:var(--_ui5-v2-9-0_input_information_border_width);box-shadow:var(--sapField_InformationShadow)}:host([value-state="Information"][focused]:not([opened]):not([readonly])){background-color:var(--_ui5-v2-9-0_input_focused_value_state_information_background);border-color:var(--_ui5-v2-9-0_input_focused_value_state_information_border_color)}:host([value-state="Information"]:not([readonly])) .ui5-input-root:before{background-color:var(--_ui5-v2-9-0_input_value_success_information_border_botom_color)}:host([value-state="Information"]:not([readonly]):not([focused]):hover),:host([value-state="Information"]:not([readonly])[focused][opened]:hover){background-color:var(--sapField_Hover_Background);box-shadow:var(--sapField_Hover_InformationShadow)}.ui5-input-icon-root{min-width:var(--_ui5-v2-9-0_input_icon_min_width);height:100%;display:flex;justify-content:center;align-items:center}::slotted([ui5-icon][slot="icon"]){align-self:start;padding:var(--_ui5-v2-9-0_input_custom_icon_padding);box-sizing:content-box!important}:host([value-state="Negative"]) .inputIcon,:host([value-state="Critical"]) .inputIcon{padding:var(--_ui5-v2-9-0_input_error_warning_icon_padding)}:host([value-state="Negative"][focused]) .inputIcon,:host([value-state="Critical"][focused]) .inputIcon{padding:var(--_ui5-v2-9-0_input_error_warning_focused_icon_padding)}:host([value-state="Information"]) .inputIcon{padding:var(--_ui5-v2-9-0_input_information_icon_padding)}:host([value-state="Information"][focused]) .inputIcon{padding:var(--_ui5-v2-9-0_input_information_focused_icon_padding)}:host([value-state="Negative"]) ::slotted(.inputIcon[ui5-icon]),:host([value-state="Negative"]) ::slotted([ui5-icon][slot="icon"]),:host([value-state="Critical"]) ::slotted([ui5-icon][slot="icon"]){padding:var(--_ui5-v2-9-0_input_error_warning_custom_icon_padding)}:host([value-state="Negative"][focused]) ::slotted(.inputIcon[ui5-icon]),:host([value-state="Negative"][focused]) ::slotted([ui5-icon][slot="icon"]),:host([value-state="Critical"][focused]) ::slotted([ui5-icon][slot="icon"]){padding:var(--_ui5-v2-9-0_input_error_warning_custom_focused_icon_padding)}:host([value-state="Information"]) ::slotted([ui5-icon][slot="icon"]){padding:var(--_ui5-v2-9-0_input_information_custom_icon_padding)}:host([value-state="Information"][focused]) ::slotted([ui5-icon][slot="icon"]){padding:var(--_ui5-v2-9-0_input_information_custom_focused_icon_padding)}:host([value-state="Negative"]) .inputIcon:active,:host([value-state="Negative"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-9-0_input_error_icon_box_shadow);color:var(--_ui5-v2-9-0_input_icon_error_pressed_color)}:host([value-state="Negative"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-9-0_input_error_icon_box_shadow)}:host([value-state="Critical"]) .inputIcon:active,:host([value-state="Critical"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-9-0_input_warning_icon_box_shadow);color:var(--_ui5-v2-9-0_input_icon_warning_pressed_color)}:host([value-state="Critical"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-9-0_input_warning_icon_box_shadow)}:host([value-state="Information"]) .inputIcon:active,:host([value-state="Information"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-9-0_input_information_icon_box_shadow);color:var(--_ui5-v2-9-0_input_icon_information_pressed_color)}:host([value-state="Information"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-9-0_input_information_icon_box_shadow)}:host([value-state="Positive"]) .inputIcon:active,:host([value-state="Positive"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-9-0_input_success_icon_box_shadow);color:var(--_ui5-v2-9-0_input_icon_success_pressed_color)}:host([value-state="Positive"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-9-0_input_success_icon_box_shadow)}.ui5-input-clear-icon-wrapper{height:var(--_ui5-v2-9-0_input_icon_wrapper_height);padding:0;width:var(--_ui5-v2-9-0_input_icon_width);min-width:var(--_ui5-v2-9-0_input_icon_width);display:flex;justify-content:center;align-items:center;box-sizing:border-box}:host([value-state]:not([value-state="None"]):not([value-state="Positive"])) .ui5-input-clear-icon-wrapper{height:var(--_ui5-v2-9-0_input_icon_wrapper_state_height);vertical-align:top}:host([value-state="Positive"]) .ui5-input-clear-icon-wrapper{height:var(--_ui5-v2-9-0_input_icon_wrapper_success_state_height)}[ui5-icon].ui5-input-clear-icon{padding:0;color:inherit}[inner-input]::-webkit-outer-spin-button,[inner-input]::-webkit-inner-spin-button{-webkit-appearance:inherit;margin:inherit}:host([icon]){min-width:var(--_ui5-v2-9-0_button_base_min_width);width:var(--_ui5-v2-9-0_button_base_min_width)}:host([icon]) .ui5-select-root{min-width:var(--_ui5-v2-9-0_button_base_min_width)}:host([icon]) .ui5-select-label-root{min-width:0;padding-inline-start:0}.ui5-select-root{min-width:calc(var(--_ui5-v2-9-0_input_min_width) + (var(--_ui5-v2-9-0-input-icons-count)*var(--_ui5-v2-9-0_input_icon_width)));width:100%;height:100%;display:flex;outline:none;cursor:pointer;overflow:hidden;border-radius:var(--_ui5-v2-9-0_input_border_radius)}.ui5-select-label-root{flex-shrink:1;flex-grow:1;align-self:center;min-width:1rem;padding-inline-start:.5rem;cursor:pointer;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--_ui5-v2-9-0_select_label_color);font-family:"72override",var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400}.ui5-select-option-icon{padding-inline-start:.5rem;color:var(--sapField_TextColor);align-self:center}:host(:not([disabled])){cursor:pointer}
`,dH,Zie,`.ui5-select-popover::part(content),.ui5-select-popover::part(header){padding:0}
`],dependencies:[lg,AH,FS,Xie,Ur,rc]}),Xt("change",{bubbles:!0,cancelable:!0}),Xt("live-change",{bubbles:!0}),Xt("open"),Xt("close"),Xt("selected-item-changed",{bubbles:!0}),Xt("input",{bubbles:!0})],po),po.define(),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);const Jie=`.ui5-li-additional-text{margin:0 .25rem;color:var(--sapNeutralTextColor);font-size:var(--sapFontSize);min-width:3.75rem;text-align:end;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
`;var u_=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let Yd=class extends Iw{get displayIconBegin(){return!!this.icon}get effectiveDisplayText(){return this.textContent||""}};function kEe(){return this.isCompletelyChecked?"complete":this.checked&&this.indeterminate?"tri-state":"border"}u_([Jn({type:Node,default:!0,invalidateOnChildChange:!0})],Yd.prototype,"text",void 0),u_([me()],Yd.prototype,"value",void 0),u_([me()],Yd.prototype,"icon",void 0),u_([me()],Yd.prototype,"additionalText",void 0),u_([me()],Yd.prototype,"tooltip",void 0),u_([me({type:Boolean})],Yd.prototype,"selected",void 0),Yd=u_([wn({tag:"ui5-option",template:function(){return IEe.call(this,{listItemContent:REe},{role:"option",title:this.tooltip})},styles:[Iw.styles,Jie,`.ui5-li-icon{color:var(--sapList_TextColor);min-width:var(--_ui5-v2-9-0_list_item_icon_size);min-height:var(--_ui5-v2-9-0_list_item_icon_size);padding-inline-end:var(--_ui5-v2-9-0_list_item_icon_padding-inline-end)}
`,`:host{height:var(--_ui5-v2-9-0_list_item_dropdown_base_height);--_ui5-v2-9-0_list_item_title_size: var(--sapFontSize)}
`]})],Yd),Yd.define(),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi),vi("accept",{pathData:"M455.8 94q9 9 3 19l-222 326q-4 8-12 9t-14-5l-151-167q-5-5-4.5-11t5.5-11l25-25q12-12 23 0l96 96q5 5 13 4.5t12-8.5l175-249q4-7 11.5-8t13.5 4z",ltr:!0,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("accept",{pathData:"M187 416q-12 0-20-9L71 299q-7-7-7-17 0-11 7.5-18.5T90 256q12 0 19 9l77 87 217-247q8-9 19-9t18.5 7.5T448 122q0 10-6 16L206 407q-7 9-19 9z",ltr:!0,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),vi("complete",{pathData:"M431.958 320h32v128q0 14-9.5 23t-22.5 9h-384q-14 0-23-9t-9-23V64q0-13 9-22.5t23-9.5h128v32h-128v384h384V320zm60-295q7 7 2 16l-185 272q-3 6-10 7t-12-4l-125-139q-9-9 0-18l21-21q10-10 19 0l80 80q5 5 11.5 4t9.5-8l146-207q3-6 9.5-7t11.5 4z",ltr:!0,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("complete",{pathData:"M438 224q11 0 18.5 7.5T464 250v140q0 38-26 64t-64 26H106q-38 0-64-26t-26-64V122q0-38 26-64t64-26h237q11 0 18 7.5t7 18.5-7 18-18 7H106q-16 0-27.5 11.5T67 122v268q0 16 11.5 27.5T106 429h268q16 0 27.5-11.5T413 390V250q0-11 7-18.5t18-7.5zm32-192q11 0 18.5 7.5T496 58q0 10-7 17L257 312q-6 8-18 8-10 0-18-8l-70-71q-7-7-7-18t7.5-18 18.5-7 18 7l51 53L452 40q8-8 18-8z",ltr:!0,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),vi("border",{pathData:"M448 32q13 0 22.5 9t9.5 23v384q0 14-9.5 23t-22.5 9H64q-14 0-23-9t-9-23V64q0-14 9-23t23-9h384zm0 32H64v384h384V64z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("border",{pathData:"M390 480H122q-38 0-64-26t-26-64V122q0-38 26-64t64-26h268q38 0 64 26t26 64v268q0 38-26 64t-64 26zM122 83q-17 0-28 11t-11 28v268q0 17 11 28t28 11h268q17 0 28-11t11-28V122q0-17-11-28t-28-11H122z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),vi("tri-state",{pathData:"M448 32q13 0 22.5 9.5T480 64v384q0 14-9.5 23t-22.5 9H64q-14 0-23-9t-9-23V64q0-13 9-22.5T64 32h384zm0 32H64v384h384V64zM160 345V169q0-8 8-8h176q8 0 8 8v176q0 8-8 8H168q-8 0-8-8z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("tri-state",{pathData:"M390 32q38 0 64 26t26 64v268q0 38-26 64t-64 26H122q-38 0-64-26t-26-64V122q0-38 26-64t64-26h268zm39 90q0-17-11-28t-28-11H122q-17 0-28 11t-11 28v268q0 17 11 28t28 11h268q17 0 28-11t11-28V122zm-77 38v192H160V160h192z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"});var ny,cl=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let IP,Dj=!1,Cs=ny=class extends Xr{get formValidityMessage(){return ny.i18nBundle.getText(zSe)}get formValidity(){return{valueMissing:this.required&&!this.checked}}async formElementAnchor(){return this.getFocusDomRefAsync()}get formFormattedValue(){return this.checked?"on":null}constructor(){super(),this.disabled=!1,this.readonly=!1,this.displayOnly=!1,this.required=!1,this.indeterminate=!1,this.checked=!1,this.valueState="None",this.wrappingType="Normal",this.active=!1,this._deactivate=()=>{IP&&(IP.active=!1)},Dj||(document.addEventListener("mouseup",this._deactivate),Dj=!0)}onEnterDOM(){Nu()&&this.setAttribute("desktop","")}_onclick(){this.toggle()}_onmousedown(){this.readonly||this.disabled||(this.active=!0,IP=this)}_onmouseup(){this.active=!1}_onfocusout(){this.active=!1}_onkeydown(i){wr(i)&&i.preventDefault(),this.readonly||this.disabled||(Dr(i)&&this.toggle(),this.active=!0)}_onkeyup(i){wr(i)&&this.toggle(),this.active=!1}toggle(){if(this.canToggle()){const i={checked:this.checked,indeterminate:this.indeterminate};this.indeterminate?(this.indeterminate=!1,this.checked=!0):this.checked=!this.checked;const e=!this.fireDecoratorEvent("change"),t=!this.fireDecoratorEvent("value-changed");(e||t)&&(this.checked=i.checked,this.indeterminate=i.indeterminate)}return this}canToggle(){return!(this.disabled||this.readonly||this.displayOnly)}valueStateTextMappings(){return{Negative:ny.i18nBundle.getText(Nk),Critical:ny.i18nBundle.getText(Hk),Positive:ny.i18nBundle.getText(zk)}}get ariaLabelText(){return Hg(this)}get classes(){return{main:{"ui5-checkbox--hoverable":!this.disabled&&!this.readonly&&Nu()}}}get ariaReadonly(){return this.readonly||this.displayOnly?"true":void 0}get effectiveAriaDisabled(){return this.disabled?"true":void 0}get effectiveAriaChecked(){return this.indeterminate&&this.checked?"mixed":this.checked}get ariaLabelledBy(){if(!this.ariaLabelText)return this.text?`${this._id}-label`:void 0}get ariaDescribedBy(){return this.hasValueState?`${this._id}-descr`:void 0}get hasValueState(){return this.valueState!==di.None}get valueStateText(){if(this.valueState!==di.None&&this.valueState!==di.Information)return this.valueStateTextMappings()[this.valueState]}get effectiveTabIndex(){const i=this.getAttribute("tabindex");if(this.tabbable)return i?parseInt(i):0}get tabbable(){return!this.disabled&&!this.displayOnly}get isCompletelyChecked(){return this.checked&&!this.indeterminate}get isDisplayOnly(){return this.displayOnly&&!this.disabled}};cl([me()],Cs.prototype,"accessibleNameRef",void 0),cl([me()],Cs.prototype,"accessibleName",void 0),cl([me({type:Boolean})],Cs.prototype,"disabled",void 0),cl([me({type:Boolean})],Cs.prototype,"readonly",void 0),cl([me({type:Boolean})],Cs.prototype,"displayOnly",void 0),cl([me({type:Boolean})],Cs.prototype,"required",void 0),cl([me({type:Boolean})],Cs.prototype,"indeterminate",void 0),cl([me({type:Boolean})],Cs.prototype,"checked",void 0),cl([me()],Cs.prototype,"text",void 0),cl([me()],Cs.prototype,"valueState",void 0),cl([me()],Cs.prototype,"wrappingType",void 0),cl([me()],Cs.prototype,"name",void 0),cl([me({type:Boolean})],Cs.prototype,"active",void 0),cl([wo("@ui5/webcomponents")],Cs,"i18nBundle",void 0),Cs=ny=cl([wn({tag:"ui5-checkbox",languageAware:!0,formAssociated:!0,renderer:Br,template:function(){return Rt("div",{class:{"ui5-checkbox-root":!0,"ui5-checkbox--hoverable":!this.disabled&&!this.readonly&&Nu()},role:"checkbox",part:"root","aria-checked":this.effectiveAriaChecked,"aria-readonly":this.ariaReadonly,"aria-disabled":this.effectiveAriaDisabled,"aria-label":this.ariaLabelText,"aria-labelledby":this.ariaLabelledBy,"aria-describedby":this.ariaDescribedBy,"aria-required":this.required,tabindex:this.effectiveTabIndex,onMouseDown:this._onmousedown,onMouseUp:this._onmouseup,onKeyDown:this._onkeydown,onKeyUp:this._onkeyup,onClick:this._onclick,onFocusOut:this._onfocusout,children:[this.isDisplayOnly?Ce("div",{class:"ui5-checkbox-display-only-icon-inner",children:Ce(Ur,{"aria-hidden":"true",name:kEe.call(this),class:"ui5-checkbox-display-only-icon",part:"icon"})}):Ce("div",{id:`${this._id}-CbBg`,class:"ui5-checkbox-inner",children:this.isCompletelyChecked&&Ce(Ur,{"aria-hidden":"true",name:"accept",class:"ui5-checkbox-icon",part:"icon"})}),Ce("input",{id:`${this._id}-CB`,type:"checkbox",checked:this.checked,readonly:this.readonly,disabled:this.disabled,tabindex:-1,"aria-hidden":"true","data-sap-no-tab-ref":!0}),this.text&&Ce(lg,{id:`${this._id}-label`,part:"label",class:"ui5-checkbox-label",wrappingType:this.wrappingType,children:this.text}),this.hasValueState&&Ce("span",{id:`${this._id}-descr`,class:"ui5-hidden-text",children:this.valueStateText})]})},styles:`.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host{-webkit-tap-highlight-color:rgba(0,0,0,0)}:host(:not([hidden])){display:inline-block}:host{overflow:hidden;max-width:100%;outline:none;border-radius:var(--_ui5-v2-9-0_checkbox_border_radius);transition:var(--_ui5-v2-9-0_checkbox_transition);cursor:pointer;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}:host([disabled]){cursor:default}:host([disabled]) .ui5-checkbox-root{opacity:var(--_ui5-v2-9-0_checkbox_disabled_opacity)}:host([disabled]) .ui5-checkbox-inner{border-color:var(--_ui5-v2-9-0_checkbox_inner_disabled_border_color)}:host([disabled]) .ui5-checkbox-label{color:var(--_ui5-v2-9-0_checkbox_disabled_label_color)}:host([readonly]:not([value-state="Critical"]):not([value-state="Negative"])) .ui5-checkbox-inner{background:var(--sapField_ReadOnly_Background);border:var(--_ui5-v2-9-0_checkbox_inner_readonly_border);color:var(--sapField_TextColor)}:host(:not([wrapping-type="None"])[text]) .ui5-checkbox-root{min-height:auto;box-sizing:border-box;align-items:flex-start;padding-top:var(--_ui5-v2-9-0_checkbox_root_side_padding);padding-bottom:var(--_ui5-v2-9-0_checkbox_root_side_padding)}:host(:not([wrapping-type="None"])[text]) .ui5-checkbox-root .ui5-checkbox-label{overflow-wrap:break-word;align-self:center}:host([desktop][text]:not([wrapping-type="None"])) .ui5-checkbox-root:focus:before,.ui5-checkbox-root[text]:focus-visible:before{inset-block:var(--_ui5-v2-9-0_checkbox_wrapped_focus_inset_block)}:host([value-state="Negative"]) .ui5-checkbox-inner,:host([value-state="Negative"]) .ui5-checkbox--hoverable:hover .ui5-checkbox-inner{background:var(--sapField_InvalidBackground);border:var(--_ui5-v2-9-0_checkbox_inner_error_border);color:var(--sapField_InvalidColor)}:host([value-state="Negative"]) .ui5-checkbox--hoverable:hover .ui5-checkbox-inner{background:var(--_ui5-v2-9-0_checkbox_inner_error_background_hover)}:host([value-state="Critical"]) .ui5-checkbox-inner,:host([value-state="Critical"]) .ui5-checkbox--hoverable:hover .ui5-checkbox-inner{background:var(--sapField_WarningBackground);border:var(--_ui5-v2-9-0_checkbox_inner_warning_border);color:var(--_ui5-v2-9-0_checkbox_inner_warning_color)}:host([value-state="Critical"]) .ui5-checkbox--hoverable:hover .ui5-checkbox-inner{background:var(--_ui5-v2-9-0_checkbox_inner_warning_background_hover)}:host([value-state="Information"]) .ui5-checkbox-inner,:host([value-state="Information"]) .ui5-checkbox--hoverable:hover .ui5-checkbox-inner{background:var(--sapField_InformationBackground);border:var(--_ui5-v2-9-0_checkbox_inner_information_border);color:var(--_ui5-v2-9-0_checkbox_inner_information_color)}:host([value-state="Information"]) .ui5-checkbox--hoverable:hover .ui5-checkbox-inner{background:var(--_ui5-v2-9-0_checkbox_inner_information_background_hover)}:host([value-state="Positive"]) .ui5-checkbox-inner,:host([value-state="Positive"]) .ui5-checkbox--hoverable:hover .ui5-checkbox-inner{background:var(--sapField_SuccessBackground);border:var(--_ui5-v2-9-0_checkbox_inner_success_border);color:var(--sapField_SuccessColor)}:host([value-state="Positive"]) .ui5-checkbox--hoverable:hover .ui5-checkbox-inner{background:var(--_ui5-v2-9-0_checkbox_inner_success_background_hover)}:host([value-state="Critical"]) .ui5-checkbox-icon,:host([value-state="Critical"][indeterminate]) .ui5-checkbox-inner:after{color:var(--_ui5-v2-9-0_checkbox_checkmark_warning_color)}.ui5-checkbox-root{position:relative;display:inline-flex;align-items:center;max-width:100%;min-height:var(--_ui5-v2-9-0_checkbox_width_height);min-width:var(--_ui5-v2-9-0_checkbox_width_height);padding:0 var(--_ui5-v2-9-0_checkbox_wrapper_padding);outline:none;transition:var(--_ui5-v2-9-0_checkbox_transition);border:var(--_ui5-v2-9-0_checkbox_default_focus_border);border-radius:var(--_ui5-v2-9-0_checkbox_border_radius);box-sizing:border-box}:host([desktop]) .ui5-checkbox-root:focus:before,.ui5-checkbox-root:focus-visible:before{display:var(--_ui5-v2-9-0_checkbox_focus_outline_display);content:"";position:absolute;inset-inline:var(--_ui5-v2-9-0_checkbox_focus_position);inset-block:var(--_ui5-v2-9-0_checkbox_focus_position);border:var(--_ui5-v2-9-0_checkbox_focus_outline);border-radius:var(--_ui5-v2-9-0_checkbox_focus_border_radius)}:host([text]) .ui5-checkbox-root{padding-inline-end:var(--_ui5-v2-9-0_checkbox_right_focus_distance)}:host([text]) .ui5-checkbox-root:focus:before,:host([text]) .ui5-checkbox-root:focus-visible:before{inset-inline-end:0}:host(:hover:not([disabled])){background:var(--_ui5-v2-9-0_checkbox_outer_hover_background)}.ui5-checkbox--hoverable .ui5-checkbox-label:hover{color:var(--_ui5-v2-9-0_checkbox_label_color)}:host(:not([active]):not([checked]):not([value-state])) .ui5-checkbox--hoverable:hover .ui5-checkbox-inner,:host(:not([active]):not([checked])[value-state="None"]) .ui5-checkbox--hoverable:hover .ui5-checkbox-inner{background:var(--_ui5-v2-9-0_checkbox_hover_background);border-color:var(--_ui5-v2-9-0_checkbox_inner_hover_border_color)}:host(:not([active])[checked]:not([value-state])) .ui5-checkbox--hoverable:hover .ui5-checkbox-inner,:host(:not([active])[checked][value-state="None"]) .ui5-checkbox--hoverable:hover .ui5-checkbox-inner{background:var(--_ui5-v2-9-0_checkbox_hover_background);border-color:var(--_ui5-v2-9-0_checkbox_inner_hover_checked_border_color)}:host([checked]:not([value-state])) .ui5-checkbox-inner,:host([checked][value-state="None"]) .ui5-checkbox-inner{border-color:var(--_ui5-v2-9-0_checkbox_inner_selected_border_color)}:host([active]:not([checked]):not([value-state]):not([disabled])) .ui5-checkbox-inner,:host([active]:not([checked])[value-state="None"]:not([disabled])) .ui5-checkbox-inner{border-color:var(--_ui5-v2-9-0_checkbox_inner_active_border_color);background-color:var(--_ui5-v2-9-0_checkbox_active_background)}:host([active][checked]:not([value-state]):not([disabled])) .ui5-checkbox-inner,:host([active][checked][value-state="None"]:not([disabled])) .ui5-checkbox-inner{border-color:var(--_ui5-v2-9-0_checkbox_inner_selected_border_color);background-color:var(--_ui5-v2-9-0_checkbox_active_background)}.ui5-checkbox-inner{min-width:var(--_ui5-v2-9-0_checkbox_inner_width_height);max-width:var(--_ui5-v2-9-0_checkbox_inner_width_height);height:var(--_ui5-v2-9-0_checkbox_inner_width_height);max-height:var(--_ui5-v2-9-0_checkbox_inner_width_height);border:var(--_ui5-v2-9-0_checkbox_inner_border);border-radius:var(--_ui5-v2-9-0_checkbox_inner_border_radius);background:var(--_ui5-v2-9-0_checkbox_inner_background);color:var(--_ui5-v2-9-0_checkbox_checkmark_color);box-sizing:border-box;position:relative;cursor:inherit}:host([indeterminate][checked]) .ui5-checkbox-inner:after{content:"";background-color:currentColor;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:var(--_ui5-v2-9-0_checkbox_partially_icon_size);height:var(--_ui5-v2-9-0_checkbox_partially_icon_size)}:host input{-webkit-appearance:none;visibility:hidden;width:0;left:0;position:absolute;font-size:inherit}.ui5-checkbox-root .ui5-checkbox-label{margin-inline-start:var(--_ui5-v2-9-0_checkbox_label_offset);cursor:inherit;text-overflow:ellipsis;overflow:hidden;pointer-events:none;color:var(--_ui5-v2-9-0_checkbox_label_color)}.ui5-checkbox-icon{width:var(--_ui5-v2-9-0_checkbox_icon_size);height:var(--_ui5-v2-9-0_checkbox_icon_size);color:currentColor;cursor:inherit;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}:host([display-only]){cursor:default}:host([display-only]) .ui5-checkbox-display-only-icon-inner [ui5-icon]{color:var(--sapTextColor)}:host([display-only]) .ui5-checkbox-display-only-icon-inner{min-width:var(--_ui5-v2-9-0_checkbox_inner_width_height);max-width:var(--_ui5-v2-9-0_checkbox_inner_width_height);height:var(--_ui5-v2-9-0_checkbox_inner_width_height);max-height:var(--_ui5-v2-9-0_checkbox_inner_width_height);display:flex;align-items:center;justify-content:center}
`}),Xt("change",{bubbles:!0,cancelable:!0}),Xt("value-changed",{bubbles:!0,cancelable:!0})],Cs),Cs.define();const FEe=Cs;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var R8,kf=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let Ch=R8=class extends Xr{constructor(){super(),this.value="",this.selected=!1,this.forcedTabIndex="-1",this.onPhone=!1,this._disabled=!1}onBeforeRendering(){this._disabled=!this.value,this.onPhone=jr(),this.setAttribute("style",`background-color: ${this.value}`);const i=this.offsetHeight+4;this.style.setProperty(Tw("--_ui5_color_palette_item_height"),`${i}px`)}get colorLabel(){return R8.i18nBundle.getText(VBe)}get styles(){return{root:{"background-color":this.value}}}get classes(){return{root:{"ui5-cp-item":!0}}}};kf([me()],Ch.prototype,"value",void 0),kf([me({type:Boolean})],Ch.prototype,"selected",void 0),kf([me({noAttribute:!0})],Ch.prototype,"forcedTabIndex",void 0),kf([me({type:Number})],Ch.prototype,"index",void 0),kf([me({type:Boolean})],Ch.prototype,"onPhone",void 0),kf([me({type:Boolean})],Ch.prototype,"_disabled",void 0),kf([wo("@ui5/webcomponents")],Ch,"i18nBundle",void 0),Ch=R8=kf([wn({tag:"ui5-color-palette-item",renderer:Br,styles:`:host(:not([hidden])){height:var(--_ui5-v2-9-0_color-palette-item-height);width:var(--_ui5-v2-9-0_color-palette-item-height);border:.0625rem solid var(--sapContent_ForegroundBorderColor);border-radius:var(--_ui5-v2-9-0_color-palette-item-outer-border-radius);display:inline-block;margin:var(--_ui5-v2-9-0_color-palette-item-margin);box-sizing:border-box}:host(:not([_disabled]):hover),:host([selected]){height:var(--_ui5-v2-9-0_color-palette-item-hover-height);width:var(--_ui5-v2-9-0_color-palette-item-hover-height);margin:var(--_ui5-v2-9-0_color-palette-item-hover-margin);border-radius:var(--_ui5-v2-9-0_color-palette-item-hover-outer-border-radius)}:host(:not([hidden])[on-phone]){width:calc(100% - .5rem);padding-block-start:calc(100% - .625rem);border:.0625rem solid var(--sapContent_ForegroundBorderColor);border-radius:.25rem;display:inline-block;margin:.625rem;height:0;max-width:4.5rem;max-height:4.5rem}:host([selected][on-phone]){padding-block-start:calc(100% - .125rem);width:100%;margin:0}.ui5-cp-item{position:relative;box-sizing:border-box;border-radius:var(--_ui5-v2-9-0_color-palette-item-inner-border-radius);width:100%;height:100%}:host(:not([_disabled]):not([on-phone]):hover) .ui5-cp-item{border-radius:var(--_ui5-v2-9-0_color-palette-item-hover-inner-border-radius)}:host(:not([_disabled])[on-phone]) .ui5-cp-item{border-radius:.1875rem}.ui5-cp-item:hover:not(:focus),:host([selected]:not([on-phone])) .ui5-cp-item{border-radius:var(--_ui5-v2-9-0_color-palette-item-hover-inner-border-radius);box-sizing:border-box}:host(:not([_disabled]):not([on-phone])) .ui5-cp-item:focus,:host([selected]:not([_disabled]):not([on-phone]):hover:focus) .ui5-cp-item{border:var(--_ui5-v2-9-0_color-palette-item-selected-focused-border)}:host([selected]) .ui5-cp-item:focus,:host(:not([_disabled])) .ui5-cp-item:focus{outline:none}:host(:not([_disabled]):not([on-phone]):focus) .ui5-cp-item{pointer-events:none}:host(:not([_disabled]):not([on-phone])) .ui5-cp-item:focus:not(:hover):before{content:"";box-sizing:border-box;position:absolute;inset:var(--_ui5-v2-9-0_color-palette-item-before-focus-inset);border:var(--_ui5-v2-9-0_color-palette-item-before-focus-color);border-radius:var(--_ui5-v2-9-0_color-palette-item-before-focus-border-radius);pointer-events:none}:host(:not([_disabled]):not([on-phone])) .ui5-cp-item:focus:not(:hover):after{content:"";box-sizing:border-box;position:absolute;inset:var(--_ui5-v2-9-0_color-palette-item-after-focus-inset);border:var(--_ui5-v2-9-0_color-palette-item-after-focus-color);border-radius:var(--_ui5-v2-9-0_color-palette-item-after-focus-border-radius);pointer-events:none}:host(:not([_disabled]):not([on-phone]):hover:focus) .ui5-cp-item:focus:not(:hover):before{content:"";box-sizing:border-box;position:absolute;inset:var(--_ui5-v2-9-0_color-palette-item-before-focus-hover-inset);border:var(--_ui5-v2-9-0_color-palette-item-before-focus-color);border-radius:var(--_ui5-v2-9-0_color-palette-item-before-focus-border-radius);pointer-events:none}:host(:not([_disabled]):not([on-phone]):focus:not(:hover)) .ui5-cp-item:focus:not(:hover):after{content:"";box-sizing:border-box;position:absolute;inset:var(--_ui5-v2-9-0_color-palette-item-after-focus-hover-inset);border:var(--_ui5-v2-9-0_color-palette-item-after-focus-color);border-radius:var(--_ui5-v2-9-0_color-palette-item-after-focus-border-radius);pointer-events:none}:host([selected]:not([_disabled]):not([on-phone]):not(:focus):not(:hover)) .ui5-cp-item:after,:host([selected]:not([_disabled]):not([on-phone]):not(:focus):hover) .ui5-cp-item:after,:host(:not([selected]):not([on-phone]):hover) .ui5-cp-item:after{content:"";box-sizing:border-box;position:absolute;inset:calc(var(--_ui5-v2-9-0_color-palette-item-after-focus-hover-inset) - .0625rem);border:var(--_ui5-v2-9-0_color-palette-item-after-not-focus-color);border-radius:calc(var(--_ui5-v2-9-0_color-palette-item-after-focus-border-radius) + .0625rem);pointer-events:none}:host(:not([_disabled]):not([on-phone]):not([selected]):not(:hover)) .ui5-cp-item:focus:not(:hover):after{border:var(--_ui5-v2-9-0_color-palette-item-after-focus-not-selected-border)}:host([selected]:not([_disabled]):not([on-phone])) .ui5-cp-item:focus:not(:hover):before,:host([selected]:not([_disabled]):not([on-phone])) .ui5-cp-item:focus:hover:before{content:"";box-sizing:border-box;position:absolute;inset:var(--_ui5-v2-9-0_color-palette-item-selected-focused-border-before);border:var(--_ui5-v2-9-0_color-palette-item-before-focus-color);border-radius:var(--_ui5-v2-9-0_color-palette-item-before-focus-border-radius);pointer-events:none}:host(:not([disabled])) .ui5-cp-item:focus-visible:before,:host(:not([disabled])) .ui5-cp-item:focus-visible:after{content:"";box-sizing:border-box;position:absolute;pointer-events:none}:host(:not([disabled])) .ui5-cp-item:focus-visible:before{inset:calc(100% - var(--_ui5-v2-9-0_color_palette_item_height) + var(--_ui5-v2-9-0-color-palette-item-mobile-focus-inset)) var(--_ui5-v2-9-0_color-palette-item-mobile-focus-sides-inset);border:var(--_ui5-v2-9-0_color-palette-item-before-focus-color);border-radius:var(--_ui5-v2-9-0_color-palette-item-after-focus-border-radius)}:host(:not([disabled])) .ui5-cp-item:focus-visible:after{inset:calc(100% - var(--_ui5-v2-9-0_color_palette_item_height) + var(--_ui5-v2-9-0-color-palette-item-mobile-focus-inset)) var(--_ui5-v2-9-0_color-palette-item-mobile-focus-sides-inset);border:var(--_ui5-v2-9-0_color-palette-item-after-mobile-focus-border)}
`,template:function(){return Ce("div",{class:"ui5-cp-item",style:{"background-color":this.value},tabindex:parseInt(this.forcedTabIndex),role:"button","aria-label":`${this.colorLabel} - ${this.index}: ${this.value}`,title:`${this.colorLabel} - ${this.index}: ${this.value}`})},shadowRootOptions:{delegatesFocus:!0}})],Ch),Ch.define();const DEe=Ch;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var IA,Ec=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let Ua=IA=class extends Xr{constructor(){super(),this.showRecentColors=!1,this.showMoreColors=!1,this.showDefaultColor=!1,this.popupMode=!1,this.onPhone=!1,this.dialogOpen=!1,this.colorPickerValue="rgba(255,255,255,1)",this._shouldFocusRecentColors=!1,this._itemNavigation=new nR(this,{getItemsCallback:()=>this.displayedColors,rowSize:this.rowSize,behavior:tg.Cyclic}),this._itemNavigationRecentColors=new nR(this,{getItemsCallback:()=>this.recentColorsElements,rowSize:this.rowSize,behavior:tg.Static}),this._recentColors=[]}onBeforeRendering(){this._ensureSingleSelectionOrDeselectAll();const i=this.selectedItem;i&&!this.showRecentColors&&(this._selectedColor=i.value),this.displayedColors.forEach((e,t)=>{e.index=t+1}),this.showMoreColors&&(IA.ColorPaletteMoreColorsTemplate?this.showMoreColorsTemplate=IA.ColorPaletteMoreColorsTemplate:Promise.resolve().then(()=>YEe).then(e=>{this.showMoreColorsTemplate=e.default})),this.onPhone=jr()}onAfterRendering(){if(this.hasRecentColors&&this._shouldFocusRecentColors){this.selectedItem&&(this.selectedItem.selected=!1);const i=this.recentColorsElements[0];i.selected=!0,this._currentlySelected=i,this._currentlySelected.focus(),this._shouldFocusRecentColors=!1}}selectColor(i){i.value&&(i.focus(),this.displayedColors.includes(i)&&this._itemNavigation.setCurrentItem(i),this._setColor(i.value))}_setColor(i){this._selectedColor=i,this._recentColors[0]!==this._selectedColor&&(this._recentColors.includes(this._selectedColor)?this._recentColors.unshift(this._recentColors.splice(this._recentColors.indexOf(this._selectedColor),1)[0]):this._addRecentColor(this._selectedColor)),this.fireDecoratorEvent("item-click",{color:this._selectedColor})}get effectiveColorItems(){let i=this.colors;return this.popupMode&&(i=this.getSlottedNodes("colors")),i}_ensureSingleSelectionOrDeselectAll(){let i;this.allColorsInPalette.forEach(e=>{e.selected&&(i&&(i.selected=!1),i=e)})}_onclick(i){this.handleSelection(i.target)}_onkeyup(i){const e=i.target;wr(i)&&(i.preventDefault(),this.handleSelection(e))}_onkeydown(i){const e=i.target;Dr(i)&&this.handleSelection(e),wr(i)&&i.preventDefault()}handleSelection(i){i.hasAttribute("ui5-color-palette-item")&&i.value&&(this._shouldFocusRecentColors=!1,this.selectColor(i),this.recentColorsElements.includes(i)?(this.recentColorsElements[0].selected=!0,this.recentColorsElements[0].focus(),this._currentlySelected=this.recentColorsElements[0]):(this.allColorsInPalette.forEach(e=>{e.selected=e===i}),this._currentlySelected=i),this._ensureSingleSelectionOrDeselectAll())}_handleDefaultColorClick(i){i.preventDefault(),this._onDefaultColorClick()}_onDefaultColorKeyUp(i){wr(i)&&this._handleDefaultColorClick(i)}_onDefaultColorKeyDown(i){if(kg(i)&&this.popupMode&&this._handleDefaultColorClick(i),Dr(i)&&this._handleDefaultColorClick(i),Bl(i))i.stopPropagation(),this.focusColorElement(this.colorPaletteNavigationElements[1],this._itemNavigation);else if(za(i)){i.stopPropagation();const e=this.colorPaletteNavigationElements[this.colorPaletteNavigationElements.length-1];if(this.hasRecentColors)this.focusColorElement(e,this._itemNavigationRecentColors);else if(this.showMoreColors)e.focus();else{const t=this.displayedColors.length%this.rowSize*this.rowSize;this.focusColorElement(this.displayedColors[t],this._itemNavigation)}}}_onMoreColorsKeyDown(i){const e=i.target,t=this.colorPaletteNavigationElements.indexOf(e),n=this.displayedColors.length%this.rowSize*this.rowSize;za(i)?(i.stopPropagation(),this.focusColorElement(this.displayedColors[n],this._itemNavigation)):Bl(i)&&(i.stopPropagation(),this.hasRecentColors?this.focusColorElement(this.colorPaletteNavigationElements[t+1],this._itemNavigationRecentColors):this.showDefaultColor?this.firstFocusableElement.focus():this.focusColorElement(this.displayedColors[0],this._itemNavigation))}_isUpOrDownNavigatableColorPaletteItem(i){return(za(i)||Bl(i))&&this._currentlySelected&&this.colorPaletteNavigationElements.includes(this._currentlySelected)}_onColorContainerKeyDown(i){const e=i.target,t=this.colorPaletteNavigationElements[this.colorPaletteNavigationElements.length-1];if(this._isUpOrDownNavigatableColorPaletteItem(i)&&(this._currentlySelected=void 0),kg(i)&&this.popupMode&&(i.preventDefault(),this.selectColor(e)),za(i)&&e===this.displayedColors[0]&&this.colorPaletteNavigationElements.length>1)i.stopPropagation(),this.showDefaultColor?this.firstFocusableElement.focus():!this.showDefaultColor&&this.hasRecentColors?this.focusColorElement(t,this._itemNavigationRecentColors):!this.showDefaultColor&&this.showMoreColors&&t.focus();else if(Bl(i)&&e===this.displayedColors[this.displayedColors.length-1]&&this.colorPaletteNavigationElements.length>1){i.stopPropagation();const n=this.showDefaultColor&&!this.showMoreColors&&this.hasRecentColors||!this.showDefaultColor&&!this.showMoreColors&&this.hasRecentColors;this.showDefaultColor&&this.showMoreColors?this.colorPaletteNavigationElements[2].focus():!this.showDefaultColor||this.showMoreColors||this.showRecentColors&&this.recentColors[0]?n?this.focusColorElement(t,this._itemNavigationRecentColors):!this.showDefaultColor&&this.showMoreColors&&this.colorPaletteNavigationElements[1].focus():this.firstFocusableElement.focus()}}_onRecentColorsContainerKeyDown(i){if(this._isUpOrDownNavigatableColorPaletteItem(i)&&(this._currentlySelected=void 0),za(i)){if(this.showMoreColors){const e=this.showDefaultColor?2:1;this.colorPaletteNavigationElements[e].focus()}else if(!this.showMoreColors&&this.colorPaletteNavigationElements.length>1){const e=this.displayedColors.length%this.rowSize*this.rowSize;i.stopPropagation(),this.focusColorElement(this.displayedColors[e],this._itemNavigation)}}else Bl(i)&&(this.showDefaultColor?this.firstFocusableElement.focus():(i.stopPropagation(),this.focusColorElement(this.displayedColors[0],this._itemNavigation)))}focusColorElement(i,e){e.setCurrentItem(i),e._focusCurrentItem()}get firstFocusableElement(){return this.colorPaletteNavigationElements[0]}onColorPickerChange(i){this.colorPickerValue=i.target.value}_chooseCustomColor(){this._setColor(this.colorPickerValue),this._closeDialog(),this._shouldFocusRecentColors=!0}_addRecentColor(i){this.showRecentColors&&!this._recentColors.includes(i)&&(this._recentColors.unshift(i),this._recentColors.length>this.rowSize&&this._recentColors.pop())}_closeDialog(){this.dialogOpen=!1}_openMoreColorsDialog(){const i=this._currentlySelected?this._currentlySelected.value:void 0;i&&(this.colorPickerValue=i),this.dialogOpen=!0}_onDefaultColorClick(){this.defaultColor&&(this._setColor(this.defaultColor),this._addRecentColor(this.defaultColor),this.selectedItem&&(this.selectedItem.selected=!1,this._currentlySelected=void 0))}get selectedItem(){return this.allColorsInPalette.find(i=>i.selected)}get allColorsInPalette(){return[...this.effectiveColorItems,...this.recentColorsElements]}get colorPaletteDialogTitle(){return IA.i18nBundle.getText(WBe)}get colorPaletteDialogOKButton(){return IA.i18nBundle.getText(qBe)}get colorPaletteCancelButton(){return IA.i18nBundle.getText(_ie)}get selectedColor(){return this._selectedColor}get displayedColors(){return this.getSlottedNodes("colors").filter(i=>i.value).slice(0,15)}get colorContainerLabel(){return IA.i18nBundle.getText(zBe)}get colorPaletteMoreColorsText(){return IA.i18nBundle.getText(jBe)}get colorPaletteDefaultColorText(){return IA.i18nBundle.getText(KBe)}get rowSize(){return 5}get hasRecentColors(){return this.showRecentColors&&this.recentColors[0]}get recentColors(){for(this._recentColors.length>this.rowSize&&(this._recentColors=this._recentColors.slice(0,this.rowSize));this._recentColors.length<this.rowSize;)this._recentColors.push("");return this._recentColors}get recentColorsElements(){const i=this.getDomRef();return i?Array.from(i.querySelectorAll(".ui5-cp-recent-colors-wrapper [ui5-color-palette-item]")).filter(e=>e.value!==""):[]}get colorPaletteNavigationElements(){const i=[],e=this.shadowRoot.querySelector(".ui5-cp-root");return this._currentlySelected&&i.push(this._currentlySelected),this.showDefaultColor&&i.push(e.querySelector(".ui5-cp-default-color-button")),i.push(this.displayedColors[0]),this.showMoreColors&&i.push(e.querySelector(".ui5-cp-more-colors")),this.showRecentColors&&this.recentColorsElements.length&&i.push(this.recentColorsElements[0]),i}get classes(){return{colorPaletteRoot:{"ui5-cp-root":!0,"ui5-cp-root-phone":jr()}}}};Ec([me({type:Boolean})],Ua.prototype,"showRecentColors",void 0),Ec([me({type:Boolean})],Ua.prototype,"showMoreColors",void 0),Ec([me({type:Boolean})],Ua.prototype,"showDefaultColor",void 0),Ec([me()],Ua.prototype,"defaultColor",void 0),Ec([me()],Ua.prototype,"_selectedColor",void 0),Ec([me({type:Boolean})],Ua.prototype,"popupMode",void 0),Ec([me({type:Boolean})],Ua.prototype,"onPhone",void 0),Ec([me({noAttribute:!0})],Ua.prototype,"showMoreColorsTemplate",void 0),Ec([me({type:Boolean})],Ua.prototype,"dialogOpen",void 0),Ec([me()],Ua.prototype,"colorPickerValue",void 0),Ec([Jn({default:!0,type:HTMLElement,invalidateOnChildChange:!0,individualSlots:!0})],Ua.prototype,"colors",void 0),Ec([wo("@ui5/webcomponents")],Ua,"i18nBundle",void 0),Ua=IA=Ec([wn({tag:"ui5-color-palette",renderer:Br,template:function(){var i;return Rt(xr,{children:[Rt("div",{class:{"ui5-cp-root":!0,"ui5-cp-root-phone":jr()},onClick:this._onclick,onKeyUp:this._onkeyup,onKeyDown:this._onkeydown,children:[this.showDefaultColor&&Rt("div",{class:"ui5-cp-default-color-button-wrapper",children:[Ce(rc,{class:"ui5-cp-default-color-button",design:"Transparent",onClick:this._onDefaultColorClick,onKeyUp:this._onDefaultColorKeyUp,onKeyDown:this._onDefaultColorKeyDown,children:this.colorPaletteDefaultColorText}),Ce("div",{class:"ui5-cp-separator"})]}),Ce("div",{class:"ui5-cp-item-container",role:"region","aria-label":this.colorContainerLabel,onKeyDown:this._onColorContainerKeyDown,children:this.displayedColors.map(e=>Ce("slot",{name:e._individualSlot}))}),this.showMoreColors&&Rt("div",{class:"ui5-cp-more-colors-wrapper",children:[Ce("div",{class:"ui5-cp-separator"}),Ce(rc,{design:"Transparent",class:"ui5-cp-more-colors",onClick:this._openMoreColorsDialog,onKeyDown:this._onMoreColorsKeyDown,children:this.colorPaletteMoreColorsText})]}),this.showRecentColors&&Rt("div",{class:"ui5-cp-recent-colors-wrapper",children:[Ce("div",{class:"ui5-cp-separator"}),Ce("div",{class:"ui5-cp-recent-colors-container",onKeyDown:this._onRecentColorsContainerKeyDown,children:this.recentColors.map(e=>Ce(DEe,{value:e}))})]})]}),this.showMoreColors&&((i=this.showMoreColorsTemplate)==null?void 0:i.call(this))]})},styles:[`:host(:not([hidden])){display:inline-block}:host(:not([hidden])[popup-mode]),:host(:not([hidden])[on-phone]){width:100%;overflow:hidden}.ui5-cp-root{display:flex;flex-direction:column}.ui5-cp-root.ui5-cp-root-phone,.ui5-cp-separator,.ui5-cp-root.ui5-cp-root-phone .ui5-cp-more-colors-wrapper,.ui5-cp-root.ui5-cp-root-phone .ui5-cp-default-color-button-wrapper,.ui5-cp-recent-colors-wrapper{width:100%}.ui5-cp-root.ui5-cp-root-phone .ui5-cp-item-container{padding:.375rem .625rem;width:100%;max-width:100%;max-height:100%;box-sizing:border-box}.ui5-cp-root-phone .ui5-cp-default-color-button,.ui5-cp-root-phone .ui5-cp-more-colors,.ui5-cp-root-phone .ui5-cp-more-colors-wrapper,.ui5-cp-root-phone .ui5-cp-default-color-button-wrapper{height:2.875rem}.ui5-cp-root-phone .ui5-cp-item-container{display:grid;grid-template-columns:repeat(5,1fr);grid-gap:.75rem;justify-items:center;align-items:center}.ui5-cp-root-phone .ui5-cp-recent-colors-container{padding:.375rem .625rem;display:grid;grid-template-columns:repeat(5,1fr);grid-gap:.75rem;justify-items:center;align-items:center;width:100%;box-sizing:border-box}.ui5-cp-root-phone .ui5-cp-recent-colors-wrapper{max-width:100%;padding:0;display:flex;justify-content:center;flex-flow:wrap;max-height:var(--_ui5-v2-9-0_color-palette-row-height);overflow:hidden}.ui5-cp-recent-colors-wrapper{display:flex;align-items:center;flex-direction:column;gap:.25rem}.ui5-cp-root.ui5-cp-root-phone{display:flex}.ui5-cp-item-container{display:flex;max-width:var(--_ui5-v2-9-0_color-palette-row-width);flex-flow:wrap;max-height:var(--_ui5-v2-9-0_color-palette-row-height);overflow:hidden;padding:var(--_ui5-v2-9-0_color-palette-swatch-container-padding)}.ui5-cp-more-colors,.ui5-cp-default-color-button{width:100%;height:var(--_ui5-v2-9-0_color-palette-button-height);text-align:center;border:none}.ui5-cp-more-colors-wrapper,.ui5-cp-default-color-button-wrapper{display:flex;flex-direction:column}.ui5-cp-separator{height:.0625rem;background:var(--sapToolbar_SeparatorColor)}.ui5-cp-default-color-button,.ui5-cp-more-colors{padding:.0625rem}
`,`.ui5-cp-dialog-content{display:flex;justify-content:center;align-items:center;margin:1rem 0}.ui5-cp-dialog-footer{width:100%;display:flex;justify-content:flex-end;margin:.1875rem 1rem}.ui5-cp-dialog-footer [ui5-button]:first-child{margin-right:1rem}
`]}),Xt("item-click")],Ua),Ua.define();const ene=Ua;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var CM,Zd=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let yh=CM=class extends Xr{constructor(){super(),this.showRecentColors=!1,this.showMoreColors=!1,this.showDefaultColor=!1,this.open=!1}get responsivePopover(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}get respPopover(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}closePopover(){this.open=!1}onAfterClose(){this.closePopover(),this.fireDecoratorEvent("close")}onAfterOpen(){var i;const e=this._colorPalette;e._currentlySelected?(i=e._currentlySelected)==null||i.focus():e.showRecentColors&&e.recentColorsElements.length?e.recentColorsElements[0].focus():e.showDefaultColor&&e.colorPaletteNavigationElements[0].focus(),e.allColorsInPalette.forEach(t=>{const n=t.offsetHeight+4;t.style.setProperty(Tw("--_ui5_color_palette_item_height"),`${n}px`)})}onSelectedColor(i){this.closePopover(),this.fireDecoratorEvent("item-click",i.detail)}get _colorPalette(){return this.responsivePopover.content[0].querySelector("[ui5-color-palette]")}isOpen(){return this.open}get colorPaletteColors(){return this.getSlottedNodes("colors")}get _colorPaletteTitle(){return CM.i18nBundle.getText(GBe)}get _cancelButtonLabel(){return CM.i18nBundle.getText(_ie)}get _open(){return this.open||void 0}};Zd([me({type:Boolean})],yh.prototype,"showRecentColors",void 0),Zd([me({type:Boolean})],yh.prototype,"showMoreColors",void 0),Zd([me({type:Boolean})],yh.prototype,"showDefaultColor",void 0),Zd([me()],yh.prototype,"defaultColor",void 0),Zd([me({type:Boolean})],yh.prototype,"open",void 0),Zd([me({converter:Die})],yh.prototype,"opener",void 0),Zd([Jn({default:!0,type:HTMLElement,individualSlots:!0})],yh.prototype,"colors",void 0),Zd([wo("@ui5/webcomponents")],yh,"i18nBundle",void 0),yh=CM=Zd([wn({tag:"ui5-color-palette-popover",renderer:Br,styles:[dH,`.ui5-cp-header{width:100%;height:var(--_ui5-v2-9-0_color-palette-button-height);display:flex;align-items:center}.ui5-cp-footer{width:100%;display:flex;justify-content:flex-end;align-items:center;margin:.1875rem 0}[ui5-responsive-popover]::part(content){padding:0}.ui5-cp-item-container{padding:.3125rem .6875rem}
`],template:function(){return Rt(AH,{hideArrow:!0,contentOnlyOnDesktop:!0,placement:"Bottom",opener:this.opener,open:this._open,onClose:this.onAfterClose,onOpen:this.onAfterOpen,children:[Ce("div",{slot:"header",class:"ui5-cp-header",children:Ce(qk,{level:"H1",wrappingType:"None",children:this._colorPaletteTitle})}),Ce("div",{children:Ce(ene,{showMoreColors:this.showMoreColors,showRecentColors:this.showRecentColors,showDefaultColor:this.showDefaultColor,defaultColor:this.defaultColor,popupMode:!0,onItemClick:this.onSelectedColor,children:this.colorPaletteColors.map(i=>Ce("slot",{name:i._individualSlot}))})}),Ce("div",{slot:"footer",class:"ui5-cp-footer",children:Ce(rc,{design:"Transparent",onClick:this.closePopover,children:this._cancelButtonLabel})})]})}}),Xt("item-click",{bubbles:!0}),Xt("close",{bubbles:!0})],yh),yh.define();const Uj=new Map([["aliceblue","f0f8ff"],["antiquewhite","faebd7"],["aqua","00ffff"],["aquamarine","7fffd4"],["azure","f0ffff"],["beige","f5f5dc"],["bisque","ffe4c4"],["black","000000"],["blanchedalmond","ffebcd"],["blue","0000ff"],["blueviolet","8a2be2"],["brown","a52a2a"],["burlywood","deb887"],["cadetblue","5f9ea0"],["chartreuse","7fff00"],["chocolate","d2691e"],["coral","ff7f50"],["cornflowerblue","6495ed"],["cornsilk","fff8dc"],["crimson","dc143c"],["cyan","00ffff"],["darkblue","00008b"],["darkcyan","008b8b"],["darkgoldenrod","b8860b"],["darkgray","a9a9a9"],["darkgrey","a9a9a9"],["darkgreen","006400"],["darkkhaki","bdb76b"],["darkmagenta","8b008b"],["darkolivegreen","556b2f"],["darkorange","ff8c00"],["darkorchid","9932cc"],["darkred","8b0000"],["darksalmon","e9967a"],["darkseagreen","8fbc8f"],["darkslateblue","483d8b"],["darkslategray","2f4f4f"],["darkslategrey","2f4f4f"],["darkturquoise","00ced1"],["darkviolet","9400d3"],["deeppink","ff1493"],["deepskyblue","00bfff"],["dimgray","696969"],["dimgrey","696969"],["dodgerblue","1e90ff"],["firebrick","b22222"],["floralwhite","fffaf0"],["forestgreen","228b22"],["fuchsia","ff00ff"],["gainsboro","dcdcdc"],["ghostwhite","f8f8ff"],["gold","ffd700"],["goldenrod","daa520"],["gray","808080"],["grey","808080"],["green","008000"],["greenyellow","adff2f"],["honeydew","f0fff0"],["hotpink","ff69b4"],["indianred","cd5c5c"],["indigo","4b0082"],["ivory","fffff0"],["khaki","f0e68c"],["lavender","e6e6fa"],["lavenderblush","fff0f5"],["lawngreen","7cfc00"],["lemonchiffon","fffacd"],["lightblue","add8e6"],["lightcoral","f08080"],["lightcyan","e0ffff"],["lightgoldenrodyellow","fafad2"],["lightgray","d3d3d3"],["lightgrey","d3d3d3"],["lightgreen","90ee90"],["lightpink","ffb6c1"],["lightsalmon","ffa07a"],["lightseagreen","20b2aa"],["lightskyblue","87cefa"],["lightslategray","778899"],["lightslategrey","778899"],["lightsteelblue","b0c4de"],["lightyellow","ffffe0"],["lime","00ff00"],["limegreen","32cd32"],["linen","faf0e6"],["magenta","ff00ff"],["maroon","800000"],["mediumaquamarine","66cdaa"],["mediumblue","0000cd"],["mediumorchid","ba55d3"],["mediumpurple","9370db"],["mediumseagreen","3cb371"],["mediumslateblue","7b68ee"],["mediumspringgreen","00fa9a"],["mediumturquoise","48d1cc"],["mediumvioletred","c71585"],["midnightblue","191970"],["mintcream","f5fffa"],["mistyrose","ffe4e1"],["moccasin","ffe4b5"],["navajowhite","ffdead"],["navy","000080"],["oldlace","fdf5e6"],["olive","808000"],["olivedrab","6b8e23"],["orange","ffa500"],["orangered","ff4500"],["orchid","da70d6"],["palegoldenrod","eee8aa"],["palegreen","98fb98"],["paleturquoise","afeeee"],["palevioletred","db7093"],["papayawhip","ffefd5"],["peachpuff","ffdab9"],["peru","cd853f"],["pink","ffc0cb"],["plum","dda0dd"],["powderblue","b0e0e6"],["purple","800080"],["red","ff0000"],["rosybrown","bc8f8f"],["royalblue","4169e1"],["saddlebrown","8b4513"],["salmon","fa8072"],["sandybrown","f4a460"],["seagreen","2e8b57"],["seashell","fff5ee"],["sienna","a0522d"],["silver","c0c0c0"],["skyblue","87ceeb"],["slateblue","6a5acd"],["slategray","708090"],["slategrey","708090"],["snow","fffafa"],["springgreen","00ff7f"],["steelblue","4682b4"],["tan","d2b48c"],["teal","008080"],["thistle","d8bfd8"],["tomato","ff6347"],["turquoise","40e0d0"],["violet","ee82ee"],["wheat","f5deb3"],["white","ffffff"],["whitesmoke","f5f5f5"],["yellow","ffff00"],["yellowgreen","9acd32"],["transparent","00000000"]]),tne=i=>i.startsWith("rgba")?UEe(i):i.startsWith("rgb")?PEe(i):(i.indexOf("#")===0&&(i=i.length===4?`${i[1]}${i[1]}${i[2]}${i[2]}${i[3]}${i[3]}`:i.slice(1,i.length)),Uj.has(i)&&(i=Uj.get(i)),ine(i)),UEe=i=>{const e=i.indexOf("("),t=[];for(let n=0;n<i.length;n++)i[n]===","&&t.push(n);return{r:parseInt(i.slice(e+1,t[0]).trim()),g:parseInt(i.slice(t[0]+1,t[1]).trim()),b:parseInt(i.slice(t[1]+1,t[2]).trim())}},PEe=i=>{const e=i.indexOf("("),t=i.indexOf(")"),n=[];for(let r=0;r<i.length;r++)i[r]===","&&n.push(r);return{r:parseInt(i.slice(e+1,n[0]).trim()),g:parseInt(i.slice(n[0]+1,n[1]).trim()),b:parseInt(i.slice(n[1]+1,t).trim())}},ine=i=>({r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16)}),MP=i=>{const e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];let t="",n=i.r/16,r=i.r%16;return t+=String(e[Math.floor(n)]),t+=String(e[r]),n=i.g/16,r=i.g%16,t+=String(e[Math.floor(n)]),t+=String(e[r]),n=i.b/16,r=i.b%16,t+=String(e[Math.floor(n)]),t+=String(e[r]),t},RP=i=>{const e=i.r/255,t=i.g/255,n=i.b/255,r=Math.max(e,t,n),o=Math.min(e,t,n),s=r-o;let a=(r+o)/2,l=(r+o)/2,c=(r+o)/2;if(r===o)a=0,l=0;else{switch(l=c>.5?s/(2-r-o):s/(r+o),r){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4}a/=6}return a=Math.round(360*a),l=Math.round(100*l),c=Math.round(100*c),{h:a,s:l,l:c}};vi("expand",{pathData:"M80 320v128h384V64H208V32h256q13 0 22.5 9t9.5 23v384q0 13-9.5 22.5T464 480H80q-14 0-23-9.5T48 448V320h32zm176-80V128h32v112h112v32H288v112h-32V272H144v-32h112zM22 227l87-95q6-5 0-11L23 28Q11 17 23 5q5-5 11-5t11 5l92 99q9 10 9 23t-9 22L45 250q-5 5-11 5-4 0-12-5-12-12 0-23z",ltr:!1,accData:vj,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("expand",{pathData:"M256 32q11 0 19 8l134 141q7 7 7 17 0 11-7.5 18.5T390 224q-10 0-18-8L256 95 140 216q-8 8-18 8-11 0-18.5-7.5T96 198q0-10 7-17L238 40q6-8 18-8zm134 256q11 0 18.5 7.5T416 314q0 10-7 17L275 472q-8 8-19 8-12 0-18-8L103 331q-7-7-7-17 0-11 7.5-18.5T122 288q10 0 18 8l116 121 116-121q8-8 18-8z",ltr:!1,accData:vj,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"});class LEe{constructor(){this._rgb={r:255,g:255,b:255},this._hsl=RP(this._rgb),this._hex=MP(this._rgb),this._alpha=1,this._valid=!0}get RGB(){return this._rgb}get HSL(){return this._hsl}get H(){return this._hsl.h}get S(){return this._hsl.s}get L(){return this._hsl.l}get R(){return this._rgb.r}get G(){return this._rgb.g}get B(){return this._rgb.b}get Alpha(){return this._alpha}get HEX(){return this._hex}set RGB(e){this.validateRGBColor(e),this._updateRGB(e)}set HSL(e){this.validateHSLColor(e),this._updateHSL(e)}set HEX(e){this._hex=e,this.validateHEX(e),this._valid&&(this._rgb=ine(e),this._hsl=RP(this._rgb))}set H(e){this.validateHValue(e),this._updateHSL({h:e,s:this.S,l:this.L})}set S(e){this.validateSLValue(e),this._updateHSL({h:this.H,s:e,l:this.L})}set L(e){this.validateSLValue(e),this._updateHSL({h:this.H,s:this.S,l:e})}set R(e){this.validateRGBValue(e),this._updateRGB({r:e,g:this.G,b:this.B})}set G(e){this.validateRGBValue(e),this._updateRGB(this.RGB={r:this.R,g:e,b:this.B})}set B(e){this.validateRGBValue(e),this._updateRGB({r:this.R,g:this.G,b:e})}set Alpha(e){this._alpha=e}isColorValueValid(){return this._valid}validateRGBValue(e){this._valid=this._isValidRGBValue(e)}validateRGBColor(e){this._valid=this._isValidRGBValue(e.r)&&this._isValidRGBValue(e.g)&&this._isValidRGBValue(e.b)}validateHSLColor(e){this._valid=this._isValidHValue(e.h)&&this._isValidSLValue(e.s)&&this._isValidSLValue(e.l)}validateHValue(e){this._valid=this._isValidHValue(e)}validateSLValue(e){this._valid=this._isValidSLValue(e)}validateHEX(e){const t=new RegExp("^[<0-9 abcdef]+$");this._valid=e.length===6&&t.test(e)}_isValidRGBValue(e){return e>=0&&e<=255}_isValidHValue(e){return e>=0&&e<=360}_isValidSLValue(e){return e>=0&&e<=100}_updateRGB(e){this._rgb=e,this._valid&&(this._hsl=RP(e),this._hex=MP(e))}_updateHSL(e){this._hsl=e,this._valid&&(this._rgb=(t=>{let n,r,o,s=t.s,a=t.l;s>100?s=1:s<0?s=0:s/=100,a>100?a=1:a<0?a=0:a/=100;const l=(t.h%360+360)%360,c=s*(1-Math.abs(2*a-1)),u=255*(a-.5*c),h=u+c*(1-Math.abs(l/60%2-1))*255,d=u+255*c;switch(Math.floor(l/60)){case 0:n=d,r=h,o=u;break;case 1:n=h,r=d,o=u;break;case 2:n=u,r=d,o=h;break;case 3:n=u,r=h,o=d;break;case 4:n=h,r=u,o=d;break;case 5:n=d,r=u,o=h;break;default:n=0,r=0,o=0}return{r:Math.round(n),g:Math.round(r),b:Math.round(o)}})(e),this._hex=MP(this._rgb))}toRGBString(){return`rgba(${this._rgb.r}, ${this._rgb.g}, ${this._rgb.b}, ${this._alpha})`}}bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var Bh,Da=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let Bs=Bh=class extends Xr{async formElementAnchor(){return this.getFocusDomRefAsync()}constructor(){super(),this.min=0,this.max=100,this.step=1,this.labelInterval=0,this.showTickmarks=!1,this.showTooltip=!1,this.editableTooltip=!1,this.disabled=!1,this.value=0,this._tooltipVisibility="hidden",this._labelsOverlapping=!1,this._hiddenTickmarks=!1,this._isInputValueValid=!1,this.notResized=!1,this._isUserInteraction=!1,this._isInnerElementFocusing=!1,this._labelWidth=0,this._resizeHandler=this._handleResize.bind(this),this._moveHandler=this._handleMove.bind(this),this._upHandler=this._handleUp.bind(this),this._stateStorage={step:void 0,min:void 0,max:void 0,labelInterval:void 0}}_handleMove(i){}_handleUp(i){}_onmousedown(i){}_handleActionKeyPress(i){}_updateInputValue(){}static get ACTION_KEYS(){return[Ig,Mg,za,Bl,gP,mP,y2,t8,_P,BBe,nw,rw,my,iR,Rg]}static get MIN_SPACE_BETWEEN_TICKMARKS(){return 8}static get TOOLTIP_VISIBILITY(){return{VISIBLE:"visible",HIDDEN:"hidden"}}static get renderer(){return Br}static get styles(){return`.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host([disabled]){opacity:var(--_ui5-v2-9-0_slider_disabled_opacity);cursor:default;pointer-events:none}:host{box-sizing:border-box;cursor:pointer;vertical-align:top;width:100%}:host(:not([hidden])){display:inline-block}.ui5-slider-root{box-sizing:border-box;height:3.3125rem;outline:none;padding:var(--_ui5-v2-9-0_slider_padding);touch-action:none}.ui5-slider-inner{background-repeat:no-repeat;position:relative;min-width:var(--_ui5-v2-9-0_slider_inner_min_width);height:100%}.ui5-slider-progress-container{width:100%;background:var(--_ui5-v2-9-0_slider_progress_container_background);border:var(--_ui5-v2-9-0_slider_progress_border);border-radius:var(--_ui5-v2-9-0_slider_progress_border_radius);height:var(--_ui5-v2-9-0_slider_inner_height);position:relative;box-sizing:var(--_ui5-v2-9-0_slider_progress_box_sizing);top:var(--_ui5-v2-9-0_slider_progress_container_top)}.ui5-slider-progress-container:before,.ui5-slider-progress-container:after{display:var(--_ui5-v2-9-0_slider_progress_container_dot_display);content:"";position:absolute;border-radius:50%;width:var(--_ui5-v2-9-0_slider_start_end_point_size);height:var(--_ui5-v2-9-0_slider_start_end_point_size);top:var(--_ui5-v2-9-0_slider_start_end_point_top)}.ui5-slider-progress-container:before{inset-inline-start:var(--_ui5-v2-9-0_slider_start_end_point_left);background-color:var(--_ui5-v2-9-0_slider_progress_before_background);border:var(--_ui5-v2-9-0_slider_progress_before_border)}.ui5-slider-progress-container:after{inset-inline-end:var(--_ui5-v2-9-0_slider_start_end_point_left);background-color:var(--_ui5-v2-9-0_slider_progress_after_background);border:var(--_ui5-v2-9-0_slider_progress_after_border)}.ui5-slider-progress{background:var(--_ui5-v2-9-0_slider_progress_background);border-radius:var(--_ui5-v2-9-0_slider_progress_border_radius);height:var(--_ui5-v2-9-0_slider_progress_height);position:relative;outline:none;box-sizing:border-box;border:var(--_ui5-v2-9-0_slider_active_progress_border);left:var(--_ui5-v2-9-0_slider_active_progress_left);top:var(--_ui5-v2-9-0_slider_active_progress_top)}.ui5-slider-tickmarks{list-style:none;padding:0;margin:0;top:var(--_ui5-v2-9-0_slider_tickmark_top);display:flex;box-sizing:border-box;width:100%;justify-content:space-between;position:absolute;z-index:1}.ui5-slider-tickmarks li{height:var(--_ui5-v2-9-0_slider_tickmark_height);border-inline-start:1px solid var(--_ui5-v2-9-0_slider_tickmark_bg)}.ui5-slider-handle{background:var(--_ui5-v2-9-0_slider_handle_background);border:var(--_ui5-v2-9-0_slider_handle_border);border-radius:var(--_ui5-v2-9-0_slider_handle_border_radius);position:relative;outline:none;height:var(--_ui5-v2-9-0_slider_handle_height);width:var(--_ui5-v2-9-0_slider_handle_width);box-sizing:var(--_ui5-v2-9-0_slider_handle_box_sizing);display:flex;justify-content:center;align-items:center;z-index:2}[slider-icon]{display:var(--_ui5-v2-9-0_slider_handle_icon_display);color:var(--sapContent_Selected_ForegroundColor);width:var(--_ui5-v2-9-0_slider_handle_icon_size);height:var(--_ui5-v2-9-0_slider_handle_icon_size)}.ui5-slider-root .ui5-slider-handle:focus [slider-icon]{display:var(--_ui5-v2-9-0_range_slider_active_handle_icon_display)}.ui5-slider-progress-container:hover~.ui5-slider-handle:not(:focus),.ui5-slider-handle:hover{background:var(--_ui5-v2-9-0_slider_handle_hover_background);border:var(--_ui5-v2-9-0_slider_handle_hover_border)}.ui5-slider-root:focus .ui5-slider-inner .ui5-slider-handle,.ui5-slider-handle:focus{outline:var(--_ui5-v2-9-0_slider_handle_outline);outline-offset:var(--_ui5-v2-9-0_slider_handle_outline_offset);border:var(--_ui5-v2-9-0_slider_handle_focus_border);background:var(--_ui5-v2-9-0_slider_handle_background_focus)}.ui5-slider-handle.ui5-slider-handle--start:focus,.ui5-slider-handle--end:focus{border:var(--_ui5-v2-9-0_slider_handle_focus_border)}.ui5-slider-root:focus:hover .ui5-slider-handle,.ui5-slider-handle:focus:hover{border:var(--_ui5-v2-9-0_slider_handle_focus_border)}.ui5-slider-handle-container{position:absolute;margin-inline-start:calc(-1 * var(--_ui5-v2-9-0_slider_handle_width) / 2);top:var(--_ui5-v2-9-0_slider_handle_top)}:host(:not([hidden])) .ui5-slider-handle-container .ui5-slider-tooltip{display:flex;font-family:var(--sapFontFamily);justify-content:center;align-items:center;visibility:hidden;position:absolute;left:50%;transform:translate(-50%);bottom:var(--_ui5-v2-9-0_slider_tooltip_bottom);background:var(--_ui5-v2-9-0_slider_tooltip_background);border:var(--_ui5-v2-9-0_slider_tooltip_border);border-radius:var(--_ui5-v2-9-0_slider_tooltip_border_radius);box-shadow:var(--_ui5-v2-9-0_slider_tooltip_box_shadow);font-size:var(--_ui5-v2-9-0_slider_tooltip_fontsize);color:var(--_ui5-v2-9-0_slider_tooltip_color);height:var(--_ui5-v2-9-0_slider_tooltip_height);min-width:var(--_ui5-v2-9-0_slider_tooltip_min_width);padding:var(--_ui5-v2-9-0_slider_tooltip_padding);box-sizing:var(--_ui5-v2-9-0_slider_tooltip_border_box)}:host(:not([hidden])):host([editable-tooltip]) .ui5-slider-handle-container .ui5-slider-tooltip{border:none;background:none;box-shadow:none}:host([editable-tooltip]) .ui5-slider-tooltip{padding:0;box-shadow:none}.ui5-slider-tooltip [ui5-input]{width:100%;text-align:center}.ui5-slider-tooltip-value{position:relative;display:flex;justify-content:center;align-items:center}.ui5-slider-labels{position:absolute;top:1.25rem;margin:0;padding:0;white-space:nowrap}.ui5-slider-labels li{position:relative;list-style:none;padding-top:.3125rem;height:1rem;margin:0;text-align:center;display:inline-block;color:var(--_ui5-v2-9-0_slider_label_color);font-family:var(--sapFontFamily);font-size:var(--_ui5-v2-9-0_slider_label_fontsize);padding-top:0;box-sizing:border-box;display:inline-flex;justify-content:center;align-items:center;vertical-align:top}.ui5-slider-hidden-labels li:not(:first-child):not(:last-child){visibility:hidden}.ui5-slider-handle:focus .ui5-slider-tooltip{bottom:var(--_ui5-v2-9-0_slider_handle_focused_tooltip_distance)}.ui5-slider-tickmarks li.ui5-slider-tickmark-in-range{border-inline-start:1px solid var(--_ui5-v2-9-0_slider_tickmark_in_range_bg)}:host([show-tickmarks]) .ui5-slider-progress{height:var(--_ui5-v2-9-0_slider_no_tickmarks_progress_height);border:var(--_ui5-v2-9-0_slider_no_tickmarks_active_progress_border);left:var(--_ui5-v2-9-0_slider_no_tickmarks_active_progress_left);top:var(--_ui5-v2-9-0_slider_no_tickmarks_active_progress_top)}:host([show-tickmarks]) .ui5-slider-progress-container{top:var(--_ui5-v2-9-0_slider_no_tickmarks_progress_container_top)}.ui5-slider-handle:focus:after{content:"";display:var(--_ui5-v2-9-0_slider_handle_focus_visibility);width:calc(100% + (var(--sapContent_FocusWidth) * 2) + 2px);height:calc(100% + (var(--sapContent_FocusWidth) * 2) + 2px);border:var(--sapContent_FocusWidth) dotted var(--sapContent_FocusColor);position:absolute;border-radius:var(--_ui5-v2-9-0_slider_handle_border_radius);pointer-events:none}
`}get classes(){return{root:{"ui5-slider-root-phone":jr()},labelContainer:{"ui5-slider-hidden-labels":this._labelsOverlapping}}}onEnterDOM(){Fg.register(this,this._resizeHandler)}onExitDOM(){Fg.deregister(this,this._resizeHandler)}onAfterRendering(){this.notResized&&this._resizeHandler()}_onmouseover(){this.showTooltip&&(this._tooltipVisibility=Bh.TOOLTIP_VISIBILITY.VISIBLE)}_onmouseout(){this.showTooltip&&!this.shadowRoot.activeElement&&(this._tooltipVisibility=Bh.TOOLTIP_VISIBILITY.HIDDEN)}_onkeydown(i){const e=i.target;o8(i)&&e.classList.contains("ui5-slider-handle")&&e.parentNode.querySelector(".ui5-slider-handle-container ui5-input").focus(),this.disabled||this._effectiveStep===0||e.hasAttribute("ui5-slider-handle")||Bh._isActionKey(i)&&e&&!e.hasAttribute("ui5-input")&&(i.preventDefault(),this._isUserInteraction=!0,this._handleActionKeyPress(i))}_onInputKeydown(i){const e=i.target;o8(i)&&e.hasAttribute("ui5-input")&&e.parentNode.parentNode.querySelector(".ui5-slider-handle").focus(),Dr(i)&&(this._updateInputValue(),this._updateValueFromInput(i))}_onInputChange(){this._valueOnInteractionStart!==this.value&&this.fireDecoratorEvent("change")}_onInputInput(){this.fireDecoratorEvent("input")}_updateValueFromInput(i){const e=i.target,t=parseFloat(e.value);this._isInputValueValid=t>=this._effectiveMin&&t<=this._effectiveMax,this._isInputValueValid&&(this.value=t)}_onKeyupBase(){this.disabled||(this._isUserInteraction=!1)}_preserveFocus(i){this._isInnerElementFocusing=i}_isFocusing(){return this._isInnerElementFocusing}_preventFocusOut(){this.focusInnerElement()}focusInnerElement(){this.focus()}_handleResize(){if(!this.showTickmarks||(this.notResized=!1,this._spaceBetweenTickmarks()<Bh.MIN_SPACE_BETWEEN_TICKMARKS?(this._hiddenTickmarks=!0,this._labelsOverlapping=!0):this._hiddenTickmarks=!1,this.labelInterval<=0||this._hiddenTickmarks))return;const i=this.shadowRoot.querySelectorAll(".ui5-slider-labels li");this._labelsOverlapping=[...i].some(e=>e.scrollWidth>e.clientWidth)}handleDownBase(i){const e=this._effectiveMin,t=this._effectiveMax,n=this.getBoundingClientRect(),r=this.directionStart,o=this._effectiveStep,s=Bh.getValueFromInteraction(i,o,e,t,n,r);return this._isUserInteraction=!0,window.addEventListener("mouseup",this._upHandler),window.addEventListener("touchend",this._upHandler),wW()&&i instanceof TouchEvent?window.addEventListener("touchmove",this._moveHandler):window.addEventListener("mousemove",this._moveHandler),this._handleFocusOnMouseDown(i),s}_handleFocusOnMouseDown(i){const e=this.shadowRoot.activeElement,t=i.target;e&&e===t||t.hasAttribute("ui5-input")||(this._preserveFocus(!0),this.focusInnerElement())}handleUpBase(){window.removeEventListener("mouseup",this._upHandler),window.removeEventListener("touchend",this._upHandler),window.removeEventListener("mousemove",this._moveHandler),window.removeEventListener("touchmove",this._moveHandler),this._isUserInteraction=!1,this._preserveFocus(!1)}updateStateStorageAndFireInputEvent(i){this.storePropertyState(i),this._isUserInteraction&&this.fireDecoratorEvent("input")}static _isActionKey(i){return this.ACTION_KEYS.some(e=>e(i))}static clipValue(i,e,t){return Math.min(Math.max(i,e),t)}static getValueFromInteraction(i,e,t,n,r,o){const s=this.getPageXValueFromEvent(i),a=this.computedValueFromPageX(s,t,n,r,o),l=this.getSteppedValue(a,e,t);return this.clipValue(l,t,n)}static getSteppedValue(i,e,t){const n=Math.abs((i-t)%e);if(e===0||n===0)return i;i=2*n>=e?i+e-n:i-n;const r=Bh._getDecimalPrecisionOfNumber(e);return Number(i.toFixed(r))}static getPageXValueFromEvent(i){return wW()&&i instanceof TouchEvent?i.targetTouches&&i.targetTouches.length>0?i.targetTouches[0].pageX:0:i.pageX}static computedValueFromPageX(i,e,t,n,r){return e+(r==="left"?i-n[r]:n[r]-i)/n.width*(t-e)}static _getDecimalPrecisionOfNumber(i){if(Number.isInteger(i))return 0;const e=String(i).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return!e||e.length<2?0:Math.max(0,(e[1]?e[1].length:0)-(e[2]?Number(e[2]):0))}isCurrentStateOutdated(){return Object.entries(this._stateStorage).some(([i,e])=>this[i]!==e)}getStoredPropertyState(i){return this._stateStorage[i]}isPropertyUpdated(...i){return i.some(e=>this.getStoredPropertyState(e)!==this[e])}storePropertyState(...i){i.forEach(e=>{this._stateStorage[e]=this[e]})}get directionStart(){return this.effectiveDir==="rtl"?"right":"left"}_createLabels(){if(!this.labelInterval||!this.showTickmarks)return;const i=this.labelInterval,e=this._effectiveStep,t=(this._effectiveMax-this._effectiveMin)/(e*i);if(t===this._oldNumberOfLabels&&this._oldMin===this._effectiveMin&&this._oldMax===this._effectiveMax)return;this._oldMin=this._effectiveMin,this._oldMax=this._effectiveMax,this._oldNumberOfLabels=t,this._labelWidth=100/t,this._labelValues=[];const n=Bh._getDecimalPrecisionOfNumber(e);for(let r=0;r<=t;r++){const o=(r*e*i+this._effectiveMin).toFixed(n);this._labelValues.push(o)}}_handleActionKeyPressBase(i,e){const t=Bh._isIncreaseValueAction(i,this.directionStart),n=Bh._isBigStepAction(i),r=this[e],o=this._effectiveMin,s=this._effectiveMax;let a=this._effectiveStep;return a=n&&(s-o)/a>10?(s-o)/10:a,rw(i)?s-r:nw(i)?-1*(r-o):t?a:-1*a}static _isIncreaseValueAction(i,e){return e==="right"?za(i)||y2(i)||Ig(i)||gP(i)||_P(i)||my(i):za(i)||y2(i)||Mg(i)||mP(i)||_P(i)||my(i)}static _isBigStepAction(i){return t8(i)||y2(i)||gP(i)||mP(i)||my(i)||iR(i)}get _tickmarksCount(){return(this._effectiveMax-this._effectiveMin)/this._effectiveStep}_spaceBetweenTickmarks(){return this.getBoundingClientRect().width/this._tickmarksCount}_validateStep(i){i===0&&console.warn("The 'step' property must be a positive float number"),i<0&&console.warn("The 'step' property must be a positive float number. The provided negative number has been converted to its positve equivalent"),Number.isNaN(i)&&console.warn("The 'step' property must be a positive float number. It has been set to its default value of 1")}get _labels(){return this._labelValues||[]}get _effectiveStep(){let i=this.step;return i<0&&(i=Math.abs(i)),Number.isNaN(i)&&(i=1),i}get _effectiveMin(){return Math.min(this.min,this.max)}get _effectiveMax(){return Math.max(this.min,this.max)}get _tabIndex(){return this.disabled?-1:0}get _ariaDescribedByHandleText(){return this.editableTooltip?"ui5-slider-InputDesc":void 0}get _ariaLabelledByHandleText(){return this.accessibleName?"ui5-slider-accName ui5-slider-sliderDesc":"ui5-slider-sliderDesc"}get _ariaDescribedByInputText(){return""}get _ariaLabelledByInputText(){return""}};Da([me({type:Number})],Bs.prototype,"min",void 0),Da([me({type:Number})],Bs.prototype,"max",void 0),Da([me()],Bs.prototype,"name",void 0),Da([me({type:Number})],Bs.prototype,"step",void 0),Da([me({type:Number})],Bs.prototype,"labelInterval",void 0),Da([me({type:Boolean})],Bs.prototype,"showTickmarks",void 0),Da([me({type:Boolean})],Bs.prototype,"showTooltip",void 0),Da([me({type:Boolean})],Bs.prototype,"editableTooltip",void 0),Da([me({type:Boolean})],Bs.prototype,"disabled",void 0),Da([me()],Bs.prototype,"accessibleName",void 0),Da([me({type:Number})],Bs.prototype,"value",void 0),Da([me()],Bs.prototype,"_tooltipVisibility",void 0),Da([me({type:Boolean})],Bs.prototype,"_labelsOverlapping",void 0),Da([me({type:Boolean})],Bs.prototype,"_hiddenTickmarks",void 0),Da([me({type:Boolean})],Bs.prototype,"_isInputValueValid",void 0),Bs=Bh=Da([Xt("change",{bubbles:!0}),Xt("input",{bubbles:!0})],Bs);const Ob=Bs;vi("direction-arrows",{pathData:"M507 244q5 5 5 12 0 6-5 11L394 379q-5 5-12 5-6 0-11-5t-5-11V144q0-12 10-15 2-1 6-1 8 0 12 4zM135 129q10 3 10 15v224q0 6-4.5 11t-11.5 5q-6 0-11-5L5 267q-5-5-5-11 0-7 5-12l113-112q4-4 11-4 4 0 6 1z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("direction-arrows",{pathData:"M135 128q11 0 18 7.5t7 18.5v204q0 11-8 18.5t-18 7.5-17-7L8 275q-8-8-8-19t8-19l109-102q7-7 18-7zm369 109q8 8 8 19t-8 19L395 377q-7 7-17 7t-18-7.5-8-18.5V154q0-12 8-19t19-7q9 0 16 7z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"});var k8,OEe=/[\x00-\x2b\x2f\x3a-\x40\x5b-\x5e\x60\x7b-\xff\u2028\u2029]/g,QEe=/[\x00-\x08\x0b\x0c\x0e-\x1f\x7f-\x9f]/,Pj={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},NEe=function(i){var e=Pj[i];return e||(e=QEe.test(i)?"&#xfffd;":"&#x"+i.charCodeAt(0).toString(16)+";",Pj[i]=e),e},HEe=function(i){return i.replace(OEe,NEe)};(function(i){i.Text="Text",i.Email="Email",i.Number="Number",i.Password="Password",i.Tel="Tel",i.URL="URL",i.Search="Search"})(k8||(k8={}));const nne=k8;function zEe(i){var e;const t=i==null?void 0:i.suggestionsList;return Rt(xr,{children:[this._effectiveShowSuggestions&&((e=this.Suggestions)==null?void 0:e.template.call(this,{suggestionsList:t,valueStateMessage:Lj,valueStateMessageInputIcon:Oj})),this.hasValueStateMessage&&Ce(FS,{preventInitialFocus:!0,preventFocusRestore:!0,hideArrow:!0,class:"ui5-valuestatemessage-popover",placement:"Bottom",tabindex:-1,horizontalAlign:this._valueStatePopoverHorizontalAlign,opener:this,open:this.valueStateOpen,onClose:this._handleValueStatePopoverAfterClose,children:Rt("div",{slot:"header",class:this.classes.popoverValueState,style:this.styles.popoverHeader,children:[Ce(Ur,{class:"ui5-input-value-state-message-icon",name:Oj.call(this)}),this.valueStateOpen&&Lj.call(this)]})})]})}function Lj(){return Ce(xr,{children:this.shouldDisplayDefaultValueStateMessage?this.valueStateText:Ce("slot",{name:"valueStateMessage"})})}function Oj(){return this.valueState!==di.None?{Negative:"error",Critical:"alert",Positive:"sys-enter-2",Information:"information"}[this.valueState]:""}function GEe(){}function VEe(){}bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var go,lp,uR,Zi=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};(function(i){i.CHANGE="change",i.INPUT="input",i.SELECTION_CHANGE="selection-change"})(lp||(lp={})),function(i){i.ACTION_ENTER="enter",i.ACTION_USER_INPUT="input"}(uR||(uR={}));let Qi=go=class extends Xr{get formValidityMessage(){return go.i18nBundle.getText(qSe)}get _effectiveShowSuggestions(){return!(!this.showSuggestions||!this.Suggestions)}get formValidity(){return{valueMissing:this.required&&!this.value}}async formElementAnchor(){return this.getFocusDomRefAsync()}get formFormattedValue(){return this.value}constructor(){super(),this.disabled=!1,this.highlight=!1,this.readonly=!1,this.required=!1,this.noTypeahead=!1,this.type="Text",this.value="",this._innerValue="",this.valueState="None",this.showSuggestions=!1,this.showClearIcon=!1,this.open=!1,this._effectiveShowClearIcon=!1,this.focused=!1,this.valueStateOpen=!1,this._isValueStateFocused=!1,this._inputAccInfo={},this._nativeInputAttributes={},this._inputIconFocused=!1,this.hasSuggestionItemSelected=!1,this.valueBeforeItemSelection="",this.valueBeforeSelectionStart="",this.previousValue="",this.firstRendering=!0,this.typedInValue="",this.lastConfirmedValue="",this.isTyping=!1,this._isLatestValueFromSuggestions=!1,this._isChangeTriggeredBySuggestion=!1,this._indexOfSelectedItem=-1,this._handleResizeBound=this._handleResize.bind(this),this._keepInnerValue=!1,this._focusedAfterClear=!1}onEnterDOM(){Fg.register(this,this._handleResizeBound),Bie(this,this._updateAssociatedLabelsTexts.bind(this))}onExitDOM(){Fg.deregister(this,this._handleResizeBound),Sie(this)}_highlightSuggestionItem(i){var e;i.markupText=this.typedInValue?(e=this.Suggestions)==null?void 0:e.hightlightInput(i.text||"",this.typedInValue):HEe(i.text||"")}_isGroupItem(i){return i.hasAttribute("ui5-suggestion-item-group")}onBeforeRendering(){this._keepInnerValue||(this._innerValue=this.value===null?"":this.value),this.showSuggestions&&(this.enableSuggestions(),this._flattenItems.forEach(s=>{var a;s.hasAttribute("ui5-suggestion-item")?this._highlightSuggestionItem(s):this._isGroupItem(s)&&((a=s.items)==null||a.forEach(l=>{this._highlightSuggestionItem(l)}))})),this._effectiveShowClearIcon=this.showClearIcon&&!!this.value&&!this.readonly&&!this.disabled,this.style.setProperty(Tw("--_ui5-input-icons-count"),`${this.iconsCount}`);const i=!!this._flattenItems.length,e=!!this.value,t=this.shadowRoot.querySelector("input")===Rv();this.shouldDisplayOnlyValueStateMessage?this.openValueStatePopover():this.closeValueStatePopover(),this.disabled||this.readonly?this.open=!1:this._isPhone||(this.open=i&&(this.open||e&&t&&this.isTyping));const n=this.value,r=this.getInputDOMRefSync();if(!r||!n)return;const o=r.selectionEnd-r.selectionStart;if(this._shouldAutocomplete&&!un.android&&!un.androidPhone&&!o&&!this._isKeyNavigation){const s=this._getFirstMatchingItem(n);s&&(this._handleTypeAhead(s),this._selectMatchingItem(s))}}onAfterRendering(){var i;const e=this.getInputDOMRefSync();this.showSuggestions&&((i=this.Suggestions)!=null&&i._getPicker())&&(this._listWidth=this.Suggestions._getListWidth(),this.Suggestions._getList()._itemNavigation._getItems=()=>[]),this._performTextSelection&&(e.value!==this._innerValue&&(e.value=this._innerValue),this.typedInValue.length&&this.value.length&&e.setSelectionRange(this.typedInValue.length,this.value.length),this.fireDecoratorEvent("type-ahead")),this._performTextSelection=!1}_onkeydown(i){if(this._isKeyNavigation=!0,this._shouldAutocomplete=!(this.noTypeahead||(e=i,(e.key?e.key==="Backspace":e.keyCode===8)&&!ss(e)||r8(i)||Rg(i))),za(i))return this._handleUp(i);var e;if(Bl(i))return this._handleDown(i);if(wr(i))return this._handleSpace(i);if(kg(i))return this._handleTab();if(Dr(i)){const t=this.previousValue===this.getInputDOMRefSync().value;return this._enterKeyDown=!0,t&&this._internals.form&&KO(this),this._handleEnter(i)}return my(i)?this._handlePageUp(i):iR(i)?this._handlePageDown(i):nw(i)?this._handleHome(i):rw(i)?this._handleEnd(i):Rg(i)?this._handleEscape():(this.showSuggestions&&this._clearPopoverFocusAndSelection(),void(this._isKeyNavigation=!1))}_onkeyup(i){r8(i)&&(this.value=i.target.value),this._enterKeyDown=!1}get currentItemIndex(){var i;const e=(i=this.Suggestions)==null?void 0:i._getItems(),t=e.find(n=>n.selected||n.focused);return t?e.indexOf(t):-1}_handleUp(i){var e;(e=this.Suggestions)!=null&&e.isOpened()&&this.Suggestions.onUp(i,this.currentItemIndex)}_handleDown(i){var e;(e=this.Suggestions)!=null&&e.isOpened()&&this.Suggestions.onDown(i,this.currentItemIndex)}_handleSpace(i){this.Suggestions&&this.Suggestions.onSpace(i)}_handleTab(){this.Suggestions&&this.previousValue!==this.value&&this.Suggestions.onTab()}_handleEnter(i){var e;const t=!!((e=this.Suggestions)!=null&&e.onEnter(i)),n=this.getInputDOMRefSync(),r=this._selectableItems.find(o=>o.text===this.value);if(r){const o=r.text||"";n.setSelectionRange(o.length,o.length),t||(this.fireSelectionChange(r,!0),this.acceptSuggestion(r,!0),this.open=!1)}!this._isPhone||this._flattenItems.length||this.isTypeNumber||n.setSelectionRange(this.value.length,this.value.length),t?this.focused=!0:this.lastConfirmedValue=this.value}_handlePageUp(i){var e;this._isSuggestionsFocused?(e=this.Suggestions)==null||e.onPageUp(i):i.preventDefault()}_handlePageDown(i){var e;this._isSuggestionsFocused?(e=this.Suggestions)==null||e.onPageDown(i):i.preventDefault()}_handleHome(i){var e;this._isSuggestionsFocused&&((e=this.Suggestions)==null||e.onHome(i))}_handleEnd(i){var e;this._isSuggestionsFocused&&((e=this.Suggestions)==null||e.onEnd(i))}_handleEscape(){var i;const e=this.showSuggestions&&!!this.Suggestions&&this.open,t=this.getInputDOMRefSync(),n=t.selectionEnd-t.selectionStart>0;if(this.isTyping=!1,this.value!==this.previousValue&&this.value!==this.lastConfirmedValue&&!this.open)return this.value=this.lastConfirmedValue?this.lastConfirmedValue:this.previousValue,void this.fireDecoratorEvent(lp.INPUT,{inputType:""});if(e){if(e&&((i=this.Suggestions)!=null&&i._isItemOnTarget()))return this.value=this.typedInValue||this.valueBeforeSelectionStart,void(this.focused=!0);n&&(this.value=this.typedInValue),this._isValueStateFocused&&(this._isValueStateFocused=!1,this.focused=!0)}else this.value=this.lastConfirmedValue?this.lastConfirmedValue:this.previousValue}_onfocusin(i){this.focused=!0,this._focusedAfterClear||(this.previousValue=this.value),this.valueBeforeSelectionStart=this.value,this._inputIconFocused=!!i.target&&i.target===this.querySelector("[ui5-icon]"),this._focusedAfterClear=!1}innerFocusIn(){}_onfocusout(i){var e;const t=i.relatedTarget;(e=this.Suggestions)!=null&&e._getPicker().contains(t)||this.contains(t)||this.getSlottedNodes("valueStateMessage").some(n=>n.contains(t))||(this._keepInnerValue=!1,this.focused=!1,this._isChangeTriggeredBySuggestion=!1,this.showClearIcon&&!this._effectiveShowClearIcon&&(this._clearIconClicked=!1,this._handleChange()),this.open=!1,this._clearPopoverFocusAndSelection(),this._clearIconClicked||(this.previousValue=""),this.lastConfirmedValue="",this.isTyping=!1,this.value!==this.previousValue&&this.showClearIcon&&(this._clearIconClicked=!1))}_clearPopoverFocusAndSelection(){var i,e;this.showSuggestions&&this.Suggestions&&(this._isValueStateFocused=!1,this.hasSuggestionItemSelected=!1,(i=this.Suggestions)==null||i._deselectItems(),(e=this.Suggestions)==null||e._clearItemFocus())}_click(){jr()&&!this.readonly&&this.Suggestions&&(this.blur(),this.open=!0)}_handleChange(){var i;if(this._clearIconClicked)return void(this._clearIconClicked=!1);this.previousValue!==this.getInputDOMRefSync().value&&((i=this.Suggestions)!=null&&i._getPicker().open&&this._flattenItems.some(e=>e.hasAttribute("ui5-suggestion-item")&&e.selected)?this._changeToBeFired=!0:(this._isChangeTriggeredBySuggestion||this.fireDecoratorEvent(lp.CHANGE),this.previousValue=this.value,this.typedInValue=this.value,this._isChangeTriggeredBySuggestion=!1,this._enterKeyDown&&this._internals.form&&KO(this)))}_clear(){const i=this.value;this.value="",this.fireDecoratorEvent(lp.INPUT,{inputType:""})?this._isPhone||(this.fireResetSelectionChange(),this.focus(),this._focusedAfterClear=!0):this.value=i}_iconMouseDown(){this._clearIconClicked=!0}_scroll(i){this.fireDecoratorEvent("suggestion-scroll",{scrollTop:i.detail.scrollTop,scrollContainer:i.detail.targetRef})}_handleSelect(){this.fireDecoratorEvent("select")}_handleInput(i){const e=i.detail&&i.detail.inputType||"";this._input(i,e)}_handleNativeInput(i){const e=i.inputType||"";this._input(i,e)}_input(i,e){const t=this.getInputDOMRefSync(),n=this.value&&this.isTypeNumber&&!t.value;if(this._keepInnerValue=!1,this._shouldAutocomplete=!["deleteWordBackward","deleteWordForward","deleteSoftLineBackward","deleteSoftLineForward","deleteEntireSoftLine","deleteHardLineBackward","deleteHardLineForward","deleteByDrag","deleteByCut","deleteContent","deleteContentBackward","deleteContentForward","historyUndo"].includes(e)&&!this.noTypeahead,i instanceof InputEvent){const r=this.isTypeNumber&&(i.inputType==="deleteContentForward"||i.inputType==="deleteContentBackward")&&!i.target.value.includes(".")&&this.value.includes("."),o=n&&i.data==="e",s=n&&this.value.startsWith("-")&&this.value.length===2&&(i.inputType==="deleteContentForward"||i.inputType==="deleteContentBackward");(r||o||s)&&(this.value=i.target.value,this._keepInnerValue=!0)}i.target===t&&(this.focused=!0,i.stopImmediatePropagation()),this.fireEventByAction(uR.ACTION_ENTER,i),this.hasSuggestionItemSelected=!1,this._isValueStateFocused=!1,this.Suggestions&&this.Suggestions.updateSelectedItemPosition(-1),this.isTyping=!0}_startsWithMatchingItems(i){return e=i,t=this._selectableItems,t.filter(n=>(n.text||"").toLowerCase().startsWith(e.toLowerCase()));var e,t}_getFirstMatchingItem(i){if(!this._flattenItems.length)return;const e=this._startsWithMatchingItems(i).filter(t=>!this._isGroupItem(t));return e.length?e[0]:void 0}_handleSelectionChange(i){var e;(e=this.Suggestions)==null||e.onItemPress(i)}_selectMatchingItem(i){i.selected=!0}_handleTypeAhead(i){const e=i.text?i.text:"";this._innerValue=e,this.value=e,this._performTextSelection=!0,this._shouldAutocomplete=!1}_handleResize(){this._inputWidth=this.offsetWidth}_updateAssociatedLabelsTexts(){this._associatedLabelsTexts=(()=>{const i=[];if(Cie(this).forEach(e=>{const t=e.textContent;t&&i.push(t)}),i.length)return i.join(" ")})(),this._accessibleLabelsRefTexts=oH(this),this._associatedDescriptionRefTexts=lH(this)}_closePicker(){this.open=!1}_afterOpenPicker(){jr()&&this.getInputDOMRef().focus(),this._handlePickerAfterOpen()}_afterClosePicker(){this.announceSelectedItem(),jr()&&(this.blur(),this.focused=!1),this._changeToBeFired&&!this._isChangeTriggeredBySuggestion?(this.previousValue=this.value,this.fireDecoratorEvent(lp.CHANGE)):this._isChangeTriggeredBySuggestion=!1,this._changeToBeFired=!1,this.open=!1,this.isTyping=!1,this.hasSuggestionItemSelected&&this.focus(),this._handlePickerAfterClose()}_handlePickerAfterOpen(){this.fireDecoratorEvent("open")}_handlePickerAfterClose(){var i;(i=this.Suggestions)==null||i._onClose(),this.fireDecoratorEvent("close")}openValueStatePopover(){this.valueStateOpen=!0}closeValueStatePopover(){this.valueStateOpen=!1}_handleValueStatePopoverAfterClose(){this.valueStateOpen=!1}_getValueStatePopover(){return this.shadowRoot.querySelector("[ui5-popover]")}enableSuggestions(){if(this.Suggestions)return;const i=e=>{e.i18nBundle=go.i18nBundle,this.Suggestions=new e(this,"suggestionItems",!0,!1)};go.SuggestionsClass?i(go.SuggestionsClass):Hoe(()=>import("./InputSuggestions-CgnPsyci-DC4R3yY4-BLLG32qW.js"),[],import.meta.url).then(e=>{i(e.default)})}acceptSuggestion(i,e){if(this._isGroupItem(i))return;const t=this.typedInValue||this.value,n=i.text||"",r=e?this.valueBeforeItemSelection!==n:t!==n;this.hasSuggestionItemSelected=!0,this.value=n,r&&this.previousValue!==n&&(this.valueBeforeItemSelection=n,this.lastConfirmedValue=n,this._performTextSelection=!0,this.fireDecoratorEvent(lp.CHANGE),this._isChangeTriggeredBySuggestion=!0,this.typedInValue=this.value,this.previousValue=this.value),this.valueBeforeSelectionStart="",this.isTyping=!1,this.open=!1}updateValueOnSelect(i){const e=this._isGroupItem(i)?this.valueBeforeSelectionStart:i.text;this.value=e||"",this._performTextSelection=!0}fireEventByAction(i,e){const t=this.value,n=this.getInputDOMRefSync();if(this.disabled||this.readonly)return;const r=this.getInputValue(),o=i===uR.ACTION_ENTER;this.value=r,this.typedInValue=r,this.valueBeforeSelectionStart=r;const s=this.value;if(o){const a=e.inputType||"";!this.fireDecoratorEvent(lp.INPUT,{inputType:a})&&(s===this.value&&(this.value=t),n&&(n.value=this.value)),this.fireResetSelectionChange()}}getInputValue(){return this.getDomRef()?this.getInputDOMRef().value:""}getInputDOMRef(){return jr()&&this.Suggestions?this.Suggestions._getPicker().querySelector(".ui5-input-inner-phone"):this.nativeInput}getInputDOMRefSync(){var i;return jr()&&((i=this.Suggestions)!=null&&i._getPicker())?this.Suggestions._getPicker().querySelector(".ui5-input-inner-phone").shadowRoot.querySelector("input"):this.nativeInput}get nativeInput(){const i=this.getDomRef();return i?i.querySelector("input"):null}get nativeInputWidth(){return this.nativeInput?this.nativeInput.offsetWidth:0}isSuggestionsScrollable(){var i;return this.Suggestions?(i=this.Suggestions)==null?void 0:i._isScrollable():Promise.resolve(!1)}onItemMouseDown(i){i.preventDefault()}onItemSelected(i,e){!e&&!(i!=null&&i.focused)&&this.valueBeforeItemSelection!==i.text&&this.fireSelectionChange(i,!0),this.acceptSuggestion(i,e)}_handleSuggestionItemPress(i){var e;(e=this.Suggestions)==null||e.onItemPress(i)}onItemSelect(i){this.valueBeforeItemSelection=this.value,this.updateValueOnSelect(i),this.announceSelectedItem(),this.fireSelectionChange(i,!0)}get _flattenItems(){return this.getSlottedNodes("suggestionItems").flatMap(i=>this._isGroupItem(i)?[i,...i.items]:[i])}get _selectableItems(){return this._flattenItems.filter(i=>!this._isGroupItem(i))}get valueStateTypeMappings(){return{Positive:go.i18nBundle.getText(wie),Information:go.i18nBundle.getText(xie),Negative:go.i18nBundle.getText(bie),Critical:go.i18nBundle.getText(yie)}}valueStateTextMappings(){return{Positive:go.i18nBundle.getText(zk),Information:go.i18nBundle.getText(rH),Negative:go.i18nBundle.getText(Nk),Critical:go.i18nBundle.getText(Hk)}}announceSelectedItem(){const i=this.shadowRoot.querySelector("#selectionText");i&&(i.textContent=this.itemSelectionAnnounce)}fireSelectionChange(i,e){this.Suggestions&&(this.fireDecoratorEvent(lp.SELECTION_CHANGE,{item:i}),this._isLatestValueFromSuggestions=e)}fireResetSelectionChange(){this._isLatestValueFromSuggestions&&this.fireSelectionChange(null,!1)}get _readonly(){return this.readonly&&!this.disabled}get _headerTitleText(){return go.i18nBundle.getText(vie)}get clearIconAccessibleName(){return go.i18nBundle.getText(dSe)}get _popupLabel(){return go.i18nBundle.getText(BSe)}get inputType(){return this.type}get inputNativeType(){return this.type.toLowerCase()}get isTypeNumber(){return this.type===nne.Number}get suggestionsTextId(){return this.showSuggestions?"suggestionsText":""}get valueStateTextId(){return this.hasValueState?"valueStateDesc":""}get _accInfoAriaDescription(){return this._inputAccInfo&&this._inputAccInfo.ariaDescription||""}get _accInfoAriaDescriptionId(){return this._accInfoAriaDescription!==""?"descr":""}get ariaDescriptionText(){return this._associatedDescriptionRefTexts||Eie(this)}get ariaDescriptionTextId(){return this.ariaDescriptionText?"accessibleDescription":""}get ariaDescribedByIds(){return[this.suggestionsTextId,this.valueStateTextId,this._inputAccInfo.ariaDescribedBy,this._accInfoAriaDescriptionId,this.ariaDescriptionTextId].filter(Boolean).join(" ")}get accInfo(){const i=this.showSuggestions?"dialog":void 0,e=this.showSuggestions?"list":void 0;return{ariaRoledescription:this._inputAccInfo&&(this._inputAccInfo.ariaRoledescription||void 0),ariaDescribedBy:this.ariaDescribedByIds||void 0,ariaInvalid:this.valueState===di.Negative||void 0,ariaHasPopup:this._inputAccInfo.ariaHasPopup?this._inputAccInfo.ariaHasPopup:i,ariaAutoComplete:this._inputAccInfo.ariaAutoComplete?this._inputAccInfo.ariaAutoComplete:e,role:this._inputAccInfo&&this._inputAccInfo.role,ariaControls:this._inputAccInfo&&this._inputAccInfo.ariaControls,ariaExpanded:this._inputAccInfo&&this._inputAccInfo.ariaExpanded,ariaDescription:this._accInfoAriaDescription,accessibleDescription:this.ariaDescriptionText,ariaLabel:this._inputAccInfo&&this._inputAccInfo.ariaLabel||this._accessibleLabelsRefTexts||this.accessibleName||this._associatedLabelsTexts||void 0}}get nativeInputAttributes(){return{min:this.isTypeNumber?this._nativeInputAttributes.min:void 0,max:this.isTypeNumber?this._nativeInputAttributes.max:void 0,step:this.isTypeNumber?this._nativeInputAttributes.step||"any":void 0}}get ariaValueStateHiddenText(){if(!this.hasValueState)return;const i=this.valueState!==di.None?this.valueStateTypeMappings[this.valueState]:"";return this.shouldDisplayDefaultValueStateMessage?this.valueStateText?`${i} ${this.valueStateText}`:i:`${i}`.concat(" ",this.valueStateMessage.map(e=>e.textContent).join(" "))}get itemSelectionAnnounce(){return this.Suggestions?this.Suggestions.itemSelectionAnnounce:""}get iconsCount(){return(this.icon?this.icon.length:0)+(Number(this._effectiveShowClearIcon)??0)}get classes(){return{popover:{"ui5-suggestions-popover":this.showSuggestions,"ui5-popover-with-value-state-header-phone":this._isPhone&&this.showSuggestions&&this.hasValueStateMessage,"ui5-popover-with-value-state-header":!this._isPhone&&this.showSuggestions&&this.hasValueStateMessage},popoverValueState:{"ui5-valuestatemessage-root":!0,"ui5-valuestatemessage-header":!0,"ui5-valuestatemessage--success":this.valueState===di.Positive,"ui5-valuestatemessage--error":this.valueState===di.Negative,"ui5-valuestatemessage--warning":this.valueState===di.Critical,"ui5-valuestatemessage--information":this.valueState===di.Information}}}get styles(){const i=parseInt(getComputedStyle(document.documentElement).fontSize);return{popoverHeader:{"max-width":this._inputWidth?`${this._inputWidth}px`:""},suggestionPopoverHeader:{display:this._listWidth===0?"none":"inline-block",width:this._listWidth?`${this._listWidth}px`:""},suggestionsPopover:{"min-width":this._inputWidth?`${this._inputWidth}px`:"","max-width":this._inputWidth&&this._inputWidth/i>40?`${this._inputWidth}px`:"40rem"},innerInput:{padding:""}}}get suggestionSeparators(){return"None"}get shouldDisplayOnlyValueStateMessage(){return this.hasValueStateMessage&&!this.readonly&&!this.open&&this.focused}get shouldDisplayDefaultValueStateMessage(){return!this.valueStateMessage.length&&this.hasValueStateMessage}get hasValueState(){return this.valueState!==di.None}get hasValueStateMessage(){return this.hasValueState&&this.valueState!==di.Positive&&(!this._inputIconFocused||!(!this._isPhone||!this.Suggestions))}get valueStateText(){return this.valueState!==di.None?this.valueStateTextMappings()[this.valueState]:void 0}get suggestionsText(){return go.i18nBundle.getText(cSe)}get availableSuggestionsCount(){var i;if(this.showSuggestions&&(this.value||(i=this.Suggestions)!=null&&i.isOpened())){const e=this._selectableItems;switch(e.length){case 0:return go.i18nBundle.getText(ASe);case 1:return go.i18nBundle.getText(uSe);default:return go.i18nBundle.getText(hSe,e.length)}}}get step(){return this.isTypeNumber?"any":void 0}get _isPhone(){return jr()}get _isSuggestionsFocused(){var i;return!this.focused&&((i=this.Suggestions)==null?void 0:i.isOpened())}get _placeholder(){return this.placeholder}get _valueStateInputIcon(){return this.valueState!==di.None?`
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="20" viewBox="0 0 20 20" fill="none">
				${{Negative:'<path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" d="M10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C20 15.5228 15.5228 20 10 20ZM7.70711 13.7071C7.31658 14.0976 6.68342 14.0976 6.29289 13.7071C5.90237 13.3166 5.90237 12.6834 6.29289 12.2929L8.58579 10L6.29289 7.70711C5.90237 7.31658 5.90237 6.68342 6.29289 6.29289C6.68342 5.90237 7.31658 5.90237 7.70711 6.29289L10 8.58579L12.2929 6.29289C12.6834 5.90237 13.3166 5.90237 13.7071 6.29289C14.0976 6.68342 14.0976 7.31658 13.7071 7.70711L11.4142 10L13.7071 12.2929C14.0976 12.6834 14.0976 13.3166 13.7071 13.7071C13.3166 14.0976 12.6834 14.0976 12.2929 13.7071L10 11.4142L7.70711 13.7071Z" fill="#EE3939"/>',Critical:'<path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" d="M11.8619 0.49298C11.6823 0.187541 11.3544 0 11 0C10.6456 0 10.3177 0.187541 10.1381 0.49298L0.138066 17.493C-0.0438112 17.8022 -0.0461447 18.1851 0.13195 18.4965C0.310046 18.8079 0.641283 19 1 19H21C21.3587 19 21.69 18.8079 21.868 18.4965C22.0461 18.1851 22.0438 17.8022 21.8619 17.493L11.8619 0.49298ZM11 6C11.5523 6 12 6.44772 12 7V10C12 10.5523 11.5523 11 11 11C10.4477 11 10 10.5523 10 10V7C10 6.44772 10.4477 6 11 6ZM11 16C11.8284 16 12.5 15.3284 12.5 14.5C12.5 13.6716 11.8284 13 11 13C10.1716 13 9.5 13.6716 9.5 14.5C9.5 15.3284 10.1716 16 11 16Z" fill="#F58B00"/>',Positive:'<path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" d="M0 10C0 15.5228 4.47715 20 10 20C15.5228 20 20 15.5228 20 10C20 4.47715 15.5228 0 10 0C4.47715 0 0 4.47715 0 10ZM14.7071 6.29289C14.3166 5.90237 13.6834 5.90237 13.2929 6.29289L8 11.5858L6.70711 10.2929C6.31658 9.90237 5.68342 9.90237 5.29289 10.2929C4.90237 10.6834 4.90237 11.3166 5.29289 11.7071L7.29289 13.7071C7.68342 14.0976 8.31658 14.0976 8.70711 13.7071L14.7071 7.70711C15.0976 7.31658 15.0976 6.68342 14.7071 6.29289Z" fill="#36A41D"/>',Information:'<path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" d="M3 0C1.34315 0 0 1.34315 0 3V15C0 16.6569 1.34315 18 3 18H15C16.6569 18 18 16.6569 18 15V3C18 1.34315 16.6569 0 15 0H3ZM9 6.5C9.82843 6.5 10.5 5.82843 10.5 5C10.5 4.17157 9.82843 3.5 9 3.5C8.17157 3.5 7.5 4.17157 7.5 5C7.5 5.82843 8.17157 6.5 9 6.5ZM9 8.5C9.55228 8.5 10 8.94772 10 9.5V13.5C10 14.0523 9.55228 14.5 9 14.5C8.44771 14.5 8 14.0523 8 13.5V9.5C8 8.94772 8.44771 8.5 9 8.5Z" fill="#1B90FF"/>'}[this.valueState]};
			</svg>
			`:""}get _valueStatePopoverHorizontalAlign(){return this.effectiveDir!=="rtl"?"Start":"End"}get _valueStateMessageInputIcon(){return this.valueState!==di.None?{Negative:"error",Critical:"alert",Positive:"sys-enter-2",Information:"information"}[this.valueState]:""}getCaretPosition(){return(i=>{let e=0;return(i.selectionStart||i.selectionStart===0)&&(e=i.selectionDirection==="backward"?i.selectionStart:i.selectionEnd),e})(this.nativeInput)}setCaretPosition(i){((e,t)=>{e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus()})(this.nativeInput,i)}removeFractionalPart(i){return i.includes(".")?i.slice(0,i.indexOf(".")):i.includes(",")?i.slice(0,i.indexOf(",")):i}};Zi([me({type:Boolean})],Qi.prototype,"disabled",void 0),Zi([me({type:Boolean})],Qi.prototype,"highlight",void 0),Zi([me()],Qi.prototype,"placeholder",void 0),Zi([me({type:Boolean})],Qi.prototype,"readonly",void 0),Zi([me({type:Boolean})],Qi.prototype,"required",void 0),Zi([me({type:Boolean})],Qi.prototype,"noTypeahead",void 0),Zi([me()],Qi.prototype,"type",void 0),Zi([me()],Qi.prototype,"value",void 0),Zi([me({noAttribute:!0})],Qi.prototype,"_innerValue",void 0),Zi([me()],Qi.prototype,"valueState",void 0),Zi([me()],Qi.prototype,"name",void 0),Zi([me({type:Boolean})],Qi.prototype,"showSuggestions",void 0),Zi([me({type:Number})],Qi.prototype,"maxlength",void 0),Zi([me()],Qi.prototype,"accessibleName",void 0),Zi([me()],Qi.prototype,"accessibleNameRef",void 0),Zi([me()],Qi.prototype,"accessibleDescription",void 0),Zi([me()],Qi.prototype,"accessibleDescriptionRef",void 0),Zi([me({type:Boolean})],Qi.prototype,"showClearIcon",void 0),Zi([me({type:Boolean})],Qi.prototype,"open",void 0),Zi([me({type:Boolean})],Qi.prototype,"_effectiveShowClearIcon",void 0),Zi([me({type:Boolean})],Qi.prototype,"focused",void 0),Zi([me()],Qi.prototype,"hint",void 0),Zi([me({type:Boolean})],Qi.prototype,"valueStateOpen",void 0),Zi([me({type:Boolean})],Qi.prototype,"_isValueStateFocused",void 0),Zi([me({type:Object})],Qi.prototype,"_inputAccInfo",void 0),Zi([me({type:Object})],Qi.prototype,"_nativeInputAttributes",void 0),Zi([me({type:Number})],Qi.prototype,"_inputWidth",void 0),Zi([me({type:Number})],Qi.prototype,"_listWidth",void 0),Zi([me({type:Boolean,noAttribute:!0})],Qi.prototype,"_inputIconFocused",void 0),Zi([me({noAttribute:!0})],Qi.prototype,"_associatedLabelsTexts",void 0),Zi([me({noAttribute:!0})],Qi.prototype,"_accessibleLabelsRefTexts",void 0),Zi([me({noAttribute:!0})],Qi.prototype,"_associatedDescriptionRefTexts",void 0),Zi([me({type:Object})],Qi.prototype,"Suggestions",void 0),Zi([Jn({type:HTMLElement,default:!0})],Qi.prototype,"suggestionItems",void 0),Zi([Jn()],Qi.prototype,"icon",void 0),Zi([Jn({type:HTMLElement,invalidateOnChildChange:!0})],Qi.prototype,"valueStateMessage",void 0),Zi([wo("@ui5/webcomponents")],Qi,"i18nBundle",void 0),Qi=go=Zi([wn({tag:"ui5-input",languageAware:!0,formAssociated:!0,renderer:Br,template:function(i){const e=i==null?void 0:i.suggestionsList,t=(i==null?void 0:i.preContent)||GEe,n=(i==null?void 0:i.postContent)||VEe;return Rt(xr,{children:[Ce("div",{class:"ui5-input-root ui5-input-focusable-element",part:"root",onFocusIn:this._onfocusin,onFocusOut:this._onfocusout,children:Rt("div",{class:"ui5-input-content",children:[t.call(this),Ce("input",{id:"inner",part:"input",class:"ui5-input-inner",style:this.styles.innerInput,type:this.inputNativeType,"inner-input":!0,"inner-input-with-icon":this.icon.length,disabled:this.disabled,readonly:this._readonly,value:this._innerValue,placeholder:this._placeholder,maxlength:this.maxlength,role:this.accInfo.role,enterkeyhint:this.hint,"aria-controls":this.accInfo.ariaControls,"aria-invalid":this.accInfo.ariaInvalid,"aria-haspopup":this.accInfo.ariaHasPopup,"aria-describedby":this.accInfo.ariaDescribedBy,"aria-roledescription":this.accInfo.ariaRoledescription,"aria-autocomplete":this.accInfo.ariaAutoComplete,"aria-expanded":this.accInfo.ariaExpanded,"aria-label":this.accInfo.ariaLabel,"aria-required":this.required,autocomplete:"off","data-sap-focus-ref":!0,step:this.nativeInputAttributes.step,min:this.nativeInputAttributes.min,max:this.nativeInputAttributes.max,onInput:this._handleNativeInput,onChange:this._handleChange,onSelect:this._handleSelect,onKeyDown:this._onkeydown,onKeyUp:this._onkeyup,onClick:this._click,onFocusIn:this.innerFocusIn}),this._effectiveShowClearIcon&&Ce("div",{tabindex:-1,class:"ui5-input-clear-icon-wrapper inputIcon",part:"clear-icon-wrapper",onClick:this._clear,onMouseDown:this._iconMouseDown,children:Ce(Ur,{part:"clear-icon",class:"ui5-input-clear-icon",name:Gk,tabindex:-1,accessibleName:this.clearIconAccessibleName})}),this.icon.length>0&&Ce("div",{class:"ui5-input-icon-root",tabindex:-1,children:Ce("slot",{name:"icon"})}),Ce("div",{class:"ui5-input-value-state-icon",children:this._valueStateInputIcon}),n.call(this),this._effectiveShowSuggestions&&Rt(xr,{children:[Ce("span",{id:"suggestionsText",class:"ui5-hidden-text",children:this.suggestionsText}),Ce("span",{id:"selectionText",class:"ui5-hidden-text","aria-live":"polite",role:"status"}),Ce("span",{id:"suggestionsCount",class:"ui5-hidden-text","aria-live":"polite",children:this.availableSuggestionsCount})]}),this.accInfo.ariaDescription&&Ce("span",{id:"descr",class:"ui5-hidden-text",children:this.accInfo.ariaDescription}),this.accInfo.accessibleDescription&&Ce("span",{id:"accessibleDescription",class:"ui5-hidden-text",children:this.accInfo.accessibleDescription}),this.hasValueState&&Ce("span",{id:"valueStateDesc",class:"ui5-hidden-text",children:this.ariaValueStateHiddenText})]})}),zEe.call(this,{suggestionsList:e})]})},styles:[`:host{vertical-align:middle}.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}.inputIcon{color:var(--_ui5-v2-9-0_input_icon_color);cursor:pointer;outline:none;padding:var(--_ui5-v2-9-0_input_icon_padding);border-inline-start:var(--_ui5-v2-9-0_input_icon_border);min-width:1rem;min-height:1rem;border-radius:var(--_ui5-v2-9-0_input_icon_border_radius)}.inputIcon.inputIcon--pressed{background:var(--_ui5-v2-9-0_input_icon_pressed_bg);box-shadow:var(--_ui5-v2-9-0_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-9-0_select_hover_icon_left_border);color:var(--_ui5-v2-9-0_input_icon_pressed_color)}.inputIcon:active{background-color:var(--sapButton_Active_Background);box-shadow:var(--_ui5-v2-9-0_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-9-0_select_hover_icon_left_border);color:var(--_ui5-v2-9-0_input_icon_pressed_color)}.inputIcon:not(.inputIcon--pressed):not(:active):hover{background:var(--_ui5-v2-9-0_input_icon_hover_bg);box-shadow:var(--_ui5-v2-9-0_input_icon_box_shadow)}.inputIcon:hover{border-inline-start:var(--_ui5-v2-9-0_select_hover_icon_left_border);box-shadow:var(--_ui5-v2-9-0_input_icon_box_shadow)}:host(:not([hidden])){display:inline-block}:host{width:var(--_ui5-v2-9-0_input_width);min-width:calc(var(--_ui5-v2-9-0_input_min_width) + (var(--_ui5-v2-9-0-input-icons-count)*var(--_ui5-v2-9-0_input_icon_width)));margin:var(--_ui5-v2-9-0_input_margin_top_bottom) 0;height:var(--_ui5-v2-9-0_input_height);color:var(--sapField_TextColor);font-size:var(--sapFontSize);font-family:"72override",var(--sapFontFamily);font-style:normal;border:var(--_ui5-v2-9-0-input-border);border-radius:var(--_ui5-v2-9-0_input_border_radius);box-sizing:border-box;text-align:start;transition:var(--_ui5-v2-9-0_input_transition);background:var(--sapField_BackgroundStyle);background-color:var(--_ui5-v2-9-0_input_background_color)}:host(:not([readonly])),:host([readonly][disabled]){box-shadow:var(--sapField_Shadow)}:host([focused]:not([opened])){border-color:var(--_ui5-v2-9-0_input_focused_border_color);background-color:var(--sapField_Focus_Background)}.ui5-input-focusable-element{position:relative}:host([focused]:not([opened])) .ui5-input-focusable-element:after{content:var(--ui5-v2-9-0_input_focus_pseudo_element_content);position:absolute;pointer-events:none;z-index:2;border:var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--_ui5-v2-9-0_input_focus_outline_color);border-radius:var(--_ui5-v2-9-0_input_focus_border_radius);top:var(--_ui5-v2-9-0_input_focus_offset);bottom:var(--_ui5-v2-9-0_input_focus_offset);left:var(--_ui5-v2-9-0_input_focus_offset);right:var(--_ui5-v2-9-0_input_focus_offset)}:host([focused][readonly]:not([opened])) .ui5-input-focusable-element:after{top:var(--_ui5-v2-9-0_input_readonly_focus_offset);bottom:var(--_ui5-v2-9-0_input_readonly_focus_offset);left:var(--_ui5-v2-9-0_input_readonly_focus_offset);right:var(--_ui5-v2-9-0_input_readonly_focus_offset);border-radius:var(--_ui5-v2-9-0_input_readonly_focus_border_radius)}.ui5-input-root:before{content:"";position:absolute;width:calc(100% - 2px);left:1px;bottom:-2px;border-bottom-left-radius:8px;border-bottom-right-radius:8px;height:var(--_ui5-v2-9-0_input_bottom_border_height);transition:var(--_ui5-v2-9-0_input_transition);background-color:var(--_ui5-v2-9-0_input_bottom_border_color)}.ui5-input-root{width:100%;height:100%;position:relative;background:transparent;display:inline-block;outline:none;box-sizing:border-box;color:inherit;transition:border-color .2s ease-in-out;border-radius:var(--_ui5-v2-9-0_input_border_radius);overflow:hidden}:host([disabled]){opacity:var(--_ui5-v2-9-0_input_disabled_opacity);cursor:default;pointer-events:none;background-color:var(--_ui5-v2-9-0-input_disabled_background);border-color:var(--_ui5-v2-9-0_input_disabled_border_color)}:host([disabled]) .ui5-input-root:before,:host([readonly]) .ui5-input-root:before{content:none}[inner-input]{background:transparent;color:inherit;border:none;font-style:inherit;-webkit-appearance:none;-moz-appearance:textfield;padding:var(--_ui5-v2-9-0_input_inner_padding);box-sizing:border-box;width:100%;text-overflow:ellipsis;flex:1;outline:none;font-size:inherit;font-family:inherit;line-height:inherit;letter-spacing:inherit;word-spacing:inherit;text-align:inherit}[inner-input][inner-input-with-icon]{padding:var(--_ui5-v2-9-0_input_inner_padding_with_icon)}[inner-input][type=search]::-webkit-search-decoration,[inner-input][type=search]::-webkit-search-cancel-button,[inner-input][type=search]::-webkit-search-results-button,[inner-input][type=search]::-webkit-search-results-decoration{display:none}[inner-input]::-ms-reveal,[inner-input]::-ms-clear{display:none}.ui5-input-value-state-icon{height:100%;display:var(--_ui5-v2-9-0-input-value-state-icon-display);align-items:center}.ui5-input-value-state-icon>svg{margin-right:8px}[inner-input]::selection{background:var(--sapSelectedColor);color:var(--sapContent_ContrastTextColor)}:host([disabled]) [inner-input]::-webkit-input-placeholder{visibility:hidden}:host([readonly]) [inner-input]::-webkit-input-placeholder{visibility:hidden}:host([disabled]) [inner-input]::-moz-placeholder{visibility:hidden}:host([readonly]) [inner-input]::-moz-placeholder{visibility:hidden}[inner-input]::-webkit-input-placeholder{font-weight:400;font-style:var(--_ui5-v2-9-0_input_placeholder_style);color:var(--_ui5-v2-9-0_input_placeholder_color);padding-right:.125rem}[inner-input]::-moz-placeholder{font-weight:400;font-style:var(--_ui5-v2-9-0_input_placeholder_style);color:var(--_ui5-v2-9-0_input_placeholder_color);padding-right:.125rem}:host([value-state="Negative"]) [inner-input]::-webkit-input-placeholder{color:var(--_ui5-v2-9-0-input_error_placeholder_color);font-weight:var(--_ui5-v2-9-0_input_value_state_error_warning_placeholder_font_weight)}:host([value-state="Negative"]) [inner-input]::-moz-placeholder{color:var(--_ui5-v2-9-0-input_error_placeholder_color);font-weight:var(--_ui5-v2-9-0_input_value_state_error_warning_placeholder_font_weight)}:host([value-state="Critical"]) [inner-input]::-webkit-input-placeholder{font-weight:var(--_ui5-v2-9-0_input_value_state_error_warning_placeholder_font_weight)}:host([value-state="Critical"]) [inner-input]::-moz-placeholder{font-weight:var(--_ui5-v2-9-0_input_value_state_error_warning_placeholder_font_weight)}:host([value-state="Positive"]) [inner-input]::-webkit-input-placeholder{color:var(--_ui5-v2-9-0_input_placeholder_color)}:host([value-state="Positive"]) [inner-input]::-moz-placeholder{color:var(--_ui5-v2-9-0_input_placeholder_color)}:host([value-state="Information"]) [inner-input]::-webkit-input-placeholder{color:var(--_ui5-v2-9-0_input_placeholder_color)}:host([value-state="Information"]) [inner-input]::-moz-placeholder{color:var(--_ui5-v2-9-0_input_placeholder_color)}.ui5-input-content{height:100%;box-sizing:border-box;display:flex;flex-direction:row;justify-content:flex-end;overflow:hidden;outline:none;background:transparent;color:inherit;border-radius:var(--_ui5-v2-9-0_input_border_radius)}:host([readonly]:not([disabled])){border:var(--_ui5-v2-9-0_input_readonly_border);background:var(--sapField_ReadOnly_BackgroundStyle);background-color:var(--_ui5-v2-9-0_input_readonly_background)}:host([value-state="None"]:not([readonly]):hover),:host(:not([value-state]):not([readonly]):hover){border:var(--_ui5-v2-9-0_input_hover_border);border-color:var(--_ui5-v2-9-0_input_focused_border_color);box-shadow:var(--sapField_Hover_Shadow);background:var(--sapField_Hover_BackgroundStyle);background-color:var(--sapField_Hover_Background)}:host(:not([value-state]):not([readonly])[focused]:not([opened]):hover),:host([value-state="None"]:not([readonly])[focused]:not([opened]):hover){box-shadow:none}:host([focused]):not([opened]) .ui5-input-root:before{content:none}:host(:not([readonly]):not([disabled])[value-state]:not([value-state="None"])){border-width:var(--_ui5-v2-9-0_input_state_border_width)}:host([value-state="Negative"]) [inner-input],:host([value-state="Critical"]) [inner-input]{font-style:var(--_ui5-v2-9-0_input_error_warning_font_style);text-indent:var(--_ui5-v2-9-0_input_error_warning_text_indent)}:host([value-state="Negative"]) [inner-input]{font-weight:var(--_ui5-v2-9-0_input_error_font_weight)}:host([value-state="Critical"]) [inner-input]{font-weight:var(--_ui5-v2-9-0_input_warning_font_weight)}:host([value-state="Negative"]:not([readonly]):not([disabled])){background:var(--sapField_InvalidBackgroundStyle);background-color:var(--sapField_InvalidBackground);border-color:var(--_ui5-v2-9-0_input_value_state_error_border_color);box-shadow:var(--sapField_InvalidShadow)}:host([value-state="Negative"][focused]:not([opened]):not([readonly])){background-color:var(--_ui5-v2-9-0_input_focused_value_state_error_background);border-color:var(--_ui5-v2-9-0_input_focused_value_state_error_border_color)}:host([value-state="Negative"][focused]:not([opened]):not([readonly])) .ui5-input-focusable-element:after{border-color:var(--_ui5-v2-9-0_input_focused_value_state_error_focus_outline_color)}:host([value-state="Negative"]:not([readonly])) .ui5-input-root:before{background-color:var(--_ui5-v2-9-0-input-value-state-error-border-botom-color)}:host([value-state="Negative"]:not([readonly]):not([focused]):hover),:host([value-state="Negative"]:not([readonly])[focused][opened]:hover){background-color:var(--_ui5-v2-9-0_input_value_state_error_hover_background);box-shadow:var(--sapField_Hover_InvalidShadow)}:host([value-state="Negative"]:not([readonly]):not([disabled])),:host([value-state="Critical"]:not([readonly]):not([disabled])),:host([value-state="Information"]:not([readonly]):not([disabled])){border-style:var(--_ui5-v2-9-0_input_error_warning_border_style)}:host([value-state="Critical"]:not([readonly]):not([disabled])){background:var(--sapField_WarningBackgroundStyle);background-color:var(--sapField_WarningBackground);border-color:var(--_ui5-v2-9-0_input_value_state_warning_border_color);box-shadow:var(--sapField_WarningShadow)}:host([value-state="Critical"][focused]:not([opened]):not([readonly])){background-color:var(--_ui5-v2-9-0_input_focused_value_state_warning_background);border-color:var(--_ui5-v2-9-0_input_focused_value_state_warning_border_color)}:host([value-state="Critical"][focused]:not([opened]):not([readonly])) .ui5-input-focusable-element:after{border-color:var(--_ui5-v2-9-0_input_focused_value_state_warning_focus_outline_color)}:host([value-state="Critical"]:not([readonly])) .ui5-input-root:before{background-color:var(--_ui5-v2-9-0_input_value_state_warning_border_botom_color)}:host([value-state="Critical"]:not([readonly]):not([focused]):hover),:host([value-state="Critical"]:not([readonly])[focused][opened]:hover){background-color:var(--sapField_Hover_Background);box-shadow:var(--sapField_Hover_WarningShadow)}:host([value-state="Positive"]:not([readonly]):not([disabled])){background:var(--sapField_SuccessBackgroundStyle);background-color:var(--sapField_SuccessBackground);border-color:var(--_ui5-v2-9-0_input_value_state_success_border_color);border-width:var(--_ui5-v2-9-0_input_value_state_success_border_width);box-shadow:var(--sapField_SuccessShadow)}:host([value-state="Positive"][focused]:not([opened]):not([readonly])){background-color:var(--_ui5-v2-9-0_input_focused_value_state_success_background);border-color:var(--_ui5-v2-9-0_input_focused_value_state_success_border_color)}:host([value-state="Positive"][focused]:not([opened]):not([readonly])) .ui5-input-focusable-element:after{border-color:var(--_ui5-v2-9-0_input_focused_value_state_success_focus_outline_color)}:host([value-state="Positive"]:not([readonly])) .ui5-input-root:before{background-color:var(--_ui5-v2-9-0_input_value_state_success_border_botom_color)}:host([value-state="Positive"]:not([readonly]):not([focused]):hover),:host([value-state="Positive"]:not([readonly])[focused][opened]:hover){background-color:var(--sapField_Hover_Background);box-shadow:var(--sapField_Hover_SuccessShadow)}:host([value-state="Information"]:not([readonly]):not([disabled])){background:var(--sapField_InformationBackgroundStyle);background-color:var(--sapField_InformationBackground);border-color:var(--_ui5-v2-9-0_input_value_state_information_border_color);border-width:var(--_ui5-v2-9-0_input_information_border_width);box-shadow:var(--sapField_InformationShadow)}:host([value-state="Information"][focused]:not([opened]):not([readonly])){background-color:var(--_ui5-v2-9-0_input_focused_value_state_information_background);border-color:var(--_ui5-v2-9-0_input_focused_value_state_information_border_color)}:host([value-state="Information"]:not([readonly])) .ui5-input-root:before{background-color:var(--_ui5-v2-9-0_input_value_success_information_border_botom_color)}:host([value-state="Information"]:not([readonly]):not([focused]):hover),:host([value-state="Information"]:not([readonly])[focused][opened]:hover){background-color:var(--sapField_Hover_Background);box-shadow:var(--sapField_Hover_InformationShadow)}.ui5-input-icon-root{min-width:var(--_ui5-v2-9-0_input_icon_min_width);height:100%;display:flex;justify-content:center;align-items:center}::slotted([ui5-icon][slot="icon"]){align-self:start;padding:var(--_ui5-v2-9-0_input_custom_icon_padding);box-sizing:content-box!important}:host([value-state="Negative"]) .inputIcon,:host([value-state="Critical"]) .inputIcon{padding:var(--_ui5-v2-9-0_input_error_warning_icon_padding)}:host([value-state="Negative"][focused]) .inputIcon,:host([value-state="Critical"][focused]) .inputIcon{padding:var(--_ui5-v2-9-0_input_error_warning_focused_icon_padding)}:host([value-state="Information"]) .inputIcon{padding:var(--_ui5-v2-9-0_input_information_icon_padding)}:host([value-state="Information"][focused]) .inputIcon{padding:var(--_ui5-v2-9-0_input_information_focused_icon_padding)}:host([value-state="Negative"]) ::slotted(.inputIcon[ui5-icon]),:host([value-state="Negative"]) ::slotted([ui5-icon][slot="icon"]),:host([value-state="Critical"]) ::slotted([ui5-icon][slot="icon"]){padding:var(--_ui5-v2-9-0_input_error_warning_custom_icon_padding)}:host([value-state="Negative"][focused]) ::slotted(.inputIcon[ui5-icon]),:host([value-state="Negative"][focused]) ::slotted([ui5-icon][slot="icon"]),:host([value-state="Critical"][focused]) ::slotted([ui5-icon][slot="icon"]){padding:var(--_ui5-v2-9-0_input_error_warning_custom_focused_icon_padding)}:host([value-state="Information"]) ::slotted([ui5-icon][slot="icon"]){padding:var(--_ui5-v2-9-0_input_information_custom_icon_padding)}:host([value-state="Information"][focused]) ::slotted([ui5-icon][slot="icon"]){padding:var(--_ui5-v2-9-0_input_information_custom_focused_icon_padding)}:host([value-state="Negative"]) .inputIcon:active,:host([value-state="Negative"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-9-0_input_error_icon_box_shadow);color:var(--_ui5-v2-9-0_input_icon_error_pressed_color)}:host([value-state="Negative"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-9-0_input_error_icon_box_shadow)}:host([value-state="Critical"]) .inputIcon:active,:host([value-state="Critical"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-9-0_input_warning_icon_box_shadow);color:var(--_ui5-v2-9-0_input_icon_warning_pressed_color)}:host([value-state="Critical"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-9-0_input_warning_icon_box_shadow)}:host([value-state="Information"]) .inputIcon:active,:host([value-state="Information"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-9-0_input_information_icon_box_shadow);color:var(--_ui5-v2-9-0_input_icon_information_pressed_color)}:host([value-state="Information"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-9-0_input_information_icon_box_shadow)}:host([value-state="Positive"]) .inputIcon:active,:host([value-state="Positive"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-9-0_input_success_icon_box_shadow);color:var(--_ui5-v2-9-0_input_icon_success_pressed_color)}:host([value-state="Positive"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-9-0_input_success_icon_box_shadow)}.ui5-input-clear-icon-wrapper{height:var(--_ui5-v2-9-0_input_icon_wrapper_height);padding:0;width:var(--_ui5-v2-9-0_input_icon_width);min-width:var(--_ui5-v2-9-0_input_icon_width);display:flex;justify-content:center;align-items:center;box-sizing:border-box}:host([value-state]:not([value-state="None"]):not([value-state="Positive"])) .ui5-input-clear-icon-wrapper{height:var(--_ui5-v2-9-0_input_icon_wrapper_state_height);vertical-align:top}:host([value-state="Positive"]) .ui5-input-clear-icon-wrapper{height:var(--_ui5-v2-9-0_input_icon_wrapper_success_state_height)}[ui5-icon].ui5-input-clear-icon{padding:0;color:inherit}[inner-input]::-webkit-outer-spin-button,[inner-input]::-webkit-inner-spin-button{-webkit-appearance:inherit;margin:inherit}
`,dH,Zie,`.ui5-suggestions-popover{box-shadow:var(--sapContent_Shadow1)}.ui5-suggestions-popover::part(header),.ui5-suggestions-popover::part(content){padding:0}.ui5-suggestions-popover::part(footer){padding:0 1rem}.input-root-phone.native-input-wrapper{display:contents}.input-root-phone.native-input-wrapper:before{display:none}.native-input-wrapper .ui5-input-inner-phone{margin:0}
`]}),Xt("change",{bubbles:!0}),Xt("input",{bubbles:!0,cancelable:!0}),Xt("select",{bubbles:!0}),Xt("selection-change",{bubbles:!0}),Xt("type-ahead",{bubbles:!0}),Xt("suggestion-scroll",{bubbles:!0}),Xt("open",{bubbles:!0}),Xt("close")],Qi),Qi.define();const K2=Qi;function qEe(i){return Rt("div",{class:{"ui5-slider-root":!0,"ui5-slider-root-phone":jr()},onMouseDown:this._onmousedown,onTouchStart:this._onmousedown,onMouseOver:this._onmouseover,onMouseOut:this._onmouseout,onKeyDown:this._onkeydown,onKeyUp:this._onKeyupBase,part:"root-container",children:[((i==null?void 0:i.handlesAriaText)||WEe).call(this),Rt("div",{class:"ui5-slider-inner",children:[!!this.step&&this.showTickmarks&&Rt(xr,{children:[Ce("ul",{class:"ui5-slider-tickmarks",children:this.tickmarksObject.map(e=>Ce(xr,{children:Ce("li",e?{class:"ui5-slider-tickmark ui5-slider-tickmark-in-range"}:{class:"ui5-slider-tickmark"})}))}),!!this.labelInterval&&Ce("ul",{class:{"ui5-slider-labels":!0,"ui5-slider-hidden-labels":this._labelsOverlapping},style:this.styles.labelContainer,children:this._labels.map(e=>Ce("li",{style:this.styles.label,children:e}))})]}),((i==null?void 0:i.progressBar)||jEe).call(this),((i==null?void 0:i.handles)||KEe).call(this)]}),this.accessibleName&&Ce("span",{id:"ui5-slider-accName",class:"ui5-hidden-text",children:this.accessibleName}),Ce("span",{id:"ui5-slider-sliderDesc",class:"ui5-hidden-text",children:this._ariaLabelledByText}),this.editableTooltip&&Rt(xr,{children:[Ce("span",{id:"ui5-slider-InputDesc",class:"ui5-hidden-text",children:this._ariaDescribedByInputText}),Ce("span",{id:"ui5-slider-InputLabel",class:"ui5-hidden-text",children:this._ariaLabelledByInputText})]})]})}function WEe(){}function jEe(){}function KEe(){}function $Ee(){return Ce("div",{class:"ui5-slider-progress-container","aria-hidden":"true",part:"progress-container",children:Ce("div",{class:"ui5-slider-progress",style:this.styles.progress,onFocusOut:this._onfocusout,onFocusIn:this._onfocusin,tabIndex:-1,part:"progress-bar"})})}function XEe(){return Rt("div",{class:"ui5-slider-handle-container",style:this.styles.handle,part:"handle-container",children:[Ce("div",{class:"ui5-slider-handle",onFocusOut:this._onfocusout,onFocusIn:this._onfocusin,onKeyUp:this._onkeyup,role:"slider",tabIndex:this._tabIndex,"aria-orientation":"horizontal","aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.value,"aria-labelledby":this._ariaLabelledByHandleText,"aria-disabled":this._ariaDisabled,"aria-keyshortcuts":"F2","aria-describedby":this._ariaDescribedByHandleText,"data-sap-focus-ref":!0,part:"handle",children:Ce(Ur,{name:"direction-arrows",mode:"Decorative",part:"icon-slider","slider-icon":!0})}),this.showTooltip&&Ce("div",{class:"ui5-slider-tooltip",style:this.styles.tooltip,children:this.editableTooltip?Ce(K2,{value:this._tooltipInputValue,valueState:this._tooltipInputValueState,type:"Number",accessibleNameRef:"ui5-slider-InputLabel",onFocusOut:this._onInputFocusOut,onKeyDown:this._onInputKeydown,onChange:this._onInputChange,onInput:this._onInputInput,"data-sap-ui-end-value":!0,tabIndex:-1}):Ce("span",{class:"ui5-slider-tooltip-value",children:this.tooltipValue})})]})}var C2,kP=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let ry=C2=class extends Ob{get formFormattedValue(){return this.value.toString()}constructor(){super(),this.value=0,this._progressPercentage=0,this._handlePositionFromStart=0,this._tooltipInputValue=this.value.toString(),this._tooltipInputValueState="None",this._stateStorage.value=void 0,this._lastValidInputValue=this.min.toString()}onBeforeRendering(){this.editableTooltip&&this._updateInputValue(),this.isCurrentStateOutdated()&&(this.notResized=!0,this.syncUIAndState(),this._updateHandleAndProgress(this.value))}syncUIAndState(){this.isPropertyUpdated("step")&&(this._validateStep(this.step),this.storePropertyState("step")),this.isPropertyUpdated("min","max","value")&&(this.storePropertyState("min","max"),this.value=Ob.clipValue(this.value,this._effectiveMin,this._effectiveMax),this.updateStateStorageAndFireInputEvent("value"),this.storePropertyState("value")),this.labelInterval&&this.showTickmarks&&this._createLabels(),this.isPropertyUpdated("labelInterval")&&this.storePropertyState("labelInterval")}_onmousedown(i){if(this.disabled||this.step===0||i.target.hasAttribute("ui5-input"))return;const e=this.handleDownBase(i);this._valueOnInteractionStart=this.value,this._valueInitial===void 0&&(this._valueInitial=this.value);const t=this.constructor;this._isHandlePressed(t.getPageXValueFromEvent(i))||(this._updateHandleAndProgress(e),this.value=e,this.updateStateStorageAndFireInputEvent("value"))}_onfocusin(){this._valueInitial===void 0&&(this._valueInitial=this.value),this.showTooltip&&(this._tooltipVisibility=Ob.TOOLTIP_VISIBILITY.VISIBLE)}_onfocusout(i){var e;this._isFocusing()?this._preventFocusOut():(this._valueInitial=void 0,this.showTooltip&&!((e=i.relatedTarget)!=null&&e.hasAttribute("ui5-input"))&&(this._tooltipVisibility=Ob.TOOLTIP_VISIBILITY.HIDDEN))}_handleMove(i){if(i.target.hasAttribute("ui5-input")||(i.preventDefault(),this.disabled||this._effectiveStep===0))return;const e=this.constructor.getValueFromInteraction(i,this._effectiveStep,this._effectiveMin,this._effectiveMax,this.getBoundingClientRect(),this.directionStart);this._updateHandleAndProgress(e),this.value=e,this.updateStateStorageAndFireInputEvent("value")}_handleUp(i){i.target.hasAttribute("ui5-input")||(this._valueOnInteractionStart!==this.value&&this.fireDecoratorEvent("change"),this.handleUpBase(),this._valueOnInteractionStart=void 0)}_onkeyup(i){const e=Ob._isActionKey(i);this._onKeyupBase(),e&&this._valueOnInteractionStart!==this.value&&this.fireDecoratorEvent("change"),this._valueOnInteractionStart=this.value}_onInputFocusOut(i){const e=this.shadowRoot.querySelector("[ui5-input]");this._tooltipVisibility=Ob.TOOLTIP_VISIBILITY.HIDDEN,this._updateValueFromInput(i),this._isInputValueValid||(e.value=this._lastValidInputValue,this._isInputValueValid=!0,this._tooltipInputValueState="None")}_updateInputValue(){const i=this.shadowRoot.querySelector("[ui5-input]");if(i){if(this._isInputValueValid=parseFloat(i.value)>=this.min&&parseFloat(i.value)<=this.max,!this._isInputValueValid)return this._tooltipInputValue=this._lastValidInputValue,this._isInputValueValid=!0,void(this._tooltipInputValueState="Negative");this._tooltipInputValue=this.value.toString(),this._lastValidInputValue=this._tooltipInputValue,this._tooltipInputValueState="None"}}_isHandlePressed(i){const e=this._sliderHandle.getBoundingClientRect();return i>=e.left&&i<=e.right}_updateHandleAndProgress(i){const e=this._effectiveMax,t=this._effectiveMin;this._progressPercentage=(i-t)/(e-t),this._handlePositionFromStart=100*this._progressPercentage}_handleActionKeyPress(i){const e=this._effectiveMin,t=this._effectiveMax,n=this.value,r=this.constructor,o=Rg(i)?this._valueInitial:r.clipValue(this._handleActionKeyPressBase(i,"value")+n,e,t);o!==n&&(this._updateHandleAndProgress(o),this.value=o,this.updateStateStorageAndFireInputEvent("value"))}get inputValue(){return this.value.toString()}get styles(){return{progress:{transform:`scaleX(${this._progressPercentage})`,"transform-origin":`${this.directionStart} top`},handle:{[this.directionStart]:`${this._handlePositionFromStart}%`},label:{width:`${this._labelWidth}%`},labelContainer:{width:"100%",[this.directionStart]:`-${this._labelWidth/2}%`},tooltip:{visibility:`${this._tooltipVisibility}`}}}get _sliderHandle(){return this.shadowRoot.querySelector(".ui5-slider-handle")}get tooltipValue(){const i=this.constructor._getDecimalPrecisionOfNumber(this._effectiveStep);return this.value.toFixed(i)}get _ariaDisabled(){return this.disabled||void 0}get _ariaLabelledByText(){return C2.i18nBundle.getText(RSe)}get _ariaDescribedByInputText(){return C2.i18nBundle.getText(FSe)}get _ariaLabelledByInputText(){return C2.i18nBundle.getText(DSe)}get tickmarksObject(){const i=this._tickmarksCount,e=[];if(this._hiddenTickmarks)return[!0,!1];for(let t=0;t<=i;t++)e.push(this._effectiveMin+t*this.step<=this.value);return e}};kP([me({type:Number})],ry.prototype,"value",void 0),kP([wo("@ui5/webcomponents")],ry,"i18nBundle",void 0),ry=C2=kP([wn({tag:"ui5-slider",languageAware:!0,formAssociated:!0,template:function(){return qEe.call(this,{progressBar:$Ee,handles:XEe})}})],ry),ry.define();const Qj=ry;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var Mc,jl=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};const sI=6.5;let Ys=Mc=class extends Xr{async formElementAnchor(){return this.getFocusDomRefAsync()}get formFormattedValue(){return this.value}constructor(){super(),this.value="rgba(255,255,255,1)",this.simplified=!1,this._alpha=1,this._hue=0,this._isSelectedColorChanged=!1,this._isHueValueChanged=!1,this._wrongHEX=!1,this._displayHSL=!1,this._colorValue=new LEe,this._selectedCoordinates={x:249.5,y:249.5},this._mainValue={r:255,g:0,b:0},this.selectedHue=0,this.mouseDown=!1,this.mouseIn=!1}onBeforeRendering(){const i=tne(this.value);this._isColorValueEqual(i)||(this._colorValue.RGB=i);const e=(n=>{let r=1;if(n.startsWith("rgba")||n.startsWith("hsla")){const o=n.split(",");o.length===4&&(r=parseFloat(o[3].replace(")","").trim()))}return r})(this.value);e!==this._colorValue.Alpha&&(this._colorValue.Alpha=e,this._alpha=this._colorValue.Alpha);const t=this._colorValue.toRGBString();this._updateColorGrid(),this.style.setProperty(Tw("--ui5_Color_Picker_Progress_Container_Color"),t)}_handleMouseDown(i){this.mouseDown=!0,this.mouseIn=!0,this._changeSelectedColor(i.offsetX,i.offsetY)}_handleMouseUp(){this.mouseDown=!1}_handleMouseOut(i){if(!this.mouseIn||!this.mouseDown)return;const e=i.target,t=e.offsetHeight,n=e.offsetWidth,r=i.offsetX<=0,o=i.offsetY<=0,s=i.offsetY>=e.offsetHeight,a=i.offsetX>=e.offsetWidth;let l,c;l=r?0:a?n:i.offsetX,c=o?0:s?t:i.offsetY,this._changeSelectedColor(l,c),this.mouseIn=!1,this.mouseDown=!1}_handleMouseMove(i){this.mouseDown&&this.mouseIn&&this._changeSelectedColor(i.offsetX,i.offsetY)}_handleAlphaInput(i){const e=String(i.currentTarget.value);this._alpha=parseFloat(e),Number.isNaN(this._alpha)&&(this._alpha=1),this._colorValue.Alpha=this._alpha,this._isHueValueChanged=!0;const t=this._colorValue.toRGBString();this._setValue(t)}_handleHueInput(i){this.selectedHue=i.target.value,this._hue=this.selectedHue,this._setMainColor(this._hue),this._isHueValueChanged=!0,this._colorValue.H=this._hue;const e=this._colorValue.toRGBString();this._setValue(e)}_handleHEXChange(i){const e=i.target;let t=e.value.toLowerCase();t.length===3&&(t=`${t[0]}${t[0]}${t[1]}${t[1]}${t[2]}${t[2]}`),this._colorValue.HEX=t;const n=this._colorValue.isColorValueValid();if(n&&e.value!==t&&(this._wrongHEX=!1,e.value=t),n){this._wrongHEX=!1;const r=this._colorValue.toRGBString();this._setValue(r)}else this._wrongHEX=!0}_togglePickerMode(){this._displayHSL=!this._displayHSL}_handleColorInputChange(i){const e=i.target,t=parseInt(e.value)||0;switch(e.id){case"red":this._colorValue.R=t;break;case"green":this._colorValue.G=t;break;case"blue":this._colorValue.B=t;break;case"hue":this._colorValue.H=t;break;case"saturation":this._colorValue.S=t;break;case"light":this._colorValue.L=t}const n=this._colorValue.toRGBString();this._setValue(n),this._updateColorGrid()}_setMainColor(i){const e=4.251*i;this._mainValue=e<=255?{r:255,g:e,b:0}:e<=510?{r:255-(e-255),g:255,b:0}:e<=765?{r:0,g:255,b:e-510}:e<=1020?{r:0,g:765-(e-255),b:255}:e<=1275?{r:e-1020,g:0,b:255}:{r:255,g:0,b:1275-(e-255)}}_handleAlphaChange(){this._alpha=this._alpha<0?0:this._alpha,this._alpha=this._alpha>1?1:this._alpha,this._colorValue.Alpha=this._alpha}_changeSelectedColor(i,e){this._selectedCoordinates={x:i-sI,y:e-sI},this._isSelectedColorChanged=!0;const t=this._calculateColorFromCoordinates(i,e);if(t){this._colorValue.HSL=t;const n=this._colorValue.toRGBString();this._setValue(n)}}_onkeydown(i){Dr(i)&&this._handleHEXChange(i)}_calculateColorFromCoordinates(i,e){const t=this._hue;let n=+(1-e/256).toFixed(2),r=+(i/256).toFixed(2);if(!Number.isNaN(n)&&!Number.isNaN(r))return n=Math.max(0,Math.min(1,n)),r=Math.max(0,Math.min(1,r)),{h:Math.round(t),s:Math.round(100*n),l:Math.round(100*r)}}_setValue(i){this.value=i,this._wrongHEX=!this._colorValue.isColorValueValid(),this.fireDecoratorEvent("change")}_updateColorGrid(){const i=this._colorValue.HSL;this._selectedCoordinates={x:2.56*i.l-sI,y:256-2.56*i.s-sI},this._isSelectedColorChanged?this._isSelectedColorChanged=!1:this._isHueValueChanged?(this._isHueValueChanged=!1,this._hue=this.selectedHue?this.selectedHue:this._hue):this._hue=i.h,this._setMainColor(this._hue)}_isColorValueEqual(i){return this._colorValue.R===i.r&&this._colorValue.G===i.g&&this._colorValue.B===i.b}get hueSliderLabel(){return Mc.i18nBundle.getText(XBe)}get alphaSliderLabel(){return Mc.i18nBundle.getText($Be)}get hexInputLabel(){return Mc.i18nBundle.getText(YBe)}get redInputLabel(){return Mc.i18nBundle.getText(ZBe)}get greenInputLabel(){return Mc.i18nBundle.getText(JBe)}get blueInputLabel(){return Mc.i18nBundle.getText(eSe)}get hueInputLabel(){return Mc.i18nBundle.getText(tSe)}get saturationInputLabel(){return Mc.i18nBundle.getText(iSe)}get lightInputLabel(){return Mc.i18nBundle.getText(nSe)}get alphaInputLabel(){return Mc.i18nBundle.getText(oSe)}get toggleModeTooltip(){return Mc.i18nBundle.getText(rSe)}get inputsDisabled(){return!!this._wrongHEX||void 0}get hexInputErrorState(){return this._wrongHEX?"Negative":"None"}get rgbInputs(){return[{id:"red",value:this._colorValue.R,label:"R",accessibleName:this.redInputLabel},{id:"green",value:this._colorValue.G,label:"G",accessibleName:this.greenInputLabel},{id:"blue",value:this._colorValue.B,label:"B",accessibleName:this.blueInputLabel}]}get hslInputs(){return[{id:"hue",value:this._colorValue.H,label:"H",accessibleName:this.hueInputLabel},{id:"saturation",value:this._colorValue.S,label:"S",accessibleName:this.saturationInputLabel,showPercentSymbol:!0},{id:"light",value:this._colorValue.L,label:"L",accessibleName:this.lightInputLabel,showPercentSymbol:!0}]}get HEX(){return this._colorValue.HEX}get colorChannelInputs(){return this._displayHSL?this.hslInputs:this.rgbInputs}get _isDefaultPickerMode(){return!this.simplified}};function rne(){return Rt(Yie,{open:this.dialogOpen,headerText:this.colorPaletteDialogTitle,onClose:this._closeDialog,children:[Ce("div",{class:"ui5-cp-dialog-content",children:Ce(Ys,{value:this.colorPickerValue,onChange:this.onColorPickerChange})}),Rt("div",{slot:"footer",class:"ui5-cp-dialog-footer",children:[Ce(rc,{design:"Emphasized",onClick:this._chooseCustomColor,children:this.colorPaletteDialogOKButton}),Ce(rc,{design:"Transparent",onClick:this._closeDialog,children:this.colorPaletteCancelButton})]})]})}jl([me()],Ys.prototype,"value",void 0),jl([me()],Ys.prototype,"name",void 0),jl([me({type:Boolean})],Ys.prototype,"simplified",void 0),jl([me({type:Object})],Ys.prototype,"_mainValue",void 0),jl([me({type:Object})],Ys.prototype,"_colorValue",void 0),jl([me({type:Object})],Ys.prototype,"_selectedCoordinates",void 0),jl([me({type:Number})],Ys.prototype,"_alpha",void 0),jl([me({type:Number})],Ys.prototype,"_hue",void 0),jl([me({type:Boolean})],Ys.prototype,"_isSelectedColorChanged",void 0),jl([me({type:Boolean})],Ys.prototype,"_isHueValueChanged",void 0),jl([me({type:Boolean})],Ys.prototype,"_wrongHEX",void 0),jl([me({type:Boolean})],Ys.prototype,"_displayHSL",void 0),jl([wo("@ui5/webcomponents")],Ys,"i18nBundle",void 0),Ys=Mc=jl([wn({tag:"ui5-color-picker",renderer:Br,formAssociated:!0,styles:`:host(:not([hidden])){display:inline-block}.ui5-color-picker-root{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.ui5-color-picker-main-color{width:16rem;height:16rem;position:relative;margin-bottom:var(--_ui5-v2-9-0_color_picker_main_color_margin_bottom);border:.0625rem solid var(--sapContent_ForegroundBorderColor);background-size:100%;background-image:-webkit-linear-gradient(left,#000,rgba(0,0,0,0)),-webkit-linear-gradient(top,rgba(255,255,255,0),#fff);background-image:-moz-linear-gradient(left,#000,rgba(0,0,0,0)),-moz-linear-gradient(top,rgba(255,255,255,0),#fff);background-image:linear-gradient(left,#000,#0000),linear-gradient(top,#fff0,#fff);background-image:-webkit-linear-gradient(left,#000,rgba(0,0,0,0),#fff),-webkit-linear-gradient(top,rgba(128,128,128,0),#808080);background-image:-moz-linear-gradient(left,#000,rgba(0,0,0,0),#fff),-moz-linear-gradient(top,rgba(128,128,128,0),#808080);background-image:linear-gradient(left,#000,#0000,#fff),linear-gradient(top,#80808000,gray);user-select:none;-moz-user-select:none}.ui5-color-picker-circle{position:absolute;box-sizing:border-box;width:.8125rem;height:.8125rem;border:var(--_ui5-v2-9-0_color_picker_circle_outer_border);border-radius:.6875rem;pointer-events:none}.ui5-color-picker-circle:after{content:"";position:absolute;width:var(--_ui5-v2-9-0_color_picker_circle_inner_circle_size);height:var(--_ui5-v2-9-0_color_picker_circle_inner_circle_size);border:var(--_ui5-v2-9-0_color_picker_circle_inner_border);border-radius:.9375rem;pointer-events:none}.ui5-color-picker-sliders-wrapper{width:calc(100% - .9375rem);margin-left:-.9375rem;padding-bottom:.25rem}[ui5-slider]{--_ui5-v2-9-0_slider_active_progress_border: none;--_ui5-v2-9-0_slider_progress_box_sizing: content-box;height:var(--_ui5-v2-9-0_color_picker_sliders_height)}[ui5-slider]::part(handle){width:var(--_ui5-v2-9-0_color_picker_slider_handle_width);height:var(--_ui5-v2-9-0_color_picker_slider_handle_height);background:transparent;box-sizing:border-box}[ui5-slider]::part(handle-container){margin-top:var(--_ui5-v2-9-0_color_picker_slider_handle_container_margin_top);margin-inline-start:-.125rem;z-index:2}[ui5-slider]::part(handle):after{content:"";border:.125rem solid var(--_ui5-v2-9-0_color_picker_slider_handle_inner_border_color);display:block;height:var(--_ui5-v2-9-0_color_picker_slider_handle_after_height);border-radius:1rem;width:100%;box-sizing:border-box}[ui5-slider]::part(root-container){padding:var(--_ui5-v2-9-0_color_picker_slider_spacing) 0}[ui5-slider]::part(progress-container){width:calc(100% + .6875rem);height:var(--_ui5-v2-9-0_color_picker_slider_progress_container_height);position:absolute;margin-top:var(--_ui5-v2-9-0_color_picker_slider_container_margin_top);border-radius:0;border:.0625rem solid var(--sapField_BorderColor)}[ui5-slider].ui5-color-picker-hue-slider::part(progress-container){background-size:100%;background-image:-webkit-linear-gradient(left,#f00,#ff0,#0f0,#0ff,#00f,#f0f,#f00);background-image:-moz-linear-gradient(left,#f00,#ff0,#0f0,#0ff,#00f,#f0f,#f00);background-image:linear-gradient(left,red,#ff0,#0f0,#0ff,#00f,#f0f,red);background-color:none}[ui5-slider].ui5-color-picker-alpha-slider::part(progress-container){background-image:-webkit-linear-gradient(left,rgba(65,120,13,0),var(--ui5-v2-9-0_Color_Picker_Progress_Container_Color)),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAF1V2h8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAEZ0FNQQAAsY58+1GTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAACTSURBVHjaYjhz5sz///8Z/v//f+bMGQAAAAD//2I4c+YM4////wEAAAD//2I8c+YMAwODsbExAAAA//9igMgzMUAARBkAAAD//4JKQ1UwMDD+//8fwj979iwDAwMAAAD//0LSzsDAwMAA0w0D6HyofohmLPIAAAAA//9C2IdsK07jsJsOB3BriNJNQBoAAAD//wMA+ew3HIMTh5IAAAAASUVORK5CYII=)}[ui5-slider]::part(progress-bar){background:transparent}.ui5-color-picker-current-color{width:100%;display:flex;justify-content:space-between;align-items:center}.ui5-color-picker-colors-wrapper{display:flex;flex-wrap:nowrap;height:var(--_ui5-v2-9-0_color_picker_colors_wrapper_height);border:.0625rem solid var(--sapField_BorderColor)}.ui5-color-picker-white,.ui5-color-picker-color{width:3.1rem;background:#fff;display:block}.ui5-color-picker-color{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAF1V2h8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAEZ0FNQQAAsY58+1GTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAACTSURBVHjaYjhz5sz///8Z/v//f+bMGQAAAAD//2I4c+YM4////wEAAAD//2I8c+YMAwODsbExAAAA//9igMgzMUAARBkAAAD//4JKQ1UwMDD+//8fwj979iwDAwMAAAD//0LSzsDAwMAA0w0D6HyofohmLPIAAAAA//9C2IdsK07jsJsOB3BriNJNQBoAAAD//wMA+ew3HIMTh5IAAAAASUVORK5CYII=)}.ui5-color-picker-color-inner{width:100%;height:100%}.ui5-color-picker-hex-input-wrapper{display:flex;align-items:center;flex-wrap:nowrap}.ui5-color-picker-hex-input{width:var(--_ui5-v2-9-0_color_channel_hex_input_width);min-width:4.5rem;margin-left:.2rem}.ui5-color-channel-inputs-wrapper{display:flex;justify-content:space-around;width:100%;align-items:center}.ui5-color-channel{display:flex;flex-direction:column;align-items:center;margin-top:var(--_ui5-v2-9-0-color_channel_margin_top);position:relative}.ui5-color-channel-input{width:2.5rem;min-width:2.5rem;text-align:center}.ui5-color-channel-input::part(input){min-width:initial;padding:0 .25rem}.ui5-color-channel-percentage-label{width:1rem;margin-top:var(--_ui5-v2-9-0_color_channel_toggle_button_margin-top)}.ui5-color-channel-toggle{min-width:var(--_ui5-v2-9-0_color_channel_toggle_button_width);margin-inline-start:.5rem;margin-top:var(--_ui5-v2-9-0_color_channel_toggle_button_margin-top)}.ui5-color-picker-hue-slider::part(progress-container):before,.ui5-color-picker-alpha-slider::part(progress-container):before,.ui5-color-picker-hue-slider::part(progress-container):after,.ui5-color-picker-alpha-slider::part(progress-container):after,[ui5-slider].ui5-color-picker-hue-slider::part(icon-slider),[ui5-slider].ui5-color-picker-alpha-slider::part(icon-slider){display:none}.ui5-color-picker-alpha-slider::part(handle),.ui5-color-picker-hue-slider::part(handle){box-shadow:var(--_ui5-v2-9-0_color_picker_slider_handle_box_shadow);border:var(--_ui5-v2-9-0_color_picker_slider_handle_border)}.ui5-color-picker-alpha-slider::part(handle):hover,.ui5-color-picker-hue-slider::part(handle):hover{border:var(--_ui5-v2-9-0_color_picker_slider_handle_outline_hover)}.ui5-color-picker-alpha-slider::part(handle):focus,.ui5-color-picker-hue-slider::part(handle):focus{outline:var(--_ui5-v2-9-0_color_picker_slider_handle_outline_focus);outline-offset:.0625rem}.ui5-color-picker-alpha-slider::part(handle):focus:before,.ui5-color-picker-hue-slider::part(handle):focus:before{content:"";border:var(--_ui5-v2-9-0_color_picker_slider_handle_inline_focus);display:block;height:var(--_ui5-v2-9-0_color_picker_slider_handle_focus_height);border-radius:1rem;box-sizing:border-box;position:absolute;inset:-.1875rem -.1875rem .125rem}.ui5-color-picker-alpha-slider::part(handle):before,.ui5-color-picker-hue-slider::part(handle):before{display:none}:dir(rtl) [ui5-slider].ui5-color-picker-hue-slider::part(progress-container){background-image:-webkit-linear-gradient(right,#f00,#ff0,#0f0,#0ff,#00f,#f0f,#f00);background-image:-moz-linear-gradient(right,#f00,#ff0,#0f0,#0ff,#00f,#f0f,#f00);background-image:linear-gradient(right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}:dir(rtl) .ui5-color-picker-alpha-slider::part(handle),:dir(rtl) .ui5-color-picker-hue-slider::part(handle){--_ui5-v2-9-0_slider_handle_margin_left: 0}:dir(rtl) .ui5-color-picker-sliders-wrapper{margin-left:.625rem}
`,template:function(){return Rt("section",{class:"ui5-color-picker-root",children:[Ce("div",{class:"ui5-color-picker-main-color",style:{"background-color":`rgb(${this._mainValue.r}, ${this._mainValue.g}, ${this._mainValue.b})`},onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp,onMouseMove:this._handleMouseMove,onMouseOut:this._handleMouseOut,children:Ce("div",{class:"ui5-color-picker-circle",style:{left:`${this._selectedCoordinates.x}px`,top:`${this._selectedCoordinates.y}px`}})}),Rt("div",{class:"ui5-color-picker-sliders-wrapper",children:[Ce(Qj,{disabled:this.inputsDisabled,class:"ui5-color-picker-hue-slider",min:0,max:360,step:1,value:this._hue,accessibleName:this.hueSliderLabel,showTooltip:!0,onInput:this._handleHueInput}),this._isDefaultPickerMode&&Ce(Qj,{disabled:this.inputsDisabled,class:"ui5-color-picker-alpha-slider",min:0,max:1,step:.01,value:this._alpha,accessibleName:this.alphaSliderLabel,showTooltip:!0,onInput:this._handleAlphaInput})]}),Rt("div",{class:"ui5-color-picker-current-color",children:[Rt("div",{class:"ui5-color-picker-colors-wrapper",children:[Ce("span",{class:"ui5-color-picker-white"}),Ce("span",{class:"ui5-color-picker-color",children:Ce("div",{class:"ui5-color-picker-color-inner",style:{"background-color":this._colorValue.toRGBString()}})})]}),Rt("div",{class:"ui5-color-picker-hex-input-wrapper",children:[Ce(lg,{children:"Hex"}),Ce(K2,{class:"ui5-color-picker-hex-input",value:this.HEX,onKeyDown:this._onkeydown,accessibleName:this.hexInputLabel,onChange:this._handleHEXChange,valueState:this.hexInputErrorState})]})]}),this._isDefaultPickerMode&&Rt("div",{class:"ui5-color-channel-inputs-wrapper","onui5-change":this._handleColorInputChange,children:[this.colorChannelInputs.map(i=>Rt(xr,{children:[Rt("div",{class:"ui5-color-channel",children:[Ce(K2,{id:i.id,class:"ui5-color-channel-input",disabled:this.inputsDisabled,accessibleName:i.accessibleName,value:String(i.value)}),Ce(lg,{children:i.label})]}),Ce("div",{class:"ui5-color-channel-percentage-label",children:i.showPercentSymbol&&Ce(lg,{children:"%"})})]})),Rt("div",{class:"ui5-color-channel",children:[Ce(K2,{id:"alpha",disabled:this.inputsDisabled,class:"ui5-color-channel-input",value:String(this._alpha),accessibleName:this.alphaInputLabel,onChange:this._handleAlphaChange,onInput:this._handleAlphaInput}),Ce(lg,{children:"A"})]}),Ce("div",{children:Ce(rc,{class:"ui5-color-channel-toggle",id:"toggle-picker-mode",icon:"expand",design:"Transparent",tooltip:this.toggleModeTooltip,onClick:this._togglePickerMode})})]})]})},shadowRootOptions:{delegatesFocus:!0}}),Xt("change",{bubbles:!0})],Ys),Ys.define();const YEe=Object.freeze(Object.defineProperty({__proto__:null,default:rne},Symbol.toStringTag,{value:"Module"}));ene.ColorPaletteMoreColorsTemplate=rne,vi("less",{pathData:"M464 224q16 0 16 16v32q0 16-16 16H48q-6 0-11-4.5T32 272v-32q0-7 5-11.5t11-4.5h416z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("less",{pathData:"M454 275H58q-11 0-18.5-7T32 250t7.5-18.5T58 224h396q11 0 18.5 7.5T480 250t-7.5 18-18.5 7z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),vi("add",{pathData:"M32 240q0-7 5-11.5t11-4.5h176V48q0-7 5-11.5t11-4.5h32q16 0 16 16v176h176q16 0 16 16v32q0 16-16 16H288v176q0 16-16 16h-32q-6 0-11-4.5t-5-11.5V288H48q-6 0-11-4.5T32 272v-32z",ltr:!1,accData:gj,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("add",{pathData:"M454 230q11 0 18.5 7.5T480 256t-7.5 18.5T454 282H282v172q0 11-7.5 18.5T256 480t-18.5-7.5T230 454V282H58q-11 0-18.5-7.5T32 256t7.5-18.5T58 230h172V58q0-11 7.5-18.5T256 32t18.5 7.5T282 58v172h172z",ltr:!1,accData:gj,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var BM,lr=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let Wn=BM=class extends Xr{constructor(){super(...arguments),this.value=0,this.step=1,this.valueState="None",this.required=!1,this.disabled=!1,this.readonly=!1,this.valuePrecision=0,this._decIconDisabled=!1,this._incIconDisabled=!1,this.focused=!1,this._inputFocused=!1,this._previousValue=this.value,this._waitTimeout=500,this._speed=120,this._spinStarted=!1}async formElementAnchor(){var i;return(i=await this.getFocusDomRefAsync())==null?void 0:i.getFocusDomRefAsync()}get formFormattedValue(){return this.value.toString()}get type(){return nne.Number}get decIconTitle(){return BM.i18nBundle.getText(USe)}get incIconTitle(){return BM.i18nBundle.getText(PSe)}get _decIconClickable(){return!this._decIconDisabled&&!this.readonly&&!this.disabled}get _incIconClickable(){return!this._incIconDisabled&&!this.readonly&&!this.disabled}get _isFocused(){return this.focused}get _displayValue(){return this.value===0||Number.isInteger(this.value)?this.value.toFixed(this.valuePrecision):this.input&&this.value===Number(this.input.value)?this.input.value:this.value.toString()}get accInfo(){return{ariaRequired:this.required,ariaLabel:Hg(this)}}get inputAttributes(){return{min:this.min===void 0?void 0:this.min,max:this.max===void 0?void 0:this.max,step:this.step}}onBeforeRendering(){this._setButtonState(),this._previousValue===void 0&&(this._previousValue=this.value)}get input(){return this.shadowRoot.querySelector("[ui5-input]")}get innerInput(){return this.input.shadowRoot.querySelector("input")}get inputOuter(){return this.shadowRoot.querySelector(".ui5-step-input-input")}_onButtonFocusOut(){setTimeout(()=>{this._inputFocused||this.inputOuter.removeAttribute("focused")},0)}_onInput(i){!this.fireDecoratorEvent("input",{inputType:i.detail.inputType})&&i.preventDefault()}_onInputFocusIn(){this._inputFocused=!0,this.value!==this._previousValue&&(this._previousValue=this.value)}_onInputFocusOut(){this._inputFocused=!1,this._onInputChange()}_setButtonState(){this._decIconDisabled=this.min!==void 0&&this.value<=this.min,this._incIconDisabled=this.max!==void 0&&this.value>=this.max}_validate(){this._initialValueState===void 0&&(this._initialValueState=this.valueState),this._updateValueState()}_updateValueState(){const i=(this.min===void 0||Number(this.input.value)>=this.min)&&(this.max===void 0||Number(this.input.value)<=this.max),e=this._isValueWithCorrectPrecision,t=this.valueState,n=i&&e;this.valueState=n?di.None:di.Negative,!this.fireDecoratorEvent("value-state-change",{valueState:this.valueState,valid:n})&&(this.valueState=t)}_preciseValue(i){const e=10**this.valuePrecision;return Math.round(i*e)/e}_fireChangeEvent(){this._previousValue!==this.value&&(this._previousValue=this.value,this.fireDecoratorEvent("change"))}_modifyValue(i,e=!1){let t;t=this.value+i,this.min!==void 0&&t<this.min&&(t=this.min),this.max!==void 0&&t>this.max&&(t=this.max),t=this._preciseValue(t),t!==this.value&&(this.value=t,this.input.value=t.toFixed(this.valuePrecision),this._validate(),this._setButtonState(),this.focused=!0,this.inputOuter.setAttribute("focused",""),e?this._fireChangeEvent():this.input.focus())}_incValue(){!this._incIconClickable||this.disabled||this.readonly||(this._modifyValue(this.step,!0),this._previousValue=this.value)}_decValue(){!this._decIconClickable||this.disabled||this.readonly||(this._modifyValue(-this.step,!0),this._previousValue=this.value)}get _isValueWithCorrectPrecision(){const i=this.input.value.includes(".")?".":",",e=this.input.value.split(i);return(e.length>1?e[1].length:0)===this.valuePrecision}_onInputChange(){this._setDefaultInputValueIfNeeded();const i=Number(this.input.value);this._isValueChanged(i)&&this._updateValueAndValidate(i)}_setDefaultInputValueIfNeeded(){if(this.input.value===""){const i=(this.min||0).toFixed(this.valuePrecision);this.input.value=i,this.innerInput.value=i}}_isValueChanged(i){const e=this._isValueWithCorrectPrecision,t=e&&this.valueState===di.Negative;return this.value!==this._previousValue||this.value!==i||i===0||!e||t}_updateValueAndValidate(i){this.value=i,this._validate(),this._setButtonState(),this._fireChangeEvent()}_onfocusin(){this.focused=!0}_onfocusout(){this.focused=!1}_onkeydown(i){let e=!0;var t;this.disabled||this.readonly||(Dr(i)?this._onInputChange():(za(i)?this._modifyValue(this.step):Bl(i)?this._modifyValue(-this.step):Rg(i)?(this.value=this._previousValue,this.input.value=this.value.toFixed(this.valuePrecision)):this.max!==void 0&&(((t=i).key?t.key==="PageUp":t.keyCode===33)&&ra(t,!1,!1,!0)||(n=>(n.key?n.key==="ArrowUp"||n.key==="Up":n.keyCode===38)&&ra(n,!0,!1,!0))(i))?this._modifyValue(this.max-this.value):this.min!==void 0&&((n=>(n.key?n.key==="PageDown":n.keyCode===34)&&ra(n,!1,!1,!0))(i)||(n=>(n.key?n.key==="ArrowDown"||n.key==="Down":n.keyCode===40)&&ra(n,!0,!1,!0))(i))?this._modifyValue(this.min-this.value):y2(i)||t8(i)||i8(i)||n8(i)||(e=!1),e&&i.preventDefault()))}_decSpin(){this._decIconDisabled||this._spinValue(!1,!0)}_incSpin(){this._incIconDisabled||this._spinValue(!0,!0)}_calcWaitTimeout(){return this._speed*=.8,this._waitTimeout=this._waitTimeout-this._speed<50?50:this._waitTimeout-this._speed,this._waitTimeout}_spinValue(i,e=!1){e&&(this._waitTimeout=500,this._speed=120,this._btnDown=!0),this._spinTimeoutId=setTimeout(()=>{this._btnDown&&(this._spinStarted=!0,this._modifyValue(i?this.step:-this.step),this._setButtonState(),!this._incIconDisabled&&i||!this._decIconDisabled&&!i?this._spinValue(i):(this._resetSpin(),this._fireChangeEvent()))},this._calcWaitTimeout())}_resetSpin(){clearTimeout(this._spinTimeoutId),this._btnDown=!1,this._spinStarted=!1}_resetSpinOut(){this._btnDown&&(this._resetSpin(),this._fireChangeEvent())}};lr([me({type:Number})],Wn.prototype,"value",void 0),lr([me({type:Number})],Wn.prototype,"min",void 0),lr([me({type:Number})],Wn.prototype,"max",void 0),lr([me({type:Number})],Wn.prototype,"step",void 0),lr([me()],Wn.prototype,"valueState",void 0),lr([me({type:Boolean})],Wn.prototype,"required",void 0),lr([me({type:Boolean})],Wn.prototype,"disabled",void 0),lr([me({type:Boolean})],Wn.prototype,"readonly",void 0),lr([me()],Wn.prototype,"placeholder",void 0),lr([me()],Wn.prototype,"name",void 0),lr([me({type:Number})],Wn.prototype,"valuePrecision",void 0),lr([me()],Wn.prototype,"accessibleName",void 0),lr([me()],Wn.prototype,"accessibleNameRef",void 0),lr([me({noAttribute:!0})],Wn.prototype,"_decIconDisabled",void 0),lr([me({noAttribute:!0})],Wn.prototype,"_incIconDisabled",void 0),lr([me({type:Boolean})],Wn.prototype,"focused",void 0),lr([me({noAttribute:!0})],Wn.prototype,"_inputFocused",void 0),lr([me({noAttribute:!0})],Wn.prototype,"_previousValue",void 0),lr([me({noAttribute:!0})],Wn.prototype,"_waitTimeout",void 0),lr([me({noAttribute:!0})],Wn.prototype,"_speed",void 0),lr([me({noAttribute:!0})],Wn.prototype,"_btnDown",void 0),lr([me({noAttribute:!0})],Wn.prototype,"_spinTimeoutId",void 0),lr([me({noAttribute:!0})],Wn.prototype,"_spinStarted",void 0),lr([Jn()],Wn.prototype,"valueStateMessage",void 0),lr([wo("@ui5/webcomponents")],Wn,"i18nBundle",void 0),Wn=BM=lr([wn({tag:"ui5-step-input",formAssociated:!0,renderer:Br,styles:`:host{vertical-align:middle}.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}.inputIcon{color:var(--_ui5-v2-9-0_input_icon_color);cursor:pointer;outline:none;padding:var(--_ui5-v2-9-0_input_icon_padding);border-inline-start:var(--_ui5-v2-9-0_input_icon_border);min-width:1rem;min-height:1rem;border-radius:var(--_ui5-v2-9-0_input_icon_border_radius)}.inputIcon.inputIcon--pressed{background:var(--_ui5-v2-9-0_input_icon_pressed_bg);box-shadow:var(--_ui5-v2-9-0_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-9-0_select_hover_icon_left_border);color:var(--_ui5-v2-9-0_input_icon_pressed_color)}.inputIcon:active{background-color:var(--sapButton_Active_Background);box-shadow:var(--_ui5-v2-9-0_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-9-0_select_hover_icon_left_border);color:var(--_ui5-v2-9-0_input_icon_pressed_color)}.inputIcon:not(.inputIcon--pressed):not(:active):hover{background:var(--_ui5-v2-9-0_input_icon_hover_bg);box-shadow:var(--_ui5-v2-9-0_input_icon_box_shadow)}.inputIcon:hover{border-inline-start:var(--_ui5-v2-9-0_select_hover_icon_left_border);box-shadow:var(--_ui5-v2-9-0_input_icon_box_shadow)}:host([readonly]:not([disabled])){border-color:var(--_ui5-v2-9-0_input_readonly_border_color);background:var(--sapField_ReadOnly_BackgroundStyle);background-color:var(--_ui5-v2-9-0_input_readonly_background)}:host([disabled]){opacity:var(--_ui5-v2-9-0_input_disabled_opacity);cursor:default;pointer-events:none;background-color:var(--_ui5-v2-9-0-input_disabled_background);border-color:var(--_ui5-v2-9-0_input_disabled_border_color)}:host([value-state="Negative"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-9-0_input_error_icon_box_shadow)}:host([value-state="Critical"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-9-0_input_warning_icon_box_shadow)}:host([value-state="Information"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-9-0_input_information_icon_box_shadow)}:host([value-state="Positive"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-9-0_input_success_icon_box_shadow)}:host([value-state="Negative"]:not([readonly]):not([disabled])){background:var(--sapField_InvalidBackgroundStyle);background-color:var(--sapField_InvalidBackground);border-color:var(--_ui5-v2-9-0_input_value_state_error_border_color);box-shadow:var(--sapField_InvalidShadow)}:host([value-state="Critical"]:not([readonly]):not([disabled])){background:var(--sapField_WarningBackgroundStyle);background-color:var(--sapField_WarningBackground);border-color:var(--_ui5-v2-9-0_input_value_state_warning_border_color);box-shadow:var(--sapField_WarningShadow)}:host([value-state="Positive"]:not([readonly]):not([disabled])){background:var(--sapField_SuccessBackgroundStyle);background-color:var(--sapField_SuccessBackground);border-color:var(--_ui5-v2-9-0_input_value_state_success_border_color);border-width:var(--_ui5-v2-9-0_input_value_state_success_border_width);box-shadow:var(--sapField_SuccessShadow)}:host([value-state="Information"]:not([readonly]):not([disabled])){background:var(--sapField_InformationBackgroundStyle);background-color:var(--sapField_InformationBackground);border-color:var(--_ui5-v2-9-0_input_value_state_information_border_color);border-width:var(--_ui5-v2-9-0_input_information_border_width);box-shadow:var(--sapField_InformationShadow)}:host([value-state="Negative"]) .inputIcon:active,:host([value-state="Negative"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-9-0_input_error_icon_box_shadow);color:var(--_ui5-v2-9-0_input_icon_error_pressed_color)}:host([value-state="Critical"]) .inputIcon:active,:host([value-state="Critical"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-9-0_input_warning_icon_box_shadow);color:var(--_ui5-v2-9-0_input_icon_warning_pressed_color)}:host([value-state="Information"]) .inputIcon:active,:host([value-state="Information"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-9-0_input_information_icon_box_shadow);color:var(--_ui5-v2-9-0_input_icon_information_pressed_color)}:host([value-state="Positive"]) .inputIcon:active,:host([value-state="Positive"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-9-0_input_success_icon_box_shadow);color:var(--_ui5-v2-9-0_input_icon_success_pressed_color)}:host([value-state="Negative"]) .inputIcon,:host([value-state="Critical"]) .inputIcon{padding:var(--_ui5-v2-9-0_input_error_warning_icon_padding)}:host([value-state="Information"]) .inputIcon{padding:var(--_ui5-v2-9-0_input_information_icon_padding)}:host(:not([hidden])){display:inline-block;width:100%;line-height:normal;letter-spacing:normal;word-spacing:normal}:host{--ui5-v2-9-0_input_focus_pseudo_element_content: none;color:var(--sapField_TextColor);background-color:var(--sapField_Background);border:var(--_ui5-v2-9-0_step_input_border_style);border-radius:var(--sapField_BorderCornerRadius);box-sizing:border-box;height:var(--_ui5-v2-9-0_input_height);position:relative;margin:var(--_ui5-v2-9-0_input_margin_top_bottom) 0;min-width:var(--_ui5-v2-9-0_step_input_min_width);text-align:right;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}:host .ui5-step-input-input{text-align:inherit;height:inherit}:host(:not([value-state]):not([readonly]):not([disabled])){box-shadow:none}:host(:not([value-state]):not([readonly]):not([disabled]):hover),:host([value-state="None"]:not([readonly]):not([disabled]):hover){background-color:var(--_ui5-v2-9-0_step_input_border_color_hover);border:var(--_ui5-v2-9-0_step_input_border_hover)}:host(:not([value-state]):not([readonly]):not([disabled]):not([focused]):hover),:host([value-state="None"]:not([readonly]):not([disabled]):not([focused]):hover){background-color:var(--sapField_Hover_Background);border:var(--_ui5-v2-9-0_step_input_border_style_hover);box-shadow:var(--sapField_Hover_Shadow)}:host([value-state="Positive"]:not([readonly]):not([disabled]):not([focused]):hover){box-shadow:var(--sapField_Hover_SuccessShadow)}:host([value-state="Information"]:not([readonly]):not([disabled]):not([focused]):hover){box-shadow:var(--sapField_Hover_InformationShadow)}:host([value-state="Critical"]:not([readonly]):not([disabled]):not([focused]):hover){box-shadow:var(--sapField_Hover_WarningShadow)}:host([value-state="Negative"]:not([readonly]):not([disabled]):not([focused]):hover){box-shadow:var(--sapField_Hover_InvalidShadow)}:host([value-state="Positive"]:not([readonly]):not([disabled]):hover),:host([value-state="Negative"]:not([readonly]):not([disabled]):hover),:host([value-state="Information"]:not([readonly]):not([disabled]):hover),:host([value-state="Critical"]:not([readonly]):not([disabled]):hover){background-color:var(--_ui5-v2-9-0-step_input_button_state_hover_background_color)}:host(:not([value-state]):not([readonly]):not([disabled])[focused]),:host([value-state="None"]:not([readonly]):not([disabled])[focused]),:host([value-state="Positive"]:not([readonly]):not([disabled])[focused]),:host([value-state="Negative"]:not([readonly]):not([disabled])[focused]),:host([value-state="Information"]:not([readonly]):not([disabled])[focused]),:host([value-state="Critical"]:not([readonly]):not([disabled])[focused]){background-color:var(--sapField_Focus_Background)}:host([value-state="Positive"]:not([readonly]):not([disabled])):after,:host([value-state="Negative"]:not([readonly]):not([disabled])):after,:host([value-state="None"]:not([readonly]):not([disabled])):after,:host([value-state="Information"]:not([readonly]):not([disabled])):after,:host([value-state="Critical"]:not([readonly]):not([disabled])):after{position:absolute;content:"";inset:-1px;outline:none;pointer-events:none;border-radius:var(--sapField_BorderCornerRadius);border-style:var(--_ui5-v2-9-0_input_error_warning_border_style);z-index:1;border-width:0px}:host([value-state="Information"]:not([readonly]):not([disabled])):after{border-color:var(--sapField_InformationColor);border-width:var(--_ui5-v2-9-0_input_information_border_width)}:host([value-state="Critical"]:not([readonly]):not([disabled])):after{border-color:var(--sapField_WarningColor);border-width:2px}:host([value-state="Positive"]:not([readonly]):not([disabled])):after{border-color:var(--sapField_SuccessColor);border-width:1px}:host([value-state="Negative"]:not([readonly]):not([disabled])):after{border-color:var(--sapField_InvalidColor);border-width:var(--_ui5-v2-9-0_input_information_border_width)}:host([value-state]):after{border-width:var(--_ui5-v2-9-0_input_state_border_width)}:host([value-state="Negative"]:not([readonly]):not([disabled])) .ui5-step-input-input{background-color:var(--_ui5-v2-9-0_input_input_background_color)}:host([value-state="Negative"]:not([readonly]):not([disabled])) .ui5-step-input-input:hover{background-color:var(--_ui5-v2-9-0_step_input_input_error_background_color)}:host([value-state]:not([value-state="None"]) .ui5-step-input-input[focused]){outline:none}:host .ui5-step-input-input{width:100%;color:inherit;background-color:inherit;border:var(--_ui5-v2-9-0_step_input_input_border);box-sizing:border-box;vertical-align:top;margin-top:var(--_ui5-v2-9-0_step_input_input_margin_top);min-width:var(--_ui5-v2-9-0_step_input_min_width);padding-inline-start:var(--_ui5-v2-9-0_step_input_padding);padding-inline-end:var(--_ui5-v2-9-0_step_input_padding);position:relative;outline:none;line-height:inherit;letter-spacing:inherit;word-spacing:inherit}:host .ui5-step-input-input[readonly]{padding:0}:host .ui5-step-input-input:hover,:host .ui5-step-input-input[focused]{box-shadow:none}:host .ui5-step-input-root{white-space:nowrap;line-height:inherit;letter-spacing:inherit;word-spacing:inherit;height:inherit}:host .ui5-step-input-input[text-align=left]{text-align:left}:host .ui5-step-input-input[text-align=center]{text-align:center}:host .ui5-step-input-input[text-align=right]{text-align:right}:host .ui5-step-icon{position:absolute;display:var(--_ui5-v2-9-0_step_input_button_display);height:2rem;height:100%;background-color:var(--_ui5-v2-9-0_step_input_button_background_color);z-index:0}:host .ui5-step-icon[focused]{border:none;outline:none}:host .ui5-step-icon.ui5-step-dec{left:var(--_ui5-v2-9-0_step_input_button_left);z-index:1}:host .ui5-step-icon.ui5-step-inc{right:var(--_ui5-v2-9-0_step_input_button_right)}:host .ui5-step-icon *:not(.ui5-step-input-icon--clickable),:host .ui5-step-icon *:not(.ui5-step-input-icon--clickable):active,:host .ui5-step-icon *:not(.ui5-step-input-icon--clickable):hover{opacity:.5;background-color:transparent;color:var(--sapContent_IconColor)}:host .ui5-step-icon :not(.ui5-step-input-icon--clickable) *:hover,:host .ui5-step-icon :not(.ui5-step-input-icon--clickable) *:active{background-color:var(--sapField_Background);color:var(--sapContent_IconColor)}:host .ui5-step-input-input[focused]:after{position:absolute;content:"";border:var(--_ui5-v2-9-0_step_input_input_border_focused_after);top:var(--_ui5-v2-9-0_step_input_input_border_top_bottom_focused_after);right:0;bottom:var(--_ui5-v2-9-0_step_input_input_border_top_bottom_focused_after);border-radius:var(--_ui5-v2-9-0_step_input_input_border_radius_focused_after);left:0;outline:none;pointer-events:none;z-index:1}:host .ui5-step-input-input[focused]{outline:none}:host([value-state="Information"]:not([readonly]):not([disabled])) .ui5-step-input-input[focused]:after{border-color:var(--_ui5-v2-9-0_step_input_input_information_border_color_focused_after)}:host([value-state="Critical"]:not([readonly]):not([disabled])) .ui5-step-input-input[focused]:after{border-color:var(--_ui5-v2-9-0_step_input_input_warning_border_color_focused_after)}:host([value-state="Positive"]:not([readonly]):not([disabled])) .ui5-step-input-input[focused]:after{border-color:var(--_ui5-v2-9-0_step_input_input_success_border_color_focused_after)}:host([value-state="Negative"]:not([readonly]):not([disabled])) .ui5-step-input-input[focused]:after{border-color:var(--_ui5-v2-9-0_step_input_input_error_border_color_focused_after)}:host .ui5-step-input-input::-webkit-outer-spin-button,:host .ui5-step-input-input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}:host([disabled]) .ui5-step-icon{background-color:var(--_ui5-v2-9-0_step_input_disabled_button_background)}:host([disabled]) .ui5-step-icon [ui5-icon]{color:var(--sapField_ReadOnly_BorderColor)}
`,template:function(){return Rt("div",{id:`${this._id}`,class:"ui5-step-input-root",onKeyDown:this._onkeydown,onFocusIn:this._onfocusin,onFocusOut:this._onfocusout,children:[!this.readonly&&Ce("div",{class:"ui5-step-icon ui5-step-dec",title:this.decIconTitle,children:Ce(Ur,{id:`${this._id}-dec`,name:"less",tabindex:-1,accessibleName:this.decIconTitle,onClick:this._decValue,onFocusOut:this._onButtonFocusOut,onMouseDown:this._decSpin,onMouseUp:this._resetSpin,onMouseOut:this._resetSpinOut,class:{inputIcon:!0,"ui5-step-input-icon--clickable":this._decIconClickable},showTooltip:!0})}),Ce(K2,{id:`${this._id}-inner`,"data-sap-focus-ref":!0,class:"ui5-step-input-input",placeholder:this.placeholder,type:this.type,value:this._displayValue,disabled:this.disabled,required:this.required,readonly:this.readonly,valueState:this.valueState,_inputAccInfo:this.accInfo,_nativeInputAttributes:this.inputAttributes,onChange:this._onInputChange,onFocusOut:this._onInputFocusOut,onFocusIn:this._onInputFocusIn,onInput:this._onInput,children:this.valueStateMessage.length>0&&Ce("slot",{name:"valueStateMessage",slot:"valueStateMessage"})}),!this.readonly&&Ce("div",{class:"ui5-step-icon ui5-step-inc",title:this.incIconTitle,children:Ce(Ur,{id:`${this._id}-inc`,class:{inputIcon:!0,"ui5-step-input-icon--clickable":this._incIconClickable},name:"add",tabindex:-1,accessibleName:this.incIconTitle,onClick:this._incValue,onFocusOut:this._onButtonFocusOut,onMouseDown:this._incSpin,onMouseUp:this._resetSpin,onMouseOut:this._resetSpinOut,showTooltip:!0})})]})}}),Xt("change",{bubbles:!0}),Xt("input",{cancelable:!0,bubbles:!0}),Xt("value-state-change",{bubbles:!0,cancelable:!0})],Wn),Wn.define();var ZEe=Object.defineProperty,JEe=Object.getOwnPropertyDescriptor,JC=(i,e,t,n)=>{for(var r,o=n>1?void 0:n?JEe(e,t):e,s=i.length-1;s>=0;s--)(r=i[s])&&(o=(n?r(e,t,o):r(o))||o);return n&&o&&ZEe(e,t,o),o};let h_=class extends Oc{constructor(){super(...arguments),this.isColumnMode=!1}render(){return Na`
      <div
        id="layout"
        class="${this.isColumnMode?"ver-orientation":"hor-orientation"}"
      >
        <div class="input-row">
          <ui5-label show-colon>Show Axes</ui5-label>
          <ui5-checkbox
            ?checked="${this.environmentSettings.showAxes}"
            @change="${this._handleShowAxesStateChanged}"
          ></ui5-checkbox>
        </div>
        <div class="input-row">
          <ui5-label show-colon>Remap 2D ⇔ 3D Axes</ui5-label>
          <ui5-select @change="${this._handleAxesRemapChanged}">
            <ui5-option selected>x-y-z</ui5-option>
            <ui5-option>x-z-y</ui5-option>
            <ui5-option>y-x-z</ui5-option>
            <ui5-option>y-z-x</ui5-option>
            <ui5-option>z-x-y</ui5-option>
            <ui5-option>z-y-x</ui5-option>
          </ui5-select>
        </div>
        <div
          id="divider"
          class="${this.isColumnMode?"ver-orientation":"hor-orientation"}"
        ></div>
        <div>
          <div class="input-row">
            <ui5-label show-colon for="color-palette-current"
              >Background Color</ui5-label
            >
            <ui5-color-palette-item
              value=${this.environmentSettings.backgroundColor[0]}
              @click=${this._toggleColorPalette}
              id="color-palette-current"
            ></ui5-color-palette-item>
          </div>
          <ui5-color-palette-popover
            id="colorPalettePopover"
            show-more-colors=""
            @item-click=${this._handleColorChanged}
          >
            <ui5-color-palette-item value="#444444"></ui5-color-palette-item>
            <ui5-color-palette-item value="lightpink"></ui5-color-palette-item>
            <ui5-color-palette-item
              value="rgb(216,124,172)"
            ></ui5-color-palette-item>
            <ui5-color-palette-item value="#6c666d"></ui5-color-palette-item>
            <ui5-color-palette-item
              value="rgb(55,81,95)"
            ></ui5-color-palette-item>
            <ui5-color-palette-item value="#0072bb"></ui5-color-palette-item>
            <ui5-color-palette-item value="powderblue"></ui5-color-palette-item>
            <ui5-color-palette-item
              value="rgb(143,201,58)"
            ></ui5-color-palette-item>
            <ui5-color-palette-item
              value="rgb(195,172,206)"
            ></ui5-color-palette-item>
            <ui5-color-palette-item value="orange"></ui5-color-palette-item>
          </ui5-color-palette-popover>
          <div class="input-row">
            <ui5-label show-colon>Gradient Effect</ui5-label>
            <ui5-checkbox
              ?checked="${this.environmentSettings.applyGradient}"
              @change="${this._handleApplyGradientStateChanged}"
            ></ui5-checkbox>
          </div>
        </div>
        <div
          id="divider"
          class="${this.isColumnMode?"ver-orientation":"hor-orientation"}"
        ></div>
        <div class="input-row">
          <ui5-label show-colon>Light [%]</ui5-label>
          <ui5-step-input
            value="100"
            min="0"
            max="500"
            step="10"
            @change="${this._handleBrightnessChanged}"
          ></ui5-step-input>
        </div>
      </div>
    `}_toggleColorPalette(){this.colorPalettePopover!==null&&(this.colorPalettePopover.opener===void 0&&(this.colorPalettePopover.opener=this.colorPaletteToggle),this.colorPalettePopover.open=!this.colorPalettePopover.open)}_handleColorChanged(i){this.environmentSettings.backgroundColor=i.detail.color,this.requestUpdate()}_handleShowAxesStateChanged(i){this.environmentSettings.showAxes=i.target.checked}_handleAxesRemapChanged(i){const e=i.target.value.split("-");if(console.log("Axes remap requested",e),e.length==3){const t=e.map(n=>"xyz".indexOf(n));this.environmentSettings.remapAxes=new Xe(t[0],t[1],t[2])}else console.warn("Unexpected input",e)}_handleApplyGradientStateChanged(i){this.environmentSettings.applyGradient=i.target.checked}_handleBrightnessChanged(i){this.environmentSettings.brightness=i.detail.value/100}};h_.styles=qA`
    :host {
      height: 100%;
      width: 100%;
    }

    #divider.ver-orientation {
      border-top: 0.05rem solid darkgrey;
    }

    #divider.hor-orientation {
      border-left: 0.05rem solid darkgrey;
    }

    #layout.ver-orientation {
      flex-direction: column;
    }

    #layout.hor-orientation {
      flex-direction: row;
    }

    #layout {
      position: relative;
      display: flex;
      align-items: stretch;
      gap: 0.5rem;
    }

    .input-row {
      position: relative;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .ver-orientation > .input-row {
      width: 11rem;
    }
  `,JC([Zn({type:Boolean})],h_.prototype,"isColumnMode",2),JC([Zn({type:Object})],h_.prototype,"environmentSettings",2),JC([OA("#colorPalettePopover")],h_.prototype,"colorPalettePopover",2),JC([OA("#color-palette-current")],h_.prototype,"colorPaletteToggle",2),h_=JC([WA("environment-settings")],h_);var eTe=Object.defineProperty,tTe=Object.getOwnPropertyDescriptor,e2=(i,e,t,n)=>{for(var r,o=n>1?void 0:n?tTe(e,t):e,s=i.length-1;s>=0;s--)(r=i[s])&&(o=(n?r(e,t,o):r(o))||o);return n&&o&&eTe(e,t,o),o};let A_=class extends Oc{constructor(){super(...arguments),this.isColumnMode=!1,this.isAutoRotationDisabled=!1,this._userAutoRotationOn=!1}render(){return Na`
    <div id="layout" class="${this.isColumnMode?"ver-orientation":"hor-orientation"}">
      <div>    
        <ui5-title level="H5">3D</ui5-title>
        <div class = "input-row" >
          <ui5-label for="xOrientation" show-colon>X [&deg;]</ui5-label>
          <ui5-step-input id="xOrientation" value="0" min="0" max="359" step="10" @change="${this.handleXOrientationChanged}"></ui5-step-input>
        </div>
        <div class = "input-row" >
          <ui5-label for="yOrientation" show-colon>Y [&deg;]</ui5-label>
          <ui5-step-input id="yOrientation" value="0" min="0" max="359" step="10" @change="${this.handleYOrientationChanged}"></ui5-step-input>
        </div>
        <div class = "input-row" >
          <ui5-label for="zOrientation" show-colon>Z [&deg;]</ui5-label>
          <ui5-step-input id="zOrientation" value="0" min="0" max="359" step="10" @change="${this.handleZOrientationChanged}"></ui5-step-input>
        </div>
      </div>
      <div id="divider" class="${this.isColumnMode?"ver-orientation":"hor-orientation"}"></div>
      <div>    
        <ui5-title level="H5">2D</ui5-title>
        <div class = "input-row" >
          <ui5-label show-colon>Auto Rotation</ui5-label>
          <ui5-checkbox id= "autoRotationCheckbox" 
             text="${this.imageRotationSettings.isAutoRotationActivated?"On":"Off"}"
             ?checked="${this.imageRotationSettings.isAutoRotationActivated}" 
             ?disabled="${this.isAutoRotationDisabled}" 
             @change="${this._handleAutoRotationStateChanged}"></ui5-checkbox>
        </div>
        <div class = "input-row"  >
          <ui5-label for="imageAngle" show-colon>&phi; [&deg;]</ui5-label>
          <ui5-step-input id="imageAngle"
           value="${this.imageRotationSettings.isAutoRotationActivated?this.imageRotationSettings.autoRotationAngle:this.imageRotationSettings.userSetRotationAngle}"
            min="-180" max="180" step="10" 
            ?disabled="${this.imageRotationSettings.isAutoRotationActivated}"
            @change="${this._handleRotationValueChanged}"></ui5-step-input>
        </div>
      </div>
    </div>
        `}firstUpdated(){this.imageRotationSettings.on("rotation-angle-changed",()=>this.requestUpdate())}updated(i){super.updated(i),i.has("isAutoRotationDisabled")&&(this.isAutoRotationDisabled?(this._userAutoRotationOn=this.imageRotationSettings.isAutoRotationActivated,this.imageRotationSettings.isAutoRotationActivated=!0):this.imageRotationSettings.isAutoRotationActivated!=this._userAutoRotationOn&&(this.imageRotationSettings.isAutoRotationActivated=this._userAutoRotationOn))}_handleRotationValueChanged(i){this.imageRotationSettings.isAutoRotationActivated||(this.imageRotationSettings.userSetRotationAngle=i.detail.value)}_handleAutoRotationStateChanged(i){const e=i.target.checked;this.imageRotationSettings.isAutoRotationActivated!=e&&(this.imageRotationSettings.isAutoRotationActivated=e)}_handleDegreeInput(i){return e=i.detail.value,Math.min(Math.max(Number(e),0),359)*Math.PI/180;var e}handleXOrientationChanged(i){this.modelOrientationSettings.xOrientationInRad=this._handleDegreeInput(i)}handleYOrientationChanged(i){this.modelOrientationSettings.yOrientationInRad=this._handleDegreeInput(i)}handleZOrientationChanged(i){this.modelOrientationSettings.zOrientationInRad=this._handleDegreeInput(i)}};A_.styles=qA`
        :host {
          height: 100%;
          width: 100%;
        }

        #divider.ver-orientation {
          border-top: 0.05rem solid darkgrey;
        }

        #divider.hor-orientation {
          border-left: 0.05rem solid darkgrey;
        }

        #layout.ver-orientation{
          flex-direction: column;
        }

        #layout.hor-orientation{
          flex-direction: row;
        }

        #layout{
          position: relative;
          display: flex;
          align-items: stretch;
          gap: 1rem;
        }

        .input-row{
          position: relative;
          display: flex;
          align-items: center;
          width: 11rem; 
          gap: 1rem;
        }
      `,e2([Zn({type:Boolean})],A_.prototype,"isColumnMode",2),e2([Zn({type:Boolean})],A_.prototype,"isAutoRotationDisabled",2),e2([Zn({type:Object})],A_.prototype,"imageRotationSettings",2),e2([Zn({type:Object})],A_.prototype,"modelOrientationSettings",2),A_=e2([WA("rotation-settings")],A_);const Jd=new WeakMap;let iTe=class SM{static get tasks(){return Jd}static enqueue(e,t){Jd.has(e)||Jd.set(e,[]),Jd.get(e).push(t)}static run(e,t){return Jd.has(e)||Jd.set(e,[]),t().then(()=>{const n=Jd.get(e);if(n.length>0)return SM.run(e,n.shift());Jd.delete(e)})}static push(e,t){Jd.get(e)?SM.enqueue(e,t):SM.run(e,t)}};const Nj=i=>{let e,t,n,r=null,o=!1;const s=new Promise((a,l)=>{n=c=>{r=r||c;const u=c-r,h=i.duration-u;if(u<=i.duration){const d=1-h/i.duration;i.advance(d),o||(e=requestAnimationFrame(n))}else i.advance(1),a()},t=()=>{o=!0,cancelAnimationFrame(e),l(new Error("animation stopped"))}}).catch(a=>a);return iTe.push(i.element,()=>(typeof i.beforeStart=="function"&&i.beforeStart(),requestAnimationFrame(n),new Promise(a=>{s.then(()=>a())}))),{promise:()=>s,stop:()=>t}};let EM;Ew(()=>{EM=void 0});vi("slim-arrow-right",{pathData:"M357.5 233q10 10 10 23t-10 23l-165 165q-12 11-23 0t0-23l160-159q6-6 0-12l-159-159q-5-5-5-11t5-11 11-5 11 5z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("slim-arrow-right",{pathData:"M186 416q-11 0-18.5-7.5T160 390q0-10 8-18l121-116-121-116q-8-8-8-18 0-11 7.5-18.5T186 96q10 0 17 7l141 134q8 8 8 19 0 12-8 18L203 409q-7 7-17 7z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"});const F8="slim-arrow-right";bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var D8,ul=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let $s=D8=class extends Xr{constructor(){super(...arguments),this.fixed=!1,this.collapsed=!1,this.noAnimation=!1,this.accessibleRole="Form",this.headerLevel="H2",this.stickyHeader=!1,this.useAccessibleNameForToggleButton=!1,this._hasHeader=!1,this._contentExpanded=!1,this._animationRunning=!1}onBeforeRendering(){this._animationRunning||(this._contentExpanded=!this.collapsed),this._hasHeader=!!this.header.length}shouldToggle(i){return!this.header.length||i.classList.contains("ui5-panel-header-button")}get shouldNotAnimate(){return this.noAnimation||(EM===void 0&&(Ng(),EM=El.animationMode),EM===$N.None)}_headerClick(i){this.shouldToggle(i.target)&&this._toggleOpen()}_toggleButtonClick(i){i.x===0&&i.y===0&&i.stopImmediatePropagation()}_headerKeyDown(i){this.shouldToggle(i.target)&&(Dr(i)&&i.preventDefault(),wr(i)&&i.preventDefault())}_headerKeyUp(i){this.shouldToggle(i.target)&&(Dr(i)&&this._toggleOpen(),wr(i)&&this._toggleOpen())}_toggleOpen(){if(this.fixed)return;if(this.collapsed=!this.collapsed,this.shouldNotAnimate)return void this.fireDecoratorEvent("toggle");this._animationRunning=!0;const i=this.getDomRef().querySelectorAll(".ui5-panel-content"),e=[];[].forEach.call(i,t=>{this.collapsed?e.push((n=>{let r,o,s,a,l,c,u,h,d,p,g,v;const _=Nj({beforeStart:()=>{const b=n;r=getComputedStyle(b),o=parseFloat(r.paddingTop),s=parseFloat(r.paddingBottom),a=parseFloat(r.marginTop),l=parseFloat(r.marginBottom),c=parseFloat(r.height),u=b.style.overflow,h=b.style.paddingTop,d=b.style.paddingBottom,p=b.style.marginTop,g=b.style.marginBottom,v=b.style.height,b.style.overflow="hidden"},duration:400,element:n,advance:b=>{n.style.paddingTop=o-o*b+"px",n.style.paddingBottom=s-s*b+"px",n.style.marginTop=a-a*b+"px",n.style.marginBottom=l-l*b+"px",n.style.height=c-c*b+"px"}});return _.promise().then(b=>{b instanceof Error||(n.style.overflow=u,n.style.paddingTop=h,n.style.paddingBottom=d,n.style.marginTop=p,n.style.marginBottom=g,n.style.height=v,n.style.display="none")}),_})(t).promise()):e.push((n=>{let r,o,s,a,l,c,u,h,d,p,g,v;const _=Nj({beforeStart:()=>{n.style.display="block",r=getComputedStyle(n),o=parseFloat(r.paddingTop),s=parseFloat(r.paddingBottom),a=parseFloat(r.marginTop),l=parseFloat(r.marginBottom),c=parseFloat(r.height),u=n.style.overflow,h=n.style.paddingTop,d=n.style.paddingBottom,p=n.style.marginTop,g=n.style.marginBottom,v=n.style.height,n.style.overflow="hidden",n.style.paddingTop="0",n.style.paddingBottom="0",n.style.marginTop="0",n.style.marginBottom="0",n.style.height="0"},duration:400,element:n,advance:b=>{n.style.display="block",n.style.paddingTop=o*b+"px",n.style.paddingBottom=s*b+"px",n.style.marginTop=a*b+"px",n.style.marginBottom=l*b+"px",n.style.height=c*b+"px"}});return _.promise().then(()=>{n.style.overflow=u,n.style.paddingTop=h,n.style.paddingBottom=d,n.style.marginTop=p,n.style.marginBottom=g,n.style.height=v}),_})(t).promise())}),Promise.all(e).then(()=>{this._animationRunning=!1,this._contentExpanded=!this.collapsed,this.fireDecoratorEvent("toggle")})}_headerOnTarget(i){return i.classList.contains("sapMPanelWrappingDiv")}get toggleButtonTitle(){return D8.i18nBundle.getText(SSe)}get expanded(){return!this.collapsed}get accRole(){return this.accessibleRole.toLowerCase()}get effectiveAccessibleName(){return typeof this.accessibleName=="string"&&this.accessibleName.length?this.accessibleName:void 0}get accInfo(){return{button:{accessibilityAttributes:{expanded:this.expanded},title:this.toggleButtonTitle,ariaLabelButton:!this.nonFocusableButton&&this.useAccessibleNameForToggleButton?this.effectiveAccessibleName:void 0},ariaExpanded:this.nonFixedInternalHeader?this.expanded:void 0,ariaControls:this.nonFixedInternalHeader?`${this._id}-content`:void 0,ariaLabelledby:this.nonFocusableButton?this.ariaLabelledbyReference:void 0,role:this.nonFixedInternalHeader?"button":void 0}}get ariaLabelledbyReference(){return this.nonFocusableButton&&this.headerText&&!this.fixed?`${this._id}-header-title`:void 0}get fixedPanelAriaLabelledbyReference(){return this.fixed&&!this.effectiveAccessibleName?`${this._id}-header-title`:void 0}get headerAriaLevel(){return Number.parseInt(this.headerLevel.slice(1))}get headerTabIndex(){return this.header.length||this.fixed?-1:0}get headingWrapperAriaLevel(){return this._hasHeader?void 0:this.headerAriaLevel}get headingWrapperRole(){return this._hasHeader?void 0:"heading"}get nonFixedInternalHeader(){return!this._hasHeader&&!this.fixed}get hasHeaderOrHeaderText(){return this._hasHeader||this.headerText}get nonFocusableButton(){return!this.header.length}};var U8;ul([me()],$s.prototype,"headerText",void 0),ul([me({type:Boolean})],$s.prototype,"fixed",void 0),ul([me({type:Boolean})],$s.prototype,"collapsed",void 0),ul([me({type:Boolean})],$s.prototype,"noAnimation",void 0),ul([me()],$s.prototype,"accessibleRole",void 0),ul([me()],$s.prototype,"headerLevel",void 0),ul([me()],$s.prototype,"accessibleName",void 0),ul([me({type:Boolean})],$s.prototype,"stickyHeader",void 0),ul([me({type:Boolean})],$s.prototype,"useAccessibleNameForToggleButton",void 0),ul([me({type:Boolean})],$s.prototype,"_hasHeader",void 0),ul([me({type:Boolean,noAttribute:!0})],$s.prototype,"_contentExpanded",void 0),ul([me({type:Boolean,noAttribute:!0})],$s.prototype,"_animationRunning",void 0),ul([Jn()],$s.prototype,"header",void 0),ul([wo("@ui5/webcomponents")],$s,"i18nBundle",void 0),$s=D8=ul([wn({tag:"ui5-panel",fastNavigation:!0,languageAware:!0,renderer:Br,template:function(){return Ce(xr,{children:Rt("div",{class:"ui5-panel-root",role:this.accRole,"aria-label":this.effectiveAccessibleName,"aria-labelledby":this.fixedPanelAriaLabelledbyReference,children:[this.hasHeaderOrHeaderText&&Ce("div",{class:{"ui5-panel-heading-wrapper":!0,"ui5-panel-heading-wrapper-sticky":this.stickyHeader},role:this.headingWrapperRole,"aria-level":this.headingWrapperAriaLevel,children:Rt("div",{onClick:this._headerClick,onKeyDown:this._headerKeyDown,onKeyUp:this._headerKeyUp,class:"ui5-panel-header",tabindex:this.headerTabIndex,role:this.accInfo.role,"aria-expanded":this.accInfo.ariaExpanded,"aria-controls":this.accInfo.ariaControls,"aria-labelledby":this.accInfo.ariaLabelledby,part:"header",children:[!this.fixed&&Ce("div",{class:"ui5-panel-header-button-root",children:this._hasHeader?Ce(rc,{design:"Transparent",class:"ui5-panel-header-button ui5-panel-header-button-with-icon",onClick:this._toggleButtonClick,accessibilityAttributes:this.accInfo.button.accessibilityAttributes,tooltip:this.accInfo.button.title,accessibleName:this.accInfo.button.ariaLabelButton,children:Ce("div",{class:"ui5-panel-header-icon-wrapper",children:Ce(Ur,{class:{"ui5-panel-header-icon":!0,"ui5-panel-header-button-animated":!this.shouldNotAnimate},name:F8})})}):Ce(Ur,{class:{"ui5-panel-header-button":!0,"ui5-panel-header-icon":!0,"ui5-panel-header-button-animated":!this.shouldNotAnimate},name:F8,showTooltip:!0,accessibleName:this.toggleButtonTitle})}),this._hasHeader?Ce("slot",{name:"header"}):Ce("div",{id:`${this._id}-header-title`,class:"ui5-panel-header-title",children:this.headerText})]})}),Ce("div",{class:"ui5-panel-content",id:`${this._id}-content`,tabindex:-1,style:{display:this._contentExpanded?"block":"none"},part:"content",children:Ce("slot",{})})]})})},styles:`.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host(:not([hidden])){display:block}:host{font-family:"72override",var(--sapFontFamily);background-color:var(--sapGroup_TitleBackground);border-radius:var(--_ui5-v2-9-0_panel_border_radius)}:host(:not([collapsed])){border-bottom:var(--_ui5-v2-9-0_panel_border_bottom)}:host([fixed]) .ui5-panel-header{padding-left:1rem}.ui5-panel-header{min-height:var(--_ui5-v2-9-0_panel_header_height);width:100%;position:relative;display:flex;justify-content:flex-start;align-items:center;outline:none;box-sizing:border-box;padding-right:var(--_ui5-v2-9-0_panel_header_padding_right);font-family:"72override",var(--sapFontHeaderFamily);font-size:var(--sapGroup_Title_FontSize);font-weight:400;color:var(--sapGroup_TitleTextColor)}.ui5-panel-header-icon{color:var(--_ui5-v2-9-0_panel_icon_color)}.ui5-panel-header-button-animated{transition:transform .4s ease-out}:host(:not([_has-header]):not([fixed])) .ui5-panel-header{cursor:pointer}:host(:not([_has-header]):not([fixed])) .ui5-panel-header:focus:after{content:"";position:absolute;pointer-events:none;z-index:2;border:var(--_ui5-v2-9-0_panel_focus_border);border-radius:var(--_ui5-v2-9-0_panel_border_radius);top:var(--_ui5-v2-9-0_panel_focus_offset);bottom:var(--_ui5-v2-9-0_panel_focus_bottom_offset);left:var(--_ui5-v2-9-0_panel_focus_offset);right:var(--_ui5-v2-9-0_panel_focus_offset)}:host(:not([collapsed]):not([_has-header]):not([fixed])) .ui5-panel-header:focus:after{border-radius:var(--_ui5-v2-9-0_panel_border_radius_expanded)}:host(:not([collapsed])) .ui5-panel-header-button:not(.ui5-panel-header-button-with-icon),:host(:not([collapsed])) .ui5-panel-header-icon-wrapper [ui5-icon]{transform:var(--_ui5-v2-9-0_panel_toggle_btn_rotation)}:host([fixed]) .ui5-panel-header-title{width:100%}.ui5-panel-heading-wrapper.ui5-panel-heading-wrapper-sticky{position:sticky;top:0;background-color:var(--_ui5-v2-9-0_panel_header_background_color);z-index:100;border-radius:var(--_ui5-v2-9-0_panel_border_radius)}.ui5-panel-header-title{width:calc(100% - var(--_ui5-v2-9-0_panel_button_root_width));overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ui5-panel-content{padding:var(--_ui5-v2-9-0_panel_content_padding);background-color:var(--sapGroup_ContentBackground);outline:none;border-bottom-left-radius:var(--_ui5-v2-9-0_panel_border_radius);border-bottom-right-radius:var(--_ui5-v2-9-0_panel_border_radius);overflow:auto}.ui5-panel-header-button-root{display:flex;justify-content:center;align-items:center;flex-shrink:0;width:var(--_ui5-v2-9-0_panel_button_root_width);height:var(--_ui5-v2-9-0_panel_button_root_height);padding:var(--_ui5-v2-9-0_panel_header_button_wrapper_padding);box-sizing:border-box}:host([fixed]:not([collapsed]):not([_has-header])) .ui5-panel-header,:host([collapsed]) .ui5-panel-header{border-bottom:.0625rem solid var(--sapGroup_TitleBorderColor)}:host([collapsed]) .ui5-panel-header{border-bottom-left-radius:var(--_ui5-v2-9-0_panel_border_radius);border-bottom-right-radius:var(--_ui5-v2-9-0_panel_border_radius)}:host(:not([fixed]):not([collapsed])) .ui5-panel-header{border-bottom:var(--_ui5-v2-9-0_panel_default_header_border)}[ui5-button].ui5-panel-header-button{display:flex;justify-content:center;align-items:center;min-width:initial;height:100%;width:100%}.ui5-panel-header-icon-wrapper{display:flex;justify-content:center;align-items:center}.ui5-panel-header-icon-wrapper,.ui5-panel-header-icon-wrapper .ui5-panel-header-icon{color:inherit}.ui5-panel-header-icon-wrapper,[ui5-button].ui5-panel-header-button-with-icon [ui5-icon]{pointer-events:none}.ui5-panel-root{height:100%;display:flex;flex-direction:column}
`}),Xt("toggle",{bubbles:!0})],$s),$s.define(),vi("edit",{pathData:"M475 104q5 7 5 12 0 6-5 11L150 453q-4 4-8 4L32 480l22-110q0-5 4-9L384 36q4-4 11-4t11 4zm-121 99l-46-45L84 381l46 46zm87-88l-46-44-64 64 45 45z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"}),vi("edit",{pathData:"M505 94q7 7 7 18t-6 17L130 505q-7 7-18 7H26q-11 0-18.5-7.5T0 486v-86q1-10 6-16L382 7q7-7 18-7t18 7zm-55 18l-50-50-50 50 50 50zm-86 86l-50-50L62 400l50 50z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"}),function(i){i.None="None",i.Positive="Positive",i.Critical="Critical",i.Negative="Negative",i.Information="Information"}(U8||(U8={}));const nTe=U8;var P8;(function(i){i.Inactive="Inactive",i.Active="Active",i.Detail="Detail",i.Navigation="Navigation"})(P8||(P8={}));const xA=P8;bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var Kf,Tc=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let Al=Kf=class extends Iw{constructor(){super(),this.type="Active",this.accessibilityAttributes={},this.navigated=!1,this.active=!1,this.highlight="None",this.accessibleRole="ListItem",this._selectionMode="None",this.deactivateByKey=i=>{Dr(i)&&this.deactivate()},this.deactivate=()=>{this.active&&(this.active=!1)}}onBeforeRendering(){super.onBeforeRendering(),this.actionable=(this.type===xA.Active||this.type===xA.Navigation)&&this._selectionMode!==es.Delete}onEnterDOM(){super.onEnterDOM(),document.addEventListener("mouseup",this.deactivate),document.addEventListener("touchend",this.deactivate),document.addEventListener("keyup",this.deactivateByKey)}onExitDOM(){document.removeEventListener("mouseup",this.deactivate),document.removeEventListener("keyup",this.deactivateByKey),document.removeEventListener("touchend",this.deactivate)}async _onkeydown(i){if((wr(i)||Dr(i))&&this._isTargetSelfFocusDomRef(i))return;super._onkeydown(i);const e=this.type===xA.Active,t=this.typeNavigation;if((wr(i)||Dr(i))&&(e||t)&&this.activate(),o8(i)){const n=Rv(),r=this.getFocusDomRef();if(n===r){const o=await d8(r);o==null||o.focus()}else r.focus()}}_onkeyup(i){super._onkeyup(i),(wr(i)||Dr(i))&&this.deactivate(),this.modeDelete&&r8(i)&&this.onDelete()}_onmousedown(){this.activate()}_onmouseup(){this.getFocusDomRef().matches(":has(:focus-within)")||this.deactivate()}_ontouchend(){this._onmouseup()}_onfocusin(i){super._onfocusin(i),i.target!==this.getFocusDomRef()&&this.deactivate()}_onfocusout(i){i.target===this.getFocusDomRef()&&this.deactivate()}_ondragstart(i){i.dataTransfer&&i.target===this._listItem&&(this.setAttribute("data-moving",""),i.dataTransfer.dropEffect="move",i.dataTransfer.effectAllowed="move")}_ondragend(i){i.target===this._listItem&&this.removeAttribute("data-moving")}_isTargetSelfFocusDomRef(i){return i.target!==this.getFocusDomRef()}onMultiSelectionComponentPress(i){this.isInactive||this.fireDecoratorEvent("selection-requested",{item:this,selected:i.target.checked,selectionComponentPressed:!0})}onSingleSelectionComponentPress(i){this.isInactive||this.fireDecoratorEvent("selection-requested",{item:this,selected:!i.target.checked,selectionComponentPressed:!0})}activate(){this.type!==xA.Active&&this.type!==xA.Navigation||(this.active=!0)}onDelete(){this.fireDecoratorEvent("selection-requested",{item:this,selectionComponentPressed:!1})}onDetailClick(){this.fireDecoratorEvent("detail-click",{item:this,selected:this.selected})}fireItemPress(i){this.isInactive||(super.fireItemPress(i),document.activeElement!==this&&this.focus())}get isInactive(){return this.type===xA.Inactive||this.type===xA.Detail}get placeSelectionElementBefore(){return this._selectionMode===es.Multiple||this._selectionMode===es.SingleStart}get placeSelectionElementAfter(){return!this.placeSelectionElementBefore&&(this._selectionMode===es.SingleEnd||this._selectionMode===es.Delete)}get modeSingleSelect(){return[es.SingleStart,es.SingleEnd,es.Single].includes(this._selectionMode)}get modeMultiple(){return this._selectionMode===es.Multiple}get modeDelete(){return this._selectionMode===es.Delete}get typeDetail(){return this.type===xA.Detail}get typeNavigation(){return this.type===xA.Navigation}get typeActive(){return this.type===xA.Active}get _ariaSelected(){if(this.modeMultiple||this.modeSingleSelect)return this.selected}get listItemAccessibleRole(){return this._forcedAccessibleRole||this.accessibleRole.toLowerCase()}get ariaSelectedText(){let i;return this._ariaSelected!==void 0&&(i=this._ariaSelected?Kf.i18nBundle.getText(gSe):Kf.i18nBundle.getText(mSe)),i}get deleteText(){return Kf.i18nBundle.getText(sSe)}get hasDeleteButtonSlot(){return!!this.deleteButton.length}get _accessibleNameRef(){return this.accessibleName?`${this._id}-invisibleText`:`${this._id}-content ${this._id}-invisibleText`}get ariaLabelledByText(){return[this._accInfo.listItemAriaLabel,this.accessibleName,this.typeActive?Kf.i18nBundle.getText(pSe):void 0].filter(Boolean).join(" ")}get _accInfo(){return{role:this.listItemAccessibleRole,ariaExpanded:void 0,ariaLevel:void 0,ariaLabel:Kf.i18nBundle.getText(bSe),ariaLabelRadioButton:Kf.i18nBundle.getText(ySe),ariaSelectedText:this.ariaSelectedText,ariaHaspopup:this.accessibilityAttributes.hasPopup,setsize:this.accessibilityAttributes.ariaSetsize,posinset:this.accessibilityAttributes.ariaPosinset,tooltip:this.tooltip}}get _hasHighlightColor(){return this.highlight!==nTe.None}get hasConfigurableMode(){return!0}get _listItem(){return this.shadowRoot.querySelector("li")}};Tc([me()],Al.prototype,"type",void 0),Tc([me({type:Object})],Al.prototype,"accessibilityAttributes",void 0),Tc([me({type:Boolean})],Al.prototype,"navigated",void 0),Tc([me()],Al.prototype,"tooltip",void 0),Tc([me({type:Boolean})],Al.prototype,"active",void 0),Tc([me()],Al.prototype,"highlight",void 0),Tc([me({type:Boolean})],Al.prototype,"selected",void 0),Tc([me()],Al.prototype,"accessibleRole",void 0),Tc([me()],Al.prototype,"_forcedAccessibleRole",void 0),Tc([me()],Al.prototype,"_selectionMode",void 0),Tc([Jn()],Al.prototype,"deleteButton",void 0),Tc([wo("@ui5/webcomponents")],Al,"i18nBundle",void 0),Al=Kf=Tc([wn({languageAware:!0,renderer:Br,styles:[Iw.styles,Jie,`.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host([navigated]) .ui5-li-root .ui5-li-navigated{width:.1875rem;position:absolute;right:0;top:0;bottom:0;background-color:var(--sapList_SelectionBorderColor)}:host([active][actionable]) .ui5-li-root .ui5-li-icon{color:var(--sapList_Active_TextColor)}:host([active][actionable]) .ui5-li-title,:host([active][actionable]) .ui5-li-desc,:host([active][actionable]) .ui5-li-additional-text{color:var(--sapList_Active_TextColor)}:host([active][actionable]) .ui5-li-additional-text{text-shadow:none}:host([additional-text-state="Critical"]) .ui5-li-additional-text{color:var(--sapCriticalTextColor)}:host([additional-text-state="Positive"]) .ui5-li-additional-text{color:var(--sapPositiveTextColor)}:host([additional-text-state="Negative"]) .ui5-li-additional-text{color:var(--sapNegativeTextColor)}:host([additional-text-state="Information"]) .ui5-li-additional-text{color:var(--sapInformativeTextColor)}:host([has-title][description]){height:5rem}:host([has-title][image]){height:5rem}:host([_has-image]){height:5rem}:host([image]) .ui5-li-content{height:3rem}::slotted(img[slot="image"]){width:var(--_ui5-v2-9-0_list_item_img_size);height:var(--_ui5-v2-9-0_list_item_img_size);border-radius:var(--ui5-v2-9-0-avatar-border-radius);object-fit:contain}:host([description]) .ui5-li-root{padding:1rem}:host([description]) .ui5-li-content{height:3rem}:host([has-title][description]) .ui5-li-title{padding-bottom:.375rem}.ui5-li-text-wrapper{flex-direction:column}:host([description]) .ui5-li-text-wrapper{height:100%;justify-content:space-between;padding:.125rem 0}.ui5-li-description-info-wrapper{display:flex;justify-content:space-between}.ui5-li-additional-text,:host(:not([wrapping-type="Normal"])) .ui5-li-title,.ui5-li-desc{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host([wrapping-type="Normal"]){height:auto}:host([wrapping-type="Normal"]) .ui5-li-content{margin:var(--_ui5-v2-9-0_list_item_content_vertical_offset) 0}.ui5-li-desc{color:var(--sapContent_LabelColor);font-size:var(--sapFontSize)}:host([description]) .ui5-li-additional-text{align-self:flex-end}.ui5-li-image{min-width:var(--_ui5-v2-9-0_list_item_img_size);min-height:var(--_ui5-v2-9-0_list_item_img_size);margin-top:var(--_ui5-v2-9-0_list_item_img_top_margin);margin-bottom:var(--_ui5-v2-9-0_list_item_img_bottom_margin);margin-inline-end:var(--_ui5-v2-9-0_list_item_img_hn_margin)}.ui5-li-icon{min-width:var(--_ui5-v2-9-0_list_item_icon_size);min-height:var(--_ui5-v2-9-0_list_item_icon_size);color:var(--sapContent_NonInteractiveIconColor);padding-inline-end:var(--_ui5-v2-9-0_list_item_icon_padding-inline-end)}.ui5-li-detailbtn,.ui5-li-deletebtn{display:flex;align-items:center;margin-left:var(--_ui5-v2-9-0_list_buttons_left_space)}.ui5-li-multisel-cb,.ui5-li-singlesel-radiobtn{flex-shrink:0}:host([description]) .ui5-li-singlesel-radiobtn{align-self:flex-start;margin-top:var(--_ui5-v2-9-0_list_item_selection_btn_margin_top)}:host([description]) .ui5-li-multisel-cb{align-self:flex-start;margin-top:var(--_ui5-v2-9-0_list_item_selection_btn_margin_top)}:host([_selection-mode="SingleStart"]) .ui5-li-root{padding-inline:0 1rem}:host([_selection-mode="Multiple"]) .ui5-li-root{padding-inline:0 1rem}:host([_selection-mode="SingleEnd"]) .ui5-li-root{padding-inline:1rem 0}:host [ui5-checkbox].ui5-li-singlesel-radiobtn{margin-right:var(--_ui5-v2-9-0_list_item_cb_margin_right)}.ui5-li-highlight{position:absolute;width:.375rem;bottom:0;left:0;top:0;border-inline-end:.0625rem solid var(--ui5-v2-9-0-listitem-background-color);box-sizing:border-box}:host([highlight="Negative"]) .ui5-li-highlight{background:var(--sapNegativeTextColor)}:host([highlight="Critical"]) .ui5-li-highlight{background:var(--sapCriticalTextColor)}:host([highlight="Positive"]) .ui5-li-highlight{background:var(--sapPositiveTextColor)}:host([highlight="Information"]) .ui5-li-highlight{background:var(--sapInformativeTextColor)}
`]}),Xt("detail-click",{bubbles:!0}),Xt("selection-requested",{bubbles:!0})],Al);const rTe=Al;class Ff{static hasGroup(e){return this.groups.has(e)}static getGroup(e){return this.groups.get(e)}static getCheckedRadioFromGroup(e){return this.checkedRadios.get(e)}static removeGroup(e){return this.checkedRadios.delete(e),this.groups.delete(e)}static addToGroup(e,t){this.hasGroup(t)?(this.enforceSingleSelection(e,t),this.getGroup(t)&&this.getGroup(t).push(e)):this.createGroup(e,t),this.updateTabOrder(t)}static removeFromGroup(e,t){const n=this.getGroup(t);if(!n)return;const r=this.getCheckedRadioFromGroup(t);n.forEach((o,s,a)=>{if(e._id===o._id)return a.splice(s,1)}),r===e&&this.checkedRadios.set(t,null),n.length||this.removeGroup(t),this.updateTabOrder(t)}static createGroup(e,t){e.checked&&this.checkedRadios.set(t,e),this.groups.set(t,[e])}static selectNextItem(e,t){const n=this.getGroup(t);if(!n)return;const r=n.length,o=n.indexOf(e);if(r<=1)return;const s=this._nextFocusable(o,n);s&&this.updateSelectionInGroup(s,t)}static updateFormValidity(e){const t=this.getGroup(e);if(!t)return;const n=t.some(o=>o.required),r=t.some(o=>o.checked);t.forEach(o=>{o._groupChecked=r,o._groupRequired=n})}static updateTabOrder(e){const t=this.getGroup(e);if(!t)return;const n=t.some(r=>r.checked);t.filter(r=>!r.disabled).forEach((r,o)=>{let s=Rv();s!=null&&s.classList.contains("ui5-radio-root")&&(s=s.getRootNode(),s instanceof ShadowRoot&&(s=s.host)),n?s!=null&&s.hasAttribute("ui5-radio-button")&&s.readonly?r._tabIndex=s===r&&r.readonly?0:-1:r._tabIndex=r.checked?0:-1:r._tabIndex=o===0?0:-1})}static selectPreviousItem(e,t){const n=this.getGroup(t);if(!n)return;const r=n.length,o=n.indexOf(e);if(r<=1)return;const s=this._previousFocusable(o,n);s&&this.updateSelectionInGroup(s,t)}static selectItem(e,t){this.updateSelectionInGroup(e,t),this.updateTabOrder(t),this.updateFormValidity(t)}static updateSelectionInGroup(e,t){const n=this.getCheckedRadioFromGroup(t);n&&!e.readonly&&(this._deselectRadio(n),this.checkedRadios.set(t,e)),e&&(e.focus(),e.readonly?setTimeout(()=>{this.updateTabOrder(t)},0):this._selectRadio(e))}static _deselectRadio(e){e&&(e.checked=!1)}static _selectRadio(e){e.checked=!0,e._checked=!0,e.fireDecoratorEvent("change")}static _nextFocusable(e,t){if(!t)return null;let n=null;if(e===t.length-1){if(t[0].disabled)return this._nextFocusable(1,t);n=t[0]}else{if(t[e+1].disabled)return this._nextFocusable(e+1,t);n=t[e+1]}return n}static _previousFocusable(e,t){const n=t.length;let r=null;if(e===0){if(t[n-1].disabled)return this._previousFocusable(n-1,t);r=t[n-1]}else{if(t[e-1].disabled)return this._previousFocusable(e-1,t);r=t[e-1]}return r}static enforceSingleSelection(e,t){const n=this.getCheckedRadioFromGroup(t);e.checked?n?e!==n&&(this._deselectRadio(n),this.checkedRadios.set(t,e)):this.checkedRadios.set(t,e):e===n&&this.checkedRadios.set(t,null),this.updateTabOrder(t),this.updateFormValidity(t)}static get groups(){return this._groups||(this._groups=new Map),this._groups}static get checkedRadios(){return this._checkedRadios||(this._checkedRadios=new Map),this._checkedRadios}}bt("@ui5/webcomponents-theming","sap_horizon",async()=>Hi),bt("@ui5/webcomponents","sap_horizon",async()=>zi);var E_,Xs=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let FP,Hj=!1,Do=E_=class extends Xr{get formValidityMessage(){return E_.i18nBundle.getText(VSe)}get formValidity(){return{valueMissing:this._groupRequired&&!this._groupChecked}}async formElementAnchor(){return this.getFocusDomRefAsync()}get formFormattedValue(){return this.checked?this.value||"on":null}constructor(){super(),this.disabled=!1,this.readonly=!1,this.required=!1,this.checked=!1,this.valueState="None",this.value="",this.wrappingType="Normal",this.active=!1,this._groupChecked=!1,this._groupRequired=!1,this._name="",this._checked=!1,this._deactivate=()=>{FP&&(FP.active=!1)},Hj||(document.addEventListener("mouseup",this._deactivate),Hj=!0)}onAfterRendering(){this.syncGroup()}onEnterDOM(){Nu()&&this.setAttribute("desktop","")}onExitDOM(){this.syncGroup(!0)}syncGroup(i){const e=this._name,t=this.name,n=this._checked,r=this.checked;i&&Ff.removeFromGroup(this,e),t!==e?(e&&Ff.removeFromGroup(this,e),t&&Ff.addToGroup(this,t)):t&&this.isConnected&&Ff.enforceSingleSelection(this,t),this.name&&r!==n&&Ff.updateTabOrder(this.name),this._name=this.name||"",this._checked=this.checked}_onclick(){return this.toggle()}_handleDown(i){const e=this.name;e&&(i.preventDefault(),Ff.selectNextItem(this,e))}_handleUp(i){const e=this.name;e&&(i.preventDefault(),Ff.selectPreviousItem(this,e))}_onkeydown(i){if(wr(i))return this.active=!0,i.preventDefault();if(Dr(i))return this.active=!0,this.toggle();const e=this.effectiveDir==="rtl";(Bl(i)||!e&&Mg(i)||e&&Ig(i))&&this._handleDown(i),(za(i)||!e&&Ig(i)||e&&Mg(i))&&this._handleUp(i)}_onkeyup(i){wr(i)&&this.toggle(),this.active=!1}_onmousedown(){this.active=!0,FP=this}_onmouseup(){this.active=!1}_onfocusout(){this.active=!1}toggle(){return this.canToggle()?this.name?(Ff.selectItem(this,this.name),this):(this.checked=!this.checked,this.fireDecoratorEvent("change"),this):this}canToggle(){return!(this.disabled||this.readonly||this.checked)}get effectiveAriaDisabled(){return!(!this.disabled&&!this.readonly)||void 0}get ariaLabelText(){return[Hg(this),this.text].filter(Boolean).join(" ")}get effectiveAriaDescribedBy(){return this.hasValueState?`${this._id}-descr`:void 0}get hasValueState(){return this.valueState!==di.None}get valueStateText(){switch(this.valueState){case di.Negative:return E_.i18nBundle.getText(Nk);case di.Critical:return E_.i18nBundle.getText(Hk);case di.Positive:return E_.i18nBundle.getText(zk);case di.Information:return E_.i18nBundle.getText(rH);default:return""}}get effectiveTabIndex(){const i=this.getAttribute("tabindex");return this.disabled?-1:this.name?this._tabIndex:i?parseInt(i):0}};Xs([me({type:Boolean})],Do.prototype,"disabled",void 0),Xs([me({type:Boolean})],Do.prototype,"readonly",void 0),Xs([me({type:Boolean})],Do.prototype,"required",void 0),Xs([me({type:Boolean})],Do.prototype,"checked",void 0),Xs([me()],Do.prototype,"text",void 0),Xs([me()],Do.prototype,"valueState",void 0),Xs([me()],Do.prototype,"name",void 0),Xs([me()],Do.prototype,"value",void 0),Xs([me()],Do.prototype,"wrappingType",void 0),Xs([me()],Do.prototype,"accessibleName",void 0),Xs([me()],Do.prototype,"accessibleNameRef",void 0),Xs([me({type:Number})],Do.prototype,"_tabIndex",void 0),Xs([me({type:Boolean})],Do.prototype,"active",void 0),Xs([me({type:Boolean,noAttribute:!0})],Do.prototype,"_groupChecked",void 0),Xs([me({type:Boolean,noAttribute:!0})],Do.prototype,"_groupRequired",void 0),Xs([wo("@ui5/webcomponents")],Do,"i18nBundle",void 0),Do=E_=Xs([wn({tag:"ui5-radio-button",languageAware:!0,formAssociated:!0,renderer:Br,template:function(){return Rt("div",{role:"radio",class:"ui5-radio-root","aria-checked":this.checked,"aria-disabled":this.effectiveAriaDisabled,"aria-describedby":this.effectiveAriaDescribedBy,"aria-label":this.ariaLabelText,tabindex:this.effectiveTabIndex,onClick:this._onclick,onKeyDown:this._onkeydown,onKeyUp:this._onkeyup,onMouseDown:this._onmousedown,onMouseUp:this._onmouseup,onFocusOut:this._onfocusout,children:[Rt("div",{class:{"ui5-radio-inner":!0,"ui5-radio-inner--hoverable":!this.disabled&&!this.readonly&&Nu()},children:[Rt("svg",{class:"ui5-radio-svg",focusable:"false","aria-hidden":"true",children:[Ce("circle",{part:"outer-ring",class:"ui5-radio-svg-outer",cx:"50%",cy:"50%",r:"50%"}),Ce("circle",{part:"inner-ring",class:"ui5-radio-svg-inner",cx:"50%",cy:"50%"})]}),Ce("input",{type:"radio",required:this.required,checked:this.checked,readonly:this.readonly,disabled:this.disabled,name:this.name,"data-sap-no-tab-ref":!0})]}),this.text&&Ce(lg,{id:`${this._id}-label`,class:"ui5-radio-label",for:this._id,wrappingType:this.wrappingType,children:this.text}),this.hasValueState&&Ce("span",{id:`${this._id}-descr`,class:"ui5-hidden-text",children:this.valueStateText})]})},styles:`.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host(:not([hidden])){display:inline-block}:host{min-width:var(--_ui5-v2-9-0_radio_button_min_width);max-width:100%;text-overflow:ellipsis;overflow:hidden;color:var(--_ui5-v2-9-0_radio_button_color);border-radius:var(--_ui5-v2-9-0_radio_button_border_radius)}:host(:not([disabled])) .ui5-radio-root{cursor:pointer}:host([checked]){color:var(--_ui5-v2-9-0_radio_button_checked_fill)}:host([checked]) .ui5-radio-svg-inner{fill:var(--_ui5-v2-9-0_radio_button_inner_ring_color)}:host([checked]) .ui5-radio-svg-outer{stroke:var(--_ui5-v2-9-0_radio_button_outer_ring_color)}:host([disabled]) .ui5-radio-root{color:var(--_ui5-v2-9-0_radio_button_color);opacity:var(--sapContent_DisabledOpacity)}:host([disabled][checked]) .ui5-radio-svg-outer{stroke:var(--_ui5-v2-9-0_radio_button_color)}:host(:not([disabled])[desktop]) .ui5-radio-root:focus:before,:host(:not([disabled])) .ui5-radio-root:focus-visible:before{content:"";display:var(--_ui5-v2-9-0_radio_button_focus_outline);position:absolute;inset:var(--_ui5-v2-9-0_radio_button_focus_dist);pointer-events:none;border:var(--_ui5-v2-9-0_radio_button_border_width) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);border-radius:var(--_ui5-v2-9-0_radio_button_border_radius)}:host(:not([value-state="Negative"]):not([value-state="Critical"]):not([value-state="Positive"]):not([value-state="Information"])) .ui5-radio-root:hover .ui5-radio-inner--hoverable .ui5-radio-svg-outer{stroke:var(--_ui5-v2-9-0_radio_button_outer_ring_hover_color)}:host(:not([value-state="Negative"]):not([value-state="Critical"]):not([value-state="Positive"]):not([value-state="Information"])[checked]) .ui5-radio-root:hover .ui5-radio-inner--hoverable .ui5-radio-svg-outer{stroke:var(--_ui5-v2-9-0_radio_button_outer_ring_checked_hover_color)}.ui5-radio-root:hover .ui5-radio-inner--hoverable .ui5-radio-svg-outer,:host([checked]) .ui5-radio-root:hover .ui5-radio-inner--hoverable .ui5-radio-svg-outer{fill:var(--_ui5-v2-9-0_radio_button_hover_fill)}:host([active][checked]:not([value-state]):not([disabled]):not([readonly])) .ui5-radio-svg-outer{stroke:var(--_ui5-v2-9-0_radio_button_outer_ring_checked_hover_color)}:host([active]:not([checked]):not([value-state]):not([disabled]):not([readonly])) .ui5-radio-svg-outer{stroke:var(--_ui5-v2-9-0_radio_button_outer_ring_active_color)}:host([text]) .ui5-radio-root{padding-inline-end:var(--_ui5-v2-9-0_radio_button_border_width)}:host([text][desktop]) .ui5-radio-root:focus:before,:host([text]) .ui5-radio-root:focus-visible:before{inset-inline-end:0px}:host([text]) .ui5-radio-inner{padding:var(--_ui5-v2-9-0_radio_button_outer_ring_padding_with_label)}:host([checked][readonly]) .ui5-radio-svg-inner{fill:var(--_ui5-v2-9-0_radio_button_read_only_inner_ring_color)}:host([readonly]) .ui5-radio-root .ui5-radio-svg-outer{fill:var(--sapField_ReadOnly_Background);stroke:var(--sapField_ReadOnly_BorderColor);stroke-dasharray:var(--_ui5-v2-9-0_radio_button_read_only_border_type);stroke-width:var(--_ui5-v2-9-0_radio_button_read_only_border_width)}:host([value-state="Negative"]) .ui5-radio-svg-outer,:host([value-state="Critical"]) .ui5-radio-svg-outer{stroke-width:var(--sapField_InvalidBorderWidth)}:host([value-state="Information"]) .ui5-radio-svg-outer{stroke-width:var(--_ui5-v2-9-0_radio_button_information_border_width)}:host([value-state="Negative"][checked]) .ui5-radio-svg-inner{fill:var(--_ui5-v2-9-0_radio_button_checked_error_fill)}:host([value-state="Negative"]) .ui5-radio-svg-outer,:host([value-state="Negative"]) .ui5-radio-root:hover .ui5-radio-inner.ui5-radio-inner--hoverable:hover .ui5-radio-svg-outer{stroke:var(--sapField_InvalidColor);fill:var(--sapField_InvalidBackground)}:host([value-state="Negative"]) .ui5-radio-root:hover .ui5-radio-inner.ui5-radio-inner--hoverable .ui5-radio-svg-outer{fill:var(--_ui5-v2-9-0_radio_button_hover_fill_error)}:host([value-state="Critical"][checked]) .ui5-radio-svg-inner{fill:var(--_ui5-v2-9-0_radio_button_checked_warning_fill)}:host([value-state="Critical"]) .ui5-radio-svg-outer,:host([value-state="Critical"]) .ui5-radio-root:hover .ui5-radio-inner.ui5-radio-inner--hoverable:hover .ui5-radio-svg-outer{stroke:var(--sapField_WarningColor);fill:var(--sapField_WarningBackground)}:host([value-state="Critical"]) .ui5-radio-root:hover .ui5-radio-inner.ui5-radio-inner--hoverable .ui5-radio-svg-outer{fill:var(--_ui5-v2-9-0_radio_button_hover_fill_warning)}:host([value-state="Positive"][checked]) .ui5-radio-svg-inner{fill:var(--_ui5-v2-9-0_radio_button_checked_success_fill)}:host([value-state="Positive"]) .ui5-radio-svg-outer,:host([value-state="Positive"]) .ui5-radio-root:hover .ui5-radio-inner.ui5-radio-inner--hoverable:hover .ui5-radio-svg-outer{stroke:var(--sapField_SuccessColor);fill:var(--sapField_SuccessBackground)}:host([value-state="Positive"]) .ui5-radio-root:hover .ui5-radio-inner.ui5-radio-inner--hoverable .ui5-radio-svg-outer{fill:var(--_ui5-v2-9-0_radio_button_hover_fill_success)}:host([value-state="Information"][checked]) .ui5-radio-svg-inner{fill:var(--_ui5-v2-9-0_radio_button_checked_information_fill)}:host([value-state="Information"]) .ui5-radio-svg-outer,:host([value-state="Information"]) .ui5-radio-root:hover .ui5-radio-inner.ui5-radio-inner--hoverable:hover .ui5-radio-svg-outer{stroke:var(--sapField_InformationColor);fill:var(--sapField_InformationBackground)}:host([value-state="Information"]) .ui5-radio-root:hover .ui5-radio-inner.ui5-radio-inner--hoverable .ui5-radio-svg-outer{fill:var(--_ui5-v2-9-0_radio_button_hover_fill_information)}:host([value-state="Negative"]) .ui5-radio-root,:host([value-state="Critical"]) .ui5-radio-root,:host([value-state="Information"]) .ui5-radio-root{stroke-dasharray:var(--_ui5-v2-9-0_radio_button_warning_error_border_dash)}.ui5-radio-root{height:auto;position:relative;display:inline-flex;flex-wrap:nowrap;outline:none;max-width:100%;box-sizing:border-box;border:var(--_ui5-v2-9-0_radio_button_border);border-radius:var(--_ui5-v2-9-0_radio_button_border_radius)}.ui5-radio-inner{display:flex;align-items:center;padding:var(--_ui5-v2-9-0_radio_button_outer_ring_padding);flex-shrink:0;height:var(--_ui5-v2-9-0_radio_button_inner_size);font-size:1rem;pointer-events:none;vertical-align:top}.ui5-radio-inner{outline:none}.ui5-radio-inner input{-webkit-appearance:none;visibility:hidden;width:0;left:0;position:absolute;font-size:inherit;margin:0}[ui5-label].ui5-radio-label{display:flex;align-items:center;padding-inline-end:var(--_ui5-v2-9-0_radio_button_label_offset);padding-block:var(--_ui5-v2-9-0_radio_button_label_side_padding);vertical-align:top;max-width:100%;pointer-events:none;color:var(--_ui5-v2-9-0_radio_button_label_color);overflow-wrap:break-word}:host([wrapping-type="None"][text]) .ui5-radio-root{height:var(--_ui5-v2-9-0_radio_button_height)}:host([wrapping-type="None"][text]) [ui5-label].ui5-radio-label{text-overflow:ellipsis;overflow:hidden}.ui5-radio-svg{height:var(--_ui5-v2-9-0_radio_button_svg_size);width:var(--_ui5-v2-9-0_radio_button_svg_size);overflow:visible;pointer-events:none}.ui5-radio-svg-outer{fill:var(--_ui5-v2-9-0_radio_button_outer_ring_bg);stroke:currentColor;stroke-width:var(--_ui5-v2-9-0_radio_button_outer_ring_width)}.ui5-radio-svg-inner{fill:none;r:var(--_ui5-v2-9-0_radio_button_inner_ring_radius)}.ui5-radio-svg-outer,.ui5-radio-svg-inner{flex-shrink:0}:host(.ui5-li-singlesel-radiobtn) .ui5-radio-root .ui5-radio-inner .ui5-radio-svg-outer{fill:var(--sapList_Background)}
`}),Xt("change",{bubbles:!0})],Do),Do.define();const oTe=Do,sTe={listItemPreContent:function(){},listItemContent:function(){},imageBegin:function(){},iconBegin:function(){},iconEnd:function(){},selectionElement:one};function aTe(i){const e={...sTe,...i};return Rt("li",{part:"native-li","data-sap-focus-ref":!0,tabindex:this._effectiveTabIndex,class:this.classes.main,onFocusIn:this._onfocusin,onFocusOut:this._onfocusout,onKeyUp:this._onkeyup,onKeyDown:this._onkeydown,onMouseUp:this._onmouseup,onMouseDown:this._onmousedown,onTouchStart:this._onmousedown,onTouchEnd:this._ontouchend,onClick:this._onclick,draggable:this.movable,onDragStart:this._ondragstart,onDragEnd:this._ondragend,role:this._accInfo.role,title:this._accInfo.tooltip,"aria-expanded":this._accInfo.ariaExpanded,"aria-level":this._accInfo.ariaLevel,"aria-haspopup":this._accInfo.ariaHaspopup,"aria-posinset":this._accInfo.posinset,"aria-setsize":this._accInfo.setsize,"aria-describedby":`${this._id}-invisibleText-describedby`,"aria-labelledby":this._accessibleNameRef,"aria-disabled":this._ariaDisabled,"aria-selected":this._accInfo.ariaSelected,"aria-checked":this._accInfo.ariaChecked,"aria-owns":this._accInfo.ariaOwns,"aria-keyshortcuts":this._accInfo.ariaKeyShortcuts,children:[e.listItemPreContent.call(this),this.placeSelectionElementBefore&&one.call(this),this._hasHighlightColor&&Ce("div",{class:"ui5-li-highlight"}),Rt("div",{part:"content",id:`${this._id}-content`,class:"ui5-li-content",children:[e.imageBegin.call(this),e.iconBegin.call(this),e.listItemContent.call(this)]}),e.iconEnd.call(this),this.typeDetail&&Ce("div",{class:"ui5-li-detailbtn",children:Ce(rc,{part:"detail-button",design:"Transparent",onClick:this.onDetailClick,icon:"edit"})}),this.typeNavigation&&Ce(Ur,{name:F8}),this.navigated&&Ce("div",{class:"ui5-li-navigated"}),this.placeSelectionElementAfter&&e.selectionElement.call(this),Ce("span",{id:`${this._id}-invisibleText`,class:"ui5-hidden-text",children:this.ariaLabelledByText}),Ce("span",{id:`${this._id}-invisibleText-describedby`,class:"ui5-hidden-text",children:this._accInfo.ariaSelectedText})]})}function one(){switch(!0){case this.modeSingleSelect:return Ce(oTe,{part:"radio",disabled:this.isInactive,accessibleName:this._accInfo.ariaLabelRadioButton,tabindex:-1,id:`${this._id}-singleSelectionElement`,class:"ui5-li-singlesel-radiobtn",checked:this.selected,onChange:this.onSingleSelectionComponentPress});case this.modeMultiple:return Ce(FEe,{part:"checkbox",disabled:this.isInactive,indeterminate:this.indeterminate,tabindex:-1,id:`${this._id}-multiSelectionElement`,class:"ui5-li-multisel-cb",checked:this.selected,accessibleName:this._accInfo.ariaLabel,onChange:this.onMultiSelectionComponentPress});case this.modeDelete:return Ce("div",{class:"ui5-li-deletebtn",children:this.hasDeleteButtonSlot?Ce("slot",{name:"deleteButton"}):Ce(rc,{part:"delete-button",tabindex:-1,"data-sap-no-tab-ref":!0,id:`${this._id}-deleteSelectionElement`,design:"Transparent",icon:Gk,onClick:this.onDelete,tooltip:this.deleteText})})}}const lTe={imageBegin:function(){if(this.hasImage)return Ce("div",{class:"ui5-li-image",children:Ce("slot",{name:"image"})})},iconBegin:function(){if(this.displayIconBegin)return Ce(Ur,{part:"icon",name:this.icon,class:"ui5-li-icon",mode:"Decorative"})},iconEnd:function(){if(this.displayIconEnd)return Ce(Ur,{part:"icon",name:this.icon,class:"ui5-li-icon",mode:"Decorative"})},listItemContent:function(){return Rt(xr,{children:[Rt("div",{class:"ui5-li-text-wrapper",children:[Ce("span",{part:"title",class:"ui5-li-title",children:Ce("slot",{})}),this.description&&Rt("div",{class:"ui5-li-description-info-wrapper",children:[Ce("span",{part:"description",class:"ui5-li-desc",children:this.description}),this.additionalText&&Ce("span",{part:"additional-text",class:"ui5-li-additional-text",children:this.additionalText})]}),!this.typeActive&&Ce("span",{class:"ui5-hidden-text",children:this.type})]}),!this.description&&this.additionalText&&Ce("span",{part:"additional-text",class:"ui5-li-additional-text",children:this.additionalText})]})}};var gu=function(i,e,t,n){var r,o=arguments.length,s=o<3?e:n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(e,t,s):r(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s};let Kl=class extends rTe{constructor(){super(...arguments),this.iconEnd=!1,this.additionalTextState="None",this.movable=!1,this.wrappingType="None",this.hasTitle=!1,this._hasImage=!1}onBeforeRendering(){super.onBeforeRendering(),this.hasTitle=!!this.textContent,this._hasImage=this.hasImage}get displayIconBegin(){return!(!this.icon||this.iconEnd)}get displayIconEnd(){return!(!this.icon||!this.iconEnd)}get hasImage(){return!!this.image.length}};gu([me()],Kl.prototype,"description",void 0),gu([me()],Kl.prototype,"icon",void 0),gu([me({type:Boolean})],Kl.prototype,"iconEnd",void 0),gu([me()],Kl.prototype,"additionalText",void 0),gu([me()],Kl.prototype,"additionalTextState",void 0),gu([me({type:Boolean})],Kl.prototype,"movable",void 0),gu([me()],Kl.prototype,"accessibleName",void 0),gu([me()],Kl.prototype,"wrappingType",void 0),gu([me({type:Boolean})],Kl.prototype,"hasTitle",void 0),gu([me({type:Boolean})],Kl.prototype,"_hasImage",void 0),gu([Jn()],Kl.prototype,"image",void 0),Kl=gu([wn({tag:"ui5-li",renderer:Br,template:function(i){const e={...lTe,...i};return aTe.call(this,e)}})],Kl),Kl.define();var cTe=Object.defineProperty,uTe=Object.getOwnPropertyDescriptor,DP=(i,e,t,n)=>{for(var r,o=n>1?void 0:n?uTe(e,t):e,s=i.length-1;s>=0;s--)(r=i[s])&&(o=(n?r(e,t,o):r(o))||o);return n&&o&&cTe(e,t,o),o};let t2=class extends Oc{constructor(){super(...arguments),this.isColumnMode=!0,this.precision=4}render(){return Na`
      <ui5-panel id="layout" class="${this.isColumnMode?"ver-orientation":"hor-orientation"}">
        <div class="row">
          <div class="alignCenter">
            <ui5-button @click="${this._handleNewPathClicked}" title="${this.measurementTool.isEditModeActive||this.measurementTool.numPoints>0?"Reset current measurement":"Start new measurement"}">
              ${this.measurementTool.isEditModeActive||this.measurementTool.numPoints>0?"Reset":"New"}
            </ui5-button>
          </div>
          ${this.measurementTool.isEditModeActive||this.measurementTool.numPoints!==0?Na`
            <div class="alignCenter">
              <ui5-button
                @click="${this._handleUpdateEditStateClicked}"
                title="${this.measurementTool.isEditModeActive?"Pause current measurement":"Continue current measurement"}"
              >
                ${this.measurementTool.isEditModeActive?"Stop":"Continue"}
              </ui5-button>
            </div>
            <div class="alignCenter">
              <ui5-button
                ?disabled="${this.measurementTool.numPoints===0}"
                @click="${()=>{this.measurementTool.saveMeasurement("csv")}}"
                title="Download as CSV"
              >Download CSV</ui5-button>
            </div>
            <div class="alignCenter">
              <ui5-button
                ?disabled="${this.measurementTool.numPoints===0}"
                @click="${()=>{this.measurementTool.saveMeasurement("json")}}"
                title="Download as JSON"
              >Download JSON</ui5-button>
            </div>
          `:Fr}
        </div>
        ${this.measurementTool.numPoints>0||!this.measurementTool.isEditModeActive?Fr:Na`
          <div class="pt-1">Click on 2D/3D view to create a measurement point</div>
        `}
        ${this.measurementTool.numPoints===0?Fr:Na`
          <div>
            <ui5-checkbox text="Show distances" ?checked=${this.measurementTool.showMeasurementDistances} @change="${i=>{this.measurementTool.showMeasurementDistances=i.target.checked,this.requestUpdate()}}"></ui5-checkbox>
          </div>
          <table>
            <thead>
              <tr><th>#</th><th>x</th><th>y</th><th>z</th>${this.measurementTool.showMeasurementDistances?Na`<th>&Delta;</th>`:Fr}<th>label</th></tr>
            </thead>
            <tbody>
            ${this.measurementTool.measurementPoints.map((i,e)=>Na`
              <tr>
                <td>${e}</td>
                <td>${i.positionInModelCoor.x.toFixed(this.precision)}</td>
                <td>${i.positionInModelCoor.y.toFixed(this.precision)}</td>
                <td>${i.positionInModelCoor.z.toFixed(this.precision)}</td>
                ${this.measurementTool.showMeasurementDistances?Na`
                  <td>${e>0?this.measurementTool.measurementDistances[e-1].distance.toFixed(this.precision):""}</td>
                `:Fr}
                <td><input .value="${i.label}" @change="${t=>{i.label=t.target.value}}"></td>
              </tr>
            `)}
            ${!this.measurementTool.showMeasurementDistances||this.measurementTool.numPoints<2?Fr:Na`
              <tr><td colspan="4"></td><td class="sum">${this.measurementTool.measuredLength.toFixed(5)}</td><td></td></tr>
            `}
            </tbody>
          </table>
        `}
      </ui5-panel>
    `}firstUpdated(){this.measurementTool.on("update-requested",()=>this.requestUpdate()),this.measurementTool.on("hotspot-added",()=>this.requestUpdate())}updated(i){super.updated(i)}_handleNewPathClicked(){this.measurementTool.isEditModeActive=this.measurementTool.measurementPoints.length===0,this.measurementTool.resetPoints(),this.requestUpdate()}_handleUpdateEditStateClicked(){this.measurementTool.isEditModeActive=!this.measurementTool.isEditModeActive,this.requestUpdate()}};t2.styles=qA`
    :host {
      min-width: 15em;
      height: 100%;
      width: 100%;
    }

    #layout.ver-orientation {
      flex-direction: column;
      width: 100%;
    }

    #layout.hor-orientation {
      flex-direction: row;
      height: 100%;
    }

    #layout {
      position: relative;
      min-width: 15em;
      display: flex;
      align-items: stretch;
      flex-direction: column;
      gap: 1rem;
    }

    .row {
      display: flex;
      flex: 1;
      flex-direction: row;
      gap: 1rem;
      justify-content: space-between;
      width: 100%;
    }

    .pt-1 { padding-top: 10px; }

    .alignCenter {
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    ui5-button {
      padding: 0.25rem;
    }

    ui5-label {
      --sapFontSize: 15;
    }

    td { padding: 1px 8px; text-align: right; }
    td.sum { position: relative; }
    td.sum:before { content: '\\03a3'; left: -10px; position: absolute; }
  `,DP([Zn({type:Boolean})],t2.prototype,"isColumnMode",2),DP([Zn({type:Object})],t2.prototype,"measurementTool",2),t2=DP([WA("measurement-tool")],t2);var sne=function(i,e){return(sne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])})(i,e)};function Vh(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=i}sne(i,e),i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var L8=function(){return L8=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i},L8.apply(this,arguments)};function gl(i,e,t,n){return new(t||(t=Promise))(function(r,o){function s(c){try{l(n.next(c))}catch(u){o(u)}}function a(c){try{l(n.throw(c))}catch(u){o(u)}}function l(c){var u;c.done?r(c.value):(u=c.value,u instanceof t?u:new t(function(h){h(u)})).then(s,a)}l((n=n.apply(i,[])).next())})}function La(i,e){var t,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,n&&(r=2&u[0]?n.return:u[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,u[1])).done)return r;switch(n=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||u[0]!==6&&u[0]!==2)){s=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){s.label=u[1];break}if(u[0]===6&&s.label<r[1]){s.label=r[1],r=u;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(u);break}r[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(i,s)}catch(h){u=[6,h],n=0}finally{t=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}function aI(i,e,t){if(arguments.length===2)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return i.concat(n||e)}for(var Tp=function(){function i(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return i.prototype.add=function(e,t,n,r){return new i(this.left+e,this.top+t,this.width+n,this.height+r)},i.fromClientRect=function(e,t){return new i(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},i.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(r){return r.width!==0});return n?new i(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):i.EMPTY},i.EMPTY=new i(0,0,0,0),i}(),jk=function(i,e){return Tp.fromClientRect(i,e.getBoundingClientRect())},hR=function(i){for(var e=[],t=0,n=i.length;t<n;){var r=i.charCodeAt(t++);if(r>=55296&&r<=56319&&t<n){var o=i.charCodeAt(t++);(64512&o)==56320?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),t--)}else e.push(r)}return e},mo=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,i);var t=i.length;if(!t)return"";for(var n=[],r=-1,o="";++r<t;){var s=i[r];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(r+1===t||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},hTe=typeof Uint8Array>"u"?[]:new Uint8Array(256),lI=0;lI<64;lI++)hTe["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(lI)]=lI;for(var B2=typeof Uint8Array>"u"?[]:new Uint8Array(256),cI=0;cI<64;cI++)B2["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(cI)]=cI;for(var zj=function(i,e,t){return i.slice?i.slice(e,t):new Uint16Array(Array.prototype.slice.call(i,e,t))},ATe=function(){function i(e,t,n,r,o,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=o,this.data=s}return i.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},i}(),dTe=typeof Uint8Array>"u"?[]:new Uint8Array(256),uI=0;uI<64;uI++)dTe["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(uI)]=uI;var cg=10,O8=13,S2=15,hI=17,i2=18,pTe=19,Gj=20,Q8=21,n2=22,Qb=24,Rc=25,E2=26,T2=27,Nb=28,oy=30,AI=32,dI=33,N8=34,H8=35,$2=37,z8=38,TM=39,IM=40,Vj=42,fTe=[9001,65288],on="×",pI="÷",G8=function(){var i,e,t,n=function(l){var c,u,h,d,p,g=.75*l.length,v=l.length,_=0;l[l.length-1]==="="&&(g--,l[l.length-2]==="="&&g--);var b=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&Uint8Array.prototype.slice!==void 0?new ArrayBuffer(g):new Array(g),x=Array.isArray(b)?b:new Uint8Array(b);for(c=0;c<v;c+=4)u=B2[l.charCodeAt(c)],h=B2[l.charCodeAt(c+1)],d=B2[l.charCodeAt(c+2)],p=B2[l.charCodeAt(c+3)],x[_++]=u<<2|h>>4,x[_++]=(15&h)<<4|d>>2,x[_++]=(3&d)<<6|63&p;return b}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),r=Array.isArray(n)?function(l){for(var c=l.length,u=[],h=0;h<c;h+=4)u.push(l[h+3]<<24|l[h+2]<<16|l[h+1]<<8|l[h]);return u}(n):new Uint32Array(n),o=Array.isArray(n)?function(l){for(var c=l.length,u=[],h=0;h<c;h+=2)u.push(l[h+1]<<8|l[h]);return u}(n):new Uint16Array(n),s=zj(o,12,r[4]/2),a=r[5]===2?zj(o,(24+r[4])/2):(i=r,e=Math.ceil((24+r[4])/4),i.slice?i.slice(e,t):new Uint32Array(Array.prototype.slice.call(i,e,t)));return new ATe(r[0],r[1],r[2],r[3],s,a)}(),ep=[oy,36],V8=[1,2,3,5],ane=[cg,8],qj=[T2,E2],gTe=V8.concat(ane),Wj=[z8,TM,IM,N8,H8],mTe=[S2,O8],UP=function(i,e,t,n){var r=n[t];if(Array.isArray(i)?i.indexOf(r)!==-1:i===r)for(var o=t;o<=n.length;){if((l=n[++o])===e)return!0;if(l!==cg)break}if(r===cg)for(o=t;o>0;){var s=n[--o];if(Array.isArray(i)?i.indexOf(s)!==-1:i===s)for(var a=t;a<=n.length;){var l;if((l=n[++a])===e)return!0;if(l!==cg)break}if(s!==cg)break}return!1},jj=function(i,e){for(var t=i;t>=0;){var n=e[t];if(n!==cg)return n;t--}return 0},_Te=function(i,e,t,n,r){if(t[n]===0)return on;var o=n-1;if(Array.isArray(r)&&r[o]===!0)return on;var s=o-1,a=o+1,l=e[o],c=s>=0?e[s]:0,u=e[a];if(l===2&&u===3)return on;if(V8.indexOf(l)!==-1)return"!";if(V8.indexOf(u)!==-1||ane.indexOf(u)!==-1)return on;if(jj(o,e)===8)return pI;if(G8.get(i[o])===11||(l===AI||l===dI)&&G8.get(i[a])===11||l===7||u===7||l===9||[cg,O8,S2].indexOf(l)===-1&&u===9||[hI,i2,pTe,Qb,Nb].indexOf(u)!==-1||jj(o,e)===n2||UP(23,n2,o,e)||UP([hI,i2],Q8,o,e)||UP(12,12,o,e))return on;if(l===cg)return pI;if(l===23||u===23)return on;if(u===16||l===16)return pI;if([O8,S2,Q8].indexOf(u)!==-1||l===14||c===36&&mTe.indexOf(l)!==-1||l===Nb&&u===36||u===Gj||ep.indexOf(u)!==-1&&l===Rc||ep.indexOf(l)!==-1&&u===Rc||l===T2&&[$2,AI,dI].indexOf(u)!==-1||[$2,AI,dI].indexOf(l)!==-1&&u===E2||ep.indexOf(l)!==-1&&qj.indexOf(u)!==-1||qj.indexOf(l)!==-1&&ep.indexOf(u)!==-1||[T2,E2].indexOf(l)!==-1&&(u===Rc||[n2,S2].indexOf(u)!==-1&&e[a+1]===Rc)||[n2,S2].indexOf(l)!==-1&&u===Rc||l===Rc&&[Rc,Nb,Qb].indexOf(u)!==-1)return on;if([Rc,Nb,Qb,hI,i2].indexOf(u)!==-1)for(var h=o;h>=0;){if((d=e[h])===Rc)return on;if([Nb,Qb].indexOf(d)===-1)break;h--}if([T2,E2].indexOf(u)!==-1)for(h=[hI,i2].indexOf(l)!==-1?s:o;h>=0;){var d;if((d=e[h])===Rc)return on;if([Nb,Qb].indexOf(d)===-1)break;h--}if(z8===l&&[z8,TM,N8,H8].indexOf(u)!==-1||[TM,N8].indexOf(l)!==-1&&[TM,IM].indexOf(u)!==-1||[IM,H8].indexOf(l)!==-1&&u===IM||Wj.indexOf(l)!==-1&&[Gj,E2].indexOf(u)!==-1||Wj.indexOf(u)!==-1&&l===T2||ep.indexOf(l)!==-1&&ep.indexOf(u)!==-1||l===Qb&&ep.indexOf(u)!==-1||ep.concat(Rc).indexOf(l)!==-1&&u===n2&&fTe.indexOf(i[a])===-1||ep.concat(Rc).indexOf(u)!==-1&&l===i2)return on;if(l===41&&u===41){for(var p=t[o],g=1;p>0&&e[--p]===41;)g++;if(g%2!=0)return on}return l===AI&&u===dI?on:pI},vTe=function(){function i(e,t,n,r){this.codePoints=e,this.required=t==="!",this.start=n,this.end=r}return i.prototype.slice=function(){return mo.apply(void 0,this.codePoints.slice(this.start,this.end))},i}(),ec=45,z_=43,CA=-1,yl=function(i){return i>=48&&i<=57},Hb=function(i){return yl(i)||i>=65&&i<=70||i>=97&&i<=102},fI=function(i){return i===10||i===9||i===32},AR=function(i){return(t=e=i)>=97&&t<=122||function(n){return n>=65&&n<=90}(e)||function(n){return n>=128}(i)||i===95;var e,t},Kj=function(i){return AR(i)||yl(i)||i===ec},bTe=function(i){return i>=0&&i<=8||i===11||i>=14&&i<=31||i===127},Yf=function(i,e){return i===92&&e!==10},gI=function(i,e,t){return i===ec?AR(e)||Yf(e,t):!!AR(i)||!(i!==92||!Yf(i,e))},PP=function(i,e,t){return i===z_||i===ec?!!yl(e)||e===46&&yl(t):yl(i===46?e:i)},yTe=function(i){var e=0,t=1;i[e]!==z_&&i[e]!==ec||(i[e]===ec&&(t=-1),e++);for(var n=[];yl(i[e]);)n.push(i[e++]);var r=n.length?parseInt(mo.apply(void 0,n),10):0;i[e]===46&&e++;for(var o=[];yl(i[e]);)o.push(i[e++]);var s=o.length,a=s?parseInt(mo.apply(void 0,o),10):0;i[e]!==69&&i[e]!==101||e++;var l=1;i[e]!==z_&&i[e]!==ec||(i[e]===ec&&(l=-1),e++);for(var c=[];yl(i[e]);)c.push(i[e++]);var u=c.length?parseInt(mo.apply(void 0,c),10):0;return t*(r+a*Math.pow(10,-s))*Math.pow(10,l*u)},wTe={type:2},xTe={type:3},CTe={type:4},BTe={type:13},STe={type:8},ETe={type:21},TTe={type:9},ITe={type:10},MTe={type:11},RTe={type:12},kTe={type:14},mI={type:23},FTe={type:1},DTe={type:25},UTe={type:24},PTe={type:26},LTe={type:27},OTe={type:28},QTe={type:29},NTe={type:31},q8={type:32},lne=function(){function i(){this._value=[]}return i.prototype.write=function(e){this._value=this._value.concat(hR(e))},i.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==q8;)e.push(t),t=this.consumeToken();return e},i.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(Kj(t)||Yf(n,r)){var o=gI(t,n,r)?2:1;return{type:5,value:this.consumeName(),flags:o}}break;case 36:if(this.peekCodePoint(0)===61)return this.consumeCodePoint(),BTe;break;case 39:return this.consumeStringToken(39);case 40:return wTe;case 41:return xTe;case 42:if(this.peekCodePoint(0)===61)return this.consumeCodePoint(),kTe;break;case z_:if(PP(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return CTe;case ec:var s=e,a=this.peekCodePoint(0),l=this.peekCodePoint(1);if(PP(s,a,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(gI(s,a,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===ec&&l===62)return this.consumeCodePoint(),this.consumeCodePoint(),UTe;break;case 46:if(PP(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(this.peekCodePoint(0)===42)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===42&&(c=this.consumeCodePoint())===47)return this.consumeToken();if(c===CA)return this.consumeToken()}break;case 58:return PTe;case 59:return LTe;case 60:if(this.peekCodePoint(0)===33&&this.peekCodePoint(1)===ec&&this.peekCodePoint(2)===ec)return this.consumeCodePoint(),this.consumeCodePoint(),DTe;break;case 64:var u=this.peekCodePoint(0),h=this.peekCodePoint(1),d=this.peekCodePoint(2);if(gI(u,h,d))return{type:7,value:this.consumeName()};break;case 91:return OTe;case 92:if(Yf(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return QTe;case 61:if(this.peekCodePoint(0)===61)return this.consumeCodePoint(),STe;break;case 123:return MTe;case 125:return RTe;case 117:case 85:var p=this.peekCodePoint(0),g=this.peekCodePoint(1);return p!==z_||!Hb(g)&&g!==63||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(this.peekCodePoint(0)===61)return this.consumeCodePoint(),TTe;if(this.peekCodePoint(0)===124)return this.consumeCodePoint(),ETe;break;case 126:if(this.peekCodePoint(0)===61)return this.consumeCodePoint(),ITe;break;case CA:return q8}return fI(e)?(this.consumeWhiteSpace(),NTe):yl(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):AR(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:mo(e)}},i.prototype.consumeCodePoint=function(){var e=this._value.shift();return e===void 0?-1:e},i.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},i.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},i.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Hb(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===63&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(mo.apply(void 0,e.map(function(s){return s===63?48:s})),16),end:parseInt(mo.apply(void 0,e.map(function(s){return s===63?70:s})),16)};var r=parseInt(mo.apply(void 0,e),16);if(this.peekCodePoint(0)===ec&&Hb(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];Hb(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(mo.apply(void 0,o),16)}}return{type:30,start:r,end:r}},i.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===40?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===40?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},i.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===CA)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===39||t===34){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===CA||this.peekCodePoint(0)===41)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),mI)}for(;;){var r=this.consumeCodePoint();if(r===CA||r===41)return{type:22,value:mo.apply(void 0,e)};if(fI(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===CA||this.peekCodePoint(0)===41?(this.consumeCodePoint(),{type:22,value:mo.apply(void 0,e)}):(this.consumeBadUrlRemnants(),mI);if(r===34||r===39||r===40||bTe(r))return this.consumeBadUrlRemnants(),mI;if(r===92){if(!Yf(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),mI;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},i.prototype.consumeWhiteSpace=function(){for(;fI(this.peekCodePoint(0));)this.consumeCodePoint()},i.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===41||e===CA)return;Yf(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},i.prototype.consumeStringSlice=function(e){for(var t="";e>0;){var n=Math.min(5e4,e);t+=mo.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),t},i.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===CA||r===void 0||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===10)return this._value.splice(0,n),FTe;if(r===92){var o=this._value[n+1];o!==CA&&o!==void 0&&(o===10?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):Yf(r,o)&&(t+=this.consumeStringSlice(n),t+=mo(this.consumeEscapedCodePoint()),n=-1))}n++}},i.prototype.consumeNumber=function(){var e=[],t=4,n=this.peekCodePoint(0);for(n!==z_&&n!==ec||e.push(this.consumeCodePoint());yl(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===46&&yl(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;yl(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((n===69||n===101)&&((r===z_||r===ec)&&yl(o)||yl(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;yl(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[yTe(e),t]},i.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),o=this.peekCodePoint(1),s=this.peekCodePoint(2);return gI(r,o,s)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===37?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},i.prototype.consumeEscapedCodePoint=function(){var e,t=this.consumeCodePoint();if(Hb(t)){for(var n=mo(t);Hb(this.peekCodePoint(0))&&n.length<6;)n+=mo(this.consumeCodePoint());fI(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||(e=r)>=55296&&e<=57343||r>1114111?65533:r}return t===CA?65533:t},i.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(Kj(t))e+=mo(t);else{if(!Yf(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=mo(this.consumeEscapedCodePoint())}}},i}(),cne=function(){function i(e){this._tokens=e}return i.create=function(e){var t=new lne;return t.write(e),new i(t.read())},i.parseValue=function(e){return i.create(e).parseComponentValue()},i.parseValues=function(e){return i.create(e).parseComponentValues()},i.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},i.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},i.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},i.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||zTe(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},i.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},i.prototype.consumeToken=function(){var e=this._tokens.shift();return e===void 0?q8:e},i.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},i}(),iS=function(i){return i.type===15},sy=function(i){return i.type===17},$n=function(i){return i.type===20},HTe=function(i){return i.type===0},W8=function(i,e){return $n(i)&&i.value===e},$j=function(i){return i.type!==31},cw=function(i){return i.type!==31&&i.type!==4},NA=function(i){var e=[],t=[];return i.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");return e.push(t),void(t=[])}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},zTe=function(i,e){return e===11&&i.type===12||e===28&&i.type===29||e===2&&i.type===3},Dg=function(i){return i.type===17||i.type===15},Lo=function(i){return i.type===16||Dg(i)},une=function(i){return i.length>1?[i[0],i[1]]:[i[0]]},ia={type:17,number:0,flags:4},pH={type:16,number:50,flags:4},ug={type:16,number:100,flags:4},I2=function(i,e,t){var n=i[0],r=i[1];return[ur(n,e),ur(r!==void 0?r:n,t)]},ur=function(i,e){if(i.type===16)return i.number/100*e;if(iS(i))switch(i.unit){case"rem":case"em":return 16*i.number;default:return i.number}return i.number},hne="grad",Ane="turn",Kk=function(i,e){if(e.type===15)switch(e.unit){case"deg":return Math.PI*e.number/180;case hne:return Math.PI/200*e.number;case"rad":return e.number;case Ane:return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},dne=function(i){return i.type===15&&(i.unit==="deg"||i.unit===hne||i.unit==="rad"||i.unit===Ane)},pne=function(i){switch(i.filter($n).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ia,ia];case"to top":case"bottom":return Iu(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ia,ug];case"to right":case"left":return Iu(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ug,ug];case"to bottom":case"top":return Iu(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ug,ia];case"to left":case"right":return Iu(270)}return 0},Iu=function(i){return Math.PI*i/180},mg=function(i,e){if(e.type===18){var t=GTe[e.name];if(t===void 0)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(i,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),r=e.value.substring(1,2),o=e.value.substring(2,3);return hg(parseInt(n+n,16),parseInt(r+r,16),parseInt(o+o,16),1)}if(e.value.length===4){n=e.value.substring(0,1),r=e.value.substring(1,2),o=e.value.substring(2,3);var s=e.value.substring(3,4);return hg(parseInt(n+n,16),parseInt(r+r,16),parseInt(o+o,16),parseInt(s+s,16)/255)}if(e.value.length===6)return n=e.value.substring(0,2),r=e.value.substring(2,4),o=e.value.substring(4,6),hg(parseInt(n,16),parseInt(r,16),parseInt(o,16),1);if(e.value.length===8)return n=e.value.substring(0,2),r=e.value.substring(2,4),o=e.value.substring(4,6),s=e.value.substring(6,8),hg(parseInt(n,16),parseInt(r,16),parseInt(o,16),parseInt(s,16)/255)}if(e.type===20){var a=Ip[e.value.toUpperCase()];if(a!==void 0)return a}return Ip.TRANSPARENT},_g=function(i){return!(255&i)},Ss=function(i){var e=255&i,t=255&i>>8,n=255&i>>16,r=255&i>>24;return e<255?"rgba("+r+","+n+","+t+","+e/255+")":"rgb("+r+","+n+","+t+")"},hg=function(i,e,t,n){return(i<<24|e<<16|t<<8|Math.round(255*n))>>>0},Xj=function(i,e){if(i.type===17)return i.number;if(i.type===16){var t=e===3?1:255;return e===3?i.number/100*t:Math.round(i.number/100*t)}return 0},Yj=function(i,e){var t=e.filter(cw);if(t.length===3){var n=t.map(Xj),r=n[0],o=n[1],s=n[2];return hg(r,o,s,1)}if(t.length===4){var a=t.map(Xj),l=(r=a[0],o=a[1],s=a[2],a[3]);return hg(r,o,s,l)}return 0};function LP(i,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-i)*t*6+i:t<.5?e:t<2/3?6*(e-i)*(2/3-t)+i:i}var My,Zj=function(i,e){var t=e.filter(cw),n=t[0],r=t[1],o=t[2],s=t[3],a=(n.type===17?Iu(n.number):Kk(0,n))/(2*Math.PI),l=Lo(r)?r.number/100:0,c=Lo(o)?o.number/100:0,u=s!==void 0&&Lo(s)?ur(s,1):1;if(l===0)return hg(255*c,255*c,255*c,1);var h=c<=.5?c*(l+1):c+l-c*l,d=2*c-h,p=LP(d,h,a+1/3),g=LP(d,h,a),v=LP(d,h,a-1/3);return hg(255*p,255*g,255*v,u)},GTe={hsl:Zj,hsla:Zj,rgb:Yj,rgba:Yj},X2=function(i,e){return mg(i,cne.create(e).parseComponentValue())},Ip={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},VTe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(i,e){return e.map(function(t){if($n(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},qTe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dR=function(i,e){var t=mg(i,e[0]),n=e[1];return n&&Lo(n)?{color:t,stop:n}:{color:t,stop:null}},Jj=function(i,e){var t=i[0],n=i[i.length-1];t.stop===null&&(t.stop=ia),n.stop===null&&(n.stop=ug);for(var r=[],o=0,s=0;s<i.length;s++){var a=i[s].stop;if(a!==null){var l=ur(a,e);l>o?r.push(l):r.push(o),o=l}else r.push(null)}var c=null;for(s=0;s<r.length;s++){var u=r[s];if(u===null)c===null&&(c=s);else if(c!==null){for(var h=s-c,d=(u-r[c-1])/(h+1),p=1;p<=h;p++)r[c+p-1]=d*p;c=null}}return i.map(function(g,v){return{color:g.color,stop:Math.max(Math.min(1,r[v]/e),0)}})},Sh=function(i,e){return Math.sqrt(i*i+e*e)},eK=function(i,e,t,n,r){return[[0,0],[0,e],[i,0],[i,e]].reduce(function(o,s){var a=s[0],l=s[1],c=Sh(t-a,n-l);return(r?c<o.optimumDistance:c>o.optimumDistance)?{optimumCorner:s,optimumDistance:c}:o},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},_I=function(i,e){var t=Iu(180),n=[];return NA(e).forEach(function(r,o){if(o===0){var s=r[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1)return void(t=pne(r));if(dne(s))return void(t=(Kk(0,s)+Iu(270))%Iu(360))}var a=dR(i,r);n.push(a)}),{angle:t,stops:n,type:1}},fne="closest-side",gne="farthest-side",mne="closest-corner",_ne="farthest-corner",vne="circle",bne="ellipse",yne="cover",wne="contain",vI=function(i,e){var t=0,n=3,r=[],o=[];return NA(e).forEach(function(s,a){var l=!0;if(a===0?l=s.reduce(function(u,h){if($n(h))switch(h.value){case"center":return o.push(pH),!1;case"top":case"left":return o.push(ia),!1;case"right":case"bottom":return o.push(ug),!1}else if(Lo(h)||Dg(h))return o.push(h),!1;return u},l):a===1&&(l=s.reduce(function(u,h){if($n(h))switch(h.value){case vne:return t=0,!1;case bne:return t=1,!1;case wne:case fne:return n=0,!1;case gne:return n=1,!1;case mne:return n=2,!1;case yne:case _ne:return n=3,!1}else if(Dg(h)||Lo(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},l)),l){var c=dR(i,s);r.push(c)}}),{size:n,shape:t,stops:r,position:o,type:2}},fH=function(i,e){if(e.type===22){var t={url:e.value,type:0};return i.cache.addImage(e.value),t}if(e.type===18){var n=xne[e.name];if(n===void 0)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(i,e.values)}throw new Error("Unsupported image type "+e.type)},xne={"linear-gradient":function(i,e){var t=Iu(180),n=[];return NA(e).forEach(function(r,o){if(o===0){var s=r[0];if(s.type===20&&s.value==="to")return void(t=pne(r));if(dne(s))return void(t=Kk(0,s))}var a=dR(i,r);n.push(a)}),{angle:t,stops:n,type:1}},"-moz-linear-gradient":_I,"-ms-linear-gradient":_I,"-o-linear-gradient":_I,"-webkit-linear-gradient":_I,"radial-gradient":function(i,e){var t=0,n=3,r=[],o=[];return NA(e).forEach(function(s,a){var l=!0;if(a===0){var c=!1;l=s.reduce(function(h,d){if(c)if($n(d))switch(d.value){case"center":return o.push(pH),h;case"top":case"left":return o.push(ia),h;case"right":case"bottom":return o.push(ug),h}else(Lo(d)||Dg(d))&&o.push(d);else if($n(d))switch(d.value){case vne:return t=0,!1;case bne:return t=1,!1;case"at":return c=!0,!1;case fne:return n=0,!1;case yne:case gne:return n=1,!1;case wne:case mne:return n=2,!1;case _ne:return n=3,!1}else if(Dg(d)||Lo(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return h},l)}if(l){var u=dR(i,s);r.push(u)}}),{size:n,shape:t,stops:r,position:o,type:2}},"-moz-radial-gradient":vI,"-ms-radial-gradient":vI,"-o-radial-gradient":vI,"-webkit-radial-gradient":vI,"-webkit-gradient":function(i,e){var t=Iu(180),n=[],r=1;return NA(e).forEach(function(o,s){var a=o[0];if(s===0){if($n(a)&&a.value==="linear")return void(r=1);if($n(a)&&a.value==="radial")return void(r=2)}if(a.type===18){if(a.name==="from"){var l=mg(i,a.values[0]);n.push({stop:ia,color:l})}else if(a.name==="to")l=mg(i,a.values[0]),n.push({stop:ug,color:l});else if(a.name==="color-stop"){var c=a.values.filter(cw);if(c.length===2){l=mg(i,c[1]);var u=c[0];sy(u)&&n.push({stop:{type:16,number:100*u.number,flags:u.flags},color:l})}}}}),r===1?{angle:(t+Iu(180))%Iu(360),stops:n,type:r}:{size:3,shape:0,stops:n,position:[],type:r}}},WTe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(i,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return cw(n)&&!((r=n).type===20&&r.value==="none"||r.type===18&&!xne[r.name]);var r}).map(function(n){return fH(i,n)})}},jTe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(i,e){return e.map(function(t){if($n(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},KTe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(i,e){return NA(e).map(function(t){return t.filter(Lo)}).map(une)}},$Te={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(i,e){return NA(e).map(function(t){return t.filter($n).map(function(n){return n.value}).join(" ")}).map(XTe)}},XTe=function(i){switch(i){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};(function(i){i.AUTO="auto",i.CONTAIN="contain",i.COVER="cover"})(My||(My={}));var pR,YTe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(i,e){return NA(e).map(function(t){return t.filter(ZTe)})}},ZTe=function(i){return $n(i)||Lo(i)},$k=function(i){return{name:"border-"+i+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},JTe=$k("top"),e1e=$k("right"),t1e=$k("bottom"),i1e=$k("left"),Xk=function(i){return{name:"border-radius-"+i,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return une(t.filter(Lo))}}},n1e=Xk("top-left"),r1e=Xk("top-right"),o1e=Xk("bottom-right"),s1e=Xk("bottom-left"),Yk=function(i){return{name:"border-"+i+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},a1e=Yk("top"),l1e=Yk("right"),c1e=Yk("bottom"),u1e=Yk("left"),Zk=function(i){return{name:"border-"+i+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return iS(t)?t.number:0}}},h1e=Zk("top"),A1e=Zk("right"),d1e=Zk("bottom"),p1e=Zk("left"),f1e={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},g1e={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(i,e){return e==="rtl"?1:0}},m1e={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(i,e){return e.filter($n).reduce(function(t,n){return t|_1e(n.value)},0)}},_1e=function(i){switch(i){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},v1e={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},b1e={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(i,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}};(function(i){i.NORMAL="normal",i.STRICT="strict"})(pR||(pR={}));var Y2,y1e={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){return e==="strict"?pR.STRICT:pR.NORMAL}},w1e={name:"line-height",initialValue:"normal",prefix:!1,type:4},tK=function(i,e){return $n(i)&&i.value==="normal"?1.2*e:i.type===17?e*i.number:Lo(i)?ur(i,e):e},x1e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(i,e){return e.type===20&&e.value==="none"?null:fH(i,e)}},C1e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(i,e){return e==="inside"?0:1}},j8={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Jk=function(i){return{name:"margin-"+i,initialValue:"0",prefix:!1,type:4}},B1e=Jk("top"),S1e=Jk("right"),E1e=Jk("bottom"),T1e=Jk("left"),I1e={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(i,e){return e.filter($n).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},M1e={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){return e==="break-word"?"break-word":"normal"}},eF=function(i){return{name:"padding-"+i,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},R1e=eF("top"),k1e=eF("right"),F1e=eF("bottom"),D1e=eF("left"),U1e={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(i,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},P1e={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(i,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},L1e={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(i,e){return e.length===1&&W8(e[0],"none")?[]:NA(e).map(function(t){for(var n={color:Ip.TRANSPARENT,offsetX:ia,offsetY:ia,blur:ia},r=0,o=0;o<t.length;o++){var s=t[o];Dg(s)?(r===0?n.offsetX=s:r===1?n.offsetY=s:n.blur=s,r++):n.color=mg(i,s)}return n})}},O1e={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Q1e={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(i,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=N1e[e.name];if(t===void 0)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},N1e={matrix:function(i){var e=i.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},matrix3d:function(i){var e=i.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],n=e[1];e[2],e[3];var r=e[4],o=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],a=e[13];return e[14],e[15],e.length===16?[t,n,r,o,s,a]:null}},iK={type:16,number:50,flags:4},H1e=[iK,iK],z1e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(i,e){var t=e.filter(Lo);return t.length!==2?H1e:[t[0],t[1]]}},G1e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}};(function(i){i.NORMAL="normal",i.BREAK_ALL="break-all",i.KEEP_ALL="keep-all"})(Y2||(Y2={}));for(var V1e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){switch(e){case"break-all":return Y2.BREAK_ALL;case"keep-all":return Y2.KEEP_ALL;default:return Y2.NORMAL}}},q1e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(i,e){if(e.type===20)return{auto:!0,order:0};if(sy(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},nK=function(i,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")},W1e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(i,e){return sy(e)?e.number:1}},j1e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},K1e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(i,e){return e.filter($n).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},$1e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(i,e){var t=[],n=[];return e.forEach(function(r){switch(r.type){case 20:case 0:t.push(r.value);break;case 17:t.push(r.number.toString());break;case 4:n.push(t.join(" ")),t.length=0}}),t.length&&n.push(t.join(" ")),n.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},X1e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Y1e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(i,e){return sy(e)?e.number:$n(e)&&e.value==="bold"?700:400}},Z1e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(i,e){return e.filter($n).map(function(t){return t.value})}},J1e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},is=function(i,e){return!!(i&e)},eIe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(i,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},tIe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(i,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],r=e.filter($j),o=0;o<r.length;o++){var s=r[o],a=r[o+1];if(s.type===20){var l=a&&sy(a)?a.number:1;n.push({counter:s.value,increment:l})}}return n}},iIe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(i,e){if(e.length===0)return[];for(var t=[],n=e.filter($j),r=0;r<n.length;r++){var o=n[r],s=n[r+1];if($n(o)&&o.value!=="none"){var a=s&&sy(s)?s.number:0;t.push({counter:o.value,reset:a})}}return t}},nIe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(i,e){return e.filter(iS).map(function(t){return nK(0,t)})}},rIe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(i,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],r=e.filter(HTe);if(r.length%2!=0)return null;for(var o=0;o<r.length;o+=2){var s=r[o].value,a=r[o+1].value;n.push({open:s,close:a})}return n}},rK=function(i,e,t){if(!i)return"";var n=i[Math.min(e,i.length-1)];return n?t?n.open:n.close:""},oIe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(i,e){return e.length===1&&W8(e[0],"none")?[]:NA(e).map(function(t){for(var n={color:255,offsetX:ia,offsetY:ia,blur:ia,spread:ia,inset:!1},r=0,o=0;o<t.length;o++){var s=t[o];W8(s,"inset")?n.inset=!0:Dg(s)?(r===0?n.offsetX=s:r===1?n.offsetY=s:r===2?n.blur=s:n.spread=s,r++):n.color=mg(i,s)}return n})}},sIe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(i,e){var t=[];return e.filter($n).forEach(function(n){switch(n.value){case"stroke":t.push(1);break;case"fill":t.push(0);break;case"markers":t.push(2)}}),[0,1,2].forEach(function(n){t.indexOf(n)===-1&&t.push(n)}),t}},aIe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},lIe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(i,e){return iS(e)?e.number:0}},cIe=function(){function i(e,t){var n,r;this.animationDuration=Dt(e,nIe,t.animationDuration),this.backgroundClip=Dt(e,VTe,t.backgroundClip),this.backgroundColor=Dt(e,qTe,t.backgroundColor),this.backgroundImage=Dt(e,WTe,t.backgroundImage),this.backgroundOrigin=Dt(e,jTe,t.backgroundOrigin),this.backgroundPosition=Dt(e,KTe,t.backgroundPosition),this.backgroundRepeat=Dt(e,$Te,t.backgroundRepeat),this.backgroundSize=Dt(e,YTe,t.backgroundSize),this.borderTopColor=Dt(e,JTe,t.borderTopColor),this.borderRightColor=Dt(e,e1e,t.borderRightColor),this.borderBottomColor=Dt(e,t1e,t.borderBottomColor),this.borderLeftColor=Dt(e,i1e,t.borderLeftColor),this.borderTopLeftRadius=Dt(e,n1e,t.borderTopLeftRadius),this.borderTopRightRadius=Dt(e,r1e,t.borderTopRightRadius),this.borderBottomRightRadius=Dt(e,o1e,t.borderBottomRightRadius),this.borderBottomLeftRadius=Dt(e,s1e,t.borderBottomLeftRadius),this.borderTopStyle=Dt(e,a1e,t.borderTopStyle),this.borderRightStyle=Dt(e,l1e,t.borderRightStyle),this.borderBottomStyle=Dt(e,c1e,t.borderBottomStyle),this.borderLeftStyle=Dt(e,u1e,t.borderLeftStyle),this.borderTopWidth=Dt(e,h1e,t.borderTopWidth),this.borderRightWidth=Dt(e,A1e,t.borderRightWidth),this.borderBottomWidth=Dt(e,d1e,t.borderBottomWidth),this.borderLeftWidth=Dt(e,p1e,t.borderLeftWidth),this.boxShadow=Dt(e,oIe,t.boxShadow),this.color=Dt(e,f1e,t.color),this.direction=Dt(e,g1e,t.direction),this.display=Dt(e,m1e,t.display),this.float=Dt(e,v1e,t.cssFloat),this.fontFamily=Dt(e,$1e,t.fontFamily),this.fontSize=Dt(e,X1e,t.fontSize),this.fontStyle=Dt(e,J1e,t.fontStyle),this.fontVariant=Dt(e,Z1e,t.fontVariant),this.fontWeight=Dt(e,Y1e,t.fontWeight),this.letterSpacing=Dt(e,b1e,t.letterSpacing),this.lineBreak=Dt(e,y1e,t.lineBreak),this.lineHeight=Dt(e,w1e,t.lineHeight),this.listStyleImage=Dt(e,x1e,t.listStyleImage),this.listStylePosition=Dt(e,C1e,t.listStylePosition),this.listStyleType=Dt(e,j8,t.listStyleType),this.marginTop=Dt(e,B1e,t.marginTop),this.marginRight=Dt(e,S1e,t.marginRight),this.marginBottom=Dt(e,E1e,t.marginBottom),this.marginLeft=Dt(e,T1e,t.marginLeft),this.opacity=Dt(e,W1e,t.opacity);var o=Dt(e,I1e,t.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=Dt(e,M1e,t.overflowWrap),this.paddingTop=Dt(e,R1e,t.paddingTop),this.paddingRight=Dt(e,k1e,t.paddingRight),this.paddingBottom=Dt(e,F1e,t.paddingBottom),this.paddingLeft=Dt(e,D1e,t.paddingLeft),this.paintOrder=Dt(e,sIe,t.paintOrder),this.position=Dt(e,P1e,t.position),this.textAlign=Dt(e,U1e,t.textAlign),this.textDecorationColor=Dt(e,j1e,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=Dt(e,K1e,(r=t.textDecorationLine)!==null&&r!==void 0?r:t.textDecoration),this.textShadow=Dt(e,L1e,t.textShadow),this.textTransform=Dt(e,O1e,t.textTransform),this.transform=Dt(e,Q1e,t.transform),this.transformOrigin=Dt(e,z1e,t.transformOrigin),this.visibility=Dt(e,G1e,t.visibility),this.webkitTextStrokeColor=Dt(e,aIe,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Dt(e,lIe,t.webkitTextStrokeWidth),this.wordBreak=Dt(e,V1e,t.wordBreak),this.zIndex=Dt(e,q1e,t.zIndex)}return i.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},i.prototype.isTransparent=function(){return _g(this.backgroundColor)},i.prototype.isTransformed=function(){return this.transform!==null},i.prototype.isPositioned=function(){return this.position!==0},i.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},i.prototype.isFloating=function(){return this.float!==0},i.prototype.isInlineLevel=function(){return is(this.display,4)||is(this.display,33554432)||is(this.display,268435456)||is(this.display,536870912)||is(this.display,67108864)||is(this.display,134217728)},i}(),uIe=function(i,e){this.content=Dt(i,eIe,e.content),this.quotes=Dt(i,rIe,e.quotes)},oK=function(i,e){this.counterIncrement=Dt(i,tIe,e.counterIncrement),this.counterReset=Dt(i,iIe,e.counterReset)},Dt=function(i,e,t){var n=new lne,r=t!=null?t.toString():e.initialValue;n.write(r);var o=new cne(n.read());switch(e.type){case 2:var s=o.parseComponentValue();return e.parse(i,$n(s)?s.value:e.initialValue);case 0:return e.parse(i,o.parseComponentValue());case 1:return e.parse(i,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(e.format){case"angle":return Kk(0,o.parseComponentValue());case"color":return mg(i,o.parseComponentValue());case"image":return fH(i,o.parseComponentValue());case"length":var a=o.parseComponentValue();return Dg(a)?a:ia;case"length-percentage":var l=o.parseComponentValue();return Lo(l)?l:ia;case"time":return nK(0,o.parseComponentValue())}}},K8=function(i,e){var t=function(n){switch(n.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(i);return t===1||e===t},jA=function(i,e){this.context=i,this.textNodes=[],this.elements=[],this.flags=0,K8(e,3),this.styles=new cIe(i,window.getComputedStyle(e,null)),Z8(e)&&(this.styles.animationDuration.some(function(t){return t>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=jk(this.context,e),K8(e,4)&&(this.flags|=16)},M2=typeof Uint8Array>"u"?[]:new Uint8Array(256),bI=0;bI<64;bI++)M2["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(bI)]=bI;for(var sK=function(i,e,t){return i.slice?i.slice(e,t):new Uint16Array(Array.prototype.slice.call(i,e,t))},hIe=function(){function i(e,t,n,r,o,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=o,this.data=s}return i.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},i}(),AIe=typeof Uint8Array>"u"?[]:new Uint8Array(256),yI=0;yI<64;yI++)AIe["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(yI)]=yI;var Z2,aK=8,OP=9,lK=11,cK=12,dIe=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,i);var t=i.length;if(!t)return"";for(var n=[],r=-1,o="";++r<t;){var s=i[r];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(r+1===t||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},pIe=function(){var i,e,t,n=function(l){var c,u,h,d,p,g=.75*l.length,v=l.length,_=0;l[l.length-1]==="="&&(g--,l[l.length-2]==="="&&g--);var b=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&Uint8Array.prototype.slice!==void 0?new ArrayBuffer(g):new Array(g),x=Array.isArray(b)?b:new Uint8Array(b);for(c=0;c<v;c+=4)u=M2[l.charCodeAt(c)],h=M2[l.charCodeAt(c+1)],d=M2[l.charCodeAt(c+2)],p=M2[l.charCodeAt(c+3)],x[_++]=u<<2|h>>4,x[_++]=(15&h)<<4|d>>2,x[_++]=(3&d)<<6|63&p;return b}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),r=Array.isArray(n)?function(l){for(var c=l.length,u=[],h=0;h<c;h+=4)u.push(l[h+3]<<24|l[h+2]<<16|l[h+1]<<8|l[h]);return u}(n):new Uint32Array(n),o=Array.isArray(n)?function(l){for(var c=l.length,u=[],h=0;h<c;h+=2)u.push(l[h+1]<<8|l[h]);return u}(n):new Uint16Array(n),s=sK(o,12,r[4]/2),a=r[5]===2?sK(o,(24+r[4])/2):(i=r,e=Math.ceil((24+r[4])/4),i.slice?i.slice(e,t):new Uint32Array(Array.prototype.slice.call(i,e,t)));return new hIe(r[0],r[1],r[2],r[3],s,a)}(),bu="×",fIe=function(i){return pIe.get(i)},gIe=function(i,e,t){var n=t-2,r=e[n],o=e[t-1],s=e[t];if(o===2&&s===3)return bu;if(o===2||o===3||o===4||s===2||s===3||s===4)return"÷";if(o===aK&&[aK,OP,lK,cK].indexOf(s)!==-1||!(o!==lK&&o!==OP||s!==OP&&s!==10)||(o===cK||o===10)&&s===10||s===13||s===5||s===7||o===1)return bu;if(o===13&&s===14){for(;r===5;)r=e[--n];if(r===14)return bu}if(o===15&&s===15){for(var a=0;r===15;)a++,r=e[--n];if(a%2==0)return bu}return"÷"},mIe=function(i){var e=function(s){for(var a=[],l=0,c=s.length;l<c;){var u=s.charCodeAt(l++);if(u>=55296&&u<=56319&&l<c){var h=s.charCodeAt(l++);(64512&h)==56320?a.push(((1023&u)<<10)+(1023&h)+65536):(a.push(u),l--)}else a.push(u)}return a}(i),t=e.length,n=0,r=0,o=e.map(fIe);return{next:function(){if(n>=t)return{done:!0,value:null};for(var s=bu;n<t&&(s=gIe(0,o,++n))===bu;);if(s!==bu||n===t){var a=dIe.apply(null,e.slice(r,n));return r=n,{value:a,done:!1}}return{done:!0,value:null}}}},uK=function(i){return i[0]===0&&i[1]===255&&i[2]===0&&i[3]===255},$8=function(i,e,t,n,r){var o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return s.setAttributeNS(null,"width",i.toString()),s.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",t.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(r),s},hK=function(i){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(i))})},ta={get SUPPORT_RANGE_BOUNDS(){var i=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=t.getBoundingClientRect(),o=Math.round(r.height);if(e.body.removeChild(n),o===123)return!0}}return!1}(document);return Object.defineProperty(ta,"SUPPORT_RANGE_BOUNDS",{value:i}),i},get SUPPORT_WORD_BREAKING(){var i=ta.SUPPORT_RANGE_BOUNDS&&function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,o=hR(r.data).map(function(c){return mo(c)}),s=0,a={},l=o.every(function(c,u){n.setStart(r,s),n.setEnd(r,s+c.length);var h=n.getBoundingClientRect();s+=c.length;var d=h.x>a.x||h.y>a.y;return a=h,u===0||d});return e.body.removeChild(t),l}(document);return Object.defineProperty(ta,"SUPPORT_WORD_BREAKING",{value:i}),i},get SUPPORT_SVG_DRAWING(){var i=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(ta,"SUPPORT_SVG_DRAWING",{value:i}),i},get SUPPORT_FOREIGNOBJECT_DRAWING(){var i=typeof Array.from=="function"&&typeof window.fetch=="function"?function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var o=new Image,s=t.toDataURL();o.src=s;var a=$8(n,n,0,0,o);return r.fillStyle="red",r.fillRect(0,0,n,n),hK(a).then(function(l){r.drawImage(l,0,0);var c=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var u=e.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=n+"px",uK(c)?hK($8(n,n,0,0,u)):Promise.reject(!1)}).then(function(l){return r.drawImage(l,0,0),uK(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(ta,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:i}),i},get SUPPORT_CORS_IMAGES(){var i=new Image().crossOrigin!==void 0;return Object.defineProperty(ta,"SUPPORT_CORS_IMAGES",{value:i}),i},get SUPPORT_RESPONSE_TYPE(){var i=typeof new XMLHttpRequest().responseType=="string";return Object.defineProperty(ta,"SUPPORT_RESPONSE_TYPE",{value:i}),i},get SUPPORT_CORS_XHR(){var i="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ta,"SUPPORT_CORS_XHR",{value:i}),i},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var i=!(typeof Intl>"u"||!Intl.Segmenter);return Object.defineProperty(ta,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:i}),i}},J2=function(i,e){this.text=i,this.bounds=e},AK=function(i,e,t){var n=i.ownerDocument;if(!n)throw new Error("Node has no owner document");var r=n.createRange();return r.setStart(i,e),r.setEnd(i,e+t),r},X8=function(i){if(ta.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(i)).map(function(t){return t.segment})}return function(t){for(var n,r=mIe(t),o=[];!(n=r.next()).done;)n.value&&o.push(n.value.slice());return o}(i)},_Ie=[32,160,4961,65792,65793,4153,4241],vIe=function(i,e){for(var t,n=function(s,a){var l=hR(s),c=function(_,b){b||(b={lineBreak:"normal",wordBreak:"normal"});var x=function(I,M){M===void 0&&(M="strict");var k=[],F=[],P=[];return I.forEach(function(Q,N){var W=G8.get(Q);if(W>50?(P.push(!0),W-=50):P.push(!1),["normal","auto","loose"].indexOf(M)!==-1&&[8208,8211,12316,12448].indexOf(Q)!==-1)return F.push(N),k.push(16);if(W===4||W===11){if(N===0)return F.push(N),k.push(oy);var q=k[N-1];return gTe.indexOf(q)===-1?(F.push(F[N-1]),k.push(q)):(F.push(N),k.push(oy))}return F.push(N),W===31?k.push(M==="strict"?Q8:$2):W===Vj||W===29?k.push(oy):W===43?Q>=131072&&Q<=196605||Q>=196608&&Q<=262141?k.push($2):k.push(oy):void k.push(W)}),[F,k,P]}(_,b.lineBreak),C=x[0],S=x[1],E=x[2];return b.wordBreak!=="break-all"&&b.wordBreak!=="break-word"||(S=S.map(function(I){return[Rc,oy,Vj].indexOf(I)!==-1?$2:I})),[C,S,b.wordBreak==="keep-all"?E.map(function(I,M){return I&&_[M]>=19968&&_[M]<=40959}):void 0]}(l,a),u=c[0],h=c[1],d=c[2],p=l.length,g=0,v=0;return{next:function(){if(v>=p)return{done:!0,value:null};for(var _=on;v<p&&(_=_Te(l,h,u,++v,d))===on;);if(_!==on||v===p){var b=new vTe(l,_,g,v);return g=v,{value:b,done:!1}}return{done:!0,value:null}}}}(i,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],o=function(){if(t.value){var s=t.value.slice(),a=hR(s),l="";a.forEach(function(c){_Ie.indexOf(c)===-1?l+=mo(c):(l.length&&r.push(l),r.push(mo(c)),l="")}),l.length&&r.push(l)}};!(t=n.next()).done;)o();return r},bIe=function(i,e,t){var n,r,o,s,a,l,c;this.text=yIe(e.data,t.textTransform),this.textBounds=(n=i,r=this.text,s=e,a=function(u,h){return h.letterSpacing!==0?X8(u):function(d,p){if(ta.SUPPORT_NATIVE_TEXT_SEGMENTATION){var g=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(g.segment(d)).map(function(v){return v.segment})}return vIe(d,p)}(u,h)}(r,o=t),l=[],c=0,a.forEach(function(u){if(o.textDecorationLine.length||u.trim().length>0)if(ta.SUPPORT_RANGE_BOUNDS){var h=AK(s,c,u.length).getClientRects();if(h.length>1){var d=X8(u),p=0;d.forEach(function(v){l.push(new J2(v,Tp.fromDOMRectList(n,AK(s,p+c,v.length).getClientRects()))),p+=v.length})}else l.push(new J2(u,Tp.fromDOMRectList(n,h)))}else{var g=s.splitText(u.length);l.push(new J2(u,function(v,_){var b=_.ownerDocument;if(b){var x=b.createElement("html2canvaswrapper");x.appendChild(_.cloneNode(!0));var C=_.parentNode;if(C){C.replaceChild(x,_);var S=jk(v,x);return x.firstChild&&C.replaceChild(x.firstChild,x),S}}return Tp.EMPTY}(n,s))),s=g}else ta.SUPPORT_RANGE_BOUNDS||(s=s.splitText(u.length));c+=u.length}),l)},yIe=function(i,e){switch(e){case 1:return i.toLowerCase();case 3:return i.replace(wIe,xIe);case 2:return i.toUpperCase();default:return i}},wIe=/(^|\s|:|-|\(|\))([a-z])/g,xIe=function(i,e,t){return i.length>0?e+t.toUpperCase():i},Cne=function(i){function e(t,n){var r=i.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return Vh(e,i),e}(jA),Bne=function(i){function e(t,n){var r=i.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return Vh(e,i),e}(jA),Sne=function(i){function e(t,n){var r=i.call(this,t,n)||this,o=new XMLSerializer,s=jk(t,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return Vh(e,i),e}(jA),Ene=function(i){function e(t,n){var r=i.call(this,t,n)||this;return r.value=n.value,r}return Vh(e,i),e}(jA),Y8=function(i){function e(t,n){var r=i.call(this,t,n)||this;return r.start=n.start,r.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,r}return Vh(e,i),e}(jA),CIe=[{type:15,flags:0,unit:"px",number:3}],BIe=[{type:16,flags:0,number:50}],fR="checkbox",gR="radio",dK=707406591,gH=function(i){function e(t,n){var r,o,s,a=i.call(this,t,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=(o=(r=n).type==="password"?new Array(r.value.length+1).join("•"):r.value).length===0?r.placeholder||"":o,a.type!==fR&&a.type!==gR||(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=(s=a.bounds).width>s.height?new Tp(s.left+(s.width-s.height)/2,s.top,s.height,s.height):s.width<s.height?new Tp(s.left,s.top+(s.height-s.width)/2,s.width,s.width):s),a.type){case fR:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=CIe;break;case gR:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=BIe}return a}return Vh(e,i),e}(jA),Tne=function(i){function e(t,n){var r=i.call(this,t,n)||this,o=n.options[n.selectedIndex||0];return r.value=o&&o.text||"",r}return Vh(e,i),e}(jA),Ine=function(i){function e(t,n){var r=i.call(this,t,n)||this;return r.value=n.value,r}return Vh(e,i),e}(jA),Mne=function(i){function e(t,n){var r=i.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=kne(t,n.contentWindow.document.documentElement);var o=n.contentWindow.document.documentElement?X2(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Ip.TRANSPARENT,s=n.contentWindow.document.body?X2(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):Ip.TRANSPARENT;r.backgroundColor=_g(o)?_g(s)?r.styles.backgroundColor:s:o}}catch{}return r}return Vh(e,i),e}(jA),SIe=["OL","UL","MENU"],MM=function(i,e,t,n){for(var r=e.firstChild,o=void 0;r;r=o)if(o=r.nextSibling,Fne(r)&&r.data.trim().length>0)t.textNodes.push(new bIe(i,r,t.styles));else if(_y(r))if(Lne(r)&&r.assignedNodes)r.assignedNodes().forEach(function(a){return MM(i,a,t,n)});else{var s=Rne(i,r);s.styles.isVisible()&&(EIe(r,s,n)?s.flags|=4:TIe(s.styles)&&(s.flags|=2),SIe.indexOf(r.tagName)!==-1&&(s.flags|=8),t.elements.push(s),r.slot,r.shadowRoot?MM(i,r.shadowRoot,s,n):mR(r)||Dne(r)||_R(r)||MM(i,r,s,n))}},Rne=function(i,e){return J8(e)?new Cne(i,e):Une(e)?new Bne(i,e):Dne(e)?new Sne(i,e):IIe(e)?new Ene(i,e):MIe(e)?new Y8(i,e):RIe(e)?new gH(i,e):_R(e)?new Tne(i,e):mR(e)?new Ine(i,e):Pne(e)?new Mne(i,e):new jA(i,e)},kne=function(i,e){var t=Rne(i,e);return t.flags|=4,MM(i,e,t,t),t},EIe=function(i,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||mH(i)&&t.styles.isTransparent()},TIe=function(i){return i.isPositioned()||i.isFloating()},Fne=function(i){return i.nodeType===Node.TEXT_NODE},_y=function(i){return i.nodeType===Node.ELEMENT_NODE},Z8=function(i){return _y(i)&&i.style!==void 0&&!RM(i)},RM=function(i){return typeof i.className=="object"},IIe=function(i){return i.tagName==="LI"},MIe=function(i){return i.tagName==="OL"},RIe=function(i){return i.tagName==="INPUT"},Dne=function(i){return i.tagName==="svg"},mH=function(i){return i.tagName==="BODY"},Une=function(i){return i.tagName==="CANVAS"},pK=function(i){return i.tagName==="VIDEO"},J8=function(i){return i.tagName==="IMG"},Pne=function(i){return i.tagName==="IFRAME"},fK=function(i){return i.tagName==="STYLE"},mR=function(i){return i.tagName==="TEXTAREA"},_R=function(i){return i.tagName==="SELECT"},Lne=function(i){return i.tagName==="SLOT"},gK=function(i){return i.tagName.indexOf("-")>0},kIe=function(){function i(){this.counters={}}return i.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},i.prototype.getCounterValues=function(e){return this.counters[e]||[]},i.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},i.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,o=!0;n!==null&&n.forEach(function(a){var l=t.counters[a.counter];l&&a.increment!==0&&(o=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=a.increment)});var s=[];return o&&r.forEach(function(a){var l=t.counters[a.counter];s.push(a.counter),l||(l=t.counters[a.counter]=[]),l.push(a.reset)}),s},i}(),mK={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_K={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},FIe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},DIe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},zb=function(i,e,t,n,r,o){return i<e||i>t?nS(i,r,o.length>0):n.integers.reduce(function(s,a,l){for(;i>=a;)i-=a,s+=n.values[l];return s},"")+o},One=function(i,e,t,n){var r="";do t||i--,r=n(i)+r,i/=e;while(i*e>=e);return r},fo=function(i,e,t,n,r){var o=t-e+1;return(i<0?"-":"")+(One(Math.abs(i),o,n,function(s){return mo(Math.floor(s%o)+e)})+r)},d_=function(i,e,t){t===void 0&&(t=". ");var n=e.length;return One(Math.abs(i),n,!1,function(r){return e[Math.floor(r%n)]})+t},tp=function(i,e,t,n,r,o){if(i<-9999||i>9999)return nS(i,4,r.length>0);var s=Math.abs(i),a=r;if(s===0)return e[0]+a;for(var l=0;s>0&&l<=4;l++){var c=s%10;c===0&&is(o,1)&&a!==""?a=e[c]+a:c>1||c===1&&l===0||c===1&&l===1&&is(o,2)||c===1&&l===1&&is(o,4)&&i>100||c===1&&l>1&&is(o,8)?a=e[c]+(l>0?t[l-1]:"")+a:c===1&&l>0&&(a=t[l-1]+a),s=Math.floor(s/10)}return(i<0?n:"")+a},vK="十百千萬",bK="拾佰仟萬",yK="マイナス",QP="마이너스",nS=function(i,e,t){var n=t?". ":"",r=t?"、":"",o=t?", ":"",s=t?" ":"";switch(e){case 0:return"•"+s;case 1:return"◦"+s;case 2:return"◾"+s;case 5:var a=fo(i,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return d_(i,"〇一二三四五六七八九",r);case 6:return zb(i,1,3999,mK,3,n).toLowerCase();case 7:return zb(i,1,3999,mK,3,n);case 8:return fo(i,945,969,!1,n);case 9:return fo(i,97,122,!1,n);case 10:return fo(i,65,90,!1,n);case 11:return fo(i,1632,1641,!0,n);case 12:case 49:return zb(i,1,9999,_K,3,n);case 35:return zb(i,1,9999,_K,3,n).toLowerCase();case 13:return fo(i,2534,2543,!0,n);case 14:case 30:return fo(i,6112,6121,!0,n);case 15:return d_(i,"子丑寅卯辰巳午未申酉戌亥",r);case 16:return d_(i,"甲乙丙丁戊己庚辛壬癸",r);case 17:case 48:return tp(i,"零一二三四五六七八九",vK,"負",r,14);case 47:return tp(i,"零壹貳參肆伍陸柒捌玖",bK,"負",r,15);case 42:return tp(i,"零一二三四五六七八九",vK,"负",r,14);case 41:return tp(i,"零壹贰叁肆伍陆柒捌玖",bK,"负",r,15);case 26:return tp(i,"〇一二三四五六七八九","十百千万",yK,r,0);case 25:return tp(i,"零壱弐参四伍六七八九","拾百千万",yK,r,7);case 31:return tp(i,"영일이삼사오육칠팔구","십백천만",QP,o,7);case 33:return tp(i,"零一二三四五六七八九","十百千萬",QP,o,0);case 32:return tp(i,"零壹貳參四五六七八九","拾百千",QP,o,7);case 18:return fo(i,2406,2415,!0,n);case 20:return zb(i,1,19999,DIe,3,n);case 21:return fo(i,2790,2799,!0,n);case 22:return fo(i,2662,2671,!0,n);case 22:return zb(i,1,10999,FIe,3,n);case 23:return d_(i,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return d_(i,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return fo(i,3302,3311,!0,n);case 28:return d_(i,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",r);case 29:return d_(i,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",r);case 34:return fo(i,3792,3801,!0,n);case 37:return fo(i,6160,6169,!0,n);case 38:return fo(i,4160,4169,!0,n);case 39:return fo(i,2918,2927,!0,n);case 40:return fo(i,1776,1785,!0,n);case 43:return fo(i,3046,3055,!0,n);case 44:return fo(i,3174,3183,!0,n);case 45:return fo(i,3664,3673,!0,n);case 46:return fo(i,3872,3881,!0,n);default:return fo(i,48,57,!0,n)}},Qne="data-html2canvas-ignore",wK=function(){function i(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new kIe,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return i.prototype.toIFrame=function(e,t){var n=this,r=UIe(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,a=r.contentWindow,l=a.document,c=OIe(r).then(function(){return gl(n,0,void 0,function(){var u,h;return La(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(zIe),a&&(a.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===t.top&&a.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-t.left,a.scrollY-t.top,0,0))),u=this.options.onclone,(h=this.clonedReferenceElement)===void 0?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,LIe(l)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,h)}).then(function(){return r})]:[2,r]}})})});return l.open(),l.write(NIe(document.doctype)+"<html></html>"),HIe(this.referenceElement.ownerDocument,o,s),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},i.prototype.createElementClone=function(e){if(K8(e,2),Une(e))return this.createCanvasClone(e);if(pK(e))return this.createVideoClone(e);if(fK(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return J8(t)&&(J8(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),gK(t)?this.createCustomElementClone(t):t},i.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return NP(e.style,t),t},i.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(o,s){return s&&typeof s.cssText=="string"?o+s.cssText:o},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(o){if(this.context.logger.error("Unable to access cssRules property",o),o.name!=="SecurityError")throw o}return e.cloneNode(!1)},i.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var o=e.getContext("2d"),s=r.getContext("2d");if(s)if(!this.options.allowTaint&&o)s.putImageData(o.getImageData(0,0,e.width,e.height),0,0);else{var a=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(a){var l=a.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},i.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},i.prototype.appendChildNode=function(e,t,n){_y(t)&&(t.tagName==="SCRIPT"||t.hasAttribute(Qne)||typeof this.options.ignoreElements=="function"&&this.options.ignoreElements(t))||this.options.copyStyles&&_y(t)&&fK(t)||e.appendChild(this.cloneNode(t,n))},i.prototype.cloneChildNodes=function(e,t,n){for(var r=this,o=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;o;o=o.nextSibling)if(_y(o)&&Lne(o)&&typeof o.assignedNodes=="function"){var s=o.assignedNodes();s.length&&s.forEach(function(a){return r.appendChildNode(t,a,n)})}else this.appendChildNode(t,o,n)},i.prototype.cloneNode=function(e,t){if(Fne(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&_y(e)&&(Z8(e)||RM(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var o=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&Z8(r)&&(this.clonedReferenceElement=r),mH(r)&&GIe(r);var l=this.counters.parse(new oK(this.context,o)),c=this.resolvePseudoContent(e,r,s,Z2.BEFORE);gK(e)&&(t=!0),pK(e)||this.cloneChildNodes(e,r,t),c&&r.insertBefore(c,r.firstChild);var u=this.resolvePseudoContent(e,r,a,Z2.AFTER);return u&&r.appendChild(u),this.counters.pop(l),(o&&(this.options.copyStyles||RM(e))&&!Pne(e)||t)&&NP(o,r),e.scrollTop===0&&e.scrollLeft===0||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(mR(e)||_R(e))&&(mR(r)||_R(r))&&(r.value=e.value),r}return e.cloneNode(!1)},i.prototype.resolvePseudoContent=function(e,t,n,r){var o=this;if(n){var s=n.content,a=t.ownerDocument;if(a&&s&&s!=="none"&&s!=="-moz-alt-content"&&n.display!=="none"){this.counters.parse(new oK(this.context,n));var l=new uIe(this.context,n),c=a.createElement("html2canvaspseudoelement");NP(n,c),l.content.forEach(function(h){if(h.type===0)c.appendChild(a.createTextNode(h.value));else if(h.type===22){var d=a.createElement("img");d.src=h.value,d.style.opacity="1",c.appendChild(d)}else if(h.type===18){if(h.name==="attr"){var p=h.values.filter($n);p.length&&c.appendChild(a.createTextNode(e.getAttribute(p[0].value)||""))}else if(h.name==="counter"){var g=h.values.filter(cw),v=g[0],_=g[1];if(v&&$n(v)){var b=o.counters.getCounterValue(v.value),x=_&&$n(_)?j8.parse(o.context,_.value):3;c.appendChild(a.createTextNode(nS(b,x,!1)))}}else if(h.name==="counters"){var C=h.values.filter(cw),S=(v=C[0],C[1]);if(_=C[2],v&&$n(v)){var E=o.counters.getCounterValues(v.value),I=_&&$n(_)?j8.parse(o.context,_.value):3,M=S&&S.type===0?S.value:"",k=E.map(function(F){return nS(F,I,!1)}).join(M);c.appendChild(a.createTextNode(k))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(a.createTextNode(rK(l.quotes,o.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(rK(l.quotes,--o.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(h.value))}}),c.className=eQ+" "+tQ;var u=r===Z2.BEFORE?" "+eQ:" "+tQ;return RM(t)?t.className.baseValue+=u:t.className+=u,c}}},i.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},i}();(function(i){i[i.BEFORE=0]="BEFORE",i[i.AFTER=1]="AFTER"})(Z2||(Z2={}));var In,UIe=function(i,e){var t=i.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(Qne,"true"),i.body.appendChild(t),t},PIe=function(i){return new Promise(function(e){i.complete?e():i.src?(i.onload=e,i.onerror=e):e()})},LIe=function(i){return Promise.all([].slice.call(i.images,0).map(PIe))},OIe=function(i){return new Promise(function(e,t){var n=i.contentWindow;if(!n)return t("No window assigned for iframe");var r=n.document;n.onload=i.onload=function(){n.onload=i.onload=null;var o=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(o),e(i))},50)}})},QIe=["all","d","content"],NP=function(i,e){for(var t=i.length-1;t>=0;t--){var n=i.item(t);QIe.indexOf(n)===-1&&e.style.setProperty(n,i.getPropertyValue(n))}return e},NIe=function(i){var e="";return i&&(e+="<!DOCTYPE ",i.name&&(e+=i.name),i.internalSubset&&(e+=i.internalSubset),i.publicId&&(e+='"'+i.publicId+'"'),i.systemId&&(e+='"'+i.systemId+'"'),e+=">"),e},HIe=function(i,e,t){i&&i.defaultView&&(e!==i.defaultView.pageXOffset||t!==i.defaultView.pageYOffset)&&i.defaultView.scrollTo(e,t)},zIe=function(i){var e=i[0],t=i[1],n=i[2];e.scrollLeft=t,e.scrollTop=n},eQ="___html2canvas___pseudoelement_before",tQ="___html2canvas___pseudoelement_after",xK=`{
    content: "" !important;
    display: none !important;
}`,GIe=function(i){VIe(i,"."+eQ+":before"+xK+`
         .`+tQ+":after"+xK)},VIe=function(i,e){var t=i.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,i.appendChild(n)}},Nne=function(){function i(){}return i.getOrigin=function(e){var t=i._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},i.isSameOrigin=function(e){return i.getOrigin(e)===i._origin},i.setContext=function(e){i._link=e.document.createElement("a"),i._origin=i.getOrigin(e.location.href)},i._origin="about:blank",i}(),qIe=function(){function i(e,t){this.context=e,this._options=t,this._cache={}}return i.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(zP(e)||$Ie(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},i.prototype.match=function(e){return this._cache[e]},i.prototype.loadImage=function(e){return gl(this,0,void 0,function(){var t,n,r,o,s=this;return La(this,function(a){switch(a.label){case 0:return t=Nne.isSameOrigin(e),n=!HP(e)&&this._options.useCORS===!0&&ta.SUPPORT_CORS_IMAGES&&!t,r=!HP(e)&&!t&&!zP(e)&&typeof this._options.proxy=="string"&&ta.SUPPORT_CORS_XHR&&!n,t||this._options.allowTaint!==!1||HP(e)||zP(e)||r||n?(o=e,r?[4,this.proxy(o)]:[3,2]):[2];case 1:o=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(XIe(o)||n)&&(u.crossOrigin="anonymous"),u.src=o,u.complete===!0&&setTimeout(function(){return l(u)},500),s._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},i.prototype.has=function(e){return this._cache[e]!==void 0},i.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},i.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(o,s){var a=ta.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(a==="text")o(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return o(h.result)},!1),h.addEventListener("error",function(d){return s(d)},!1),h.readAsDataURL(l.response)}else s("Failed to proxy resource "+r+" with status code "+l.status)},l.onerror=s;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=a),t._options.imageTimeout){var u=t._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return s("Timed out ("+u+"ms) proxying "+r)}}l.send()})},i}(),WIe=/^data:image\/svg\+xml/i,jIe=/^data:image\/.*;base64,/i,KIe=/^data:image\/.*/i,$Ie=function(i){return ta.SUPPORT_SVG_DRAWING||!YIe(i)},HP=function(i){return KIe.test(i)},XIe=function(i){return jIe.test(i)},zP=function(i){return i.substr(0,4)==="blob"},YIe=function(i){return i.substr(-3).toLowerCase()==="svg"||WIe.test(i)},Ft=function(){function i(e,t){this.type=0,this.x=e,this.y=t}return i.prototype.add=function(e,t){return new i(this.x+e,this.y+t)},i}(),Gb=function(i,e,t){return new Ft(i.x+(e.x-i.x)*t,i.y+(e.y-i.y)*t)},wI=function(){function i(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return i.prototype.subdivide=function(e,t){var n=Gb(this.start,this.startControl,e),r=Gb(this.startControl,this.endControl,e),o=Gb(this.endControl,this.end,e),s=Gb(n,r,e),a=Gb(r,o,e),l=Gb(s,a,e);return t?new i(this.start,n,s,l):new i(l,a,o,this.end)},i.prototype.add=function(e,t){return new i(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},i.prototype.reverse=function(){return new i(this.end,this.endControl,this.startControl,this.start)},i}(),Bu=function(i){return i.type===1},ZIe=function(i){var e=i.styles,t=i.bounds,n=I2(e.borderTopLeftRadius,t.width,t.height),r=n[0],o=n[1],s=I2(e.borderTopRightRadius,t.width,t.height),a=s[0],l=s[1],c=I2(e.borderBottomRightRadius,t.width,t.height),u=c[0],h=c[1],d=I2(e.borderBottomLeftRadius,t.width,t.height),p=d[0],g=d[1],v=[];v.push((r+a)/t.width),v.push((p+u)/t.width),v.push((o+g)/t.height),v.push((l+h)/t.height);var _=Math.max.apply(Math,v);_>1&&(r/=_,o/=_,a/=_,l/=_,u/=_,h/=_,p/=_,g/=_);var b=t.width-a,x=t.height-h,C=t.width-u,S=t.height-g,E=e.borderTopWidth,I=e.borderRightWidth,M=e.borderBottomWidth,k=e.borderLeftWidth,F=ur(e.paddingTop,i.bounds.width),P=ur(e.paddingRight,i.bounds.width),Q=ur(e.paddingBottom,i.bounds.width),N=ur(e.paddingLeft,i.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||o>0?Tr(t.left+k/3,t.top+E/3,r-k/3,o-E/3,In.TOP_LEFT):new Ft(t.left+k/3,t.top+E/3),this.topRightBorderDoubleOuterBox=r>0||o>0?Tr(t.left+b,t.top+E/3,a-I/3,l-E/3,In.TOP_RIGHT):new Ft(t.left+t.width-I/3,t.top+E/3),this.bottomRightBorderDoubleOuterBox=u>0||h>0?Tr(t.left+C,t.top+x,u-I/3,h-M/3,In.BOTTOM_RIGHT):new Ft(t.left+t.width-I/3,t.top+t.height-M/3),this.bottomLeftBorderDoubleOuterBox=p>0||g>0?Tr(t.left+k/3,t.top+S,p-k/3,g-M/3,In.BOTTOM_LEFT):new Ft(t.left+k/3,t.top+t.height-M/3),this.topLeftBorderDoubleInnerBox=r>0||o>0?Tr(t.left+2*k/3,t.top+2*E/3,r-2*k/3,o-2*E/3,In.TOP_LEFT):new Ft(t.left+2*k/3,t.top+2*E/3),this.topRightBorderDoubleInnerBox=r>0||o>0?Tr(t.left+b,t.top+2*E/3,a-2*I/3,l-2*E/3,In.TOP_RIGHT):new Ft(t.left+t.width-2*I/3,t.top+2*E/3),this.bottomRightBorderDoubleInnerBox=u>0||h>0?Tr(t.left+C,t.top+x,u-2*I/3,h-2*M/3,In.BOTTOM_RIGHT):new Ft(t.left+t.width-2*I/3,t.top+t.height-2*M/3),this.bottomLeftBorderDoubleInnerBox=p>0||g>0?Tr(t.left+2*k/3,t.top+S,p-2*k/3,g-2*M/3,In.BOTTOM_LEFT):new Ft(t.left+2*k/3,t.top+t.height-2*M/3),this.topLeftBorderStroke=r>0||o>0?Tr(t.left+k/2,t.top+E/2,r-k/2,o-E/2,In.TOP_LEFT):new Ft(t.left+k/2,t.top+E/2),this.topRightBorderStroke=r>0||o>0?Tr(t.left+b,t.top+E/2,a-I/2,l-E/2,In.TOP_RIGHT):new Ft(t.left+t.width-I/2,t.top+E/2),this.bottomRightBorderStroke=u>0||h>0?Tr(t.left+C,t.top+x,u-I/2,h-M/2,In.BOTTOM_RIGHT):new Ft(t.left+t.width-I/2,t.top+t.height-M/2),this.bottomLeftBorderStroke=p>0||g>0?Tr(t.left+k/2,t.top+S,p-k/2,g-M/2,In.BOTTOM_LEFT):new Ft(t.left+k/2,t.top+t.height-M/2),this.topLeftBorderBox=r>0||o>0?Tr(t.left,t.top,r,o,In.TOP_LEFT):new Ft(t.left,t.top),this.topRightBorderBox=a>0||l>0?Tr(t.left+b,t.top,a,l,In.TOP_RIGHT):new Ft(t.left+t.width,t.top),this.bottomRightBorderBox=u>0||h>0?Tr(t.left+C,t.top+x,u,h,In.BOTTOM_RIGHT):new Ft(t.left+t.width,t.top+t.height),this.bottomLeftBorderBox=p>0||g>0?Tr(t.left,t.top+S,p,g,In.BOTTOM_LEFT):new Ft(t.left,t.top+t.height),this.topLeftPaddingBox=r>0||o>0?Tr(t.left+k,t.top+E,Math.max(0,r-k),Math.max(0,o-E),In.TOP_LEFT):new Ft(t.left+k,t.top+E),this.topRightPaddingBox=a>0||l>0?Tr(t.left+Math.min(b,t.width-I),t.top+E,b>t.width+I?0:Math.max(0,a-I),Math.max(0,l-E),In.TOP_RIGHT):new Ft(t.left+t.width-I,t.top+E),this.bottomRightPaddingBox=u>0||h>0?Tr(t.left+Math.min(C,t.width-k),t.top+Math.min(x,t.height-M),Math.max(0,u-I),Math.max(0,h-M),In.BOTTOM_RIGHT):new Ft(t.left+t.width-I,t.top+t.height-M),this.bottomLeftPaddingBox=p>0||g>0?Tr(t.left+k,t.top+Math.min(S,t.height-M),Math.max(0,p-k),Math.max(0,g-M),In.BOTTOM_LEFT):new Ft(t.left+k,t.top+t.height-M),this.topLeftContentBox=r>0||o>0?Tr(t.left+k+N,t.top+E+F,Math.max(0,r-(k+N)),Math.max(0,o-(E+F)),In.TOP_LEFT):new Ft(t.left+k+N,t.top+E+F),this.topRightContentBox=a>0||l>0?Tr(t.left+Math.min(b,t.width+k+N),t.top+E+F,b>t.width+k+N?0:a-k+N,l-(E+F),In.TOP_RIGHT):new Ft(t.left+t.width-(I+P),t.top+E+F),this.bottomRightContentBox=u>0||h>0?Tr(t.left+Math.min(C,t.width-(k+N)),t.top+Math.min(x,t.height+E+F),Math.max(0,u-(I+P)),h-(M+Q),In.BOTTOM_RIGHT):new Ft(t.left+t.width-(I+P),t.top+t.height-(M+Q)),this.bottomLeftContentBox=p>0||g>0?Tr(t.left+k+N,t.top+S,Math.max(0,p-(k+N)),g-(M+Q),In.BOTTOM_LEFT):new Ft(t.left+k+N,t.top+t.height-(M+Q))};(function(i){i[i.TOP_LEFT=0]="TOP_LEFT",i[i.TOP_RIGHT=1]="TOP_RIGHT",i[i.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",i[i.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(In||(In={}));var Tr=function(i,e,t,n,r){var o=(Math.sqrt(2)-1)/3*4,s=t*o,a=n*o,l=i+t,c=e+n;switch(r){case In.TOP_LEFT:return new wI(new Ft(i,c),new Ft(i,c-a),new Ft(l-s,e),new Ft(l,e));case In.TOP_RIGHT:return new wI(new Ft(i,e),new Ft(i+s,e),new Ft(l,c-a),new Ft(l,c));case In.BOTTOM_RIGHT:return new wI(new Ft(l,e),new Ft(l,e+a),new Ft(i+s,c),new Ft(i,c));case In.BOTTOM_LEFT:default:return new wI(new Ft(l,c),new Ft(l-s,c),new Ft(i,e+a),new Ft(i,e))}},vR=function(i){return[i.topLeftBorderBox,i.topRightBorderBox,i.bottomRightBorderBox,i.bottomLeftBorderBox]},bR=function(i){return[i.topLeftPaddingBox,i.topRightPaddingBox,i.bottomRightPaddingBox,i.bottomLeftPaddingBox]},JIe=function(i,e,t){this.offsetX=i,this.offsetY=e,this.matrix=t,this.type=0,this.target=6},xI=function(i,e){this.path=i,this.target=e,this.type=1},eMe=function(i){this.opacity=i,this.type=2,this.target=6},Hne=function(i){return i.type===1},CK=function(i,e){return i.length===e.length&&i.some(function(t,n){return t===e[n]})},zne=function(i){this.element=i,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Gne=function(){function i(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new ZIe(this.container),this.container.styles.opacity<1&&this.effects.push(new eMe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new JIe(n,r,o))}if(this.container.styles.overflowX!==0){var s=vR(this.curves),a=bR(this.curves);CK(s,a)?this.effects.push(new xI(s,6)):(this.effects.push(new xI(s,2)),this.effects.push(new xI(a,4)))}}return i.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,r=this.effects.slice(0);n;){var o=n.effects.filter(function(l){return!Hne(l)});if(t||n.container.styles.position!==0||!n.parent){if(r.unshift.apply(r,o),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var s=vR(n.curves),a=bR(n.curves);CK(s,a)||r.unshift(new xI(a,6))}}else r.unshift.apply(r,o);n=n.parent}return r.filter(function(l){return is(l.target,e)})},i}(),iQ=function(i,e,t,n){i.container.elements.forEach(function(r){var o=is(r.flags,4),s=is(r.flags,2),a=new Gne(r,i);is(r.styles.display,2048)&&n.push(a);var l=is(r.flags,8)?[]:n;if(o||s){var c=o||r.styles.isPositioned()?t:e,u=new zne(a);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var h=r.styles.zIndex.order;if(h<0){var d=0;c.negativeZIndex.some(function(g,v){return h>g.element.container.styles.zIndex.order?(d=v,!1):d>0}),c.negativeZIndex.splice(d,0,u)}else if(h>0){var p=0;c.positiveZIndex.some(function(g,v){return h>=g.element.container.styles.zIndex.order?(p=v+1,!1):p>0}),c.positiveZIndex.splice(p,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else r.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);iQ(a,u,o?u:t,l)}else r.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),iQ(a,e,t,l);is(r.flags,8)&&Vne(r,l)})},Vne=function(i,e){for(var t=i instanceof Y8?i.start:1,n=i instanceof Y8&&i.reversed,r=0;r<e.length;r++){var o=e[r];o.container instanceof Ene&&typeof o.container.value=="number"&&o.container.value!==0&&(t=o.container.value),o.listValue=nS(t,o.container.styles.listStyleType,!0),t+=n?-1:1}},BK=function(i,e){switch(e){case 0:return yu(i.topLeftBorderBox,i.topLeftPaddingBox,i.topRightBorderBox,i.topRightPaddingBox);case 1:return yu(i.topRightBorderBox,i.topRightPaddingBox,i.bottomRightBorderBox,i.bottomRightPaddingBox);case 2:return yu(i.bottomRightBorderBox,i.bottomRightPaddingBox,i.bottomLeftBorderBox,i.bottomLeftPaddingBox);default:return yu(i.bottomLeftBorderBox,i.bottomLeftPaddingBox,i.topLeftBorderBox,i.topLeftPaddingBox)}},CI=function(i,e){var t=[];return Bu(i)?t.push(i.subdivide(.5,!1)):t.push(i),Bu(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},yu=function(i,e,t,n){var r=[];return Bu(i)?r.push(i.subdivide(.5,!1)):r.push(i),Bu(t)?r.push(t.subdivide(.5,!0)):r.push(t),Bu(n)?r.push(n.subdivide(.5,!0).reverse()):r.push(n),Bu(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},SK=function(i){var e=i.bounds,t=i.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},yR=function(i){var e=i.styles,t=i.bounds,n=ur(e.paddingLeft,t.width),r=ur(e.paddingRight,t.width),o=ur(e.paddingTop,t.width),s=ur(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+r),-(e.borderTopWidth+e.borderBottomWidth+o+s))},GP=function(i,e,t){var n,r,o=(n=ay(i.styles.backgroundOrigin,e),r=i,n===0?r.bounds:n===2?yR(r):SK(r)),s=function(h,d){return h===0?d.bounds:h===2?yR(d):SK(d)}(ay(i.styles.backgroundClip,e),i),a=tMe(ay(i.styles.backgroundSize,e),t,o),l=a[0],c=a[1],u=I2(ay(i.styles.backgroundPosition,e),o.width-l,o.height-c);return[iMe(ay(i.styles.backgroundRepeat,e),u,a,o,s),Math.round(o.left+u[0]),Math.round(o.top+u[1]),l,c]},Vb=function(i){return $n(i)&&i.value===My.AUTO},BI=function(i){return typeof i=="number"},tMe=function(i,e,t){var n=e[0],r=e[1],o=e[2],s=i[0],a=i[1];if(!s)return[0,0];if(Lo(s)&&a&&Lo(a))return[ur(s,t.width),ur(a,t.height)];var l=BI(o);if($n(s)&&(s.value===My.CONTAIN||s.value===My.COVER))return BI(o)?t.width/t.height<o!=(s.value===My.COVER)?[t.width,t.width/o]:[t.height*o,t.height]:[t.width,t.height];var c=BI(n),u=BI(r),h=c||u;if(Vb(s)&&(!a||Vb(a)))return c&&u?[n,r]:l||h?h&&l?[c?n:r*o,u?r:n/o]:[c?n:t.width,u?r:t.height]:[t.width,t.height];if(l){var d=0,p=0;return Lo(s)?d=ur(s,t.width):Lo(a)&&(p=ur(a,t.height)),Vb(s)?d=p*o:a&&!Vb(a)||(p=d/o),[d,p]}var g=null,v=null;if(Lo(s)?g=ur(s,t.width):a&&Lo(a)&&(v=ur(a,t.height)),g===null||a&&!Vb(a)||(v=c&&u?g/n*r:t.height),v!==null&&Vb(s)&&(g=c&&u?v/r*n:t.width),g!==null&&v!==null)return[g,v];throw new Error("Unable to calculate background-size for element")},ay=function(i,e){var t=i[e];return t===void 0?i[0]:t},iMe=function(i,e,t,n,r){var o=e[0],s=e[1],a=t[0],l=t[1];switch(i){case 2:return[new Ft(Math.round(n.left),Math.round(n.top+s)),new Ft(Math.round(n.left+n.width),Math.round(n.top+s)),new Ft(Math.round(n.left+n.width),Math.round(l+n.top+s)),new Ft(Math.round(n.left),Math.round(l+n.top+s))];case 3:return[new Ft(Math.round(n.left+o),Math.round(n.top)),new Ft(Math.round(n.left+o+a),Math.round(n.top)),new Ft(Math.round(n.left+o+a),Math.round(n.height+n.top)),new Ft(Math.round(n.left+o),Math.round(n.height+n.top))];case 1:return[new Ft(Math.round(n.left+o),Math.round(n.top+s)),new Ft(Math.round(n.left+o+a),Math.round(n.top+s)),new Ft(Math.round(n.left+o+a),Math.round(n.top+s+l)),new Ft(Math.round(n.left+o),Math.round(n.top+s+l))];default:return[new Ft(Math.round(r.left),Math.round(r.top)),new Ft(Math.round(r.left+r.width),Math.round(r.top)),new Ft(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Ft(Math.round(r.left),Math.round(r.height+r.top))]}},EK="Hidden Text",nMe=function(){function i(e){this._data={},this._document=e}return i.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),o=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(EK)),n.appendChild(o),n.appendChild(r);var a=r.offsetTop-o.offsetTop+2;n.removeChild(o),n.appendChild(this._document.createTextNode(EK)),n.style.lineHeight="normal",r.style.verticalAlign="super";var l=r.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:a,middle:l}},i.prototype.getMetrics=function(e,t){var n=e+" "+t;return this._data[n]===void 0&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},i}(),qne=function(i,e){this.context=i,this.options=e},rMe=function(i){function e(t,n){var r=i.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new nMe(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return Vh(e,i),e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(r){return n.applyEffect(r)})},e.prototype.applyEffect=function(t){this.ctx.save(),t.type===2&&(this.ctx.globalAlpha=t.opacity),function(n){return n.type===0}(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),Hne(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return gl(this,0,void 0,function(){return La(this,function(n){switch(n.label){case 0:return t.element.container.styles.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return gl(this,0,void 0,function(){return La(this,function(n){switch(n.label){case 0:return is(t.container.flags,16),t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,r){var o=this;n===0?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+r):X8(t.text).reduce(function(s,a){return o.ctx.fillText(a,s,t.bounds.top+r),s+o.ctx.measureText(a).width},t.bounds.left)},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),r=cMe(t.fontFamily).join(", "),o=iS(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,o,r].join(" "),r,o]},e.prototype.renderTextNode=function(t,n){return gl(this,0,void 0,function(){var r,o,s,a,l,c,u,h,d=this;return La(this,function(p){return r=this.createFontStyle(n),o=r[0],s=r[1],a=r[2],this.ctx.font=o,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(s,a),c=l.baseline,u=l.middle,h=n.paintOrder,t.textBounds.forEach(function(g){h.forEach(function(v){switch(v){case 0:d.ctx.fillStyle=Ss(n.color),d.renderTextWithLetterSpacing(g,n.letterSpacing,c);var _=n.textShadow;_.length&&g.text.trim().length&&(_.slice(0).reverse().forEach(function(b){d.ctx.shadowColor=Ss(b.color),d.ctx.shadowOffsetX=b.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=b.offsetY.number*d.options.scale,d.ctx.shadowBlur=b.blur.number,d.renderTextWithLetterSpacing(g,n.letterSpacing,c)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),n.textDecorationLine.length&&(d.ctx.fillStyle=Ss(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(b){switch(b){case 1:d.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+c),g.bounds.width,1);break;case 2:d.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:d.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+u),g.bounds.width,1)}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(d.ctx.strokeStyle=Ss(n.webkitTextStrokeColor),d.ctx.lineWidth=n.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+c)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter"}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,r){if(r&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var o=yR(t),s=bR(n);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,t.intrinsicWidth,t.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return gl(this,0,void 0,function(){var n,r,o,s,a,l,c,u,h,d,p,g,v,_,b,x,C,S;return La(this,function(E){switch(E.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,r=t.curves,o=n.styles,s=0,a=n.textNodes,E.label=1;case 1:return s<a.length?(l=a[s],[4,this.renderTextNode(l,o)]):[3,4];case 2:E.sent(),E.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof Cne))return[3,8];E.label=5;case 5:return E.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=E.sent(),this.renderReplacedElement(n,r,b),[3,8];case 7:return E.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Bne&&this.renderReplacedElement(n,r,n.canvas),!(n instanceof Sne))return[3,12];E.label=9;case 9:return E.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=E.sent(),this.renderReplacedElement(n,r,b),[3,12];case 11:return E.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Mne&&n.tree?[4,new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}).render(n.tree)]:[3,14];case 13:c=E.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),E.label=14;case 14:if(n instanceof gH&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===fR?n.checked&&(this.ctx.save(),this.path([new Ft(n.bounds.left+.39363*u,n.bounds.top+.79*u),new Ft(n.bounds.left+.16*u,n.bounds.top+.5549*u),new Ft(n.bounds.left+.27347*u,n.bounds.top+.44071*u),new Ft(n.bounds.left+.39694*u,n.bounds.top+.5649*u),new Ft(n.bounds.left+.72983*u,n.bounds.top+.23*u),new Ft(n.bounds.left+.84*u,n.bounds.top+.34085*u),new Ft(n.bounds.left+.39363*u,n.bounds.top+.79*u)]),this.ctx.fillStyle=Ss(dK),this.ctx.fill(),this.ctx.restore()):n.type===gR&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=Ss(dK),this.ctx.fill(),this.ctx.restore())),oMe(n)&&n.value.length){switch(h=this.createFontStyle(o),C=h[0],d=h[1],p=this.fontMetrics.getMetrics(C,d).baseline,this.ctx.font=C,this.ctx.fillStyle=Ss(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=aMe(n.styles.textAlign),S=yR(n),g=0,n.styles.textAlign){case 1:g+=S.width/2;break;case 2:g+=S.width}v=S.add(g,0,0,-S.height/2+1),this.ctx.save(),this.path([new Ft(S.left,S.top),new Ft(S.left+S.width,S.top),new Ft(S.left+S.width,S.top+S.height),new Ft(S.left,S.top+S.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new J2(n.value,v),o.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!is(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if((_=n.styles.listStyleImage).type!==0)return[3,18];b=void 0,x=_.url,E.label=15;case 15:return E.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return b=E.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return E.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(C=this.createFontStyle(o)[0],this.ctx.font=C,this.ctx.fillStyle=Ss(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",S=new Tp(n.bounds.left,n.bounds.top+ur(n.styles.paddingTop,n.bounds.width),n.bounds.width,tK(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new J2(t.listValue,S),o.letterSpacing,tK(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),E.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return gl(this,0,void 0,function(){var n,r,o,s,a,l,c,u,h,d,p,g,v,_,b;return La(this,function(x){switch(x.label){case 0:return is(t.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:x.sent(),n=0,r=t.negativeZIndex,x.label=2;case 2:return n<r.length?(b=r[n],[4,this.renderStack(b)]):[3,5];case 3:x.sent(),x.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:x.sent(),o=0,s=t.nonInlineLevel,x.label=7;case 7:return o<s.length?(b=s[o],[4,this.renderNode(b)]):[3,10];case 8:x.sent(),x.label=9;case 9:return o++,[3,7];case 10:a=0,l=t.nonPositionedFloats,x.label=11;case 11:return a<l.length?(b=l[a],[4,this.renderStack(b)]):[3,14];case 12:x.sent(),x.label=13;case 13:return a++,[3,11];case 14:c=0,u=t.nonPositionedInlineLevel,x.label=15;case 15:return c<u.length?(b=u[c],[4,this.renderStack(b)]):[3,18];case 16:x.sent(),x.label=17;case 17:return c++,[3,15];case 18:h=0,d=t.inlineLevel,x.label=19;case 19:return h<d.length?(b=d[h],[4,this.renderNode(b)]):[3,22];case 20:x.sent(),x.label=21;case 21:return h++,[3,19];case 22:p=0,g=t.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return p<g.length?(b=g[p],[4,this.renderStack(b)]):[3,26];case 24:x.sent(),x.label=25;case 25:return p++,[3,23];case 26:v=0,_=t.positiveZIndex,x.label=27;case 27:return v<_.length?(b=_[v],[4,this.renderStack(b)]):[3,30];case 28:x.sent(),x.label=29;case 29:return v++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(r,o){var s=Bu(r)?r.start:r;o===0?n.ctx.moveTo(s.x,s.y):n.ctx.lineTo(s.x,s.y),Bu(r)&&n.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(t,n,r,o){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(r,o),this.ctx.fill(),this.ctx.translate(-r,-o)},e.prototype.resizeImage=function(t,n,r){var o;if(t.width===n&&t.height===r)return t;var s=((o=this.canvas.ownerDocument)!==null&&o!==void 0?o:document).createElement("canvas");return s.width=Math.max(1,n),s.height=Math.max(1,r),s.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,n,r),s},e.prototype.renderBackgroundImage=function(t){return gl(this,0,void 0,function(){var n,r,o,s,a,l;return La(this,function(c){switch(c.label){case 0:n=t.styles.backgroundImage.length-1,r=function(u){var h,d,p,g,v,_,b,x,C,S,E,I,M,k,F,P,Q,N,W,q,J,V,Y,Z,ue,$,ee,oe,ge,se,Ae;return La(this,function(we){switch(we.label){case 0:if(u.type!==0)return[3,5];h=void 0,d=u.url,we.label=1;case 1:return we.trys.push([1,3,,4]),[4,o.context.cache.match(d)];case 2:return h=we.sent(),[3,4];case 3:return we.sent(),o.context.logger.error("Error loading background-image "+d),[3,4];case 4:return h&&(p=GP(t,n,[h.width,h.height,h.width/h.height]),P=p[0],V=p[1],Y=p[2],W=p[3],q=p[4],k=o.ctx.createPattern(o.resizeImage(h,W,q),"repeat"),o.renderRepeat(P,k,V,Y)),[3,6];case 5:u.type===1?(g=GP(t,n,[null,null,null]),P=g[0],V=g[1],Y=g[2],W=g[3],q=g[4],v=function(xe,Be,Re){var ke,Pe,ve,te,H,le,U,z=typeof xe=="number"?xe:(te=(Pe=Be)/2,H=(ve=Re)/2,le=ur((ke=xe)[0],Pe)-te,U=H-ur(ke[1],ve),(Math.atan2(U,le)+2*Math.PI)%(2*Math.PI)),j=Math.abs(Be*Math.sin(z))+Math.abs(Re*Math.cos(z)),re=Be/2,ae=Re/2,X=j/2,G=Math.sin(z-Math.PI/2)*X,ce=Math.cos(z-Math.PI/2)*X;return[j,re-ce,re+ce,ae-G,ae+G]}(u.angle,W,q),_=v[0],b=v[1],x=v[2],C=v[3],S=v[4],(E=document.createElement("canvas")).width=W,E.height=q,I=E.getContext("2d"),M=I.createLinearGradient(b,C,x,S),Jj(u.stops,_).forEach(function(xe){return M.addColorStop(xe.stop,Ss(xe.color))}),I.fillStyle=M,I.fillRect(0,0,W,q),W>0&&q>0&&(k=o.ctx.createPattern(E,"repeat"),o.renderRepeat(P,k,V,Y))):u.type===2&&(F=GP(t,n,[null,null,null]),P=F[0],Q=F[1],N=F[2],W=F[3],q=F[4],J=u.position.length===0?[pH]:u.position,V=ur(J[0],W),Y=ur(J[J.length-1],q),Z=function(xe,Be,Re,ke,Pe){var ve=0,te=0;switch(xe.size){case 0:xe.shape===0?ve=te=Math.min(Math.abs(Be),Math.abs(Be-ke),Math.abs(Re),Math.abs(Re-Pe)):xe.shape===1&&(ve=Math.min(Math.abs(Be),Math.abs(Be-ke)),te=Math.min(Math.abs(Re),Math.abs(Re-Pe)));break;case 2:if(xe.shape===0)ve=te=Math.min(Sh(Be,Re),Sh(Be,Re-Pe),Sh(Be-ke,Re),Sh(Be-ke,Re-Pe));else if(xe.shape===1){var H=Math.min(Math.abs(Re),Math.abs(Re-Pe))/Math.min(Math.abs(Be),Math.abs(Be-ke)),le=eK(ke,Pe,Be,Re,!0),U=le[0],z=le[1];te=H*(ve=Sh(U-Be,(z-Re)/H))}break;case 1:xe.shape===0?ve=te=Math.max(Math.abs(Be),Math.abs(Be-ke),Math.abs(Re),Math.abs(Re-Pe)):xe.shape===1&&(ve=Math.max(Math.abs(Be),Math.abs(Be-ke)),te=Math.max(Math.abs(Re),Math.abs(Re-Pe)));break;case 3:if(xe.shape===0)ve=te=Math.max(Sh(Be,Re),Sh(Be,Re-Pe),Sh(Be-ke,Re),Sh(Be-ke,Re-Pe));else if(xe.shape===1){H=Math.max(Math.abs(Re),Math.abs(Re-Pe))/Math.max(Math.abs(Be),Math.abs(Be-ke));var j=eK(ke,Pe,Be,Re,!1);U=j[0],z=j[1],te=H*(ve=Sh(U-Be,(z-Re)/H))}}return Array.isArray(xe.size)&&(ve=ur(xe.size[0],ke),te=xe.size.length===2?ur(xe.size[1],Pe):ve),[ve,te]}(u,V,Y,W,q),ue=Z[0],$=Z[1],ue>0&&$>0&&(ee=o.ctx.createRadialGradient(Q+V,N+Y,0,Q+V,N+Y,ue),Jj(u.stops,2*ue).forEach(function(xe){return ee.addColorStop(xe.stop,Ss(xe.color))}),o.path(P),o.ctx.fillStyle=ee,ue!==$?(oe=t.bounds.left+.5*t.bounds.width,ge=t.bounds.top+.5*t.bounds.height,Ae=1/(se=$/ue),o.ctx.save(),o.ctx.translate(oe,ge),o.ctx.transform(1,0,0,se,0,0),o.ctx.translate(-oe,-ge),o.ctx.fillRect(Q,Ae*(N-ge)+ge,W,q*Ae),o.ctx.restore()):o.ctx.fill())),we.label=6;case 6:return n--,[2]}})},o=this,s=0,a=t.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return s<a.length?(l=a[s],[5,r(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,r){return gl(this,0,void 0,function(){return La(this,function(o){return this.path(BK(r,n)),this.ctx.fillStyle=Ss(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,r,o){return gl(this,0,void 0,function(){var s,a;return La(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(t,r,o)]:[3,2];case 1:return l.sent(),[2];case 2:return s=function(c,u){switch(u){case 0:return yu(c.topLeftBorderBox,c.topLeftBorderDoubleOuterBox,c.topRightBorderBox,c.topRightBorderDoubleOuterBox);case 1:return yu(c.topRightBorderBox,c.topRightBorderDoubleOuterBox,c.bottomRightBorderBox,c.bottomRightBorderDoubleOuterBox);case 2:return yu(c.bottomRightBorderBox,c.bottomRightBorderDoubleOuterBox,c.bottomLeftBorderBox,c.bottomLeftBorderDoubleOuterBox);default:return yu(c.bottomLeftBorderBox,c.bottomLeftBorderDoubleOuterBox,c.topLeftBorderBox,c.topLeftBorderDoubleOuterBox)}}(o,r),this.path(s),this.ctx.fillStyle=Ss(t),this.ctx.fill(),a=function(c,u){switch(u){case 0:return yu(c.topLeftBorderDoubleInnerBox,c.topLeftPaddingBox,c.topRightBorderDoubleInnerBox,c.topRightPaddingBox);case 1:return yu(c.topRightBorderDoubleInnerBox,c.topRightPaddingBox,c.bottomRightBorderDoubleInnerBox,c.bottomRightPaddingBox);case 2:return yu(c.bottomRightBorderDoubleInnerBox,c.bottomRightPaddingBox,c.bottomLeftBorderDoubleInnerBox,c.bottomLeftPaddingBox);default:return yu(c.bottomLeftBorderDoubleInnerBox,c.bottomLeftPaddingBox,c.topLeftBorderDoubleInnerBox,c.topLeftPaddingBox)}}(o,r),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return gl(this,0,void 0,function(){var n,r,o,s,a,l,c,u,h=this;return La(this,function(d){switch(d.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,r=!_g(n.backgroundColor)||n.backgroundImage.length,o=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],s=sMe(ay(n.backgroundClip,0),t.curves),r||n.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),_g(n.backgroundColor)||(this.ctx.fillStyle=Ss(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(p){h.ctx.save();var g,v,_,b,x,C=vR(t.curves),S=p.inset?0:1e4,E=(g=C,v=-S+(p.inset?1:-1)*p.spread.number,_=(p.inset?1:-1)*p.spread.number,b=p.spread.number*(p.inset?-2:2),x=p.spread.number*(p.inset?-2:2),g.map(function(I,M){switch(M){case 0:return I.add(v,_);case 1:return I.add(v+b,_);case 2:return I.add(v+b,_+x);case 3:return I.add(v,_+x)}return I}));p.inset?(h.path(C),h.ctx.clip(),h.mask(E)):(h.mask(C),h.ctx.clip(),h.path(E)),h.ctx.shadowOffsetX=p.offsetX.number+S,h.ctx.shadowOffsetY=p.offsetY.number,h.ctx.shadowColor=Ss(p.color),h.ctx.shadowBlur=p.blur.number,h.ctx.fillStyle=p.inset?Ss(p.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),d.label=2;case 2:a=0,l=0,c=o,d.label=3;case 3:return l<c.length?(u=c[l]).style!==0&&!_g(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,t.curves,2)]:[3,11]:[3,13];case 4:return d.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,t.curves,3)];case 6:return d.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,t.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,t.curves)];case 10:d.sent(),d.label=11;case 11:a++,d.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,r,o,s){return gl(this,0,void 0,function(){var a,l,c,u,h,d,p,g,v,_,b,x,C,S,E,I;return La(this,function(M){return this.ctx.save(),a=function(k,F){switch(F){case 0:return CI(k.topLeftBorderStroke,k.topRightBorderStroke);case 1:return CI(k.topRightBorderStroke,k.bottomRightBorderStroke);case 2:return CI(k.bottomRightBorderStroke,k.bottomLeftBorderStroke);default:return CI(k.bottomLeftBorderStroke,k.topLeftBorderStroke)}}(o,r),l=BK(o,r),s===2&&(this.path(l),this.ctx.clip()),Bu(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Bu(l[1])?(h=l[1].end.x,d=l[1].end.y):(h=l[1].x,d=l[1].y),p=Math.abs(r===0||r===2?c-h:u-d),this.ctx.beginPath(),s===3?this.formatPath(a):this.formatPath(l.slice(0,2)),g=n<3?3*n:2*n,v=n<3?2*n:n,s===3&&(g=n,v=n),_=!0,p<=2*g?_=!1:p<=2*g+v?(g*=b=p/(2*g+v),v*=b):(x=Math.floor((p+v)/(g+v)),C=(p-x*g)/(x-1),v=(S=(p-(x+1)*g)/x)<=0||Math.abs(v-C)<Math.abs(v-S)?C:S),_&&(s===3?this.ctx.setLineDash([0,g+v]):this.ctx.setLineDash([g,v])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=2*n+1.1,this.ctx.strokeStyle=Ss(t),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(Bu(l[0])&&(E=l[3],I=l[0],this.ctx.beginPath(),this.formatPath([new Ft(E.end.x,E.end.y),new Ft(I.start.x,I.start.y)]),this.ctx.stroke()),Bu(l[1])&&(E=l[1],I=l[2],this.ctx.beginPath(),this.formatPath([new Ft(E.end.x,E.end.y),new Ft(I.start.x,I.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return gl(this,0,void 0,function(){var n;return La(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ss(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),o=new Gne(t,null),s=new zne(o),iQ(o,s,s,a=[]),Vne(o.container,a),n=s,[4,this.renderStack(n)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}var o,s,a})})},e}(qne),oMe=function(i){return i instanceof Ine||i instanceof Tne||i instanceof gH&&i.type!==gR&&i.type!==fR},sMe=function(i,e){switch(i){case 0:return vR(e);case 2:return[(t=e).topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox];default:return bR(e)}var t},aMe=function(i){switch(i){case 1:return"center";case 2:return"right";default:return"left"}},lMe=["-apple-system","system-ui"],cMe=function(i){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?i.filter(function(e){return lMe.indexOf(e)===-1}):i},uMe=function(i){function e(t,n){var r=i.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return Vh(e,i),e.prototype.render=function(t){return gl(this,0,void 0,function(){var n,r;return La(this,function(o){switch(o.label){case 0:return n=$8(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,hMe(n)];case 1:return r=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ss(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(qne),hMe=function(i){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(i))})},AMe=function(){function i(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return i.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,aI([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},i.prototype.getTime=function(){return Date.now()-this.start},i.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,aI([this.id,this.getTime()+"ms"],e))},i.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,aI([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},i.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,aI([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},i.instances={},i}(),dMe=function(){function i(e,t){var n;this.windowBounds=t,this.instanceName="#"+i.instanceCount++,this.logger=new AMe({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new qIe(this,e)}return i.instanceCount=1,i}();typeof window<"u"&&Nne.setContext(window);var pMe=function(i,e,t){var n=e.ownerDocument,r=n.documentElement?X2(i,getComputedStyle(n.documentElement).backgroundColor):Ip.TRANSPARENT,o=n.body?X2(i,getComputedStyle(n.body).backgroundColor):Ip.TRANSPARENT,s=typeof t=="string"?X2(i,t):t===null?Ip.TRANSPARENT:4294967295;return e===n.documentElement?_g(r)?_g(o)?s:o:r:s},fMe=Object.defineProperty,gMe=Object.getOwnPropertyDescriptor,SI=(i,e,t,n)=>{for(var r,o=n>1?void 0:n?gMe(e,t):e,s=i.length-1;s>=0;s--)(r=i[s])&&(o=(n?r(e,t,o):r(o))||o);return n&&o&&fMe(e,t,o),o};let qb=class extends Oc{constructor(){super(...arguments),this._saving3D=!1,this._saving2D=!1}download3D(){this._saving3D=!0,setTimeout(async()=>{const i=await this.viewerSettings.viewer3DElement.toBlob(),e=new Image;e.onload=async()=>{const t=document.createElement("canvas");t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0);const n=this.viewerSettings.viewer3DElement.style.background;var r,o;this.viewerSettings.viewer3DElement.style.background="",await(r=this.viewerSettings.viewer3DElement,o={canvas:t,backgroundColor:null},o===void 0&&(o={}),function(s,a){return gl(void 0,0,void 0,function(){var l,c,u,h,d,p,g,v,_,b,x,C,S,E,I,M,k,F,P,Q,N,W,q,J,V,Y,Z,ue,$,ee,oe,ge,se,Ae,we,xe,Be,Re;return La(this,function(ke){switch(ke.label){case 0:if(!s||typeof s!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(!(l=s.ownerDocument))throw new Error("Element is not attached to a Document");if(!(c=l.defaultView))throw new Error("Document is not attached to a Window");return u={allowTaint:(W=a.allowTaint)!==null&&W!==void 0&&W,imageTimeout:(q=a.imageTimeout)!==null&&q!==void 0?q:15e3,proxy:a.proxy,useCORS:(J=a.useCORS)!==null&&J!==void 0&&J},h=L8({logging:(V=a.logging)===null||V===void 0||V,cache:a.cache},u),d={windowWidth:(Y=a.windowWidth)!==null&&Y!==void 0?Y:c.innerWidth,windowHeight:(Z=a.windowHeight)!==null&&Z!==void 0?Z:c.innerHeight,scrollX:(ue=a.scrollX)!==null&&ue!==void 0?ue:c.pageXOffset,scrollY:($=a.scrollY)!==null&&$!==void 0?$:c.pageYOffset},p=new Tp(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),g=new dMe(h,p),v=(ee=a.foreignObjectRendering)!==null&&ee!==void 0&&ee,_={allowTaint:(oe=a.allowTaint)!==null&&oe!==void 0&&oe,onclone:a.onclone,ignoreElements:a.ignoreElements,inlineImages:v,copyStyles:v},g.logger.debug("Starting document clone with size "+p.width+"x"+p.height+" scrolled to "+-p.left+","+-p.top),b=new wK(g,s,_),(x=b.clonedReferenceElement)?[4,b.toIFrame(l,p)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return C=ke.sent(),S=mH(x)||x.tagName==="HTML"?function(Pe){var ve=Pe.body,te=Pe.documentElement;if(!ve||!te)throw new Error("Unable to get document size");var H=Math.max(Math.max(ve.scrollWidth,te.scrollWidth),Math.max(ve.offsetWidth,te.offsetWidth),Math.max(ve.clientWidth,te.clientWidth)),le=Math.max(Math.max(ve.scrollHeight,te.scrollHeight),Math.max(ve.offsetHeight,te.offsetHeight),Math.max(ve.clientHeight,te.clientHeight));return new Tp(0,0,H,le)}(x.ownerDocument):jk(g,x),E=S.width,I=S.height,M=S.left,k=S.top,F=pMe(g,x,a.backgroundColor),P={canvas:a.canvas,backgroundColor:F,scale:(se=(ge=a.scale)!==null&&ge!==void 0?ge:c.devicePixelRatio)!==null&&se!==void 0?se:1,x:((Ae=a.x)!==null&&Ae!==void 0?Ae:0)+M,y:((we=a.y)!==null&&we!==void 0?we:0)+k,width:(xe=a.width)!==null&&xe!==void 0?xe:Math.ceil(E),height:(Be=a.height)!==null&&Be!==void 0?Be:Math.ceil(I)},v?(g.logger.debug("Document cloned, using foreign object rendering"),[4,new uMe(g,P).render(x)]):[3,3];case 2:return Q=ke.sent(),[3,5];case 3:return g.logger.debug("Document cloned, element located at "+M+","+k+" with size "+E+"x"+I+" using computed rendering"),g.logger.debug("Starting DOM parsing"),N=kne(g,x),F===N.styles.backgroundColor&&(N.styles.backgroundColor=Ip.TRANSPARENT),g.logger.debug("Starting renderer for element at "+P.x+","+P.y+" with size "+P.width+"x"+P.height),[4,new rMe(g,P).render(N)];case 4:Q=ke.sent(),ke.label=5;case 5:return((Re=a.removeContainer)===null||Re===void 0||Re)&&(wK.destroy(C)||g.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),g.logger.debug("Finished rendering"),[2,Q]}})})}(r,o)),this.viewerSettings.viewer3DElement.style.background=n,t.toBlob(s=>{if(s){const a=document.createElement("a");a.href=URL.createObjectURL(s),a.download="view-3d.png",a.click(),this._saving3D=!1}})},e.src=URL.createObjectURL(i)},20)}download2D(){this._saving2D=!0,setTimeout(()=>{this.viewerSettings.viewer2DElement.viewer.drawer.canvas.toBlob(i=>{if(i){const e=document.createElement("a");e.href=window.URL.createObjectURL(i),e.download="view-2d.png",e.click()}this._saving2D=!1},"image/png")},20)}render(){return Na`
        <div id="layout">
            <div class="row">
                <div class="alignCenter">
                    <ui5-button @click="${()=>{this.download3D()}}" ?disabled="${this._saving3D}" title="Save 3D view">3D</ui5-button>
                </div>
                <div class="alignCenter">
                    <ui5-button @click="${()=>{this.download2D()}}" ?disabled="${this._saving2D}" title="Save 2D view">2D</ui5-button>
                </div>
            </div>
            <ui5-busy-indicator ?active="${this._saving2D||this._saving3D}" delay="0"></ui5-busy-indicator>
        </div>
    `}};qb.styles=qA`
    :host {
      min-width: 15em;
      height: 100%;
      width: 100%;
    }

    #layout {
      position: relative;
      min-width: 15em;
      display: flex;
      align-items: stretch;
      flex-direction: column;
      gap: 1rem;
    }

    .row {
      display: flex;
      flex: 1;
      flex-direction: row;
      gap: 1rem;
      justify-content: space-between;
      width: 100%;
    }

    .alignCenter {
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    ui5-button {
      padding: 0.25rem;
    }

    ui5-label {
      --sapFontSize: 15;
    }
  `,SI([Zn({type:Object})],qb.prototype,"viewerSettings",2),SI([Pq()],qb.prototype,"_saving3D",2),SI([Pq()],qb.prototype,"_saving2D",2),qb=SI([WA("export-tool")],qb);var mMe=Object.defineProperty,_Me=Object.getOwnPropertyDescriptor,EI=(i,e,t,n)=>{for(var r,o=n>1?void 0:n?_Me(e,t):e,s=i.length-1;s>=0;s--)(r=i[s])&&(o=(n?r(e,t,o):r(o))||o);return n&&o&&mMe(e,t,o),o};const TK={doubleview:`<g id="double_view">
	<g>
		<path d="M28.347,56.693h226.771v4h-226.77z"/>
		<path d="M28.347,56.693v170.079h4v-170.079z"/>
		<path d="M255.118,226.772h-226.771v4h226.77z"/>
		<path d="M255.118,226.772v-170.079h-4v170.079z"/>
	</g>
	<g>
		<path d="M76.136,141.443c1.634,1.878,2.45,4.154,2.45,6.823c0,2.177-0.588,4.194-1.765,6.057
			c-1.177,1.863-2.968,3.365-5.373,4.505c-2.406,1.143-5.383,1.711-8.93,1.711c-2.6,0-5.172-0.314-7.718-0.945
			c-2.547-0.633-4.75-1.528-6.612-2.688l3.793-7.848c1.44,0.981,3.063,1.737,4.873,2.263c1.809,0.529,3.59,0.791,5.348,0.791
			c1.791,0,3.213-0.334,4.267-0.999c1.054-0.668,1.58-1.616,1.58-2.845c0-2.391-1.879-3.583-5.637-3.583H58.04v-6.586l6.585-7.112
			h-14.54v-8.061h26.657v6.533l-7.639,8.217C72.159,138.309,74.504,139.564,76.136,141.443z"/>
		<path d="M83.854,122.925h17.438c4.038,0,7.621,0.756,10.747,2.266c3.124,1.51,5.549,3.653,7.27,6.427
			c1.72,2.775,2.581,6.023,2.581,9.746c0,3.724-0.86,6.972-2.581,9.747c-1.72,2.771-4.146,4.916-7.27,6.426
			c-3.126,1.51-6.709,2.266-10.747,2.266H83.854V122.925z M100.871,151.478c3.161,0,5.698-0.896,7.612-2.688
			s2.871-4.267,2.871-7.428c0-3.162-0.957-5.637-2.871-7.428c-1.914-1.792-4.451-2.687-7.612-2.687h-6.585v20.229L100.871,151.478
			L100.871,151.478z"/>
	</g>
	<g>
		<path d="M192.225,152.283v8.282h-28.752v-6.541l13.821-12.924c1.336-1.266,2.232-2.347,2.69-3.246
			c0.456-0.897,0.685-1.802,0.685-2.716c0-1.195-0.402-2.128-1.211-2.796c-0.81-0.668-1.988-1.002-3.535-1.002
			c-1.371,0-2.629,0.308-3.771,0.923c-1.145,0.616-2.084,1.504-2.822,2.664l-7.754-4.326c1.439-2.392,3.463-4.274,6.065-5.645
			s5.68-2.057,9.231-2.057c2.813,0,5.303,0.458,7.465,1.371c2.164,0.915,3.853,2.226,5.063,3.931
			c1.215,1.706,1.823,3.685,1.823,5.935c0,2.004-0.432,3.896-1.294,5.671c-0.862,1.777-2.524,3.791-4.985,6.041l-6.965,6.437h14.245
			V152.283z"/>
		<path d="M197.186,123.637h17.461c4.045,0,7.632,0.756,10.763,2.269c3.131,1.512,5.559,3.659,7.28,6.436
			c1.724,2.78,2.585,6.033,2.585,9.76c0,3.729-0.861,6.981-2.585,9.76s-4.149,4.923-7.28,6.437
			c-3.131,1.512-6.718,2.268-10.763,2.268h-17.461V123.637z M214.226,152.23c3.165,0,5.706-0.896,7.623-2.689
			c1.917-1.795,2.874-4.271,2.874-7.438s-0.957-5.645-2.874-7.438s-4.458-2.691-7.623-2.691h-6.596v20.258L214.226,152.23
			L214.226,152.23z"/>
	</g>
	<line stroke-width="2" stroke-miterlimit="10" x1="141.732" y1="56.693" x2="141.732" y2="226.772"/>
</g>
`,"doubleview-mobile":`<g id="double_view_mobile">
	<rect x="56.693" y="28.347" fill="none" stroke-width="4" stroke-miterlimit="10" width="170.079" height="226.771"/>
	<g>
		<path d="M132.829,84.75c1.634,1.878,2.45,4.154,2.45,6.823c0,2.177-0.588,4.194-1.765,6.057c-1.177,1.863-2.969,3.365-5.373,4.505
			c-2.406,1.142-5.384,1.711-8.93,1.711c-2.6,0-5.172-0.315-7.718-0.946c-2.548-0.633-4.751-1.528-6.612-2.688l3.793-7.848
			c1.44,0.982,3.063,1.737,4.873,2.263c1.809,0.529,3.591,0.791,5.349,0.791c1.79,0,3.213-0.334,4.267-0.999
			c1.054-0.668,1.58-1.617,1.58-2.845c0-2.39-1.88-3.583-5.638-3.583h-4.372v-6.586l6.586-7.111h-14.541v-8.061h26.657v6.533
			l-7.639,8.217C128.853,81.617,131.197,82.873,132.829,84.75z"/>
		<path d="M140.547,66.233h17.439c4.037,0,7.621,0.756,10.746,2.266c3.125,1.51,5.551,3.652,7.27,6.427
			c1.722,2.775,2.582,6.023,2.582,9.746c0,3.723-0.86,6.972-2.582,9.747c-1.719,2.772-4.145,4.917-7.27,6.426
			c-3.125,1.509-6.709,2.265-10.746,2.265h-17.439V66.233z M157.564,94.786c3.16,0,5.697-0.896,7.611-2.687s2.871-4.267,2.871-7.428
			c0-3.161-0.957-5.637-2.871-7.428c-1.914-1.792-4.451-2.687-7.611-2.687h-6.586v20.229L157.564,94.786L157.564,94.786z"/>
	</g>
	<g>
		<path d="M135.532,208.976v8.281H106.78v-6.541l13.821-12.924c1.337-1.268,2.233-2.349,2.691-3.246
			c0.456-0.896,0.685-1.803,0.685-2.717c0-1.194-0.403-2.127-1.212-2.797c-0.809-0.668-1.988-1.002-3.535-1.002
			c-1.371,0-2.629,0.309-3.771,0.924c-1.144,0.615-2.084,1.504-2.822,2.664l-7.755-4.326c1.44-2.392,3.464-4.273,6.066-5.646
			c2.602-1.372,5.68-2.058,9.232-2.058c2.813,0,5.303,0.457,7.465,1.371c2.163,0.916,3.852,2.227,5.063,3.932
			c1.215,1.706,1.823,3.686,1.823,5.936c0,2.004-0.432,3.896-1.294,5.672c-0.862,1.776-2.524,3.791-4.985,6.041l-6.965,6.436
			H135.532z"/>
		<path d="M140.493,180.33h17.461c4.045,0,7.631,0.756,10.762,2.27c3.131,1.512,5.559,3.658,7.281,6.436
			c1.724,2.78,2.584,6.033,2.584,9.762s-0.86,6.98-2.584,9.761c-1.724,2.778-4.15,4.923-7.281,6.437
			c-3.131,1.512-6.717,2.268-10.762,2.268h-17.461V180.33z M157.535,208.923c3.164,0,5.705-0.896,7.623-2.69
			c1.916-1.794,2.873-4.271,2.873-7.438c0-3.166-0.957-5.645-2.873-7.438c-1.918-1.793-4.459-2.691-7.623-2.691h-6.597v20.26h6.597
			V208.923z"/>
	</g>
	<line stroke-width="2" stroke-miterlimit="10" x1="226.772" y1="141.733" x2="56.692" y2="141.733"/>
</g>
`,singleview:`<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 16.0.3, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 284 284">
	<g>
		<path d="M28.347,56.693h226.771v4h-226.77z"/>
		<path d="M28.347,56.693v170.079h4v-170.079z"/>
		<path d="M255.118,226.772h-226.771v4h226.77z"/>
		<path d="M255.118,226.772v-170.079h-4v170.079z"/>
	</g>
	<g>
		<path d="M84.09,100.5c1.634,1.879,2.45,4.154,2.45,6.822c0,2.179-0.588,4.198-1.765,6.058c-1.177,1.863-2.968,3.364-5.373,4.505
		c-2.406,1.141-5.383,1.712-8.93,1.712c-2.6,0-5.172-0.316-7.718-0.949c-2.547-0.631-4.75-1.527-6.612-2.686l3.793-7.851
		c1.44,0.985,3.063,1.739,4.873,2.266c1.809,0.526,3.59,0.791,5.348,0.791c1.791,0,3.213-0.333,4.267-1.002
		c1.054-0.666,1.58-1.614,1.58-2.845c0-2.388-1.879-3.582-5.637-3.582h-4.372v-6.586l6.585-7.111h-14.54v-8.061h26.657v6.533
		l-7.639,8.218C80.113,97.366,82.458,98.622,84.09,100.5z"/>
		<path d="M91.808,81.982h17.438c4.038,0,7.621,0.756,10.747,2.266c3.124,1.51,5.549,3.653,7.269,6.427
		c1.721,2.775,2.581,6.023,2.581,9.746s-0.86,6.972-2.581,9.746c-1.72,2.775-4.145,4.918-7.269,6.427
		c-3.126,1.511-6.709,2.266-10.747,2.266H91.808V81.982z M108.824,110.536c3.161,0,5.697-0.895,7.612-2.686
		c1.914-1.792,2.871-4.268,2.871-7.428c0-3.161-0.957-5.637-2.871-7.428c-1.915-1.792-4.451-2.687-7.612-2.687h-6.585v20.229
		H108.824z"/>
	</g>
	<g>
		<line stroke-width="3" stroke-miterlimit="10" stroke-dasharray="9.9442,4.9721" x1="36.324" y1="220.789" x2="249.128" y2="61.185"/>
	</g>
	<g>
		<path d="M184.332,193.225v8.282H155.58v-6.541l13.821-12.926c1.337-1.266,2.233-2.349,2.69-3.244
		c0.457-0.897,0.686-1.803,0.686-2.717c0-1.194-0.402-2.127-1.212-2.797c-0.81-0.668-1.987-1.004-3.535-1.004
		c-1.37,0-2.629,0.309-3.771,0.924c-1.145,0.618-2.084,1.506-2.822,2.666l-7.755-4.326c1.44-2.392,3.464-4.272,6.065-5.646
		c2.604-1.371,5.68-2.058,9.232-2.058c2.813,0,5.303,0.457,7.465,1.371c2.164,0.916,3.852,2.226,5.063,3.932
		c1.216,1.706,1.824,3.686,1.824,5.934c0,2.004-0.433,3.896-1.295,5.672c-0.861,1.776-2.523,3.791-4.984,6.041l-6.965,6.437H184.332
		L184.332,193.225z"/>
		<path d="M189.292,164.58h17.461c4.045,0,7.632,0.756,10.763,2.269c3.13,1.513,5.558,3.657,7.28,6.437
		c1.724,2.778,2.584,6.031,2.584,9.76c0,3.729-0.86,6.981-2.584,9.762c-1.724,2.777-4.15,4.923-7.28,6.436
		c-3.131,1.512-6.718,2.269-10.763,2.269h-17.461V164.58z M206.333,193.171c3.164,0,5.705-0.896,7.621-2.689
		c1.918-1.794,2.875-4.271,2.875-7.439c0-3.164-0.957-5.644-2.875-7.438c-1.916-1.794-4.457-2.691-7.621-2.691h-6.599v20.26h6.599
		V193.171z"/>
	</g>
</svg>
`,"singleview-mobile":`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 284 284">
    <g>
        <g transform="matrix(1,0,0,1,20.1202,-17.6776)">
            <path d="M84.09,100.5C85.724,102.379 86.54,104.654 86.54,107.322C86.54,109.501 85.952,111.52 84.775,113.38C83.598,115.243 81.807,116.744 79.402,117.885C76.996,119.026 74.019,119.597 70.472,119.597C67.872,119.597 65.3,119.281 62.754,118.648C60.207,118.017 58.004,117.121 56.142,115.962L59.935,108.111C61.375,109.096 62.998,109.85 64.808,110.377C66.617,110.903 68.398,111.168 70.156,111.168C71.947,111.168 73.369,110.835 74.423,110.166C75.477,109.5 76.003,108.552 76.003,107.321C76.003,104.933 74.124,103.739 70.366,103.739L65.994,103.739L65.994,97.153L72.579,90.042L58.039,90.042L58.039,81.981L84.696,81.981L84.696,88.514L77.057,96.732C80.113,97.366 82.458,98.622 84.09,100.5Z" style="fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,20.1202,-17.6776)">
            <path d="M91.808,81.982L109.246,81.982C113.284,81.982 116.867,82.738 119.993,84.248C123.117,85.758 125.542,87.901 127.262,90.675C128.983,93.45 129.843,96.698 129.843,100.421C129.843,104.144 128.983,107.393 127.262,110.167C125.542,112.942 123.117,115.085 119.993,116.594C116.867,118.105 113.284,118.86 109.246,118.86L91.808,118.86L91.808,81.982ZM108.824,110.536C111.985,110.536 114.521,109.641 116.436,107.85C118.35,106.058 119.307,103.582 119.307,100.422C119.307,97.261 118.35,94.785 116.436,92.994C114.521,91.202 111.985,90.307 108.824,90.307L102.239,90.307L102.239,110.536L108.824,110.536Z" style="fill-rule:nonzero;"/>
        </g>
    </g>
    <g transform="matrix(0.992491,-0.32133,0.25458,0.992398,-36.1177,47.6794)">
        <g>
            <path d="M36.324,220.789L249.128,61.185" stroke-width="3" stroke-miterlimit="10" stroke-dasharray="9.9442,4.9721"/>
        </g>
    </g>
    <g>
        <g transform="matrix(1,0,0,1,-19.0438,15.0153)">
            <path d="M184.332,193.225L184.332,201.507L155.58,201.507L155.58,194.966L169.401,182.04C170.738,180.774 171.634,179.691 172.091,178.796C172.548,177.899 172.777,176.993 172.777,176.079C172.777,174.885 172.375,173.952 171.565,173.282C170.755,172.614 169.578,172.278 168.03,172.278C166.66,172.278 165.401,172.587 164.259,173.202C163.114,173.82 162.175,174.708 161.437,175.868L153.682,171.542C155.122,169.15 157.146,167.27 159.747,165.896C162.351,164.525 165.427,163.838 168.979,163.838C171.792,163.838 174.282,164.295 176.444,165.209C178.608,166.125 180.296,167.435 181.507,169.141C182.723,170.847 183.331,172.827 183.331,175.075C183.331,177.079 182.898,178.971 182.036,180.747C181.175,182.523 179.513,184.538 177.052,186.788L170.087,193.225L184.332,193.225Z" style="fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,-19.0438,15.0153)">
            <path d="M189.292,164.58L206.753,164.58C210.798,164.58 214.385,165.336 217.516,166.849C220.646,168.362 223.074,170.506 224.796,173.286C226.52,176.064 227.38,179.317 227.38,183.046C227.38,186.775 226.52,190.027 224.796,192.808C223.072,195.585 220.646,197.731 217.516,199.244C214.385,200.756 210.798,201.513 206.753,201.513L189.292,201.513L189.292,164.58ZM206.333,193.171C209.497,193.171 212.038,192.275 213.954,190.482C215.872,188.688 216.829,186.211 216.829,183.043C216.829,179.879 215.872,177.399 213.954,175.605C212.038,173.811 209.497,172.914 206.333,172.914L199.734,172.914L199.734,193.174L206.333,193.174L206.333,193.171Z" style="fill-rule:nonzero;"/>
        </g>
    </g>
    <g>
        <rect x="56.693" y="28.347" width="170.079" height="226.771" stroke-width="4" fill="none"/>
    </g>
</svg>
`,"doubleview-synced":`<g id="double_view_synced">
	<g>
		<path d="M28.347,56.693h226.771v4h-226.77z"/>
		<path d="M28.347,56.693v170.079h4v-170.079z"/>
		<path d="M255.118,226.772h-226.771v4h226.77z"/>
		<path d="M255.118,226.772v-170.079h-4v170.079z"/>
	</g>
	<g>
		<path d="M76.136,141.443c1.634,1.878,2.45,4.154,2.45,6.823c0,2.177-0.588,4.194-1.765,6.057
			c-1.177,1.863-2.968,3.365-5.373,4.505c-2.406,1.143-5.383,1.711-8.93,1.711c-2.6,0-5.172-0.314-7.718-0.945
			c-2.547-0.633-4.75-1.528-6.612-2.688l3.793-7.848c1.44,0.981,3.063,1.737,4.873,2.263c1.809,0.529,3.59,0.791,5.348,0.791
			c1.791,0,3.213-0.334,4.267-0.999c1.054-0.668,1.58-1.616,1.58-2.845c0-2.391-1.879-3.583-5.637-3.583H58.04v-6.586l6.585-7.112
			h-14.54v-8.061h26.657v6.533l-7.639,8.217C72.159,138.309,74.504,139.564,76.136,141.443z"/>
		<path d="M83.854,122.925h17.438c4.038,0,7.621,0.756,10.747,2.266c3.124,1.51,5.549,3.653,7.27,6.427
			c1.72,2.775,2.581,6.023,2.581,9.746c0,3.724-0.86,6.972-2.581,9.747c-1.72,2.771-4.146,4.916-7.27,6.426
			c-3.126,1.51-6.709,2.266-10.747,2.266H83.854V122.925z M100.871,151.478c3.161,0,5.698-0.896,7.612-2.688
			s2.871-4.267,2.871-7.428c0-3.162-0.957-5.637-2.871-7.428c-1.914-1.792-4.451-2.687-7.612-2.687h-6.585v20.229L100.871,151.478
			L100.871,151.478z"/>
	</g>
	<g>
		<path d="M192.225,152.283v8.282h-28.752v-6.541l13.821-12.924c1.336-1.266,2.232-2.347,2.69-3.246
			c0.456-0.897,0.685-1.802,0.685-2.716c0-1.195-0.402-2.128-1.211-2.796c-0.81-0.668-1.988-1.002-3.535-1.002
			c-1.371,0-2.629,0.308-3.771,0.923c-1.145,0.616-2.084,1.504-2.822,2.664l-7.754-4.326c1.439-2.392,3.463-4.274,6.065-5.645
			s5.68-2.057,9.231-2.057c2.813,0,5.303,0.458,7.465,1.371c2.164,0.915,3.853,2.226,5.063,3.931
			c1.215,1.706,1.823,3.685,1.823,5.935c0,2.004-0.432,3.896-1.294,5.671c-0.862,1.777-2.524,3.791-4.985,6.041l-6.965,6.437h14.245
			V152.283z"/>
		<path d="M197.186,123.637h17.461c4.045,0,7.632,0.756,10.763,2.269c3.131,1.512,5.559,3.659,7.28,6.436
			c1.724,2.78,2.585,6.033,2.585,9.76c0,3.729-0.861,6.981-2.585,9.76s-4.149,4.923-7.28,6.437
			c-3.131,1.512-6.718,2.268-10.763,2.268h-17.461V123.637z M214.226,152.23c3.165,0,5.706-0.896,7.623-2.689
			c1.917-1.795,2.874-4.271,2.874-7.438s-0.957-5.645-2.874-7.438s-4.458-2.691-7.623-2.691h-6.596v20.258L214.226,152.23
			L214.226,152.23z"/>
	</g>
	<line stroke-width="2" stroke-miterlimit="10" x1="141.732" y1="56.693" x2="141.732" y2="226.772"/>
	<path d="M171.183,87.604c-4.617-7.616-11.391-13.276-19.449-16.142c-9.447-3.359-19.521-2.491-28.371,2.445
		c-8.85,4.936-15.413,13.347-18.481,23.685l8.746,3.109c2.31-7.78,7.25-14.11,13.911-17.827c6.661-3.715,14.245-4.369,21.354-1.84
		c5.717,2.034,10.555,5.953,14.004,11.192l-7.537,4.204l10.929,7.769l10.935,7.771l0.679-14.248l0.684-14.244L171.183,87.604z"/>
	<path d="M112.281,195.862c4.618,7.616,11.388,13.276,19.45,16.144c9.446,3.357,19.522,2.49,28.372-2.445
		s15.413-13.348,18.479-23.686l-8.744-3.108c-2.31,7.78-7.25,14.11-13.91,17.825c-6.66,3.716-14.246,4.369-21.355,1.844
		c-5.716-2.035-10.552-5.955-14.002-11.193l7.538-4.203l-10.931-7.77l-10.933-7.771l-0.679,14.246l-0.684,14.248L112.281,195.862z" />
</g>
`,"doubleview-synced-mobile":`<g id="double_view_synced_mobile">
	<rect x="56.693" y="28.347" fill="none" stroke-width="4" stroke-miterlimit="10" width="170.079" height="226.771"/>
	<g>
		<path d="M132.829,70.578c1.634,1.878,2.45,4.154,2.45,6.823c0,2.177-0.588,4.194-1.765,6.057
			c-1.177,1.863-2.969,3.365-5.373,4.505c-2.406,1.142-5.384,1.711-8.93,1.711c-2.6,0-5.172-0.315-7.718-0.946
			c-2.548-0.633-4.751-1.528-6.612-2.688l3.793-7.848c1.44,0.982,3.063,1.737,4.873,2.263c1.809,0.529,3.591,0.791,5.349,0.791
			c1.79,0,3.213-0.334,4.267-0.999c1.054-0.668,1.58-1.617,1.58-2.845c0-2.39-1.88-3.583-5.638-3.583h-4.372v-6.586l6.586-7.111
			h-14.541V52.06h26.657v6.533l-7.639,8.217C128.853,67.444,131.197,68.7,132.829,70.578z"/>
		<path d="M140.547,52.06h17.439c4.037,0,7.621,0.756,10.746,2.266c3.125,1.51,5.551,3.652,7.27,6.427
			c1.722,2.775,2.582,6.023,2.582,9.746s-0.86,6.972-2.582,9.747c-1.719,2.772-4.145,4.917-7.27,6.426
			c-3.125,1.509-6.709,2.265-10.746,2.265h-17.439V52.06z M157.564,80.613c3.16,0,5.697-0.896,7.611-2.687
			c1.914-1.791,2.871-4.267,2.871-7.428s-0.957-5.637-2.871-7.428c-1.914-1.792-4.451-2.687-7.611-2.687h-6.586v20.229
			L157.564,80.613L157.564,80.613z"/>
	</g>
	<g>
		<path d="M135.532,223.15v8.282H106.78v-6.542l13.821-12.924c1.337-1.268,2.233-2.348,2.691-3.246
			c0.456-0.896,0.685-1.803,0.685-2.717c0-1.194-0.403-2.127-1.212-2.797c-0.809-0.668-1.988-1.002-3.535-1.002
			c-1.371,0-2.629,0.309-3.771,0.924c-1.144,0.615-2.084,1.504-2.822,2.664l-7.755-4.326c1.44-2.391,3.464-4.273,6.066-5.646
			c2.602-1.372,5.68-2.057,9.232-2.057c2.813,0,5.303,0.457,7.465,1.371c2.163,0.915,3.852,2.226,5.063,3.931
			c1.215,1.706,1.823,3.686,1.823,5.936c0,2.004-0.432,3.896-1.294,5.672c-0.862,1.777-2.524,3.791-4.985,6.041l-6.965,6.436
			H135.532z"/>
		<path d="M140.493,194.503h17.461c4.045,0,7.631,0.756,10.762,2.269s5.559,3.658,7.281,6.437c1.724,2.779,2.584,6.033,2.584,9.761
			c0,3.729-0.86,6.981-2.584,9.761c-1.724,2.777-4.15,4.923-7.281,6.436s-6.717,2.269-10.762,2.269h-17.461V194.503z
			 M157.535,223.097c3.164,0,5.705-0.896,7.623-2.69c1.916-1.794,2.873-4.271,2.873-7.438s-0.957-5.646-2.873-7.438
			c-1.918-1.793-4.459-2.691-7.623-2.691h-6.597v20.26h6.597V223.097z"/>
	</g>
	<line stroke-width="2" stroke-miterlimit="10" x1="226.772" y1="141.733" x2="56.692" y2="141.733"/>
	<path d="M195.861,171.183c7.616-4.617,13.276-11.391,16.143-19.449c3.359-9.447,2.492-19.521-2.444-28.371
		c-4.937-8.85-13.349-15.413-23.685-18.481l-3.109,8.746c7.779,2.31,14.109,7.249,17.826,13.911
		c3.716,6.661,4.369,14.245,1.841,21.354c-2.034,5.717-5.953,10.555-11.192,14.004l-4.203-7.537l-7.77,10.929l-7.771,10.935
		l14.248,0.679l14.243,0.684L195.861,171.183z"/>
	<path d="M87.603,112.282c-7.616,4.617-13.276,11.388-16.143,19.449c-3.358,9.446-2.49,19.522,2.445,28.372
		c4.936,8.85,13.347,15.413,23.685,18.479l3.109-8.744c-7.78-2.31-14.11-7.25-17.826-13.91c-3.715-6.66-4.369-14.245-1.843-21.354
		c2.035-5.717,5.955-10.553,11.193-14.002l4.204,7.538l7.769-10.932l7.771-10.933l-14.246-0.679l-14.247-0.685L87.603,112.282z"/>
</g>
`,rotation:`<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 16.0.3, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<g id="Ebene_2_Kopie">

	<line fill="none" stroke-width="15" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="28.347" y1="255.121" x2="28.347" y2="28.344"/>

	<line fill="none" stroke-width="15" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="28.342" y1="255.121" x2="255.119" y2="255.121"/>

	<line fill="none" stroke-width="15" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="28.342" y1="255.121" x2="221.982" y2="61.482"/>
	<g>
		<path d="M202.653,96.368l-7.829,7.829c4.909,5.954,8.646,12.978,10.756,20.852c8.142,30.384-10.805,61.953-42.229,70.373
			l-3.644-13.592l-28.735,27.984l38.878,9.863l-3.643-13.596c37.303-9.994,59.748-47.629,50.031-83.89
			C213.609,112.381,208.876,103.672,202.653,96.368z"/>
		<path d="M177.707,90.202l8.084-8.083c-15.77-9.456-35.422-12.758-54.826-7.559c-17.677,4.736-32.636,15.802-42.119,31.156
			l9.388,5.8c8-12.952,20.639-22.291,35.587-26.297C149.246,81.085,164.847,83.297,177.707,90.202z"/>
	</g>
</g>
</svg>
`,measure:`<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 16.0.3, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<g>
	<g>
		<line fill="none" stroke-width="10" stroke-miterlimit="10" x1="56.692" y1="204.288" x2="56.692" y2="232.538"/>
		
			<line fill="none" stroke-width="10" stroke-miterlimit="10" x1="113.385" y1="204.288" x2="113.385" y2="232.538"/>
		<line fill="none" stroke-width="10" stroke-miterlimit="10" x1="170.08" y1="204.288" x2="170.08" y2="232.538"/>
		
			<line fill="none" stroke-width="7" stroke-miterlimit="10" x1="141.732" y1="204.287" x2="141.732" y2="221.237"/>
		<line fill="none" stroke-width="7" stroke-miterlimit="10" x1="85.039" y1="204.287" x2="85.039" y2="221.237"/>
		<g>
			<path fill="none" stroke-width="10" stroke-miterlimit="10" d="M216.394,246.657l-24.545-42.369H14.173v56.5
				h226.772c0.127,0,0.25-0.008,0.375-0.01C231.4,260.901,221.707,255.827,216.394,246.657z"/>
		</g>
	</g>
	<g>
		<line fill="none" stroke-width="10" stroke-miterlimit="10" x1="173.365" y1="59.376" x2="148.816" y2="73.501"/>
		
			<line fill="none" stroke-width="10" stroke-miterlimit="10" x1="201.71" y1="108.308" x2="177.164" y2="122.434"/>
		
			<line fill="none"  stroke-width="10" stroke-miterlimit="10" x1="230.056" y1="157.242" x2="205.509" y2="171.368"/>
		
			<line fill="none" stroke-width="7" stroke-miterlimit="10" x1="215.884" y1="132.773" x2="201.156" y2="141.25"/>
		<line fill="none" stroke-width="7" stroke-miterlimit="10" x1="187.539" y1="83.841" x2="172.808" y2="92.317"/>
		<path fill="none" stroke-width="10" stroke-miterlimit="10" d="M265.49,218.408L265.49,218.408L152.105,22.677
			l-49.099,28.25l113.388,195.73c7.828,13.511,25.162,18.142,38.721,10.342C268.673,249.198,273.316,231.92,265.49,218.408z
			 M240.945,246.663c-7.826,0-14.172-6.324-14.172-14.124c0-7.801,6.346-14.125,14.172-14.125c7.828,0,14.174,6.324,14.174,14.125
			C255.119,240.338,248.773,246.663,240.945,246.663z"/>
	</g>
</g>
`,environment3D:`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<g id="surface1">
    <g fill="none" stroke-width="50px" transform="matrix(0.233169,0,0,0.245462,-253.455,-131.813)">
        <path d="M2295,1430.47C2294.8,1429.26 2294.51,1428.1 2294.31,1426.95C2294.21,1426.36 2294.08,1425.69 2293.96,1425.1C2293.86,1424.6 2293.74,1424.01 2293.66,1423.54C2293.41,1422.38 2293.22,1421.19 2292.94,1420C2291.88,1415.51 2290.47,1410.96 2288.78,1406.45C2287.06,1401.87 2285.05,1397.3 2282.7,1392.72C2280.36,1388.17 2277.69,1383.63 2274.71,1379.05C2271.73,1374.5 2268.43,1369.95 2264.83,1365.36C2261.22,1360.83 2257.3,1356.31 2253.1,1351.81C2248.91,1347.32 2244.39,1342.81 2239.58,1338.37C2234.77,1333.92 2229.66,1329.53 2224.28,1325.18C2218.91,1320.8 2213.21,1316.46 2207.28,1312.21C2201.33,1307.95 2195.1,1303.7 2188.62,1299.54C2182.14,1295.39 2175.37,1291.28 2168.35,1287.26C2164.85,1285.24 2161.28,1283.26 2157.64,1281.27C2154.01,1279.32 2150.3,1277.33 2146.55,1275.4C2142.8,1273.48 2138.96,1271.57 2135.09,1269.67C2131.21,1267.78 2127.27,1265.92 2123.28,1264.09C2119.28,1262.23 2115.22,1260.38 2111.1,1258.6C2106.98,1256.77 2102.83,1255.02 2098.61,1253.23C2094.37,1251.48 2090.09,1249.73 2085.76,1248.03C2081.42,1246.31 2077.03,1244.64 2072.59,1243C2068.15,1241.33 2063.66,1239.71 2059.12,1238.12C2054.55,1236.51 2049.95,1234.95 2045.31,1233.41C2040.67,1231.85 2035.98,1230.37 2031.24,1228.87C2026.5,1227.39 2021.69,1225.93 2016.87,1224.53C2012.03,1223.09 2007.15,1221.68 2002.23,1220.32C1997.28,1218.97 1992.31,1217.67 1987.28,1216.38C1982.27,1215.07 1977.21,1213.8 1972.1,1212.59C1967.01,1211.37 1961.87,1210.16 1956.69,1208.99C1951.52,1207.83 1946.29,1206.73 1941.03,1205.65C1935.77,1204.55 1930.46,1203.49 1925.13,1202.45C1919.79,1201.43 1914.42,1200.51 1909.01,1199.57C1903.59,1198.63 1898.14,1197.73 1892.66,1196.85C1887.18,1195.99 1881.67,1195.15 1876.13,1194.38C1870.58,1193.57 1865,1192.87 1859.41,1192.16C1853.8,1191.46 1848.13,1190.76 1842.47,1190.14C1836.79,1189.53 1831.1,1188.94 1825.37,1188.42C1819.64,1187.86 1813.87,1187.38 1808.09,1186.94C1802.31,1186.48 1796.5,1186.08 1790.65,1185.73C1784.82,1185.35 1778.98,1185.03 1773.08,1184.74C1767.18,1184.45 1761.27,1184.22 1755.34,1184.04C1749.42,1183.87 1743.48,1183.72 1737.5,1183.64C1731.52,1183.53 1725.49,1183.5 1719.5,1183.5C1713.49,1183.5 1707.49,1183.55 1701.51,1183.64C1695.51,1183.72 1689.57,1183.87 1683.65,1184.04C1677.72,1184.22 1671.79,1184.45 1665.91,1184.76C1660.03,1185.03 1654.17,1185.31 1648.34,1185.7C1642.49,1186.08 1636.68,1186.48 1630.9,1186.94C1625.1,1187.38 1619.36,1187.86 1613.63,1188.42C1607.91,1188.94 1602.22,1189.52 1596.54,1190.14C1590.86,1190.76 1585.21,1191.44 1579.6,1192.16C1573.99,1192.86 1568.43,1193.57 1562.87,1194.38C1557.32,1195.15 1551.81,1195.99 1546.31,1196.87C1540.85,1197.73 1535.41,1198.63 1530,1199.57C1524.59,1200.53 1519.21,1201.48 1513.86,1202.49C1508.54,1203.49 1503.23,1204.55 1497.96,1205.67C1492.7,1206.73 1487.48,1207.83 1482.28,1208.99C1477.11,1210.17 1471.96,1211.37 1466.85,1212.59C1461.76,1213.82 1456.7,1215.11 1451.69,1216.39C1446.67,1217.67 1441.71,1219 1436.77,1220.36C1431.86,1221.71 1426.97,1223.09 1422.12,1224.53C1417.28,1225.94 1412.51,1227.39 1407.75,1228.87C1403.01,1230.37 1398.3,1231.86 1393.68,1233.41C1389.04,1234.96 1384.43,1236.53 1379.87,1238.15C1375.33,1239.72 1370.84,1241.35 1366.4,1243.02C1361.96,1244.66 1357.58,1246.33 1353.24,1248.05C1348.9,1249.75 1344.62,1251.5 1340.39,1253.25C1336.15,1255.02 1331.99,1256.78 1327.87,1258.6C1323.77,1260.4 1319.71,1262.24 1315.71,1264.1C1311.72,1265.93 1307.77,1267.8 1303.88,1269.69C1300.01,1271.58 1296.19,1273.48 1292.44,1275.4C1288.69,1277.33 1284.99,1279.33 1281.35,1281.29C1277.71,1283.26 1274.15,1285.29 1270.64,1287.31C1263.62,1291.3 1256.86,1295.41 1250.37,1299.56C1243.89,1303.73 1237.64,1307.95 1231.69,1312.23C1225.76,1316.44 1220.07,1320.84 1214.69,1325.2C1209.31,1329.56 1204.2,1333.93 1199.39,1338.37C1194.6,1342.83 1190.08,1347.33 1185.88,1351.84C1181.67,1356.32 1177.77,1360.84 1174.16,1365.38C1170.56,1369.96 1167.26,1374.51 1164.28,1379.07C1161.3,1383.65 1158.63,1388.18 1156.29,1392.78C1153.94,1397.3 1151.92,1401.89 1150.19,1406.47C1148.48,1410.97 1147.11,1415.52 1146.05,1420.03C1145.77,1421.19 1145.6,1422.38 1145.35,1423.5C1145.22,1424.12 1145.1,1424.79 1144.98,1425.36C1144.88,1425.88 1144.76,1426.44 1144.68,1426.93C1144.46,1428.1 1144.19,1429.26 1143.99,1430.48C1143.79,1431.76 1143.66,1433.12 1143.51,1434.49C1143.66,1435.86 1143.79,1437.25 1143.99,1438.55C1144.19,1439.75 1144.48,1440.87 1144.68,1442.05C1144.8,1442.62 1144.91,1443.29 1145.03,1443.88C1145.13,1444.41 1145.25,1445 1145.35,1445.46C1145.6,1446.6 1145.77,1447.8 1146.05,1449.01C1147.11,1453.49 1148.52,1458.03 1150.21,1462.53C1151.93,1467.13 1153.94,1471.7 1156.29,1476.28C1158.63,1480.82 1161.3,1485.35 1164.28,1489.97C1167.26,1494.49 1170.56,1499.07 1174.16,1503.64C1177.77,1508.16 1181.69,1512.69 1185.89,1517.2C1190.1,1521.68 1194.6,1526.17 1199.41,1530.63C1204.22,1535.12 1209.33,1539.46 1214.71,1543.82C1220.09,1548.2 1225.78,1552.54 1231.73,1556.78C1237.66,1561.06 1243.89,1565.31 1250.37,1569.46C1256.86,1573.63 1263.62,1577.72 1270.64,1581.74C1274.15,1583.73 1277.71,1585.75 1281.37,1587.71C1284.99,1589.68 1288.69,1591.67 1292.44,1593.58C1296.19,1595.51 1300.03,1597.42 1303.9,1599.3C1307.79,1601.19 1311.72,1603.08 1315.73,1604.91C1319.71,1606.74 1323.79,1608.62 1327.89,1610.39C1332.01,1612.24 1336.16,1613.97 1340.39,1615.74C1344.62,1617.5 1348.91,1619.25 1353.25,1620.95C1357.58,1622.66 1361.96,1624.35 1366.4,1626C1370.84,1627.65 1375.33,1629.28 1379.89,1630.9C1384.45,1632.49 1389.04,1634.05 1393.68,1635.6C1398.32,1637.16 1403.03,1638.64 1407.75,1640.1C1412.51,1641.63 1417.28,1643.04 1422.12,1644.48C1426.97,1645.91 1431.86,1647.33 1436.78,1648.68C1441.73,1650.03 1446.68,1651.37 1451.69,1652.62C1456.72,1653.94 1461.78,1655.19 1466.89,1656.41C1471.98,1657.64 1477.12,1658.85 1482.3,1659.98C1487.49,1661.19 1492.7,1662.24 1497.96,1663.33C1503.23,1664.45 1508.54,1665.51 1513.86,1666.55C1519.21,1667.57 1524.59,1668.47 1530,1669.41C1535.41,1670.35 1540.85,1671.28 1546.31,1672.13C1551.81,1672.99 1557.32,1673.81 1562.87,1674.63C1568.41,1675.4 1573.99,1676.11 1579.6,1676.83C1585.21,1677.55 1590.86,1678.23 1596.52,1678.87C1602.2,1679.49 1607.9,1680.04 1613.63,1680.59C1619.36,1681.13 1625.1,1681.63 1630.88,1682.07C1636.68,1682.49 1642.49,1682.92 1648.34,1683.29C1654.17,1683.66 1660.03,1683.99 1665.91,1684.25C1671.79,1684.55 1677.72,1684.75 1683.65,1684.94C1689.57,1685.14 1695.51,1685.23 1701.5,1685.36C1707.48,1685.44 1713.47,1685.5 1719.49,1685.5C1725.49,1685.5 1731.5,1685.44 1737.48,1685.36C1743.46,1685.23 1749.42,1685.14 1755.34,1684.94C1761.25,1684.75 1767.18,1684.55 1773.06,1684.25C1778.96,1683.99 1784.82,1683.7 1790.65,1683.31C1796.5,1682.94 1802.31,1682.51 1808.09,1682.08C1813.87,1681.63 1819.64,1681.13 1825.37,1680.59C1831.08,1680.04 1836.77,1679.5 1842.47,1678.87C1848.13,1678.23 1853.78,1677.58 1859.39,1676.85C1865,1676.14 1870.57,1675.4 1876.13,1674.63C1881.67,1673.81 1887.18,1672.99 1892.66,1672.13C1898.14,1671.28 1903.59,1670.35 1909.01,1669.41C1914.42,1668.47 1919.79,1667.54 1925.13,1666.53C1930.46,1665.51 1935.77,1664.45 1941.03,1663.33C1946.29,1662.25 1951.52,1661.19 1956.71,1659.98C1961.88,1658.83 1967.03,1657.64 1972.14,1656.41C1977.23,1655.17 1982.29,1653.94 1987.32,1652.59C1992.33,1651.35 1997.3,1650 2002.23,1648.65C2007.15,1647.29 2012.03,1645.91 2016.87,1644.46C2021.71,1643.04 2026.5,1641.63 2031.24,1640.1C2035.98,1638.65 2040.67,1637.16 2045.33,1635.6C2049.97,1634.05 2054.58,1632.49 2059.12,1630.87C2063.66,1629.26 2068.15,1627.65 2072.59,1625.98C2077.04,1624.35 2081.42,1622.66 2085.76,1620.95C2090.09,1619.25 2094.38,1617.5 2098.61,1615.74C2102.84,1613.97 2107,1612.25 2111.12,1610.39C2115.22,1608.62 2119.3,1606.74 2123.28,1604.91C2127.29,1603.08 2131.22,1601.19 2135.09,1599.3C2138.98,1597.4 2142.8,1595.53 2146.57,1593.58C2150.32,1591.67 2154.01,1589.68 2157.64,1587.71C2161.28,1585.75 2164.86,1583.73 2168.36,1581.71C2175.37,1577.69 2182.14,1573.61 2188.62,1569.44C2195.1,1565.29 2201.33,1561.09 2207.3,1556.81C2213.23,1552.59 2218.92,1548.2 2224.32,1543.82C2229.68,1539.46 2234.79,1535.1 2239.6,1530.64C2244.41,1526.17 2248.91,1521.68 2253.12,1517.2C2257.34,1512.69 2261.22,1508.17 2264.83,1503.65C2268.43,1499.09 2271.73,1494.5 2274.71,1489.97C2277.69,1485.35 2280.36,1480.83 2282.7,1476.27C2285.05,1471.7 2287.09,1467.13 2288.8,1462.55C2290.49,1458.05 2291.88,1453.49 2292.95,1449.01C2293.22,1447.81 2293.41,1446.62 2293.66,1445.54C2293.78,1444.9 2293.89,1444.23 2294.03,1443.64C2294.13,1443.13 2294.24,1442.59 2294.31,1442.08C2294.51,1440.91 2294.81,1439.76 2295,1438.57C2295.22,1437.26 2295.33,1435.88 2295.5,1434.53C2295.33,1433.12 2295.2,1431.74 2295,1430.47Z" />
    </g>
    <path d="M179.539,220.301C179.539,239.078 165.082,254.301 147.246,254.301C129.41,254.301 114.953,239.078 114.953,220.301C114.953,201.527 129.41,186.305 147.246,186.305C165.082,186.305 179.539,201.527 179.539,220.301Z"/>
    <g fill="none" stroke-width= "40px" transform="matrix(0.233169,0,0,0.245462,-253.455,-131.813)">
        <path d="M1996.5,1434.49C1996.5,1329.76 1938.43,1238.62 1852.76,1191.41C1849.2,1190.98 1845.65,1190.53 1842.1,1190.14C1836.42,1189.53 1830.71,1188.94 1824.98,1188.42C1819.23,1187.86 1813.49,1187.38 1807.69,1186.94C1801.89,1186.48 1796.1,1186.08 1790.24,1185.73C1784.39,1185.35 1778.53,1185.03 1772.63,1184.74C1766.75,1184.45 1760.82,1184.22 1754.89,1184.04C1748.96,1183.87 1742.99,1183.72 1737.01,1183.64C1731.01,1183.53 1724.98,1183.5 1718.99,1183.5C1712.99,1183.5 1706.97,1183.55 1700.98,1183.64C1695,1183.72 1689.03,1183.87 1683.1,1184.04C1677.19,1184.22 1671.26,1184.45 1665.34,1184.76C1659.46,1185.03 1653.58,1185.31 1647.75,1185.7C1641.9,1186.08 1636.09,1186.48 1630.3,1186.94C1624.5,1187.38 1618.74,1187.86 1613.01,1188.42C1607.28,1188.94 1601.56,1189.52 1595.88,1190.14C1592.33,1190.53 1588.82,1190.96 1585.26,1191.39C1499.57,1238.62 1441.51,1329.76 1441.51,1434.49C1441.51,1539.24 1499.56,1630.38 1585.25,1677.59C1588.78,1678.01 1592.33,1678.47 1595.88,1678.87C1601.58,1679.49 1607.29,1680.04 1613.02,1680.59C1618.75,1681.13 1624.52,1681.63 1630.3,1682.07C1636.09,1682.49 1641.9,1682.92 1647.77,1683.29C1653.6,1683.66 1659.46,1683.99 1665.36,1684.25C1671.26,1684.55 1677.19,1684.75 1683.12,1684.94C1689.05,1685.14 1695,1685.23 1700.99,1685.36C1706.97,1685.44 1712.99,1685.5 1719,1685.5C1725,1685.5 1731.01,1685.44 1737.01,1685.36C1742.99,1685.23 1748.97,1685.14 1754.89,1684.94C1760.82,1684.75 1766.75,1684.55 1772.64,1684.25C1778.53,1683.99 1784.4,1683.7 1790.24,1683.31C1796.1,1682.94 1801.91,1682.51 1807.71,1682.08C1813.49,1681.63 1819.25,1681.13 1825,1680.59C1830.71,1680.04 1836.42,1679.5 1842.1,1678.87C1845.67,1678.48 1849.2,1678.02 1852.74,1677.61C1938.43,1630.39 1996.5,1539.24 1996.5,1434.49Z"/>
    </g>
    <g stroke-width="25px" transform="matrix(0.235243,0,0,0.245462,-256.696,-129.858)">
        <path d="M1117.26,774.021L1495.79,554.41L1876.76,773.989L1498.22,993.616L1117.26,774.021M1883.5,773.989L1495.75,550.495L1110.5,774.021L1498.25,997.499L1883.5,773.989" />
    </g>
    <g transform="matrix(-0.233169,0,0,0.245462,188.517,69.5886)">
        <path d="M0.007,0.005L0.007,369.922" fill="none" stroke-width="22.92px" stroke-linecap="round"/>
    </g>
    <g transform="matrix(0.233169,0,0,0.245462,-253.455,-131.813)">
        <path d="M1513.49,1036.5L1513.49,1193.24" fill="none" stroke-width="22.92px" stroke-linecap="round"/>
    </g>
    <g transform="matrix(-0.116585,-0.212577,-0.20193,0.122731,188.644,67.8623)">
        <path d="M-0.003,0.003L-0.005,441.736" fill="none" stroke-width="22.92px" stroke-linecap="round"/>
    </g>
    <g transform="matrix(0.233169,0,0,0.245462,-253.455,-131.813)">
        <path d="M1480.51,1033.5L1480.51,1202.4" fill="none" stroke-width="22.92px" stroke-linecap="round"/>
    </g>
    <g transform="matrix(-0.11662,0.212556,0.201158,0.122262,2.826,67.8637)">
        <path d="M0.002,-0.008L0.004,441.726" fill="none" stroke-width="22.92px" stroke-linecap="round"/>
    </g>
    <g transform="matrix(-0.233169,0,0,0.245462,2.91461,67.6249)">
        <path d="M0.002,0L0.002,439.254" fill="none" stroke-width="22.92px" stroke-linecap="round"/>
    </g>
    <g transform="matrix(-0.116585,0.212577,0.20193,0.122731,3.4509,175.859)">
        <path d="M0.005,-0.006L0.003,116.931" fill="none" stroke-width="22.92px" stroke-linecap="round"/>
    </g>
</g>
`};for(const i in TK)vi(i,{pathData:"",collection:"custom",packageName:"custom",viewBox:"0 0 284 284",customTemplate:()=>({strings:[TK[i]]})});let Wb=class extends Oc{constructor(){super(...arguments),this.currentViewModeIndex=2,this.isColumnMode=!1}render(){return Na`
      <ui5-segmented-button
        id="viewModeBtn"
        class="${this.isColumnMode?"ver-orientation":"hor-orientation"}"
        @selection-change="${this._handleSelectionChanged}"
      >
        <ui5-segmented-button-item
          tooltip="One View Mode"
          ?selected=${this.currentViewModeIndex==0}
        >
          <ui5-icon
            name="${this.isColumnMode?"custom/singleview-mobile":"custom/singleview"}"
            class="${this.isColumnMode?"rotated-icon":""}"
          ></ui5-icon>
        </ui5-segmented-button-item>
        <ui5-segmented-button-item
          tooltip="Sync Mode"
          ?selected=${this.currentViewModeIndex==1}
        >
          <ui5-icon
            name="${this.isColumnMode?"custom/doubleview-synced-mobile":"custom/doubleview-synced"}"
            class="${this.isColumnMode?"rotated-icon":""}"
          ></ui5-icon>
        </ui5-segmented-button-item>
        <ui5-segmented-button-item
          tooltip="Navigation Mode"
          ?selected=${this.currentViewModeIndex==2}
        >
          <ui5-icon
            name="${this.isColumnMode?"custom/doubleview-mobile":"custom/doubleview"}"
            class="${this.isColumnMode?"rotated-icon":""}"
          ></ui5-icon>
        </ui5-segmented-button-item>
      </ui5-segmented-button>

      <pv-menu ?isColumnMode=${this.isColumnMode}>
        <pv-menu-item icon="chart-axis" title="3D Environment" idx="1">
          <environment-settings
            ?isColumnMode=${this.isColumnMode}
            .environmentSettings="${this.viewerSettings.environment3D}"
          >
          </environment-settings>
        </pv-menu-item>
        <pv-menu-item icon="rotate" title="Rotation Settings" idx="2">
          <rotation-settings
            ?isColumnMode=${this.isColumnMode}
            ?isAutoRotationDisabled="${this.currentViewModeIndex<2}"
            .imageRotationSettings="${this.viewerSettings.imageRotation}"
            .modelOrientationSettings="${this.viewerSettings.modelOrientation}"
          >
          </rotation-settings>
        </pv-menu-item>
        <pv-menu-item icon="measure" title="Measurement Tool" idx="3">
          <measurement-tool
            ?isColumnMode=${this.isColumnMode}
            .measurementTool="${this.viewerSettings.measurementTool}"
          ></measurement-tool>
        </pv-menu-item>
        <pv-menu-item icon="camera" title="Save view as image" idx="4">
          <export-tool .viewerSettings="${this.viewerSettings}"></export-tool>
        </pv-menu-item>
      </pv-menu>
    `}_handleSelectionChanged(i){const e=i.detail.selectedItems[0],t=e.getAttribute("pos-in-set")??e.ariaPosInSet;t==null&&console.warn("Selected item does not have an ariaPosInSet property. Check your segmented button implementation.",e);const n=parseInt(t??"",10)-1;n!=this.currentViewModeIndex&&(this.currentViewModeIndex=n,this.dispatchEvent(new CustomEvent("view-mode-changed",{detail:{viewIndex:n}})))}};Wb.styles=qA`
    :host {
      height: 100%;
      width: 100%;
      --_ui5_button_base_padding: 0px;
    }

    .rotated-icon {
      transform: rotate(-90deg);
    }

    .hor-orientation {
      left: 50%;
    }

    .ver-orientation {
      top: 50%;
    }

    #viewModeBtn.hor-orientation {
      bottom: 1%;
      transform: translateX(-50%);
    }

    #viewModeBtn.ver-orientation {
      right: 1%;
      transform-origin: 100% 0;
      transform: rotate(90deg) translateX(50%);
    }

    #viewModeBtn {
      position: absolute;
      pointer-events: auto;
    }

    ui5-segmented-button-item {
      height: 3.5rem;
      padding: 1px 1px 1px 1px;
    }

    ui5-icon {
      width: 3.5rem;
      height: 3.5rem;
      stroke: black;
      fill: black;
      pointer-events: none;
      transform: translateY(2.5%);
    }
  `,EI([Zn({type:Number})],Wb.prototype,"currentViewModeIndex",2),EI([Zn({type:Boolean})],Wb.prototype,"isColumnMode",2),EI([Zn({type:Object})],Wb.prototype,"viewerSettings",2),Wb=EI([WA("control-panel")],Wb);class vMe{constructor(e,t,n){this.focalLengthInPx=e,this._sensorWidthInPx=t,this._sensorHeightInPx=n,this._sensorHeightInPx==0||this._sensorWidthInPx==0?this.aspectRatio=-1:this.aspectRatio=t/n,this.fovInRad=this._sensorHeightInPx/this.focalLengthInPx,this.cx=.5*(this._sensorWidthInPx-1),this.cy=.5*(this._sensorHeightInPx-1)}equals(e){return e.focalLengthInPx==this.focalLengthInPx&&e.cx==this.cx&&e.cy==this.cy}}class bMe extends Qg.EventEmitter{constructor(){super(),this.isValid=!1,this.sensorMap=new Map,this.sensorIds=[],this.imageFiles=[],this.camPosesInChunk=[],this.transformationChunkToWorld=new hr,this._xmlDoc=null}readFromFile(e){return fetch(e).then(t=>t.text()).then(t=>{this._xmlDoc=new DOMParser().parseFromString(t,"text/xml"),this._extractInformation()})}_extractInformation(){this.isValid=!1,this._xmlDoc!=null?this._extractIntrinsicCameraInformation()?this._extractExtrinsicCameraInformation()?(this.isValid=!0,this.emit("scanInformationExtracted")):console.error("Coudn't extract extrinisc camera information from xml document"):console.error("Coudn't extract intrinsic camera information from xml document"):console.error("Xml of scaninformation is not valid")}_extractIntrinsicCameraInformation(){if(this._xmlDoc==null)return!1;const e=this._xmlDoc.getElementsByTagName("sensor");if(e.length==0)return console.error("No sensors found in xml document"),!1;for(let t=0;t<e.length;t++){const n=e[t].getAttribute("id");if(n==null)return console.error(`Sensor Element in xml doesn't contain key "id"`,t,e[t]),!1;const r=p_(e[t],"calibration");if(r==null)return!1;const o=p_(r,"resolution");if(o==null)return!1;const s=IK(o,"width"),a=IK(o,"height");if(s==null||a==null)return console.error("XML Document doesn't contain information about sensor width and height"),!1;const l=p_(r,"f");if(l==null||l.textContent==null)return console.error("XML Document doesn't contain information about the field of view",l),!1;const c=Number(l.textContent);if(Number.isNaN(c)||c<=0)return console.error("XML Document doesn't contain valid information about the field of view:",c),!1;this.sensorMap.set(n,new vMe(c,s,a))}return!0}_extractExtrinsicCameraInformation(){return this._xmlDoc!=null&&(this._extractChunkToWorldCoorTransformation()?!!this._extractCamPoses()||(console.error("Coudn't extract cam poses information from xml document"),!1):(console.error("Coudn't extract transformation chunk to world coordinate system from xml document"),!1))}_extractChunkToWorldCoorTransformation(){if(this._xmlDoc==null)return console.error("XML Document is null"),!1;const e=function(d,p){const g=d.getElementsByTagName(p);return g.length==0?(console.warn("XML Document doesn't contain valid element with name",p),null):g[g.length-1]}(this._xmlDoc,"transform");if(e==null)return console.error("XML Document doesn't contain a transform element"),!1;const t=p_(e,"rotation");if(t==null||t.textContent==null)return console.error("XML Document doesn't contain valid information about the rotation between chunk and world coordinate system",t),!1;const n=t.textContent.split(" "),r=n.map(d=>Number(d));if(r.length!=9)return console.error("Rotation part of chunk doesn't contain 9 numbers:",r),!1;const o=new Pp;o.fromArray(r).transpose();const s=p_(e,"scale");if(s==null||s.textContent==null)return console.error("XML Document doesn't contain valid information about the scaling between chunk and world coordinate system",s),!1;const a=Number(s.textContent);if(a<=0)return console.error("Scalefactor in xml document is not valid: ",a),!1;o.multiplyScalar(a);const l=p_(e,"translation");if(l==null||l.textContent==null)return console.error("XML Document doesn't contain valid information about the translation between chunk and world coordinate system",l),!1;const c=l.textContent.split(" "),u=c.map(d=>Number(d));if(u.length!=3)return console.error("Translation part of chunk doesn't contain 3 numbers:",u),!1;const h=new Xe(u[0],u[1],u[2]);return this.transformationChunkToWorld.setFromMatrix3(o),this.transformationChunkToWorld.setPosition(h),console.log("Transformation chunk to world extracted from XML",{rotationChunkAsMat:o,rotationChunkAsStringArray:n,rotationElement:t,scaleElement:s,scaleFactor:a,transformationChunkToWorld:this.transformationChunkToWorld,translationChunkAsStringArray:c,translationElement:l}),!0}_extractCamPoses(){if(this._xmlDoc==null)return!1;const e=this._xmlDoc.getElementsByTagName("camera");if(e.length==0)return console.error("No cameras found in xml document"),!1;this.imageFiles.length=e.length,this.camPosesInChunk.length=e.length,this.sensorIds.length=e.length;let t=0;for(let n=0;n<e.length;n++){if(t>=10)return console.error("Failed to extract camera information for all cameras in xml document. Stopping after 10 errors."),!1;const r=e[n].getAttribute("label");if(r==null){console.warn(`Camera Element in xml doesn't contain key "label"`,n,e[n]),t+=1;continue}const o=e[n].getAttribute("sensor_id");if(o==null){console.warn(`Camera Element in xml doesn't contain key "sensor_id"`,n,e[n]),t+=1;continue}if(this.sensorMap.has(o)==0){console.warn("Sensor with id",o,"doesn't exist in xml file"),t+=1;continue}const s=p_(e[n],"transform");if(s==null||s.textContent==null){console.warn("Camera Element in xml doesn't contain transformationElement",n,e[n]),t+=1;continue}const a=s.textContent.split(" ").map(l=>Number(l));a.length==16?(this.imageFiles[n]=r,this.sensorIds[n]=o,this.camPosesInChunk[n]=new hr,this.camPosesInChunk[n].fromArray(a).transpose()):(console.warn("cam pose doesn't contain 16 numbers:",n,a),t+=1)}return!0}}function p_(i,e){const t=i.getElementsByTagName(e);return t.length==0?(console.warn("XML Document doesn't contain valid element with name",e),null):t[0]}function IK(i,e){const t=i.getAttribute(e);return t?Number(t):null}class yMe extends Qg.EventEmitter{constructor(){super(...arguments),this.poses=[],this.normedPositions=[],this._remapCoordinates=new Xe(0,1,2),this._sensorMap=new Map,this._sensorIds=[],this._camPosesInChunk=[],this._chunkToWorldTransform=new hr,this._isYupTransformApplied=!0,this._additionalRotation=new hr}init(e,t,n){this._sensorMap=e.sensorMap,this._sensorIds=e.sensorIds,this._camPosesInChunk=e.camPosesInChunk,this._chunkToWorldTransform=e.transformationChunkToWorld,this._isYupTransformApplied=t,this._additionalRotation=this._additionalRotation.makeRotationFromEuler(n),this._calculateCamPosesInWorldCoor()}setIsYupTransformApplied(e){e!=this._isYupTransformApplied&&(this._isYupTransformApplied=e,this._calculateCamPosesInWorldCoor(),this.emit("camera-parameters-changed"))}setAdditionalRotation(e){console.log("Set additional rotation"),this._additionalRotation=this._additionalRotation.makeRotationFromEuler(e.angleInRad),this._calculateCamPosesInWorldCoor(),this.emit("camera-parameters-changed")}setAxesRemapping(e){console.log("Set new axes mapping"),this._remapCoordinates=e,this._calculateCamPosesInWorldCoor(),this.emit("camera-parameters-changed")}getImageSensor(e){const t=this._sensorIds[e];return this._sensorMap.get(t)}getCameraPose(e){return e<this.poses.length&&e>=0?this.poses[e]:new hr}getSyncSettingsOfNextBestImage(e){let t=e.position.clone().normalize();t=new Xe(t.getComponent(this._remapCoordinates.getComponent(0)),t.getComponent(this._remapCoordinates.getComponent(1)),t.getComponent(this._remapCoordinates.getComponent(2)));let n=Number.MAX_VALUE,r=-1;for(let I=0;I<this.normedPositions.length;I++){if(this.normedPositions[I]===void 0||this.normedPositions[I]===null)continue;const M=Math.acos(t.dot(this.normedPositions[I]));M<n&&(n=M,r=I)}if(r==-1)return[null,null];const o=new Xe,s=new Xe,a=new Xe;this.poses[r].extractBasis(o,s,a);const l=Math.acos(-a.y),c=Math.atan2(-a.x,-a.z),u=new Xe(Math.cos(c),0,-Math.sin(c)),h=new Xe(-Math.cos(l)*Math.sin(c),Math.sin(l),-Math.cos(l)*Math.cos(c)),d=new Ps;d.x=o.dot(u),d.y=o.dot(h),d.normalize();const p=function(I){for(;I<-180;)I+=360;for(;I>180;)I-=360;return I}(v2(Math.atan2(d.y,d.x)));console.log("Computing sync settings of next best image",{rotAngle:p,idxMinAngle:r,minAngle:n,normedPosition:this.normedPositions[r],pose:this.poses[r],unrotatedImgCamAxisX:u,normed3DCamPosition:t,projectedXDirCam2D:d,phiImageCam:l,thetaImageCam:c,nNormedPositions:this.normedPositions.length});const g=new Xe;g.setFromMatrixPosition(this.poses[r]);const v=g.length(),_={theta:c,phi:l,radius:v,toString(){return`${this.theta}rad ${this.phi}rad ${this.radius}m`}},b=new Xe;b.x=g.x-v*Math.sin(l)*Math.sin(c),b.y=g.y-v*Math.cos(l),b.z=g.z-v*Math.sin(l)*Math.cos(c);const x=this._sensorIds[r],C=this._sensorMap.get(x);let S=.25*Math.PI,E=1;return C!=null&&(S=C.fovInRad,E=C.aspectRatio),[{imageIdx:r,rotationAngle:-p,imageAspectRatio:E},{orbitPos:_,cameraTarget:dp(b),fovInRad:S}]}_calculateCamPosesInWorldCoor(){const e=this._chunkToWorldTransform.clone();if(this._isYupTransformApplied){const o=new hr;o.makeRotationX(.5*-Math.PI),e.premultiply(o)}const t=new Xe,n=new Sw,r=new Xe;this.poses.length=this._camPosesInChunk.length,this.normedPositions.length=this._camPosesInChunk.length;for(let o=0;o<this._camPosesInChunk.length;o++){if(this._camPosesInChunk[o]==null||this._camPosesInChunk[o]===void 0)continue;const s=new hr;s.multiplyMatrices(e,this._camPosesInChunk[o]),s.premultiply(this._additionalRotation),s.decompose(t,n,r);const a=new Xe(1,1,1);t.multiplyScalar(1e3);const l=new hr;l.compose(t,n,a),this.poses[o]=l;const c=new Xe;c.setFromMatrixPosition(l),this.normedPositions[o]=c.normalize()}console.log("Calculated camera poses in world coordinates",{transformationChunkToWorldYUp:e,camPosesInChunk:this._camPosesInChunk,normedPoses:this.normedPositions,poses:this.poses})}}class wMe{constructor(){this.angleInRad=new RS(0,0,0,"YXZ")}angleInRadAsString(){return`${this.angleInRad.z}rad ${this.angleInRad.x}rad ${this.angleInRad.y}rad`}equals(e){return e.angleInRadAsString()==this.angleInRadAsString()}set x(e){this.angleInRad.x=e}get x(){return this.angleInRad.x}set y(e){this.angleInRad.y=e}get y(){return this.angleInRad.y}set z(e){this.angleInRad.z=e}get z(){return this.angleInRad.x}}function MK(i){return`rgb(${i.r}, ${i.g}, ${i.b})`}class xMe extends Qg.EventEmitter{constructor(){super(...arguments),this._eulerOrientation=new wMe}set xOrientationInRad(e){this._eulerOrientation.x!=e&&(this._eulerOrientation.x=e,this.emit("model-orientation-changed",this.eulerOrientationYXZInRad))}set yOrientationInRad(e){this._eulerOrientation.y!=e&&(this._eulerOrientation.y=e,this.emit("model-orientation-changed",this.eulerOrientationYXZInRad))}set zOrientationInRad(e){this._eulerOrientation.z!=e&&(this._eulerOrientation.z=e,this.emit("model-orientation-changed",this.eulerOrientationYXZInRad))}get eulerOrientationYXZInRad(){return this._eulerOrientation}}class CMe extends Qg.EventEmitter{constructor(){super(...arguments),this._autoRotationAngle=0,this._userSetRotationAngle=0,this._isAutoRotationActivated=!1}set autoRotationAngle(e){this._autoRotationAngle!=e&&(this._autoRotationAngle=e,this._isAutoRotationActivated&&this.emit("rotation-angle-changed",this._autoRotationAngle))}get autoRotationAngle(){return this._autoRotationAngle}set userSetRotationAngle(e){this._userSetRotationAngle!=e&&(this._userSetRotationAngle=e,this._isAutoRotationActivated||this.emit("rotation-angle-changed",this._userSetRotationAngle))}get userSetRotationAngle(){return this._userSetRotationAngle}set isAutoRotationActivated(e){this._isAutoRotationActivated!=e&&(this._isAutoRotationActivated=e,this._isAutoRotationActivated?this.emit("rotation-angle-changed",this._autoRotationAngle):this.emit("rotation-angle-changed",this._userSetRotationAngle,!1))}get isAutoRotationActivated(){return this._isAutoRotationActivated}}class BMe extends Qg.EventEmitter{constructor(){super(...arguments),this._showAxes=!1,this._remapAxes=new Xe(0,1,2),this._backgroundColor="#444444",this._gradientColor="#b9b9b9",this._applyGradient=!0,this._brightness=1}set showAxes(e){this._showAxes!=e&&(this._showAxes=e,this.emit("change-axes-visibility-requested",this._showAxes))}get showAxes(){return this._showAxes}set remapAxes(e){this._remapAxes!=e&&(console.log("Remapped axes to ",e),this._remapAxes=e,this.emit("change-axes-mapping-requested",this.remapAxes))}get remapAxes(){return this._remapAxes}set backgroundColor(e){const t=tne(e),n=MK(t);if(console.log("Set backgroundcolor",t,n),this._backgroundColor==n)return;this._backgroundColor=n;const r={r:Math.min(2.5*t.r,255),g:Math.min(2.5*t.g,255),b:Math.min(2.5*t.b,255)};this._gradientColor=MK(r),console.log("Set gradient color",r,this._gradientColor),this._applyGradient?this.emit("change-viewer-background-color-requested",this._backgroundColor,this._gradientColor):this.emit("change-viewer-background-color-requested",this._backgroundColor,"")}get backgroundColor(){return this._applyGradient?[this._backgroundColor,this._gradientColor]:[this._backgroundColor,""]}set applyGradient(e){this._applyGradient!=e&&(this._applyGradient=e,this._applyGradient?this.emit("change-viewer-background-color-requested",this._backgroundColor,this._gradientColor):this.emit("change-viewer-background-color-requested",this._backgroundColor,""))}get applyGradient(){return this._applyGradient}set brightness(e){this._brightness!=e&&(this._brightness=e,this.emit("change-exposure-requested",this._brightness))}}class SMe extends Qg.EventEmitter{constructor(){super(...arguments),this._isEditModeActive=!1,this._measurementPoints=[],this._measuredLength=0,this._currentOrientation=new RS,this._currentTranslation=new Xe,this._imageSensor=null,this._imageCamOrientation=new hr,this._measurementDistances=[],this._showMeasurementDistances=!0,this._sceneElementGroup=new C2e}set imageSensor(e){this._imageSensor&&e.equals(this._imageSensor)||(this._imageSensor=e)}set imageCamOrientation(e){this._imageCamOrientation.equals(e)||(this._imageCamOrientation=e)}get sceneElementGroup(){return this._sceneElementGroup}set isEditModeActive(e){this._isEditModeActive!=e&&(this._isEditModeActive=e)}get isEditModeActive(){return this._isEditModeActive}get numPoints(){return this._measurementPoints.length}get measurementPoints(){return this._measurementPoints}get measurementDistances(){return this._measurementDistances}get measuredLength(){return this._measuredLength}set translation(e){e.equals(this._currentTranslation)||(this._measurementDistances.forEach(t=>{t.translate(e)}),this._currentTranslation=e.clone())}set eulerOrientation(e){this._currentOrientation.equals(e.angleInRad)||(this._currentOrientation=e.angleInRad.clone(),this._measurementDistances.forEach(t=>{t.changeSceneOrientation(this._currentOrientation)}),this._measurementPoints.forEach(t=>{t.updatePosition(this._currentOrientation)}))}addPointFromImage(e,t){if(this._imageSensor==null)return void console.warn("Cannot add point from image, since image sensor is null.");const n=new Xe;n.x=e-this._imageSensor.cx,n.y=t-this._imageSensor.cy,n.z=this._imageSensor.focalLengthInPx;const r=new Pp;r.setFromMatrix4(this._imageCamOrientation),console.log("Cam orientation in World",this._imageCamOrientation),n.applyMatrix3(r);const o=n.normalize(),s=new Xe;s.setFromMatrixPosition(this._imageCamOrientation),this.emit("calculate-hotspot-requested",s,o)}addPointFrom3DScene(e,t,n=!0,r=this._measurementPoints.length){const o=this._measurementPoints.length,s=new Xe(e.x,e.y,e.z),a=new Xe(t.x,t.y,t.z),l=new IMe(r,s,a,this._currentOrientation);if(l.on("hotspot-selected",this._updateHotspotInImage.bind(this)),l.on("hotspot-focus-changed",c=>this.emit("change-image-hotspot-visibility",c)),this._measurementPoints.push(l),o>0){const c=new TMe(this._measurementDistances.length,this._measurementPoints[o-1],l,this._currentTranslation,this._currentOrientation);this._showMeasurementDistances||c.hide(),this._measuredLength+=c.distance,this._sceneElementGroup.add(c.sceneElement),this._measurementDistances.push(c),this.emit("hotspot-added",c.annotationElement),this.emit("update-requested")}this.emit("hotspot-added",l.domElement),n&&this._updateHotspotInImage(l.positionInSceneCoor),window.setTimeout(()=>l.domElement.focus(),0)}resetPoints(){this._measurementPoints.forEach(e=>{e.delete()}),this._measurementPoints=[],this._measuredLength=0,this._measurementDistances.forEach(e=>{e.reset()}),this.emit("update-requested")}showPoints(){this._measurementPoints.forEach(e=>{e.show()}),this._measurementDistances.forEach(e=>{e.show()}),this.emit("scene-update-requested")}hidePoints(){this._measurementDistances.forEach(e=>{e.hide()}),this._measurementPoints.forEach(e=>{e.hide()}),this.emit("scene-update-requested")}get showMeasurementDistances(){return this._showMeasurementDistances}set showMeasurementDistances(e){this._showMeasurementDistances!=e&&(this._showMeasurementDistances=e,this._measurementDistances.forEach(t=>{e?t.show():t.hide()}),this.emit("scene-update-requested"))}saveMeasurement(e="csv"){const t=document.createElement("a");if(e==="csv"){let n=`index,x,y,z${this.showMeasurementDistances?",distance":""},label
`;this._measurementPoints.forEach((r,o)=>{const s=r.positionInModelCoor;n+=`${o},${s.x},${s.y},${s.z}${this.showMeasurementDistances?","+(o>0?this._measurementDistances[o-1].distance:""):""},"${r.label.replace(/"/g,'""')}"
`}),t.href=window.URL.createObjectURL(new Blob([n],{type:"text/csv"})),t.download="measurement.csv"}else{const n=[];for(let r=0;r<this._measurementPoints.length;r++){const o=this._measurementPoints[r];n.push({pos:[o.positionInModelCoor.x,o.positionInModelCoor.y,o.positionInModelCoor.z],normal:[o.normalInSceneCoor.x,o.normalInSceneCoor.y,o.normalInSceneCoor.z],label:o.label,distance:this._showMeasurementDistances&&r>0?this._measurementDistances[r-1].distance:void 0})}t.href=window.URL.createObjectURL(new Blob([JSON.stringify(n)],{type:"application/json"})),t.download="measurement.json"}t.click()}async loadMeasurement(e){try{const t=await(await fetch(e)).json();let n=!1;for(const r of t){const o={x:r.pos[0],y:r.pos[1],z:r.pos[2]},s={x:r.normal[0],y:r.normal[1],z:r.normal[2]};this.addPointFrom3DScene(o,s,!1,r.label),n=n||r.distance!==void 0}this._showMeasurementDistances=n}catch(t){console.error(t)}}_updateHotspotInImage(e){if(this._imageSensor==null)return void console.warn("Cannot update hotspot in image: image sensor null.");const t=this._imageSensor,n=this._imageCamOrientation.clone(),r=new Xe().setFromMatrixPosition(n);r.add(this._currentTranslation),n.setPosition(r),n.invert();const o=new Xe().addVectors(e,this._currentTranslation),s=new Dk(o.x,o.y,o.z,1).applyMatrix4(n),a=new Xe(s.x/s.w,s.y/s.w,s.z/s.w),l=a.x/a.z*t.focalLengthInPx+t.cx,c=a.y/a.z*t.focalLengthInPx+t.cy;l>0&&c>0&&this.emit("update-image-hotspot-position-requested",l,c)}}class EMe{constructor(){this._lineGeometry=new Og,this._translation=new Xe,this._pointsInModelCoor=[],this._lineMaterial=new S2e({color:16777215,gapSize:.1,dashSize:.1}),this._lineMaterial.transparent=!0,this._lineMaterial.depthTest=!1,this._distanceLine=new vte(this._lineGeometry,this._lineMaterial)}get lineElement(){return this._distanceLine}addPoint(e,t,n){const r=new hr().makeRotationFromEuler(n).invert(),o=e.clone().applyMatrix4(r);this._pointsInModelCoor.push(o),this._lineGeometry.setFromPoints(this._pointsInModelCoor),this._lineGeometry.applyMatrix4(new hr().makeRotationFromEuler(n)),this._lineGeometry.translate(t.x,t.y,t.z),this._distanceLine.computeLineDistances(),this._translation=t}addPointInModelCoor(e,t,n){this._pointsInModelCoor.push(e),this._lineGeometry.setFromPoints(this._pointsInModelCoor),this._lineGeometry.applyMatrix4(new hr().makeRotationFromEuler(n)),this._lineGeometry.translate(t.x,t.y,t.z),this._distanceLine.computeLineDistances(),this._translation=t}setTranslation(e){this._lineGeometry.translate(-this._translation.x+e.x,-this._translation.y+e.y,-this._translation.z+e.z),this._translation=e}setEulerOrientation(e){this._lineGeometry.setFromPoints(this._pointsInModelCoor),this._lineGeometry.applyMatrix4(new hr().makeRotationFromEuler(e)),this._lineGeometry.translate(this._translation.x,this._translation.y,this._translation.z),this._distanceLine.computeLineDistances()}set opacity(e){this._lineMaterial.opacity=e}show(){this._distanceLine.visible=!0}hide(){this._distanceLine.visible=!1}reset(){this._pointsInModelCoor.length=0,this._lineGeometry.setFromPoints(this._pointsInModelCoor),this._distanceLine.removeFromParent()}}class TMe{constructor(e,t,n,r,o){this._sceneLineElement=new EMe,this._numVisiblePoints=0,this._isHidden=!1;const s=t.distanceTo(n),a=new Xe().addVectors(t.positionInSceneCoor,n.positionInSceneCoor).multiplyScalar(.5),l=new Xe().addVectors(t.normalInSceneCoor,n.normalInSceneCoor).multiplyScalar(.5);this._distanceAnnotation=new MMe(e,s,a,l,o),this._sceneLineElement.addPointInModelCoor(t.positionInModelCoor,r,o),this._sceneLineElement.addPointInModelCoor(n.positionInModelCoor,r,o);const c=new MutationObserver(this._handlePointVisibilityChanged.bind(this));c.observe(t.domElement,{attributes:!0}),c.observe(n.domElement,{attributes:!0}),this._numVisiblePoints=Number(t.domElement.hasAttribute("data-visible"))+Number(n.domElement.hasAttribute("data-visible"))}get distance(){return this._distanceAnnotation.distance}get sceneElement(){return this._sceneLineElement.lineElement}get annotationElement(){return this._distanceAnnotation.domElement}translate(e){this._sceneLineElement.setTranslation(e)}changeSceneOrientation(e){this._sceneLineElement.setEulerOrientation(e),this._distanceAnnotation.updatePosition(e)}show(){this._sceneLineElement.show(),this._distanceAnnotation.show(),this._isHidden=!1,this._updateAnnotationVisibility()}hide(){this._isHidden=!0,this._distanceAnnotation.hide(),this._sceneLineElement.hide()}reset(){this._sceneLineElement.reset(),this._distanceAnnotation.delete()}_handlePointVisibilityChanged(e){for(const t of e)if(t.type==="attributes"&&t.attributeName==="data-visible"){const n=t.target;this._numVisiblePoints+=n.hasAttribute("data-visible")?1:-1}this._isHidden||this._updateAnnotationVisibility()}_updateAnnotationVisibility(){this._numVisiblePoints<=0?(this._distanceAnnotation.hide(),this._sceneLineElement.opacity=.25):(this._distanceAnnotation.show(),this._sceneLineElement.opacity=1)}}class Wne extends Qg.EventEmitter{constructor(e,t,n){super();const r=new hr().makeRotationFromEuler(n).invert();this._positionInSceneCoor=e,this._positionInModelCoor=this._positionInSceneCoor.clone().applyMatrix4(r),this._normalInSceneCoor=t,this._normalInModelCoor=this._normalInSceneCoor.clone().applyMatrix4(r),this._domElement=document.createElement("button"),this._domElement.dataset.visibilityAttribute="visible",this._domElement.style.display="block",this._domElement.dataset.position=this.positionInSceneCoorAsString,this._domElement.dataset.normal=this.normalInSceneCoorAsString,this._domElement.addEventListener("focus",this._handleFocusChanged.bind(this)),this._domElement.addEventListener("blur",this._handleFocusChanged.bind(this))}get domElement(){return this._domElement}get positionInModelCoor(){return this._positionInModelCoor}get positionInSceneCoor(){return this._positionInSceneCoor}get normalInSceneCoor(){return this._normalInSceneCoor}get positionInSceneCoorAsString(){return`${this._positionInSceneCoor.x}m ${this._positionInSceneCoor.y}m ${this._positionInSceneCoor.z}m`}get normalInSceneCoorAsString(){return`${this._normalInSceneCoor.x}m ${this._normalInSceneCoor.y}m ${this._normalInSceneCoor.z}m`}updatePosition(e){this._positionInSceneCoor=this._positionInModelCoor.clone().applyEuler(e),this._normalInSceneCoor=this._normalInModelCoor.clone().applyEuler(e),this.domElement.dataset.position=this.positionInSceneCoorAsString,this.domElement.dataset.normal=this.normalInSceneCoorAsString,this.domElement.dispatchEvent(new Event("hotspot-position-changed"))}show(){this.domElement.style.display="block"}hide(){this.domElement.style.display="none"}delete(){var e;(e=this.domElement.parentNode)==null||e.removeChild(this.domElement)}_handleFocusChanged(e){this.emit("hotspot-focus-changed",e.type=="focus")}}class IMe extends Wne{constructor(e,t,n,r){super(t,n,r),this._domElement.slot="hotspot-measurementpoint"+e,this.domElement.classList.add("hotspot"),this.domElement.textContent=e.toString(),this.domElement.addEventListener("click",o=>{o.stopPropagation(),this.emit("hotspot-selected",this.positionInSceneCoor)})}set label(e){this.domElement.textContent=e}get label(){return this.domElement.textContent||""}distanceTo(e){return this.positionInModelCoor.distanceTo(e.positionInModelCoor)}}class MMe extends Wne{constructor(e,t,n,r,o){super(n,r,o),this._distance=0,this._distance=t,this._domElement.slot="hotspot-distance-annotation"+e,this.domElement.classList.add("annotation"),this.domElement.textContent=t.toFixed(1)+" mm"}get distance(){return this._distance}}class VP{constructor(e,t){this.projectRoot=e,this.imageType=t,this.skyBoxImage=null}resolve2dFileURL(e){return new Promise((t,n)=>{t(this.projectRoot+e+this.imageType)})}}var RMe=Object.defineProperty,kMe=Object.getOwnPropertyDescriptor,wh=(i,e,t,n)=>{for(var r,o=n>1?void 0:n?kMe(e,t):e,s=i.length-1;s>=0;s--)(r=i[s])&&(o=(n?r(e,t,o):r(o))||o);return n&&o&&RMe(e,t,o),o};let Yl=class extends Oc{constructor(){super(),this.isYupTransformApplied=!1,this.src3D="",this.src2D="",this.srcScanInformation="",this._scanInformation=new bMe,this._imageCamera=new yMe,this._syncSettings2DViewer=null,this._syncSettings3DViewer=null,this._viewerAspectRatio=1,this._viewModeIndex=2,this._isInit=!1,this._isColumnDir=!1,this._viewerSettings={imageRotation:new CMe,modelOrientation:new xMe,measurementTool:new SMe,environment3D:new BMe,viewer2DElement:null,viewer3DElement:null},this._viewerSettings.modelOrientation.on("model-orientation-changed",i=>this._imageCamera.setAdditionalRotation(i)),this._viewerSettings.environment3D.on("change-axes-mapping-requested",i=>{console.log("Setting new axes mapping"),this._imageCamera.setAxesRemapping(i)}),this._scanInformation.on("scanInformationExtracted",this._handleScanInformationExtracted.bind(this)),this._imageCamera.on("camera-parameters-changed",this._updateViewer.bind(this)),this._resizeObserver=new ResizeObserver(this._handleViewerResizeEvent.bind(this)),this.viewSettings==null&&(this.viewSettings=new VP(this.src2D,".png"))}render(){return Na`
      <div id="viewerBase">
        <viewer-3d
          id="viewer3D"
          src=${this.src3D}
          camera-controls
          disable-tap
          camera-orbit="0deg 90deg auto"
          max-camera-orbit="Infinity 157.5deg auto"
          min-camera-orbit="-Infinity 22.5deg auto"
          camera-target="0m 0m 0m"
          exposure="1.2"
          shadow-intensity="0"
          min-field-of-view="0deg"
          max-field-of-view="18deg"
          interaction-prompt="none"
          skybox-image="${this.viewSettings.skyBoxImage}"
          .measurementTool="${this._viewerSettings.measurementTool}"
          @fov-based-zoom-changed="${this._handleFovBasedZoomChanged}"
          @cam-orbit-angle-changed="${this._updateViewer}"
          @dblclick="${this._updateOneViewSyncMode}"
        >
        </viewer-3d>
        <viewer-2d
          id="viewer2D"
          src2D=${this.src2D}
          .measurementTool="${this._viewerSettings.measurementTool}"
          .viewSettings="${this.viewSettings}"
          @image-zoom-changed="${this._handleImageZoomChanged}"
          @image-shifted="${this._handleImageShifted}"
          @min-zoom-level-changed="${this._handleImageMinZoomLevelChanged}"
          @double-press="${this._updateOneViewSyncMode}"
          @pointer-move-in-disable-mode="${this._handlePointerMoveOnImageInDisableMode}"
          @double-press-completed="${this._updateOneViewSyncMode}"
        >
        </viewer-2d>
        <control-panel
          id="controls"
          ?isColumnMode=${this._isColumnDir}
          .viewerSettings="${this._viewerSettings}"
          @view-mode-changed="${this._handleViewModeChanged}"
        >
        </control-panel>
      </div>
    `}connectedCallback(){super.connectedCallback()}disconnectedCallback(){this._resizeObserver.disconnect(),super.disconnectedCallback()}firstUpdated(){if(this._resizeObserver.observe(this.viewerBase),this.viewer2DElement.connectWithSettings(this._viewerSettings),this.viewer3DElement.connectWithSettings(this._viewerSettings),this._viewerSettings.viewer2DElement=this.viewer2DElement,this._viewerSettings.viewer3DElement=this.viewer3DElement,this.loadMeasurement!==void 0){const i=this.src3D.split("/").slice(0,-1).join("/")+"/measurement.json";this._viewerSettings.measurementTool.loadMeasurement(i)}}updated(i){super.updated(i),i.has("srcScanInformation")&&(this._isInit=!1,this._scanInformation.readFromFile(this.srcScanInformation).then(()=>{this._scanInformation.isValid||alert("Invalid scan information file")})),i.has("isYupTransformApplied")&&this._imageCamera.setIsYupTransformApplied(this.isYupTransformApplied),i.has("src2D")&&this.viewSettings instanceof VP&&(this.viewSettings=new VP(this.src2D,".png"))}_handleViewModeChanged(i){if(this._viewModeIndex==i.detail.viewIndex)return;const e=this._viewModeIndex;this._viewModeIndex=i.detail.viewIndex,e==0&&(this._activateAndShow2DViewer(),this._updateViewerSize()),e!=2&&this._viewModeIndex!=2||this._changeSyncMode(),this._viewModeIndex==0&&this._updateViewerSize()}_handlePointerMoveOnImageInDisableMode(i){this._viewModeIndex>0||this.viewer3DElement.rotateModel(i.detail.dx,i.detail.dy)}_handleScanInformationExtracted(){this._imageCamera.init(this._scanInformation,this.isYupTransformApplied,this._viewerSettings.modelOrientation.eulerOrientationYXZInRad.angleInRad),this.viewer2DElement.setImageFiles(this._scanInformation.imageFiles),this.viewer3DElement.loaded&&this._updateViewer()}_activateAndShow2DViewer(){this.viewer2DElement.style.cursor="auto",this.viewer2DElement.style.opacity="1",this.viewer2DElement.style.zIndex="2",this.viewer2DElement.updatePointerEventsState(!1)}_deactivateAndHide2DViewer(){this.viewer2DElement.style.opacity="0",this.viewer2DElement.style.zIndex="0",this.viewer2DElement.updatePointerEventsState(!0),this.viewer2DElement.style.cursor="grabbing"}_updateOneViewSyncMode(){this._viewModeIndex>0||(this.viewer2DElement.style.opacity==="0"?this._activateAndShow2DViewer():this._deactivateAndHide2DViewer())}_handleViewerResizeEvent(){this._updateViewerSize()}_updateViewerSize(){if(this._viewModeIndex==0){if(this._viewerAspectRatio=this.viewerBase.offsetWidth/this.viewerBase.offsetHeight,this.viewer3DElement.resize(this.viewerBase.offsetHeight,this.viewerBase.offsetWidth),this.viewer2DElement.resize(this.viewerBase.offsetHeight,this.viewerBase.offsetWidth,"translate(0,0)"),this._syncSettings2DViewer==null||this._syncSettings3DViewer==null)return;const o=this._syncSettings2DViewer.imageAspectRatio/this._viewerAspectRatio,s=this._syncSettings3DViewer.fovInRad*o;return this.viewer3DElement.setReferenceFieldOfView(s,this._viewModeIndex<2),void this._synchronize3DViewer()}if(this._isColumnDir=this.viewerBase.offsetHeight>this.viewerBase.offsetWidth,this._syncSettings2DViewer!=null){const o=this._syncSettings2DViewer.imageAspectRatio*this.viewerBase.offsetHeight/this.viewerBase.offsetWidth;this._isColumnDir=o>1}let i=this.viewerBase.offsetWidth,e=.5*this.viewerBase.offsetHeight,t="translate(0,100%)";if(this._isColumnDir||(i=.5*this.viewerBase.offsetWidth,e=this.viewerBase.offsetHeight,t="translate(100%,0)"),this._viewerAspectRatio=i/e,this.viewer3DElement.resize(e,i),this.viewer2DElement.resize(e,i,t),this.requestUpdate(),this._syncSettings2DViewer==null||this._syncSettings3DViewer==null)return;const n=this._syncSettings2DViewer.imageAspectRatio/this._viewerAspectRatio,r=this._syncSettings3DViewer.fovInRad*n;this.viewer3DElement.setReferenceFieldOfView(r,!0),this._synchronize3DViewer()}_changeSyncMode(){this._viewModeIndex<2?(this.viewer3DElement.updateRadiusMode(!0),this._synchronize3DViewer(),this.viewer3DElement.disablePan=!0):(this.viewer3DElement.disablePan=!1,this.viewer3DElement.updateRadiusMode(!1),this.viewer3DElement.setViewerOffset(0,0))}_handleFovBasedZoomChanged(i){this._viewModeIndex!=2&&this.viewer2DElement.zoomImage(i.detail.zoomLevel)}_handleImageZoomChanged(i){this._viewModeIndex<2&&this.viewer3DElement.zoomTo(i.detail.zoomLevel)}_handleImageMinZoomLevelChanged(i){this.viewer3DElement.setMinZoomLevel(i.detail.zoomLevel)}_handleImageShifted(i){this._viewModeIndex<2&&this.viewer3DElement.setViewerOffset(i.detail.deltaX,i.detail.deltaY)}_updateViewer(){const i=this.viewer3DElement.getCamera();if([this._syncSettings2DViewer,this._syncSettings3DViewer]=this._imageCamera.getSyncSettingsOfNextBestImage(i),this._syncSettings2DViewer==null||this._syncSettings3DViewer==null)return;this._viewerSettings.imageRotation.autoRotationAngle=this._syncSettings2DViewer.rotationAngle;const e=this._syncSettings2DViewer.imageIdx;this.viewer2DElement.loadNextImage(e);const t=this._imageCamera.getImageSensor(e);t==null?console.log("There is no sensor to the image index ",e):this._viewerSettings.measurementTool.imageSensor=t,this._viewerSettings.measurementTool.imageCamOrientation=this._imageCamera.getCameraPose(e);const n=this._syncSettings2DViewer.imageAspectRatio/this._viewerAspectRatio,r=this._syncSettings3DViewer.fovInRad*n;this._isInit?this.viewer3DElement.setReferenceFieldOfView(r,this._viewModeIndex<2):(this.viewer3DElement.setReferenceFieldOfView(r,!0),this.viewer3DElement.setCameraOrbitPos(this._syncSettings3DViewer.orbitPos),this._updateViewerSize(),this._isInit=!0),this._viewModeIndex<2&&this._synchronize3DViewer()}_synchronize3DViewer(){this._syncSettings3DViewer!=null&&this._syncSettings2DViewer!=null&&(this.viewer3DElement.setCameraOrbitPos(this._syncSettings3DViewer.orbitPos),this.viewer3DElement.cameraTarget=this._syncSettings3DViewer.cameraTarget.toString(),this.viewer3DElement.zoomTo(this.viewer2DElement.getZoomLevel()))}};Yl.styles=qA`
    :host {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #viewerBase {
      position: relative;
      border: 2px solid blue;
      width: 100%;
      height: 100%;
      min-height: 480px;
      border: 0;
      background-color: lightgray;
    }

    #viewer2D {
      position: absolute;
      left: 0;
      right: 0;
      z-index: 2;
      opacity: 1;
    }

    #viewer3D {
      position: absolute;
      z-index: 1;
      overflow: hidden;
    }

    #controls {
      position: absolute;
      width: 100%;
      height: 100%;
      left: 0;
      right: 0;
      z-index: 5;
      pointer-events: none;
    }

    .hotspot {
      display: block;
      border-radius: 20px;
      border: none;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);
      box-sizing: border-box;
      cursor: pointer;
      transition: opacity 0.3s;
      position: relative;
      font-size: 12px;
      padding: 2px 6px;
    }

    .hotspot:not([data-visible]) {
      background: transparent;
      border: 3px solid #fff;
      box-shadow: none;
      pointer-events: none;
    }

    .hotspot:focus {
      border: 3px solid rgb(0, 128, 200);
      outline: none;
    }

    .hotspot > * {
      opacity: 1;
    }

    .annotation {
      background: rgba(0, 0, 0, 0.75);
      color: rgba(255, 255, 255);
      border-radius: 5px;
      border: 0;
      box-shadow: 0;
      width: max-content;
      padding: 0.25em 0.5em;
    }
  `,wh([Zn({type:Boolean})],Yl.prototype,"isYupTransformApplied",2),wh([Zn()],Yl.prototype,"src3D",2),wh([Zn()],Yl.prototype,"src2D",2),wh([Zn()],Yl.prototype,"srcScanInformation",2),wh([Zn()],Yl.prototype,"loadMeasurement",2),wh([Zn({type:Object})],Yl.prototype,"viewSettings",2),wh([OA("#viewerBase")],Yl.prototype,"viewerBase",2),wh([OA("#viewer3D")],Yl.prototype,"viewer3DElement",2),wh([OA("#viewer2D")],Yl.prototype,"viewer2DElement",2),wh([OA("#controls")],Yl.prototype,"controlsElement",2),Yl=wh([WA("photogrammetry-viewer")],Yl);var RK,FMe=yw.div(RK||(RK=xS([`
  text-align: center;
  position: relative;
  margin: auto;
  width: 100%;
  padding: 1em;

  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`],[`
  text-align: center;
  position: relative;
  margin: auto;
  width: 100%;
  padding: 1em;

  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`]))),DMe={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function TI(i){var e=function(t){if(typeof t=="number")return{value:t,unit:"px"};var n,r=(t.match(/^[0-9.]*/)||"").toString();n=r.includes(".")?parseFloat(r):parseInt(r,10);var o=(t.match(/[^0-9]*$/)||"").toString();return DMe[o]?{value:n,unit:o}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(n,"px.")),{value:n,unit:"px"})}(i);return"".concat(e.value).concat(e.unit)}var wR=function(){return wR=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i},wR.apply(this,arguments)},UMe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t},PMe=function(i,e,t){var n="react-spinners-".concat(i,"-").concat(t);if(typeof window>"u"||!window.document)return n;var r=document.createElement("style");document.head.appendChild(r);var o=r.sheet,s=`
    @keyframes `.concat(n,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(s,0),n}("BounceLoader","0% {transform: scale(0)} 50% {transform: scale(1.0)} 100% {transform: scale(0)}","bounce");function LMe(i){var e=i.loading,t=e===void 0||e,n=i.color,r=n===void 0?"#000000":n,o=i.speedMultiplier,s=o===void 0?1:o,a=i.cssOverride,l=a===void 0?{}:a,c=i.size,u=c===void 0?60:c,h=UMe(i,["loading","color","speedMultiplier","cssOverride","size"]),d=function(g){var v=g===1?"".concat(1/s,"s"):"0s";return{position:"absolute",height:TI(u),width:TI(u),backgroundColor:r,borderRadius:"100%",opacity:.6,top:0,left:0,animationFillMode:"both",animation:"".concat(PMe," ").concat(2.1/s,"s ").concat(v," infinite ease-in-out")}},p=wR({display:"inherit",position:"relative",width:TI(u),height:TI(u)},l);return t?ne.createElement("span",wR({style:p},h),ne.createElement("span",{style:d(1)}),ne.createElement("span",{style:d(2)})):null}var kK,jne=function(i){return _e.createElement(FMe,null,_e.createElement(LMe,{color:"#32cd32"}),_e.createElement("p",null,i.statusMessage))},qP=yw.div(kK||(kK=xS([`
  text-align: center;
  position: relative;
  margin: auto;
  padding: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;

  background-color: #f1f1f1;
  color: #333;

  @media (prefers-color-scheme: dark) {
    background-color: #333;
    color: #fff;
  }
`],[`
  text-align: center;
  position: relative;
  margin: auto;
  padding: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;

  background-color: #f1f1f1;
  color: #333;

  @media (prefers-color-scheme: dark) {
    background-color: #333;
    color: #fff;
  }
`]))),eB=1,nQ=65535,FK=setInterval(function(){eB=eB+1&nQ},250);FK.unref&&FK.unref();class OMe{constructor(e,t=1e3){this.length=parseInt(e,10)||0,this.transferred=0,this.speed=0,this.streamSpeed=function(n){var r=4*n,o=[0],s=1,a=eB-1&nQ;return function(l){var c=eB-a&nQ;for(c>r&&(c=r),a=eB;c--;)s===r&&(s=0),o[s]=o[s===0?r-1:s-1],s++;l&&(o[s-1]+=l);var u=o[s-1],h=o.length<r?0:o[s===r?0:s];return o.length<4?u:4*(u-h)/o.length}}(this.speed||5e3),this.initial=!1,this.emitDelay=t,this.eventStart=0,this.percentage=0}getRemainingBytes(){return parseInt(this.length,10)-parseInt(this.transferred,10)}getEta(){return this.length>=this.transferred?this.getRemainingBytes()/this.speed*1e9:0}flow(e,t){const n=e.length;if(this.transferred+=n,this.speed=this.streamSpeed(n),this.percentage=Math.round(this.transferred/this.length*100),this.initial||(this.eventStart=Date.now(),this.initial=!0),this.length>=this.transferred||Date.now()-this.eventStart>this.emitDelay){this.eventStart=Date.now();const r={total:this.length,transferred:this.transferred,speed:this.speed,eta:this.getEta()};this.length&&(r.remaining=this.getRemainingBytes(),r.percentage=this.percentage),t(r)}}}function QMe({defaultSize:i=0,emitDelay:e=10,onProgress:t=()=>null,onComplete:n=()=>null,onError:r=()=>null}){return function(o){if(typeof Response>"u"||typeof ReadableStream>"u")return o;const{body:s,headers:a,status:l}=o,c=a.get("content-length")||i,u=new OMe(c,e),h=s.getReader(),d=new ReadableStream({start(p){(function g(){h.read().then(({done:v,value:_})=>{if(v)return n({}),void p.close();_&&u.flow(_,t),p.enqueue(_),g()}).catch(v=>{r(v)})})()}});return new Response(d,{headers:a,status:l})}}function NMe(i,e){var t=this;return caches.open("photogrammetry-viewer-cache").then(function(n){return n.match(i).then(function(r){return r?(console.log("Using cached response for "+i),r):fetch(i).then(QMe(e)).then(function(o){return ku(t,void 0,void 0,function(){var s;return Fu(this,function(a){switch(a.label){case 0:if(!i.startsWith("http:")&&!i.startsWith("https:"))return[3,4];console.info("Caching response for "+i),o.headers.append("cached-time",Date.now().toString()),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.put(i,o.clone())];case 2:return a.sent(),[3,4];case 3:return s=a.sent(),console.error("Error caching response for ".concat(i,":"),s),[3,4];case 4:return[2,o]}})})})})})}function Kne(i){return i.arrayBuffer?i.arrayBuffer():new Promise((e,t)=>{const n=new FileReader;n.addEventListener("loadend",()=>{e(n.result)}),n.addEventListener("error",t),n.readAsArrayBuffer(i)})}async function HMe(i){const e=await Kne(i);return new Uint8Array(e)}function $ne(i){return typeof Blob<"u"&&i instanceof Blob}function rS(i){return typeof SharedArrayBuffer<"u"&&i instanceof SharedArrayBuffer}const zMe=typeof process<"u"&&process.versions&&process.versions.node!==void 0&&process.versions.electron===void 0;class DK{constructor(e){this.typedArray=e instanceof ArrayBuffer||rS(e)?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}async getLength(){return this.typedArray.byteLength}async read(e,t){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+e,t)}}class UK{constructor(e){this.blob=e}async getLength(){return this.blob.size}async read(e,t){const n=this.blob.slice(e,e+t),r=await Kne(n);return new Uint8Array(r)}async sliceAsBlob(e,t,n=""){return this.blob.slice(e,e+t,n)}}function WP(i,e){var t=i.length;if(e<=t)return i;var n=new Uint8Array(Math.max(t<<1,e));return n.set(i,0),n}function GMe(i,e,t,n,r,o){for(var s=Xne,a=Yne,l=0;l<t;){var c=i[a(n,r)&e];r+=15&c;var u=c>>>4;if(u<=15)o[l]=u,l++;else{var h=0,d=0;u==16?(d=3+s(n,r,2),r+=2,h=o[l-1]):u==17?(d=3+s(n,r,3),r+=3):u==18&&(d=11+s(n,r,7),r+=7);for(var p=l+d;l<p;)o[l]=h,l++}}return r}function PK(i,e,t,n){for(var r=0,o=0,s=n.length>>>1;o<t;){var a=i[o+e];n[o<<1]=0,n[1+(o<<1)]=a,a>r&&(r=a),o++}for(;o<s;)n[o<<1]=0,n[1+(o<<1)]=0,o++;return r}function tB(i,e){for(var t,n,r,o,s=i.length,a=ii.bl_count,l=0;l<=e;l++)a[l]=0;for(l=1;l<s;l+=2)a[i[l]]++;var c=ii.next_code;for(t=0,a[0]=0,n=1;n<=e;n++)t=t+a[n-1]<<1,c[n]=t;for(r=0;r<s;r+=2)(o=i[r+1])!=0&&(i[r]=c[o],c[o]++)}function iB(i,e,t){for(var n=i.length,r=ii.rev15,o=0;o<n;o+=2)if(i[o+1]!=0)for(var s=o>>1,a=i[o+1],l=s<<4|a,c=e-a,u=i[o]<<c,h=u+(1<<c);u!=h;)t[r[u]>>>15-e]=l,u++}function LK(i,e){for(var t=ii.rev15,n=15-e,r=0;r<i.length;r+=2){var o=i[r]<<e-i[r+1];i[r]=t[o]>>>n}}function Xne(i,e,t){return(i[e>>>3]|i[1+(e>>>3)]<<8)>>>(7&e)&(1<<t)-1}function VMe(i,e,t){return(i[e>>>3]|i[1+(e>>>3)]<<8|i[2+(e>>>3)]<<16)>>>(7&e)&(1<<t)-1}function Yne(i,e){return(i[e>>>3]|i[1+(e>>>3)]<<8|i[2+(e>>>3)]<<16)>>>(7&e)}const ii=(mu=Uint16Array,jb=Uint32Array,{next_code:new mu(16),bl_count:new mu(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new mu(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new jb(32),flmap:new mu(512),fltree:[],fdmap:new mu(32),fdtree:[],lmap:new mu(32768),ltree:[],ttree:[],dmap:new mu(32768),dtree:[],imap:new mu(512),itree:[],rev15:new mu(32768),lhst:new jb(286),dhst:new jb(30),ihst:new jb(19),lits:new jb(15e3),strt:new mu(65536),prev:new mu(32768)});var mu,jb;function qMe(i,e){return function(t,n){var r=Uint8Array;if(t[0]==3&&t[1]==0)return n||new r(0);var o=VMe,s=Xne,a=GMe,l=Yne,c=n==null;c&&(n=new r(t.length>>>2<<3));for(var u,h,d=0,p=0,g=0,v=0,_=0,b=0,x=0,C=0,S=0;d==0;)if(d=o(t,S,1),p=o(t,S+1,2),S+=3,p!=0){if(c&&(n=WP(n,C+(1<<17))),p==1&&(u=ii.flmap,h=ii.fdmap,b=511,x=31),p==2){g=s(t,S,5)+257,v=s(t,S+5,5)+1,_=s(t,S+10,4)+4,S+=14;for(var E=0;E<38;E+=2)ii.itree[E]=0,ii.itree[E+1]=0;var I=1;for(E=0;E<_;E++){var M=s(t,S+3*E,3);ii.itree[1+(ii.ordr[E]<<1)]=M,M>I&&(I=M)}S+=3*_,tB(ii.itree,I),iB(ii.itree,I,ii.imap),u=ii.lmap,h=ii.dmap,S=a(ii.imap,(1<<I)-1,g+v,t,S,ii.ttree);var k=PK(ii.ttree,0,g,ii.ltree);b=(1<<k)-1;var F=PK(ii.ttree,g,v,ii.dtree);x=(1<<F)-1,tB(ii.ltree,k),iB(ii.ltree,k,u),tB(ii.dtree,F),iB(ii.dtree,F,h)}for(;;){var P=u[l(t,S)&b];S+=15&P;var Q=P>>>4;if(!(Q>>>8))n[C++]=Q;else{if(Q==256)break;var N=C+Q-254;if(Q>264){var W=ii.ldef[Q-257];N=C+(W>>>3)+s(t,S,7&W),S+=7&W}var q=h[l(t,S)&x];S+=15&q;var J=q>>>4,V=ii.ddef[J],Y=(V>>>4)+o(t,S,15&V);for(S+=15&V,c&&(n=WP(n,C+(1<<17)));C<N;)n[C]=n[C++-Y],n[C]=n[C++-Y],n[C]=n[C++-Y],n[C]=n[C++-Y];C=N}}}else{7&S&&(S+=8-(7&S));var Z=4+(S>>>3),ue=t[Z-4]|t[Z-3]<<8;c&&(n=WP(n,C+ue)),n.set(new r(t.buffer,t.byteOffset+Z,ue),C),S=Z+ue<<3,C+=ue}return n.length==C?n:n.slice(0,C)}(i,e)}(function(){for(var i=0;i<32768;i++){var e=i;e=(4278255360&(e=(4042322160&(e=(3435973836&(e=(2863311530&e)>>>1|(1431655765&e)<<1))>>>2|(858993459&e)<<2))>>>4|(252645135&e)<<4))>>>8|(16711935&e)<<8,ii.rev15[i]=(e>>>16|e<<16)>>>17}function t(n,r,o){for(;r--!=0;)n.push(0,o)}for(i=0;i<32;i++)ii.ldef[i]=ii.of0[i]<<3|ii.exb[i],ii.ddef[i]=ii.df0[i]<<4|ii.dxb[i];t(ii.fltree,144,8),t(ii.fltree,112,9),t(ii.fltree,24,7),t(ii.fltree,8,8),tB(ii.fltree,9),iB(ii.fltree,9,ii.flmap),LK(ii.fltree,9),t(ii.fdtree,32,5),tB(ii.fdtree,5),iB(ii.fdtree,5,ii.fdmap),LK(ii.fdtree,5),t(ii.itree,19,0),t(ii.ltree,286,0),t(ii.dtree,30,0),t(ii.ttree,320,0)})(),function(){for(var i=new Uint32Array(256),e=0;e<256;e++){for(var t=e,n=0;n<8;n++)1&t?t=3988292384^t>>>1:t>>>=1;i[e]=t}}();const OK={numWorkers:1,workerURL:"",useWorkers:!1};let WMe=0;const II=[];function jP(i){return new Promise((e,t)=>{const n=new Worker(i);n.onmessage=r=>{r.data==="start"?(n.onerror=void 0,n.onmessage=void 0,e(n)):t(new Error(`unexpected message: ${r.data}`))},n.onerror=t})}function jMe(i,e,t,n){const r=new Uint8Array(e);qMe(i,r),n(t?new Blob([r],{type:t}):r.buffer)}function QK(i,e,t){return new Promise((n,r)=>{II.push({src:i,uncompressedSize:e,type:t,resolve:n,reject:r,id:WMe++}),async function(){if(II.length!==0)for(;II.length;){const{src:o,uncompressedSize:s,type:a,resolve:l}=II.shift();let c=o;$ne(o)&&(c=await HMe(o)),jMe(c,s,a,l)}}()})}(function(){if(zMe){const{Worker:t}=(i=module,e="worker_threads",i.require?i.require(e):{});return{createWorker:async n=>new t(n),addEventListener(n,r){n.on("message",o=>{r({target:n,data:o})})},async terminate(n){await n.terminate()}}}return{async createWorker(t){try{return await jP(t)}catch{console.warn("could not load worker:",t)}let n;try{const r=await fetch(t,{mode:"cors"});if(!r.ok)throw new Error(`could not load: ${t}`);n=await r.text(),t=URL.createObjectURL(new Blob([n],{type:"application/javascript"}));const o=await jP(t);return OK.workerURL=t,o}catch{console.warn("could not load worker via fetch:",t)}if(n!==void 0)try{t=`data:application/javascript;base64,${btoa(n)}`;const r=await jP(t);return OK.workerURL=t,r}catch{console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")},addEventListener(t,n){t.addEventListener("message",n)},async terminate(t){t.terminate()}};var i,e})();class KMe{constructor(e,t){var n,r;this._reader=e,this._rawEntry=t,this.name=t.name,this.nameBytes=t.nameBytes,this.size=t.uncompressedSize,this.compressedSize=t.compressedSize,this.comment=t.comment,this.commentBytes=t.commentBytes,this.compressionMethod=t.compressionMethod,this.lastModDate=(n=t.lastModFileDate,r=t.lastModFileTime,new Date(1980+(n>>9&127),(n>>5&15)-1,31&n,r>>11&31,r>>5&63,2*(31&r),0)),this.isDirectory=t.uncompressedSize===0&&t.name.endsWith("/"),this.encrypted=!!(1&t.generalPurposeBitFlag),this.externalFileAttributes=t.externalFileAttributes,this.versionMadeBy=t.versionMadeBy}async blob(e="application/octet-stream"){return await async function(t,n,r){const{decompress:o,fileDataStart:s}=await NK(t,n);if(!o){const c=await KP(t,s,n.compressedSize,r);return $ne(c)?c:new Blob([rS(c.buffer)?new Uint8Array(c):c],{type:r})}const a=await KP(t,s,n.compressedSize);return await QK(a,n.uncompressedSize,r)}(this._reader,this._rawEntry,e)}async arrayBuffer(){return await async function(e,t){const{decompress:n,fileDataStart:r}=await NK(e,t);if(!n){const a=await uw(e,r,t.compressedSize);return(o=a).byteOffset===0&&o.byteLength===o.buffer.byteLength?a.buffer:a.slice().buffer}var o;const s=await KP(e,r,t.compressedSize);return await QK(s,t.uncompressedSize)}(this._reader,this._rawEntry)}async text(){const e=await this.arrayBuffer();return nB(new Uint8Array(e))}async json(){const e=await this.text();return JSON.parse(e)}}async function uw(i,e,t){return await i.read(e,t)}async function KP(i,e,t,n){return i.sliceAsBlob?await i.sliceAsBlob(e,t,n):await i.read(e,t)}const $Me={unsigned:()=>0};function ea(i,e){return i[e]+256*i[e+1]}function wl(i,e){return i[e]+256*i[e+1]+65536*i[e+2]+16777216*i[e+3]}function G_(i,e){return wl(i,e)+4294967296*wl(i,e+4)}const XMe=new TextDecoder;function nB(i,e){return rS(i.buffer)&&(i=new Uint8Array(i)),XMe.decode(i)}const YMe=117853008;async function ZMe(i,e,t,n){const r=e-20,o=await uw(i,r,20);if(wl(o,0)!==YMe)throw new Error("invalid zip64 end of central directory locator signature");const s=G_(o,8),a=await uw(i,s,56);if(wl(a,0)!==101075792)throw new Error("invalid zip64 end of central directory record signature");const l=G_(a,32),c=G_(a,40);return Zne(i,G_(a,48),c,l,t,n)}const JMe=33639248;async function Zne(i,e,t,n,r,o){let s=0;const a=await uw(i,e,t),l=[];for(let c=0;c<n;++c){const u=a.subarray(s,s+46),h=wl(u,0);if(h!==JMe)throw new Error(`invalid central directory file header signature: 0x${h.toString(16)}`);const d={versionMadeBy:ea(u,4),versionNeededToExtract:ea(u,6),generalPurposeBitFlag:ea(u,8),compressionMethod:ea(u,10),lastModFileTime:ea(u,12),lastModFileDate:ea(u,14),crc32:wl(u,16),compressedSize:wl(u,20),uncompressedSize:wl(u,24),fileNameLength:ea(u,28),extraFieldLength:ea(u,30),fileCommentLength:ea(u,32),internalFileAttributes:ea(u,36),externalFileAttributes:wl(u,38),relativeOffsetOfLocalHeader:wl(u,42)};if(64&d.generalPurposeBitFlag)throw new Error("strong encryption is not supported");s+=46;const p=a.subarray(s,s+d.fileNameLength+d.extraFieldLength+d.fileCommentLength);d.nameBytes=p.slice(0,d.fileNameLength),d.name=nB(d.nameBytes);const g=d.fileNameLength+d.extraFieldLength,v=p.slice(d.fileNameLength,g);d.extraFields=[];let _=0;for(;_<v.length-3;){const x=ea(v,_+0),C=_+4,S=C+ea(v,_+2);if(S>v.length)throw new Error("extra field length exceeds extra field buffer size");d.extraFields.push({id:x,data:v.slice(C,S)}),_=S}if(d.commentBytes=p.slice(g,g+d.fileCommentLength),d.comment=nB(d.commentBytes),s+=p.length,d.uncompressedSize===4294967295||d.compressedSize===4294967295||d.relativeOffsetOfLocalHeader===4294967295){const x=d.extraFields.find(E=>E.id===1);if(!x)throw new Error("expected zip64 extended information extra field");const C=x.data;let S=0;if(d.uncompressedSize===4294967295){if(S+8>C.length)throw new Error("zip64 extended information extra field does not include uncompressed size");d.uncompressedSize=G_(C,S),S+=8}if(d.compressedSize===4294967295){if(S+8>C.length)throw new Error("zip64 extended information extra field does not include compressed size");d.compressedSize=G_(C,S),S+=8}if(d.relativeOffsetOfLocalHeader===4294967295){if(S+8>C.length)throw new Error("zip64 extended information extra field does not include relative header offset");d.relativeOffsetOfLocalHeader=G_(C,S),S+=8}}const b=d.extraFields.find(x=>x.id===28789&&x.data.length>=6&&x.data[0]===1&&wl(x.data,1),$Me.unsigned(d.nameBytes));if(b&&(d.fileName=nB(b.data.slice(5))),d.compressionMethod===0){let x=d.uncompressedSize;if(1&d.generalPurposeBitFlag&&(x+=12),d.compressedSize!==x)throw new Error(`compressed size mismatch for stored file: ${d.compressedSize} != ${x}`)}l.push(d)}return{zip:{comment:r,commentBytes:o},entries:l.map(c=>new KMe(i,c))}}async function NK(i,e){if(1&e.generalPurposeBitFlag)throw new Error("encrypted entries not supported");const t=await uw(i,e.relativeOffsetOfLocalHeader,30),n=await i.getLength(),r=wl(t,0);if(r!==67324752)throw new Error(`invalid local file header signature: 0x${r.toString(16)}`);const o=ea(t,26),s=ea(t,28),a=e.relativeOffsetOfLocalHeader+t.length+o+s;let l;if(e.compressionMethod===0)l=!1;else{if(e.compressionMethod!==8)throw new Error(`unsupported compression method: ${e.compressionMethod}`);l=!0}const c=a,u=c+e.compressedSize;if(e.compressedSize!==0&&u>n)throw new Error(`file data overflows file bounds: ${c} +  ${e.compressedSize}  > ${n}`);return{decompress:l,fileDataStart:c}}async function e5e(i){let e;if(typeof Blob<"u"&&i instanceof Blob)e=new UK(i);else if(i instanceof ArrayBuffer||i&&i.buffer&&i.buffer instanceof ArrayBuffer)e=new DK(i);else if(rS(i)||rS(i.buffer))e=new DK(i);else if(typeof i=="string"){const n=await fetch(i);if(!n.ok)throw new Error(`failed http request ${i}, status: ${n.status}: ${n.statusText}`);const r=await n.blob();e=new UK(r)}else{if(typeof i.getLength!="function"||typeof i.read!="function")throw new Error("unsupported source type");e=i}const t=await e.getLength();if(t>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${t}. Only file sizes up 4503599627370496 bytes are supported`);return await async function(n,r){const o=Math.min(65557,r),s=r-o,a=await uw(n,s,o);for(let l=o-22;l>=0;--l){if(wl(a,l)!==101010256)continue;const c=new Uint8Array(a.buffer,a.byteOffset+l,a.byteLength-l),u=ea(c,4);if(u!==0)throw new Error(`multi-volume zip files are not supported. This is volume: ${u}`);const h=ea(c,10),d=wl(c,12),p=wl(c,16),g=ea(c,20),v=c.length-22;if(g!==v)throw new Error(`invalid comment length. expected: ${v}, actual: ${g}`);const _=new Uint8Array(c.buffer,c.byteOffset+22,g),b=nB(_);return h===65535||p===4294967295?await ZMe(n,s+l,b,_):await Zne(n,p,d,h,b,_)}throw new Error("could not find end of central directory. maybe not zip file")}(e,t)}async function t5e(i){const{zip:e,entries:t}=await e5e(i);return{zip:e,entries:Object.fromEntries(t.map(n=>[n.name,n]))}}var i5e=function(){function i(){this.zipInfo=null}return i.prototype.getFileList=function(){return ku(this,void 0,void 0,function(){return Fu(this,function(e){if(this.zipInfo==null)throw new Error("Zip file not initialized");return[2,Object.keys(this.zipInfo.entries)]})})},i.create=function(e){return ku(this,void 0,void 0,function(){var t,n;return Fu(this,function(r){switch(r.label){case 0:return t=new i,n=t,[4,t5e(e)];case 1:return n.zipInfo=r.sent(),[2,t]}})})},i.prototype.getFileAsObjectURL=function(e){return ku(this,void 0,void 0,function(){var t,n;return Fu(this,function(r){switch(r.label){case 0:if(this.zipInfo==null)throw new Error("Zip file not initialized");return n=(t=URL).createObjectURL,[4,this.zipInfo.entries[e].blob()];case 1:return[2,n.apply(t,[r.sent()])]}})})},i}(),n5e=Object.defineProperty,wu=(i,e,t)=>((n,r,o)=>r in n?n5e(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o)(i,typeof e!="symbol"?e+"":e,t);function Mw(i){let e=i.length;for(;--e>=0;)i[e]=0}Mw(new Array(576));Mw(new Array(60));Mw(new Array(512));Mw(new Array(256));Mw(new Array(29));Mw(new Array(30));var rQ=(i,e,t,n)=>{let r=65535&i,o=i>>>16&65535,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do r=r+e[n++]|0,o=o+r|0;while(--s);r%=65521,o%=65521}return r|o<<16};const r5e=new Uint32Array((()=>{let i,e=[];for(var t=0;t<256;t++){i=t;for(var n=0;n<8;n++)i=1&i?3988292384^i>>>1:i>>>1;e[t]=i}return e})());var BA=(i,e,t,n)=>{const r=r5e,o=n+t;i^=-1;for(let s=n;s<o;s++)i=i>>>8^r[255&(i^e[s])];return~i},oQ={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Jne={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const o5e=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var s5e=function(i){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)o5e(t,n)&&(i[n]=t[n])}}return i},a5e=i=>{let e=0;for(let n=0,r=i.length;n<r;n++)e+=i[n].length;const t=new Uint8Array(e);for(let n=0,r=0,o=i.length;n<o;n++){let s=i[n];t.set(s,r),r+=s.length}return t};let ere=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ere=!1}const oS=new Uint8Array(256);for(let i=0;i<256;i++)oS[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;oS[254]=oS[254]=1;var l5e=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let e,t,n,r,o,s=i.length,a=0;for(r=0;r<s;r++)t=i.charCodeAt(r),(64512&t)==55296&&r+1<s&&(n=i.charCodeAt(r+1),(64512&n)==56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),o=0,r=0;o<a;r++)t=i.charCodeAt(r),(64512&t)==55296&&r+1<s&&(n=i.charCodeAt(r+1),(64512&n)==56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|63&t):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|63&t):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|63&t);return e},c5e=(i,e)=>{const t=e||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,e));let n,r;const o=new Array(2*t);for(r=0,n=0;n<t;){let s=i[n++];if(s<128){o[r++]=s;continue}let a=oS[s];if(a>4)o[r++]=65533,n+=a-1;else{for(s&=a===2?31:a===3?15:7;a>1&&n<t;)s=s<<6|63&i[n++],a--;a>1?o[r++]=65533:s<65536?o[r++]=s:(s-=65536,o[r++]=55296|s>>10&1023,o[r++]=56320|1023&s)}}return((s,a)=>{if(a<65534&&s.subarray&&ere)return String.fromCharCode.apply(null,s.length===a?s:s.subarray(0,a));let l="";for(let c=0;c<a;c++)l+=String.fromCharCode(s[c]);return l})(o,r)},u5e=(i,e)=>{(e=e||i.length)>i.length&&(e=i.length);let t=e-1;for(;t>=0&&(192&i[t])==128;)t--;return t<0||t===0?e:t+oS[i[t]]>e?t:e},h5e=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const MI=16209;var A5e=function(i,e){let t,n,r,o,s,a,l,c,u,h,d,p,g,v,_,b,x,C,S,E,I,M,k,F;const P=i.state;t=i.next_in,k=i.input,n=t+(i.avail_in-5),r=i.next_out,F=i.output,o=r-(e-i.avail_out),s=r+(i.avail_out-257),a=P.dmax,l=P.wsize,c=P.whave,u=P.wnext,h=P.window,d=P.hold,p=P.bits,g=P.lencode,v=P.distcode,_=(1<<P.lenbits)-1,b=(1<<P.distbits)-1;e:do{p<15&&(d+=k[t++]<<p,p+=8,d+=k[t++]<<p,p+=8),x=g[d&_];t:for(;;){if(C=x>>>24,d>>>=C,p-=C,C=x>>>16&255,C===0)F[r++]=65535&x;else{if(!(16&C)){if(64&C){if(32&C){P.mode=16191;break e}i.msg="invalid literal/length code",P.mode=MI;break e}x=g[(65535&x)+(d&(1<<C)-1)];continue t}for(S=65535&x,C&=15,C&&(p<C&&(d+=k[t++]<<p,p+=8),S+=d&(1<<C)-1,d>>>=C,p-=C),p<15&&(d+=k[t++]<<p,p+=8,d+=k[t++]<<p,p+=8),x=v[d&b];;){if(C=x>>>24,d>>>=C,p-=C,C=x>>>16&255,16&C){if(E=65535&x,C&=15,p<C&&(d+=k[t++]<<p,p+=8,p<C&&(d+=k[t++]<<p,p+=8)),E+=d&(1<<C)-1,E>a){i.msg="invalid distance too far back",P.mode=MI;break e}if(d>>>=C,p-=C,C=r-o,E>C){if(C=E-C,C>c&&P.sane){i.msg="invalid distance too far back",P.mode=MI;break e}if(I=0,M=h,u===0){if(I+=l-C,C<S){S-=C;do F[r++]=h[I++];while(--C);I=r-E,M=F}}else if(u<C){if(I+=l+u-C,C-=u,C<S){S-=C;do F[r++]=h[I++];while(--C);if(I=0,u<S){C=u,S-=C;do F[r++]=h[I++];while(--C);I=r-E,M=F}}}else if(I+=u-C,C<S){S-=C;do F[r++]=h[I++];while(--C);I=r-E,M=F}for(;S>2;)F[r++]=M[I++],F[r++]=M[I++],F[r++]=M[I++],S-=3;S&&(F[r++]=M[I++],S>1&&(F[r++]=M[I++]))}else{I=r-E;do F[r++]=F[I++],F[r++]=F[I++],F[r++]=F[I++],S-=3;while(S>2);S&&(F[r++]=F[I++],S>1&&(F[r++]=F[I++]))}break}if(64&C){i.msg="invalid distance code",P.mode=MI;break e}x=v[(65535&x)+(d&(1<<C)-1)]}}break}}while(t<n&&r<s);S=p>>3,t-=S,p-=S<<3,d&=(1<<p)-1,i.next_in=t,i.next_out=r,i.avail_in=t<n?n-t+5:5-(t-n),i.avail_out=r<s?s-r+257:257-(r-s),P.hold=d,P.bits=p};const RI=15,d5e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),p5e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),f5e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),g5e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var rB=(i,e,t,n,r,o,s,a)=>{const l=a.bits;let c,u,h,d,p,g,v=0,_=0,b=0,x=0,C=0,S=0,E=0,I=0,M=0,k=0,F=null;const P=new Uint16Array(16),Q=new Uint16Array(16);let N,W,q,J=null;for(v=0;v<=RI;v++)P[v]=0;for(_=0;_<n;_++)P[e[t+_]]++;for(C=l,x=RI;x>=1&&P[x]===0;x--);if(C>x&&(C=x),x===0)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(b=1;b<x&&P[b]===0;b++);for(C<b&&(C=b),I=1,v=1;v<=RI;v++)if(I<<=1,I-=P[v],I<0)return-1;if(I>0&&(i===0||x!==1))return-1;for(Q[1]=0,v=1;v<RI;v++)Q[v+1]=Q[v]+P[v];for(_=0;_<n;_++)e[t+_]!==0&&(s[Q[e[t+_]]++]=_);if(i===0?(F=J=s,g=20):i===1?(F=d5e,J=p5e,g=257):(F=f5e,J=g5e,g=0),k=0,_=0,v=b,p=o,S=C,E=0,h=-1,M=1<<C,d=M-1,i===1&&M>852||i===2&&M>592)return 1;for(;;){N=v-E,s[_]+1<g?(W=0,q=s[_]):s[_]>=g?(W=J[s[_]-g],q=F[s[_]-g]):(W=96,q=0),c=1<<v-E,u=1<<S,b=u;do u-=c,r[p+(k>>E)+u]=N<<24|W<<16|q;while(u!==0);for(c=1<<v-1;k&c;)c>>=1;if(c!==0?(k&=c-1,k+=c):k=0,_++,--P[v]==0){if(v===x)break;v=e[t+s[_]]}if(v>C&&(k&d)!==h){for(E===0&&(E=C),p+=b,S=v-E,I=1<<S;S+E<x&&(I-=P[S+E],!(I<=0));)S++,I<<=1;if(M+=1<<S,i===1&&M>852||i===2&&M>592)return 1;h=k&d,r[h]=C<<24|S<<16|p-o}}return k!==0&&(r[p+k]=v-E<<24|64<<16),a.bits=C,0};const{Z_FINISH:HK,Z_BLOCK:m5e,Z_TREES:kI,Z_OK:xv,Z_STREAM_END:_5e,Z_NEED_DICT:v5e,Z_STREAM_ERROR:Hh,Z_DATA_ERROR:tre,Z_MEM_ERROR:ire,Z_BUF_ERROR:b5e,Z_DEFLATED:zK}=Jne,tF=16180,xR=16190,ip=16191,$P=16192,XP=16194,FI=16199,DI=16200,YP=16206,Ir=16209,GK=i=>(i>>>24&255)+(i>>>8&65280)+((65280&i)<<8)+((255&i)<<24);function y5e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const kv=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.mode<tF||e.mode>16211?1:0},nre=i=>{if(kv(i))return Hh;const e=i.state;return i.total_in=i.total_out=e.total=0,i.msg="",e.wrap&&(i.adler=1&e.wrap),e.mode=tF,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,xv},rre=i=>{if(kv(i))return Hh;const e=i.state;return e.wsize=0,e.whave=0,e.wnext=0,nre(i)},ore=(i,e)=>{let t;if(kv(i))return Hh;const n=i.state;return e<0?(t=0,e=-e):(t=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Hh:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,rre(i))},sre=(i,e)=>{if(!i)return Hh;const t=new y5e;i.state=t,t.strm=i,t.window=null,t.mode=tF;const n=ore(i,e);return n!==xv&&(i.state=null),n};let ZP,JP,VK=!0;const w5e=i=>{if(VK){ZP=new Int32Array(512),JP=new Int32Array(32);let e=0;for(;e<144;)i.lens[e++]=8;for(;e<256;)i.lens[e++]=9;for(;e<280;)i.lens[e++]=7;for(;e<288;)i.lens[e++]=8;for(rB(1,i.lens,0,288,ZP,0,i.work,{bits:9}),e=0;e<32;)i.lens[e++]=5;rB(2,i.lens,0,32,JP,0,i.work,{bits:5}),VK=!1}i.lencode=ZP,i.lenbits=9,i.distcode=JP,i.distbits=5},are=(i,e,t,n)=>{let r;const o=i.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>n&&(r=n),o.window.set(e.subarray(t-n,t-n+r),o.wnext),(n-=r)?(o.window.set(e.subarray(t-n,t),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0};var x5e=i=>sre(i,15),C5e=(i,e)=>{let t,n,r,o,s,a,l,c,u,h,d,p,g,v,_,b,x,C,S,E,I,M,k=0;const F=new Uint8Array(4);let P,Q;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(kv(i)||!i.output||!i.input&&i.avail_in!==0)return Hh;t=i.state,t.mode===ip&&(t.mode=$P),s=i.next_out,r=i.output,l=i.avail_out,o=i.next_in,n=i.input,a=i.avail_in,c=t.hold,u=t.bits,h=a,d=l,M=xv;e:for(;;)switch(t.mode){case tF:if(t.wrap===0){t.mode=$P;break}for(;u<16;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(2&t.wrap&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,F[0]=255&c,F[1]=c>>>8&255,t.check=BA(t.check,F,2,0),c=0,u=0,t.mode=16181;break}if(t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&c)<<8)+(c>>8))%31){i.msg="incorrect header check",t.mode=Ir;break}if((15&c)!==zK){i.msg="unknown compression method",t.mode=Ir;break}if(c>>>=4,u-=4,I=8+(15&c),t.wbits===0&&(t.wbits=I),I>15||I>t.wbits){i.msg="invalid window size",t.mode=Ir;break}t.dmax=1<<t.wbits,t.flags=0,i.adler=t.check=1,t.mode=512&c?16189:ip,c=0,u=0;break;case 16181:for(;u<16;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(t.flags=c,(255&t.flags)!==zK){i.msg="unknown compression method",t.mode=Ir;break}if(57344&t.flags){i.msg="unknown header flags set",t.mode=Ir;break}t.head&&(t.head.text=c>>8&1),512&t.flags&&4&t.wrap&&(F[0]=255&c,F[1]=c>>>8&255,t.check=BA(t.check,F,2,0)),c=0,u=0,t.mode=16182;case 16182:for(;u<32;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}t.head&&(t.head.time=c),512&t.flags&&4&t.wrap&&(F[0]=255&c,F[1]=c>>>8&255,F[2]=c>>>16&255,F[3]=c>>>24&255,t.check=BA(t.check,F,4,0)),c=0,u=0,t.mode=16183;case 16183:for(;u<16;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}t.head&&(t.head.xflags=255&c,t.head.os=c>>8),512&t.flags&&4&t.wrap&&(F[0]=255&c,F[1]=c>>>8&255,t.check=BA(t.check,F,2,0)),c=0,u=0,t.mode=16184;case 16184:if(1024&t.flags){for(;u<16;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}t.length=c,t.head&&(t.head.extra_len=c),512&t.flags&&4&t.wrap&&(F[0]=255&c,F[1]=c>>>8&255,t.check=BA(t.check,F,2,0)),c=0,u=0}else t.head&&(t.head.extra=null);t.mode=16185;case 16185:if(1024&t.flags&&(p=t.length,p>a&&(p=a),p&&(t.head&&(I=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(o,o+p),I)),512&t.flags&&4&t.wrap&&(t.check=BA(t.check,n,p,o)),a-=p,o+=p,t.length-=p),t.length))break e;t.length=0,t.mode=16186;case 16186:if(2048&t.flags){if(a===0)break e;p=0;do I=n[o+p++],t.head&&I&&t.length<65536&&(t.head.name+=String.fromCharCode(I));while(I&&p<a);if(512&t.flags&&4&t.wrap&&(t.check=BA(t.check,n,p,o)),a-=p,o+=p,I)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=16187;case 16187:if(4096&t.flags){if(a===0)break e;p=0;do I=n[o+p++],t.head&&I&&t.length<65536&&(t.head.comment+=String.fromCharCode(I));while(I&&p<a);if(512&t.flags&&4&t.wrap&&(t.check=BA(t.check,n,p,o)),a-=p,o+=p,I)break e}else t.head&&(t.head.comment=null);t.mode=16188;case 16188:if(512&t.flags){for(;u<16;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(4&t.wrap&&c!==(65535&t.check)){i.msg="header crc mismatch",t.mode=Ir;break}c=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=ip;break;case 16189:for(;u<32;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}i.adler=t.check=GK(c),c=0,u=0,t.mode=xR;case xR:if(t.havedict===0)return i.next_out=s,i.avail_out=l,i.next_in=o,i.avail_in=a,t.hold=c,t.bits=u,v5e;i.adler=t.check=1,t.mode=ip;case ip:if(e===m5e||e===kI)break e;case $P:if(t.last){c>>>=7&u,u-=7&u,t.mode=YP;break}for(;u<3;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}switch(t.last=1&c,c>>>=1,u-=1,3&c){case 0:t.mode=16193;break;case 1:if(w5e(t),t.mode=FI,e===kI){c>>>=2,u-=2;break e}break;case 2:t.mode=16196;break;case 3:i.msg="invalid block type",t.mode=Ir}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){i.msg="invalid stored block lengths",t.mode=Ir;break}if(t.length=65535&c,c=0,u=0,t.mode=XP,e===kI)break e;case XP:t.mode=16195;case 16195:if(p=t.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;r.set(n.subarray(o,o+p),s),a-=p,o+=p,l-=p,s+=p,t.length-=p;break}t.mode=ip;break;case 16196:for(;u<14;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(t.nlen=257+(31&c),c>>>=5,u-=5,t.ndist=1+(31&c),c>>>=5,u-=5,t.ncode=4+(15&c),c>>>=4,u-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=Ir;break}t.have=0,t.mode=16197;case 16197:for(;t.have<t.ncode;){for(;u<3;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}t.lens[N[t.have++]]=7&c,c>>>=3,u-=3}for(;t.have<19;)t.lens[N[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,P={bits:t.lenbits},M=rB(0,t.lens,0,19,t.lencode,0,t.work,P),t.lenbits=P.bits,M){i.msg="invalid code lengths set",t.mode=Ir;break}t.have=0,t.mode=16198;case 16198:for(;t.have<t.nlen+t.ndist;){for(;k=t.lencode[c&(1<<t.lenbits)-1],_=k>>>24,b=k>>>16&255,x=65535&k,!(_<=u);){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(x<16)c>>>=_,u-=_,t.lens[t.have++]=x;else{if(x===16){for(Q=_+2;u<Q;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(c>>>=_,u-=_,t.have===0){i.msg="invalid bit length repeat",t.mode=Ir;break}I=t.lens[t.have-1],p=3+(3&c),c>>>=2,u-=2}else if(x===17){for(Q=_+3;u<Q;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}c>>>=_,u-=_,I=0,p=3+(7&c),c>>>=3,u-=3}else{for(Q=_+7;u<Q;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}c>>>=_,u-=_,I=0,p=11+(127&c),c>>>=7,u-=7}if(t.have+p>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=Ir;break}for(;p--;)t.lens[t.have++]=I}}if(t.mode===Ir)break;if(t.lens[256]===0){i.msg="invalid code -- missing end-of-block",t.mode=Ir;break}if(t.lenbits=9,P={bits:t.lenbits},M=rB(1,t.lens,0,t.nlen,t.lencode,0,t.work,P),t.lenbits=P.bits,M){i.msg="invalid literal/lengths set",t.mode=Ir;break}if(t.distbits=6,t.distcode=t.distdyn,P={bits:t.distbits},M=rB(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,P),t.distbits=P.bits,M){i.msg="invalid distances set",t.mode=Ir;break}if(t.mode=FI,e===kI)break e;case FI:t.mode=DI;case DI:if(a>=6&&l>=258){i.next_out=s,i.avail_out=l,i.next_in=o,i.avail_in=a,t.hold=c,t.bits=u,A5e(i,d),s=i.next_out,r=i.output,l=i.avail_out,o=i.next_in,n=i.input,a=i.avail_in,c=t.hold,u=t.bits,t.mode===ip&&(t.back=-1);break}for(t.back=0;k=t.lencode[c&(1<<t.lenbits)-1],_=k>>>24,b=k>>>16&255,x=65535&k,!(_<=u);){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(b&&!(240&b)){for(C=_,S=b,E=x;k=t.lencode[E+((c&(1<<C+S)-1)>>C)],_=k>>>24,b=k>>>16&255,x=65535&k,!(C+_<=u);){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}c>>>=C,u-=C,t.back+=C}if(c>>>=_,u-=_,t.back+=_,t.length=x,b===0){t.mode=16205;break}if(32&b){t.back=-1,t.mode=ip;break}if(64&b){i.msg="invalid literal/length code",t.mode=Ir;break}t.extra=15&b,t.mode=16201;case 16201:if(t.extra){for(Q=t.extra;u<Q;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=16202;case 16202:for(;k=t.distcode[c&(1<<t.distbits)-1],_=k>>>24,b=k>>>16&255,x=65535&k,!(_<=u);){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(!(240&b)){for(C=_,S=b,E=x;k=t.distcode[E+((c&(1<<C+S)-1)>>C)],_=k>>>24,b=k>>>16&255,x=65535&k,!(C+_<=u);){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}c>>>=C,u-=C,t.back+=C}if(c>>>=_,u-=_,t.back+=_,64&b){i.msg="invalid distance code",t.mode=Ir;break}t.offset=x,t.extra=15&b,t.mode=16203;case 16203:if(t.extra){for(Q=t.extra;u<Q;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=Ir;break}t.mode=16204;case 16204:if(l===0)break e;if(p=d-l,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=Ir;break}p>t.wnext?(p-=t.wnext,g=t.wsize-p):g=t.wnext-p,p>t.length&&(p=t.length),v=t.window}else v=r,g=s-t.offset,p=t.length;p>l&&(p=l),l-=p,t.length-=p;do r[s++]=v[g++];while(--p);t.length===0&&(t.mode=DI);break;case 16205:if(l===0)break e;r[s++]=t.length,l--,t.mode=DI;break;case YP:if(t.wrap){for(;u<32;){if(a===0)break e;a--,c|=n[o++]<<u,u+=8}if(d-=l,i.total_out+=d,t.total+=d,4&t.wrap&&d&&(i.adler=t.check=t.flags?BA(t.check,r,d,s-d):rQ(t.check,r,d,s-d)),d=l,4&t.wrap&&(t.flags?c:GK(c))!==t.check){i.msg="incorrect data check",t.mode=Ir;break}c=0,u=0}t.mode=16207;case 16207:if(t.wrap&&t.flags){for(;u<32;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(4&t.wrap&&c!==(4294967295&t.total)){i.msg="incorrect length check",t.mode=Ir;break}c=0,u=0}t.mode=16208;case 16208:M=_5e;break e;case Ir:M=tre;break e;case 16210:return ire;default:return Hh}return i.next_out=s,i.avail_out=l,i.next_in=o,i.avail_in=a,t.hold=c,t.bits=u,(t.wsize||d!==i.avail_out&&t.mode<Ir&&(t.mode<YP||e!==HK))&&are(i,i.output,i.next_out,d-i.avail_out),h-=i.avail_in,d-=i.avail_out,i.total_in+=h,i.total_out+=d,t.total+=d,4&t.wrap&&d&&(i.adler=t.check=t.flags?BA(t.check,r,d,i.next_out-d):rQ(t.check,r,d,i.next_out-d)),i.data_type=t.bits+(t.last?64:0)+(t.mode===ip?128:0)+(t.mode===FI||t.mode===XP?256:0),(h===0&&d===0||e===HK)&&M===xv&&(M=b5e),M},B5e=i=>{if(kv(i))return Hh;let e=i.state;return e.window&&(e.window=null),i.state=null,xv},S5e=(i,e)=>{if(kv(i))return Hh;const t=i.state;return 2&t.wrap?(t.head=e,e.done=!1,xv):Hh},E5e=(i,e)=>{const t=e.length;let n,r,o;return kv(i)||(n=i.state,n.wrap!==0&&n.mode!==xR)?Hh:n.mode===xR&&(r=1,r=rQ(r,e,t,0),r!==n.check)?tre:(o=are(i,e,t,t),o?(n.mode=16210,ire):(n.havedict=1,xv))},hp={inflateReset:rre,inflateReset2:ore,inflateResetKeep:nre,inflateInit:x5e,inflateInit2:sre,inflate:C5e,inflateEnd:B5e,inflateGetHeader:S5e,inflateSetDictionary:E5e,inflateInfo:"pako inflate (from Nodeca project)"},T5e=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const lre=Object.prototype.toString,{Z_NO_FLUSH:I5e,Z_FINISH:M5e,Z_OK:oB,Z_STREAM_END:eL,Z_NEED_DICT:tL,Z_STREAM_ERROR:R5e,Z_DATA_ERROR:qK,Z_MEM_ERROR:k5e}=Jne;function kM(i){this.options=s5e({chunkSize:65536,windowBits:15,to:""},i||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(i&&i.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&!(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h5e,this.strm.avail_out=0;let t=hp.inflateInit2(this.strm,e.windowBits);if(t!==oB)throw new Error(oQ[t]);if(this.header=new T5e,hp.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=l5e(e.dictionary):lre.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=hp.inflateSetDictionary(this.strm,e.dictionary),t!==oB)))throw new Error(oQ[t])}kM.prototype.push=function(i,e){const t=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:e===!0?M5e:I5e,lre.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),o=hp.inflate(t,s),o===tL&&r&&(o=hp.inflateSetDictionary(t,r),o===oB?o=hp.inflate(t,s):o===qK&&(o=tL));t.avail_in>0&&o===eL&&t.state.wrap>0&&i[t.next_in]!==0;)hp.inflateReset(t),o=hp.inflate(t,s);switch(o){case R5e:case qK:case tL:case k5e:return this.onEnd(o),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||o===eL))if(this.options.to==="string"){let l=u5e(t.output,t.next_out),c=t.next_out-l,u=c5e(t.output,l);t.next_out=c,t.avail_out=n-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(o!==oB||a!==0){if(o===eL)return o=hp.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0},kM.prototype.onData=function(i){this.chunks.push(i)},kM.prototype.onEnd=function(i){i===oB&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a5e(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};var F5e=function(i,e){return(e=e||{}).raw=!0,function(t,n){const r=new kM(n);if(r.push(t),r.err)throw r.msg||oQ[r.err];return r.result}(i,e)},D5e={inflateRaw:F5e};const{inflateRaw:U5e}=D5e;var P5e=U5e;const SA=function({polynomial:i,numTables:e}){const t=new Uint32Array(256*e);for(let n=0;n<256;n++){let r=n;r=(1&r)*i^r>>>1,r=(1&r)*i^r>>>1,r=(1&r)*i^r>>>1,r=(1&r)*i^r>>>1,r=(1&r)*i^r>>>1,r=(1&r)*i^r>>>1,r=(1&r)*i^r>>>1,r=(1&r)*i^r>>>1,t[n]=r}for(let n=256;n<t.length;n++){const r=t[n-256];t[n]=t[255&r]^r>>>8}return t}({polynomial:3988292384,numTables:8});function L5e(i){return function(e){return~e>>>0}(function(e,t){const n=t.byteLength,r=new DataView(t.buffer,t.byteOffset,n);let o=e,s=0;const a=3&-r.byteOffset;for(;s<a&&s<n;s++)o=SA[255&(o^r.getUint8(s))]^o>>>8;if(s===n)return o;s=a;let l=n-s;for(;l>=8;s+=8,l-=8){o^=r.getUint32(s,!0);const c=r.getUint32(s+4,!0);o=SA[0+(c>>>24&255)]^SA[256+(c>>>16&255)]^SA[512+(c>>>8&255)]^SA[768+(c>>>0&255)]^SA[1024+(o>>>24&255)]^SA[1280+(o>>>16&255)]^SA[1536+(o>>>8&255)]^SA[1792+(o>>>0&255)]}for(let c=s;c<n;c++)o=SA[255&(o^r.getUint8(c))]^o>>>8;return o}(-1,i))}const WK={".aac":"audio/aac",".abw":"application/x-abiword",".arc":"application/x-freearc",".avi":"video/x-msvideo",".azw":"application/vnd.amazon.ebook",".bin":"application/octet-stream",".bmp":"image/bmp",".bz":"application/x-bzip",".bz2":"application/x-bzip2",".csh":"application/x-csh",".css":"text/css",".csv":"text/csv",".doc":"application/msword",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".eot":"application/vnd.ms-fontobject",".epub":"application/epub+zip",".gz":"application/gzip",".gif":"image/gif",".htm":"text/html",".html":"text/html",".ico":"image/vnd.microsoft.icon",".ics":"text/calendar",".jar":"application/java-archive",".jpeg":".jpg",".js":"text/javascript",".json":"application/json",".jsonld":"application/ld+json",".mid":".midi",".mjs":"text/javascript",".mp3":"audio/mpeg",".mpeg":"video/mpeg",".mpkg":"application/vnd.apple.installer+xml",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogv":"video/ogg",".ogx":"application/ogg",".opus":"audio/opus",".otf":"font/otf",".png":"image/png",".pdf":"application/pdf",".php":"application/php",".ppt":"application/vnd.ms-powerpoint",".pptx":"application/vnd.openxmlformats-officedocument.presentationml.presentation",".rar":"application/vnd.rar",".rtf":"application/rtf",".sh":"application/x-sh",".svg":"image/svg+xml",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tif":"image/tiff",".tiff":"image/tiff",".ts":"video/mp2t",".ttf":"font/ttf",".txt":"text/plain",".vsd":"application/vnd.visio",".wav":"audio/wav",".weba":"audio/webm",".webm":"video/webm",".webp":"image/webp",".woff":"font/woff",".woff2":"font/woff2",".xhtml":"application/xhtml+xml",".xls":"application/vnd.ms-excel",".xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",".xml":"XML",".xul":"application/vnd.mozilla.xul+xml",".zip":"application/zip",".3gp":"video/3gpp",".3g2":"video/3gpp2",".7z":"application/x-7z-compressed"};class O5e{constructor(e){wu(this,"url"),wu(this,"zipSize",0),wu(this,"files",new Map),wu(this,"magic_eocd64",new Uint8Array([80,75,6,6])),wu(this,"magic_eocd",new Uint8Array([80,75,5,6])),this.url=e}async getRange(e,t){return await(await fetch(this.url,{headers:{Range:`bytes=${e}-${e+t-1}`}})).arrayBuffer()}async infoiter(){const e=await fetch(this.url,{method:"HEAD"}),t=e.headers.get("Accept-Ranges")||"";if(t!=="bytes"){const u=new URL(this.url).hostname;console.warn(`${u} Accept-Ranges header ('${t}') is not 'bytes'--trying anyway`)}this.zipSize=parseInt(e.headers.get("Content-Length")||"0");let n=await this.getRange(Math.max(this.zipSize-65536,0),65536),r=new Uint8Array(n),o=-1,s=0,a=this.findLastIndex(r,this.magic_eocd64);if(a>=0){const u=new DataView(n);s=Number(u.getBigUint64(a+40,!0)),o=Number(u.getBigUint64(a+48,!0))}else if(a=this.findLastIndex(r,this.magic_eocd),a>=0){const u=new DataView(n);s=u.getUint32(a+12,!0),o=u.getUint32(a+16,!0)}if(o<0||o>=this.zipSize)throw new Error("Cannot find central directory");n=await this.getRange(o,s),r=new Uint8Array(n);const l=[];let c=0;for(;c<s;){const u=new DataView(n,c),h=u.getUint16(10,!0),d=u.getUint32(12,!0),p=u.getUint32(20,!0),g=u.getUint32(24,!0),v=u.getUint16(28,!0),_=u.getUint16(30,!0),b=u.getUint16(32,!0),x=u.getUint32(42,!0),C=u.getUint32(16,!0);c+=46;const S=new TextDecoder().decode(r.slice(c,c+v));c+=v;const E=r.slice(c,c+_);c+=_,c+=b;const I=new Q5e(S,d,x,h,p,g,C);I.parseExtra(E),l.push(I)}return l}findLastIndex(e,t){for(let n=e.length-t.length;n>=0;n--)if(t.every((r,o)=>r===e[n+o]))return n;return-1}async getFileList(){const e=await this.infoiter();return this.files=new Map(e.map(t=>[t.filename,t])),Array.from(this.files.keys())}async getFileAsObjectURL(e,t=""){const n=this.files.get(e);if(!n)throw new Error(`File not found: ${e}`);const r="."+(e.split(".").pop()||"").toLowerCase();r in WK&&t==""&&(t=WK[r]),console.log("File info:",n);const o=await this.getRange(n.headerOffset,30+n.filename.length+2),s=new DataView(o),a=s.getUint32(0,!0);if(a!==67324752)throw new Error("Invalid local file header signature");const l=s.getUint16(26,!0),c=s.getUint16(28,!0);console.log("Local header info:",{signature:a.toString(16),filenameLength:l,extraFieldLength:c});const u=n.headerOffset+30+l+c;console.log("File data offset:",u);const h=await this.getRange(u,n.compressSize);let d;if(console.log("Compressed data size:",h.byteLength),n.compressType===0)d=new Uint8Array(h);else{if(n.compressType!==8)throw new Error(`Unsupported compression method: ${n.compressType}`);try{d=P5e(new Uint8Array(h))}catch(v){throw console.error("Decompression error:",v),console.error("Compressed data (first 50 bytes):",new Uint8Array(h).slice(0,50)),new Error("Failed to decompress file data")}}console.log("Decompressed data size:",d.length),d.length!==n.fileSize&&console.warn(`Decompressed size (${d.length}) doesn't match expected size (${n.fileSize})`);const p=this.calculateCRC32(d);p!==n.crc32&&console.warn(`Calculated CRC32 (${p}) doesn't match expected CRC32 (${n.crc32})`);const g=new Blob([d],{type:t||"application/octet-stream"});return URL.createObjectURL(g)}calculateCRC32(e){return L5e(e)}}class Q5e{constructor(e,t,n,r,o,s,a){wu(this,"filename"),wu(this,"dateTime"),wu(this,"headerOffset"),wu(this,"compressType"),wu(this,"compressSize"),wu(this,"fileSize"),wu(this,"crc32"),this.filename=e,this.dateTime=t,this.headerOffset=n,this.compressType=r,this.compressSize=o,this.fileSize=s,this.crc32=a}parseExtra(e){let t=0;for(;t<e.length;){const n=e[t+1]<<8|e[t],r=e[t+3]<<8|e[t+2];t+=4,n===1?(r>=8&&this.fileSize===4294967295&&(this.fileSize=Number(new DataView(e.buffer,t,8).getBigUint64(0,!0)),t+=8),r>=16&&this.compressSize===4294967295&&(this.compressSize=Number(new DataView(e.buffer,t,8).getBigUint64(0,!0)),t+=8),r>=24&&this.headerOffset===4294967295&&(this.headerOffset=Number(new DataView(e.buffer,t,8).getBigUint64(0,!0)),t+=8)):t+=r}}}var jK,N5e=eJ({tagName:"photogrammetry-viewer",elementClass:Yl,react:_e}),H5e=function(){function i(e,t){this.zip=e,this.skyBoxImage=t}return i.prototype.resolve2dFileURL=function(e){return ku(this,void 0,void 0,function(){var t,n,r,o,s,a,l,c,u,h,d,p,g;return Fu(this,function(v){switch(v.label){case 0:return t=null,[4,this.zip.getFileList()];case 1:if(n=v.sent(),r=n[0],e in n)t=e;else{for(o=[".jpg",".png",".jpeg",".JPG",".PNG",".JPEG",".gif",".GIF"],s=0,a=["redof/","edof/",r+"redof/",r+"edof/"];s<a.length;s++)for(l=a[s],c=0,u=o;c<u.length;c++)if((h=l+e+u[c])in n){t=h;break}if(t==null){for(d=0,p=n;d<p.length;d++)if((g=p[d]).includes(e)){t=g;break}}}if(t!=null)return console.log("Resolved 2D file "+e+" to path in ZIP: "+t),[2,this.zip.getFileAsObjectURL(t)];throw new Error("File not found in Zip: ".concat(e))}})})},i}(),z5e=function(i){var e=ne.useState(!1),t=e[0],n=e[1],r=ne.useState("Downloading..."),o=r[0],s=r[1],a=ne.useState(null),l=a[0],c=a[1],u=ne.useState(""),h=u[0],d=u[1],p=ne.useState(""),g=p[0],v=p[1],_=ne.useState(void 0),b=_[0],x=_[1];function C(E,I){console.error("Error "+I+":",E),c(BJ(E.message,1e3,"..."))}function S(E){s(E),console.log(E)}return ne.useEffect(function(){t||(function(){ku(this,void 0,void 0,function(){var E,I,M,k,F,P,Q,N,W,q,J,V,Y,Z,ue,$,ee,oe,ge;return Fu(this,function(se){switch(se.label){case 0:s("Downloading..."),E=null,I=[],se.label=1;case 1:return se.trys.push([1,3,,8]),[4,(E=new O5e(i.src)).getFileList()];case 2:return I=se.sent(),[3,8];case 3:return se.sent(),[4,NMe(i.src,{onProgress:function(Ae){s("Downloading... ".concat(Math.floor(Ae.percentage),"%"))}})];case 4:return[4,se.sent().blob()];case 5:return M=se.sent(),[4,i5e.create(M)];case 6:return[4,(E=se.sent()).getFileList()];case 7:return I=se.sent(),[3,8];case 8:s("Parsing files..."),se.label=9;case 9:se.trys.push([9,32,,33]),k=!1,F=!1,console.log("Entries: ",I),P=null,Q=0,N=I,se.label=10;case 10:if(!(Q<N.length))return[3,22];if(!(W=N[Q]).endsWith(".xml")||k)return[3,15];S("Loading camera info from "+W+"..."),se.label=11;case 11:return se.trys.push([11,13,,14]),q=d,[4,E.getFileAsObjectURL(W)];case 12:return q.apply(void 0,[se.sent()]),[3,14];case 13:return C(se.sent(),"converting XML to base64"),[3,14];case 14:k=!0,se.label=15;case 15:if(!W.endsWith(".gltf")&&!W.endsWith(".glb")||F)return[3,20];S("Loading 3D image from "+W+"..."),se.label=16;case 16:return se.trys.push([16,18,,19]),J=v,[4,E.getFileAsObjectURL(W)];case 17:return J.apply(void 0,[se.sent()]),[3,19];case 18:return C(se.sent(),"converting gltf to base64"),[3,19];case 19:F=!0,se.label=20;case 20:if(F&&k)return[3,22];se.label=21;case 21:return Q++,[3,10];case 22:s("Looking for HDR image..."),V=["hdr.jpg","hdr.jpeg","hdr.png","HDR.jpg","HDR.jpeg","HDR.png"],Y=0,Z=I,se.label=23;case 23:if(!(Y<Z.length))return[3,31];ue=Z[Y],$=0,ee=V,se.label=24;case 24:if(!($<ee.length))return[3,30];if(oe=ee[$],!ue.endsWith(oe))return[3,29];S("Loading HDR image from "+ue+"..."),se.label=25;case 25:return se.trys.push([25,27,,28]),[4,E.getFileAsObjectURL(ue)];case 26:return P=se.sent(),[3,28];case 27:return C(se.sent(),"converting HDR to base64"),[3,28];case 28:return[3,30];case 29:return $++,[3,24];case 30:return Y++,[3,23];case 31:return F&&k?(x(new H5e(E,P)),s("Loaded."),n(!0)):(ge="Did not find required files in the package.",F||(ge+=`
3D image data has not been found.`),k||(ge+=`
No XML file with camera info has been found.`),c(ge),console.log(F,k)),[3,33];case 32:return C(se.sent(),"while parsing files"),[3,33];case 33:return[2]}})})}(),caches.open("photogrammetry-viewer-cache").then(function(E){E.matchAll().then(function(I){I.forEach(function(M){var k,F=parseInt((k=M.headers.get("cached-time"))!==null&&k!==void 0?k:Date.now().toString());(Date.now()-F)/1e3>360&&(console.log("Deleting outdated cache entry for "+M.url),E.delete(M.url))})})}))},[i.src]),l!=null?_e.createElement(qP,null,"Error: ",l):t?_e.createElement(qP,null,_e.createElement(N5e,{src2D:"/",src3D:g,srcScanInformation:h,viewSettings:b,isYupTransformApplied:!0})):_e.createElement(qP,null,_e.createElement(jne,{statusMessage:o}))},KK={exports:{}},Df={},$K;/**
 * @license React
 * react-reconciler-constants.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XK,FM=($K||($K=1,KK.exports=(jK||(jK=1,Df.ConcurrentRoot=1,Df.ContinuousEventPriority=8,Df.DefaultEventPriority=32,Df.DiscreteEventPriority=2,Df.IdleEventPriority=268435456,Df.LegacyRoot=0,Df.NoEventPriority=0),Df)),KK.exports),YK={exports:{}},iL={},ZK={exports:{}},nL={},JK,e$;/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function G5e(){return JK||(JK=1,ZK.exports=function(){if(XK)return nL;XK=1;var i=_e,e=typeof Object.is=="function"?Object.is:function(l,c){return l===c&&(l!==0||1/l==1/c)||l!=l&&c!=c},t=i.useState,n=i.useEffect,r=i.useLayoutEffect,o=i.useDebugValue;function s(l){var c=l.getSnapshot;l=l.value;try{var u=c();return!e(l,u)}catch{return!0}}var a=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(l,c){return c()}:function(l,c){var u=c(),h=t({inst:{value:u,getSnapshot:c}}),d=h[0].inst,p=h[1];return r(function(){d.value=u,d.getSnapshot=c,s(d)&&p({inst:d})},[l,u,c]),n(function(){return s(d)&&p({inst:d}),l(function(){s(d)&&p({inst:d})})},[l]),o(u),u};return nL.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:a,nL}()),ZK.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t$;/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V5e=(t$||(t$=1,YK.exports=function(){if(e$)return iL;e$=1;var i=_e,e=G5e(),t=typeof Object.is=="function"?Object.is:function(l,c){return l===c&&(l!==0||1/l==1/c)||l!=l&&c!=c},n=e.useSyncExternalStore,r=i.useRef,o=i.useEffect,s=i.useMemo,a=i.useDebugValue;return iL.useSyncExternalStoreWithSelector=function(l,c,u,h,d){var p=r(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=s(function(){function _(E){if(!C){if(C=!0,b=E,E=h(E),d!==void 0&&g.hasValue){var I=g.value;if(d(I,E))return x=I}return x=E}if(I=x,t(b,E))return I;var M=h(E);return d!==void 0&&d(I,M)?(b=E,I):(b=E,x=M)}var b,x,C=!1,S=u===void 0?null:u;return[function(){return _(c())},S===null?void 0:function(){return _(S())}]},[c,u,h,d]);var v=n(l,p[0],p[1]);return o(function(){g.hasValue=!0,g.value=v},[v]),a(v),v},iL}()),YK.exports),q5e=TS(V5e);const i$=i=>{let e;const t=new Set,n=(a,l)=>{const c=typeof a=="function"?a(e):a;if(!Object.is(c,e)){const u=e;e=l??(typeof c!="object"||c===null)?c:Object.assign({},e,c),t.forEach(h=>h(e,u))}},r=()=>e,o={setState:n,getState:r,getInitialState:()=>s,subscribe:a=>(t.add(a),()=>t.delete(a))},s=e=i(n,r,o);return o},cre=i=>i?i$(i):i$,{useSyncExternalStoreWithSelector:W5e}=q5e,j5e=i=>i,n$=(i,e)=>{const t=cre(i),n=(r,o=e)=>function(s,a=j5e,l){const c=W5e(s.subscribe,s.getState,s.getInitialState,a,l);return _e.useDebugValue(c),c}(t,r,o);return Object.assign(n,t),n};var r$,o$={exports:{}},s$={exports:{}},a$={exports:{}},l$={},c$,u$;/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ure(){return c$||(c$=1,a$.exports=(r$||(r$=1,function(i){function e(V,Y){var Z=V.length;V.push(Y);e:for(;0<Z;){var ue=Z-1>>>1,$=V[ue];if(!(0<r($,Y)))break e;V[ue]=Y,V[Z]=$,Z=ue}}function t(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var Y=V[0],Z=V.pop();if(Z!==Y){V[0]=Z;e:for(var ue=0,$=V.length,ee=$>>>1;ue<ee;){var oe=2*(ue+1)-1,ge=V[oe],se=oe+1,Ae=V[se];if(0>r(ge,Z))se<$&&0>r(Ae,ge)?(V[ue]=Ae,V[se]=Z,ue=se):(V[ue]=ge,V[oe]=Z,ue=oe);else{if(!(se<$&&0>r(Ae,Z)))break e;V[ue]=Ae,V[se]=Z,ue=se}}}return Y}function r(V,Y){var Z=V.sortIndex-Y.sortIndex;return Z!==0?Z:V.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();i.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,h=null,d=3,p=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function C(V){for(var Y=t(c);Y!==null;){if(Y.callback===null)n(c);else{if(!(Y.startTime<=V))break;n(c),Y.sortIndex=Y.expirationTime,e(l,Y)}Y=t(c)}}function S(V){if(v=!1,C(V),!g)if(t(l)!==null)g=!0,q();else{var Y=t(c);Y!==null&&J(S,Y.startTime-V)}}var E,I=!1,M=-1,k=5,F=-1;function P(){return!(i.unstable_now()-F<k)}function Q(){if(I){var V=i.unstable_now();F=V;var Y=!0;try{e:{g=!1,v&&(v=!1,b(M),M=-1),p=!0;var Z=d;try{t:{for(C(V),h=t(l);h!==null&&!(h.expirationTime>V&&P());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,d=h.priorityLevel;var $=ue(h.expirationTime<=V);if(V=i.unstable_now(),typeof $=="function"){h.callback=$,C(V),Y=!0;break t}h===t(l)&&n(l),C(V)}else n(l);h=t(l)}if(h!==null)Y=!0;else{var ee=t(c);ee!==null&&J(S,ee.startTime-V),Y=!1}}break e}finally{h=null,d=Z,p=!1}Y=void 0}}finally{Y?E():I=!1}}}if(typeof x=="function")E=function(){x(Q)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,W=N.port2;N.port1.onmessage=Q,E=function(){W.postMessage(null)}}else E=function(){_(Q,0)};function q(){I||(I=!0,E())}function J(V,Y){M=_(function(){V(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_continueExecution=function(){g||p||(g=!0,q())},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return d},i.unstable_getFirstCallbackNode=function(){return t(l)},i.unstable_next=function(V){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var Z=d;d=Y;try{return V()}finally{d=Z}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=d;d=V;try{return Y()}finally{d=Z}},i.unstable_scheduleCallback=function(V,Y,Z){var ue=i.unstable_now();switch(Z=typeof Z=="object"&&Z!==null&&typeof(Z=Z.delay)=="number"&&0<Z?ue+Z:ue,V){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return V={id:u++,callback:Y,priorityLevel:V,startTime:Z,expirationTime:$=Z+$,sortIndex:-1},Z>ue?(V.sortIndex=Z,e(c,V),t(l)===null&&V===t(c)&&(v?(b(M),M=-1):v=!0,J(S,Z-ue))):(V.sortIndex=$,e(l,V),g||p||(g=!0,q())),V},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(V){var Y=d;return function(){var Z=d;d=Y;try{return V.apply(this,arguments)}finally{d=Z}}}}(l$)),l$)),a$.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function K5e(){return u$||(u$=1,function(i){i.exports=function(e){function t(m,w,T,D){return new $c(m,w,T,D)}function n(){}function r(m){var w="https://react.dev/errors/"+m;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)w+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+m+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(m){return m===null||typeof m!="object"?null:typeof(m=lm&&m[lm]||m["@@iterator"])=="function"?m:null}function s(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===jS?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case ir:return"Fragment";case Wp:return"Portal";case ud:return"Profiler";case Xv:return"StrictMode";case rx:return"Suspense";case Zv:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case Ya:return(m.displayName||"Context")+".Provider";case Yv:return(m._context.displayName||"Context")+".Consumer";case rA:var w=m.render;return(m=m.displayName)||(m=(m=w.displayName||w.name||"")!==""?"ForwardRef("+m+")":"ForwardRef"),m;case ox:return(w=m.displayName||null)!==null?w:s(m.type)||"Memo";case eh:w=m._payload,m=m._init;try{return s(m(w))}catch{}}return null}function a(m){if(cd===void 0)try{throw Error()}catch(T){var w=T.stack.trim().match(/\n( *(at )?)/);cd=w&&w[1]||"",sm=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cd+m+sm}function l(m,w){if(!m||Jv)return"";Jv=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var D={DetermineComponentFrameRoot:function(){try{if(w){var Bt=function(){throw Error()};if(Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(ui){var gt=ui}Reflect.construct(m,[],Bt)}else{try{Bt.call()}catch(ui){gt=ui}m.call(Bt.prototype)}}else{try{throw Error()}catch(ui){gt=ui}(Bt=m())&&typeof Bt.catch=="function"&&Bt.catch(function(){})}}catch(ui){if(ui&&gt&&typeof ui.stack=="string")return[ui.stack,gt.stack]}return[null,null]}};D.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(D.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(D.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var K=D.DetermineComponentFrameRoot(),fe=K[0],be=K[1];if(fe&&be){var Me=fe.split(`
`),Je=be.split(`
`);for(O=D=0;D<Me.length&&!Me[D].includes("DetermineComponentFrameRoot");)D++;for(;O<Je.length&&!Je[O].includes("DetermineComponentFrameRoot");)O++;if(D===Me.length||O===Je.length)for(D=Me.length-1,O=Je.length-1;1<=D&&0<=O&&Me[D]!==Je[O];)O--;for(;1<=D&&0<=O;D--,O--)if(Me[D]!==Je[O]){if(D!==1||O!==1)do if(D--,0>--O||Me[D]!==Je[O]){var lt=`
`+Me[D].replace(" at new "," at ");return m.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",m.displayName)),lt}while(1<=D&&0<=O);break}}}finally{Jv=!1,Error.prepareStackTrace=T}return(T=m?m.displayName||m.name:"")?a(T):""}function c(m){switch(m.tag){case 26:case 27:case 5:return a(m.type);case 16:return a("Lazy");case 13:return a("Suspense");case 19:return a("SuspenseList");case 0:case 15:return m=l(m.type,!1);case 11:return m=l(m.type.render,!1);case 1:return m=l(m.type,!0);default:return""}}function u(m){try{var w="";do w+=c(m),m=m.return;while(m);return w}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}function h(m){var w=m,T=m;if(m.alternate)for(;w.return;)w=w.return;else{m=w;do 4098&(w=m).flags&&(T=w.return),m=w.return;while(m)}return w.tag===3?T:null}function d(m){if(h(m)!==m)throw Error(r(188))}function p(m){var w=m.alternate;if(!w){if((w=h(m))===null)throw Error(r(188));return w!==m?null:m}for(var T=m,D=w;;){var O=T.return;if(O===null)break;var K=O.alternate;if(K===null){if((D=O.return)!==null){T=D;continue}break}if(O.child===K.child){for(K=O.child;K;){if(K===T)return d(O),m;if(K===D)return d(O),w;K=K.sibling}throw Error(r(188))}if(T.return!==D.return)T=O,D=K;else{for(var fe=!1,be=O.child;be;){if(be===T){fe=!0,T=O,D=K;break}if(be===D){fe=!0,D=O,T=K;break}be=be.sibling}if(!fe){for(be=K.child;be;){if(be===T){fe=!0,T=K,D=O;break}if(be===D){fe=!0,D=K,T=O;break}be=be.sibling}if(!fe)throw Error(r(189))}}if(T.alternate!==D)throw Error(r(190))}if(T.tag!==3)throw Error(r(188));return T.stateNode.current===T?m:w}function g(m){var w=m.tag;if(w===5||w===26||w===27||w===6)return m;for(m=m.child;m!==null;){if((w=g(m))!==null)return w;m=m.sibling}return null}function v(m){var w=m.tag;if(w===5||w===26||w===27||w===6)return m;for(m=m.child;m!==null;){if(m.tag!==4&&(w=v(m))!==null)return w;m=m.sibling}return null}function _(m){return{current:m}}function b(m){0>oh||(m.current=md[oh],md[oh]=null,oh--)}function x(m,w){oh++,md[oh]=m.current,m.current=w}function C(m){var w=42&m;if(w!==0)return w;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&m;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&m;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function S(m,w){var T=m.pendingLanes;if(T===0)return 0;var D=0,O=m.suspendedLanes,K=m.pingedLanes,fe=m.warmLanes;m=m.finishedLanes!==0;var be=134217727&T;return be!==0?(T=be&~O)!==0?D=C(T):(K&=be)!==0?D=C(K):m||(fe=be&~fe)!==0&&(D=C(fe)):(be=T&~O)!==0?D=C(be):K!==0?D=C(K):m||(fe=T&~fe)!==0&&(D=C(fe)),D===0?0:w!==0&&w!==D&&!(w&O)&&((O=D&-D)>=(fe=w&-w)||O===32&&4194176&fe)?w:D}function E(m,w){return!(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&w)}function I(m,w){switch(m){case 1:case 2:case 4:case 8:return w+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;default:return-1}}function M(){var m=cA;return!(4194176&(cA<<=1))&&(cA=128),m}function k(){var m=A0;return!(62914560&(A0<<=1))&&(A0=4194304),m}function F(m){for(var w=[],T=0;31>T;T++)w.push(m);return w}function P(m,w){m.pendingLanes|=w,w!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function Q(m,w,T){m.pendingLanes|=w,m.suspendedLanes&=~w;var D=31-ps(w);m.entangledLanes|=w,m.entanglements[D]=1073741824|m.entanglements[D]|4194218&T}function N(m,w){var T=m.entangledLanes|=w;for(m=m.entanglements;T;){var D=31-ps(T),O=1<<D;O&w|m[D]&w&&(m[D]|=w),T&=~O}}function W(m){return 2<(m&=-m)?8<m?134217727&m?32:268435456:8:2}function q(m){if(typeof Ix=="function"&&RE(m),co&&typeof co.setStrictMode=="function")try{co.setStrictMode(Xp,m)}catch{}}function J(m,w){if(typeof m=="object"&&m!==null){var T=Mx.get(m);return T!==void 0?T:(w={value:m,source:w,stack:u(w)},Mx.set(m,w),w)}return{value:m,source:w,stack:u(w)}}function V(m,w){_d[vd++]=bm,_d[vd++]=bd,bd=m,bm=w}function Y(m,w,T){ba[Ja++]=tu,ba[Ja++]=iu,ba[Ja++]=hA,hA=m;var D=tu;m=iu;var O=32-ps(D)-1;D&=~(1<<O),T+=1;var K=32-ps(w)+O;if(30<K){var fe=O-O%5;K=(D&(1<<fe)-1).toString(32),D>>=fe,O-=fe,tu=1<<32-ps(w)+O|T<<O|D,iu=K+m}else tu=1<<K|T<<O|D,iu=m}function Z(m){m.return!==null&&(V(m,1),Y(m,1,0))}function ue(m){for(;m===bd;)bd=_d[--vd],_d[vd]=null,bm=_d[--vd],_d[vd]=null;for(;m===hA;)hA=ba[--Ja],ba[Ja]=null,iu=ba[--Ja],ba[Ja]=null,tu=ba[--Ja],ba[Ja]=null}function $(m,w){x(sh,w),x(Nr,m),x(rn,null),m=um(w),b(rn),x(rn,m)}function ee(){b(rn),b(Nr),b(sh)}function oe(m){m.memoizedState!==null&&x(ym,m);var w=rn.current,T=$S(w,m.type);w!==T&&(x(Nr,m),x(rn,T))}function ge(m){Nr.current===m&&(b(rn),b(Nr)),ym.current===m&&(b(ym),Za?Ul._currentValue=Zc:Ul._currentValue2=Zc)}function se(m){throw Re(J(Error(r(418,"")),m)),d0}function Ae(m,w){if(!Wo)throw Error(r(175));AE(m.stateNode,m.type,m.memoizedProps,w,m)||se(m)}function we(m){for(gs=m.return;gs;)switch(gs.tag){case 3:case 27:return void(Ol=!0);case 5:case 13:return void(Ol=!1);default:gs=gs.return}}function xe(m){if(!Wo||m!==gs)return!1;if(!ln)return we(m),ln=!0,!1;var w=!1;if(jo?m.tag!==3&&m.tag!==27&&(m.tag!==5||l0(m.type)&&!dc(m.type,m.memoizedProps))&&(w=!0):m.tag!==3&&(m.tag!==5||l0(m.type)&&!dc(m.type,m.memoizedProps))&&(w=!0),w&&Ko&&se(m),we(m),m.tag===13){if(!Wo)throw Error(r(316));if(!(m=(m=m.memoizedState)!==null?m.dehydrated:null))throw Error(r(317));Ko=fE(m)}else Ko=gs?xx(m.stateNode):null;return!0}function Be(){Wo&&(Ko=gs=null,ln=!1)}function Re(m){ya===null?ya=[m]:ya.push(m)}function ke(){for(var m=yd,w=wm=yd=0;w<m;){var T=el[w];el[w++]=null;var D=el[w];el[w++]=null;var O=el[w];el[w++]=null;var K=el[w];if(el[w++]=null,D!==null&&O!==null){var fe=D.pending;fe===null?O.next=O:(O.next=fe.next,fe.next=O),D.pending=O}K!==0&&H(T,O,K)}}function Pe(m,w,T,D){el[yd++]=m,el[yd++]=w,el[yd++]=T,el[yd++]=D,wm|=D,m.lanes|=D,(m=m.alternate)!==null&&(m.lanes|=D)}function ve(m,w,T,D){return Pe(m,w,T,D),le(m)}function te(m,w){return Pe(m,null,null,w),le(m)}function H(m,w,T){m.lanes|=T;var D=m.alternate;D!==null&&(D.lanes|=T);for(var O=!1,K=m.return;K!==null;)K.childLanes|=T,(D=K.alternate)!==null&&(D.childLanes|=T),K.tag===22&&((m=K.stateNode)===null||1&m._visibility||(O=!0)),m=K,K=K.return;O&&w!==null&&m.tag===3&&(K=m.stateNode,O=31-ps(T),(m=(K=K.hiddenUpdates)[O])===null?K[O]=[w]:m.push(w),w.lane=536870912|T)}function le(m){if(50<rf)throw rf=0,Td=null,Error(r(185));for(var w=m.return;w!==null;)w=(m=w).return;return m.tag===3?m.stateNode:null}function U(m){m!==AA&&m.next===null&&(AA===null?Yp=AA=m:AA=AA.next=m),Zp=!0,p0||(p0=!0,function(w){Qr?hx(function(){6&jt?qs(eu,w):w()}):qs(eu,w)}(j))}function z(m,w){if(!Jp&&Zp){Jp=!0;do for(var T=!1,D=Yp;D!==null;){if(m!==0){var O=D.pendingLanes;if(O===0)var K=0;else{var fe=D.suspendedLanes,be=D.pingedLanes;K=(1<<31-ps(42|m)+1)-1,K=201326677&(K&=O&~(fe&~be))?201326677&K|1:K?2|K:0}K!==0&&(T=!0,X(D,K))}else K=Ot,!(3&(K=S(D,D===Lt?K:0)))||E(D,K)||(T=!0,X(D,K));D=D.next}while(T);Jp=!1}}function j(){Zp=p0=!1;var m=0;dA!==0&&(Ui()&&(m=dA),dA=0);for(var w=Io(),T=null,D=Yp;D!==null;){var O=D.next,K=re(D,w);K===0?(D.next=null,T===null?Yp=O:T.next=O,O===null&&(AA=T)):(T=D,(m!==0||3&K)&&(Zp=!0)),D=O}z(m)}function re(m,w){for(var T=m.suspendedLanes,D=m.pingedLanes,O=m.expirationTimes,K=-62914561&m.pendingLanes;0<K;){var fe=31-ps(K),be=1<<fe,Me=O[fe];Me===-1?be&T&&!(be&D)||(O[fe]=I(be,w)):Me<=w&&(m.expiredLanes|=be),K&=~be}if(T=Ot,T=S(m,m===(w=Lt)?T:0),D=m.callbackNode,T===0||m===w&&Gi===2||m.cancelPendingCommit!==null)return D!==null&&D!==null&&Ll(D),m.callbackNode=null,m.callbackPriority=0;if(!(3&T)||E(m,T)){if((w=T&-T)===m.callbackPriority)return w;switch(D!==null&&Ll(D),W(T)){case 2:case 8:T=lo;break;case 32:default:T=vm;break;case 268435456:T=Tx}return D=ae.bind(null,m),T=qs(T,D),m.callbackPriority=w,m.callbackNode=T,w}return D!==null&&D!==null&&Ll(D),m.callbackPriority=2,m.callbackNode=null,2}function ae(m,w){var T=m.callbackNode;if(Xa()&&m.callbackNode!==T)return null;var D=Ot;return(D=S(m,m===Lt?D:0))===0?null:(Vv(m,D,w),re(m,Io()),m.callbackNode!=null&&m.callbackNode===T?ae.bind(null,m):null)}function X(m,w){if(Xa())return null;Vv(m,w,!0)}function G(){return dA===0&&(dA=M()),dA}function ce(){if(--xm==0&&ef!==null){Ws!==null&&(Ws.status="fulfilled");var m=ef;ef=null,pA=0,Ws=null;for(var w=0;w<m.length;w++)(0,m[w])()}}function Te(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ie(m,w){m=m.updateQueue,w.updateQueue===m&&(w.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function ye(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function Ue(m,w,T){var D=m.updateQueue;if(D===null)return null;if(D=D.shared,2&jt){var O=D.pending;return O===null?w.next=w:(w.next=O.next,O.next=w),D.pending=w,w=le(m),H(m,null,T),w}return Pe(m,D,w,T),le(m)}function De(m,w,T){if((w=w.updateQueue)!==null&&(w=w.shared,4194176&T)){var D=w.lanes;T|=D&=m.pendingLanes,w.lanes=T,N(m,T)}}function Ge(m,w){var T=m.updateQueue,D=m.alternate;if(D!==null&&T===(D=D.updateQueue)){var O=null,K=null;if((T=T.firstBaseUpdate)!==null){do{var fe={lane:T.lane,tag:T.tag,payload:T.payload,callback:null,next:null};K===null?O=K=fe:K=K.next=fe,T=T.next}while(T!==null);K===null?O=K=w:K=K.next=w}else O=K=w;return T={baseState:D.baseState,firstBaseUpdate:O,lastBaseUpdate:K,shared:D.shared,callbacks:D.callbacks},void(m.updateQueue=T)}(m=T.lastBaseUpdate)===null?T.firstBaseUpdate=w:m.next=w,T.lastBaseUpdate=w}function ct(){if(Rx&&Ws!==null)throw Ws}function Ve(m,w,T,D){Rx=!1;var O=m.updateQueue;nu=!1;var K=O.firstBaseUpdate,fe=O.lastBaseUpdate,be=O.shared.pending;if(be!==null){O.shared.pending=null;var Me=be,Je=Me.next;Me.next=null,fe===null?K=Je:fe.next=Je,fe=Me;var lt=m.alternate;lt!==null&&(be=(lt=lt.updateQueue).lastBaseUpdate)!==fe&&(be===null?lt.firstBaseUpdate=Je:be.next=Je,lt.lastBaseUpdate=Me)}if(K!==null){var Bt=O.baseState;for(fe=0,lt=Je=Me=null,be=K;;){var gt=-536870913&be.lane,ui=gt!==be.lane;if(ui?(Ot&gt)===gt:(D&gt)===gt){gt!==0&&gt===pA&&(Rx=!0),lt!==null&&(lt=lt.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var yi=m,Ze=be;gt=w;var qe=T;switch(Ze.tag){case 1:if(typeof(yi=Ze.payload)=="function"){Bt=yi.call(qe,Bt,gt);break e}Bt=yi;break e;case 3:yi.flags=-65537&yi.flags|128;case 0:if((gt=typeof(yi=Ze.payload)=="function"?yi.call(qe,Bt,gt):yi)==null)break e;Bt=Kv({},Bt,gt);break e;case 2:nu=!0}}(gt=be.callback)!==null&&(m.flags|=64,ui&&(m.flags|=8192),(ui=O.callbacks)===null?O.callbacks=[gt]:ui.push(gt))}else ui={lane:gt,tag:be.tag,payload:be.payload,callback:be.callback,next:null},lt===null?(Je=lt=ui,Me=Bt):lt=lt.next=ui,fe|=gt;if((be=be.next)===null){if((be=O.shared.pending)===null)break;be=(ui=be).next,ui.next=null,O.lastBaseUpdate=ui,O.shared.pending=null}}lt===null&&(Me=Bt),O.baseState=Me,O.firstBaseUpdate=Je,O.lastBaseUpdate=lt,K===null&&(O.shared.lanes=0),xa|=fe,m.lanes=fe,m.memoizedState=Bt}}function st(m,w){if(typeof m!="function")throw Error(r(191,m));m.call(w)}function rt(m,w){var T=m.callbacks;if(T!==null)for(m.callbacks=null,m=0;m<T.length;m++)st(T[m],w)}function yt(m,w){if(fs(m,w))return!0;if(typeof m!="object"||m===null||typeof w!="object"||w===null)return!1;var T=Object.keys(m),D=Object.keys(w);if(T.length!==D.length)return!1;for(D=0;D<T.length;D++){var O=T[D];if(!kE.call(w,O)||!fs(m[O],w[O]))return!1}return!0}function At(m){return(m=m.status)==="fulfilled"||m==="rejected"}function Ut(){}function Tt(m,w,T){switch((T=m[T])===void 0?m.push(w):T!==w&&(w.then(Ut,Ut),w=T),w.status){case"fulfilled":return w.value;case"rejected":throw(m=w.reason)===tl?Error(r(483)):m;default:if(typeof w.status=="string")w.then(Ut,Ut);else{if((m=Lt)!==null&&100<m.shellSuspendCounter)throw Error(r(482));(m=w).status="pending",m.then(function(D){if(w.status==="pending"){var O=w;O.status="fulfilled",O.value=D}},function(D){if(w.status==="pending"){var O=w;O.status="rejected",O.reason=D}})}switch(w.status){case"fulfilled":return w.value;case"rejected":throw(m=w.reason)===tl?Error(r(483)):m}throw ru=w,tl}}function It(){if(ru===null)throw Error(r(459));var m=ru;return ru=null,m}function Ee(m){var w=Cm;return Cm+=1,Bn===null&&(Bn=[]),Tt(Bn,m,w)}function pt(m,w){w=w.props.ref,m.ref=w!==void 0?w:null}function Ne(m,w){throw w.$$typeof===rF?Error(r(525)):(m=Object.prototype.toString.call(w),Error(r(31,m==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":m)))}function je(m){return(0,m._init)(m._payload)}function ft(m){function w(Ze,qe){if(m){var tt=Ze.deletions;tt===null?(Ze.deletions=[qe],Ze.flags|=16):tt.push(qe)}}function T(Ze,qe){if(!m)return null;for(;qe!==null;)w(Ze,qe),qe=qe.sibling;return null}function D(Ze){for(var qe=new Map;Ze!==null;)Ze.key!==null?qe.set(Ze.key,Ze):qe.set(Ze.index,Ze),Ze=Ze.sibling;return qe}function O(Ze,qe){return(Ze=_a(Ze,qe)).index=0,Ze.sibling=null,Ze}function K(Ze,qe,tt){return Ze.index=tt,m?(tt=Ze.alternate)!==null?(tt=tt.index)<qe?(Ze.flags|=33554434,qe):tt:(Ze.flags|=33554434,qe):(Ze.flags|=1048576,qe)}function fe(Ze){return m&&Ze.alternate===null&&(Ze.flags|=33554434),Ze}function be(Ze,qe,tt,Ct){return qe===null||qe.tag!==6?((qe=Wv(tt,Ze.mode,Ct)).return=Ze,qe):((qe=O(qe,tt)).return=Ze,qe)}function Me(Ze,qe,tt,Ct){var wi=tt.type;return wi===ir?lt(Ze,qe,tt.props.children,Ct,tt.key):qe!==null&&(qe.elementType===wi||typeof wi=="object"&&wi!==null&&wi.$$typeof===eh&&je(wi)===qe.type)?(pt(qe=O(qe,tt.props),tt),qe.return=Ze,qe):(pt(qe=rm(tt.type,tt.key,tt.props,null,Ze.mode,Ct),tt),qe.return=Ze,qe)}function Je(Ze,qe,tt,Ct){return qe===null||qe.tag!==4||qe.stateNode.containerInfo!==tt.containerInfo||qe.stateNode.implementation!==tt.implementation?((qe=ld(tt,Ze.mode,Ct)).return=Ze,qe):((qe=O(qe,tt.children||[])).return=Ze,qe)}function lt(Ze,qe,tt,Ct,wi){return qe===null||qe.tag!==7?((qe=Ac(tt,Ze.mode,Ct,wi)).return=Ze,qe):((qe=O(qe,tt)).return=Ze,qe)}function Bt(Ze,qe,tt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return(qe=Wv(""+qe,Ze.mode,tt)).return=Ze,qe;if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case $v:return pt(tt=rm(qe.type,qe.key,qe.props,null,Ze.mode,tt),qe),tt.return=Ze,tt;case Wp:return(qe=ld(qe,Ze.mode,tt)).return=Ze,qe;case eh:return Bt(Ze,qe=(0,qe._init)(qe._payload),tt)}if(hd(qe)||o(qe))return(qe=Ac(qe,Ze.mode,tt,null)).return=Ze,qe;if(typeof qe.then=="function")return Bt(Ze,Ee(qe),tt);if(qe.$$typeof===Ya)return Bt(Ze,Uv(Ze,qe),tt);Ne(Ze,qe)}return null}function gt(Ze,qe,tt,Ct){var wi=qe!==null?qe.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return wi!==null?null:be(Ze,qe,""+tt,Ct);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case $v:return tt.key===wi?Me(Ze,qe,tt,Ct):null;case Wp:return tt.key===wi?Je(Ze,qe,tt,Ct):null;case eh:return gt(Ze,qe,tt=(wi=tt._init)(tt._payload),Ct)}if(hd(tt)||o(tt))return wi!==null?null:lt(Ze,qe,tt,Ct,null);if(typeof tt.then=="function")return gt(Ze,qe,Ee(tt),Ct);if(tt.$$typeof===Ya)return gt(Ze,qe,Uv(Ze,tt),Ct);Ne(Ze,tt)}return null}function ui(Ze,qe,tt,Ct,wi){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint")return be(qe,Ze=Ze.get(tt)||null,""+Ct,wi);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case $v:return Me(qe,Ze=Ze.get(Ct.key===null?tt:Ct.key)||null,Ct,wi);case Wp:return Je(qe,Ze=Ze.get(Ct.key===null?tt:Ct.key)||null,Ct,wi);case eh:return ui(Ze,qe,tt,Ct=(0,Ct._init)(Ct._payload),wi)}if(hd(Ct)||o(Ct))return lt(qe,Ze=Ze.get(tt)||null,Ct,wi,null);if(typeof Ct.then=="function")return ui(Ze,qe,tt,Ee(Ct),wi);if(Ct.$$typeof===Ya)return ui(Ze,qe,tt,Uv(qe,Ct),wi);Ne(qe,Ct)}return null}function yi(Ze,qe,tt,Ct){if(typeof tt=="object"&&tt!==null&&tt.type===ir&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case $v:e:{for(var wi=tt.key;qe!==null;){if(qe.key===wi){if((wi=tt.type)===ir){if(qe.tag===7){T(Ze,qe.sibling),(Ct=O(qe,tt.props.children)).return=Ze,Ze=Ct;break e}}else if(qe.elementType===wi||typeof wi=="object"&&wi!==null&&wi.$$typeof===eh&&je(wi)===qe.type){T(Ze,qe.sibling),pt(Ct=O(qe,tt.props),tt),Ct.return=Ze,Ze=Ct;break e}T(Ze,qe);break}w(Ze,qe),qe=qe.sibling}tt.type===ir?((Ct=Ac(tt.props.children,Ze.mode,Ct,tt.key)).return=Ze,Ze=Ct):(pt(Ct=rm(tt.type,tt.key,tt.props,null,Ze.mode,Ct),tt),Ct.return=Ze,Ze=Ct)}return fe(Ze);case Wp:e:{for(wi=tt.key;qe!==null;){if(qe.key===wi){if(qe.tag===4&&qe.stateNode.containerInfo===tt.containerInfo&&qe.stateNode.implementation===tt.implementation){T(Ze,qe.sibling),(Ct=O(qe,tt.children||[])).return=Ze,Ze=Ct;break e}T(Ze,qe);break}w(Ze,qe),qe=qe.sibling}(Ct=ld(tt,Ze.mode,Ct)).return=Ze,Ze=Ct}return fe(Ze);case eh:return yi(Ze,qe,tt=(wi=tt._init)(tt._payload),Ct)}if(hd(tt))return function(ni,Pi,Yt,yn){for(var fn=null,gn=null,ai=Pi,Li=Pi=0,or=null;ai!==null&&Li<Yt.length;Li++){ai.index>Li?(or=ai,ai=null):or=ai.sibling;var ji=gt(ni,ai,Yt[Li],yn);if(ji===null){ai===null&&(ai=or);break}m&&ai&&ji.alternate===null&&w(ni,ai),Pi=K(ji,Pi,Li),gn===null?fn=ji:gn.sibling=ji,gn=ji,ai=or}if(Li===Yt.length)return T(ni,ai),ln&&V(ni,Li),fn;if(ai===null){for(;Li<Yt.length;Li++)(ai=Bt(ni,Yt[Li],yn))!==null&&(Pi=K(ai,Pi,Li),gn===null?fn=ai:gn.sibling=ai,gn=ai);return ln&&V(ni,Li),fn}for(ai=D(ai);Li<Yt.length;Li++)(or=ui(ai,ni,Li,Yt[Li],yn))!==null&&(m&&or.alternate!==null&&ai.delete(or.key===null?Li:or.key),Pi=K(or,Pi,Li),gn===null?fn=or:gn.sibling=or,gn=or);return m&&ai.forEach(function(bc){return w(ni,bc)}),ln&&V(ni,Li),fn}(Ze,qe,tt,Ct);if(o(tt)){if(typeof(wi=o(tt))!="function")throw Error(r(150));return function(ni,Pi,Yt,yn){if(Yt==null)throw Error(r(151));for(var fn=null,gn=null,ai=Pi,Li=Pi=0,or=null,ji=Yt.next();ai!==null&&!ji.done;Li++,ji=Yt.next()){ai.index>Li?(or=ai,ai=null):or=ai.sibling;var bc=gt(ni,ai,ji.value,yn);if(bc===null){ai===null&&(ai=or);break}m&&ai&&bc.alternate===null&&w(ni,ai),Pi=K(bc,Pi,Li),gn===null?fn=bc:gn.sibling=bc,gn=bc,ai=or}if(ji.done)return T(ni,ai),ln&&V(ni,Li),fn;if(ai===null){for(;!ji.done;Li++,ji=Yt.next())(ji=Bt(ni,ji.value,yn))!==null&&(Pi=K(ji,Pi,Li),gn===null?fn=ji:gn.sibling=ji,gn=ji);return ln&&V(ni,Li),fn}for(ai=D(ai);!ji.done;Li++,ji=Yt.next())(ji=ui(ai,ni,Li,ji.value,yn))!==null&&(m&&ji.alternate!==null&&ai.delete(ji.key===null?Li:ji.key),Pi=K(ji,Pi,Li),gn===null?fn=ji:gn.sibling=ji,gn=ji);return m&&ai.forEach(function(Fm){return w(ni,Fm)}),ln&&V(ni,Li),fn}(Ze,qe,tt=wi.call(tt),Ct)}if(typeof tt.then=="function")return yi(Ze,qe,Ee(tt),Ct);if(tt.$$typeof===Ya)return yi(Ze,qe,Uv(Ze,tt),Ct);Ne(Ze,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,qe!==null&&qe.tag===6?(T(Ze,qe.sibling),(Ct=O(qe,tt)).return=Ze,Ze=Ct):(T(Ze,qe),(Ct=Wv(tt,Ze.mode,Ct)).return=Ze,Ze=Ct),fe(Ze)):T(Ze,qe)}return function(Ze,qe,tt,Ct){try{Cm=0;var wi=yi(Ze,qe,tt,Ct);return Bn=null,wi}catch(Pi){if(Pi===tl)throw Pi;var ni=t(29,Pi,null,Ze.mode);return ni.lanes=Ct,ni.return=Ze,ni}}}function dt(m,w){x(pc,m=pn),x(ou,w),pn=m|w.baseLanes}function mt(){x(pc,pn),x(ou,ou.current)}function zt(){pn=pc.current,b(ou),b(pc)}function gi(m){var w=m.alternate;x(fr,1&fr.current),x(il,m),su===null&&(w===null||ou.current!==null||w.memoizedState!==null)&&(su=m)}function $t(m){if(m.tag===22){if(x(fr,fr.current),x(il,m),su===null){var w=m.alternate;w!==null&&w.memoizedState!==null&&(su=m)}}else Bi()}function Bi(){x(fr,fr.current),x(il,il.current)}function Di(m){b(il),su===m&&(su=null),b(fr)}function sn(m){for(var w=m;w!==null;){if(w.tag===13){var T=w.memoizedState;if(T!==null&&((T=T.dehydrated)===null||r0(T)||o0(T)))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if(128&w.flags)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===m)break;for(;w.sibling===null;){if(w.return===null||w.return===m)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}function ci(){throw Error(r(321))}function er(m,w){if(w===null)return!1;for(var T=0;T<w.length&&T<m.length;T++)if(!fs(m[T],w[T]))return!1;return!0}function xo(m,w,T,D,O,K){return $o=K,Ii=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,ei.H=m===null||m.memoizedState===null?Cd:ah,au=!1,K=T(D,O),au=!1,fA&&(K=No(w,T,D,O)),Ml(m),K}function Ml(m){ei.H=Dn;var w=Fn!==null&&Fn.next!==null;if($o=0,Hr=Fn=Ii=null,tf=!1,nl=0,Hn=null,w)throw Error(r(300));m===null||uo||(m=m.dependencies)!==null&&Dv(m)&&(uo=!0)}function No(m,w,T,D){Ii=m;var O=0;do{if(fA&&(Hn=null),nl=0,fA=!1,25<=O)throw Error(r(301));if(O+=1,Hr=Fn=null,m.updateQueue!=null){var K=m.updateQueue;K.lastEffect=null,K.events=null,K.stores=null,K.memoCache!=null&&(K.memoCache.index=0)}ei.H=gA,K=w(T,D)}while(fA);return K}function as(){var m=ei.H,w=m.useState()[0];return w=typeof w.then=="function"?ls(w):w,m=m.useState()[0],(Fn!==null?Fn.memoizedState:null)!==m&&(Ii.flags|=1024),w}function oa(){var m=Bm!==0;return Bm=0,m}function Rl(m,w,T){w.updateQueue=m.updateQueue,w.flags&=-2053,m.lanes&=~T}function sa(m){if(tf){for(m=m.memoizedState;m!==null;){var w=m.queue;w!==null&&(w.pending=null),m=m.next}tf=!1}$o=0,Hr=Fn=Ii=null,fA=!1,nl=Bm=0,Hn=null}function kn(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?Ii.memoizedState=Hr=m:Hr=Hr.next=m,Hr}function dn(){if(Fn===null){var m=Ii.alternate;m=m!==null?m.memoizedState:null}else m=Fn.next;var w=Hr===null?Ii.memoizedState:Hr.next;if(w!==null)Hr=w,Fn=m;else{if(m===null)throw Ii.alternate===null?Error(r(467)):Error(r(310));m={memoizedState:(Fn=m).memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Hr===null?Ii.memoizedState=Hr=m:Hr=Hr.next=m}return Hr}function ls(m){var w=nl;return nl+=1,Hn===null&&(Hn=[]),m=Tt(Hn,m,w),w=Ii,(Hr===null?w.memoizedState:Hr.next)===null&&(w=w.alternate,ei.H=w===null||w.memoizedState===null?Cd:ah),m}function wt(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return ls(m);if(m.$$typeof===Ya)return us(m)}throw Error(r(438,String(m)))}function kl(m){var w=null,T=Ii.updateQueue;if(T!==null&&(w=T.memoCache),w==null){var D=Ii.alternate;D!==null&&(D=D.updateQueue)!==null&&(D=D.memoCache)!=null&&(w={data:D.data.map(function(O){return O.slice()}),index:0})}if(w==null&&(w={data:[],index:0}),T===null&&(T=g0(),Ii.updateQueue=T),T.memoCache=w,(T=w.data[w.index])===void 0)for(T=w.data[w.index]=Array(m),D=0;D<m;D++)T[D]=sx;return w.index++,T}function aa(m,w){return typeof w=="function"?w(m):w}function so(m){return pe(dn(),Fn,m)}function pe(m,w,T){var D=m.queue;if(D===null)throw Error(r(311));D.lastRenderedReducer=T;var O=m.baseQueue,K=D.pending;if(K!==null){if(O!==null){var fe=O.next;O.next=K.next,K.next=fe}w.baseQueue=O=K,D.pending=null}if(K=m.baseState,O===null)m.memoizedState=K;else{var be=fe=null,Me=null,Je=w=O.next,lt=!1;do{var Bt=-536870913&Je.lane;if(Bt!==Je.lane?(Ot&Bt)===Bt:($o&Bt)===Bt){var gt=Je.revertLane;if(gt===0)Me!==null&&(Me=Me.next={lane:0,revertLane:0,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),Bt===pA&&(lt=!0);else{if(($o&gt)===gt){Je=Je.next,gt===pA&&(lt=!0);continue}Bt={lane:0,revertLane:Je.revertLane,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Me===null?(be=Me=Bt,fe=K):Me=Me.next=Bt,Ii.lanes|=gt,xa|=gt}Bt=Je.action,au&&T(K,Bt),K=Je.hasEagerState?Je.eagerState:T(K,Bt)}else gt={lane:Bt,revertLane:Je.revertLane,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Me===null?(be=Me=gt,fe=K):Me=Me.next=gt,Ii.lanes|=Bt,xa|=Bt;Je=Je.next}while(Je!==null&&Je!==w);if(Me===null?fe=K:Me.next=be,!fs(K,m.memoizedState)&&(uo=!0,lt&&(T=Ws)!==null))throw T;m.memoizedState=K,m.baseState=fe,m.baseQueue=Me,D.lastRenderedState=K}return O===null&&(D.lanes=0),[m.memoizedState,D.dispatch]}function Le(m){var w=dn(),T=w.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=m;var D=T.dispatch,O=T.pending,K=w.memoizedState;if(O!==null){T.pending=null;var fe=O=O.next;do K=m(K,fe.action),fe=fe.next;while(fe!==O);fs(K,w.memoizedState)||(uo=!0),w.memoizedState=K,w.baseQueue===null&&(w.baseState=K),T.lastRenderedState=K}return[K,D]}function We(m,w,T){var D=Ii,O=dn(),K=ln;if(K){if(T===void 0)throw Error(r(407));T=T()}else T=w();var fe=!fs((Fn||O).memoizedState,T);if(fe&&(O.memoizedState=T,uo=!0),O=O.queue,Qn(ht.bind(null,D,O,m),[m]),O.getSnapshot!==w||fe||Hr!==null&&1&Hr.memoizedState.tag){if(D.flags|=2048,Xi(9,Oe.bind(null,D,O,T,w),{destroy:void 0},null),Lt===null)throw Error(r(349));K||60&$o||Ke(D,w,T)}return T}function Ke(m,w,T){m.flags|=16384,m={getSnapshot:w,value:T},(w=Ii.updateQueue)===null?(w=g0(),Ii.updateQueue=w,w.stores=[m]):(T=w.stores)===null?w.stores=[m]:T.push(m)}function Oe(m,w,T,D){w.value=T,w.getSnapshot=D,_t(w)&&xt(m)}function ht(m,w,T){return T(function(){_t(w)&&xt(m)})}function _t(m){var w=m.getSnapshot;m=m.value;try{var T=w();return!fs(m,T)}catch{return!0}}function xt(m){var w=te(m,2);w!==null&&To(w,m,2)}function Mt(m){var w=kn();if(typeof m=="function"){var T=m;if(m=T(),au){q(!0);try{T()}finally{q(!1)}}}return w.memoizedState=w.baseState=m,w.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:m},w}function Wt(m,w,T,D){return m.baseState=T,pe(m,Fn,typeof D=="function"?D:aa)}function Gt(m,w,T,D,O){if(ac(m))throw Error(r(485));if((m=w.action)!==null){var K={payload:O,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(fe){K.listeners.push(fe)}};ei.T!==null?T(!0):K.isTransition=!1,D(K),(T=w.pending)===null?(K.next=w.pending=K,Ht(w,K)):(K.next=T.next,w.pending=T.next=K)}}function Ht(m,w){var T=w.action,D=w.payload,O=m.state;if(w.isTransition){var K=ei.T,fe={};ei.T=fe;try{var be=T(O,D),Me=ei.S;Me!==null&&Me(fe,be),mi(m,w,be)}catch(Je){_n(m,w,Je)}finally{ei.T=K}}else try{mi(m,w,K=T(O,D))}catch(Je){_n(m,w,Je)}}function mi(m,w,T){T!==null&&typeof T=="object"&&typeof T.then=="function"?T.then(function(D){$i(m,w,D)},function(D){return _n(m,w,D)}):$i(m,w,T)}function $i(m,w,T){w.status="fulfilled",w.value=T,Ei(w),m.state=T,(w=m.pending)!==null&&((T=w.next)===w?m.pending=null:(T=T.next,w.next=T,Ht(m,T)))}function _n(m,w,T){var D=m.pending;if(m.pending=null,D!==null){D=D.next;do w.status="rejected",w.reason=T,Ei(w),w=w.next;while(w!==D)}m.action=null}function Ei(m){m=m.listeners;for(var w=0;w<m.length;w++)(0,m[w])()}function si(m,w){return w}function Vt(m,w){if(ln){var T=Lt.formState;if(T!==null){e:{var D=Ii;if(ln){if(Ko){var O=cE(Ko,Ol);if(O){Ko=xx(O),D=aF(O);break e}}se(D)}D=!1}D&&(w=T[0])}}(T=kn()).memoizedState=T.baseState=w,D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:w},T.queue=D,T=qu.bind(null,Ii,D),D.dispatch=T,D=Mt(!1);var K=Wh.bind(null,Ii,!1,D.queue);return O={state:w,dispatch:null,action:m,pending:null},(D=kn()).queue=O,T=Gt.bind(null,Ii,O,K,T),O.dispatch=T,D.memoizedState=m,[w,T,!1]}function xn(m){return Ti(dn(),Fn,m)}function Ti(m,w,T){w=pe(m,w,si)[0],m=so(aa)[0],w=typeof w=="object"&&w!==null&&typeof w.then=="function"?ls(w):w;var D=dn(),O=D.queue,K=O.dispatch;return T!==D.memoizedState&&(Ii.flags|=2048,Xi(9,ao.bind(null,O,T),{destroy:void 0},null)),[w,K,m]}function ao(m,w){m.action=w}function la(m){var w=dn(),T=Fn;if(T!==null)return Ti(w,T,m);dn(),w=w.memoizedState;var D=(T=dn()).queue.dispatch;return T.memoizedState=m,[w,D,!1]}function Xi(m,w,T,D){return m={tag:m,create:w,inst:T,deps:D,next:null},(w=Ii.updateQueue)===null&&(w=g0(),Ii.updateQueue=w),(T=w.lastEffect)===null?w.lastEffect=m.next=m:(D=T.next,T.next=m,m.next=D,w.lastEffect=m),m}function ca(){return dn().memoizedState}function an(m,w,T,D){var O=kn();Ii.flags|=m,O.memoizedState=Xi(1|w,T,{destroy:void 0},D===void 0?null:D)}function Sr(m,w,T,D){var O=dn();D=D===void 0?null:D;var K=O.memoizedState.inst;Fn!==null&&D!==null&&er(D,Fn.memoizedState.deps)?O.memoizedState=Xi(w,T,K,D):(Ii.flags|=m,O.memoizedState=Xi(1|w,T,K,D))}function tr(m,w){an(8390656,8,m,w)}function Qn(m,w){Sr(2048,8,m,w)}function Or(m,w){return Sr(4,2,m,w)}function cs(m,w){return Sr(4,4,m,w)}function Ho(m,w){if(typeof w=="function"){m=m();var T=w(m);return function(){typeof T=="function"?T():w(null)}}if(w!=null)return m=m(),w.current=m,function(){w.current=null}}function Hc(m,w,T){T=T!=null?T.concat([m]):null,Sr(4,4,Ho.bind(null,w,m),T)}function zc(){}function KA(m,w){var T=dn();w=w===void 0?null:w;var D=T.memoizedState;return w!==null&&er(w,D[1])?D[0]:(T.memoizedState=[m,w],m)}function qh(m,w){var T=dn();w=w===void 0?null:w;var D=T.memoizedState;if(w!==null&&er(w,D[1]))return D[0];if(D=m(),au){q(!0);try{m()}finally{q(!1)}}return T.memoizedState=[D,w],D}function $A(m,w,T){return T===void 0||1073741824&$o?m.memoizedState=w:(m.memoizedState=T,m=Xg(),Ii.lanes|=m,xa|=m,T)}function Gu(m,w,T,D){return fs(T,w)?T:ou.current!==null?(m=$A(m,T,D),fs(m,w)||(uo=!0),m):42&$o?(m=Xg(),Ii.lanes|=m,xa|=m,w):(uo=!0,m.memoizedState=T)}function XA(m,w,T,D,O){var K=nh();ds(K!==0&&8>K?K:8);var fe,be,Me,Je=ei.T,lt={};ei.T=lt,Wh(m,!1,w,T);try{var Bt=O(),gt=ei.S;if(gt!==null&&gt(lt,Bt),Bt!==null&&typeof Bt=="object"&&typeof Bt.then=="function"){var ui=(fe=D,be=[],Me={status:"pending",value:null,reason:null,then:function(yi){be.push(yi)}},Bt.then(function(){Me.status="fulfilled",Me.value=fe;for(var yi=0;yi<be.length;yi++)(0,be[yi])(fe)},function(yi){for(Me.status="rejected",Me.reason=yi,yi=0;yi<be.length;yi++)(0,be[yi])(void 0)}),Me);zo(m,w,ui,Hs())}else zo(m,w,D,Hs())}catch(yi){zo(m,w,{then:function(){},status:"rejected",reason:yi},Hs())}finally{ds(K),ei.T=Je}}function Vu(m){var w=m.memoizedState;if(w!==null)return w;var T={};return(w={memoizedState:Zc,baseState:Zc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:Zc},next:null}).next={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:T},next:null},m.memoizedState=w,(m=m.alternate)!==null&&(m.memoizedState=w),w}function Fl(){return us(Ul)}function Gc(){return dn().memoizedState}function ua(){return dn().memoizedState}function YA(m){for(var w=m.return;w!==null;){switch(w.tag){case 24:case 3:var T=Hs(),D=Ue(w,m=ye(T),T);return D!==null&&(To(D,w,T),De(D,w,T)),w={cache:Nw()},void(m.payload=w)}w=w.return}}function zg(m,w,T){var D=Hs();T={lane:D,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null},ac(m)?Ls(w,T):(T=ve(m,w,T,D))!==null&&(To(T,m,D),Vc(T,w,D))}function qu(m,w,T){zo(m,w,T,Hs())}function zo(m,w,T,D){var O={lane:D,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null};if(ac(m))Ls(w,O);else{var K=m.alternate;if(m.lanes===0&&(K===null||K.lanes===0)&&(K=w.lastRenderedReducer)!==null)try{var fe=w.lastRenderedState,be=K(fe,T);if(O.hasEagerState=!0,O.eagerState=be,fs(be,fe))return Pe(m,w,O,0),Lt===null&&ke(),!1}catch{}if((T=ve(m,w,O,D))!==null)return To(T,m,D),Vc(T,w,D),!0}return!1}function Wh(m,w,T,D){if(D={lane:2,revertLane:G(),action:D,hasEagerState:!1,eagerState:null,next:null},ac(m)){if(w)throw Error(r(479))}else(w=ve(m,T,D,2))!==null&&To(w,m,2)}function ac(m){var w=m.alternate;return m===Ii||w!==null&&w===Ii}function Ls(m,w){fA=tf=!0;var T=m.pending;T===null?w.next=w:(w.next=T.next,T.next=w),m.pending=w}function Vc(m,w,T){if(4194176&T){var D=w.lanes;T|=D&=m.pendingLanes,w.lanes=T,N(m,T)}}function Os(m,w,T,D){T=(T=T(D,w=m.memoizedState))==null?w:Kv({},w,T),m.memoizedState=T,m.lanes===0&&(m.updateQueue.baseState=T)}function Lp(m,w,T,D,O,K,fe){return typeof(m=m.stateNode).shouldComponentUpdate=="function"?m.shouldComponentUpdate(D,K,fe):!w.prototype||!w.prototype.isPureReactComponent||!yt(T,D)||!yt(O,K)}function Wu(m,w,T,D){m=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(T,D),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(T,D),w.state!==m&&zn.enqueueReplaceState(w,w.state,null)}function ha(m,w){var T=w;if("ref"in w)for(var D in T={},w)D!=="ref"&&(T[D]=w[D]);if(m=m.defaultProps)for(var O in T===w&&(T=Kv({},T)),m)T[O]===void 0&&(T[O]=m[O]);return T}function lc(m,w){try{(0,m.onUncaughtError)(w.value,{componentStack:w.stack})}catch(T){setTimeout(function(){throw T})}}function Co(m,w,T){try{(0,m.onCaughtError)(T.value,{componentStack:T.stack,errorBoundary:w.tag===1?w.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function Qs(m,w,T){return(T=ye(T)).tag=3,T.payload={element:null},T.callback=function(){lc(m,w)},T}function ju(m){return(m=ye(m)).tag=3,m}function Yr(m,w,T,D){var O=T.type.getDerivedStateFromError;if(typeof O=="function"){var K=D.value;m.payload=function(){return O(K)},m.callback=function(){Co(w,T,D)}}var fe=T.stateNode;fe!==null&&typeof fe.componentDidCatch=="function"&&(m.callback=function(){Co(w,T,D),typeof O!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var be=D.stack;this.componentDidCatch(D.value,{componentStack:be!==null?be:""})})}function Bo(m,w,T,D){w.child=m===null?kx(w,null,T,D):xd(w,m.child,T,D)}function Ku(m,w,T,D,O){T=T.render;var K=w.ref;if("ref"in D){var fe={};for(var be in D)be!=="ref"&&(fe[be]=D[be])}else fe=D;return ed(w),D=xo(m,w,T,fe,K,O),be=oa(),m===null||uo?(ln&&be&&Z(w),w.flags|=1,Bo(m,w,D,O),w.child):(Rl(m,w,O),uc(m,w,O))}function $u(m,w,T,D,O){if(m===null){var K=T.type;return typeof K!="function"||nm(K)||K.defaultProps!==void 0||T.compare!==null?((m=rm(T.type,null,D,w,w.mode,O)).ref=w.ref,m.return=w,w.child=m):(w.tag=15,w.type=K,Xu(m,w,K,D,O))}if(K=m.child,!Lw(m,O)){var fe=K.memoizedProps;if((T=(T=T.compare)!==null?T:yt)(fe,D)&&m.ref===w.ref)return uc(m,w,O)}return w.flags|=1,(m=_a(K,D)).ref=w.ref,m.return=w,w.child=m}function Xu(m,w,T,D,O){if(m!==null){var K=m.memoizedProps;if(yt(K,D)&&m.ref===w.ref){if(uo=!1,w.pendingProps=D=K,!Lw(m,O))return w.lanes=m.lanes,uc(m,w,O);131072&m.flags&&(uo=!0)}}return Eo(m,w,T,D,O)}function ZA(m,w,T){var D=w.pendingProps,O=D.children,K=!!(2&w.stateNode._pendingVisibility),fe=m!==null?m.memoizedState:null;if(Go(m,w),D.mode==="hidden"||K){if(128&w.flags){if(D=fe!==null?fe.baseLanes|T:T,m!==null){for(O=w.child=m.child,K=0;O!==null;)K=K|O.lanes|O.childLanes,O=O.sibling;w.childLanes=K&~D}else w.childLanes=0,w.child=null;return So(m,w,D,T)}if(!(536870912&T))return w.lanes=w.childLanes=536870912,So(m,w,fe!==null?fe.baseLanes|T:T,T);w.memoizedState={baseLanes:0,cachePool:null},m!==null&&Pv(w,fe!==null?fe.cachePool:null),fe!==null?dt(w,fe):mt(),$t(w)}else fe!==null?(Pv(w,fe.cachePool),dt(w,fe),Bi(),w.memoizedState=null):(m!==null&&Pv(w,null),mt(),Bi());return Bo(m,w,O,T),w.child}function So(m,w,T,D){var O=id();return O=O===null?null:{parent:Za?gr._currentValue:gr._currentValue2,pool:O},w.memoizedState={baseLanes:T,cachePool:O},m!==null&&Pv(w,null),mt(),$t(w),m!==null&&Gg(m,w,D,!0),null}function Go(m,w){var T=w.ref;if(T===null)m!==null&&m.ref!==null&&(w.flags|=2097664);else{if(typeof T!="function"&&typeof T!="object")throw Error(r(284));m!==null&&m.ref===T||(w.flags|=2097664)}}function Eo(m,w,T,D,O){return ed(w),T=xo(m,w,T,D,void 0,O),D=oa(),m===null||uo?(ln&&D&&Z(w),w.flags|=1,Bo(m,w,T,O),w.child):(Rl(m,w,O),uc(m,w,O))}function cc(m,w,T,D,O,K){return ed(w),w.updateQueue=null,T=No(w,D,T,O),Ml(m),D=oa(),m===null||uo?(ln&&D&&Z(w),w.flags|=1,Bo(m,w,T,K),w.child):(Rl(m,w,K),uc(m,w,K))}function JA(m,w,T,D,O){if(ed(w),w.stateNode===null){var K=Jc,fe=T.contextType;typeof fe=="object"&&fe!==null&&(K=us(fe)),K=new T(D,K),w.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,K.updater=zn,w.stateNode=K,K._reactInternals=w,(K=w.stateNode).props=D,K.state=w.memoizedState,K.refs={},Te(w),fe=T.contextType,K.context=typeof fe=="object"&&fe!==null?us(fe):Jc,K.state=w.memoizedState,typeof(fe=T.getDerivedStateFromProps)=="function"&&(Os(w,T,fe,D),K.state=w.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(fe=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),fe!==K.state&&zn.enqueueReplaceState(K,K.state,null),Ve(w,D,K,O),ct(),K.state=w.memoizedState),typeof K.componentDidMount=="function"&&(w.flags|=4194308),D=!0}else if(m===null){K=w.stateNode;var be=w.memoizedProps,Me=ha(T,be);K.props=Me;var Je=K.context,lt=T.contextType;fe=Jc,typeof lt=="object"&&lt!==null&&(fe=us(lt));var Bt=T.getDerivedStateFromProps;lt=typeof Bt=="function"||typeof K.getSnapshotBeforeUpdate=="function",be=w.pendingProps!==be,lt||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(be||Je!==fe)&&Wu(w,K,D,fe),nu=!1;var gt=w.memoizedState;K.state=gt,Ve(w,D,K,O),ct(),Je=w.memoizedState,be||gt!==Je||nu?(typeof Bt=="function"&&(Os(w,T,Bt,D),Je=w.memoizedState),(Me=nu||Lp(w,T,Me,D,gt,Je,fe))?(lt||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(w.flags|=4194308)):(typeof K.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=D,w.memoizedState=Je),K.props=D,K.state=Je,K.context=fe,D=Me):(typeof K.componentDidMount=="function"&&(w.flags|=4194308),D=!1)}else{K=w.stateNode,Ie(m,w),lt=ha(T,fe=w.memoizedProps),K.props=lt,Bt=w.pendingProps,gt=K.context,Je=T.contextType,Me=Jc,typeof Je=="object"&&Je!==null&&(Me=us(Je)),(Je=typeof(be=T.getDerivedStateFromProps)=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(fe!==Bt||gt!==Me)&&Wu(w,K,D,Me),nu=!1,gt=w.memoizedState,K.state=gt,Ve(w,D,K,O),ct();var ui=w.memoizedState;fe!==Bt||gt!==ui||nu||m!==null&&m.dependencies!==null&&Dv(m.dependencies)?(typeof be=="function"&&(Os(w,T,be,D),ui=w.memoizedState),(lt=nu||Lp(w,T,lt,D,gt,ui,Me)||m!==null&&m.dependencies!==null&&Dv(m.dependencies))?(Je||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(D,ui,Me),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(D,ui,Me)),typeof K.componentDidUpdate=="function"&&(w.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof K.componentDidUpdate!="function"||fe===m.memoizedProps&&gt===m.memoizedState||(w.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||fe===m.memoizedProps&&gt===m.memoizedState||(w.flags|=1024),w.memoizedProps=D,w.memoizedState=ui),K.props=D,K.state=ui,K.context=Me,D=lt):(typeof K.componentDidUpdate!="function"||fe===m.memoizedProps&&gt===m.memoizedState||(w.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||fe===m.memoizedProps&&gt===m.memoizedState||(w.flags|=1024),D=!1)}return K=D,Go(m,w),D=!!(128&w.flags),K||D?(K=w.stateNode,T=D&&typeof T.getDerivedStateFromError!="function"?null:K.render(),w.flags|=1,m!==null&&D?(w.child=xd(w,m.child,null,O),w.child=xd(w,null,T,O)):Bo(m,w,T,O),w.memoizedState=K.state,m=w.child):m=uc(m,w,O),m}function US(m,w,T,D){return Be(),w.flags|=256,Bo(m,w,T,D),w.child}function kw(m){return{baseLanes:m,cachePool:Hw()}}function Fw(m,w,T){return m=m!==null?m.childLanes&~T:0,w&&(m|=Xo),m}function PS(m,w,T){var D,O=w.pendingProps,K=!1,fe=!!(128&w.flags);if((D=fe)||(D=(m===null||m.memoizedState!==null)&&!!(2&fr.current)),D&&(K=!0,w.flags&=-129),D=!!(32&w.flags),w.flags&=-33,m===null){if(ln){if(K?gi(w):Bi(),ln){var be,Me=Ko;(be=Me)&&((Me=hE(Me,Ol))!==null?(w.memoizedState={dehydrated:Me,treeContext:hA!==null?{id:tu,overflow:iu}:null,retryLane:536870912},(be=t(18,null,null,0)).stateNode=Me,be.return=w,w.child=be,gs=w,Ko=null,be=!0):be=!1),be||se(w)}if((Me=w.memoizedState)!==null&&(Me=Me.dehydrated)!==null)return o0(Me)?w.lanes=16:w.lanes=536870912,null;Di(w)}return Me=O.children,O=O.fallback,K?(Bi(),Me=Fv({mode:"hidden",children:Me},K=w.mode),O=Ac(O,K,T,null),Me.return=w,O.return=w,Me.sibling=O,w.child=Me,(K=w.child).memoizedState=kw(T),K.childLanes=Fw(m,D,T),w.memoizedState=m0,O):(gi(w),Dw(w,Me))}if((be=m.memoizedState)!==null&&(Me=be.dehydrated)!==null){if(fe)256&w.flags?(gi(w),w.flags&=-257,w=Uw(m,w,T)):w.memoizedState!==null?(Bi(),w.child=m.child,w.flags|=128,w=null):(Bi(),K=O.fallback,Me=w.mode,O=Fv({mode:"visible",children:O.children},Me),(K=Ac(K,Me,T,null)).flags|=2,O.return=w,K.return=w,O.sibling=K,w.child=O,xd(w,m.child,null,T),(O=w.child).memoizedState=kw(T),O.childLanes=Fw(m,D,T),w.memoizedState=m0,w=K);else if(gi(w),o0(Me))D=aE(Me).digest,(O=Error(r(419))).stack="",O.digest=D,Re({value:O,source:null,stack:null}),w=Uw(m,w,T);else if(uo||Gg(m,w,T,!1),D=!!(T&m.childLanes),uo||D){if((D=Lt)!==null){if(42&(O=T&-T))O=1;else switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=64;break;case 268435456:O=134217728;break;default:O=0}if((O=O&(D.suspendedLanes|T)?0:O)!==0&&O!==be.retryLane)throw be.retryLane=O,te(m,O),To(D,m,O),lu}r0(Me)||Zg(),w=Uw(m,w,T)}else r0(Me)?(w.flags|=128,w.child=m.child,w=An.bind(null,m),lE(Me,w),w=null):(m=be.treeContext,Wo&&(Ko=uE(Me),gs=w,ln=!0,ya=null,Ol=!1,m!==null&&(ba[Ja++]=tu,ba[Ja++]=iu,ba[Ja++]=hA,tu=m.id,iu=m.overflow,hA=w)),(w=Dw(w,O.children)).flags|=4096);return w}return K?(Bi(),K=O.fallback,Me=w.mode,fe=(be=m.child).sibling,(O=_a(be,{mode:"hidden",children:O.children})).subtreeFlags=31457280&be.subtreeFlags,fe!==null?K=_a(fe,K):(K=Ac(K,Me,T,null)).flags|=2,K.return=w,O.return=w,O.sibling=K,w.child=O,O=K,K=w.child,(Me=m.child.memoizedState)===null?Me=kw(T):((be=Me.cachePool)!==null?(fe=Za?gr._currentValue:gr._currentValue2,be=be.parent!==fe?{parent:fe,pool:fe}:be):be=Hw(),Me={baseLanes:Me.baseLanes|T,cachePool:be}),K.memoizedState=Me,K.childLanes=Fw(m,D,T),w.memoizedState=m0,O):(gi(w),m=(T=m.child).sibling,(T=_a(T,{mode:"visible",children:O.children})).return=w,T.sibling=null,m!==null&&((D=w.deletions)===null?(w.deletions=[m],w.flags|=16):D.push(m)),w.child=T,w.memoizedState=null,T)}function Dw(m,w){return(w=Fv({mode:"visible",children:w},m.mode)).return=m,m.child=w}function Fv(m,w){return qp(m,w,0,null)}function Uw(m,w,T){return xd(w,m.child,null,T),(m=Dw(w,w.pendingProps.children)).flags|=2,w.memoizedState=null,m}function LS(m,w,T){m.lanes|=w;var D=m.alternate;D!==null&&(D.lanes|=w),Ow(m.return,w,T)}function Pw(m,w,T,D,O){var K=m.memoizedState;K===null?m.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:D,tail:T,tailMode:O}:(K.isBackwards=w,K.rendering=null,K.renderingStartTime=0,K.last=D,K.tail=T,K.tailMode=O)}function OS(m,w,T){var D=w.pendingProps,O=D.revealOrder,K=D.tail;if(Bo(m,w,D.children,T),2&(D=fr.current))D=1&D|2,w.flags|=128;else{if(m!==null&&128&m.flags)e:for(m=w.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&LS(m,T,w);else if(m.tag===19)LS(m,T,w);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===w)break e;for(;m.sibling===null;){if(m.return===null||m.return===w)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}D&=1}switch(x(fr,D),O){case"forwards":for(T=w.child,O=null;T!==null;)(m=T.alternate)!==null&&sn(m)===null&&(O=T),T=T.sibling;(T=O)===null?(O=w.child,w.child=null):(O=T.sibling,T.sibling=null),Pw(w,!1,O,T,K);break;case"backwards":for(T=null,O=w.child,w.child=null;O!==null;){if((m=O.alternate)!==null&&sn(m)===null){w.child=O;break}m=O.sibling,O.sibling=T,T=O,O=m}Pw(w,!0,T,null,K);break;case"together":Pw(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function uc(m,w,T){if(m!==null&&(w.dependencies=m.dependencies),xa|=w.lanes,!(T&w.childLanes)&&(m===null||(Gg(m,w,T,!1),!(T&w.childLanes))))return null;if(m!==null&&w.child!==m.child)throw Error(r(153));if(w.child!==null){for(T=_a(m=w.child,m.pendingProps),w.child=T,T.return=w;m.sibling!==null;)m=m.sibling,(T=T.sibling=_a(m,m.pendingProps)).return=w;T.sibling=null}return w.child}function Lw(m,w){return!!(m.lanes&w)||!((m=m.dependencies)===null||!Dv(m))}function QS(m,w,T){if(m!==null)if(m.memoizedProps!==w.pendingProps)uo=!0;else{if(!(Lw(m,T)||128&w.flags))return uo=!1,function(be,Me,Je){switch(Me.tag){case 3:$(Me,Me.stateNode.containerInfo),jh(Me,gr,be.memoizedState.cache),Be();break;case 27:case 5:oe(Me);break;case 4:$(Me,Me.stateNode.containerInfo);break;case 10:jh(Me,Me.type,Me.memoizedProps.value);break;case 13:var lt=Me.memoizedState;if(lt!==null)return lt.dehydrated!==null?(gi(Me),Me.flags|=128,null):Je&Me.child.childLanes?PS(be,Me,Je):(gi(Me),(be=uc(be,Me,Je))!==null?be.sibling:null);gi(Me);break;case 19:var Bt=!!(128&be.flags);if((lt=!!(Je&Me.childLanes))||(Gg(be,Me,Je,!1),lt=!!(Je&Me.childLanes)),Bt){if(lt)return OS(be,Me,Je);Me.flags|=128}if((Bt=Me.memoizedState)!==null&&(Bt.rendering=null,Bt.tail=null,Bt.lastEffect=null),x(fr,fr.current),lt)break;return null;case 22:case 23:return Me.lanes=0,ZA(be,Me,Je);case 24:jh(Me,gr,be.memoizedState.cache)}return uc(be,Me,Je)}(m,w,T);uo=!!(131072&m.flags)}else uo=!1,ln&&1048576&w.flags&&Y(w,bm,w.index);switch(w.lanes=0,w.tag){case 16:e:{m=w.pendingProps;var D=w.elementType,O=D._init;if(D=O(D._payload),w.type=D,typeof D!="function"){if(D!=null){if((O=D.$$typeof)===rA){w.tag=11,w=Ku(null,w,D,m,T);break e}if(O===ox){w.tag=14,w=$u(null,w,D,m,T);break e}}throw w=s(D)||D,Error(r(306,w,""))}nm(D)?(m=ha(D,m),w.tag=1,w=JA(null,w,D,m,T)):(w.tag=0,w=Eo(null,w,D,m,T))}return w;case 0:return Eo(m,w,w.type,w.pendingProps,T);case 1:return JA(m,w,D=w.type,O=ha(D,w.pendingProps),T);case 3:e:{if($(w,w.stateNode.containerInfo),m===null)throw Error(r(387));var K=w.pendingProps;D=(O=w.memoizedState).element,Ie(m,w),Ve(w,K,null,T);var fe=w.memoizedState;if(K=fe.cache,jh(w,gr,K),K!==O.cache&&Qw(w,[gr],T,!0),ct(),K=fe.element,Wo&&O.isDehydrated){if(O={element:K,isDehydrated:!1,cache:fe.cache},w.updateQueue.baseState=O,w.memoizedState=O,256&w.flags){w=US(m,w,K,T);break e}if(K!==D){Re(D=J(Error(r(424)),w)),w=US(m,w,K,T);break e}for(Wo&&(Ko=s0(w.stateNode.containerInfo),gs=w,ln=!0,ya=null,Ol=!0),T=kx(w,null,K,T),w.child=T;T;)T.flags=-3&T.flags|4096,T=T.sibling}else{if(Be(),K===D){w=uc(m,w,T);break e}Bo(m,w,K,T)}w=w.child}return w;case 26:if(Pl)return Go(m,w),m===null?(T=Bx(w.type,null,w.pendingProps,null))?w.memoizedState=T:ln||(w.stateNode=CE(w.type,w.pendingProps,sh.current,w)):w.memoizedState=Bx(w.type,m.memoizedProps,w.pendingProps,m.memoizedState),null;case 27:if(jo)return oe(w),m===null&&jo&&ln&&(D=w.stateNode=_m(w.type,w.pendingProps,sh.current,rn.current,!1),gs=w,Ol=!0,Ko=fd(D)),D=w.pendingProps.children,m!==null||ln?Bo(m,w,D,T):w.child=xd(w,null,D,T),Go(m,w),w.child;case 5:return m===null&&ln&&(vE(w.type,w.pendingProps,rn.current),(O=D=Ko)&&((D=a0(D,w.type,w.pendingProps,Ol))!==null?(w.stateNode=D,gs=w,Ko=fd(D),Ol=!1,O=!0):O=!1),O||se(w)),oe(w),O=w.type,K=w.pendingProps,fe=m!==null?m.memoizedProps:null,D=K.children,dc(O,K)?D=null:fe!==null&&dc(O,fe)&&(w.flags|=32),w.memoizedState!==null&&(O=xo(m,w,as,null,null,T),Za?Ul._currentValue=O:Ul._currentValue2=O),Go(m,w),Bo(m,w,D,T),w.child;case 6:return m===null&&ln&&(bE(w.pendingProps,rn.current),(m=T=Ko)&&((T=fm(T,w.pendingProps,Ol))!==null?(w.stateNode=T,gs=w,Ko=null,m=!0):m=!1),m||se(w)),null;case 13:return PS(m,w,T);case 4:return $(w,w.stateNode.containerInfo),D=w.pendingProps,m===null?w.child=xd(w,null,D,T):Bo(m,w,D,T),w.child;case 11:return Ku(m,w,w.type,w.pendingProps,T);case 7:return Bo(m,w,w.pendingProps,T),w.child;case 8:case 12:return Bo(m,w,w.pendingProps.children,T),w.child;case 10:return D=w.pendingProps,jh(w,w.type,D.value),Bo(m,w,D.children,T),w.child;case 9:return O=w.type._context,D=w.pendingProps.children,ed(w),D=D(O=us(O)),w.flags|=1,Bo(m,w,D,T),w.child;case 14:return $u(m,w,w.type,w.pendingProps,T);case 15:return Xu(m,w,w.type,w.pendingProps,T);case 19:return OS(m,w,T);case 22:return ZA(m,w,T);case 24:return ed(w),D=us(gr),m===null?((O=id())===null&&(O=Lt,K=Nw(),O.pooledCache=K,K.refCount++,K!==null&&(O.pooledCacheLanes|=T),O=K),w.memoizedState={parent:D,cache:O},Te(w),jh(w,gr,O)):(m.lanes&T&&(Ie(m,w),Ve(w,null,null,T),ct()),O=m.memoizedState,K=w.memoizedState,O.parent!==D?(O={parent:D,cache:D},w.memoizedState=O,w.lanes===0&&(w.memoizedState=w.updateQueue.baseState=O),jh(w,gr,D)):(D=K.cache,jh(w,gr,D),D!==O.cache&&Qw(w,[gr],T,!0))),Bo(m,w,w.pendingProps.children,T),w.child;case 29:throw w.pendingProps}throw Error(r(156,w.tag))}function jh(m,w,T){Za?(x(_0,w._currentValue),w._currentValue=T):(x(_0,w._currentValue2),w._currentValue2=T)}function qc(m){var w=_0.current;Za?m._currentValue=w:m._currentValue2=w,b(_0)}function Ow(m,w,T){for(;m!==null;){var D=m.alternate;if((m.childLanes&w)!==w?(m.childLanes|=w,D!==null&&(D.childLanes|=w)):D!==null&&(D.childLanes&w)!==w&&(D.childLanes|=w),m===T)break;m=m.return}}function Qw(m,w,T,D){var O=m.child;for(O!==null&&(O.return=m);O!==null;){var K=O.dependencies;if(K!==null){var fe=O.child;K=K.firstContext;e:for(;K!==null;){var be=K;K=O;for(var Me=0;Me<w.length;Me++)if(be.context===w[Me]){K.lanes|=T,(be=K.alternate)!==null&&(be.lanes|=T),Ow(K.return,T,m),D||(fe=null);break e}K=be.next}}else if(O.tag===18){if((fe=O.return)===null)throw Error(r(341));fe.lanes|=T,(K=fe.alternate)!==null&&(K.lanes|=T),Ow(fe,T,m),fe=null}else fe=O.child;if(fe!==null)fe.return=O;else for(fe=O;fe!==null;){if(fe===m){fe=null;break}if((O=fe.sibling)!==null){O.return=fe.return,fe=O;break}fe=fe.return}O=fe}}function Gg(m,w,T,D){m=null;for(var O=w,K=!1;O!==null;){if(!K){if(524288&O.flags)K=!0;else if(262144&O.flags)break}if(O.tag===10){var fe=O.alternate;if(fe===null)throw Error(r(387));if((fe=fe.memoizedProps)!==null){var be=O.type;fs(O.pendingProps.value,fe.value)||(m!==null?m.push(be):m=[be])}}else if(O===ym.current){if((fe=O.alternate)===null)throw Error(r(387));fe.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(m!==null?m.push(Ul):m=[Ul])}O=O.return}m!==null&&Qw(w,m,T,D),w.flags|=262144}function Dv(m){for(m=m.firstContext;m!==null;){var w=m.context;if(!fs(Za?w._currentValue:w._currentValue2,m.memoizedValue))return!0;m=m.next}return!1}function ed(m){lh=m,zr=null,(m=m.dependencies)!==null&&(m.firstContext=null)}function us(m){return NS(lh,m)}function Uv(m,w){return lh===null&&ed(m),NS(m,w)}function NS(m,w){var T=Za?w._currentValue:w._currentValue2;if(w={context:w,memoizedValue:T,next:null},zr===null){if(m===null)throw Error(r(308));zr=w,m.dependencies={lanes:0,firstContext:w},m.flags|=524288}else zr=zr.next=w;return T}function Nw(){return{controller:new fc,data:new Map,refCount:0}}function td(m){m.refCount--,m.refCount===0&&FE(rl,function(){m.controller.abort()})}function id(){var m=Ql.current;return m!==null?m:Lt.pooledCache}function Pv(m,w){x(Ql,w===null?Ql.current:w.pool)}function Hw(){var m=id();return m===null?null:{parent:Za?gr._currentValue:gr._currentValue2,pool:m}}function Aa(m){m.flags|=4}function zw(m,w){if(m!==null&&m.child===w.child)return!1;if(16&w.flags)return!0;for(m=w.child;m!==null;){if(13878&m.flags||13878&m.subtreeFlags)return!0;m=m.sibling}return!1}function Lv(m,w,T,D){if(qo)for(T=w.child;T!==null;){if(T.tag===5||T.tag===6)hm(m,T.stateNode);else if(!(T.tag===4||jo&&T.tag===27)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===w)break;for(;T.sibling===null;){if(T.return===null||T.return===w)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else if(ih)for(var O=w.child;O!==null;){if(O.tag===5){var K=O.stateNode;T&&D&&(K=wx(K,O.type,O.memoizedProps)),hm(m,K)}else if(O.tag===6)K=O.stateNode,T&&D&&(K=n0(K,O.memoizedProps)),hm(m,K);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)(K=O.child)!==null&&(K.return=O),Lv(m,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===w)break;for(;O.sibling===null;){if(O.return===null||O.return===w)return;O=O.return}O.sibling.return=O.return,O=O.sibling}}function Gw(m,w,T,D){if(ih)for(var O=w.child;O!==null;){if(O.tag===5){var K=O.stateNode;T&&D&&(K=wx(K,O.type,O.memoizedProps)),oE(m,K)}else if(O.tag===6)K=O.stateNode,T&&D&&(K=n0(K,O.memoizedProps)),oE(m,K);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)(K=O.child)!==null&&(K.return=O),Gw(m,O,!(O.memoizedProps!==null&&O.memoizedProps.mode==="manual"),!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===w)break;for(;O.sibling===null;){if(O.return===null||O.return===w)return;O=O.return}O.sibling.return=O.return,O=O.sibling}}function nd(m,w){if(ih&&zw(m,w)){var T=(m=w.stateNode).containerInfo,D=bx();Gw(D,w,!1,!1),m.pendingChildren=D,Aa(w),sE(T,D)}}function Vw(m,w,T,D){if(qo)m.memoizedProps!==D&&Aa(w);else if(ih){var O=m.stateNode,K=m.memoizedProps;if((m=zw(m,w))||K!==D){var fe=rn.current;(K=vx(O,T,K,D,!m,null))===O?w.stateNode=O:(th(K,T,D,fe)&&Aa(w),w.stateNode=K,m?Lv(K,w,!1,!1):Aa(w))}else w.stateNode=O}}function qw(m,w,T){if(Zr(w,T)){if(m.flags|=16777216,!dm(w,T)){if(!ex())throw ru=wd,f0;m.flags|=8192}}else m.flags&=-16777217}function HS(m,w){if(Ex(w)){if(m.flags|=16777216,!mm(w)){if(!ex())throw ru=wd,f0;m.flags|=8192}}else m.flags&=-16777217}function Vg(m,w){w!==null&&(m.flags|=4),16384&m.flags&&(w=m.tag!==22?k():536870912,m.lanes|=w,cu|=w)}function Op(m,w){if(!ln)switch(m.tailMode){case"hidden":w=m.tail;for(var T=null;w!==null;)w.alternate!==null&&(T=w),w=w.sibling;T===null?m.tail=null:T.sibling=null;break;case"collapsed":T=m.tail;for(var D=null;T!==null;)T.alternate!==null&&(D=T),T=T.sibling;D===null?w||m.tail===null?m.tail=null:m.tail.sibling=null:D.sibling=null}}function Nn(m){var w=m.alternate!==null&&m.alternate.child===m.child,T=0,D=0;if(w)for(var O=m.child;O!==null;)T|=O.lanes|O.childLanes,D|=31457280&O.subtreeFlags,D|=31457280&O.flags,O.return=m,O=O.sibling;else for(O=m.child;O!==null;)T|=O.lanes|O.childLanes,D|=O.subtreeFlags,D|=O.flags,O.return=m,O=O.sibling;return m.subtreeFlags|=D,m.childLanes=T,w}function qg(m,w,T){var D=w.pendingProps;switch(ue(w),w.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Nn(w),null;case 3:return T=w.stateNode,D=null,m!==null&&(D=m.memoizedState.cache),w.memoizedState.cache!==D&&(w.flags|=2048),qc(gr),ee(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),m!==null&&m.child!==null||(xe(w)?Aa(w):m===null||m.memoizedState.isDehydrated&&!(256&w.flags)||(w.flags|=1024,ya!==null&&(Jh(ya),ya=null))),nd(m,w),Nn(w),null;case 26:if(Pl){T=w.type;var O=w.memoizedState;return m===null?(Aa(w),O!==null?(Nn(w),HS(w,O)):(Nn(w),qw(w,T,D))):O?O!==m.memoizedState?(Aa(w),Nn(w),HS(w,O)):(Nn(w),w.flags&=-16777217):(qo?m.memoizedProps!==D&&Aa(w):Vw(m,w,T,D),Nn(w),qw(w,T,D)),null}case 27:if(jo){if(ge(w),T=sh.current,O=w.type,m!==null&&w.stateNode!=null)qo?m.memoizedProps!==D&&Aa(w):Vw(m,w,O,D);else{if(!D){if(w.stateNode===null)throw Error(r(166));return Nn(w),null}m=rn.current,xe(w)?Ae(w,m):(m=_m(O,D,T,m,!0),w.stateNode=m,Aa(w))}return Nn(w),null}case 5:if(ge(w),T=w.type,m!==null&&w.stateNode!=null)Vw(m,w,T,D);else{if(!D){if(w.stateNode===null)throw Error(r(166));return Nn(w),null}m=rn.current,xe(w)?Ae(w,m):(Lv(O=lx(T,D,sh.current,m,w),w,!1,!1),w.stateNode=O,th(O,T,D,m)&&Aa(w))}return Nn(w),qw(w,w.type,w.pendingProps),null;case 6:if(m&&w.stateNode!=null)T=m.memoizedProps,qo?T!==D&&Aa(w):ih&&(T!==D?(w.stateNode=Kp(D,sh.current,rn.current,w),Aa(w)):w.stateNode=m.stateNode);else{if(typeof D!="string"&&w.stateNode===null)throw Error(r(166));if(m=sh.current,T=rn.current,xe(w)){if(!Wo)throw Error(r(176));if(m=w.stateNode,T=w.memoizedProps,D=null,(O=gs)!==null)switch(O.tag){case 27:case 5:D=O.memoizedProps}dE(m,T,w,D)||se(w)}else w.stateNode=Kp(D,m,T,w)}return Nn(w),null;case 13:if(D=w.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(O=xe(w),D!==null&&D.dehydrated!==null){if(m===null){if(!O)throw Error(r(318));if(!Wo)throw Error(r(344));if(!(O=(O=w.memoizedState)!==null?O.dehydrated:null))throw Error(r(317));pE(O,w)}else Be(),!(128&w.flags)&&(w.memoizedState=null),w.flags|=4;Nn(w),O=!1}else ya!==null&&(Jh(ya),ya=null),O=!0;if(!O)return 256&w.flags?(Di(w),w):(Di(w),null)}if(Di(w),128&w.flags)return w.lanes=T,w;if(T=D!==null,m=m!==null&&m.memoizedState!==null,T){O=null,(D=w.child).alternate!==null&&D.alternate.memoizedState!==null&&D.alternate.memoizedState.cachePool!==null&&(O=D.alternate.memoizedState.cachePool.pool);var K=null;D.memoizedState!==null&&D.memoizedState.cachePool!==null&&(K=D.memoizedState.cachePool.pool),K!==O&&(D.flags|=2048)}return T!==m&&T&&(w.child.flags|=8192),Vg(w,w.updateQueue),Nn(w),null;case 4:return ee(),nd(m,w),m===null&&YS(w.stateNode.containerInfo),Nn(w),null;case 10:return qc(w.type),Nn(w),null;case 19:if(b(fr),(O=w.memoizedState)===null)return Nn(w),null;if(D=!!(128&w.flags),(K=O.rendering)===null)if(D)Op(O,!1);else{if(bn!==0||m!==null&&128&m.flags)for(m=w.child;m!==null;){if((K=sn(m))!==null){for(w.flags|=128,Op(O,!1),m=K.updateQueue,w.updateQueue=m,Vg(w,m),w.subtreeFlags=0,m=T,T=w.child;T!==null;)ix(T,m),T=T.sibling;return x(fr,1&fr.current|2),w.child}m=m.sibling}O.tail!==null&&Io()>vA&&(w.flags|=128,D=!0,Op(O,!1),w.lanes=4194304)}else{if(!D)if((m=sn(K))!==null){if(w.flags|=128,D=!0,m=m.updateQueue,w.updateQueue=m,Vg(w,m),Op(O,!0),O.tail===null&&O.tailMode==="hidden"&&!K.alternate&&!ln)return Nn(w),null}else 2*Io()-O.renderingStartTime>vA&&T!==536870912&&(w.flags|=128,D=!0,Op(O,!1),w.lanes=4194304);O.isBackwards?(K.sibling=w.child,w.child=K):((m=O.last)!==null?m.sibling=K:w.child=K,O.last=K)}return O.tail!==null?(w=O.tail,O.rendering=w,O.tail=w.sibling,O.renderingStartTime=Io(),w.sibling=null,m=fr.current,x(fr,D?1&m|2:1&m),w):(Nn(w),null);case 22:case 23:return Di(w),zt(),D=w.memoizedState!==null,m!==null?m.memoizedState!==null!==D&&(w.flags|=8192):D&&(w.flags|=8192),D?536870912&T&&!(128&w.flags)&&(Nn(w),6&w.subtreeFlags&&(w.flags|=8192)):Nn(w),(T=w.updateQueue)!==null&&Vg(w,T.retryQueue),T=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),D=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(D=w.memoizedState.cachePool.pool),D!==T&&(w.flags|=2048),m!==null&&b(Ql),null;case 24:return T=null,m!==null&&(T=m.memoizedState.cache),w.memoizedState.cache!==T&&(w.flags|=2048),qc(gr),Nn(w),null;case 25:return null}throw Error(r(156,w.tag))}function nF(m,w){switch(ue(w),w.tag){case 1:return 65536&(m=w.flags)?(w.flags=-65537&m|128,w):null;case 3:return qc(gr),ee(),65536&(m=w.flags)&&!(128&m)?(w.flags=-65537&m|128,w):null;case 26:case 27:case 5:return ge(w),null;case 13:if(Di(w),(m=w.memoizedState)!==null&&m.dehydrated!==null){if(w.alternate===null)throw Error(r(340));Be()}return 65536&(m=w.flags)?(w.flags=-65537&m|128,w):null;case 19:return b(fr),null;case 4:return ee(),null;case 10:return qc(w.type),null;case 22:case 23:return Di(w),zt(),m!==null&&b(Ql),65536&(m=w.flags)?(w.flags=-65537&m|128,w):null;case 24:return qc(gr),null;default:return null}}function Wg(m,w){switch(ue(w),w.tag){case 3:qc(gr),ee();break;case 26:case 27:case 5:ge(w);break;case 4:ee();break;case 13:Di(w);break;case 19:b(fr);break;case 10:qc(w.type);break;case 22:case 23:Di(w),zt(),m!==null&&b(Ql);break;case 24:qc(gr)}}function Qp(m,w){try{var T=w.updateQueue,D=T!==null?T.lastEffect:null;if(D!==null){var O=D.next;T=O;do{if((T.tag&m)===m){D=void 0;var K=T.create,fe=T.inst;D=K(),fe.destroy=D}T=T.next}while(T!==O)}}catch(be){hn(w,w.return,be)}}function Yu(m,w,T){try{var D=w.updateQueue,O=D!==null?D.lastEffect:null;if(O!==null){var K=O.next;D=K;do{if((D.tag&m)===m){var fe=D.inst,be=fe.destroy;if(be!==void 0){fe.destroy=void 0,O=w;var Me=T;try{be()}catch(Je){hn(O,Me,Je)}}}D=D.next}while(D!==K)}}catch(Je){hn(w,w.return,Je)}}function Ov(m){var w=m.updateQueue;if(w!==null){var T=m.stateNode;try{rt(w,T)}catch(D){hn(m,m.return,D)}}}function Qv(m,w,T){T.props=ha(m.type,m.memoizedProps),T.state=m.memoizedState;try{T.componentWillUnmount()}catch(D){hn(m,w,D)}}function Kh(m,w){try{var T=m.ref;if(T!==null){var D=m.stateNode;switch(m.tag){case 26:case 27:case 5:var O=jp(D);break;default:O=D}typeof T=="function"?m.refCleanup=T(O):T.current=O}}catch(K){hn(m,w,K)}}function da(m,w){var T=m.ref,D=m.refCleanup;if(T!==null)if(typeof D=="function")try{D()}catch(O){hn(m,w,O)}finally{m.refCleanup=null,(m=m.alternate)!=null&&(m.refCleanup=null)}else if(typeof T=="function")try{T(null)}catch(O){hn(m,w,O)}else T.current=null}function Ww(m){var w=m.type,T=m.memoizedProps,D=m.stateNode;try{t0(D,w,T,m)}catch(O){hn(m,m.return,O)}}function zS(m,w,T){try{fx(m.stateNode,m.type,T,w,m)}catch(D){hn(m,m.return,D)}}function GS(m){return m.tag===5||m.tag===3||!!Pl&&m.tag===26||!!jo&&m.tag===27||m.tag===4}function jw(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||GS(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&(!jo||m.tag!==27)&&m.tag!==18;){if(2&m.flags||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(2&m.flags))return m.stateNode}}function Kw(m,w,T){var D=m.tag;if(D===5||D===6)m=m.stateNode,w?i0(T,m,w):px(T,m);else if(!(D===4||jo&&D===27)&&(m=m.child)!==null)for(Kw(m,w,T),m=m.sibling;m!==null;)Kw(m,w,T),m=m.sibling}function Nv(m,w,T){var D=m.tag;if(D===5||D===6)m=m.stateNode,w?rh(T,m,w):Jr(T,m);else if(!(D===4||jo&&D===27)&&(m=m.child)!==null)for(Nv(m,w,T),m=m.sibling;m!==null;)Nv(m,w,T),m=m.sibling}function pa(m,w,T){m=m.containerInfo;try{yx(m,T)}catch(D){hn(w,w.return,D)}}function Np(m,w,T){var D=T.flags;switch(T.tag){case 0:case 11:case 15:hc(m,T),4&D&&Qp(5,T);break;case 1:if(hc(m,T),4&D)if(m=T.stateNode,w===null)try{m.componentDidMount()}catch(be){hn(T,T.return,be)}else{var O=ha(T.type,w.memoizedProps);w=w.memoizedState;try{m.componentDidUpdate(O,w,m.__reactInternalSnapshotBeforeUpdate)}catch(be){hn(T,T.return,be)}}64&D&&Ov(T),512&D&&Kh(T,T.return);break;case 3:if(hc(m,T),64&D&&(D=T.updateQueue)!==null){if(m=null,T.child!==null)switch(T.child.tag){case 27:case 5:m=jp(T.child.stateNode);break;case 1:m=T.child.stateNode}try{rt(D,m)}catch(be){hn(T,T.return,be)}}break;case 26:if(Pl){hc(m,T),512&D&&Kh(T,T.return);break}case 27:case 5:hc(m,T),w===null&&4&D&&Ww(T),512&D&&Kh(T,T.return);break;case 12:hc(m,T);break;case 13:hc(m,T),4&D&&Xw(m,T);break;case 22:if(!(O=T.memoizedState!==null||ms)){w=w!==null&&w.memoizedState!==null||nr;var K=ms,fe=nr;ms=O,(nr=w)&&!fe?ja(m,T,!!(8772&T.subtreeFlags)):hc(m,T),ms=K,nr=fe}512&D&&(T.memoizedProps.mode==="manual"?Kh(T,T.return):da(T,T.return));break;default:hc(m,T)}}function $w(m){var w=m.alternate;w!==null&&(m.alternate=null,$w(w)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(w=m.stateNode)!==null&&Cn(w),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function Dl(m,w,T){for(T=T.child;T!==null;)Hv(m,w,T),T=T.sibling}function Hv(m,w,T){if(co&&typeof co.onCommitFiberUnmount=="function")try{co.onCommitFiberUnmount(Xp,T)}catch{}switch(T.tag){case 26:if(Pl){nr||da(T,w),Dl(m,w,T),T.memoizedState?Sx(T.memoizedState):T.stateNode&&xE(T.stateNode);break}case 27:if(jo){nr||da(T,w);var D=Er,O=_s;Er=T.stateNode,Dl(m,w,T),lF(T.stateNode),Er=D,_s=O;break}case 5:nr||da(T,w);case 6:if(qo){if(D=Er,O=_s,Er=null,Dl(m,w,T),_s=O,(Er=D)!==null)if(_s)try{mx(Er,T.stateNode)}catch(K){hn(T,w,K)}else try{gx(Er,T.stateNode)}catch(K){hn(T,w,K)}}else Dl(m,w,T);break;case 18:qo&&Er!==null&&(_s?_E(Er,T.stateNode):mE(Er,T.stateNode));break;case 4:qo?(D=Er,O=_s,Er=T.stateNode.containerInfo,_s=!0,Dl(m,w,T),Er=D,_s=O):(ih&&pa(T.stateNode,T,bx()),Dl(m,w,T));break;case 0:case 11:case 14:case 15:nr||Yu(2,T,w),nr||Yu(4,T,w),Dl(m,w,T);break;case 1:nr||(da(T,w),typeof(D=T.stateNode).componentWillUnmount=="function"&&Qv(T,w,D)),Dl(m,w,T);break;case 21:Dl(m,w,T);break;case 22:nr||da(T,w),nr=(D=nr)||T.memoizedState!==null,Dl(m,w,T),nr=D;break;default:Dl(m,w,T)}}function Xw(m,w){if(Wo&&w.memoizedState===null&&(m=w.alternate)!==null&&(m=m.memoizedState)!==null&&(m=m.dehydrated)!==null)try{Cx(m)}catch(T){hn(w,w.return,T)}}function jg(m,w){var T=function(D){switch(D.tag){case 13:case 19:var O=D.stateNode;return O===null&&(O=D.stateNode=new gc),O;case 22:return(O=(D=D.stateNode)._retryCache)===null&&(O=D._retryCache=new gc),O;default:throw Error(r(435,D.tag))}}(m);w.forEach(function(D){var O=ad.bind(null,m,D);T.has(D)||(T.add(D),D.then(O,O))})}function fa(m,w){var T=w.deletions;if(T!==null)for(var D=0;D<T.length;D++){var O=T[D],K=m,fe=w;if(qo){var be=fe;e:for(;be!==null;){switch(be.tag){case 27:case 5:Er=be.stateNode,_s=!1;break e;case 3:case 4:Er=be.stateNode.containerInfo,_s=!0;break e}be=be.return}if(Er===null)throw Error(r(160));Hv(K,fe,O),Er=null,_s=!1}else Hv(K,fe,O);(K=O.alternate)!==null&&(K.return=null),O.return=null}if(13878&w.subtreeFlags)for(w=w.child;w!==null;)rd(w,m),w=w.sibling}function rd(m,w){var T=m.alternate,D=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:fa(w,m),Ns(m),4&D&&(Yu(3,m,m.return),Qp(3,m),Yu(5,m,m.return));break;case 1:fa(w,m),Ns(m),512&D&&(nr||T===null||da(T,T.return)),64&D&&ms&&(m=m.updateQueue)!==null&&(D=m.callbacks)!==null&&(T=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=T===null?D:T.concat(D));break;case 26:if(Pl){var O=vs;fa(w,m),Ns(m),512&D&&(nr||T===null||da(T,T.return)),4&D&&(D=T!==null?T.memoizedState:null,w=m.memoizedState,T===null?w===null?m.stateNode===null?m.stateNode=yE(O,m.type,m.memoizedProps,m):wE(O,m.type,m.stateNode):m.stateNode=h0(O,w,m.memoizedProps):D!==w?(D===null?T.stateNode!==null&&xE(T.stateNode):Sx(D),w===null?wE(O,m.type,m.stateNode):h0(O,w,m.memoizedProps)):w===null&&m.stateNode!==null&&zS(m,m.memoizedProps,T.memoizedProps));break}case 27:if(jo&&4&D&&m.alternate===null){O=m.stateNode;var K=m.memoizedProps;try{SE(O),EE(m.type,K,O,m)}catch(lt){hn(m,m.return,lt)}}case 5:if(fa(w,m),Ns(m),512&D&&(nr||T===null||da(T,T.return)),qo){if(32&m.flags){w=m.stateNode;try{_x(w)}catch(lt){hn(m,m.return,lt)}}4&D&&m.stateNode!=null&&zS(m,w=m.memoizedProps,T!==null?T.memoizedProps:w),1024&D&&(Sm=!0)}break;case 6:if(fa(w,m),Ns(m),4&D&&qo){if(m.stateNode===null)throw Error(r(162));D=m.memoizedProps,T=T!==null?T.memoizedProps:D,w=m.stateNode;try{pm(w,T,D)}catch(lt){hn(m,m.return,lt)}}break;case 3:if(Pl?(gm(),O=vs,vs=u0(w.containerInfo),fa(w,m),vs=O):fa(w,m),Ns(m),4&D){if(qo&&Wo&&T!==null&&T.memoizedState.isDehydrated)try{gE(w.containerInfo)}catch(lt){hn(m,m.return,lt)}if(ih){D=w.containerInfo,T=w.pendingChildren;try{yx(D,T)}catch(lt){hn(m,m.return,lt)}}}Sm&&(Sm=!1,Hp(m));break;case 4:Pl?(T=vs,vs=u0(m.stateNode.containerInfo),fa(w,m),Ns(m),vs=T):(fa(w,m),Ns(m)),4&D&&ih&&pa(m.stateNode,m,m.stateNode.pendingChildren);break;case 12:fa(w,m),Ns(m);break;case 13:fa(w,m),Ns(m),8192&m.child.flags&&m.memoizedState!==null!=(T!==null&&T.memoizedState!==null)&&(nf=Io()),4&D&&(D=m.updateQueue)!==null&&(m.updateQueue=null,jg(m,D));break;case 22:512&D&&(nr||T===null||da(T,T.return)),O=m.memoizedState!==null;var fe=T!==null&&T.memoizedState!==null,be=ms,Me=nr;if(ms=be||O,nr=Me||fe,fa(w,m),nr=Me,ms=be,Ns(m),(w=m.stateNode)._current=m,w._visibility&=-3,w._visibility|=2&w._pendingVisibility,8192&D&&(w._visibility=O?-2&w._visibility:1|w._visibility,O&&(w=ms||nr,T===null||fe||w||od(m)),qo&&(m.memoizedProps===null||m.memoizedProps.mode!=="manual"))){e:if(T=null,qo)for(w=m;;){if(w.tag===5||Pl&&w.tag===26||jo&&w.tag===27){if(T===null){fe=T=w;try{K=fe.stateNode,O?eE(K):iE(fe.stateNode,fe.memoizedProps)}catch(lt){hn(fe,fe.return,lt)}}}else if(w.tag===6){if(T===null){fe=w;try{var Je=fe.stateNode;O?tE(Je):nE(Je,fe.memoizedProps)}catch(lt){hn(fe,fe.return,lt)}}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===m)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===m)break e;for(;w.sibling===null;){if(w.return===null||w.return===m)break e;T===w&&(T=null),w=w.return}T===w&&(T=null),w.sibling.return=w.return,w=w.sibling}}4&D&&(D=m.updateQueue)!==null&&(T=D.retryQueue)!==null&&(D.retryQueue=null,jg(m,T));break;case 19:fa(w,m),Ns(m),4&D&&(D=m.updateQueue)!==null&&(m.updateQueue=null,jg(m,D));break;case 21:break;default:fa(w,m),Ns(m)}}function Ns(m){var w=m.flags;if(2&w){try{if(qo&&(!jo||m.tag!==27)){e:{for(var T=m.return;T!==null;){if(GS(T)){var D=T;break e}T=T.return}throw Error(r(160))}switch(D.tag){case 27:if(jo){var O=D.stateNode;Nv(m,jw(m),O);break}case 5:var K=D.stateNode;32&D.flags&&(_x(K),D.flags&=-33),Nv(m,jw(m),K);break;case 3:case 4:var fe=D.stateNode.containerInfo;Kw(m,jw(m),fe);break;default:throw Error(r(161))}}}catch(be){hn(m,m.return,be)}m.flags&=-3}4096&w&&(m.flags&=-4097)}function Hp(m){if(1024&m.subtreeFlags)for(m=m.child;m!==null;){var w=m;Hp(w),w.tag===5&&1024&w.flags&&oF(w.stateNode),m=m.sibling}}function hc(m,w){if(8772&w.subtreeFlags)for(w=w.child;w!==null;)Np(m,w.alternate,w),w=w.sibling}function od(m){for(m=m.child;m!==null;){var w=m;switch(w.tag){case 0:case 11:case 14:case 15:Yu(4,w,w.return),od(w);break;case 1:da(w,w.return);var T=w.stateNode;typeof T.componentWillUnmount=="function"&&Qv(w,w.return,T),od(w);break;case 26:case 27:case 5:da(w,w.return),od(w);break;case 22:da(w,w.return),w.memoizedState===null&&od(w);break;default:od(w)}m=m.sibling}}function ja(m,w,T){for(T=T&&!!(8772&w.subtreeFlags),w=w.child;w!==null;){var D=w.alternate,O=m,K=w,fe=K.flags;switch(K.tag){case 0:case 11:case 15:ja(O,K,T),Qp(4,K);break;case 1:if(ja(O,K,T),typeof(O=(D=K).stateNode).componentDidMount=="function")try{O.componentDidMount()}catch(Je){hn(D,D.return,Je)}if((O=(D=K).updateQueue)!==null){var be=D.stateNode;try{var Me=O.shared.hiddenCallbacks;if(Me!==null)for(O.shared.hiddenCallbacks=null,O=0;O<Me.length;O++)st(Me[O],be)}catch(Je){hn(D,D.return,Je)}}T&&64&fe&&Ov(K),Kh(K,K.return);break;case 26:case 27:case 5:ja(O,K,T),T&&D===null&&4&fe&&Ww(K),Kh(K,K.return);break;case 12:default:ja(O,K,T);break;case 13:ja(O,K,T),T&&4&fe&&Xw(O,K);break;case 22:K.memoizedState===null&&ja(O,K,T),Kh(K,K.return)}w=w.sibling}}function $h(m,w){var T=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),m=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(m=w.memoizedState.cachePool.pool),m!==T&&(m!=null&&m.refCount++,T!=null&&td(T))}function Kg(m,w){m=null,w.alternate!==null&&(m=w.alternate.memoizedState.cache),(w=w.memoizedState.cache)!==m&&(w.refCount++,m!=null&&td(m))}function Zu(m,w,T,D){if(10256&w.subtreeFlags)for(w=w.child;w!==null;)Xh(m,w,T,D),w=w.sibling}function Xh(m,w,T,D){var O=w.flags;switch(w.tag){case 0:case 11:case 15:Zu(m,w,T,D),2048&O&&Qp(9,w);break;case 3:Zu(m,w,T,D),2048&O&&(m=null,w.alternate!==null&&(m=w.alternate.memoizedState.cache),(w=w.memoizedState.cache)!==m&&(w.refCount++,m!=null&&td(m)));break;case 12:if(2048&O){Zu(m,w,T,D),m=w.stateNode;try{var K=w.memoizedProps,fe=K.id,be=K.onPostCommit;typeof be=="function"&&be(fe,w.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(Me){hn(w,w.return,Me)}}else Zu(m,w,T,D);break;case 23:break;case 22:K=w.stateNode,w.memoizedState!==null?4&K._visibility?Zu(m,w,T,D):zp(m,w):4&K._visibility?Zu(m,w,T,D):(K._visibility|=4,sd(m,w,T,D,!!(10256&w.subtreeFlags))),2048&O&&$h(w.alternate,w);break;case 24:Zu(m,w,T,D),2048&O&&Kg(w.alternate,w);break;default:Zu(m,w,T,D)}}function sd(m,w,T,D,O){for(O=O&&!!(10256&w.subtreeFlags),w=w.child;w!==null;){var K=m,fe=w,be=T,Me=D,Je=fe.flags;switch(fe.tag){case 0:case 11:case 15:sd(K,fe,be,Me,O),Qp(8,fe);break;case 23:break;case 22:var lt=fe.stateNode;fe.memoizedState!==null?4&lt._visibility?sd(K,fe,be,Me,O):zp(K,fe):(lt._visibility|=4,sd(K,fe,be,Me,O)),O&&2048&Je&&$h(fe.alternate,fe);break;case 24:sd(K,fe,be,Me,O),O&&2048&Je&&Kg(fe.alternate,fe);break;default:sd(K,fe,be,Me,O)}w=w.sibling}}function zp(m,w){if(10256&w.subtreeFlags)for(w=w.child;w!==null;){var T=m,D=w,O=D.flags;switch(D.tag){case 22:zp(T,D),2048&O&&$h(D.alternate,D);break;case 24:zp(T,D),2048&O&&Kg(D.alternate,D);break;default:zp(T,D)}w=w.sibling}}function Yh(m){if(m.subtreeFlags&Sd)for(m=m.child;m!==null;)VS(m),m=m.sibling}function VS(m){switch(m.tag){case 26:Yh(m),m.flags&Sd&&(m.memoizedState!==null?BE(vs,m.memoizedState,m.memoizedProps):lA(m.type,m.memoizedProps));break;case 5:Yh(m),m.flags&Sd&&lA(m.type,m.memoizedProps);break;case 3:case 4:if(Pl){var w=vs;vs=u0(m.stateNode.containerInfo),Yh(m),vs=w}else Yh(m);break;case 22:m.memoizedState===null&&((w=m.alternate)!==null&&w.memoizedState!==null?(w=Sd,Sd=16777216,Yh(m),Sd=w):Yh(m));break;default:Yh(m)}}function qS(m){var w=m.alternate;if(w!==null&&(m=w.child)!==null){w.child=null;do w=m.sibling,m.sibling=null,m=w;while(m!==null)}}function Yw(m){var w=m.deletions;if(16&m.flags){if(w!==null)for(var T=0;T<w.length;T++){var D=w[T];ho=D,zv(D,m)}qS(m)}if(10256&m.subtreeFlags)for(m=m.child;m!==null;)Zw(m),m=m.sibling}function Zw(m){switch(m.tag){case 0:case 11:case 15:Yw(m),2048&m.flags&&Yu(9,m,m.return);break;case 3:case 12:default:Yw(m);break;case 22:var w=m.stateNode;m.memoizedState!==null&&4&w._visibility&&(m.return===null||m.return.tag!==13)?(w._visibility&=-5,$g(m)):Yw(m)}}function $g(m){var w=m.deletions;if(16&m.flags){if(w!==null)for(var T=0;T<w.length;T++){var D=w[T];ho=D,zv(D,m)}qS(m)}for(m=m.child;m!==null;){switch((w=m).tag){case 0:case 11:case 15:Yu(8,w,w.return),$g(w);break;case 22:4&(T=w.stateNode)._visibility&&(T._visibility&=-5,$g(w));break;default:$g(w)}m=m.sibling}}function zv(m,w){for(;ho!==null;){var T=ho;switch(T.tag){case 0:case 11:case 15:Yu(8,T,w);break;case 23:case 22:if(T.memoizedState!==null&&T.memoizedState.cachePool!==null){var D=T.memoizedState.cachePool.pool;D!=null&&D.refCount++}break;case 24:td(T.memoizedState.cache)}if((D=T.child)!==null)D.return=T,ho=D;else e:for(T=m;ho!==null;){var O=(D=ho).sibling,K=D.return;if($w(D),D===T){ho=null;break e}if(O!==null){O.return=K,ho=O;break e}ho=K}}}function Ka(m){var w=Am(m);if(w!=null){if(typeof w.memoizedProps["data-testname"]!="string")throw Error(r(364));return w}if((m=ZS(m))===null)throw Error(r(362));return m.stateNode.current}function Gv(m,w){var T=m.tag;switch(w.$$typeof){case mA:if(m.type===w.value)return!0;break;case Em:e:{for(w=w.value,m=[m,0],T=0;T<m.length;){var D=m[T++],O=D.tag,K=m[T++],fe=w[K];if(O!==5&&O!==26&&O!==27||!pd(D)){for(;fe!=null&&Gv(D,fe);)fe=w[++K];if(K===w.length){w=!0;break e}for(D=D.child;D!==null;)m.push(D,K),D=D.sibling}}w=!1}return w;case Ed:if((T===5||T===26||T===27)&&Ax(m.stateNode,w.value))return!0;break;case v0:if((T===5||T===6||T===26||T===27)&&(m=sF(m))!==null&&0<=m.indexOf(w.value))return!0;break;case Tm:if((T===5||T===26||T===27)&&typeof(m=m.memoizedProps["data-testname"])=="string"&&m.toLowerCase()===w.value.toLowerCase())return!0;break;default:throw Error(r(365))}return!1}function ga(m){switch(m.$$typeof){case mA:return"<"+(s(m.value)||"Unknown")+">";case Em:return":has("+(ga(m)||"")+")";case Ed:return'[role="'+m.value+'"]';case v0:return'"'+m.value+'"';case Tm:return'[data-testname="'+m.value+'"]';default:throw Error(r(365))}}function $a(m,w){var T=[];m=[m,0];for(var D=0;D<m.length;){var O=m[D++],K=O.tag,fe=m[D++],be=w[fe];if(K!==5&&K!==26&&K!==27||!pd(O)){for(;be!=null&&Gv(O,be);)be=w[++fe];if(fe===w.length)T.push(O);else for(O=O.child;O!==null;)m.push(O,fe),O=O.sibling}}return T}function Zh(m,w){if(!dd)throw Error(r(363));m=$a(m=Ka(m),w),w=[],m=Array.from(m);for(var T=0;T<m.length;){var D=m[T++],O=D.tag;if(O===5||O===26||O===27)pd(D)||w.push(D.stateNode);else for(D=D.child;D!==null;)m.push(D),D=D.sibling}return w}function Hs(){return 2&jt&&Ot!==0?Ot&-Ot:ei.T!==null?pA!==0?pA:G():aA()}function Xg(){Xo===0&&(Xo=536870912&Ot&&!ln?536870912:M());var m=il.current;return m!==null&&(m.flags|=32),Xo}function To(m,w,T){(m===Lt&&Gi===2||m.cancelPendingCommit!==null)&&(eA(m,0),ma(m,Ot,Xo,!1)),P(m,T),2&jt&&m===Lt||(m===Lt&&(!(2&jt)&&(uh|=T),bn===4&&ma(m,Ot,Xo,!1)),U(m))}function Vv(m,w,T){if(6&jt)throw Error(r(327));for(var D=!T&&!(60&w)&&!(w&m.expiredLanes)||E(m,w),O=D?function(Je,lt){var Bt=jt;jt|=2;var gt=Yg(),ui=tA();Lt!==Je||Ot!==lt?(_c=null,vA=Io()+500,eA(Je,lt)):_A=E(Je,lt);e:for(;;)try{if(Gi!==0&&kt!==null){lt=kt;var yi=eo;t:switch(Gi){case 1:Gi=0,eo=null,Vo(Je,lt,yi,1);break;case 2:if(At(yi)){Gi=0,eo=null,tm(lt);break}lt=function(){Gi===2&&Lt===Je&&(Gi=7),U(Je)},yi.then(lt,lt);break e;case 3:Gi=7;break e;case 4:Gi=5;break e;case 7:At(yi)?(Gi=0,eo=null,tm(lt)):(Gi=0,eo=null,Vo(Je,lt,yi,7));break;case 5:var Ze=null;switch(kt.tag){case 26:Ze=kt.memoizedState;case 5:case 27:var qe=kt,tt=qe.type,Ct=qe.pendingProps;if(Ze?mm(Ze):dm(tt,Ct)){Gi=0,eo=null;var wi=qe.sibling;if(wi!==null)kt=wi;else{var ni=qe.return;ni!==null?(kt=ni,Gs(ni)):kt=null}break t}}Gi=0,eo=null,Vo(Je,lt,yi,5);break;case 6:Gi=0,eo=null,Vo(Je,lt,yi,6);break;case 8:zs(),bn=6;break e;default:throw Error(r(462))}}Vp();break}catch(Pi){Wc(Je,Pi)}return zr=lh=null,ei.H=gt,ei.A=ui,jt=Bt,kt!==null?0:(Lt=null,Ot=0,ke(),bn)}(m,w):Jg(m,w,!0),K=D;;){if(O===0){_A&&!D&&ma(m,w,0,!1);break}if(O===6)ma(m,w,0,!wa);else{if(T=m.current.alternate,K&&!qv(T)){O=Jg(m,w,!1),K=!1;continue}if(O===2){if(K=w,m.errorRecoveryDisabledLanes&K)var fe=0;else fe=(fe=-536870913&m.pendingLanes)!==0?fe:536870912&fe?536870912:0;if(fe!==0){w=fe;e:{var be=m;O=Mo;var Me=Wo&&be.current.memoizedState.isDehydrated;if(Me&&(eA(be,fe).flags|=256),(fe=Jg(be,fe,!1))!==2){if(mc&&!Me){be.errorRecoveryDisabledLanes|=K,uh|=K,O=4;break e}K=Nl,Nl=O,K!==null&&Jh(K)}O=fe}if(K=!1,O!==2)continue}}if(O===1){eA(m,0),ma(m,w,0,!0);break}e:{switch(D=m,O){case 0:case 1:throw Error(r(345));case 4:if((4194176&w)===w){ma(D,w,Xo,!wa);break e}break;case 2:Nl=null;break;case 3:case 5:break;default:throw Error(r(329))}if(D.finishedWork=T,D.finishedLanes=w,(62914560&w)===w&&10<(K=nf+300-Io())){if(ma(D,w,Xo,!wa),S(D,0)!==0)break e;D.timeoutHandle=cx(Jw.bind(null,D,T,Nl,_c,Mm,w,Xo,uh,cu,wa,2,-0,0),K)}else Jw(D,T,Nl,_c,Mm,w,Xo,uh,cu,wa,0,-0,0)}}break}U(m)}function Jh(m){Nl===null?Nl=m:Nl.push.apply(Nl,m)}function Jw(m,w,T,D,O,K,fe,be,Me,Je,lt,Bt,gt){var ui=w.subtreeFlags;if((8192&ui||!(16785408&~ui))&&($p(),VS(w),(w=e0())!==null))return m.cancelPendingCommit=w(jc.bind(null,m,T,D,O,fe,be,Me,1,Bt,gt)),void ma(m,K,fe,!Je);jc(m,T,D,O,fe,be,Me)}function qv(m){for(var w=m;;){var T=w.tag;if((T===0||T===11||T===15)&&16384&w.flags&&(T=w.updateQueue)!==null&&(T=T.stores)!==null)for(var D=0;D<T.length;D++){var O=T[D],K=O.getSnapshot;O=O.value;try{if(!fs(K(),O))return!1}catch{return!1}}if(T=w.child,16384&w.subtreeFlags&&T!==null)T.return=w,w=T;else{if(w===m)break;for(;w.sibling===null;){if(w.return===null||w.return===m)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function ma(m,w,T,D){w&=~Ca,w&=~uh,m.suspendedLanes|=w,m.pingedLanes&=~w,D&&(m.warmLanes|=w),D=m.expirationTimes;for(var O=w;0<O;){var K=31-ps(O),fe=1<<K;D[K]=-1,O&=~fe}T!==0&&Q(m,T,w)}function WS(){return!!(6&jt)||(z(0),!1)}function zs(){if(kt!==null){if(Gi===0)var m=kt.return;else zr=lh=null,sa(m=kt),Bn=null,Cm=0,m=kt;for(;m!==null;)Wg(m.alternate,m),m=m.return;kt=null}}function eA(m,w){m.finishedWork=null,m.finishedLanes=0;var T=m.timeoutHandle;T!==Ad&&(m.timeoutHandle=Ad,ux(T)),(T=m.cancelPendingCommit)!==null&&(m.cancelPendingCommit=null,T()),zs(),Lt=m,kt=T=_a(m.current,null),Ot=w,Gi=0,eo=null,wa=!1,_A=E(m,w),mc=!1,cu=Xo=Ca=uh=xa=bn=0,Nl=Mo=null,Mm=!1,8&w&&(w|=32&w);var D=m.entangledLanes;if(D!==0)for(m=m.entanglements,D&=w;0<D;){var O=31-ps(D),K=1<<O;w|=m[O],D&=~K}return pn=w,ke(),T}function Wc(m,w){Ii=null,ei.H=Dn,w===tl?(w=It(),Gi=3):w===f0?(w=It(),Gi=4):Gi=w===lu?8:w!==null&&typeof w=="object"&&typeof w.then=="function"?6:1,eo=w,kt===null&&(bn=1,lc(m,J(w,m.current)))}function ex(){var m=il.current;return m===null||((4194176&Ot)===Ot?su===null:!!((62914560&Ot)===Ot||536870912&Ot)&&m===su)}function Yg(){var m=ei.H;return ei.H=Dn,m===null?Dn:m}function tA(){var m=ei.A;return ei.A=DE,m}function Zg(){bn=4,wa||(4194176&Ot)!==Ot&&il.current!==null||(_A=!0),!(134217727&xa)&&!(134217727&uh)||Lt===null||ma(Lt,Ot,Xo,!1)}function Jg(m,w,T){var D=jt;jt|=2;var O=Yg(),K=tA();Lt===m&&Ot===w||(_c=null,eA(m,w)),w=!1;var fe=bn;e:for(;;)try{if(Gi!==0&&kt!==null){var be=kt,Me=eo;switch(Gi){case 8:zs(),fe=6;break e;case 3:case 2:case 6:il.current===null&&(w=!0);var Je=Gi;if(Gi=0,eo=null,Vo(m,be,Me,Je),T&&_A){fe=0;break e}break;default:Je=Gi,Gi=0,eo=null,Vo(m,be,Me,Je)}}Gp(),fe=bn;break}catch(lt){Wc(m,lt)}return w&&m.shellSuspendCounter++,zr=lh=null,jt=D,ei.H=O,ei.A=K,kt===null&&(Lt=null,Ot=0,ke()),fe}function Gp(){for(;kt!==null;)em(kt)}function Vp(){for(;kt!==null&&!uA();)em(kt)}function em(m){var w=QS(m.alternate,m,pn);m.memoizedProps=m.pendingProps,w===null?Gs(m):kt=w}function tm(m){var w=m,T=w.alternate;switch(w.tag){case 15:case 0:w=cc(T,w,w.pendingProps,w.type,void 0,Ot);break;case 11:w=cc(T,w,w.pendingProps,w.type.render,w.ref,Ot);break;case 5:sa(w);default:Wg(T,w),w=QS(T,w=kt=ix(w,pn),pn)}m.memoizedProps=m.pendingProps,w===null?Gs(m):kt=w}function Vo(m,w,T,D){zr=lh=null,sa(w),Bn=null,Cm=0;var O=w.return;try{if(function(K,fe,be,Me,Je){if(be.flags|=32768,Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){if((fe=be.alternate)!==null&&Gg(fe,be,Je,!0),(be=il.current)!==null){switch(be.tag){case 13:return su===null?Zg():be.alternate===null&&bn===0&&(bn=3),be.flags&=-257,be.flags|=65536,be.lanes=Je,Me===wd?be.flags|=16384:((fe=be.updateQueue)===null?be.updateQueue=new Set([Me]):fe.add(Me),im(K,Me,Je)),!1;case 22:return be.flags|=65536,Me===wd?be.flags|=16384:((fe=be.updateQueue)===null?(fe={transitions:null,markerInstances:null,retryQueue:new Set([Me])},be.updateQueue=fe):(be=fe.retryQueue)===null?fe.retryQueue=new Set([Me]):be.add(Me),im(K,Me,Je)),!1}throw Error(r(435,be.tag))}return im(K,Me,Je),Zg(),!1}if(ln)return(fe=il.current)!==null?(!(65536&fe.flags)&&(fe.flags|=256),fe.flags|=65536,fe.lanes=Je,Me!==d0&&Re(J(K=Error(r(422),{cause:Me}),be))):(Me!==d0&&Re(J(fe=Error(r(423),{cause:Me}),be)),(K=K.current.alternate).flags|=65536,Je&=-Je,K.lanes|=Je,Me=J(Me,be),Ge(K,Je=Qs(K.stateNode,Me,Je)),bn!==4&&(bn=2)),!1;var lt=Error(r(520),{cause:Me});if(lt=J(lt,be),Mo===null?Mo=[lt]:Mo.push(lt),bn!==4&&(bn=2),fe===null)return!0;Me=J(Me,be),be=fe;do{switch(be.tag){case 3:return be.flags|=65536,K=Je&-Je,be.lanes|=K,Ge(be,K=Qs(be.stateNode,Me,K)),!1;case 1:if(fe=be.type,lt=be.stateNode,!(128&be.flags||typeof fe.getDerivedStateFromError!="function"&&(lt===null||typeof lt.componentDidCatch!="function"||rr!==null&&rr.has(lt))))return be.flags|=65536,Je&=-Je,be.lanes|=Je,Yr(Je=ju(Je),K,be,Me),Ge(be,Je),!1}be=be.return}while(be!==null);return!1}(m,O,w,T,Ot))return bn=1,lc(m,J(T,m.current)),void(kt=null)}catch(K){if(O!==null)throw kt=O,K;return bn=1,lc(m,J(T,m.current)),void(kt=null)}32768&w.flags?(ln||D===1?m=!0:_A||536870912&Ot?m=!1:(wa=m=!0,(D===2||D===3||D===6)&&(D=il.current)!==null&&D.tag===13&&(D.flags|=16384)),iA(w,m)):Gs(w)}function Gs(m){var w=m;do{if(32768&w.flags)return void iA(w,wa);m=w.return;var T=qg(w.alternate,w,pn);if(T!==null)return void(kt=T);if((w=w.sibling)!==null)return void(kt=w);kt=w=m}while(w!==null);bn===0&&(bn=5)}function iA(m,w){do{var T=nF(m.alternate,m);if(T!==null)return T.flags&=32767,void(kt=T);if((T=m.return)!==null&&(T.flags|=32768,T.subtreeFlags=0,T.deletions=null),!w&&(m=m.sibling)!==null)return void(kt=m);kt=m=T}while(m!==null);bn=6,kt=null}function jc(m,w,T,D,O,K,fe,be,Me,Je){var lt=ei.T,Bt=nh();try{ds(2),ei.T=null,function(gt,ui,yi,Ze,qe,tt,Ct,wi){do Xa();while(Hl!==null);if(6&jt)throw Error(r(327));var ni=gt.finishedWork;if(Ze=gt.finishedLanes,ni===null)return null;if(gt.finishedWork=null,gt.finishedLanes=0,ni===gt.current)throw Error(r(177));gt.callbackNode=null,gt.callbackPriority=0,gt.cancelPendingCommit=null;var Pi=ni.lanes|ni.childLanes;if(function(Yt,yn,fn,gn,ai,Li){var or=Yt.pendingLanes;Yt.pendingLanes=fn,Yt.suspendedLanes=0,Yt.pingedLanes=0,Yt.warmLanes=0,Yt.expiredLanes&=fn,Yt.entangledLanes&=fn,Yt.errorRecoveryDisabledLanes&=fn,Yt.shellSuspendCounter=0;var ji=Yt.entanglements,bc=Yt.expirationTimes,Fm=Yt.hiddenUpdates;for(fn=or&~fn;0<fn;){var Ji=31-ps(fn),Dx=1<<Ji;ji[Ji]=0,bc[Ji]=-1;var Ux=Fm[Ji];if(Ux!==null)for(Fm[Ji]=null,Ji=0;Ji<Ux.length;Ji++){var Px=Ux[Ji];Px!==null&&(Px.lane&=-536870913)}fn&=~Dx}gn!==0&&Q(Yt,gn,0),Li!==0&&ai===0&&Yt.tag!==0&&(Yt.suspendedLanes|=Li&~(or&~yn))}(gt,Ze,Pi|=wm,tt,Ct,wi),gt===Lt&&(kt=Lt=null,Ot=0),!(10256&ni.subtreeFlags)&&!(10256&ni.flags)||vc||(vc=!0,Rm=Pi,km=yi,function(Yt,yn){qs(Yt,yn)}(vm,function(){return Xa(),null})),yi=!!(15990&ni.flags),15990&ni.subtreeFlags||yi?(yi=ei.T,ei.T=null,tt=nh(),ds(2),Ct=jt,jt|=4,function(Yt,yn){for(XS(Yt.containerInfo),ho=yn;ho!==null;)if(yn=(Yt=ho).child,1028&Yt.subtreeFlags&&yn!==null)yn.return=Yt,ho=yn;else for(;ho!==null;){var fn=(Yt=ho).alternate;switch(yn=Yt.flags,Yt.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&yn&&fn!==null){yn=void 0;var gn=Yt,ai=fn.memoizedProps;fn=fn.memoizedState;var Li=gn.stateNode;try{var or=ha(gn.type,ai,(gn.elementType,gn.type));yn=Li.getSnapshotBeforeUpdate(or,fn),Li.__reactInternalSnapshotBeforeUpdate=yn}catch(ji){hn(gn,gn.return,ji)}}break;case 3:1024&yn&&qo&&rE(Yt.stateNode.containerInfo);break;default:if(1024&yn)throw Error(r(163))}if((yn=Yt.sibling)!==null){yn.return=Yt.return,ho=yn;break}ho=Yt.return}or=Bd,Bd=!1}(gt,ni),rd(ni,gt),sA(gt.containerInfo),gt.current=ni,Np(gt,ni.alternate,ni),ME(),jt=Ct,ds(tt),ei.T=yi):gt.current=ni,vc?(vc=!1,Hl=gt,uu=Ze):Kc(gt,Pi),Pi=gt.pendingLanes,Pi===0&&(rr=null),function(Yt){if(co&&typeof co.onCommitFiberRoot=="function")try{co.onCommitFiberRoot(Xp,Yt,void 0,!(128&~Yt.current.flags))}catch{}}(ni.stateNode),U(gt),ui!==null)for(qe=gt.onRecoverableError,ni=0;ni<ui.length;ni++)Pi=ui[ni],qe(Pi.value,{componentStack:Pi.stack});3&uu&&Xa(),Pi=gt.pendingLanes,4194218&Ze&&42&Pi?gt===Td?rf++:(rf=0,Td=gt):rf=0,z(0)}(m,w,T,D,Bt,O,K,fe)}finally{ei.T=lt,ds(Bt)}}function Kc(m,w){(m.pooledCacheLanes&=w)==0&&(w=m.pooledCache)!=null&&(m.pooledCache=null,td(w))}function Xa(){if(Hl!==null){var m=Hl,w=Rm;Rm=0;var T=W(uu),D=32>T?32:T;T=ei.T;var O=nh();try{if(ds(D),ei.T=null,Hl===null)var K=!1;else{D=km,km=null;var fe=Hl,be=uu;if(Hl=null,uu=0,6&jt)throw Error(r(331));var Me=jt;if(jt|=4,Zw(fe.current),Xh(fe,fe.current,be,D),jt=Me,z(0),co&&typeof co.onPostCommitFiberRoot=="function")try{co.onPostCommitFiberRoot(Xp,fe)}catch{}K=!0}return K}finally{ds(O),ei.T=T,Kc(m,w)}}return!1}function tx(m,w,T){w=J(T,w),(m=Ue(m,w=Qs(m.stateNode,w,2),2))!==null&&(P(m,2),U(m))}function hn(m,w,T){if(m.tag===3)tx(m,m,T);else for(;w!==null;){if(w.tag===3){tx(w,m,T);break}if(w.tag===1){var D=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(rr===null||!rr.has(D))){m=J(T,m),(D=Ue(w,T=ju(2),2))!==null&&(Yr(T,D,w,m),P(D,2),U(D));break}}w=w.return}}function im(m,w,T){var D=m.pingCache;if(D===null){D=m.pingCache=new vn;var O=new Set;D.set(w,O)}else(O=D.get(w))===void 0&&(O=new Set,D.set(w,O));O.has(T)||(mc=!0,O.add(T),m=Vs.bind(null,m,w,T),w.then(m,m))}function Vs(m,w,T){var D=m.pingCache;D!==null&&D.delete(w),m.pingedLanes|=m.suspendedLanes&T,m.warmLanes&=~T,Lt===m&&(Ot&T)===T&&(bn===4||bn===3&&(62914560&Ot)===Ot&&300>Io()-nf?!(2&jt)&&eA(m,0):Ca|=T,cu===Ot&&(cu=0)),U(m)}function pr(m,w){w===0&&(w=k()),(m=te(m,w))!==null&&(P(m,w),U(m))}function An(m){var w=m.memoizedState,T=0;w!==null&&(T=w.retryLane),pr(m,T)}function ad(m,w){var T=0;switch(m.tag){case 13:var D=m.stateNode,O=m.memoizedState;O!==null&&(T=O.retryLane);break;case 19:D=m.stateNode;break;case 22:D=m.stateNode._retryCache;break;default:throw Error(r(314))}D!==null&&D.delete(w),pr(m,T)}function $c(m,w,T,D){this.tag=m,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nm(m){return!(!(m=m.prototype)||!m.isReactComponent)}function _a(m,w){var T=m.alternate;return T===null?((T=t(m.tag,w,m.key,m.mode)).elementType=m.elementType,T.type=m.type,T.stateNode=m.stateNode,T.alternate=m,m.alternate=T):(T.pendingProps=w,T.type=m.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=31457280&m.flags,T.childLanes=m.childLanes,T.lanes=m.lanes,T.child=m.child,T.memoizedProps=m.memoizedProps,T.memoizedState=m.memoizedState,T.updateQueue=m.updateQueue,w=m.dependencies,T.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},T.sibling=m.sibling,T.index=m.index,T.ref=m.ref,T.refCleanup=m.refCleanup,T}function ix(m,w){m.flags&=31457282;var T=m.alternate;return T===null?(m.childLanes=0,m.lanes=w,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=T.childLanes,m.lanes=T.lanes,m.child=T.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=T.memoizedProps,m.memoizedState=T.memoizedState,m.updateQueue=T.updateQueue,m.type=T.type,w=T.dependencies,m.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),m}function rm(m,w,T,D,O,K){var fe=0;if(D=m,typeof m=="function")nm(m)&&(fe=1);else if(typeof m=="string")fe=Pl&&jo?c0(m,T,rn.current)?26:gd(m)?27:5:Pl?c0(m,T,rn.current)?26:5:jo&&gd(m)?27:5;else e:switch(m){case ir:return Ac(T.children,O,K,w);case Xv:fe=8,O|=24;break;case ud:return(m=t(12,T,w,2|O)).elementType=ud,m.lanes=K,m;case rx:return(m=t(13,T,w,O)).elementType=rx,m.lanes=K,m;case Zv:return(m=t(19,T,w,O)).elementType=Zv,m.lanes=K,m;case oA:return qp(T,O,K,w);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case am:case Ya:fe=10;break e;case Yv:fe=9;break e;case rA:fe=11;break e;case ox:fe=14;break e;case eh:fe=16,D=null;break e}fe=29,T=Error(r(130,m===null?"null":typeof m,"")),D=null}return(w=t(fe,T,w,O)).elementType=m,w.type=D,w.lanes=K,w}function Ac(m,w,T,D){return(m=t(7,m,D,w)).lanes=T,m}function qp(m,w,T,D){(m=t(22,m,D,w)).elementType=oA,m.lanes=T;var O={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var K=O._current;if(K===null)throw Error(r(456));if(!(2&O._pendingVisibility)){var fe=te(K,2);fe!==null&&(O._pendingVisibility|=2,To(fe,0,2))}},attach:function(){var K=O._current;if(K===null)throw Error(r(456));if(2&O._pendingVisibility){var fe=te(K,2);fe!==null&&(O._pendingVisibility&=-3,To(fe,0,2))}}};return m.stateNode=O,m}function Wv(m,w,T){return(m=t(6,m,null,w)).lanes=T,m}function ld(m,w,T){return(w=t(4,m.children!==null?m.children:[],m.key,w)).lanes=T,w.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},w}function nx(m,w,T,D,O,K,fe,be){this.tag=1,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ad,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=F(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F(0),this.hiddenUpdates=F(null),this.identifierPrefix=D,this.onUncaughtError=O,this.onCaughtError=K,this.onRecoverableError=fe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function nA(m,w,T,D,O,K,fe,be,Me,Je,lt,Bt){return m=new nx(m,w,T,fe,be,Me,Je,Bt),w=1,K===!0&&(w|=24),K=t(3,null,null,w),m.current=K,K.stateNode=m,(w=Nw()).refCount++,m.pooledCache=w,w.refCount++,K.memoizedState={element:D,isDehydrated:T,cache:w},Te(K),m}function Xc(m){return m?m=Jc:Jc}function Ju(m){var w=m._reactInternals;if(w===void 0)throw typeof m.render=="function"?Error(r(188)):(m=Object.keys(m).join(","),Error(r(268,m)));return(m=(m=p(w))!==null?g(m):null)===null?null:jp(m.stateNode)}function Yc(m,w,T,D,O,K){O=Xc(O),D.context===null?D.context=O:D.pendingContext=O,(D=ye(w)).payload={element:T},(K=K===void 0?null:K)!==null&&(D.callback=K),(T=Ue(m,D,w))!==null&&(To(T,0,w),De(T,m,w))}function jv(m,w){if((m=m.memoizedState)!==null&&m.dehydrated!==null){var T=m.retryLane;m.retryLane=T!==0&&T<w?T:w}}function om(m,w){jv(m,w),(m=m.alternate)&&jv(m,w)}var cd,sm,bi={},hs=_e,As=ure(),Kv=Object.assign,rF=Symbol.for("react.element"),$v=Symbol.for("react.transitional.element"),Wp=Symbol.for("react.portal"),ir=Symbol.for("react.fragment"),Xv=Symbol.for("react.strict_mode"),ud=Symbol.for("react.profiler"),am=Symbol.for("react.provider"),Yv=Symbol.for("react.consumer"),Ya=Symbol.for("react.context"),rA=Symbol.for("react.forward_ref"),rx=Symbol.for("react.suspense"),Zv=Symbol.for("react.suspense_list"),ox=Symbol.for("react.memo"),eh=Symbol.for("react.lazy"),oA=Symbol.for("react.offscreen"),sx=Symbol.for("react.memo_cache_sentinel"),lm=Symbol.iterator,jS=Symbol.for("react.client.reference"),ei=hs.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Jv=!1,hd=Array.isArray,ax=e.rendererVersion,KS=e.rendererPackageName,cm=e.extraDevToolsConfig,jp=e.getPublicInstance,um=e.getRootHostContext,$S=e.getChildHostContext,XS=e.prepareForCommit,sA=e.resetAfterCommit,lx=e.createInstance,hm=e.appendInitialChild,th=e.finalizeInitialChildren,dc=e.shouldSetTextContent,Kp=e.createTextInstance,cx=e.scheduleTimeout,ux=e.cancelTimeout,Ad=e.noTimeout,Za=e.isPrimaryRenderer;e.warnsIfNotActing;var qo=e.supportsMutation,ih=e.supportsPersistence,Wo=e.supportsHydration,Am=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var YS=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ds=e.setCurrentUpdatePriority,nh=e.getCurrentUpdatePriority,aA=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Ui=e.shouldAttemptEagerTransition,Cn=e.detachDeletedInstance;e.requestPostPaintCallback;var Zr=e.maySuspendCommit,dm=e.preloadInstance,$p=e.startSuspendingCommit,lA=e.suspendInstance,e0=e.waitForCommitToBeReady,Zc=e.NotPendingTransition,Ul=e.HostTransitionContext,oF=e.resetFormInstance;e.bindToConsole;var Qr=e.supportsMicrotasks,hx=e.scheduleMicrotask,dd=e.supportsTestSelectors,ZS=e.findFiberRoot,JS=e.getBoundingRect,sF=e.getTextContent,pd=e.isHiddenSubtree,Ax=e.matchAccessibilityRole,dx=e.setFocusIfFocusable,va=e.setupIntersectionObserver,Jr=e.appendChild,px=e.appendChildToContainer,pm=e.commitTextUpdate,t0=e.commitMount,fx=e.commitUpdate,rh=e.insertBefore,i0=e.insertInContainerBefore,gx=e.removeChild,mx=e.removeChildFromContainer,_x=e.resetTextContent,eE=e.hideInstance,tE=e.hideTextInstance,iE=e.unhideInstance,nE=e.unhideTextInstance,rE=e.clearContainer,vx=e.cloneInstance,bx=e.createContainerChildSet,oE=e.appendChildToContainerChildSet,sE=e.finalizeContainerChildren,yx=e.replaceContainerChildren,wx=e.cloneHiddenInstance,n0=e.cloneHiddenTextInstance,r0=e.isSuspenseInstancePending,o0=e.isSuspenseInstanceFallback,aE=e.getSuspenseInstanceFallbackErrorDetails,lE=e.registerSuspenseInstanceRetry,cE=e.canHydrateFormStateMarker,aF=e.isFormStateMarkerMatching,xx=e.getNextHydratableSibling,fd=e.getFirstHydratableChild,s0=e.getFirstHydratableChildWithinContainer,uE=e.getFirstHydratableChildWithinSuspenseInstance,a0=e.canHydrateInstance,fm=e.canHydrateTextInstance,hE=e.canHydrateSuspenseInstance,AE=e.hydrateInstance,dE=e.hydrateTextInstance,pE=e.hydrateSuspenseInstance,fE=e.getNextHydratableInstanceAfterSuspenseInstance,gE=e.commitHydratedContainer,Cx=e.commitHydratedSuspenseInstance,mE=e.clearSuspenseBoundary,_E=e.clearSuspenseBoundaryFromContainer,l0=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var vE=e.validateHydratableInstance,bE=e.validateHydratableTextInstance,Pl=e.supportsResources,c0=e.isHostHoistableType,u0=e.getHoistableRoot,Bx=e.getResource,h0=e.acquireResource,Sx=e.releaseResource,yE=e.hydrateHoistable,wE=e.mountHoistable,xE=e.unmountHoistable,CE=e.createHoistableInstance,gm=e.prepareToCommitHoistables,Ex=e.mayResourceSuspendCommit,mm=e.preloadResource,BE=e.suspendResource,jo=e.supportsSingletons,_m=e.resolveSingletonInstance,SE=e.clearSingleton,EE=e.acquireSingletonInstance,lF=e.releaseSingletonInstance,gd=e.isHostSingletonType,md=[],oh=-1,Jc={},ps=Math.clz32?Math.clz32:function(m){return(m>>>=0)===0?32:31-(TE(m)/IE|0)|0},TE=Math.log,IE=Math.LN2,cA=128,A0=4194304,qs=As.unstable_scheduleCallback,Ll=As.unstable_cancelCallback,uA=As.unstable_shouldYield,ME=As.unstable_requestPaint,Io=As.unstable_now,eu=As.unstable_ImmediatePriority,lo=As.unstable_UserBlockingPriority,vm=As.unstable_NormalPriority,Tx=As.unstable_IdlePriority,Ix=As.log,RE=As.unstable_setDisableYieldValue,Xp=null,co=null,fs=typeof Object.is=="function"?Object.is:function(m,w){return m===w&&(m!==0||1/m==1/w)||m!=m&&w!=w},Mx=new WeakMap,_d=[],vd=0,bd=null,bm=0,ba=[],Ja=0,hA=null,tu=1,iu="",rn=_(null),Nr=_(null),sh=_(null),ym=_(null),gs=null,Ko=null,ln=!1,ya=null,Ol=!1,d0=Error(r(519)),el=[],yd=0,wm=0,Yp=null,AA=null,p0=!1,Zp=!1,Jp=!1,dA=0,ef=null,xm=0,pA=0,Ws=null,nu=!1,Rx=!1,kE=Object.prototype.hasOwnProperty,tl=Error(r(460)),f0=Error(r(474)),wd={then:function(){}},ru=null,Bn=null,Cm=0,xd=ft(!0),kx=ft(!1),ou=_(null),pc=_(0),il=_(null),su=null,fr=_(0),$o=0,Ii=null,Fn=null,Hr=null,tf=!1,fA=!1,au=!1,Bm=0,nl=0,Hn=null,Fx=0,g0=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Dn={readContext:us,use:wt,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useLayoutEffect:ci,useInsertionEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useSyncExternalStore:ci,useId:ci};Dn.useCacheRefresh=ci,Dn.useMemoCache=ci,Dn.useHostTransitionStatus=ci,Dn.useFormState=ci,Dn.useActionState=ci,Dn.useOptimistic=ci;var Cd={readContext:us,use:wt,useCallback:function(m,w){return kn().memoizedState=[m,w===void 0?null:w],m},useContext:us,useEffect:tr,useImperativeHandle:function(m,w,T){T=T!=null?T.concat([m]):null,an(4194308,4,Ho.bind(null,w,m),T)},useLayoutEffect:function(m,w){return an(4194308,4,m,w)},useInsertionEffect:function(m,w){an(4,2,m,w)},useMemo:function(m,w){var T=kn();w=w===void 0?null:w;var D=m();if(au){q(!0);try{m()}finally{q(!1)}}return T.memoizedState=[D,w],D},useReducer:function(m,w,T){var D=kn();if(T!==void 0){var O=T(w);if(au){q(!0);try{T(w)}finally{q(!1)}}}else O=w;return D.memoizedState=D.baseState=O,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:O},D.queue=m,m=m.dispatch=zg.bind(null,Ii,m),[D.memoizedState,m]},useRef:function(m){return m={current:m},kn().memoizedState=m},useState:function(m){var w=(m=Mt(m)).queue,T=qu.bind(null,Ii,w);return w.dispatch=T,[m.memoizedState,T]},useDebugValue:zc,useDeferredValue:function(m,w){return $A(kn(),m,w)},useTransition:function(){var m=Mt(!1);return m=XA.bind(null,Ii,m.queue,!0,!1),kn().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,w,T){var D=Ii,O=kn();if(ln){if(T===void 0)throw Error(r(407));T=T()}else{if(T=w(),Lt===null)throw Error(r(349));60&Ot||Ke(D,w,T)}O.memoizedState=T;var K={value:T,getSnapshot:w};return O.queue=K,tr(ht.bind(null,D,K,m),[m]),D.flags|=2048,Xi(9,Oe.bind(null,D,K,T,w),{destroy:void 0},null),T},useId:function(){var m=kn(),w=Lt.identifierPrefix;if(ln){var T=iu;w=":"+w+"R"+(T=(tu&~(1<<32-ps(tu)-1)).toString(32)+T),0<(T=Bm++)&&(w+="H"+T.toString(32)),w+=":"}else w=":"+w+"r"+(T=Fx++).toString(32)+":";return m.memoizedState=w},useCacheRefresh:function(){return kn().memoizedState=YA.bind(null,Ii)}};Cd.useMemoCache=kl,Cd.useHostTransitionStatus=Fl,Cd.useFormState=Vt,Cd.useActionState=Vt,Cd.useOptimistic=function(m){var w=kn();w.memoizedState=w.baseState=m;var T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return w.queue=T,w=Wh.bind(null,Ii,!0,T),T.dispatch=w,[m,w]};var ah={readContext:us,use:wt,useCallback:KA,useContext:us,useEffect:Qn,useImperativeHandle:Hc,useInsertionEffect:Or,useLayoutEffect:cs,useMemo:qh,useReducer:so,useRef:ca,useState:function(){return so(aa)},useDebugValue:zc,useDeferredValue:function(m,w){return Gu(dn(),Fn.memoizedState,m,w)},useTransition:function(){var m=so(aa)[0],w=dn().memoizedState;return[typeof m=="boolean"?m:ls(m),w]},useSyncExternalStore:We,useId:Gc};ah.useCacheRefresh=ua,ah.useMemoCache=kl,ah.useHostTransitionStatus=Fl,ah.useFormState=xn,ah.useActionState=xn,ah.useOptimistic=function(m,w){return Wt(dn(),0,m,w)};var gA={readContext:us,use:wt,useCallback:KA,useContext:us,useEffect:Qn,useImperativeHandle:Hc,useInsertionEffect:Or,useLayoutEffect:cs,useMemo:qh,useReducer:Le,useRef:ca,useState:function(){return Le(aa)},useDebugValue:zc,useDeferredValue:function(m,w){var T=dn();return Fn===null?$A(T,m,w):Gu(T,Fn.memoizedState,m,w)},useTransition:function(){var m=Le(aa)[0],w=dn().memoizedState;return[typeof m=="boolean"?m:ls(m),w]},useSyncExternalStore:We,useId:Gc};gA.useCacheRefresh=ua,gA.useMemoCache=kl,gA.useHostTransitionStatus=Fl,gA.useFormState=la,gA.useActionState=la,gA.useOptimistic=function(m,w){var T=dn();return Fn!==null?Wt(T,0,m,w):(T.baseState=m,[m,T.queue.dispatch])};var zn={isMounted:function(m){return!!(m=m._reactInternals)&&h(m)===m},enqueueSetState:function(m,w,T){m=m._reactInternals;var D=Hs(),O=ye(D);O.payload=w,T!=null&&(O.callback=T),(w=Ue(m,O,D))!==null&&(To(w,0,D),De(w,m,D))},enqueueReplaceState:function(m,w,T){m=m._reactInternals;var D=Hs(),O=ye(D);O.tag=1,O.payload=w,T!=null&&(O.callback=T),(w=Ue(m,O,D))!==null&&(To(w,0,D),De(w,m,D))},enqueueForceUpdate:function(m,w){m=m._reactInternals;var T=Hs(),D=ye(T);D.tag=2,w!=null&&(D.callback=w),(w=Ue(m,D,T))!==null&&(To(w,0,T),De(w,m,T))}},js=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(w))return}else if(typeof process=="object"&&typeof process.emit=="function")return void process.emit("uncaughtException",m);console.error(m)},lu=Error(r(461)),uo=!1,m0={dehydrated:null,treeContext:null,retryLane:0},_0=_(null),lh=null,zr=null,fc=typeof AbortController<"u"?AbortController:function(){var m=[],w=this.signal={aborted:!1,addEventListener:function(T,D){m.push(D)}};this.abort=function(){w.aborted=!0,m.forEach(function(T){return T()})}},FE=As.unstable_scheduleCallback,rl=As.unstable_NormalPriority,gr={$$typeof:Ya,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},ch=ei.S;ei.S=function(m,w){typeof w=="object"&&w!==null&&typeof w.then=="function"&&function(T,D){if(ef===null){var O=ef=[];xm=0,pA=G(),Ws={status:"pending",value:void 0,then:function(K){O.push(K)}}}xm++,D.then(ce,ce)}(0,w),ch!==null&&ch(m,w)};var Ql=_(null),ms=!1,nr=!1,Sm=!1,gc=typeof WeakSet=="function"?WeakSet:Set,ho=null,Bd=!1,Er=null,_s=!1,vs=null,Sd=8192,DE={getCacheForType:function(m){var w=us(gr),T=w.data.get(m);return T===void 0&&(T=m(),w.data.set(m,T)),T}},mA=0,Em=1,Ed=2,Tm=3,v0=4;if(typeof Symbol=="function"&&Symbol.for){var Im=Symbol.for;mA=Im("selector.component"),Em=Im("selector.has_pseudo_class"),Ed=Im("selector.role"),Tm=Im("selector.test_id"),v0=Im("selector.text")}var vn=typeof WeakMap=="function"?WeakMap:Map,jt=0,Lt=null,kt=null,Ot=0,Gi=0,eo=null,wa=!1,_A=!1,mc=!1,pn=0,bn=0,xa=0,uh=0,Ca=0,Xo=0,cu=0,Mo=null,Nl=null,Mm=!1,nf=0,vA=1/0,_c=null,rr=null,vc=!1,Hl=null,uu=0,Rm=0,km=null,rf=0,Td=null;return bi.attemptContinuousHydration=function(m){if(m.tag===13){var w=te(m,67108864);w!==null&&To(w,0,67108864),om(m,67108864)}},bi.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var w=Hs(),T=te(m,w);T!==null&&To(T,0,w),om(m,w)}},bi.attemptSynchronousHydration=function(m){switch(m.tag){case 3:if((m=m.stateNode).current.memoizedState.isDehydrated){var w=C(m.pendingLanes);if(w!==0){for(m.pendingLanes|=2,m.entangledLanes|=2;w;){var T=1<<31-ps(w);m.entanglements[1]|=T,w&=~T}U(m),!(6&jt)&&(vA=Io()+500,z(0))}}break;case 13:(w=te(m,2))!==null&&To(w,0,2),WS(),om(m,2)}},bi.batchedUpdates=function(m,w){return m(w)},bi.createComponentSelector=function(m){return{$$typeof:mA,value:m}},bi.createContainer=function(m,w,T,D,O,K,fe,be,Me,Je){return nA(m,w,!1,null,0,D,K,fe,be,Me,0,null)},bi.createHasPseudoClassSelector=function(m){return{$$typeof:Em,value:m}},bi.createHydrationContainer=function(m,w,T,D,O,K,fe,be,Me,Je,lt,Bt,gt){return(m=nA(T,D,!0,m,0,K,be,Me,Je,lt,0,gt)).context=Xc(null),T=m.current,(O=ye(D=Hs())).callback=w??null,Ue(T,O,D),m.current.lanes=D,P(m,D),U(m),m},bi.createPortal=function(m,w,T){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wp,key:D==null?null:""+D,children:m,containerInfo:w,implementation:T}},bi.createRoleSelector=function(m){return{$$typeof:Ed,value:m}},bi.createTestNameSelector=function(m){return{$$typeof:Tm,value:m}},bi.createTextSelector=function(m){return{$$typeof:v0,value:m}},bi.defaultOnCaughtError=function(m){console.error(m)},bi.defaultOnRecoverableError=function(m){js(m)},bi.defaultOnUncaughtError=function(m){js(m)},bi.deferredUpdates=function(m){var w=ei.T,T=nh();try{return ds(32),ei.T=null,m()}finally{ds(T),ei.T=w}},bi.discreteUpdates=function(m,w,T,D,O){var K=ei.T,fe=nh();try{return ds(2),ei.T=null,m(w,T,D,O)}finally{ds(fe),ei.T=K,jt===0&&(vA=Io()+500)}},bi.findAllNodes=Zh,bi.findBoundingRects=function(m,w){if(!dd)throw Error(r(363));w=Zh(m,w),m=[];for(var T=0;T<w.length;T++)m.push(JS(w[T]));for(w=m.length-1;0<w;w--)for(var D=(T=m[w]).x,O=D+T.width,K=T.y,fe=K+T.height,be=w-1;0<=be;be--)if(w!==be){var Me=m[be],Je=Me.x,lt=Je+Me.width,Bt=Me.y,gt=Bt+Me.height;if(D>=Je&&K>=Bt&&O<=lt&&fe<=gt){m.splice(w,1);break}if(!(D!==Je||T.width!==Me.width||gt<K||Bt>fe)){Bt>K&&(Me.height+=Bt-K,Me.y=K),gt<fe&&(Me.height=fe-Bt),m.splice(w,1);break}if(!(K!==Bt||T.height!==Me.height||lt<D||Je>O)){Je>D&&(Me.width+=Je-D,Me.x=D),lt<O&&(Me.width=O-Je),m.splice(w,1);break}}return m},bi.findHostInstance=Ju,bi.findHostInstanceWithNoPortals=function(m){return(m=(m=p(m))!==null?v(m):null)===null?null:jp(m.stateNode)},bi.findHostInstanceWithWarning=function(m){return Ju(m)},bi.flushPassiveEffects=Xa,bi.flushSyncFromReconciler=function(m){var w=jt;jt|=1;var T=ei.T,D=nh();try{if(ds(2),ei.T=null,m)return m()}finally{ds(D),ei.T=T,!(6&(jt=w))&&z(0)}},bi.flushSyncWork=WS,bi.focusWithin=function(m,w){if(!dd)throw Error(r(363));for(w=$a(m=Ka(m),w),w=Array.from(w),m=0;m<w.length;){var T=w[m++],D=T.tag;if(!pd(T)){if((D===5||D===26||D===27)&&dx(T.stateNode))return!0;for(T=T.child;T!==null;)w.push(T),T=T.sibling}}return!1},bi.getFindAllNodesFailureDescription=function(m,w){if(!dd)throw Error(r(363));var T=0,D=[];m=[Ka(m),0];for(var O=0;O<m.length;){var K=m[O++],fe=K.tag,be=m[O++],Me=w[be];if((fe!==5&&fe!==26&&fe!==27||!pd(K))&&(Gv(K,Me)&&(D.push(ga(Me)),++be>T&&(T=be)),be<w.length))for(K=K.child;K!==null;)m.push(K,be),K=K.sibling}if(T<w.length){for(m=[];T<w.length;T++)m.push(ga(w[T]));return`findAllNodes was able to match part of the selector:
  `+D.join(" > ")+`

No matching component was found for:
  `+m.join(" > ")}return null},bi.getPublicRootInstance=function(m){if(!(m=m.current).child)return null;switch(m.child.tag){case 27:case 5:return jp(m.child.stateNode);default:return m.child.stateNode}},bi.injectIntoDevTools=function(){var m={bundleType:0,version:ax,rendererPackageName:KS,currentDispatcherRef:ei,findFiberByHostInstance:Am,reconcilerVersion:"19.0.0"};if(cm!==null&&(m.rendererConfig=cm),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var w=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(w.isDisabled||!w.supportsFiber)m=!0;else{try{Xp=w.inject(m),co=w}catch{}m=!!w.checkDCE}}return m},bi.isAlreadyRendering=function(){return!1},bi.observeVisibleRects=function(m,w,T,D){if(!dd)throw Error(r(363));m=Zh(m,w);var O=va(m,T,D).disconnect;return{disconnect:function(){O()}}},bi.shouldError=function(){return null},bi.shouldSuspend=function(){return!1},bi.startHostTransition=function(m,w,T,D){if(m.tag!==5)throw Error(r(476));var O=Vu(m).queue;XA(m,O,w,Zc,T===null?n:function(){var K=Vu(m).next.queue;return zo(m,K,{},Hs()),T(D)})},bi.updateContainer=function(m,w,T,D){var O=w.current,K=Hs();return Yc(O,K,m,w,T,D),K},bi.updateContainerSync=function(m,w,T,D){return w.tag===0&&Xa(),Yc(w.current,2,m,w,T,D),2},bi},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})}(s$)),s$.exports}var h$,$5e=TS((h$||(h$=1,o$.exports=K5e()),o$.exports)),A$=ure();const V_=[];function hre(i,e,t=(n,r)=>n===r){if(i===e)return!0;if(!i||!e)return!1;const n=i.length;if(e.length!==n)return!1;for(let r=0;r<n;r++)if(!t(i[r],e[r]))return!1;return!0}function Are(i,e=null,t=!1,n={}){e===null&&(e=[i]);for(const s of V_)if(hre(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return n.lifespan&&n.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,n.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:n.equal,remove:()=>{const s=V_.indexOf(r);s!==-1&&V_.splice(s,1)},promise:(o=i,typeof o=="object"&&typeof o.then=="function"?i:i(...e)).then(s=>{r.response=s,n.lifespan&&n.lifespan>0&&(r.timeout=setTimeout(r.remove,n.lifespan))}).catch(s=>r.error=s)};var o;if(V_.push(r),!t)throw r.promise}const dre=(i,e,t)=>Are(i,e,!1,t);function _H(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=e?i.return:i.child;for(;n;){const r=_H(n,e,t);if(r)return r;n=e?null:n.sibling}}function pre(i){try{return Object.defineProperties(i,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch{return i}}const vH=pre(ne.createContext(null));class fre extends ne.Component{render(){return ne.createElement(vH.Provider,{value:this._reactInternals},this.props.children)}}function gre(){const i=ne.useContext(vH);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ne.useId();return ne.useMemo(()=>{for(const t of[i,i==null?void 0:i.alternate]){if(!t)continue;const n=_H(t,!1,r=>{let o=r.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(n)return n}},[i,e])}const X5e=Symbol.for("react.context"),Y5e=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===X5e;function Z5e(){const i=function(){const e=gre(),[t]=ne.useState(()=>new Map);t.clear();let n=e;for(;n;){const r=n.type;Y5e(r)&&r!==vH&&!t.has(r)&&t.set(r,ne.use(pre(r))),n=n.return}return t}();return ne.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>ne.createElement(e,null,ne.createElement(t.Provider,{...n,value:i.get(t)})),e=>ne.createElement(fre,{...e})),[i])}function mre(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const d$=i=>i&&i.isOrthographicCamera,J5e=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),DS=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?ne.useLayoutEffect:ne.useEffect;function _re(i){const e=ne.useRef(i);return DS(()=>{e.current=i},[i]),e}function eRe({set:i}){return DS(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const tRe=(i=>((i=class extends ne.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),i))();function vre(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}function Kb(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const Rr={obj:i=>i===Object(i)&&!Rr.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(Rr.str(i)||Rr.num(i)||Rr.boo(i))return i===e;const o=Rr.obj(i);if(o&&n==="reference")return i===e;const s=Rr.arr(i);if(s&&t==="reference")return i===e;if((s||o)&&i===e)return!0;let a;for(a in i)if(!(a in e))return!1;if(o&&t==="shallow"&&n==="shallow"){for(a in r?e:i)if(!Rr.equ(i[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:i)if(i[a]!==e[a])return!1;if(Rr.und(a)){if(s&&i.length===0&&e.length===0||o&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}},bre=["children","key","ref"];function iRe(i){const e={};for(const t in i)bre.includes(t)||(e[t]=i[t]);return e}function CR(i,e,t,n){const r=i;let o=r==null?void 0:r.__r3f;return o||(o={root:e,type:t,parent:null,children:[],props:iRe(n),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=o)),o}function sS(i,e){let t=i[e];if(!e.includes("-"))return{root:i,key:e,target:t};t=i;for(const r of e.split("-")){var n;e=r,i=t,t=(n=t)==null?void 0:n[e]}return{root:i,key:e,target:t}}const p$=/-\d+$/;function BR(i,e){if(Rr.str(e.props.attach)){if(p$.test(e.props.attach)){const r=e.props.attach.replace(p$,""),{root:o,key:s}=sS(i.object,r);Array.isArray(o[s])||(o[s]=[])}const{root:t,key:n}=sS(i.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else Rr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function DM(i,e){if(Rr.str(e.props.attach)){const{root:t,key:n}=sS(i.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[n]:t[n]=r}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const sQ=[...bre,"args","dispose","attach","object","onUpdate","dispose"],f$=new Map;function nRe(i){let e=f$.get(i.constructor);try{e||(e=new i.constructor,f$.set(i.constructor,e))}catch{}return e}const rRe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],oRe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function ig(i,e){var t;const n=i.__r3f,r=n&&mre(n).getState(),o=n==null?void 0:n.eventCount;for(const a in e){let l=e[a];if(sQ.includes(a))continue;if(n&&oRe.test(a)){typeof l=="function"?n.handlers[a]=l:delete n.handlers[a],n.eventCount=Object.keys(n.handlers).length;continue}if(l===void 0)continue;let{root:c,key:u,target:h}=sS(i,a);if(h instanceof Ly&&l instanceof Ly)h.mask=l.mask;else if(h instanceof ut&&J5e(l))h.set(l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof h.copy=="function"&&l!=null&&l.constructor&&h.constructor===l.constructor)h.copy(l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&Array.isArray(l))typeof h.fromArray=="function"?h.fromArray(l):h.set(...l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof l=="number")typeof h.setScalar=="function"?h.setScalar(l):h.set(l);else{var s;c[u]=l,r&&!r.linear&&rRe.includes(u)&&(s=c[u])!=null&&s.isTexture&&c[u].format===On&&c[u].type===Wr&&(c[u].colorSpace=fi)}}if(n!=null&&n.parent&&r!=null&&r.internal&&(t=n.object)!=null&&t.isObject3D&&o!==n.eventCount){const a=n.object,l=r.internal.interaction.indexOf(a);l>-1&&r.internal.interaction.splice(l,1),n.eventCount&&a.raycast!==null&&r.internal.interaction.push(a)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&hw(n),i}function hw(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const t=(e=i.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}const vl=i=>i==null?void 0:i.isObject3D;function UI(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function yre(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function sRe(i){function e(r){return r.filter(o=>["Move","Over","Enter","Out","Leave"].some(s=>{var a;return(a=o.__r3f)==null?void 0:a.handlers["onPointer"+s]}))}function t(r){const{internal:o}=i.getState();for(const s of o.hovered.values())if(!r.length||!r.find(a=>a.object===s.object&&a.index===s.index&&a.instanceId===s.instanceId)){const a=s.eventObject.__r3f;if(o.hovered.delete(UI(s)),a!=null&&a.eventCount){const l=a.handlers,c={...s,intersections:r};l.onPointerOut==null||l.onPointerOut(c),l.onPointerLeave==null||l.onPointerLeave(c)}}}function n(r,o){for(let s=0;s<o.length;s++){const a=o[s].__r3f;a==null||a.handlers.onPointerMissed==null||a.handlers.onPointerMissed(r)}}return{handlePointer:function(r){switch(r){case"onPointerLeave":case"onPointerCancel":return()=>t([]);case"onLostPointerCapture":return o=>{const{internal:s}=i.getState();"pointerId"in o&&s.capturedMap.has(o.pointerId)&&requestAnimationFrame(()=>{s.capturedMap.has(o.pointerId)&&(s.capturedMap.delete(o.pointerId),t([]))})}}return function(o){const{onPointerMissed:s,internal:a}=i.getState();a.lastEvent.current=o;const l=r==="onPointerMove",c=r==="onClick"||r==="onContextMenu"||r==="onDoubleClick",u=function(d,p){const g=i.getState(),v=new Set,_=[],b=p?p(g.internal.interaction):g.internal.interaction;for(let S=0;S<b.length;S++){const E=Kb(b[S]);E&&(E.raycaster.camera=void 0)}g.previousRoot||g.events.compute==null||g.events.compute(d,g);let x=b.flatMap(function(S){const E=Kb(S);return E&&E.events.enabled&&E.raycaster.camera!==null?(E.raycaster.camera===void 0&&(E.events.compute==null||E.events.compute(d,E,(I=E.previousRoot)==null?void 0:I.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)),E.raycaster.camera?E.raycaster.intersectObject(S,!0):[]):[];var I}).sort((S,E)=>{const I=Kb(S.object),M=Kb(E.object);return I&&M&&M.events.priority-I.events.priority||S.distance-E.distance}).filter(S=>{const E=UI(S);return!v.has(E)&&(v.add(E),!0)});g.events.filter&&(x=g.events.filter(x,g));for(const S of x){let E=S.object;for(;E;){var C;(C=E.__r3f)!=null&&C.eventCount&&_.push({...S,eventObject:E}),E=E.parent}}if("pointerId"in d&&g.internal.capturedMap.has(d.pointerId))for(let S of g.internal.capturedMap.get(d.pointerId).values())v.has(UI(S.intersection))||_.push(S.intersection);return _}(o,l?e:void 0),h=c?function(d){const{internal:p}=i.getState(),g=d.offsetX-p.initialClick[0],v=d.offsetY-p.initialClick[1];return Math.round(Math.sqrt(g*g+v*v))}(o):0;r==="onPointerDown"&&(a.initialClick=[o.offsetX,o.offsetY],a.initialHits=u.map(d=>d.eventObject)),c&&!u.length&&h<=2&&(n(o,a.interaction),s&&s(o)),l&&t(u),function(d,p,g,v){if(d.length){const _={stopped:!1};for(const b of d){let x=Kb(b.object);if(x||b.object.traverseAncestors(C=>{const S=Kb(C);if(S)return x=S,!1}),x){const{raycaster:C,pointer:S,camera:E,internal:I}=x,M=new he(S.x,S.y,0).unproject(E),k=W=>{var q,J;return(q=(J=I.capturedMap.get(W))==null?void 0:J.has(b.eventObject))!=null&&q},F=W=>{const q={intersection:b,target:p.target};I.capturedMap.has(W)?I.capturedMap.get(W).set(b.eventObject,q):I.capturedMap.set(W,new Map([[b.eventObject,q]])),p.target.setPointerCapture(W)},P=W=>{const q=I.capturedMap.get(W);q&&yre(I.capturedMap,b.eventObject,q,W)};let Q={};for(let W in p){let q=p[W];typeof q!="function"&&(Q[W]=q)}let N={...b,...Q,pointer:S,intersections:d,stopped:_.stopped,delta:g,unprojectedPoint:M,ray:C.ray,camera:E,stopPropagation(){const W="pointerId"in p&&I.capturedMap.get(p.pointerId);(!W||W.has(b.eventObject))&&(N.stopped=_.stopped=!0,I.hovered.size&&Array.from(I.hovered.values()).find(q=>q.eventObject===b.eventObject))&&t([...d.slice(0,d.indexOf(b)),b])},target:{hasPointerCapture:k,setPointerCapture:F,releasePointerCapture:P},currentTarget:{hasPointerCapture:k,setPointerCapture:F,releasePointerCapture:P},nativeEvent:p};if(v(N),_.stopped===!0)break}}}}(u,o,h,function(d){const p=d.eventObject,g=p.__r3f;if(g==null||!g.eventCount)return;const v=g.handlers;if(l){if(v.onPointerOver||v.onPointerEnter||v.onPointerOut||v.onPointerLeave){const _=UI(d),b=a.hovered.get(_);b?b.stopped&&d.stopPropagation():(a.hovered.set(_,d),v.onPointerOver==null||v.onPointerOver(d),v.onPointerEnter==null||v.onPointerEnter(d))}v.onPointerMove==null||v.onPointerMove(d)}else{const _=v[r];_?c&&!a.initialHits.includes(p)||(n(o,a.interaction.filter(b=>!a.initialHits.includes(b))),_(d)):c&&a.initialHits.includes(p)&&n(o,a.interaction.filter(b=>!a.initialHits.includes(b)))}})}}}}const g$=i=>!(i==null||!i.render),wre=ne.createContext(null),aRe=(i,e)=>{const t=(n=(c,u)=>{const h=new he,d=new he,p=new he;function g(C=u().camera,S=d,E=u().size){const{width:I,height:M,top:k,left:F}=E,P=I/M;S.isVector3?p.copy(S):p.set(...S);const Q=C.getWorldPosition(h).distanceTo(p);if(d$(C))return{width:I/C.zoom,height:M/C.zoom,top:k,left:F,factor:1,distance:Q,aspect:P};{const N=C.fov*Math.PI/180,W=2*Math.tan(N/2)*Q,q=W*(I/M);return{width:q,height:W,top:k,left:F,factor:I/q,distance:Q,aspect:P}}}let v;const _=C=>c(S=>({performance:{...S.performance,current:C}})),b=new et;return{set:c,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(C=1)=>i(u(),C),advance:(C,S)=>e(C,S,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new tN,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const C=u();v&&clearTimeout(v),C.performance.current!==C.performance.min&&_(C.performance.min),v=setTimeout(()=>_(u().performance.max),C.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:C=>c(S=>({...S,events:{...S.events,...C}})),setSize:(C,S,E=0,I=0)=>{const M=u().camera,k={width:C,height:S,top:E,left:I};c(F=>({size:k,viewport:{...F.viewport,...g(M,d,k)}}))},setDpr:C=>c(S=>{const E=vre(C);return{viewport:{...S.viewport,dpr:E,initialDpr:S.viewport.initialDpr||E}}}),setFrameloop:(C="always")=>{const S=u().clock;S.stop(),S.elapsedTime=0,C!=="never"&&(S.start(),S.elapsedTime=0),c(()=>({frameloop:C}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:ne.createRef(),active:!1,frames:0,priority:0,subscribe:(C,S,E)=>{const I=u().internal;return I.priority=I.priority+(S>0?1:0),I.subscribers.push({ref:C,priority:S,store:E}),I.subscribers=I.subscribers.sort((M,k)=>M.priority-k.priority),()=>{const M=u().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(S>0?1:0),M.subscribers=M.subscribers.filter(k=>k.ref!==C))}}}}},n?n$(n,r):n$);var n,r;const o=t.getState();let s=o.size,a=o.viewport.dpr,l=o.camera;return t.subscribe(()=>{const{camera:c,size:u,viewport:h,gl:d,set:p}=t.getState();if(u.width!==s.width||u.height!==s.height||h.dpr!==a){s=u,a=h.dpr,function(v,_){v.manual||(d$(v)?(v.left=_.width/-2,v.right=_.width/2,v.top=_.height/2,v.bottom=_.height/-2):v.aspect=_.width/_.height,v.updateProjectionMatrix())}(c,u),h.dpr>0&&d.setPixelRatio(h.dpr);const g=typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(u.width,u.height,g)}c!==l&&(l=c,p(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(c)}})))}),t.subscribe(c=>i(c)),t};function xre(){const i=ne.useContext(wre);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function Ih(i=t=>t,e){return xre()(i,e)}function Cre(i,e=0){const t=xre(),n=t.getState().internal.subscribe,r=_re(i);return DS(()=>n(r,e,t),[e,n,t]),null}const m$=new WeakMap;function Bre(i,e){return function(t,...n){let r;var o,s;return typeof(o=t)=="function"&&(o==null||(s=o.prototype)==null?void 0:s.constructor)===o?(r=m$.get(t),r||(r=new t,m$.set(t,r))):r=t,i&&i(r),Promise.all(n.map(a=>new Promise((l,c)=>r.load(a,u=>{vl(u==null?void 0:u.scene)&&Object.assign(u,function(h){const d={nodes:{},materials:{},meshes:{}};return h&&h.traverse(p=>{p.name&&(d.nodes[p.name]=p),p.material&&!d.materials[p.material.name]&&(d.materials[p.material.name]=p.material),p.isMesh&&!d.meshes[p.name]&&(d.meshes[p.name]=p)}),d}(u.scene)),l(u)},e,u=>c(new Error(`Could not load ${a}: ${u==null?void 0:u.message}`))))))}}function aQ(i,e,t,n){const r=Array.isArray(e)?e:[e],o=dre(Bre(t,n),[i,...r],{equal:Rr.equ});return Array.isArray(e)?o:o[0]}function lRe(i){const e=$5e(i);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ne.version}),e}aQ.preload=function(i,e,t){const n=Array.isArray(e)?e:[e];return((r,o,s)=>{Are(r,o,!0,s)})(Bre(t),[i,...n])},aQ.clear=function(i,e){return(t=>{if(t===void 0||t.length===0)V_.splice(0,V_.length);else{const n=V_.find(r=>hre(t,r.keys,r.equal));n&&n.remove()}})([i,...Array.isArray(e)?e:[e]])};const Aw={},cRe=/^three(?=[A-Z])/,SR=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let uRe=0;function _$(i,e){const t=SR(i),n=Aw[t];if(i!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function v$(i){var e;i.isHidden&&(i.props.attach&&(e=i.parent)!=null&&e.object?BR(i.parent,i):vl(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,hw(i))}function bH(i,e,t){const n=e.root.getState();if(i.parent||i.object===n.scene){if(!e.object){var r,o;const s=Aw[SR(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(o=e.props.args)!=null?o:[]),e.object.__r3f=e}if(ig(e.object,e.props),e.props.attach)BR(i,e);else if(vl(e.object)&&vl(i.object)){const s=i.object.children.indexOf(t==null?void 0:t.object);if(t&&s!==-1){const a=i.object.children.indexOf(e.object);if(a!==-1){i.object.children.splice(a,1);const l=a<s?s-1:s;i.object.children.splice(l,0,e.object)}else e.object.parent=i.object,i.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const s of e.children)bH(e,s);hw(e)}}function rL(i,e){e&&(e.parent=i,i.children.push(e),bH(i,e))}function b$(i,e,t){if(!e||!t)return;e.parent=i;const n=i.children.indexOf(t);n!==-1?i.children.splice(n,0,e):i.children.push(e),bH(i,e,t)}function Sre(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():A$.unstable_scheduleCallback(A$.unstable_IdlePriority,e)}}function lQ(i,e,t){if(!e)return;e.parent=null;const n=i.children.indexOf(e);n!==-1&&i.children.splice(n,1),e.props.attach?DM(i,e):vl(e.object)&&vl(i.object)&&(i.object.remove(e.object),function(o,s){const{internal:a}=o.getState();a.interaction=a.interaction.filter(l=>l!==s),a.initialHits=a.initialHits.filter(l=>l!==s),a.hovered.forEach((l,c)=>{l.eventObject!==s&&l.object!==s||a.hovered.delete(c)}),a.capturedMap.forEach((l,c)=>{yre(a.capturedMap,s,l,c)})}(mre(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let o=e.children.length-1;o>=0;o--)lQ(e,e.children[o],r);e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&Sre(e.object),t===void 0&&hw(e)}function hRe(i,e){for(const t of[i,i.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const PI=[],oL=()=>{},y$={};let LI=0;const cQ=lRe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(i,e,t){var n;return _$(i=SR(i)in Aw?i:i.replace(cRe,""),e),i==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,CR(e.object,t,i,e)},removeChild:lQ,appendChild:rL,appendInitialChild:rL,insertBefore:b$,appendChildToContainer(i,e){const t=i.getState().scene.__r3f;e&&t&&rL(t,e)},removeChildFromContainer(i,e){const t=i.getState().scene.__r3f;e&&t&&lQ(t,e)},insertInContainerBefore(i,e,t){const n=i.getState().scene.__r3f;e&&t&&n&&b$(n,e,t)},getRootHostContext:()=>y$,getChildHostContext:()=>y$,commitUpdate(i,e,t,n,r){var o,s,a;_$(e,n);let l=!1;if((i.type==="primitive"&&t.object!==n.object||((o=n.args)==null?void 0:o.length)!==((s=t.args)==null?void 0:s.length)||(a=n.args)!=null&&a.some((c,u)=>{var h;return c!==((h=t.args)==null?void 0:h[u])}))&&(l=!0),l)PI.push([i,{...n},r]);else{const c=function(u,h){const d={};for(const p in h)if(!sQ.includes(p)&&!Rr.equ(h[p],u.props[p])){d[p]=h[p];for(const g in h)g.startsWith(`${p}-`)&&(d[g]=h[g])}for(const p in u.props){if(sQ.includes(p)||h.hasOwnProperty(p))continue;const{root:g,key:v}=sS(u.object,p);if(g.constructor&&g.constructor.length===0){const _=nRe(g);Rr.und(_)||(d[v]=_[v])}else d[v]=0}return d}(i,n);Object.keys(c).length&&(Object.assign(i.props,c),ig(i.object,c))}(r.sibling===null||!(4&r.flags))&&function(){for(const[h]of PI){const d=h.parent;if(d){h.props.attach?DM(d,h):vl(h.object)&&vl(d.object)&&d.object.remove(h.object);for(const p of h.children)p.props.attach?DM(h,p):vl(p.object)&&vl(h.object)&&h.object.remove(p.object)}h.isHidden&&v$(h),h.object.__r3f&&delete h.object.__r3f,h.type!=="primitive"&&Sre(h.object)}for(const[h,d,p]of PI){h.props=d;const g=h.parent;if(g){var c,u;const v=Aw[SR(h.type)];h.object=(c=h.props.object)!=null?c:new v(...(u=h.props.args)!=null?u:[]),h.object.__r3f=h,hRe(p,h.object),ig(h.object,h.props),h.props.attach?BR(g,h):vl(h.object)&&vl(g.object)&&g.object.add(h.object);for(const _ of h.children)_.props.attach?BR(h,_):vl(_.object)&&vl(h.object)&&h.object.add(_.object);hw(h)}}PI.length=0}()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i==null?void 0:i.object,prepareForCommit:()=>null,preparePortalMount:i=>CR(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(i){var e;i.isHidden||(i.props.attach&&(e=i.parent)!=null&&e.object?DM(i.parent,i):vl(i.object)&&(i.object.visible=!1),i.isHidden=!0,hw(i))},unhideInstance:v$,createTextInstance:oL,hideTextInstance:oL,unhideTextInstance:oL,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:ne.createContext(null),setCurrentUpdatePriority(i){LI=i},getCurrentUpdatePriority:()=>LI,resolveUpdatePriority(){var i;if(LI!==0)return LI;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return FM.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return FM.ContinuousEventPriority;default:return FM.DefaultEventPriority}},resetFormInstance(){}}),Cv=new Map,$b={objects:"shallow",strict:!1};function ARe(i){const e=Cv.get(i),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,o=n||aRe(AQ,x$),s=t||cQ.createContainer(o,FM.ConcurrentRoot,null,!1,null,"",r,r,r,null);let a,l;e||Cv.set(i,{fiber:s,store:o});let c=!1,u=null;return{async configure(h={}){let d;u=new Promise(ee=>d=ee);let{gl:p,size:g,scene:v,events:_,onCreated:b,shadows:x=!1,linear:C=!1,flat:S=!1,legacy:E=!1,orthographic:I=!1,frameloop:M="always",dpr:k=[1,2],performance:F,raycaster:P,camera:Q,onPointerMissed:N}=h,W=o.getState(),q=W.gl;if(!W.gl){const ee={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},oe=typeof p=="function"?await p(ee):p;q=g$(oe)?oe:new uk({...ee,...p}),W.set({gl:q})}let J=W.raycaster;J||W.set({raycaster:J=new oN});const{params:V,...Y}=P||{};if(Rr.equ(Y,J,$b)||ig(J,{...Y}),Rr.equ(V,J.params,$b)||ig(J,{params:{...J.params,...V}}),!W.camera||W.camera===l&&!Rr.equ(l,Q,$b)){l=Q;const ee=Q==null?void 0:Q.isCamera,oe=ee?Q:I?new nc(0,0,0,0,.1,1e3):new Kn(75,0,.1,1e3);ee||(oe.position.z=5,Q&&(ig(oe,Q),oe.manual||("aspect"in Q||"left"in Q||"right"in Q||"bottom"in Q||"top"in Q)&&(oe.manual=!0,oe.updateProjectionMatrix())),W.camera||Q!=null&&Q.rotation||oe.lookAt(0,0,0)),W.set({camera:oe}),J.camera=oe}if(!W.scene){let ee;v!=null&&v.isScene?(ee=v,CR(ee,o,"",{})):(ee=new Lu,CR(ee,o,"",{}),v&&ig(ee,v)),W.set({scene:ee})}_&&!W.events.handlers&&W.set({events:_(o)});const Z=function(ee,oe){if(!oe&&typeof HTMLCanvasElement<"u"&&ee instanceof HTMLCanvasElement&&ee.parentElement){const{width:ge,height:se,top:Ae,left:we}=ee.parentElement.getBoundingClientRect();return{width:ge,height:se,top:Ae,left:we}}return!oe&&typeof OffscreenCanvas<"u"&&ee instanceof OffscreenCanvas?{width:ee.width,height:ee.height,top:0,left:0}:{width:0,height:0,top:0,left:0,...oe}}(i,g);if(Rr.equ(Z,W.size,$b)||W.setSize(Z.width,Z.height,Z.top,Z.left),k&&W.viewport.dpr!==vre(k)&&W.setDpr(k),W.frameloop!==M&&W.setFrameloop(M),W.onPointerMissed||W.set({onPointerMissed:N}),F&&!Rr.equ(F,W.performance,$b)&&W.set(ee=>({performance:{...ee.performance,...F}})),!W.xr){var ue;const ee=(se,Ae)=>{const we=o.getState();we.frameloop!=="never"&&x$(se,!0,we,Ae)},oe=()=>{const se=o.getState();se.gl.xr.enabled=se.gl.xr.isPresenting,se.gl.xr.setAnimationLoop(se.gl.xr.isPresenting?ee:null),se.gl.xr.isPresenting||AQ(se)},ge={connect(){const se=o.getState().gl;se.xr.addEventListener("sessionstart",oe),se.xr.addEventListener("sessionend",oe)},disconnect(){const se=o.getState().gl;se.xr.removeEventListener("sessionstart",oe),se.xr.removeEventListener("sessionend",oe)}};typeof((ue=q.xr)==null?void 0:ue.addEventListener)=="function"&&ge.connect(),W.set({xr:ge})}if(q.shadowMap){const ee=q.shadowMap.enabled,oe=q.shadowMap.type;if(q.shadowMap.enabled=!!x,Rr.boo(x))q.shadowMap.type=F2;else if(Rr.str(x)){var $;const ge={basic:J$,percentage:TR,soft:F2,variance:Th};q.shadowMap.type=($=ge[x])!=null?$:F2}else Rr.obj(x)&&Object.assign(q.shadowMap,x);ee===q.shadowMap.enabled&&oe===q.shadowMap.type||(q.shadowMap.needsUpdate=!0)}return _i.enabled=!E,c||(q.outputColorSpace=C?Xn:fi,q.toneMapping=S?Mu:IR),W.legacy!==E&&W.set(()=>({legacy:E})),W.linear!==C&&W.set(()=>({linear:C})),W.flat!==S&&W.set(()=>({flat:S})),!p||Rr.fun(p)||g$(p)||Rr.equ(p,q,$b)||ig(q,p),a=b,c=!0,d(),this},render(h){return c||u||this.configure(),u.then(()=>{cQ.updateContainer(Es.jsx(dRe,{store:o,children:h,onCreated:a,rootElement:i}),s,null,()=>{})}),o},unmount(){Ere(i)}}}function dRe({store:i,children:e,onCreated:t,rootElement:n}){return DS(()=>{const r=i.getState();r.set(o=>({internal:{...o.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),Es.jsx(wre.Provider,{value:i,children:e})}function Ere(i,e){const t=Cv.get(i),n=t==null?void 0:t.fiber;if(n){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),cQ.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var o,s,a,l;r.events.disconnect==null||r.events.disconnect(),(o=r.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),function(c){c.type!=="Scene"&&(c.dispose==null||c.dispose());for(const u in c){const h=c[u];(h==null?void 0:h.type)!=="Scene"&&(h==null||h.dispose==null||h.dispose())}}(r.scene),Cv.delete(i)}catch{}},500)})}}const pRe=new Set,fRe=new Set,gRe=new Set;function sL(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function sB(i,e){switch(i){case"before":return sL(pRe,e);case"after":return sL(fRe,e);case"tail":return sL(gRe,e)}}let aL,lL;function uQ(i,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),aL=e.internal.subscribers;for(let r=0;r<aL.length;r++)lL=aL[r],lL.ref.current(lL.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let cL,w$,Xb,ER=!1,hQ=!1;function Tre(i){w$=requestAnimationFrame(Tre),ER=!0,cL=0,sB("before",i),hQ=!0;for(const t of Cv.values()){var e;Xb=t.store.getState(),!Xb.internal.active||!(Xb.frameloop==="always"||Xb.internal.frames>0)||(e=Xb.gl.xr)!=null&&e.isPresenting||(cL+=uQ(i,Xb))}if(hQ=!1,sB("after",i),cL===0)return sB("tail",i),ER=!1,cancelAnimationFrame(w$)}function AQ(i,e=1){var t;if(!i)return Cv.forEach(n=>AQ(n.store.getState(),e));(t=i.gl.xr)!=null&&t.isPresenting||!i.internal.active||i.frameloop==="never"||(i.internal.frames=e>1?Math.min(60,i.internal.frames+e):hQ?2:1,ER||(ER=!0,requestAnimationFrame(Tre)))}function x$(i,e=!0,t,n){if(e&&sB("before",i),t)uQ(i,t,n);else for(const r of Cv.values())uQ(i,r.store.getState());e&&sB("after",i)}const uL={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function mRe(i){const{handlePointer:e}=sRe(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-t.offsetY/n.size.height*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(uL).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:n,events:r}=i.getState();if(r.disconnect==null||r.disconnect(),n(o=>({events:{...o.events,connected:t}})),r.handlers)for(const o in r.handlers){const s=r.handlers[o],[a,l]=uL[o];t.addEventListener(a,s,{passive:l})}},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){if(n.handlers)for(const r in n.handlers){const o=n.handlers[r],[s]=uL[r];n.connected.removeEventListener(s,o)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function C$(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function _Re({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,s]=ne.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=ne.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),l=i?typeof i=="number"?i:i.scroll:null,c=i?typeof i=="number"?i:i.resize:null,u=ne.useRef(!1);ne.useEffect(()=>(u.current=!0,()=>{u.current=!1}));const[h,d,p]=ne.useMemo(()=>{const _=()=>{if(!a.current.element)return;const{left:b,top:x,width:C,height:S,bottom:E,right:I,x:M,y:k}=a.current.element.getBoundingClientRect(),F={left:b,top:x,width:C,height:S,bottom:E,right:I,x:M,y:k};a.current.element instanceof HTMLElement&&n&&(F.height=a.current.element.offsetHeight,F.width=a.current.element.offsetWidth),Object.freeze(F),u.current&&!bRe(a.current.lastBounds,F)&&s(a.current.lastBounds=F)};return[_,c?C$(_,c):_,l?C$(_,l):_]},[s,n,l,c]);function g(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",p,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function v(){a.current.element&&(a.current.resizeObserver=new r(p),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(_=>_.addEventListener("scroll",p,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}return function(_,b){ne.useEffect(()=>{if(b){const x=_;return window.addEventListener("scroll",x,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",x,!0)}}},[_,b])}(p,!!e),function(_){ne.useEffect(()=>{const b=_;return window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}},[_])}(d),ne.useEffect(()=>{g(),v()},[e,p,d]),ne.useEffect(()=>g,[]),[_=>{!_||_===a.current.element||(g(),a.current.element=_,a.current.scrollContainers=Ire(_),v())},o,h]}function Ire(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(o=>o==="auto"||o==="scroll")&&e.push(i),[...e,...Ire(i.parentElement)]}const vRe=["x","y","top","bottom","left","right","width","height"],bRe=(i,e)=>vRe.every(t=>i[t]===e[t]);function yRe({ref:i,children:e,fallback:t,resize:n,style:r,gl:o,events:s=mRe,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:h,legacy:d,orthographic:p,frameloop:g,dpr:v,performance:_,raycaster:b,camera:x,scene:C,onPointerMissed:S,onCreated:E,...I}){ne.useMemo(()=>function(Z){if(typeof Z=="function"){const ue=""+uRe++;return Aw[ue]=Z,ue}Object.assign(Aw,Z)}(Pde),[]);const M=function(){const Z=gre(),ue=Z5e();return ne.useMemo(()=>({children:$})=>{const ee=_H(Z,!0,oe=>oe.type===ne.StrictMode)?ne.StrictMode:ne.Fragment;return Es.jsx(ee,{children:Es.jsx(ue,{children:$})})},[Z,ue])}(),[k,F]=_Re({scroll:!0,debounce:{scroll:50,resize:0},...n}),P=ne.useRef(null),Q=ne.useRef(null);ne.useImperativeHandle(i,()=>P.current);const N=_re(S),[W,q]=ne.useState(!1),[J,V]=ne.useState(!1);if(W)throw W;if(J)throw J;const Y=ne.useRef(null);return DS(()=>{const Z=P.current;if(F.width>0&&F.height>0&&Z){async function ue(){await Y.current.configure({gl:o,scene:C,events:s,shadows:c,linear:u,flat:h,legacy:d,orthographic:p,frameloop:g,dpr:v,performance:_,raycaster:b,camera:x,size:F,onPointerMissed:(...$)=>N.current==null?void 0:N.current(...$),onCreated:$=>{var ee;$.events.connect==null||$.events.connect(a?(ee=a)&&ee.hasOwnProperty("current")?a.current:a:Q.current),l&&$.setEvents({compute:(oe,ge)=>{const se=oe[l+"X"],Ae=oe[l+"Y"];ge.pointer.set(se/ge.size.width*2-1,-Ae/ge.size.height*2+1),ge.raycaster.setFromCamera(ge.pointer,ge.camera)}}),E==null||E($)}}),Y.current.render(Es.jsx(M,{children:Es.jsx(tRe,{set:V,children:Es.jsx(ne.Suspense,{fallback:Es.jsx(eRe,{set:q}),children:e??null})})}))}Y.current||(Y.current=ARe(Z)),ue()}}),ne.useEffect(()=>{const Z=P.current;if(Z)return()=>Ere(Z)},[]),Es.jsx("div",{ref:Q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:a?"none":"auto",...r},...I,children:Es.jsx("div",{ref:k,style:{width:"100%",height:"100%"},children:Es.jsx("canvas",{ref:P,style:{display:"block"},children:t})})})}function wRe(i){return Es.jsx(fre,{children:Es.jsx(yRe,{...i})})}const R2=new he,hL=new he,xRe=new he,B$=new et;function CRe(i,e,t){const n=R2.setFromMatrixPosition(i.matrixWorld);n.project(e);const r=t.width/2,o=t.height/2;return[n.x*r+r,-n.y*o+o]}const dQ=i=>Math.abs(i)<1e-10?0:i;function Mre(i,e,t=""){let n="matrix3d(";for(let r=0;r!==16;r++)n+=dQ(e[r]*i.elements[r])+(r!==15?",":")");return t+n}const BRe=(S$=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],i=>Mre(i,S$));var S$;const SRe=(i,e)=>Mre(i,(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1])(e),"translate(-50%,-50%)"),ERe=ne.forwardRef(({children:i,eps:e=.001,style:t,className:n,prepend:r,center:o,fullscreen:s,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:h,onOcclude:d,castShadow:p,receiveShadow:g,material:v,geometry:_,zIndexRange:b=[16777271,0],calculatePosition:x=CRe,as:C="div",wrapperClass:S,pointerEvents:E="auto",...I},M)=>{const{gl:k,camera:F,scene:P,size:Q,raycaster:N,events:W,viewport:q}=Ih(),[J]=ne.useState(()=>document.createElement(C)),V=ne.useRef(null),Y=ne.useRef(null),Z=ne.useRef(0),ue=ne.useRef([0,0]),$=ne.useRef(null),ee=ne.useRef(null),oe=(a==null?void 0:a.current)||W.connected||k.domElement.parentNode,ge=ne.useRef(null),se=ne.useRef(!1),Ae=ne.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&function(ke){return ke&&typeof ke=="object"&&"current"in ke}(h[0]),[h]);ne.useLayoutEffect(()=>{const ke=k.domElement;h&&h==="blending"?(ke.style.zIndex=`${Math.floor(b[0]/2)}`,ke.style.position="absolute",ke.style.pointerEvents="none"):(ke.style.zIndex=null,ke.style.position=null,ke.style.pointerEvents=null)},[h]),ne.useLayoutEffect(()=>{if(Y.current){const ke=V.current=_Q.createRoot(J);if(P.updateMatrixWorld(),u)J.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Pe=x(Y.current,F,Q);J.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Pe[0]}px,${Pe[1]}px,0);transform-origin:0 0;`}return oe&&(r?oe.prepend(J):oe.appendChild(J)),()=>{oe&&oe.removeChild(J),ke.unmount()}}},[oe,u]),ne.useLayoutEffect(()=>{S&&(J.className=S)},[S]);const we=ne.useMemo(()=>u?{position:"absolute",top:0,left:0,width:Q.width,height:Q.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:o?"translate3d(-50%,-50%,0)":"none",...s&&{top:-Q.height/2,left:-Q.width/2,width:Q.width,height:Q.height},...t},[t,o,s,Q,u]),xe=ne.useMemo(()=>({position:"absolute",pointerEvents:E}),[E]);ne.useLayoutEffect(()=>{var ke,Pe;se.current=!1,u?(ke=V.current)==null||ke.render(ne.createElement("div",{ref:$,style:we},ne.createElement("div",{ref:ee,style:xe},ne.createElement("div",{ref:M,className:n,style:t,children:i})))):(Pe=V.current)==null||Pe.render(ne.createElement("div",{ref:M,style:we,className:n,children:i}))});const Be=ne.useRef(!0);Cre(ke=>{if(Y.current){F.updateMatrixWorld(),Y.current.updateWorldMatrix(!0,!1);const Pe=u?ue.current:x(Y.current,F,Q);if(u||Math.abs(Z.current-F.zoom)>e||Math.abs(ue.current[0]-Pe[0])>e||Math.abs(ue.current[1]-Pe[1])>e){const ve=function(z,j){const re=R2.setFromMatrixPosition(z.matrixWorld),ae=hL.setFromMatrixPosition(j.matrixWorld),X=re.sub(ae),G=j.getWorldDirection(xRe);return X.angleTo(G)>Math.PI/2}(Y.current,F);let te=!1;Ae&&(Array.isArray(h)?te=h.map(z=>z.current):h!=="blending"&&(te=[P]));const H=Be.current;if(te){const z=function(j,re,ae,X){const G=R2.setFromMatrixPosition(j.matrixWorld),ce=G.clone();ce.project(re),B$.set(ce.x,ce.y),ae.setFromCamera(B$,re);const Te=ae.intersectObjects(X,!0);if(Te.length){const Ie=Te[0].distance;return G.distanceTo(ae.ray.origin)<Ie}return!0}(Y.current,F,N,te);Be.current=z&&!ve}else Be.current=!ve;H!==Be.current&&(d?d(!Be.current):J.style.display=Be.current?"block":"none");const le=Math.floor(b[0]/2),U=h?Ae?[b[0],le]:[le-1,0]:b;if(J.style.zIndex=`${function(z,j,re){if(j instanceof Kn||j instanceof nc){const ae=R2.setFromMatrixPosition(z.matrixWorld),X=hL.setFromMatrixPosition(j.matrixWorld),G=ae.distanceTo(X),ce=(re[1]-re[0])/(j.far-j.near),Te=re[1]-ce*j.far;return Math.round(ce*G+Te)}}(Y.current,F,U)}`,u){const[z,j]=[Q.width/2,Q.height/2],re=F.projectionMatrix.elements[5]*j,{isOrthographicCamera:ae,top:X,left:G,bottom:ce,right:Te}=F,Ie=BRe(F.matrixWorldInverse),ye=ae?`scale(${re})translate(${dQ(-(Te+G)/2)}px,${dQ((X+ce)/2)}px)`:`translateZ(${re}px)`;let Ue=Y.current.matrixWorld;c&&(Ue=F.matrixWorldInverse.clone().transpose().copyPosition(Ue).scale(Y.current.scale),Ue.elements[3]=Ue.elements[7]=Ue.elements[11]=0,Ue.elements[15]=1),J.style.width=Q.width+"px",J.style.height=Q.height+"px",J.style.perspective=ae?"":`${re}px`,$.current&&ee.current&&($.current.style.transform=`${ye}${Ie}translate(${z}px,${j}px)`,ee.current.style.transform=SRe(Ue,1/((l||10)/400)))}else{const z=l===void 0?1:function(j,re){if(re instanceof nc)return re.zoom;if(re instanceof Kn){const ae=R2.setFromMatrixPosition(j.matrixWorld),X=hL.setFromMatrixPosition(re.matrixWorld),G=re.fov*Math.PI/180,ce=ae.distanceTo(X);return 1/(2*Math.tan(G/2)*ce)}return 1}(Y.current,F)*l;J.style.transform=`translate3d(${Pe[0]}px,${Pe[1]}px,0) scale(${z})`}ue.current=Pe,Z.current=F.zoom}}if(!Ae&&ge.current&&!se.current)if(u){if($.current){const Pe=$.current.children[0];if(Pe!=null&&Pe.clientWidth&&Pe!=null&&Pe.clientHeight){const{isOrthographicCamera:ve}=F;if(ve||_)I.scale&&(Array.isArray(I.scale)?I.scale instanceof he?ge.current.scale.copy(I.scale.clone().divideScalar(1)):ge.current.scale.set(1/I.scale[0],1/I.scale[1],1/I.scale[2]):ge.current.scale.setScalar(1/I.scale));else{const te=(l||10)/400,H=Pe.clientWidth*te,le=Pe.clientHeight*te;ge.current.scale.set(H,le,1)}se.current=!0}}}else{const Pe=J.children[0];if(Pe!=null&&Pe.clientWidth&&Pe!=null&&Pe.clientHeight){const ve=1/q.factor,te=Pe.clientWidth*ve,H=Pe.clientHeight*ve;ge.current.scale.set(te,H,1),se.current=!0}ge.current.lookAt(ke.camera.position)}});const Re=ne.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return ne.createElement("group",Lr({},I,{ref:Y}),h&&!Ae&&ne.createElement("mesh",{castShadow:p,receiveShadow:g,ref:ge},_||ne.createElement("planeGeometry",null),v||ne.createElement("shaderMaterial",{side:vo,vertexShader:Re.vertexShader,fragmentShader:Re.fragmentShader})))}),TRe=i=>i,E$=i=>{const e=cre(i),t=n=>function(r,o=TRe){const s=_e.useSyncExternalStore(r.subscribe,()=>o(r.getState()),()=>o(r.getInitialState()));return _e.useDebugValue(s),s}(e,n);return Object.assign(t,e),t};let r2=0;const IRe=(i=>i?E$(i):E$)(i=>(uy.onStart=(e,t,n)=>{i({active:!0,item:e,loaded:t,total:n,progress:(t-r2)/(n-r2)*100})},uy.onLoad=()=>{i({active:!1})},uy.onError=e=>i(t=>({errors:[...t.errors,e]})),uy.onProgress=(e,t,n)=>{t===n&&(r2=n),i({active:!0,item:e,loaded:t,total:n,progress:(t-r2)/(n-r2)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));var MRe=Object.defineProperty,RRe=(i,e,t)=>(((n,r,o)=>{r in n?MRe(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o})(i,e+"",t),t);class kRe{constructor(){RRe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const n=this._listeners[e];if(n!==void 0){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const t=this._listeners[e.type];if(t!==void 0){e.target=this;const n=t.slice(0);for(let r=0,o=n.length;r<o;r++)n[r].call(this,e);e.target=null}}}var FRe=Object.defineProperty,Zt=(i,e,t)=>(((n,r,o)=>{r in n?FRe(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o})(i,typeof e!="symbol"?e+"":e,t),t);const OI=new Sv,T$=new cp,DRe=Math.cos(Math.PI/180*70),I$=(i,e)=>(i%e+e)%e;let URe=class extends kRe{constructor(i,e){super(),Zt(this,"object"),Zt(this,"domElement"),Zt(this,"enabled",!0),Zt(this,"target",new he),Zt(this,"minDistance",0),Zt(this,"maxDistance",1/0),Zt(this,"minZoom",0),Zt(this,"maxZoom",1/0),Zt(this,"minPolarAngle",0),Zt(this,"maxPolarAngle",Math.PI),Zt(this,"minAzimuthAngle",-1/0),Zt(this,"maxAzimuthAngle",1/0),Zt(this,"enableDamping",!1),Zt(this,"dampingFactor",.05),Zt(this,"enableZoom",!0),Zt(this,"zoomSpeed",1),Zt(this,"enableRotate",!0),Zt(this,"rotateSpeed",1),Zt(this,"enablePan",!0),Zt(this,"panSpeed",1),Zt(this,"screenSpacePanning",!0),Zt(this,"keyPanSpeed",7),Zt(this,"zoomToCursor",!1),Zt(this,"autoRotate",!1),Zt(this,"autoRotateSpeed",2),Zt(this,"reverseOrbit",!1),Zt(this,"reverseHorizontalOrbit",!1),Zt(this,"reverseVerticalOrbit",!1),Zt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Zt(this,"mouseButtons",{LEFT:g_.ROTATE,MIDDLE:g_.DOLLY,RIGHT:g_.PAN}),Zt(this,"touches",{ONE:m_.ROTATE,TWO:m_.DOLLY_PAN}),Zt(this,"target0"),Zt(this,"position0"),Zt(this,"zoom0"),Zt(this,"_domElementKeyEvents",null),Zt(this,"getPolarAngle"),Zt(this,"getAzimuthalAngle"),Zt(this,"setPolarAngle"),Zt(this,"setAzimuthalAngle"),Zt(this,"getDistance"),Zt(this,"getZoomScale"),Zt(this,"listenToKeyEvents"),Zt(this,"stopListenToKeyEvents"),Zt(this,"saveState"),Zt(this,"reset"),Zt(this,"update"),Zt(this,"connect"),Zt(this,"dispose"),Zt(this,"dollyIn"),Zt(this,"dollyOut"),Zt(this,"getScale"),Zt(this,"setScale"),this.object=i,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=j=>{let re=I$(j,2*Math.PI),ae=c.phi;ae<0&&(ae+=2*Math.PI),re<0&&(re+=2*Math.PI);let X=Math.abs(re-ae);2*Math.PI-X<X&&(re<ae?re+=2*Math.PI:ae+=2*Math.PI),u.phi=re-ae,t.update()},this.setAzimuthalAngle=j=>{let re=I$(j,2*Math.PI),ae=c.theta;ae<0&&(ae+=2*Math.PI),re<0&&(re+=2*Math.PI);let X=Math.abs(re-ae);2*Math.PI-X<X&&(re<ae?re+=2*Math.PI:ae+=2*Math.PI),u.theta=re-ae,t.update()},this.getDistance=()=>t.object.position.distanceTo(t.target),this.listenToKeyEvents=j=>{j.addEventListener("keydown",H),this._domElementKeyEvents=j},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",H),this._domElementKeyEvents=null},this.saveState=()=>{t.target0.copy(t.target),t.position0.copy(t.object.position),t.zoom0=t.object.zoom},this.reset=()=>{t.target.copy(t.target0),t.object.position.copy(t.position0),t.object.zoom=t.zoom0,t.object.updateProjectionMatrix(),t.dispatchEvent(n),t.update(),a=s.NONE},this.update=(()=>{const j=new he,re=new he(0,1,0),ae=new Mn().setFromUnitVectors(i.up,re),X=ae.clone().invert(),G=new he,ce=new Mn,Te=2*Math.PI;return function(){const Ie=t.object.position;ae.setFromUnitVectors(i.up,re),X.copy(ae).invert(),j.copy(Ie).sub(t.target),j.applyQuaternion(ae),c.setFromVector3(j),t.autoRotate&&a===s.NONE&&N(2*Math.PI/60/60*t.autoRotateSpeed),t.enableDamping?(c.theta+=u.theta*t.dampingFactor,c.phi+=u.phi*t.dampingFactor):(c.theta+=u.theta,c.phi+=u.phi);let ye=t.minAzimuthAngle,Ue=t.maxAzimuthAngle;isFinite(ye)&&isFinite(Ue)&&(ye<-Math.PI?ye+=Te:ye>Math.PI&&(ye-=Te),Ue<-Math.PI?Ue+=Te:Ue>Math.PI&&(Ue-=Te),c.theta=ye<=Ue?Math.max(ye,Math.min(Ue,c.theta)):c.theta>(ye+Ue)/2?Math.max(ye,c.theta):Math.min(Ue,c.theta)),c.phi=Math.max(t.minPolarAngle,Math.min(t.maxPolarAngle,c.phi)),c.makeSafe(),t.enableDamping===!0?t.target.addScaledVector(d,t.dampingFactor):t.target.add(d),t.zoomToCursor&&k||t.object.isOrthographicCamera?c.radius=ee(c.radius):c.radius=ee(c.radius*h),j.setFromSpherical(c),j.applyQuaternion(X),Ie.copy(t.target).add(j),t.object.matrixAutoUpdate||t.object.updateMatrix(),t.object.lookAt(t.target),t.enableDamping===!0?(u.theta*=1-t.dampingFactor,u.phi*=1-t.dampingFactor,d.multiplyScalar(1-t.dampingFactor)):(u.set(0,0,0),d.set(0,0,0));let De=!1;if(t.zoomToCursor&&k){let Ge=null;if(t.object instanceof Kn&&t.object.isPerspectiveCamera){const ct=j.length();Ge=ee(ct*h);const Ve=ct-Ge;t.object.position.addScaledVector(I,Ve),t.object.updateMatrixWorld()}else if(t.object.isOrthographicCamera){const ct=new he(M.x,M.y,0);ct.unproject(t.object),t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/h)),t.object.updateProjectionMatrix(),De=!0;const Ve=new he(M.x,M.y,0);Ve.unproject(t.object),t.object.position.sub(Ve).add(ct),t.object.updateMatrixWorld(),Ge=j.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),t.zoomToCursor=!1;Ge!==null&&(t.screenSpacePanning?t.target.set(0,0,-1).transformDirection(t.object.matrix).multiplyScalar(Ge).add(t.object.position):(OI.origin.copy(t.object.position),OI.direction.set(0,0,-1).transformDirection(t.object.matrix),Math.abs(t.object.up.dot(OI.direction))<DRe?i.lookAt(t.target):(T$.setFromNormalAndCoplanarPoint(t.object.up,t.target),OI.intersectPlane(T$,t.target))))}else t.object instanceof nc&&t.object.isOrthographicCamera&&(De=h!==1,De&&(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/h)),t.object.updateProjectionMatrix()));return h=1,k=!1,!!(De||G.distanceToSquared(t.object.position)>l||8*(1-ce.dot(t.object.quaternion))>l)&&(t.dispatchEvent(n),G.copy(t.object.position),ce.copy(t.object.quaternion),De=!1,!0)}})(),this.connect=j=>{t.domElement=j,t.domElement.style.touchAction="none",t.domElement.addEventListener("contextmenu",le),t.domElement.addEventListener("pointerdown",ke),t.domElement.addEventListener("pointercancel",ve),t.domElement.addEventListener("wheel",te)},this.dispose=()=>{var j,re,ae,X,G,ce;t.domElement&&(t.domElement.style.touchAction="auto"),(j=t.domElement)==null||j.removeEventListener("contextmenu",le),(re=t.domElement)==null||re.removeEventListener("pointerdown",ke),(ae=t.domElement)==null||ae.removeEventListener("pointercancel",ve),(X=t.domElement)==null||X.removeEventListener("wheel",te),(G=t.domElement)==null||G.ownerDocument.removeEventListener("pointermove",Pe),(ce=t.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",ve),t._domElementKeyEvents!==null&&t._domElementKeyEvents.removeEventListener("keydown",H)};const t=this,n={type:"change"},r={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=s.NONE;const l=1e-6,c=new X_,u=new X_;let h=1;const d=new he,p=new et,g=new et,v=new et,_=new et,b=new et,x=new et,C=new et,S=new et,E=new et,I=new he,M=new et;let k=!1;const F=[],P={};function Q(){return Math.pow(.95,t.zoomSpeed)}function N(j){t.reverseOrbit||t.reverseHorizontalOrbit?u.theta+=j:u.theta-=j}function W(j){t.reverseOrbit||t.reverseVerticalOrbit?u.phi+=j:u.phi-=j}const q=(()=>{const j=new he;return function(re,ae){j.setFromMatrixColumn(ae,0),j.multiplyScalar(-re),d.add(j)}})(),J=(()=>{const j=new he;return function(re,ae){t.screenSpacePanning===!0?j.setFromMatrixColumn(ae,1):(j.setFromMatrixColumn(ae,0),j.crossVectors(t.object.up,j)),j.multiplyScalar(re),d.add(j)}})(),V=(()=>{const j=new he;return function(re,ae){const X=t.domElement;if(X&&t.object instanceof Kn&&t.object.isPerspectiveCamera){const G=t.object.position;j.copy(G).sub(t.target);let ce=j.length();ce*=Math.tan(t.object.fov/2*Math.PI/180),q(2*re*ce/X.clientHeight,t.object.matrix),J(2*ae*ce/X.clientHeight,t.object.matrix)}else X&&t.object instanceof nc&&t.object.isOrthographicCamera?(q(re*(t.object.right-t.object.left)/t.object.zoom/X.clientWidth,t.object.matrix),J(ae*(t.object.top-t.object.bottom)/t.object.zoom/X.clientHeight,t.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),t.enablePan=!1)}})();function Y(j){t.object instanceof Kn&&t.object.isPerspectiveCamera||t.object instanceof nc&&t.object.isOrthographicCamera?h=j:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function Z(j){Y(h/j)}function ue(j){Y(h*j)}function $(j){if(!t.zoomToCursor||!t.domElement)return;k=!0;const re=t.domElement.getBoundingClientRect(),ae=j.clientX-re.left,X=j.clientY-re.top,G=re.width,ce=re.height;M.x=ae/G*2-1,M.y=-X/ce*2+1,I.set(M.x,M.y,1).unproject(t.object).sub(t.object.position).normalize()}function ee(j){return Math.max(t.minDistance,Math.min(t.maxDistance,j))}function oe(j){p.set(j.clientX,j.clientY)}function ge(j){_.set(j.clientX,j.clientY)}function se(){if(F.length==1)p.set(F[0].pageX,F[0].pageY);else{const j=.5*(F[0].pageX+F[1].pageX),re=.5*(F[0].pageY+F[1].pageY);p.set(j,re)}}function Ae(){if(F.length==1)_.set(F[0].pageX,F[0].pageY);else{const j=.5*(F[0].pageX+F[1].pageX),re=.5*(F[0].pageY+F[1].pageY);_.set(j,re)}}function we(){const j=F[0].pageX-F[1].pageX,re=F[0].pageY-F[1].pageY,ae=Math.sqrt(j*j+re*re);C.set(0,ae)}function xe(j){if(F.length==1)g.set(j.pageX,j.pageY);else{const ae=z(j),X=.5*(j.pageX+ae.x),G=.5*(j.pageY+ae.y);g.set(X,G)}v.subVectors(g,p).multiplyScalar(t.rotateSpeed);const re=t.domElement;re&&(N(2*Math.PI*v.x/re.clientHeight),W(2*Math.PI*v.y/re.clientHeight)),p.copy(g)}function Be(j){if(F.length==1)b.set(j.pageX,j.pageY);else{const re=z(j),ae=.5*(j.pageX+re.x),X=.5*(j.pageY+re.y);b.set(ae,X)}x.subVectors(b,_).multiplyScalar(t.panSpeed),V(x.x,x.y),_.copy(b)}function Re(j){const re=z(j),ae=j.pageX-re.x,X=j.pageY-re.y,G=Math.sqrt(ae*ae+X*X);S.set(0,G),E.set(0,Math.pow(S.y/C.y,t.zoomSpeed)),Z(E.y),C.copy(S)}function ke(j){var re,ae;t.enabled!==!1&&(F.length===0&&((re=t.domElement)==null||re.ownerDocument.addEventListener("pointermove",Pe),(ae=t.domElement)==null||ae.ownerDocument.addEventListener("pointerup",ve)),function(X){F.push(X)}(j),j.pointerType==="touch"?function(X){switch(U(X),F.length){case 1:switch(t.touches.ONE){case m_.ROTATE:if(t.enableRotate===!1)return;se(),a=s.TOUCH_ROTATE;break;case m_.PAN:if(t.enablePan===!1)return;Ae(),a=s.TOUCH_PAN;break;default:a=s.NONE}break;case 2:switch(t.touches.TWO){case m_.DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;t.enableZoom&&we(),t.enablePan&&Ae(),a=s.TOUCH_DOLLY_PAN;break;case m_.DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;t.enableZoom&&we(),t.enableRotate&&se(),a=s.TOUCH_DOLLY_ROTATE;break;default:a=s.NONE}break;default:a=s.NONE}a!==s.NONE&&t.dispatchEvent(r)}(j):function(X){let G;switch(X.button){case 0:G=t.mouseButtons.LEFT;break;case 1:G=t.mouseButtons.MIDDLE;break;case 2:G=t.mouseButtons.RIGHT;break;default:G=-1}switch(G){case g_.DOLLY:if(t.enableZoom===!1)return;(function(ce){$(ce),C.set(ce.clientX,ce.clientY)})(X),a=s.DOLLY;break;case g_.ROTATE:if(X.ctrlKey||X.metaKey||X.shiftKey){if(t.enablePan===!1)return;ge(X),a=s.PAN}else{if(t.enableRotate===!1)return;oe(X),a=s.ROTATE}break;case g_.PAN:if(X.ctrlKey||X.metaKey||X.shiftKey){if(t.enableRotate===!1)return;oe(X),a=s.ROTATE}else{if(t.enablePan===!1)return;ge(X),a=s.PAN}break;default:a=s.NONE}a!==s.NONE&&t.dispatchEvent(r)}(j))}function Pe(j){t.enabled!==!1&&(j.pointerType==="touch"?function(re){switch(U(re),a){case s.TOUCH_ROTATE:if(t.enableRotate===!1)return;xe(re),t.update();break;case s.TOUCH_PAN:if(t.enablePan===!1)return;Be(re),t.update();break;case s.TOUCH_DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;(function(ae){t.enableZoom&&Re(ae),t.enablePan&&Be(ae)})(re),t.update();break;case s.TOUCH_DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;(function(ae){t.enableZoom&&Re(ae),t.enableRotate&&xe(ae)})(re),t.update();break;default:a=s.NONE}}(j):function(re){if(t.enabled!==!1)switch(a){case s.ROTATE:if(t.enableRotate===!1)return;(function(ae){g.set(ae.clientX,ae.clientY),v.subVectors(g,p).multiplyScalar(t.rotateSpeed);const X=t.domElement;X&&(N(2*Math.PI*v.x/X.clientHeight),W(2*Math.PI*v.y/X.clientHeight)),p.copy(g),t.update()})(re);break;case s.DOLLY:if(t.enableZoom===!1)return;(function(ae){S.set(ae.clientX,ae.clientY),E.subVectors(S,C),E.y>0?Z(Q()):E.y<0&&ue(Q()),C.copy(S),t.update()})(re);break;case s.PAN:if(t.enablePan===!1)return;(function(ae){b.set(ae.clientX,ae.clientY),x.subVectors(b,_).multiplyScalar(t.panSpeed),V(x.x,x.y),_.copy(b),t.update()})(re)}}(j))}function ve(j){var re,ae,X;(function(G){delete P[G.pointerId];for(let ce=0;ce<F.length;ce++)if(F[ce].pointerId==G.pointerId)return void F.splice(ce,1)})(j),F.length===0&&((re=t.domElement)==null||re.releasePointerCapture(j.pointerId),(ae=t.domElement)==null||ae.ownerDocument.removeEventListener("pointermove",Pe),(X=t.domElement)==null||X.ownerDocument.removeEventListener("pointerup",ve)),t.dispatchEvent(o),a=s.NONE}function te(j){t.enabled===!1||t.enableZoom===!1||a!==s.NONE&&a!==s.ROTATE||(j.preventDefault(),t.dispatchEvent(r),function(re){$(re),re.deltaY<0?ue(Q()):re.deltaY>0&&Z(Q()),t.update()}(j),t.dispatchEvent(o))}function H(j){t.enabled!==!1&&t.enablePan!==!1&&function(re){let ae=!1;switch(re.code){case t.keys.UP:V(0,t.keyPanSpeed),ae=!0;break;case t.keys.BOTTOM:V(0,-t.keyPanSpeed),ae=!0;break;case t.keys.LEFT:V(t.keyPanSpeed,0),ae=!0;break;case t.keys.RIGHT:V(-t.keyPanSpeed,0),ae=!0}ae&&(re.preventDefault(),t.update())}(j)}function le(j){t.enabled!==!1&&j.preventDefault()}function U(j){let re=P[j.pointerId];re===void 0&&(re=new et,P[j.pointerId]=re),re.set(j.pageX,j.pageY)}function z(j){const re=j.pointerId===F[0].pointerId?F[1]:F[0];return P[re.pointerId]}this.dollyIn=(j=Q())=>{ue(j),t.update()},this.dollyOut=(j=Q())=>{Z(j),t.update()},this.getScale=()=>h,this.setScale=j=>{Y(j),t.update()},this.getZoomScale=()=>Q(),e!==void 0&&this.connect(e),this.update()}};function PRe(){var i=Object.create(null);function e(n,r){var o=n.id,s=n.name,a=n.dependencies;a===void 0&&(a=[]);var l=n.init;l===void 0&&(l=function(){});var c=n.getTransferables;if(c===void 0&&(c=null),!i[o])try{a=a.map(function(h){return h&&h.isWorkerModule&&(e(h,function(d){if(d instanceof Error)throw d}),h=i[h.id].value),h}),l=t("<"+s+">.init",l),c&&(c=t("<"+s+">.getTransferables",c));var u=null;typeof l=="function"?u=l.apply(void 0,a):console.error("worker module init function failed to rehydrate"),i[o]={id:o,value:u,getTransferables:c},r(u)}catch(h){h&&h.noLog||console.error(h),r(h)}}function t(n,r){var o=void 0;self.troikaDefine=function(a){return o=a};var s=URL.createObjectURL(new Blob(["/** "+n.replace(/\*/g,"")+` **/

troikaDefine(
`+r+`
)`],{type:"application/javascript"}));try{importScripts(s)}catch(a){console.error(a)}return URL.revokeObjectURL(s),delete self.troikaDefine,o}self.addEventListener("message",function(n){var r=n.data,o=r.messageId,s=r.action,a=r.data;try{s==="registerModule"&&e(a,function(l){l instanceof Error?postMessage({messageId:o,success:!1,error:l.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof l=="function"}})}),s==="callModule"&&function(l,c){var u,h=l.id,d=l.args;i[h]&&typeof i[h].value=="function"||c(new Error("Worker module "+h+": not found or its 'init' did not return a function"));try{var p=(u=i[h]).value.apply(u,d);p&&typeof p.then=="function"?p.then(g,function(v){return c(v instanceof Error?v:new Error(""+v))}):g(p)}catch(v){c(v)}function g(v){try{var _=i[h].getTransferables&&i[h].getTransferables(v);_&&Array.isArray(_)&&_.length||(_=void 0),c(v,_)}catch(b){console.error(b),c(b)}}}(a,function(l,c){l instanceof Error?postMessage({messageId:o,success:!1,error:l.message}):postMessage({messageId:o,success:!0,result:l},c||void 0)})}catch(l){postMessage({messageId:o,success:!1,error:l.stack})}})}var Rre=function(){var i=!1;if(typeof window<"u"&&window.document!==void 0)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),i=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return Rre=function(){return i},i},LRe=0,ORe=0,AL=!1,aB=Object.create(null),lB=Object.create(null),dL=Object.create(null);function Rw(i){if(!(i&&typeof i.init=="function"||AL))throw new Error("requires `options.init` function");var e=i.dependencies,t=i.init,n=i.getTransferables,r=i.workerId,o=function(u){var h=function(){for(var d=[],p=arguments.length;p--;)d[p]=arguments[p];return h._getInitResult().then(function(g){if(typeof g=="function")return g.apply(void 0,d);throw new Error("Worker module function was called but `init` did not return a callable function")})};return h._getInitResult=function(){var d=u.dependencies,p=u.init;d=Array.isArray(d)?d.map(function(v){return v&&(v=v.onMainThread||v)._getInitResult&&(v=v._getInitResult()),v}):[];var g=Promise.all(d).then(function(v){return p.apply(null,v)});return h._getInitResult=function(){return g},g},h}(i);r==null&&(r="#default");var s="workerModule"+ ++LRe,a=i.name||s,l=null;function c(){for(var u=[],h=arguments.length;h--;)u[h]=arguments[h];if(!Rre())return o.apply(void 0,u);if(!l){l=M$(r,"registerModule",c.workerModuleData);var d=function(){l=null,lB[r].delete(d)};(lB[r]||(lB[r]=new Set)).add(d)}return l.then(function(p){if(p.isCallable)return M$(r,"callModule",{id:s,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return e=e&&e.map(function(u){return typeof u!="function"||u.workerModuleData||(AL=!0,u=Rw({workerId:r,name:"<"+a+"> function dependency: "+u.name,init:`function(){return (
`+UM(u)+`
)}`}),AL=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u}),c.workerModuleData={isWorkerModule:!0,id:s,name:a,dependencies:e,init:UM(t),getTransferables:n&&UM(n)},c.onMainThread=o,c}function UM(i){var e=i.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function M$(i,e,t){return new Promise(function(n,r){var o=++ORe;dL[o]=function(s){s.success?n(s.result):r(new Error("Error in worker "+e+" call: "+s.error))},function(s){var a=aB[s];if(!a){var l=UM(PRe);(a=aB[s]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+s.replace(/\*/g,"")+` **/

;(`+l+")()"],{type:"application/javascript"})))).onmessage=function(c){var u=c.data,h=u.messageId,d=dL[h];if(!d)throw new Error("WorkerModule response with empty or unknown messageId");delete dL[h],d(u)}}return a}(i).postMessage({messageId:o,action:e,data:t})})}function kre(){var i=function(e){function t(N,W,q,J,V,Y,Z,ue){var $=1-Z;ue.x=$*$*N+2*$*Z*q+Z*Z*V,ue.y=$*$*W+2*$*Z*J+Z*Z*Y}function n(N,W,q,J,V,Y,Z,ue,$,ee){var oe=1-$;ee.x=oe*oe*oe*N+3*oe*oe*$*q+3*oe*$*$*V+$*$*$*Z,ee.y=oe*oe*oe*W+3*oe*oe*$*J+3*oe*$*$*Y+$*$*$*ue}function r(N,W){for(var q,J,V,Y,Z,ue=/([MLQCZ])([^MLQCZ]*)/g;q=ue.exec(N);){var $=q[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ee){return parseFloat(ee)});switch(q[1]){case"M":Y=J=$[0],Z=V=$[1];break;case"L":$[0]===Y&&$[1]===Z||W("L",Y,Z,Y=$[0],Z=$[1]);break;case"Q":W("Q",Y,Z,Y=$[2],Z=$[3],$[0],$[1]);break;case"C":W("C",Y,Z,Y=$[4],Z=$[5],$[0],$[1],$[2],$[3]);break;case"Z":Y===J&&Z===V||W("L",Y,Z,J,V)}}}function o(N,W,q){q===void 0&&(q=16);var J={x:0,y:0};r(N,function(V,Y,Z,ue,$,ee,oe,ge,se){switch(V){case"L":W(Y,Z,ue,$);break;case"Q":for(var Ae=Y,we=Z,xe=1;xe<q;xe++)t(Y,Z,ee,oe,ue,$,xe/(q-1),J),W(Ae,we,J.x,J.y),Ae=J.x,we=J.y;break;case"C":for(var Be=Y,Re=Z,ke=1;ke<q;ke++)n(Y,Z,ee,oe,ge,se,ue,$,ke/(q-1),J),W(Be,Re,J.x,J.y),Be=J.x,Re=J.y}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a=new WeakMap,l={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(N,W){var q=N.getContext?N.getContext("webgl",l):N,J=a.get(q);if(!J){let oe=function(Be){var Re=Y[Be];if(!Re&&!(Re=Y[Be]=q.getExtension(Be)))throw new Error(Be+" not supported");return Re},ge=function(Be,Re){var ke=q.createShader(Re);return q.shaderSource(ke,Be),q.compileShader(ke),ke},se=function(Be,Re,ke,Pe){if(!Z[Be]){var ve={},te={},H=q.createProgram();q.attachShader(H,ge(Re,q.VERTEX_SHADER)),q.attachShader(H,ge(ke,q.FRAGMENT_SHADER)),q.linkProgram(H),Z[Be]={program:H,transaction:function(le){q.useProgram(H),le({setUniform:function(U,z){for(var j=[],re=arguments.length-2;re-- >0;)j[re]=arguments[re+2];var ae=te[z]||(te[z]=q.getUniformLocation(H,z));q["uniform"+U].apply(q,[ae].concat(j))},setAttribute:function(U,z,j,re,ae){var X=ve[U];X||(X=ve[U]={buf:q.createBuffer(),loc:q.getAttribLocation(H,U),data:null}),q.bindBuffer(q.ARRAY_BUFFER,X.buf),q.vertexAttribPointer(X.loc,z,q.FLOAT,!1,0,0),q.enableVertexAttribArray(X.loc),V?q.vertexAttribDivisor(X.loc,re):oe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(X.loc,re),ae!==X.data&&(q.bufferData(q.ARRAY_BUFFER,ae,j),X.data=ae)}})}}}Z[Be].transaction(Pe)},Ae=function(Be,Re){$++;try{q.activeTexture(q.TEXTURE0+$);var ke=ue[Be];ke||(ke=ue[Be]=q.createTexture(),q.bindTexture(q.TEXTURE_2D,ke),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.NEAREST),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST)),q.bindTexture(q.TEXTURE_2D,ke),Re(ke,$)}finally{$--}},we=function(Be,Re,ke){var Pe=q.createFramebuffer();ee.push(Pe),q.bindFramebuffer(q.FRAMEBUFFER,Pe),q.activeTexture(q.TEXTURE0+Re),q.bindTexture(q.TEXTURE_2D,Be),q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,Be,0);try{ke(Pe)}finally{q.deleteFramebuffer(Pe),q.bindFramebuffer(q.FRAMEBUFFER,ee[--ee.length-1]||null)}},xe=function(){Y={},Z={},ue={},$=-1,ee.length=0};var V=typeof WebGL2RenderingContext<"u"&&q instanceof WebGL2RenderingContext,Y={},Z={},ue={},$=-1,ee=[];q.canvas.addEventListener("webglcontextlost",function(Be){xe(),Be.preventDefault()},!1),a.set(q,J={gl:q,isWebGL2:V,getExtension:oe,withProgram:se,withTexture:Ae,withTextureFramebuffer:we,handleContextLoss:xe})}W(J)}function u(N,W,q,J,V,Y,Z,ue){Z===void 0&&(Z=15),ue===void 0&&(ue=null),c(N,function($){var ee=$.gl,oe=$.withProgram;(0,$.withTexture)("copy",function(ge,se){ee.texImage2D(ee.TEXTURE_2D,0,ee.RGBA,V,Y,0,ee.RGBA,ee.UNSIGNED_BYTE,W),oe("copy",s,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",function(Ae){var we=Ae.setUniform;(0,Ae.setAttribute)("aUV",2,ee.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),we("1i","image",se),ee.bindFramebuffer(ee.FRAMEBUFFER,ue||null),ee.disable(ee.BLEND),ee.colorMask(8&Z,4&Z,2&Z,1&Z),ee.viewport(q,J,V,Y),ee.scissor(q,J,V,Y),ee.drawArrays(ee.TRIANGLES,0,3)})})})}var h=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:u,resizeWebGLCanvasWithoutClearing:function(N,W,q){var J=N.width,V=N.height;c(N,function(Y){var Z=Y.gl,ue=new Uint8Array(J*V*4);Z.readPixels(0,0,J,V,Z.RGBA,Z.UNSIGNED_BYTE,ue),N.width=W,N.height=q,u(Z,ue,0,0,J,V)})}});function d(N,W,q,J,V,Y){Y===void 0&&(Y=1);var Z=new Uint8Array(N*W),ue=J[2]-J[0],$=J[3]-J[1],ee=[];o(q,function(xe,Be,Re,ke){ee.push({x1:xe,y1:Be,x2:Re,y2:ke,minX:Math.min(xe,Re),minY:Math.min(Be,ke),maxX:Math.max(xe,Re),maxY:Math.max(Be,ke)})}),ee.sort(function(xe,Be){return xe.maxX-Be.maxX});for(var oe=0;oe<N;oe++)for(var ge=0;ge<W;ge++){var se=we(J[0]+ue*(oe+.5)/N,J[1]+$*(ge+.5)/W),Ae=Math.pow(1-Math.abs(se)/V,Y)/2;se<0&&(Ae=1-Ae),Ae=Math.max(0,Math.min(255,Math.round(255*Ae))),Z[ge*N+oe]=Ae}return Z;function we(xe,Be){for(var Re=1/0,ke=1/0,Pe=ee.length;Pe--;){var ve=ee[Pe];if(ve.maxX+ke<=xe)break;if(xe+ke>ve.minX&&Be-ke<ve.maxY&&Be+ke>ve.minY){var te=v(xe,Be,ve.x1,ve.y1,ve.x2,ve.y2);te<Re&&(Re=te,ke=Math.sqrt(Re))}}return function(H,le){for(var U=0,z=ee.length;z--;){var j=ee[z];if(j.maxX<=H)break;j.y1>le!=j.y2>le&&H<(j.x2-j.x1)*(le-j.y1)/(j.y2-j.y1)+j.x1&&(U+=j.y1<j.y2?1:-1)}return U!==0}(xe,Be)&&(ke=-ke),ke}}function p(N,W,q,J,V,Y,Z,ue,$,ee){Y===void 0&&(Y=1),ue===void 0&&(ue=0),$===void 0&&($=0),ee===void 0&&(ee=0),g(N,W,q,J,V,Y,Z,null,ue,$,ee)}function g(N,W,q,J,V,Y,Z,ue,$,ee,oe){Y===void 0&&(Y=1),$===void 0&&($=0),ee===void 0&&(ee=0),oe===void 0&&(oe=0);for(var ge=d(N,W,q,J,V,Y),se=new Uint8Array(4*ge.length),Ae=0;Ae<ge.length;Ae++)se[4*Ae+oe]=ge[Ae];u(Z,se,$,ee,N,W,1<<3-oe,ue)}function v(N,W,q,J,V,Y){var Z=V-q,ue=Y-J,$=Z*Z+ue*ue,ee=$?Math.max(0,Math.min(1,((N-q)*Z+(W-J)*ue)/$)):0,oe=N-(q+ee*Z),ge=W-(J+ee*ue);return oe*oe+ge*ge}var _=Object.freeze({__proto__:null,generate:d,generateIntoCanvas:p,generateIntoFramebuffer:g}),b=new Float32Array([0,0,2,0,0,2]),x=null,C=!1,S={},E=new WeakMap;function I(N){if(!C&&!P(N))throw new Error("WebGL generation not supported")}function M(N,W,q,J,V,Y,Z){if(Y===void 0&&(Y=1),Z===void 0&&(Z=null),!Z&&!(Z=x)){var ue=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ue)throw new Error("OffscreenCanvas or DOM canvas not supported");Z=x=ue.getContext("webgl",{depth:!1})}I(Z);var $=new Uint8Array(N*W*4);c(Z,function(se){var Ae=se.gl,we=se.withTexture,xe=se.withTextureFramebuffer;we("readable",function(Be,Re){Ae.texImage2D(Ae.TEXTURE_2D,0,Ae.RGBA,N,W,0,Ae.RGBA,Ae.UNSIGNED_BYTE,null),xe(Be,Re,function(ke){F(N,W,q,J,V,Y,Ae,ke,0,0,0),Ae.readPixels(0,0,N,W,Ae.RGBA,Ae.UNSIGNED_BYTE,$)})})});for(var ee=new Uint8Array(N*W),oe=0,ge=0;oe<$.length;oe+=4)ee[ge++]=$[oe];return ee}function k(N,W,q,J,V,Y,Z,ue,$,ee){Y===void 0&&(Y=1),ue===void 0&&(ue=0),$===void 0&&($=0),ee===void 0&&(ee=0),F(N,W,q,J,V,Y,Z,null,ue,$,ee)}function F(N,W,q,J,V,Y,Z,ue,$,ee,oe){Y===void 0&&(Y=1),$===void 0&&($=0),ee===void 0&&(ee=0),oe===void 0&&(oe=0),I(Z);var ge=[];o(q,function(se,Ae,we,xe){ge.push(se,Ae,we,xe)}),ge=new Float32Array(ge),c(Z,function(se){var Ae=se.gl,we=se.isWebGL2,xe=se.getExtension,Be=se.withProgram,Re=se.withTexture,ke=se.withTextureFramebuffer,Pe=se.handleContextLoss;if(Re("rawDistances",function(ve,te){N===ve._lastWidth&&W===ve._lastHeight||Ae.texImage2D(Ae.TEXTURE_2D,0,Ae.RGBA,ve._lastWidth=N,ve._lastHeight=W,0,Ae.RGBA,Ae.UNSIGNED_BYTE,null),Be("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",function(H){var le=H.setAttribute,U=H.setUniform,z=!we&&xe("ANGLE_instanced_arrays"),j=!we&&xe("EXT_blend_minmax");le("aUV",2,Ae.STATIC_DRAW,0,b),le("aLineSegment",4,Ae.DYNAMIC_DRAW,1,ge),U.apply(void 0,["4f","uGlyphBounds"].concat(J)),U("1f","uMaxDistance",V),U("1f","uExponent",Y),ke(ve,te,function(re){Ae.enable(Ae.BLEND),Ae.colorMask(!0,!0,!0,!0),Ae.viewport(0,0,N,W),Ae.scissor(0,0,N,W),Ae.blendFunc(Ae.ONE,Ae.ONE),Ae.blendEquationSeparate(Ae.FUNC_ADD,we?Ae.MAX:j.MAX_EXT),Ae.clear(Ae.COLOR_BUFFER_BIT),we?Ae.drawArraysInstanced(Ae.TRIANGLES,0,3,ge.length/4):z.drawArraysInstancedANGLE(Ae.TRIANGLES,0,3,ge.length/4)})}),Be("post",s,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",function(H){H.setAttribute("aUV",2,Ae.STATIC_DRAW,0,b),H.setUniform("1i","tex",te),Ae.bindFramebuffer(Ae.FRAMEBUFFER,ue),Ae.disable(Ae.BLEND),Ae.colorMask(oe===0,oe===1,oe===2,oe===3),Ae.viewport($,ee,N,W),Ae.scissor($,ee,N,W),Ae.drawArrays(Ae.TRIANGLES,0,3)})}),Ae.isContextLost())throw Pe(),new Error("webgl context lost")})}function P(N){var W=N&&N!==x?N.canvas||N:S,q=E.get(W);if(q===void 0){C=!0;var J=null;try{var V=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Y=M(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,N);q=Y&&V.length===Y.length&&Y.every(function(Z,ue){return Z===V[ue]}),q||(J="bad trial run results",console.info(V,Y))}catch(Z){q=!1,J=Z.message}J&&console.warn("WebGL SDF generation not supported:",J),C=!1,E.set(W,q)}return q}var Q=Object.freeze({__proto__:null,generate:M,generateIntoCanvas:k,generateIntoFramebuffer:F,isSupported:P});return e.forEachPathCommand=r,e.generate=function(N,W,q,J,V,Y){V===void 0&&(V=Math.max(J[2]-J[0],J[3]-J[1])/2),Y===void 0&&(Y=1);try{return M.apply(Q,arguments)}catch(Z){return console.info("WebGL SDF generation failed, falling back to JS",Z),d.apply(_,arguments)}},e.generateIntoCanvas=function(N,W,q,J,V,Y,Z,ue,$,ee){V===void 0&&(V=Math.max(J[2]-J[0],J[3]-J[1])/2),Y===void 0&&(Y=1),ue===void 0&&(ue=0),$===void 0&&($=0),ee===void 0&&(ee=0);try{return k.apply(Q,arguments)}catch(oe){return console.info("WebGL SDF generation failed, falling back to JS",oe),p.apply(_,arguments)}},e.javascript=_,e.pathToLineSegments=o,e.webgl=Q,e.webglUtils=h,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return i}const Fre=/\bvoid\s+main\s*\(\s*\)\s*{/g;function pQ(i){return i.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(e,t){let n=Mi[t];return n?pQ(n):e})}const Zs=[];for(let i=0;i<256;i++)Zs[i]=(i<16?"0":"")+i.toString(16);const f_=Object.assign||function(){let i=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let n=arguments[e];if(n)for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},QRe=Date.now(),R$=new WeakMap,k$=new Map;let NRe=1e10;function fQ(i,e){const t=function(c){const u=JSON.stringify(c,HRe);let h=D$.get(u);return h==null&&D$.set(u,h=++zRe),h}(e);let n=R$.get(i);if(n||R$.set(i,n=Object.create(null)),n[t])return new n[t];const r=`_onBeforeCompile${t}`,o=function(c,u){i.onBeforeCompile.call(this,c,u);const h=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=k$[h];if(!d){const p=function(g,{vertexShader:v,fragmentShader:_},b,x){let{vertexDefs:C,vertexMainIntro:S,vertexMainOutro:E,vertexTransform:I,fragmentDefs:M,fragmentMainIntro:k,fragmentMainOutro:F,fragmentColorTransform:P,customRewriter:Q,timeUniform:N}=b;if(C=C||"",S=S||"",E=E||"",M=M||"",k=k||"",F=F||"",(I||Q)&&(v=pQ(v)),(P||Q)&&(_=pQ(_=_.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`))),Q){let W=Q({vertexShader:v,fragmentShader:_});v=W.vertexShader,_=W.fragmentShader}if(P){let W=[];_=_.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,q=>(W.push(q),"")),F=`${P}
${W.join(`
`)}
${F}`}if(N){const W=`
uniform float ${N};
`;C=W+C,M=W+M}return I&&(C=`${C}
void troikaVertexTransform${x}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${I}
}
`,S=`
troika_position_${x} = vec3(position);
troika_normal_${x} = vec3(normal);
troika_uv_${x} = vec2(uv);
troikaVertexTransform${x}(troika_position_${x}, troika_normal_${x}, troika_uv_${x});
${S}
`,v=(v=`vec3 troika_position_${x};
vec3 troika_normal_${x};
vec2 troika_uv_${x};
${v}
`).replace(/\b(position|normal|uv)\b/g,(W,q,J,V)=>/\battribute\s+vec[23]\s+$/.test(V.substr(0,J))?q:`troika_${q}_${x}`),g.map&&g.map.channel>0||(v=v.replace(/\bMAP_UV\b/g,`troika_uv_${x}`))),v=F$(v,x,C,S,E),_=F$(_,x,M,k,F),{vertexShader:v,fragmentShader:_}}(this,c,e,t);d=k$[h]=p}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,f_(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-QRe}}),this[r]&&this[r](c)},s=function(){return a(e.chained?i:i.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:i}),Object.defineProperty(u,"id",{value:NRe++}),u.uuid=function(){const h=4294967295*Math.random()|0,d=4294967295*Math.random()|0,p=4294967295*Math.random()|0,g=4294967295*Math.random()|0;return(Zs[255&h]+Zs[h>>8&255]+Zs[h>>16&255]+Zs[h>>24&255]+"-"+Zs[255&d]+Zs[d>>8&255]+"-"+Zs[d>>16&15|64]+Zs[d>>24&255]+"-"+Zs[63&p|128]+Zs[p>>8&255]+"-"+Zs[p>>16&255]+Zs[p>>24&255]+Zs[255&g]+Zs[g>>8&255]+Zs[g>>16&255]+Zs[g>>24&255]).toUpperCase()}(),u.uniforms=f_({},c.uniforms,e.uniforms),u.defines=f_({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",u.extensions=f_({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:s},isDerivedMaterial:{value:!0},type:{get:()=>i.type,set:c=>{i.type=c}},isDerivedFrom:{writable:!0,configurable:!0,value:function(c){const u=this.baseMaterial;return c===u||u.isDerivedMaterial&&u.isDerivedFrom(c)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return i.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get:()=>o,set(c){this[r]=c}},copy:{writable:!0,configurable:!0,value:function(c){return i.copy.call(this,c),i.isShaderMaterial||i.isDerivedMaterial||(f_(this.extensions,c.extensions),f_(this.defines,c.defines),f_(this.uniforms,UQ.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new i.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=fQ(i.isDerivedMaterial?i.getDepthMaterial():new _S({depthPacking:RQ}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=fQ(i.isDerivedMaterial?i.getDistanceMaterial():new rk,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),i.dispose.call(this)}}};return n[t]=s,new s}function F$(i,e,t,n,r){return(n||r||t)&&(i=i.replace(Fre,`
${t}
void troikaOrigMain${e}() {`),i+=`
void main() {
  ${n}
  troikaOrigMain${e}();
  ${r}
}`),i}function HRe(i,e){return i==="uniforms"?void 0:typeof e=="function"?e.toString():e}let zRe=0;const D$=new Map,GRe=Rw({name:"Typr Font Parser",dependencies:[function(){return typeof window>"u"&&(self.window=self),function(i){var e={parse:function(r){var o=e._bin,s=new Uint8Array(r);if(o.readASCII(s,0,4)=="ttcf"){var a=4;o.readUshort(s,a),a+=2,o.readUshort(s,a),a+=2;var l=o.readUint(s,a);a+=4;for(var c=[],u=0;u<l;u++){var h=o.readUint(s,a);a+=4,c.push(e._readFont(s,h))}return c}return[e._readFont(s,0)]},_readFont:function(r,o){var s=e._bin,a=o;s.readFixed(r,o),o+=4;var l=s.readUshort(r,o);o+=2,s.readUshort(r,o),o+=2,s.readUshort(r,o),o+=2,s.readUshort(r,o),o+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],u={_data:r,_offset:a},h={},d=0;d<l;d++){var p=s.readASCII(r,o,4);o+=4,s.readUint(r,o),o+=4;var g=s.readUint(r,o);o+=4;var v=s.readUint(r,o);o+=4,h[p]={offset:g,length:v}}for(d=0;d<c.length;d++){var _=c[d];h[_]&&(u[_.trim()]=e[_.trim()].parse(r,h[_].offset,h[_].length,u))}return u},_tabOffset:function(r,o,s){for(var a=e._bin,l=a.readUshort(r,s+4),c=s+12,u=0;u<l;u++){var h=a.readASCII(r,c,4);c+=4,a.readUint(r,c),c+=4;var d=a.readUint(r,c);if(c+=4,a.readUint(r,c),c+=4,h==o)return d}return 0}};e._bin={readFixed:function(r,o){return(r[o]<<8|r[o+1])+(r[o+2]<<8|r[o+3])/65540},readF2dot14:function(r,o){return e._bin.readShort(r,o)/16384},readInt:function(r,o){return e._bin._view(r).getInt32(o)},readInt8:function(r,o){return e._bin._view(r).getInt8(o)},readShort:function(r,o){return e._bin._view(r).getInt16(o)},readUshort:function(r,o){return e._bin._view(r).getUint16(o)},readUshorts:function(r,o,s){for(var a=[],l=0;l<s;l++)a.push(e._bin.readUshort(r,o+2*l));return a},readUint:function(r,o){return e._bin._view(r).getUint32(o)},readUint64:function(r,o){return 4294967296*e._bin.readUint(r,o)+e._bin.readUint(r,o+4)},readASCII:function(r,o,s){for(var a="",l=0;l<s;l++)a+=String.fromCharCode(r[o+l]);return a},readUnicode:function(r,o,s){for(var a="",l=0;l<s;l++){var c=r[o++]<<8|r[o++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,o,s){var a=e._bin._tdec;return a&&o==0&&s==r.length?a.decode(r):e._bin.readASCII(r,o,s)},readBytes:function(r,o,s){for(var a=[],l=0;l<s;l++)a.push(r[o+l]);return a},readASCIIArray:function(r,o,s){for(var a=[],l=0;l<s;l++)a.push(String.fromCharCode(r[o+l]));return a},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,o,s,a,l){var c=e._bin,u={},h=o;c.readFixed(r,o),o+=4;var d=c.readUshort(r,o);o+=2;var p=c.readUshort(r,o);o+=2;var g=c.readUshort(r,o);return o+=2,u.scriptList=e._lctf.readScriptList(r,h+d),u.featureList=e._lctf.readFeatureList(r,h+p),u.lookupList=e._lctf.readLookupList(r,h+g,l),u},e._lctf.readLookupList=function(r,o,s){var a=e._bin,l=o,c=[],u=a.readUshort(r,o);o+=2;for(var h=0;h<u;h++){var d=a.readUshort(r,o);o+=2;var p=e._lctf.readLookupTable(r,l+d,s);c.push(p)}return c},e._lctf.readLookupTable=function(r,o,s){var a=e._bin,l=o,c={tabs:[]};c.ltype=a.readUshort(r,o),o+=2,c.flag=a.readUshort(r,o),o+=2;var u=a.readUshort(r,o);o+=2;for(var h=c.ltype,d=0;d<u;d++){var p=a.readUshort(r,o);o+=2;var g=s(r,h,l+p,c);c.tabs.push(g)}return c},e._lctf.numOfOnes=function(r){for(var o=0,s=0;s<32;s++)r>>>s&1&&o++;return o},e._lctf.readClassDef=function(r,o){var s=e._bin,a=[],l=s.readUshort(r,o);if(o+=2,l==1){var c=s.readUshort(r,o);o+=2;var u=s.readUshort(r,o);o+=2;for(var h=0;h<u;h++)a.push(c+h),a.push(c+h),a.push(s.readUshort(r,o)),o+=2}if(l==2){var d=s.readUshort(r,o);for(o+=2,h=0;h<d;h++)a.push(s.readUshort(r,o)),o+=2,a.push(s.readUshort(r,o)),o+=2,a.push(s.readUshort(r,o)),o+=2}return a},e._lctf.getInterval=function(r,o){for(var s=0;s<r.length;s+=3){var a=r[s],l=r[s+1];if(r[s+2],a<=o&&o<=l)return s}return-1},e._lctf.readCoverage=function(r,o){var s=e._bin,a={};a.fmt=s.readUshort(r,o),o+=2;var l=s.readUshort(r,o);return o+=2,a.fmt==1&&(a.tab=s.readUshorts(r,o,l)),a.fmt==2&&(a.tab=s.readUshorts(r,o,3*l)),a},e._lctf.coverageIndex=function(r,o){var s=r.tab;if(r.fmt==1)return s.indexOf(o);if(r.fmt==2){var a=e._lctf.getInterval(s,o);if(a!=-1)return s[a+2]+(o-s[a])}return-1},e._lctf.readFeatureList=function(r,o){var s=e._bin,a=o,l=[],c=s.readUshort(r,o);o+=2;for(var u=0;u<c;u++){var h=s.readASCII(r,o,4);o+=4;var d=s.readUshort(r,o);o+=2;var p=e._lctf.readFeatureTable(r,a+d);p.tag=h.trim(),l.push(p)}return l},e._lctf.readFeatureTable=function(r,o){var s=e._bin,a=o,l={},c=s.readUshort(r,o);o+=2,c>0&&(l.featureParams=a+c);var u=s.readUshort(r,o);o+=2,l.tab=[];for(var h=0;h<u;h++)l.tab.push(s.readUshort(r,o+2*h));return l},e._lctf.readScriptList=function(r,o){var s=e._bin,a=o,l={},c=s.readUshort(r,o);o+=2;for(var u=0;u<c;u++){var h=s.readASCII(r,o,4);o+=4;var d=s.readUshort(r,o);o+=2,l[h.trim()]=e._lctf.readScriptTable(r,a+d)}return l},e._lctf.readScriptTable=function(r,o){var s=e._bin,a=o,l={},c=s.readUshort(r,o);o+=2,c>0&&(l.default=e._lctf.readLangSysTable(r,a+c));var u=s.readUshort(r,o);o+=2;for(var h=0;h<u;h++){var d=s.readASCII(r,o,4);o+=4;var p=s.readUshort(r,o);o+=2,l[d.trim()]=e._lctf.readLangSysTable(r,a+p)}return l},e._lctf.readLangSysTable=function(r,o){var s=e._bin,a={};s.readUshort(r,o),o+=2,a.reqFeature=s.readUshort(r,o),o+=2;var l=s.readUshort(r,o);return o+=2,a.features=s.readUshorts(r,o,l),a},e.CFF={},e.CFF.parse=function(r,o,s){var a=e._bin;(r=new Uint8Array(r.buffer,o,s))[o=0],r[++o],r[++o],r[++o],o++;var l=[];o=e.CFF.readIndex(r,o,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(r,o+l[u],l[u+1]-l[u]));o+=l[l.length-1];var h=[];o=e.CFF.readIndex(r,o,h);var d=[];for(u=0;u<h.length-1;u++)d.push(e.CFF.readDict(r,o+h[u],o+h[u+1]));o+=h[h.length-1];var p=d[0],g=[];o=e.CFF.readIndex(r,o,g);var v=[];for(u=0;u<g.length-1;u++)v.push(a.readASCII(r,o+g[u],g[u+1]-g[u]));if(o+=g[g.length-1],e.CFF.readSubrs(r,o,p),p.CharStrings){o=p.CharStrings,g=[],o=e.CFF.readIndex(r,o,g);var _=[];for(u=0;u<g.length-1;u++)_.push(a.readBytes(r,o+g[u],g[u+1]-g[u]));p.CharStrings=_}if(p.ROS){o=p.FDArray;var b=[];for(o=e.CFF.readIndex(r,o,b),p.FDArray=[],u=0;u<b.length-1;u++){var x=e.CFF.readDict(r,o+b[u],o+b[u+1]);e.CFF._readFDict(r,x,v),p.FDArray.push(x)}o+=b[b.length-1],o=p.FDSelect,p.FDSelect=[];var C=r[o];if(o++,C!=3)throw C;var S=a.readUshort(r,o);for(o+=2,u=0;u<S+1;u++)p.FDSelect.push(a.readUshort(r,o),r[o+2]),o+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(r,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(r,p.charset,p.CharStrings.length)),e.CFF._readFDict(r,p,v),p},e.CFF._readFDict=function(r,o,s){var a;for(var l in o.Private&&(a=o.Private[1],o.Private=e.CFF.readDict(r,a,a+o.Private[0]),o.Private.Subrs&&e.CFF.readSubrs(r,a+o.Private.Subrs,o.Private)),o)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(o[l]=s[o[l]-426+35])},e.CFF.readSubrs=function(r,o,s){var a=e._bin,l=[];o=e.CFF.readIndex(r,o,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,s.Bias=c,s.Subrs=[];for(var h=0;h<l.length-1;h++)s.Subrs.push(a.readBytes(r,o+l[h],l[h+1]-l[h]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,o){for(var s=0;s<r.charset.length;s++)if(r.charset[s]==o)return s;return-1},e.CFF.glyphBySE=function(r,o){return o<0||o>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[o])},e.CFF.readEncoding=function(r,o,s){e._bin;var a=[".notdef"],l=r[o];if(o++,l!=0)throw"error: unknown encoding format: "+l;var c=r[o];o++;for(var u=0;u<c;u++)a.push(r[o+u]);return a},e.CFF.readCharset=function(r,o,s){var a=e._bin,l=[".notdef"],c=r[o];if(o++,c==0)for(var u=0;u<s;u++){var h=a.readUshort(r,o);o+=2,l.push(h)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<s;){h=a.readUshort(r,o),o+=2;var d=0;for(c==1?(d=r[o],o++):(d=a.readUshort(r,o),o+=2),u=0;u<=d;u++)l.push(h),h++}}return l},e.CFF.readIndex=function(r,o,s){var a=e._bin,l=a.readUshort(r,o)+1,c=r[o+=2];if(o++,c==1)for(var u=0;u<l;u++)s.push(r[o+u]);else if(c==2)for(u=0;u<l;u++)s.push(a.readUshort(r,o+2*u));else if(c==3)for(u=0;u<l;u++)s.push(16777215&a.readUint(r,o+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(o+=l*c)-1},e.CFF.getCharString=function(r,o,s){var a=e._bin,l=r[o],c=r[o+1];r[o+2],r[o+3],r[o+4];var u=1,h=null,d=null;l<=20&&(h=l,u=1),l==12&&(h=100*l+c,u=2),21<=l&&l<=27&&(h=l,u=1),l==28&&(d=a.readShort(r,o+1),u=3),29<=l&&l<=31&&(h=l,u=1),32<=l&&l<=246&&(d=l-139,u=1),247<=l&&l<=250&&(d=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(d=256*-(l-251)-c-108,u=2),l==255&&(d=a.readInt(r,o+1)/65535,u=5),s.val=d??"o"+h,s.size=u},e.CFF.readCharString=function(r,o,s){for(var a=o+s,l=e._bin,c=[];o<a;){var u=r[o],h=r[o+1];r[o+2],r[o+3],r[o+4];var d=1,p=null,g=null;u<=20&&(p=u,d=1),u==12&&(p=100*u+h,d=2),u!=19&&u!=20||(p=u,d=2),21<=u&&u<=27&&(p=u,d=1),u==28&&(g=l.readShort(r,o+1),d=3),29<=u&&u<=31&&(p=u,d=1),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+h+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-h-108,d=2),u==255&&(g=l.readInt(r,o+1)/65535,d=5),c.push(g??"o"+p),o+=d}return c},e.CFF.readDict=function(r,o,s){for(var a=e._bin,l={},c=[];o<s;){var u=r[o],h=r[o+1];r[o+2],r[o+3],r[o+4];var d=1,p=null,g=null;if(u==28&&(g=a.readShort(r,o+1),d=3),u==29&&(g=a.readInt(r,o+1),d=5),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+h+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-h-108,d=2),u==255)throw g=a.readInt(r,o+1)/65535,d=5,"unknown number";if(u==30){var v=[];for(d=1;;){var _=r[o+d];d++;var b=_>>4,x=15&_;if(b!=15&&v.push(b),x!=15&&v.push(x),x==15)break}for(var C="",S=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<v.length;E++)C+=S[v[E]];g=parseFloat(C)}u<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][h],d=2)),p!=null?(l[p]=c.length==1?c[0]:c,c=[]):c.push(g),o+=d}return l},e.cmap={},e.cmap.parse=function(r,o,s){r=new Uint8Array(r.buffer,o,s),o=0;var a=e._bin,l={};a.readUshort(r,o),o+=2;var c=a.readUshort(r,o);o+=2;var u=[];l.tables=[];for(var h=0;h<c;h++){var d=a.readUshort(r,o);o+=2;var p=a.readUshort(r,o);o+=2;var g=a.readUint(r,o);o+=4;var v="p"+d+"e"+p,_=u.indexOf(g);if(_==-1){var b;_=l.tables.length,u.push(g);var x=a.readUshort(r,g);x==0?b=e.cmap.parse0(r,g):x==4?b=e.cmap.parse4(r,g):x==6?b=e.cmap.parse6(r,g):x==12?b=e.cmap.parse12(r,g):console.debug("unknown format: "+x,d,p,g),l.tables.push(b)}if(l[v]!=null)throw"multiple tables for one platform+encoding";l[v]=_}return l},e.cmap.parse0=function(r,o){var s=e._bin,a={};a.format=s.readUshort(r,o),o+=2;var l=s.readUshort(r,o);o+=2,s.readUshort(r,o),o+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(r[o+c]);return a},e.cmap.parse4=function(r,o){var s=e._bin,a=o,l={};l.format=s.readUshort(r,o),o+=2;var c=s.readUshort(r,o);o+=2,s.readUshort(r,o),o+=2;var u=s.readUshort(r,o);o+=2;var h=u/2;l.searchRange=s.readUshort(r,o),o+=2,l.entrySelector=s.readUshort(r,o),o+=2,l.rangeShift=s.readUshort(r,o),o+=2,l.endCount=s.readUshorts(r,o,h),o+=2*h,o+=2,l.startCount=s.readUshorts(r,o,h),o+=2*h,l.idDelta=[];for(var d=0;d<h;d++)l.idDelta.push(s.readShort(r,o)),o+=2;for(l.idRangeOffset=s.readUshorts(r,o,h),o+=2*h,l.glyphIdArray=[];o<a+c;)l.glyphIdArray.push(s.readUshort(r,o)),o+=2;return l},e.cmap.parse6=function(r,o){var s=e._bin,a={};a.format=s.readUshort(r,o),o+=2,s.readUshort(r,o),o+=2,s.readUshort(r,o),o+=2,a.firstCode=s.readUshort(r,o),o+=2;var l=s.readUshort(r,o);o+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(s.readUshort(r,o)),o+=2;return a},e.cmap.parse12=function(r,o){var s=e._bin,a={};a.format=s.readUshort(r,o),o+=2,o+=2,s.readUint(r,o),o+=4,s.readUint(r,o),o+=4;var l=s.readUint(r,o);o+=4,a.groups=[];for(var c=0;c<l;c++){var u=o+12*c,h=s.readUint(r,u+0),d=s.readUint(r,u+4),p=s.readUint(r,u+8);a.groups.push([h,d,p])}return a},e.glyf={},e.glyf.parse=function(r,o,s,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(r,o){var s=e._bin,a=r._data,l=e._tabOffset(a,"glyf",r._offset)+r.loca[o];if(r.loca[o]==r.loca[o+1])return null;var c={};if(c.noc=s.readShort(a,l),l+=2,c.xMin=s.readShort(a,l),l+=2,c.yMin=s.readShort(a,l),l+=2,c.xMax=s.readShort(a,l),l+=2,c.yMax=s.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(s.readUshort(a,l)),l+=2;var h=s.readUshort(a,l);if(l+=2,a.length-l<h)return null;c.instructions=s.readBytes(a,l,h),l+=h;var d=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<d;u++){var p=a[l];if(l++,c.flags.push(p),8&p){var g=a[l];l++;for(var v=0;v<g;v++)c.flags.push(p),u++}}for(c.xs=[],u=0;u<d;u++){var _=!!(2&c.flags[u]),b=!!(16&c.flags[u]);_?(c.xs.push(b?a[l]:-a[l]),l++):b?c.xs.push(0):(c.xs.push(s.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<d;u++)_=!!(4&c.flags[u]),b=!!(32&c.flags[u]),_?(c.ys.push(b?a[l]:-a[l]),l++):b?c.ys.push(0):(c.ys.push(s.readShort(a,l)),l+=2);var x=0,C=0;for(u=0;u<d;u++)x+=c.xs[u],C+=c.ys[u],c.xs[u]=x,c.ys[u]=C}else{var S;c.parts=[];do{S=s.readUshort(a,l),l+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(E),E.glyphIndex=s.readUshort(a,l),l+=2,1&S){var I=s.readShort(a,l);l+=2;var M=s.readShort(a,l);l+=2}else I=s.readInt8(a,l),l++,M=s.readInt8(a,l),l++;2&S?(E.m.tx=I,E.m.ty=M):(E.p1=I,E.p2=M),8&S?(E.m.a=E.m.d=s.readF2dot14(a,l),l+=2):64&S?(E.m.a=s.readF2dot14(a,l),l+=2,E.m.d=s.readF2dot14(a,l),l+=2):128&S&&(E.m.a=s.readF2dot14(a,l),l+=2,E.m.b=s.readF2dot14(a,l),l+=2,E.m.c=s.readF2dot14(a,l),l+=2,E.m.d=s.readF2dot14(a,l),l+=2)}while(32&S);if(256&S){var k=s.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<k;u++)c.instr.push(a[l]),l++}}return c},e.GDEF={},e.GDEF.parse=function(r,o,s,a){var l=o;o+=4;var c=e._bin.readUshort(r,o);return{glyphClassDef:c===0?null:e._lctf.readClassDef(r,l+c)}},e.GPOS={},e.GPOS.parse=function(r,o,s,a){return e._lctf.parse(r,o,s,a,e.GPOS.subt)},e.GPOS.subt=function(r,o,s,a){var l=e._bin,c=s,u={};if(u.fmt=l.readUshort(r,s),s+=2,o==1||o==2||o==3||o==7||o==8&&u.fmt<=2){var h=l.readUshort(r,s);s+=2,u.coverage=e._lctf.readCoverage(r,h+c)}if(o==1&&u.fmt==1){var d=l.readUshort(r,s);s+=2,d!=0&&(u.pos=e.GPOS.readValueRecord(r,s,d))}else if(o==2&&u.fmt>=1&&u.fmt<=2){d=l.readUshort(r,s),s+=2;var p=l.readUshort(r,s);s+=2;var g=e._lctf.numOfOnes(d),v=e._lctf.numOfOnes(p);if(u.fmt==1){u.pairsets=[];var _=l.readUshort(r,s);s+=2;for(var b=0;b<_;b++){var x=c+l.readUshort(r,s);s+=2;var C=l.readUshort(r,x);x+=2;for(var S=[],E=0;E<C;E++){var I=l.readUshort(r,x);x+=2,d!=0&&(N=e.GPOS.readValueRecord(r,x,d),x+=2*g),p!=0&&(W=e.GPOS.readValueRecord(r,x,p),x+=2*v),S.push({gid2:I,val1:N,val2:W})}u.pairsets.push(S)}}if(u.fmt==2){var M=l.readUshort(r,s);s+=2;var k=l.readUshort(r,s);s+=2;var F=l.readUshort(r,s);s+=2;var P=l.readUshort(r,s);for(s+=2,u.classDef1=e._lctf.readClassDef(r,c+M),u.classDef2=e._lctf.readClassDef(r,c+k),u.matrix=[],b=0;b<F;b++){var Q=[];for(E=0;E<P;E++){var N=null,W=null;d!=0&&(N=e.GPOS.readValueRecord(r,s,d),s+=2*g),p!=0&&(W=e.GPOS.readValueRecord(r,s,p),s+=2*v),Q.push({val1:N,val2:W})}u.matrix.push(Q)}}}else if(o==4&&u.fmt==1)u.markCoverage=e._lctf.readCoverage(r,l.readUshort(r,s)+c),u.baseCoverage=e._lctf.readCoverage(r,l.readUshort(r,s+2)+c),u.markClassCount=l.readUshort(r,s+4),u.markArray=e.GPOS.readMarkArray(r,l.readUshort(r,s+6)+c),u.baseArray=e.GPOS.readBaseArray(r,l.readUshort(r,s+8)+c,u.markClassCount);else if(o==6&&u.fmt==1)u.mark1Coverage=e._lctf.readCoverage(r,l.readUshort(r,s)+c),u.mark2Coverage=e._lctf.readCoverage(r,l.readUshort(r,s+2)+c),u.markClassCount=l.readUshort(r,s+4),u.mark1Array=e.GPOS.readMarkArray(r,l.readUshort(r,s+6)+c),u.mark2Array=e.GPOS.readBaseArray(r,l.readUshort(r,s+8)+c,u.markClassCount);else{if(o==9&&u.fmt==1){var q=l.readUshort(r,s);s+=2;var J=l.readUint(r,s);if(s+=4,a.ltype==9)a.ltype=q;else if(a.ltype!=q)throw"invalid extension substitution";return e.GPOS.subt(r,a.ltype,c+J)}console.debug("unsupported GPOS table LookupType",o,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(r,o,s){var a=e._bin,l=[];return l.push(1&s?a.readShort(r,o):0),o+=1&s?2:0,l.push(2&s?a.readShort(r,o):0),o+=2&s?2:0,l.push(4&s?a.readShort(r,o):0),o+=4&s?2:0,l.push(8&s?a.readShort(r,o):0),o+=8&s?2:0,l},e.GPOS.readBaseArray=function(r,o,s){var a=e._bin,l=[],c=o,u=a.readUshort(r,o);o+=2;for(var h=0;h<u;h++){for(var d=[],p=0;p<s;p++)d.push(e.GPOS.readAnchorRecord(r,c+a.readUshort(r,o))),o+=2;l.push(d)}return l},e.GPOS.readMarkArray=function(r,o){var s=e._bin,a=[],l=o,c=s.readUshort(r,o);o+=2;for(var u=0;u<c;u++){var h=e.GPOS.readAnchorRecord(r,s.readUshort(r,o+2)+l);h.markClass=s.readUshort(r,o),a.push(h),o+=4}return a},e.GPOS.readAnchorRecord=function(r,o){var s=e._bin,a={};return a.fmt=s.readUshort(r,o),a.x=s.readShort(r,o+2),a.y=s.readShort(r,o+4),a},e.GSUB={},e.GSUB.parse=function(r,o,s,a){return e._lctf.parse(r,o,s,a,e.GSUB.subt)},e.GSUB.subt=function(r,o,s,a){var l=e._bin,c=s,u={};if(u.fmt=l.readUshort(r,s),s+=2,o!=1&&o!=2&&o!=4&&o!=5&&o!=6)return null;if(o==1||o==2||o==4||o==5&&u.fmt<=2||o==6&&u.fmt<=2){var h=l.readUshort(r,s);s+=2,u.coverage=e._lctf.readCoverage(r,c+h)}if(o==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(r,s),s+=2;else if(u.fmt==2){var d=l.readUshort(r,s);s+=2,u.newg=l.readUshorts(r,s,d),s+=2*u.newg.length}}else if(o==2&&u.fmt==1){d=l.readUshort(r,s),s+=2,u.seqs=[];for(var p=0;p<d;p++){var g=l.readUshort(r,s)+c;s+=2;var v=l.readUshort(r,g);u.seqs.push(l.readUshorts(r,g+2,v))}}else if(o==4)for(u.vals=[],d=l.readUshort(r,s),s+=2,p=0;p<d;p++){var _=l.readUshort(r,s);s+=2,u.vals.push(e.GSUB.readLigatureSet(r,c+_))}else if(o==5&&u.fmt==2){if(u.fmt==2){var b=l.readUshort(r,s);s+=2,u.cDef=e._lctf.readClassDef(r,c+b),u.scset=[];var x=l.readUshort(r,s);for(s+=2,p=0;p<x;p++){var C=l.readUshort(r,s);s+=2,u.scset.push(C==0?null:e.GSUB.readSubClassSet(r,c+C))}}}else if(o==6&&u.fmt==3){if(u.fmt==3){for(p=0;p<3;p++){d=l.readUshort(r,s),s+=2;for(var S=[],E=0;E<d;E++)S.push(e._lctf.readCoverage(r,c+l.readUshort(r,s+2*E)));s+=2*d,p==0&&(u.backCvg=S),p==1&&(u.inptCvg=S),p==2&&(u.ahedCvg=S)}d=l.readUshort(r,s),s+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(r,s,d)}}else{if(o==7&&u.fmt==1){var I=l.readUshort(r,s);s+=2;var M=l.readUint(r,s);if(s+=4,a.ltype==9)a.ltype=I;else if(a.ltype!=I)throw"invalid extension substitution";return e.GSUB.subt(r,a.ltype,c+M)}console.debug("unsupported GSUB table LookupType",o,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(r,o){var s=e._bin.readUshort,a=o,l=[],c=s(r,o);o+=2;for(var u=0;u<c;u++){var h=s(r,o);o+=2,l.push(e.GSUB.readSubClassRule(r,a+h))}return l},e.GSUB.readSubClassRule=function(r,o){var s=e._bin.readUshort,a={},l=s(r,o),c=s(r,o+=2);o+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(s(r,o)),o+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(r,o,c),a},e.GSUB.readSubstLookupRecords=function(r,o,s){for(var a=e._bin.readUshort,l=[],c=0;c<s;c++)l.push(a(r,o),a(r,o+2)),o+=4;return l},e.GSUB.readChainSubClassSet=function(r,o){var s=e._bin,a=o,l=[],c=s.readUshort(r,o);o+=2;for(var u=0;u<c;u++){var h=s.readUshort(r,o);o+=2,l.push(e.GSUB.readChainSubClassRule(r,a+h))}return l},e.GSUB.readChainSubClassRule=function(r,o){for(var s=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=s.readUshort(r,o);o+=2,c==1&&u--,a[l[c]]=s.readUshorts(r,o,u),o+=2*a[l[c]].length}return u=s.readUshort(r,o),o+=2,a.subst=s.readUshorts(r,o,2*u),o+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(r,o){var s=e._bin,a=o,l=[],c=s.readUshort(r,o);o+=2;for(var u=0;u<c;u++){var h=s.readUshort(r,o);o+=2,l.push(e.GSUB.readLigature(r,a+h))}return l},e.GSUB.readLigature=function(r,o){var s=e._bin,a={chain:[]};a.nglyph=s.readUshort(r,o),o+=2;var l=s.readUshort(r,o);o+=2;for(var c=0;c<l-1;c++)a.chain.push(s.readUshort(r,o)),o+=2;return a},e.head={},e.head.parse=function(r,o,s){var a=e._bin,l={};return a.readFixed(r,o),o+=4,l.fontRevision=a.readFixed(r,o),o+=4,a.readUint(r,o),o+=4,a.readUint(r,o),o+=4,l.flags=a.readUshort(r,o),o+=2,l.unitsPerEm=a.readUshort(r,o),o+=2,l.created=a.readUint64(r,o),o+=8,l.modified=a.readUint64(r,o),o+=8,l.xMin=a.readShort(r,o),o+=2,l.yMin=a.readShort(r,o),o+=2,l.xMax=a.readShort(r,o),o+=2,l.yMax=a.readShort(r,o),o+=2,l.macStyle=a.readUshort(r,o),o+=2,l.lowestRecPPEM=a.readUshort(r,o),o+=2,l.fontDirectionHint=a.readShort(r,o),o+=2,l.indexToLocFormat=a.readShort(r,o),o+=2,l.glyphDataFormat=a.readShort(r,o),o+=2,l},e.hhea={},e.hhea.parse=function(r,o,s){var a=e._bin,l={};return a.readFixed(r,o),o+=4,l.ascender=a.readShort(r,o),o+=2,l.descender=a.readShort(r,o),o+=2,l.lineGap=a.readShort(r,o),o+=2,l.advanceWidthMax=a.readUshort(r,o),o+=2,l.minLeftSideBearing=a.readShort(r,o),o+=2,l.minRightSideBearing=a.readShort(r,o),o+=2,l.xMaxExtent=a.readShort(r,o),o+=2,l.caretSlopeRise=a.readShort(r,o),o+=2,l.caretSlopeRun=a.readShort(r,o),o+=2,l.caretOffset=a.readShort(r,o),o+=2,o+=8,l.metricDataFormat=a.readShort(r,o),o+=2,l.numberOfHMetrics=a.readUshort(r,o),o+=2,l},e.hmtx={},e.hmtx.parse=function(r,o,s,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,h=0,d=0;d<a.maxp.numGlyphs;d++)d<a.hhea.numberOfHMetrics&&(u=l.readUshort(r,o),o+=2,h=l.readShort(r,o),o+=2),c.aWidth.push(u),c.lsBearing.push(h);return c},e.kern={},e.kern.parse=function(r,o,s,a){var l=e._bin,c=l.readUshort(r,o);if(o+=2,c==1)return e.kern.parseV1(r,o-2,s,a);var u=l.readUshort(r,o);o+=2;for(var h={glyph1:[],rval:[]},d=0;d<u;d++){o+=2,s=l.readUshort(r,o),o+=2;var p=l.readUshort(r,o);o+=2;var g=p>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;o=e.kern.readFormat0(r,o,h)}return h},e.kern.parseV1=function(r,o,s,a){var l=e._bin;l.readFixed(r,o),o+=4;var c=l.readUint(r,o);o+=4;for(var u={glyph1:[],rval:[]},h=0;h<c;h++){l.readUint(r,o),o+=4;var d=l.readUshort(r,o);o+=2,l.readUshort(r,o),o+=2;var p=d>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;o=e.kern.readFormat0(r,o,u)}return u},e.kern.readFormat0=function(r,o,s){var a=e._bin,l=-1,c=a.readUshort(r,o);o+=2,a.readUshort(r,o),o+=2,a.readUshort(r,o),o+=2,a.readUshort(r,o),o+=2;for(var u=0;u<c;u++){var h=a.readUshort(r,o);o+=2;var d=a.readUshort(r,o);o+=2;var p=a.readShort(r,o);o+=2,h!=l&&(s.glyph1.push(h),s.rval.push({glyph2:[],vals:[]}));var g=s.rval[s.rval.length-1];g.glyph2.push(d),g.vals.push(p),l=h}return o},e.loca={},e.loca.parse=function(r,o,s,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,h=a.maxp.numGlyphs+1;if(u==0)for(var d=0;d<h;d++)c.push(l.readUshort(r,o+(d<<1))<<1);if(u==1)for(d=0;d<h;d++)c.push(l.readUint(r,o+(d<<2)));return c},e.maxp={},e.maxp.parse=function(r,o,s){var a=e._bin,l={},c=a.readUint(r,o);return o+=4,l.numGlyphs=a.readUshort(r,o),o+=2,c==65536&&(l.maxPoints=a.readUshort(r,o),o+=2,l.maxContours=a.readUshort(r,o),o+=2,l.maxCompositePoints=a.readUshort(r,o),o+=2,l.maxCompositeContours=a.readUshort(r,o),o+=2,l.maxZones=a.readUshort(r,o),o+=2,l.maxTwilightPoints=a.readUshort(r,o),o+=2,l.maxStorage=a.readUshort(r,o),o+=2,l.maxFunctionDefs=a.readUshort(r,o),o+=2,l.maxInstructionDefs=a.readUshort(r,o),o+=2,l.maxStackElements=a.readUshort(r,o),o+=2,l.maxSizeOfInstructions=a.readUshort(r,o),o+=2,l.maxComponentElements=a.readUshort(r,o),o+=2,l.maxComponentDepth=a.readUshort(r,o),o+=2),l},e.name={},e.name.parse=function(r,o,s){var a=e._bin,l={};a.readUshort(r,o),o+=2;var c=a.readUshort(r,o);o+=2,a.readUshort(r,o);for(var u,h=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=o+=2,p=0;p<c;p++){var g=a.readUshort(r,o);o+=2;var v=a.readUshort(r,o);o+=2;var _=a.readUshort(r,o);o+=2;var b=a.readUshort(r,o);o+=2;var x=a.readUshort(r,o);o+=2;var C=a.readUshort(r,o);o+=2;var S,E=h[b],I=d+12*c+C;if(g==0)S=a.readUnicode(r,I,x/2);else if(g==3&&v==0)S=a.readUnicode(r,I,x/2);else if(v==0)S=a.readASCII(r,I,x);else if(v==1)S=a.readUnicode(r,I,x/2);else if(v==3)S=a.readUnicode(r,I,x/2);else{if(g!=1)throw"unknown encoding "+v+", platformID: "+g;S=a.readASCII(r,I,x),console.debug("reading unknown MAC encoding "+v+" as ASCII")}var M="p"+g+","+_.toString(16);l[M]==null&&(l[M]={}),l[M][E!==void 0?E:b]=S,l[M]._lang=_}for(var k in l)if(l[k].postScriptName!=null&&l[k]._lang==1033)return l[k];for(var k in l)if(l[k].postScriptName!=null&&l[k]._lang==0)return l[k];for(var k in l)if(l[k].postScriptName!=null&&l[k]._lang==3084)return l[k];for(var k in l)if(l[k].postScriptName!=null)return l[k];for(var k in l){u=k;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(r,o,s){var a=e._bin.readUshort(r,o);o+=2;var l={};if(a==0)e["OS/2"].version0(r,o,l);else if(a==1)e["OS/2"].version1(r,o,l);else if(a==2||a==3||a==4)e["OS/2"].version2(r,o,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(r,o,l)}return l},e["OS/2"].version0=function(r,o,s){var a=e._bin;return s.xAvgCharWidth=a.readShort(r,o),o+=2,s.usWeightClass=a.readUshort(r,o),o+=2,s.usWidthClass=a.readUshort(r,o),o+=2,s.fsType=a.readUshort(r,o),o+=2,s.ySubscriptXSize=a.readShort(r,o),o+=2,s.ySubscriptYSize=a.readShort(r,o),o+=2,s.ySubscriptXOffset=a.readShort(r,o),o+=2,s.ySubscriptYOffset=a.readShort(r,o),o+=2,s.ySuperscriptXSize=a.readShort(r,o),o+=2,s.ySuperscriptYSize=a.readShort(r,o),o+=2,s.ySuperscriptXOffset=a.readShort(r,o),o+=2,s.ySuperscriptYOffset=a.readShort(r,o),o+=2,s.yStrikeoutSize=a.readShort(r,o),o+=2,s.yStrikeoutPosition=a.readShort(r,o),o+=2,s.sFamilyClass=a.readShort(r,o),o+=2,s.panose=a.readBytes(r,o,10),o+=10,s.ulUnicodeRange1=a.readUint(r,o),o+=4,s.ulUnicodeRange2=a.readUint(r,o),o+=4,s.ulUnicodeRange3=a.readUint(r,o),o+=4,s.ulUnicodeRange4=a.readUint(r,o),o+=4,s.achVendID=[a.readInt8(r,o),a.readInt8(r,o+1),a.readInt8(r,o+2),a.readInt8(r,o+3)],o+=4,s.fsSelection=a.readUshort(r,o),o+=2,s.usFirstCharIndex=a.readUshort(r,o),o+=2,s.usLastCharIndex=a.readUshort(r,o),o+=2,s.sTypoAscender=a.readShort(r,o),o+=2,s.sTypoDescender=a.readShort(r,o),o+=2,s.sTypoLineGap=a.readShort(r,o),o+=2,s.usWinAscent=a.readUshort(r,o),o+=2,s.usWinDescent=a.readUshort(r,o),o+2},e["OS/2"].version1=function(r,o,s){var a=e._bin;return o=e["OS/2"].version0(r,o,s),s.ulCodePageRange1=a.readUint(r,o),o+=4,s.ulCodePageRange2=a.readUint(r,o),o+4},e["OS/2"].version2=function(r,o,s){var a=e._bin;return o=e["OS/2"].version1(r,o,s),s.sxHeight=a.readShort(r,o),o+=2,s.sCapHeight=a.readShort(r,o),o+=2,s.usDefault=a.readUshort(r,o),o+=2,s.usBreak=a.readUshort(r,o),o+=2,s.usMaxContext=a.readUshort(r,o),o+2},e["OS/2"].version5=function(r,o,s){var a=e._bin;return o=e["OS/2"].version2(r,o,s),s.usLowerOpticalPointSize=a.readUshort(r,o),o+=2,s.usUpperOpticalPointSize=a.readUshort(r,o),o+2},e.post={},e.post.parse=function(r,o,s){var a=e._bin,l={};return l.version=a.readFixed(r,o),o+=4,l.italicAngle=a.readFixed(r,o),o+=4,l.underlinePosition=a.readShort(r,o),o+=2,l.underlineThickness=a.readShort(r,o),o+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,o){var s=r.cmap,a=-1;if(s.p0e4!=null?a=s.p0e4:s.p3e1!=null?a=s.p3e1:s.p1e0!=null?a=s.p1e0:s.p0e3!=null&&(a=s.p0e3),a==-1)throw"no familiar platform and encoding!";var l=s.tables[a];if(l.format==0)return o>=l.map.length?0:l.map[o];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(o<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>o?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[o-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:o+l.idDelta[c])}if(l.format==12){if(o>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var h=l.groups[u];if(h[0]<=o&&o<=h[1])return h[2]+(o-h[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(r,o){var s={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[o]){var a=r.SVG.entries[o];return a==null?s:(typeof a=="string"&&(a=e.SVG.toPath(a),r.SVG.entries[o]=a),a)}if(r.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},c=r.CFF,u=r.CFF.Private;if(c.ROS){for(var h=0;c.FDSelect[h+2]<=o;)h+=2;u=c.FDArray[c.FDSelect[h+1]].Private}e.U._drawCFF(r.CFF.CharStrings[o],l,c,u,s)}else r.glyf&&e.U._drawGlyf(o,r,s);return s},e.U._drawGlyf=function(r,o,s){var a=o.glyf[r];a==null&&(a=o.glyf[r]=e.glyf._parseGlyf(o,r)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,s):e.U._compoGlyph(a,o,s))},e.U._simpleGlyph=function(r,o){for(var s=0;s<r.noc;s++){for(var a=s==0?0:r.endPts[s-1]+1,l=r.endPts[s],c=a;c<=l;c++){var u=c==a?l:c-1,h=c==l?a:c+1,d=1&r.flags[c],p=1&r.flags[u],g=1&r.flags[h],v=r.xs[c],_=r.ys[c];if(c==a)if(d){if(!p){e.U.P.moveTo(o,v,_);continue}e.U.P.moveTo(o,r.xs[u],r.ys[u])}else p?e.U.P.moveTo(o,r.xs[u],r.ys[u]):e.U.P.moveTo(o,(r.xs[u]+v)/2,(r.ys[u]+_)/2);d?p&&e.U.P.lineTo(o,v,_):g?e.U.P.qcurveTo(o,v,_,r.xs[h],r.ys[h]):e.U.P.qcurveTo(o,v,_,(v+r.xs[h])/2,(_+r.ys[h])/2)}e.U.P.closePath(o)}},e.U._compoGlyph=function(r,o,s){for(var a=0;a<r.parts.length;a++){var l={cmds:[],crds:[]},c=r.parts[a];e.U._drawGlyf(c.glyphIndex,o,l);for(var u=c.m,h=0;h<l.crds.length;h+=2){var d=l.crds[h],p=l.crds[h+1];s.crds.push(d*u.a+p*u.b+u.tx),s.crds.push(d*u.c+p*u.d+u.ty)}for(h=0;h<l.cmds.length;h++)s.cmds.push(l.cmds[h])}},e.U._getGlyphClass=function(r,o){var s=e._lctf.getInterval(o,r);return s==-1?0:o[s+2]},e.U._applySubs=function(r,o,s,a){for(var l=r.length-o-1,c=0;c<s.tabs.length;c++)if(s.tabs[c]!=null){var u,h=s.tabs[c];if(!h.coverage||(u=e._lctf.coverageIndex(h.coverage,r[o]))!=-1){if(s.ltype==1)r[o],h.fmt==1?r[o]=r[o]+h.delta:r[o]=h.newg[u];else if(s.ltype==4)for(var d=h.vals[u],p=0;p<d.length;p++){var g=d[p],v=g.chain.length;if(!(v>l)){for(var _=!0,b=0,x=0;x<v;x++){for(;r[o+b+(1+x)]==-1;)b++;g.chain[x]!=r[o+b+(1+x)]&&(_=!1)}if(_){for(r[o]=g.nglyph,x=0;x<v+b;x++)r[o+x+1]=-1;break}}}else if(s.ltype==5&&h.fmt==2)for(var C=e._lctf.getInterval(h.cDef,r[o]),S=h.cDef[C+2],E=h.scset[S],I=0;I<E.length;I++){var M=E[I],k=M.input;if(!(k.length>l)){for(_=!0,x=0;x<k.length;x++){var F=e._lctf.getInterval(h.cDef,r[o+1+x]);if(C==-1&&h.cDef[F+2]!=k[x]){_=!1;break}}if(_){var P=M.substLookupRecords;for(p=0;p<P.length;p+=2)P[p],P[p+1]}}}else if(s.ltype==6&&h.fmt==3){if(!e.U._glsCovered(r,h.backCvg,o-h.backCvg.length)||!e.U._glsCovered(r,h.inptCvg,o)||!e.U._glsCovered(r,h.ahedCvg,o+h.inptCvg.length))continue;var Q=h.lookupRec;for(I=0;I<Q.length;I+=2){C=Q[I];var N=a[Q[I+1]];e.U._applySubs(r,o+C,N,a)}}}}},e.U._glsCovered=function(r,o,s){for(var a=0;a<o.length;a++)if(e._lctf.coverageIndex(o[a],r[s+a])==-1)return!1;return!0},e.U.glyphsToPath=function(r,o,s){for(var a={cmds:[],crds:[]},l=0,c=0;c<o.length;c++){var u=o[c];if(u!=-1){for(var h=c<o.length-1&&o[c+1]!=-1?o[c+1]:0,d=e.U.glyphToPath(r,u),p=0;p<d.crds.length;p+=2)a.crds.push(d.crds[p]+l),a.crds.push(d.crds[p+1]);for(s&&a.cmds.push(s),p=0;p<d.cmds.length;p++)a.cmds.push(d.cmds[p]);s&&a.cmds.push("X"),l+=r.hmtx.aWidth[u],c<o.length-1&&(l+=e.U.getPairAdjustment(r,u,h))}}return a},e.U.P={},e.U.P.moveTo=function(r,o,s){r.cmds.push("M"),r.crds.push(o,s)},e.U.P.lineTo=function(r,o,s){r.cmds.push("L"),r.crds.push(o,s)},e.U.P.curveTo=function(r,o,s,a,l,c,u){r.cmds.push("C"),r.crds.push(o,s,a,l,c,u)},e.U.P.qcurveTo=function(r,o,s,a,l){r.cmds.push("Q"),r.crds.push(o,s,a,l)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,o,s,a,l){for(var c=o.stack,u=o.nStems,h=o.haveWidth,d=o.width,p=o.open,g=0,v=o.x,_=o.y,b=0,x=0,C=0,S=0,E=0,I=0,M=0,k=0,F=0,P=0,Q={val:0,size:0};g<r.length;){e.CFF.getCharString(r,g,Q);var N=Q.val;if(g+=Q.size,N=="o1"||N=="o18")c.length%2!=0&&!h&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,h=!0;else if(N=="o3"||N=="o23")c.length%2!=0&&!h&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,h=!0;else if(N=="o4")c.length>1&&!h&&(d=c.shift()+a.nominalWidthX,h=!0),p&&e.U.P.closePath(l),_+=c.pop(),e.U.P.moveTo(l,v,_),p=!0;else if(N=="o5")for(;c.length>0;)v+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,v,_);else if(N=="o6"||N=="o7")for(var W=c.length,q=N=="o6",J=0;J<W;J++){var V=c.shift();q?v+=V:_+=V,q=!q,e.U.P.lineTo(l,v,_)}else if(N=="o8"||N=="o24"){W=c.length;for(var Y=0;Y+6<=W;)b=v+c.shift(),x=_+c.shift(),C=b+c.shift(),S=x+c.shift(),v=C+c.shift(),_=S+c.shift(),e.U.P.curveTo(l,b,x,C,S,v,_),Y+=6;N=="o24"&&(v+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,v,_))}else{if(N=="o11")break;if(N=="o1234"||N=="o1235"||N=="o1236"||N=="o1237")N=="o1234"&&(x=_,C=(b=v+c.shift())+c.shift(),P=S=x+c.shift(),I=S,k=_,v=(M=(E=(F=C+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,b,x,C,S,F,P),e.U.P.curveTo(l,E,I,M,k,v,_)),N=="o1235"&&(b=v+c.shift(),x=_+c.shift(),C=b+c.shift(),S=x+c.shift(),F=C+c.shift(),P=S+c.shift(),E=F+c.shift(),I=P+c.shift(),M=E+c.shift(),k=I+c.shift(),v=M+c.shift(),_=k+c.shift(),c.shift(),e.U.P.curveTo(l,b,x,C,S,F,P),e.U.P.curveTo(l,E,I,M,k,v,_)),N=="o1236"&&(b=v+c.shift(),x=_+c.shift(),C=b+c.shift(),P=S=x+c.shift(),I=S,M=(E=(F=C+c.shift())+c.shift())+c.shift(),k=I+c.shift(),v=M+c.shift(),e.U.P.curveTo(l,b,x,C,S,F,P),e.U.P.curveTo(l,E,I,M,k,v,_)),N=="o1237"&&(b=v+c.shift(),x=_+c.shift(),C=b+c.shift(),S=x+c.shift(),F=C+c.shift(),P=S+c.shift(),E=F+c.shift(),I=P+c.shift(),M=E+c.shift(),k=I+c.shift(),Math.abs(M-v)>Math.abs(k-_)?v=M+c.shift():_=k+c.shift(),e.U.P.curveTo(l,b,x,C,S,F,P),e.U.P.curveTo(l,E,I,M,k,v,_));else if(N=="o14"){if(c.length>0&&!h&&(d=c.shift()+s.nominalWidthX,h=!0),c.length==4){var Z=c.shift(),ue=c.shift(),$=c.shift(),ee=c.shift(),oe=e.CFF.glyphBySE(s,$),ge=e.CFF.glyphBySE(s,ee);e.U._drawCFF(s.CharStrings[oe],o,s,a,l),o.x=Z,o.y=ue,e.U._drawCFF(s.CharStrings[ge],o,s,a,l)}p&&(e.U.P.closePath(l),p=!1)}else if(N=="o19"||N=="o20")c.length%2!=0&&!h&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,h=!0,g+=u+7>>3;else if(N=="o21")c.length>2&&!h&&(d=c.shift()+a.nominalWidthX,h=!0),_+=c.pop(),v+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,v,_),p=!0;else if(N=="o22")c.length>1&&!h&&(d=c.shift()+a.nominalWidthX,h=!0),v+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,v,_),p=!0;else if(N=="o25"){for(;c.length>6;)v+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,v,_);b=v+c.shift(),x=_+c.shift(),C=b+c.shift(),S=x+c.shift(),v=C+c.shift(),_=S+c.shift(),e.U.P.curveTo(l,b,x,C,S,v,_)}else if(N=="o26")for(c.length%2&&(v+=c.shift());c.length>0;)b=v,x=_+c.shift(),v=C=b+c.shift(),_=(S=x+c.shift())+c.shift(),e.U.P.curveTo(l,b,x,C,S,v,_);else if(N=="o27")for(c.length%2&&(_+=c.shift());c.length>0;)x=_,C=(b=v+c.shift())+c.shift(),S=x+c.shift(),v=C+c.shift(),_=S,e.U.P.curveTo(l,b,x,C,S,v,_);else if(N=="o10"||N=="o29"){var se=N=="o10"?a:s;if(c.length==0)console.debug("error: empty stack");else{var Ae=c.pop(),we=se.Subrs[Ae+se.Bias];o.x=v,o.y=_,o.nStems=u,o.haveWidth=h,o.width=d,o.open=p,e.U._drawCFF(we,o,s,a,l),v=o.x,_=o.y,u=o.nStems,h=o.haveWidth,d=o.width,p=o.open}}else if(N=="o30"||N=="o31"){var xe=c.length,Be=(Y=0,N=="o31");for(Y+=xe-(W=-3&xe);Y<W;)Be?(x=_,C=(b=v+c.shift())+c.shift(),_=(S=x+c.shift())+c.shift(),W-Y==5?(v=C+c.shift(),Y++):v=C,Be=!1):(b=v,x=_+c.shift(),C=b+c.shift(),S=x+c.shift(),v=C+c.shift(),W-Y==5?(_=S+c.shift(),Y++):_=S,Be=!0),e.U.P.curveTo(l,b,x,C,S,v,_),Y+=4}else{if((N+"").charAt(0)=="o")throw console.debug("Unknown operation: "+N,r),N;c.push(N)}}}o.x=v,o.y=_,o.nStems=u,o.haveWidth=h,o.width=d,o.open=p};var t=e,n={Typr:t};return i.Typr=t,i.default=n,Object.defineProperty(i,"__esModule",{value:!0}),i}({}).Typr},function(){return function(i){var e=Uint8Array,t=Uint16Array,n=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(N,W){for(var q=new t(31),J=0;J<31;++J)q[J]=W+=1<<N[J-1];var V=new n(q[30]);for(J=1;J<30;++J)for(var Y=q[J];Y<q[J+1];++Y)V[Y]=Y-q[J]<<5|J;return[q,V]},l=a(r,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var h=a(o,0)[0],d=new t(32768),p=0;p<32768;++p){var g=(43690&p)>>>1|(21845&p)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,d[p]=((65280&g)>>>8|(255&g)<<8)>>>1}var v=function(N,W,q){for(var J=N.length,V=0,Y=new t(W);V<J;++V)++Y[N[V]-1];var Z,ue=new t(W);for(V=0;V<W;++V)ue[V]=ue[V-1]+Y[V-1]<<1;Z=new t(1<<W);var $=15-W;for(V=0;V<J;++V)if(N[V])for(var ee=V<<4|N[V],oe=W-N[V],ge=ue[N[V]-1]++<<oe,se=ge|(1<<oe)-1;ge<=se;++ge)Z[d[ge]>>>$]=ee;return Z},_=new e(288);for(p=0;p<144;++p)_[p]=8;for(p=144;p<256;++p)_[p]=9;for(p=256;p<280;++p)_[p]=7;for(p=280;p<288;++p)_[p]=8;var b=new e(32);for(p=0;p<32;++p)b[p]=5;var x=v(_,9),C=v(b,5),S=function(N){for(var W=N[0],q=1;q<N.length;++q)N[q]>W&&(W=N[q]);return W},E=function(N,W,q){var J=W/8|0;return(N[J]|N[J+1]<<8)>>(7&W)&q},I=function(N,W){var q=W/8|0;return(N[q]|N[q+1]<<8|N[q+2]<<16)>>(7&W)},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],k=function(N,W,q){var J=new Error(W||M[N]);if(J.code=N,Error.captureStackTrace&&Error.captureStackTrace(J,k),!q)throw J;return J},F=function(N,W,q){var J=N.length;if(!J||q&&!q.l&&J<5)return W||new e(0);var V=!W||q,Y=!q||q.i;q||(q={}),W||(W=new e(3*J));var Z,ue=function(At){var Ut=W.length;if(At>Ut){var Tt=new e(Math.max(2*Ut,At));Tt.set(W),W=Tt}},$=q.f||0,ee=q.p||0,oe=q.b||0,ge=q.l,se=q.d,Ae=q.m,we=q.n,xe=8*J;do{if(!ge){q.f=$=E(N,ee,1);var Be=E(N,ee+1,3);if(ee+=3,!Be){var Re=N[(ae=((Z=ee)/8|0)+(7&Z&&1)+4)-4]|N[ae-3]<<8,ke=ae+Re;if(ke>J){Y&&k(0);break}V&&ue(oe+Re),W.set(N.subarray(ae,ke),oe),q.b=oe+=Re,q.p=ee=8*ke;continue}if(Be==1)ge=x,se=C,Ae=9,we=5;else if(Be==2){var Pe=E(N,ee,31)+257,ve=E(N,ee+10,15)+4,te=Pe+E(N,ee+5,31)+1;ee+=14;for(var H=new e(te),le=new e(19),U=0;U<ve;++U)le[s[U]]=E(N,ee+3*U,7);ee+=3*ve;var z=S(le),j=(1<<z)-1,re=v(le,z);for(U=0;U<te;){var ae,X=re[E(N,ee,j)];if(ee+=15&X,(ae=X>>>4)<16)H[U++]=ae;else{var G=0,ce=0;for(ae==16?(ce=3+E(N,ee,3),ee+=2,G=H[U-1]):ae==17?(ce=3+E(N,ee,7),ee+=3):ae==18&&(ce=11+E(N,ee,127),ee+=7);ce--;)H[U++]=G}}var Te=H.subarray(0,Pe),Ie=H.subarray(Pe);Ae=S(Te),we=S(Ie),ge=v(Te,Ae),se=v(Ie,we)}else k(1);if(ee>xe){Y&&k(0);break}}V&&ue(oe+131072);for(var ye=(1<<Ae)-1,Ue=(1<<we)-1,De=ee;;De=ee){var Ge=(G=ge[I(N,ee)&ye])>>>4;if((ee+=15&G)>xe){Y&&k(0);break}if(G||k(2),Ge<256)W[oe++]=Ge;else{if(Ge==256){De=ee,ge=null;break}var ct=Ge-254;if(Ge>264){var Ve=r[U=Ge-257];ct=E(N,ee,(1<<Ve)-1)+c[U],ee+=Ve}var st=se[I(N,ee)&Ue],rt=st>>>4;if(st||k(3),ee+=15&st,Ie=h[rt],rt>3&&(Ve=o[rt],Ie+=I(N,ee)&(1<<Ve)-1,ee+=Ve),ee>xe){Y&&k(0);break}V&&ue(oe+131072);for(var yt=oe+ct;oe<yt;oe+=4)W[oe]=W[oe-Ie],W[oe+1]=W[oe+1-Ie],W[oe+2]=W[oe+2-Ie],W[oe+3]=W[oe+3-Ie];oe=yt}}q.l=ge,q.p=De,q.b=oe,ge&&($=1,q.m=Ae,q.d=se,q.n=we)}while(!$);return oe==W.length?W:function(At,Ut,Tt){(Tt==null||Tt>At.length)&&(Tt=At.length);var It=new(At instanceof t?t:At instanceof n?n:e)(Tt-0);return It.set(At.subarray(0,Tt)),It}(W,0,oe)},P=new e(0),Q=typeof TextDecoder<"u"&&new TextDecoder;try{Q.decode(P,{stream:!0})}catch{}return i.convert_streams=function(N){var W=new DataView(N),q=0;function J(){var Pe=W.getUint16(q);return q+=2,Pe}function V(){var Pe=W.getUint32(q);return q+=4,Pe}function Y(Pe){Re.setUint16(ke,Pe),ke+=2}function Z(Pe){Re.setUint32(ke,Pe),ke+=4}for(var ue={signature:V(),flavor:V(),length:V(),numTables:J(),reserved:J(),totalSfntSize:V(),majorVersion:J(),minorVersion:J(),metaOffset:V(),metaLength:V(),metaOrigLength:V(),privOffset:V(),privLength:V()},$=0;Math.pow(2,$)<=ue.numTables;)$++;$--;for(var ee=16*Math.pow(2,$),oe=16*ue.numTables-ee,ge=12,se=[],Ae=0;Ae<ue.numTables;Ae++)se.push({tag:V(),offset:V(),compLength:V(),origLength:V(),origChecksum:V()}),ge+=16;var we,xe=new Uint8Array(12+16*se.length+se.reduce(function(Pe,ve){return Pe+ve.origLength+4},0)),Be=xe.buffer,Re=new DataView(Be),ke=0;return Z(ue.flavor),Y(ue.numTables),Y(ee),Y($),Y(oe),se.forEach(function(Pe){Z(Pe.tag),Z(Pe.origChecksum),Z(ge),Z(Pe.origLength),Pe.outOffset=ge,(ge+=Pe.origLength)%4!=0&&(ge+=4-ge%4)}),se.forEach(function(Pe){var ve,te=N.slice(Pe.offset,Pe.offset+Pe.compLength);if(Pe.compLength!=Pe.origLength){var H=new Uint8Array(Pe.origLength);ve=new Uint8Array(te,2),F(ve,H)}else H=new Uint8Array(te);xe.set(H,Pe.outOffset);var le=0;(ge=Pe.outOffset+Pe.origLength)%4!=0&&(le=4-ge%4),xe.set(new Uint8Array(le).buffer,Pe.outOffset+Pe.origLength),we=ge+le}),Be.slice(0,we)},Object.defineProperty(i,"__esModule",{value:!0}),i}({}).convert_streams},function(i,e){const t={M:2,L:2,Q:4,C:6,Z:0},n={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"};let r;function o(h){if(!r){const d={R:2,L:1,D:4,C:16,U:32,T:8};r=new Map;for(let p in n){let g=0;n[p].split(",").forEach(v=>{let[_,b]=v.split("+");_=parseInt(_,36),b=b?parseInt(b,36):0,r.set(g+=_,d[p]);for(let x=b;x--;)r.set(++g,d[p])})}}return r.get(h)||32}const s=[null,"isol","init","fina","medi"];function a(h){const d=new Uint8Array(h.length);let p=32,g=1,v=-1;for(let _=0;_<h.length;_++){const b=h.codePointAt(_);let x=0|o(b),C=1;8&x||(21&p?22&x?(C=3,g!==1&&g!==3||d[v]++):33&x&&(g!==2&&g!==4||d[v]--):34&p&&(g!==2&&g!==4||d[v]--),g=d[_]=C,p=x,v=_,b>65535&&_++)}return d}function l(h,d){const p=h.GDEF&&h.GDEF.glyphClassDef;return p?i.U._getGlyphClass(d,p):0}function c(...h){for(let d=0;d<h.length;d++)if(typeof h[d]=="number")return h[d]}function u(h){const d=Object.create(null),p=h["OS/2"],g=h.hhea,v=h.head.unitsPerEm,_=c(p&&p.sTypoAscender,g&&g.ascender,v),b={unitsPerEm:v,ascender:_,descender:c(p&&p.sTypoDescender,g&&g.descender,0),capHeight:c(p&&p.sCapHeight,_),xHeight:c(p&&p.sxHeight,_),lineGap:c(p&&p.sTypoLineGap,g&&g.lineGap),supportsCodePoint:x=>i.U.codeToGlyph(h,x)>0,forEachGlyph(x,C,S,E){let I=0;const M=1/b.unitsPerEm*C,k=function(Q,N){const W=[];for(let J=0;J<N.length;J++){const V=N.codePointAt(J);V>65535&&J++,W.push(i.U.codeToGlyph(Q,V))}const q=Q.GSUB;if(q){const{lookupList:J,featureList:V}=q;let Y;const Z=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,ue=[];V.forEach($=>{if(Z.test($.tag))for(let ee=0;ee<$.tab.length;ee++){if(ue[$.tab[ee]])continue;ue[$.tab[ee]]=!0;const oe=J[$.tab[ee]],ge=/^(isol|init|fina|medi)$/.test($.tag);ge&&!Y&&(Y=a(N));for(let se=0;se<W.length;se++)Y&&ge&&s[Y[se]]!==$.tag||i.U._applySubs(W,se,oe,J)}})}return W}(h,x);let F=0;const P=function(Q,N){const W=new Int16Array(3*N.length);let q=0;for(;q<N.length;q++){const Z=N[q];if(Z===-1)continue;W[3*q+2]=Q.hmtx.aWidth[Z];const ue=Q.GPOS;if(ue){const $=ue.lookupList;for(let ee=0;ee<$.length;ee++){const oe=$[ee];for(let ge=0;ge<oe.tabs.length;ge++){const se=oe.tabs[ge];if(oe.ltype===1){if(i._lctf.coverageIndex(se.coverage,Z)!==-1&&se.pos){Y(se.pos,q);break}}else if(oe.ltype===2){let Ae=null,we=J();if(we!==-1){const xe=i._lctf.coverageIndex(se.coverage,N[we]);if(xe!==-1){if(se.fmt===1){const Be=se.pairsets[xe];for(let Re=0;Re<Be.length;Re++)Be[Re].gid2===Z&&(Ae=Be[Re])}else if(se.fmt===2){const Be=i.U._getGlyphClass(N[we],se.classDef1),Re=i.U._getGlyphClass(Z,se.classDef2);Ae=se.matrix[Be][Re]}if(Ae){Ae.val1&&Y(Ae.val1,we),Ae.val2&&Y(Ae.val2,q);break}}}}else if(oe.ltype===4){const Ae=i._lctf.coverageIndex(se.markCoverage,Z);if(Ae!==-1){const we=J(V),xe=we===-1?-1:i._lctf.coverageIndex(se.baseCoverage,N[we]);if(xe!==-1){const Be=se.markArray[Ae],Re=se.baseArray[xe][Be.markClass];W[3*q]=Re.x-Be.x+W[3*we]-W[3*we+2],W[3*q+1]=Re.y-Be.y+W[3*we+1];break}}}else if(oe.ltype===6){const Ae=i._lctf.coverageIndex(se.mark1Coverage,Z);if(Ae!==-1){const we=J();if(we!==-1){const xe=N[we];if(l(Q,xe)===3){const Be=i._lctf.coverageIndex(se.mark2Coverage,xe);if(Be!==-1){const Re=se.mark1Array[Ae],ke=se.mark2Array[Be][Re.markClass];W[3*q]=ke.x-Re.x+W[3*we]-W[3*we+2],W[3*q+1]=ke.y-Re.y+W[3*we+1];break}}}}}}}}else if(Q.kern&&!Q.cff){const $=J();if($!==-1){const ee=Q.kern.glyph1.indexOf(N[$]);if(ee!==-1){const oe=Q.kern.rval[ee].glyph2.indexOf(Z);oe!==-1&&(W[3*$+2]+=Q.kern.rval[ee].vals[oe])}}}}return W;function J(Z){for(let ue=q-1;ue>=0;ue--)if(N[ue]!==-1&&(!Z||Z(N[ue])))return ue;return-1}function V(Z){return l(Q,Z)===1}function Y(Z,ue){for(let $=0;$<3;$++)W[3*ue+$]+=Z[$]||0}}(h,k);return k.forEach((Q,N)=>{if(Q!==-1){let W=d[Q];if(!W){const{cmds:q,crds:J}=i.U.glyphToPath(h,Q);let V,Y,Z,ue,$="",ee=0;for(let oe=0,ge=q.length;oe<ge;oe++){const se=t[q[oe]];$+=q[oe];for(let Ae=1;Ae<=se;Ae++)$+=(Ae>1?",":"")+J[ee++]}if(J.length){V=Y=1/0,Z=ue=-1/0;for(let oe=0,ge=J.length;oe<ge;oe+=2){let se=J[oe],Ae=J[oe+1];se<V&&(V=se),Ae<Y&&(Y=Ae),se>Z&&(Z=se),Ae>ue&&(ue=Ae)}}else V=Z=Y=ue=0;W=d[Q]={index:Q,advanceWidth:h.hmtx.aWidth[Q],xMin:V,yMin:Y,xMax:Z,yMax:ue,path:$}}E.call(null,W,I+P[3*N]*M,P[3*N+1]*M,F),I+=P[3*N+2]*M,S&&(I+=S*C)}F+=x.codePointAt(F)>65535?2:1}),I}};return b}return function(h){const d=new Uint8Array(h,0,4),p=i._bin.readASCII(d,0,4);if(p==="wOFF")h=e(h);else if(p==="wOF2")throw new Error("woff2 fonts not supported");return u(i.parse(h)[0])}}],init:(i,e,t)=>t(i(),e())});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/const VRe=Rw({name:"FontResolver",dependencies:[function(i,e){const t=Object.create(null),n=Object.create(null);function r(o,s){let a=t[o];a?s(a):n[o]?n[o].push(s):(n[o]=[s],function(l,c){const u=h=>{console.error(`Failure loading font ${l}`,h)};try{const h=new XMLHttpRequest;h.open("get",l,!0),h.responseType="arraybuffer",h.onload=function(){if(h.status>=400)u(new Error(h.statusText));else if(h.status>0)try{const d=i(h.response);d.src=l,c(d)}catch(d){u(d)}},h.onerror=u,h.send()}catch(h){u(h)}}(o,l=>{l.src=o,t[o]=l,n[o].forEach(c=>c(l)),delete n[o]}))}return function(o,s,{lang:a,fonts:l=[],style:c="normal",weight:u="normal",unicodeFontsURL:h}={}){const d=new Uint8Array(o.length),p=[];o.length||b();const g=new Map,v=[];if(c!=="italic"&&(c="normal"),typeof u!="number"&&(u=u==="bold"?700:400),l&&!Array.isArray(l)&&(l=[l]),(l=l.slice().filter(C=>!C.lang||C.lang.test(a)).reverse()).length){let E=0;(function I(M=0){for(let k=M,F=o.length;k<F;k++){const P=o.codePointAt(k);if(E===1&&p[d[k-1]].supportsCodePoint(P)||k>0&&/\s/.test(o[k]))d[k]=d[k-1],E===2&&(v[v.length-1][1]=k);else for(let Q=d[k],N=l.length;Q<=N;Q++)if(Q===N)(E===2?v[v.length-1]:v[v.length]=[k,k])[1]=k,E=2;else{d[k]=Q;const{src:W,unicodeRange:q}=l[Q];if(!q||x(P,q)){const J=t[W];if(!J)return void r(W,()=>{I(k)});if(J.supportsCodePoint(P)){let V=g.get(J);typeof V!="number"&&(V=p.length,p.push(J),g.set(J,V)),d[k]=V,E=1;break}}}P>65535&&k+1<F&&(d[k+1]=d[k],k++,E===2&&(v[v.length-1][1]=k))}_()})()}else v.push([0,o.length-1]),_();function _(){if(v.length){const C=v.map(S=>o.substring(S[0],S[1]+1)).join(`
`);e.getFontsForString(C,{lang:a||void 0,style:c,weight:u,dataUrl:h}).then(({fontUrls:S,chars:E})=>{const I=p.length;let M=0;v.forEach(F=>{for(let P=0,Q=F[1]-F[0];P<=Q;P++)d[F[0]+P]=E[M++]+I;M++});let k=0;S.forEach((F,P)=>{r(F,Q=>{p[P+I]=Q,++k===S.length&&b()})})})}else b()}function b(){s({chars:d,fonts:p})}function x(C,S){for(let E=0;E<S.length;E++){const[I,M=I]=S[E];if(I<=C&&C<=M)return!0}return!1}}},GRe,function(){return function(i){var e=function(){this.buckets=new Map};e.prototype.add=function(x){var C=x>>5;this.buckets.set(C,(this.buckets.get(C)||0)|1<<(31&x))},e.prototype.has=function(x){var C=this.buckets.get(x>>5);return C!==void 0&&!!(C&1<<(31&x))},e.prototype.serialize=function(){var x=[];return this.buckets.forEach(function(C,S){x.push((+S).toString(36)+":"+C.toString(36))}),x.join(",")},e.prototype.deserialize=function(x){var C=this;this.buckets.clear(),x.split(",").forEach(function(S){var E=S.split(":");C.buckets.set(parseInt(E[0],36),parseInt(E[1],36))})};var t=Math.pow(2,8),n=t-1,r=~n;function o(x){var C=function(E){return E&r}(x).toString(16),S=function(E){return(E&r)+t-1}(x).toString(16);return"codepoint-index/plane"+(x>>16)+"/"+C+"-"+S+".json"}function s(x,C){var S=x&n,E=C.codePointAt(S/6|0);return!!((E=(E||48)-48)&1<<S%6)}function a(x,C){(function(S,E){var I;(I=S,I.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(M){return M.split("-").map(function(k){return parseInt(k.trim(),16)})})).forEach(function(M){var k=M[0],F=M[1];F===void 0&&(F=k),E(k,F)})})(x,function(S,E){for(var I=S;I<=E;I++)C(I)})}var l={},c={},u=new WeakMap,h="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function d(x){var C=u.get(x);return C||(C=new e,a(x.ranges,function(S){return C.add(S)}),u.set(x,C)),C}var p,g=new Map;function v(x,C,S){return x[C]?C:x[S]?S:function(E){for(var I in E)return I}(x)}function _(x,C){var S=C;if(!x.includes(S)){S=1/0;for(var E=0;E<x.length;E++)Math.abs(x[E]-C)<Math.abs(S-C)&&(S=x[E])}return S}function b(x){return p||(p=new Set,a("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(C){p.add(C)})),p.has(x)}return i.CodePointSet=e,i.clearCache=function(){l={},c={}},i.getFontsForString=function(x,C){C===void 0&&(C={});var S,E=C.lang;E===void 0&&(E=new RegExp("\\p{Script=Hangul}","u").test(S=x)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(S)?"ja":"en");var I=C.category;I===void 0&&(I="sans-serif");var M=C.style;M===void 0&&(M="normal");var k=C.weight;k===void 0&&(k=400);var F=(C.dataUrl||h).replace(/\/$/g,""),P=new Map,Q=new Uint8Array(x.length),N={},W={},q=new Array(x.length),J=new Map,V=!1;function Y($){var ee=g.get($);return ee||(ee=fetch(F+"/"+$).then(function(oe){if(!oe.ok)throw new Error(oe.statusText);return oe.json().then(function(ge){if(!Array.isArray(ge)||ge[0]!==1)throw new Error("Incorrect schema version; need 1, got "+ge[0]);return ge[1]})}).catch(function(oe){if(F!==h)return V||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+F+'", trying default CDN. '+oe.message),V=!0),F=h,g.delete($),Y($);throw oe}),g.set($,ee)),ee}for(var Z=function($){var ee=x.codePointAt($),oe=o(ee);q[$]=oe,l[oe]||J.has(oe)||J.set(oe,Y(oe).then(function(ge){l[oe]=ge})),ee>65535&&($++,ue=$)},ue=0;ue<x.length;ue++)Z(ue);return Promise.all(J.values()).then(function(){J.clear();for(var $=function(oe){var ge=x.codePointAt(oe),se=null,Ae=l[q[oe]],we=void 0;for(var xe in Ae){var Be=W[xe];if(Be===void 0&&(Be=W[xe]=new RegExp(xe).test(E||"en")),Be){for(var Re in we=xe,Ae[xe])if(s(ge,Ae[xe][Re])){se=Re;break}break}}if(!se){e:for(var ke in Ae)if(ke!==we){for(var Pe in Ae[ke])if(s(ge,Ae[ke][Pe])){se=Pe;break e}}}se||(console.debug("No font coverage for U+"+ge.toString(16)),se="latin"),q[oe]=se,c[se]||J.has(se)||J.set(se,Y("font-meta/"+se+".json").then(function(ve){c[se]=ve})),ge>65535&&(oe++,ee=oe)},ee=0;ee<x.length;ee++)$(ee);return Promise.all(J.values())}).then(function(){for(var $,ee=null,oe=0;oe<x.length;oe++){var ge=x.codePointAt(oe);if(ee&&(b(ge)||d(ee).has(ge)))Q[oe]=Q[oe-1];else{ee=c[q[oe]];var se=N[ee.id];if(!se){var Ae=ee.typeforms,we=v(Ae,I,"sans-serif"),xe=v(Ae[we],M,"normal"),Be=_(($=Ae[we])===null||$===void 0?void 0:$[xe],k);se=N[ee.id]=F+"/font-files/"+ee.id+"/"+we+"."+xe+"."+Be+".woff"}var Re=P.get(se);Re==null&&(Re=P.size,P.set(se,Re)),Q[oe]=Re}ge>65535&&(oe++,Q[oe]=Q[oe-1])}return{fontUrls:Array.from(P.keys()),chars:Q}})},Object.defineProperty(i,"__esModule",{value:!0}),i}({})}],init:(i,e,t)=>i(e,t())}),ov=()=>(self.performance||Date).now(),iF=kre();let U$;const PM=[];let gQ=0;function Dre(){const i=ov();for(;PM.length&&ov()-i<5;)PM.shift()();gQ=PM.length?setTimeout(Dre,0):0}const qRe=(...i)=>new Promise((e,t)=>{PM.push(()=>{const n=ov();try{iF.webgl.generateIntoCanvas(...i),e({timing:ov()-n})}catch(r){t(r)}}),gQ||(gQ=setTimeout(Dre,0))}),WRe=4,jRe=2e3,P$={};let KRe=0;function L$(i,e,t,n,r,o,s,a,l,c){const u="TroikaTextSDFGenerator_JS_"+KRe++%WRe;let h=P$[u];return h||(h=P$[u]={workerModule:Rw({name:u,workerId:u,dependencies:[kre,ov],init(d,p){const g=d().javascript.generate;return function(...v){const _=p();return{textureData:g(...v),timing:p()-_}}},getTransferables:d=>[d.textureData.buffer]}),requests:0,idleTimer:null}),h.requests++,clearTimeout(h.idleTimer),h.workerModule(i,e,t,n,r,o).then(({textureData:d,timing:p})=>{const g=ov(),v=new Uint8Array(4*d.length);for(let _=0;_<d.length;_++)v[4*_+c]=d[_];return iF.webglUtils.renderImageData(s,v,a,l,i,e,1<<3-c),p+=ov()-g,--h.requests==0&&(h.idleTimer=setTimeout(()=>{(function(_){lB[_]&&lB[_].forEach(function(b){b()}),aB[_]&&(aB[_].terminate(),delete aB[_])})(u)},jRe)),{timing:p}})}const $Re=iF.webglUtils.resizeWebGLCanvasWithoutClearing,k2={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},XRe=new ut;function Yb(){return(self.performance||Date).now()}const O$=Object.create(null);function Ure(i,e){i=function(h,d){for(let p in d)d.hasOwnProperty(p)&&(h[p]=d[p]);return h}({},i);const t=Yb(),n=[];if(i.font&&n.push({label:"user",src:YRe(i.font)}),i.font=n,i.text=""+i.text,i.sdfGlyphSize=i.sdfGlyphSize||k2.sdfGlyphSize,i.unicodeFontsURL=i.unicodeFontsURL||k2.unicodeFontsURL,i.colorRanges!=null){let h={};for(let d in i.colorRanges)if(i.colorRanges.hasOwnProperty(d)){let p=i.colorRanges[d];typeof p!="number"&&(p=XRe.set(p).getHex()),h[d]=p}i.colorRanges=h}Object.freeze(i);const{textureWidth:r,sdfExponent:o}=k2,{sdfGlyphSize:s}=i,a=r/s*4;let l=O$[s];if(!l){const h=document.createElement("canvas");h.width=r,h.height=256*s/a,l=O$[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:h,sdfTexture:new Rn(h,void 0,void 0,void 0,Ni,Ni),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,function(d){const p=d.sdfCanvas;p.addEventListener("webglcontextlost",g=>{console.log("Context Lost",g),g.preventDefault(),d.contextLost=!0}),p.addEventListener("webglcontextrestored",g=>{console.log("Context Restored",g),d.contextLost=!1;const v=[];d.glyphsByFont.forEach(_=>{_.forEach(b=>{v.push(Q$(b,d,!0))})}),Promise.all(v).then(()=>{N$(d),d.sdfTexture.needsUpdate=!0})})}(l)}const{sdfTexture:c,sdfCanvas:u}=l;Pre(i).then(h=>{const{glyphIds:d,glyphFontIndices:p,fontData:g,glyphPositions:v,fontSize:_,timings:b}=h,x=[],C=new Float32Array(4*d.length);let S=0,E=0;const I=Yb(),M=g.map(N=>{let W=l.glyphsByFont.get(N.src);return W||l.glyphsByFont.set(N.src,W=new Map),W});d.forEach((N,W)=>{const q=p[W],{src:J,unitsPerEm:V}=g[q];let Y=M[q].get(N);if(!Y){const{path:oe,pathBounds:ge}=h.glyphData[J][N],se=Math.max(ge[2]-ge[0],ge[3]-ge[1])/s*(k2.sdfMargin*s+.5),Ae=l.glyphCount++,we=[ge[0]-se,ge[1]-se,ge[2]+se,ge[3]+se];M[q].set(N,Y={path:oe,atlasIndex:Ae,sdfViewBox:we}),x.push(Y)}const{sdfViewBox:Z}=Y,ue=v[E++],$=v[E++],ee=_/V;C[S++]=ue+Z[0]*ee,C[S++]=$+Z[1]*ee,C[S++]=ue+Z[2]*ee,C[S++]=$+Z[3]*ee,d[W]=Y.atlasIndex}),b.quads=(b.quads||0)+(Yb()-I);const k=Yb();b.sdf={};const F=u.height,P=Math.ceil(l.glyphCount/a),Q=Math.pow(2,Math.ceil(Math.log2(P*s)));Q>F&&(console.info(`Increasing SDF texture size ${F}->${Q}`),$Re(u,r,Q),c.dispose()),Promise.all(x.map(N=>Q$(N,l,i.gpuAccelerateSDF).then(({timing:W})=>{b.sdf[N.atlasIndex]=W}))).then(()=>{x.length&&!l.contextLost&&(N$(l),c.needsUpdate=!0),b.sdfTotal=Yb()-k,b.total=Yb()-t,e(Object.freeze({parameters:i,sdfTexture:c,sdfGlyphSize:s,sdfExponent:o,glyphBounds:C,glyphAtlasIndices:d,glyphColors:h.glyphColors,caretPositions:h.caretPositions,chunkedBounds:h.chunkedBounds,ascender:h.ascender,descender:h.descender,lineHeight:h.lineHeight,capHeight:h.capHeight,xHeight:h.xHeight,topBaseline:h.topBaseline,blockBounds:h.blockBounds,visibleBounds:h.visibleBounds,timings:h.timings}))})}),Promise.resolve().then(()=>{var h;l.contextLost||(h=u)._warm||(iF.webgl.isSupported(h),h._warm=!0)})}function Q$({path:i,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:n,sdfCanvas:r,contextLost:o},s){if(o)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=k2,c=Math.max(t[2]-t[0],t[3]-t[1]),u=Math.floor(e/4);return function(h,d,p,g,v,_,b,x,C,S,E=!0){return E?qRe(h,d,p,g,v,_,b,x,C,S).then(null,I=>(U$||(console.warn("WebGL SDF generation failed, falling back to JS",I),U$=!0),L$(h,d,p,g,v,_,b,x,C,S))):L$(h,d,p,g,v,_,b,x,C,S)}(n,n,i,t,c,l,r,u%(a/n)*n,Math.floor(u/(a/n))*n,e%4,s)}let QI;function YRe(i){return QI||(QI=typeof document>"u"?{}:document.createElement("a")),QI.href=i,QI.href}function N$(i){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=i,{width:n,height:r}=e,o=i.sdfCanvas.getContext("webgl");let s=t.image.data;s&&s.length===n*r*4||(s=new Uint8Array(n*r*4),t.image={width:n,height:r,data:s},t.flipY=!1,t.isDataTexture=!0),o.readPixels(0,0,n,r,o.RGBA,o.UNSIGNED_BYTE,s)}}const ZRe=Rw({name:"Typesetter",dependencies:[function(i,e){const n=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",o=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function s({text:d="",font:p,lang:g,sdfGlyphSize:v=64,fontSize:_=400,fontWeight:b=1,fontStyle:x="normal",letterSpacing:C=0,lineHeight:S="normal",maxWidth:E=1/0,direction:I,textAlign:M="left",textIndent:k=0,whiteSpace:F="normal",overflowWrap:P="normal",anchorX:Q=0,anchorY:N=0,metricsOnly:W=!1,unicodeFontsURL:q,preResolvedFonts:J=null,includeCaretPositions:V=!1,chunkedBoundsSize:Y=8192,colorRanges:Z=null},ue){const $=c(),ee={fontLoad:0,typesetting:0};d.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),d=d.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),_=+_,C=+C,E=+E,S=S||"normal",k=+k,function({text:oe,lang:ge,fonts:se,style:Ae,weight:we,preResolvedFonts:xe,unicodeFontsURL:Be},Re){const ke=({chars:Pe,fonts:ve})=>{let te,H;const le=[];for(let U=0;U<Pe.length;U++)Pe[U]!==H?(H=Pe[U],le.push(te={start:U,end:U,fontObj:ve[Pe[U]]})):te.end=U;Re(le)};xe?ke(xe):i(oe,ke,{lang:ge,fonts:se,style:Ae,weight:we,unicodeFontsURL:Be})}({text:d,lang:g,style:x,weight:b,fonts:typeof p=="string"?[{src:p}]:p,unicodeFontsURL:q,preResolvedFonts:J},oe=>{ee.fontLoad=c()-$;const ge=isFinite(E);let se=null,Ae=null,we=null,xe=null,Be=null,Re=null,ke=null,Pe=null,ve=0,te=0,H=F!=="nowrap";const le=new Map,U=c();let z=k,j=0,re=new u;const ae=[re];oe.forEach(Ie=>{const{fontObj:ye}=Ie,{ascender:Ue,descender:De,unitsPerEm:Ge,lineGap:ct,capHeight:Ve,xHeight:st}=ye;let rt=le.get(ye);if(!rt){const It=_/Ge,Ee=S==="normal"?(Ue-De+ct)*It:S*_,pt=(Ee-(Ue-De)*It)/2,Ne=Math.min(Ee,(Ue-De)*It),je=(Ue+De)/2*It+Ne/2;rt={index:le.size,src:ye.src,fontObj:ye,fontSizeMult:It,unitsPerEm:Ge,ascender:Ue*It,descender:De*It,capHeight:Ve*It,xHeight:st*It,lineHeight:Ee,baseline:-pt-Ue*It,caretTop:je,caretBottom:je-Ne},le.set(ye,rt)}const{fontSizeMult:yt}=rt,At=d.slice(Ie.start,Ie.end+1);let Ut,Tt;ye.forEachGlyph(At,_,C,(It,Ee,pt,Ne)=>{Ee+=j,Ne+=Ie.start,Ut=Ee,Tt=It;const je=d.charAt(Ne),ft=It.advanceWidth*yt,dt=re.count;let mt;if("isEmpty"in It||(It.isWhitespace=!!je&&new RegExp(r).test(je),It.canBreakAfter=!!je&&o.test(je),It.isEmpty=It.xMin===It.xMax||It.yMin===It.yMax||n.test(je)),It.isWhitespace||It.isEmpty||te++,H&&ge&&!It.isWhitespace&&Ee+ft+z>E&&dt){if(re.glyphAt(dt-1).glyphObj.canBreakAfter)mt=new u,z=-Ee;else for(let gi=dt;gi--;){if(gi===0&&P==="break-word"){mt=new u,z=-Ee;break}if(re.glyphAt(gi).glyphObj.canBreakAfter){mt=re.splitAt(gi+1);const $t=mt.glyphAt(0).x;z-=$t;for(let Bi=mt.count;Bi--;)mt.glyphAt(Bi).x-=$t;break}}mt&&(re.isSoftWrapped=!0,re=mt,ae.push(re),ve=E)}let zt=re.glyphAt(re.count);zt.glyphObj=It,zt.x=Ee+z,zt.y=pt,zt.width=ft,zt.charIndex=Ne,zt.fontData=rt,je===`
`&&(re=new u,ae.push(re),z=-(Ee+ft+C*_)+k)}),j=Ut+Tt.advanceWidth*yt+C*_});let X=0;ae.forEach(Ie=>{let ye=!0;for(let Ue=Ie.count;Ue--;){const De=Ie.glyphAt(Ue);ye&&!De.glyphObj.isWhitespace&&(Ie.width=De.x+De.width,Ie.width>ve&&(ve=Ie.width),ye=!1);let{lineHeight:Ge,capHeight:ct,xHeight:Ve,baseline:st}=De.fontData;Ge>Ie.lineHeight&&(Ie.lineHeight=Ge);const rt=st-Ie.baseline;rt<0&&(Ie.baseline+=rt,Ie.cap+=rt,Ie.ex+=rt),Ie.cap=Math.max(Ie.cap,Ie.baseline+ct),Ie.ex=Math.max(Ie.ex,Ie.baseline+Ve)}Ie.baseline-=X,Ie.cap-=X,Ie.ex-=X,X+=Ie.lineHeight});let G=0,ce=0;if(Q&&(typeof Q=="number"?G=-Q:typeof Q=="string"&&(G=-ve*(Q==="left"?0:Q==="center"?.5:Q==="right"?1:a(Q)))),N&&(typeof N=="number"?ce=-N:typeof N=="string"&&(ce=N==="top"?0:N==="top-baseline"?-ae[0].baseline:N==="top-cap"?-ae[0].cap:N==="top-ex"?-ae[0].ex:N==="middle"?X/2:N==="bottom"?X:N==="bottom-baseline"?-ae[ae.length-1].baseline:a(N)*X)),!W){const Ie=e.getEmbeddingLevels(d,I);se=new Uint16Array(te),Ae=new Uint8Array(te),we=new Float32Array(2*te),xe={},ke=[1/0,1/0,-1/0,-1/0],Pe=[],V&&(Re=new Float32Array(4*d.length)),Z&&(Be=new Uint8Array(3*te));let ye,Ue,De=0,Ge=-1,ct=-1;if(ae.forEach((Ve,st)=>{let{count:rt,width:yt}=Ve;if(rt>0){let At=0;for(let Ne=rt;Ne--&&Ve.glyphAt(Ne).glyphObj.isWhitespace;)At++;let Ut=0,Tt=0;if(M==="center")Ut=(ve-yt)/2;else if(M==="right")Ut=ve-yt;else if(M==="justify"&&Ve.isSoftWrapped){let Ne=0;for(let je=rt-At;je--;)Ve.glyphAt(je).glyphObj.isWhitespace&&Ne++;Tt=(ve-yt)/Ne}if(Tt||Ut){let Ne=0;for(let je=0;je<rt;je++){let ft=Ve.glyphAt(je);const dt=ft.glyphObj;ft.x+=Ut+Ne,Tt!==0&&dt.isWhitespace&&je<rt-At&&(Ne+=Tt,ft.width+=Tt)}}const It=e.getReorderSegments(d,Ie,Ve.glyphAt(0).charIndex,Ve.glyphAt(Ve.count-1).charIndex);for(let Ne=0;Ne<It.length;Ne++){const[je,ft]=It[Ne];let dt=1/0,mt=-1/0;for(let zt=0;zt<rt;zt++)if(Ve.glyphAt(zt).charIndex>=je){let gi=zt,$t=zt;for(;$t<rt;$t++){let Bi=Ve.glyphAt($t);if(Bi.charIndex>ft)break;$t<rt-At&&(dt=Math.min(dt,Bi.x),mt=Math.max(mt,Bi.x+Bi.width))}for(let Bi=gi;Bi<$t;Bi++){const Di=Ve.glyphAt(Bi);Di.x=mt-(Di.x+Di.width-dt)}break}}let Ee;const pt=Ne=>Ee=Ne;for(let Ne=0;Ne<rt;Ne++){const je=Ve.glyphAt(Ne);Ee=je.glyphObj;const ft=Ee.index,dt=1&Ie.levels[je.charIndex];if(dt){const mt=e.getMirroredCharacter(d[je.charIndex]);mt&&je.fontData.fontObj.forEachGlyph(mt,0,0,pt)}if(V){const{charIndex:mt,fontData:zt}=je,gi=je.x+G,$t=je.x+je.width+G;Re[4*mt]=dt?$t:gi,Re[4*mt+1]=dt?gi:$t,Re[4*mt+2]=Ve.baseline+zt.caretBottom+ce,Re[4*mt+3]=Ve.baseline+zt.caretTop+ce;const Bi=mt-Ge;Bi>1&&l(Re,Ge,Bi),Ge=mt}if(Z){const{charIndex:mt}=je;for(;mt>ct;)ct++,Z.hasOwnProperty(ct)&&(Ue=Z[ct])}if(!Ee.isWhitespace&&!Ee.isEmpty){const mt=De++,{fontSizeMult:zt,src:gi,index:$t}=je.fontData,Bi=xe[gi]||(xe[gi]={});Bi[ft]||(Bi[ft]={path:Ee.path,pathBounds:[Ee.xMin,Ee.yMin,Ee.xMax,Ee.yMax]});const Di=je.x+G,sn=je.y+Ve.baseline+ce;we[2*mt]=Di,we[2*mt+1]=sn;const ci=Di+Ee.xMin*zt,er=sn+Ee.yMin*zt,xo=Di+Ee.xMax*zt,Ml=sn+Ee.yMax*zt;ci<ke[0]&&(ke[0]=ci),er<ke[1]&&(ke[1]=er),xo>ke[2]&&(ke[2]=xo),Ml>ke[3]&&(ke[3]=Ml),mt%Y==0&&(ye={start:mt,end:mt,rect:[1/0,1/0,-1/0,-1/0]},Pe.push(ye)),ye.end++;const No=ye.rect;if(ci<No[0]&&(No[0]=ci),er<No[1]&&(No[1]=er),xo>No[2]&&(No[2]=xo),Ml>No[3]&&(No[3]=Ml),se[mt]=ft,Ae[mt]=$t,Z){const as=3*mt;Be[as]=Ue>>16&255,Be[as+1]=Ue>>8&255,Be[as+2]=255&Ue}}}}}),Re){const Ve=d.length-Ge;Ve>1&&l(Re,Ge,Ve)}}const Te=[];le.forEach(({index:Ie,src:ye,unitsPerEm:Ue,ascender:De,descender:Ge,lineHeight:ct,capHeight:Ve,xHeight:st})=>{Te[Ie]={src:ye,unitsPerEm:Ue,ascender:De,descender:Ge,lineHeight:ct,capHeight:Ve,xHeight:st}}),ee.typesetting=c()-U,ue({glyphIds:se,glyphFontIndices:Ae,glyphPositions:we,glyphData:xe,fontData:Te,caretPositions:Re,glyphColors:Be,chunkedBounds:Pe,fontSize:_,topBaseline:ce+ae[0].baseline,blockBounds:[G,ce-X,G+ve,ce],visibleBounds:ke,timings:ee})})}function a(d){let p=d.match(/^([\d.]+)%$/),g=p?parseFloat(p[1]):NaN;return isNaN(g)?0:g/100}function l(d,p,g){const v=d[4*p],_=d[4*p+1],b=d[4*p+2],x=d[4*p+3],C=(_-v)/g;for(let S=0;S<g;S++){const E=4*(p+S);d[E]=v+C*S,d[E+1]=v+C*(S+1),d[E+2]=b,d[E+3]=x}}function c(){return(self.performance||Date).now()}function u(){this.data=[]}const h=["glyphObj","x","y","width","charIndex","fontData"];return u.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/h.length)},glyphAt(d){let p=u.flyweight;return p.data=this.data,p.index=d,p},splitAt(d){let p=new u;return p.data=this.data.splice(d*h.length),p}},u.flyweight=h.reduce((d,p,g,v)=>(Object.defineProperty(d,p,{get(){return this.data[this.index*h.length+g]},set(_){this.data[this.index*h.length+g]=_}}),d),{data:null,index:0}),{typeset:s,measure:function(d,p){s({...d,metricsOnly:!0},g=>{const[v,_,b,x]=g.blockBounds;p({width:b-v,height:x-_})})}}},VRe,function(){var i=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},r={};n.L=1,r[1]="L",Object.keys(t).forEach(function(ve,te){n[ve]=1<<te+1,r[n[ve]]=ve}),Object.freeze(n);var o=n.LRI|n.RLI|n.FSI,s=n.L|n.R|n.AL,a=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,l=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,c=n.S|n.WS|n.B|o|n.PDI|l,u=null;function h(ve){return function(){if(!u){u=new Map;var te=function(le){if(t.hasOwnProperty(le)){var U=0;t[le].split(",").forEach(function(z){var j=z.split("+"),re=j[0],ae=j[1];re=parseInt(re,36),ae=ae?parseInt(ae,36):0,u.set(U+=re,n[le]);for(var X=0;X<ae;X++)u.set(++U,n[le])})}};for(var H in t)te(H)}}(),u.get(ve.codePointAt(0))||n.L}var d,p,g,v="14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",_="6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye";function b(ve,te){var H,le=0,U=new Map,z=te&&new Map;return ve.split(",").forEach(function j(re){if(re.indexOf("+")!==-1)for(var ae=+re;ae--;)j(H);else{H=re;var X=re.split(">"),G=X[0],ce=X[1];G=String.fromCodePoint(le+=parseInt(G,36)),ce=String.fromCodePoint(le+=parseInt(ce,36)),U.set(G,ce),te&&z.set(ce,G)}}),{map:U,reverseMap:z}}function x(){if(!d){var ve=b(v,!0),te=ve.map,H=ve.reverseMap;d=te,p=H,g=b(_,!1).map}}function C(ve){return x(),d.get(ve)||null}function S(ve){return x(),p.get(ve)||null}function E(ve){return x(),g.get(ve)||null}var I=n.L,M=n.R,k=n.EN,F=n.ES,P=n.ET,Q=n.AN,N=n.CS,W=n.B,q=n.S,J=n.ON,V=n.BN,Y=n.NSM,Z=n.AL,ue=n.LRO,$=n.RLO,ee=n.LRE,oe=n.RLE,ge=n.PDF,se=n.LRI,Ae=n.RLI,we=n.FSI,xe=n.PDI,Be;function Re(ve){return function(){if(!Be){var te=b("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),H=te.map;te.reverseMap.forEach(function(le,U){H.set(U,le)}),Be=H}}(),Be.get(ve)||null}function ke(ve,te,H,le){var U=ve.length;H=Math.max(0,H==null?0:+H),le=Math.min(U-1,le==null?U-1:+le);var z=[];return te.paragraphs.forEach(function(j){var re=Math.max(H,j.start),ae=Math.min(le,j.end);if(re<ae){for(var X=te.levels.slice(re,ae+1),G=ae;G>=re&&h(ve[G])&c;G--)X[G]=j.level;for(var ce=j.level,Te=1/0,Ie=0;Ie<X.length;Ie++){var ye=X[Ie];ye>ce&&(ce=ye),ye<Te&&(Te=1|ye)}for(var Ue=ce;Ue>=Te;Ue--)for(var De=0;De<X.length;De++)if(X[De]>=Ue){for(var Ge=De;De+1<X.length&&X[De+1]>=Ue;)De++;De>Ge&&z.push([Ge+re,De+re])}}}),z}function Pe(ve,te,H,le){for(var U=ke(ve,te,H,le),z=[],j=0;j<ve.length;j++)z[j]=j;return U.forEach(function(re){for(var ae=re[0],X=re[1],G=z.slice(ae,X+1),ce=G.length;ce--;)z[X-ce]=G[ce]}),z}return e.closingToOpeningBracket=S,e.getBidiCharType=h,e.getBidiCharTypeName=function(ve){return r[h(ve)]},e.getCanonicalBracket=E,e.getEmbeddingLevels=function(ve,te){for(var H=new Uint32Array(ve.length),le=0;le<ve.length;le++)H[le]=h(ve[le]);var U=new Map;function z(So,Go){var Eo=H[So];H[So]=Go,U.set(Eo,U.get(Eo)-1),Eo&a&&U.set(a,U.get(a)-1),U.set(Go,(U.get(Go)||0)+1),Go&a&&U.set(a,(U.get(a)||0)+1)}for(var j=new Uint8Array(ve.length),re=new Map,ae=[],X=null,G=0;G<ve.length;G++)X||ae.push(X={start:G,end:ve.length-1,level:te==="rtl"?1:te==="ltr"?0:Xu(G,!1)}),H[G]&W&&(X.end=G,X=null);for(var ce=oe|ee|$|ue|o|xe|ge|W,Te=function(So){return So+(1&So?1:2)},Ie=function(So){return So+(1&So?2:1)},ye=0;ye<ae.length;ye++){var Ue=[{_level:(X=ae[ye]).level,_override:0,_isolate:0}],De=void 0,Ge=0,ct=0,Ve=0;U.clear();for(var st=X.start;st<=X.end;st++){var rt=H[st];if(De=Ue[Ue.length-1],U.set(rt,(U.get(rt)||0)+1),rt&a&&U.set(a,(U.get(a)||0)+1),rt&ce)if(rt&(oe|ee)){j[st]=De._level;var yt=(rt===oe?Ie:Te)(De._level);yt<=125&&!Ge&&!ct?Ue.push({_level:yt,_override:0,_isolate:0}):Ge||ct++}else if(rt&($|ue)){j[st]=De._level;var At=(rt===$?Ie:Te)(De._level);At<=125&&!Ge&&!ct?Ue.push({_level:At,_override:rt&$?M:I,_isolate:0}):Ge||ct++}else if(rt&o){rt&we&&(rt=Xu(st+1,!0)===1?Ae:se),j[st]=De._level,De._override&&z(st,De._override);var Ut=(rt===Ae?Ie:Te)(De._level);Ut<=125&&Ge===0&&ct===0?(Ve++,Ue.push({_level:Ut,_override:0,_isolate:1,_isolInitIndex:st})):Ge++}else if(rt&xe){if(Ge>0)Ge--;else if(Ve>0){for(ct=0;!Ue[Ue.length-1]._isolate;)Ue.pop();var Tt=Ue[Ue.length-1]._isolInitIndex;Tt!=null&&(re.set(Tt,st),re.set(st,Tt)),Ue.pop(),Ve--}De=Ue[Ue.length-1],j[st]=De._level,De._override&&z(st,De._override)}else rt&ge?(Ge===0&&(ct>0?ct--:!De._isolate&&Ue.length>1&&(Ue.pop(),De=Ue[Ue.length-1])),j[st]=De._level):rt&W&&(j[st]=X.level);else j[st]=De._level,De._override&&rt!==V&&z(st,De._override)}for(var It=[],Ee=null,pt=X.start;pt<=X.end;pt++){var Ne=H[pt];if(!(Ne&l)){var je=j[pt],ft=Ne&o,dt=Ne===xe;Ee&&je===Ee._level?(Ee._end=pt,Ee._endsWithIsolInit=ft):It.push(Ee={_start:pt,_end:pt,_level:je,_startsWithPDI:dt,_endsWithIsolInit:ft})}}for(var mt=[],zt=0;zt<It.length;zt++){var gi=It[zt];if(!gi._startsWithPDI||gi._startsWithPDI&&!re.has(gi._start)){for(var $t=[Ee=gi],Bi=void 0;Ee&&Ee._endsWithIsolInit&&(Bi=re.get(Ee._end))!=null;)for(var Di=zt+1;Di<It.length;Di++)if(It[Di]._start===Bi){$t.push(Ee=It[Di]);break}for(var sn=[],ci=0;ci<$t.length;ci++)for(var er=$t[ci],xo=er._start;xo<=er._end;xo++)sn.push(xo);for(var Ml=j[sn[0]],No=X.level,as=sn[0]-1;as>=0;as--)if(!(H[as]&l)){No=j[as];break}var oa=sn[sn.length-1],Rl=j[oa],sa=X.level;if(!(H[oa]&o)){for(var kn=oa+1;kn<=X.end;kn++)if(!(H[kn]&l)){sa=j[kn];break}}mt.push({_seqIndices:sn,_sosType:Math.max(No,Ml)%2?M:I,_eosType:Math.max(sa,Rl)%2?M:I})}}for(var dn=0;dn<mt.length;dn++){var ls=mt[dn],wt=ls._seqIndices,kl=ls._sosType,aa=ls._eosType,so=1&j[wt[0]]?M:I;if(U.get(Y))for(var pe=0;pe<wt.length;pe++){var Le=wt[pe];if(H[Le]&Y){for(var We=kl,Ke=pe-1;Ke>=0;Ke--)if(!(H[wt[Ke]]&l)){We=H[wt[Ke]];break}z(Le,We&(o|xe)?J:We)}}if(U.get(k))for(var Oe=0;Oe<wt.length;Oe++){var ht=wt[Oe];if(H[ht]&k)for(var _t=Oe-1;_t>=-1;_t--){var xt=_t===-1?kl:H[wt[_t]];if(xt&s){xt===Z&&z(ht,Q);break}}}if(U.get(Z))for(var Mt=0;Mt<wt.length;Mt++){var Wt=wt[Mt];H[Wt]&Z&&z(Wt,M)}if(U.get(F)||U.get(N))for(var Gt=1;Gt<wt.length-1;Gt++){var Ht=wt[Gt];if(H[Ht]&(F|N)){for(var mi=0,$i=0,_n=Gt-1;_n>=0&&(mi=H[wt[_n]])&l;_n--);for(var Ei=Gt+1;Ei<wt.length&&($i=H[wt[Ei]])&l;Ei++);mi===$i&&(H[Ht]===F?mi===k:mi&(k|Q))&&z(Ht,mi)}}if(U.get(k))for(var si=0;si<wt.length;si++){var Vt=wt[si];if(H[Vt]&k){for(var xn=si-1;xn>=0&&H[wt[xn]]&(P|l);xn--)z(wt[xn],k);for(si++;si<wt.length&&H[wt[si]]&(P|l|k);si++)H[wt[si]]!==k&&z(wt[si],k)}}if(U.get(P)||U.get(F)||U.get(N))for(var Ti=0;Ti<wt.length;Ti++){var ao=wt[Ti];if(H[ao]&(P|F|N)){z(ao,J);for(var la=Ti-1;la>=0&&H[wt[la]]&l;la--)z(wt[la],J);for(var Xi=Ti+1;Xi<wt.length&&H[wt[Xi]]&l;Xi++)z(wt[Xi],J)}}if(U.get(k))for(var ca=0,an=kl;ca<wt.length;ca++){var Sr=wt[ca],tr=H[Sr];tr&k?an===I&&z(Sr,I):tr&s&&(an=tr)}if(U.get(a)){for(var Qn=M|k|Q,Or=Qn|I,cs=[],Ho=[],Hc=0;Hc<wt.length;Hc++)if(H[wt[Hc]]&a){var zc=ve[wt[Hc]],KA=void 0;if(C(zc)!==null){if(!(Ho.length<63))break;Ho.push({char:zc,seqIndex:Hc})}else if((KA=S(zc))!==null)for(var qh=Ho.length-1;qh>=0;qh--){var $A=Ho[qh].char;if($A===KA||$A===S(E(zc))||C(E($A))===zc){cs.push([Ho[qh].seqIndex,Hc]),Ho.length=qh;break}}}cs.sort(function(So,Go){return So[0]-Go[0]});for(var Gu=0;Gu<cs.length;Gu++){for(var XA=cs[Gu],Vu=XA[0],Fl=XA[1],Gc=!1,ua=0,YA=Vu+1;YA<Fl;YA++){var zg=wt[YA];if(H[zg]&Or){Gc=!0;var qu=H[zg]&Qn?M:I;if(qu===so){ua=qu;break}}}if(Gc&&!ua){ua=kl;for(var zo=Vu-1;zo>=0;zo--){var Wh=wt[zo];if(H[Wh]&Or){var ac=H[Wh]&Qn?M:I;ua=ac!==so?ac:so;break}}}if(ua){if(H[wt[Vu]]=H[wt[Fl]]=ua,ua!==so){for(var Ls=Vu+1;Ls<wt.length;Ls++)if(!(H[wt[Ls]]&l)){h(ve[wt[Ls]])&Y&&(H[wt[Ls]]=ua);break}}if(ua!==so){for(var Vc=Fl+1;Vc<wt.length;Vc++)if(!(H[wt[Vc]]&l)){h(ve[wt[Vc]])&Y&&(H[wt[Vc]]=ua);break}}}}for(var Os=0;Os<wt.length;Os++)if(H[wt[Os]]&a){for(var Lp=Os,Wu=Os,ha=kl,lc=Os-1;lc>=0;lc--){if(!(H[wt[lc]]&l)){ha=H[wt[lc]]&Qn?M:I;break}Lp=lc}for(var Co=aa,Qs=Os+1;Qs<wt.length;Qs++){if(!(H[wt[Qs]]&(a|l))){Co=H[wt[Qs]]&Qn?M:I;break}Wu=Qs}for(var ju=Lp;ju<=Wu;ju++)H[wt[ju]]=ha===Co?ha:so;Os=Wu}}}for(var Yr=X.start;Yr<=X.end;Yr++){var Bo=j[Yr],Ku=H[Yr];if(1&Bo?Ku&(I|k|Q)&&j[Yr]++:Ku&M?j[Yr]++:Ku&(Q|k)&&(j[Yr]+=2),Ku&l&&(j[Yr]=Yr===0?X.level:j[Yr-1]),Yr===X.end||h(ve[Yr])&(q|W))for(var $u=Yr;$u>=0&&h(ve[$u])&c;$u--)j[$u]=X.level}}return{levels:j,paragraphs:ae};function Xu(So,Go){for(var Eo=So;Eo<ve.length;Eo++){var cc=H[Eo];if(cc&(M|Z))return 1;if(cc&(W|I)||Go&&cc===xe)return 0;if(cc&o){var JA=ZA(Eo);Eo=JA===-1?ve.length:JA}}return 0}function ZA(So){for(var Go=1,Eo=So+1;Eo<ve.length;Eo++){var cc=H[Eo];if(cc&W)break;if(cc&xe){if(--Go==0)return Eo}else cc&o&&Go++}return-1}},e.getMirroredCharacter=Re,e.getMirroredCharactersMap=function(ve,te,H,le){var U=ve.length;H=Math.max(0,H==null?0:+H),le=Math.min(U-1,le==null?U-1:+le);for(var z=new Map,j=H;j<=le;j++)if(1&te[j]){var re=Re(ve[j]);re!==null&&z.set(j,re)}return z},e.getReorderSegments=ke,e.getReorderedIndices=Pe,e.getReorderedString=function(ve,te,H,le){var U=Pe(ve,te,H,le),z=[].concat(ve);return U.forEach(function(j,re){z[re]=(1&te.levels[j]?Re(ve[j]):null)||ve[j]}),z.join("")},e.openingToClosingBracket=C,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return i}],init:(i,e,t)=>i(e,t())}),Pre=Rw({name:"Typesetter",dependencies:[ZRe],init:i=>function(e){return new Promise(t=>{i.typeset(e,t)})},getTransferables(i){const e=[];for(let t in i)i[t]&&i[t].buffer&&e.push(i[t].buffer);return e}});Pre.onMainThread;const H$={},z$="aTroikaGlyphIndex";class JRe extends JQ{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Oo,this.boundingBox=new vr}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=function(n){let r=H$[n];return r||(r=H$[n]=new sc(1,1,n,n).translate(.5,.5,0)),r}(e);["position","normal","uv"].forEach(n=>{this.attributes[n]=t.attributes[n].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,n,r,o){this.updateAttributeData("aTroikaGlyphBounds",e,4),this.updateAttributeData(z$,t,1),this.updateAttributeData("aTroikaGlyphColor",o,3),this._blockBounds=n,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:n}=this;if(t){const{PI:r,floor:o,min:s,max:a,sin:l,cos:c}=Math,u=r/2,h=2*r,d=Math.abs(t),p=e[0]/d,g=e[2]/d,v=o((p+u)/h)!==o((g+u)/h)?-d:s(l(p)*d,l(g)*d),_=o((p-u)/h)!==o((g-u)/h)?d:a(l(p)*d,l(g)*d),b=o((p+r)/h)!==o((g+r)/h)?2*d:a(d-c(p)*d,d-c(g)*d);n.min.set(v,e[1],t<0?-b:0),n.max.set(_,e[3],t<0?0:b)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(z$).count,n=this._chunkedBounds;if(n)for(let r=n.length;r--;){t=n[r].end;let o=n[r].rect;if(o[1]<e.w&&o[3]>e.y&&o[0]<e.z&&o[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,n){const r=this.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(this.setAttribute(e,new wg(t,n)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}}const yH=new ns({color:16777215,side:vo,transparent:!0}),G$=8421504,V$=new St,NI=new he,pL=new he,o2=[],eke=new he,fL="+x+y";function q$(i){return Array.isArray(i)?i[0]:i}let Lre=()=>{const i=new Fi(new sc(1,1),yH);return Lre=()=>i,i},Ore=()=>{const i=new Fi(new sc(1,1,32,1),yH);return Ore=()=>i,i};const tke={type:"syncstart"},ike={type:"synccomplete"},Qre=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],nke=Qre.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Nre=class extends Fi{constructor(){super(new JRe,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=G$,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=fL,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(i){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(i):(this._isSyncing=!0,this.dispatchEvent(tke),Ure({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},e=>{this._isSyncing=!1,this._textRenderInfo=e,this.geometry.updateGlyphs(e.glyphBounds,e.glyphAtlasIndices,e.blockBounds,e.chunkedBounds,e.glyphColors);const t=this._queuedSyncs;t&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{t.forEach(n=>n&&n())})),this.dispatchEvent(ike),i&&i()})))}onBeforeRender(i,e,t,n,r,o){this.sync(),r.isTroikaTextMaterial&&this._prepareForRender(r)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(i){return function(e){const t=fQ(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new et},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Wi(0,0,0,0)},uTroikaClipRect:{value:new Wi(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new et},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new ut},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new pi},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,vertexTransform:`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,fragmentDefs:`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,fragmentColorTransform:`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`,customRewriter({vertexShader:n,fragmentShader:r}){let o=/\buniform\s+vec3\s+diffuse\b/;return o.test(r)&&(r=r.replace(o,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),o.test(n)||(n=n.replace(Fre,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return t.transparent=!0,t.forceSinglePass=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}(i)}get material(){let i=this._derivedMaterial;const e=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=yH.clone());if(i&&i.isDerivedFrom(e)||(i=this._derivedMaterial=this.createDerivedMaterial(e),e.addEventListener("dispose",function t(){e.removeEventListener("dispose",t),i.dispose()})),this.hasOutline()){let t=i._outlineMtl;return t||(t=i._outlineMtl=Object.create(i,{id:{value:i.id+.1}}),t.isTextOutlineMaterial=!0,t.depthWrite=!1,t.map=null,i.addEventListener("dispose",function n(){i.removeEventListener("dispose",n),t.dispose()})),[t,i]}return i}set material(i){i&&i.isTroikaTextMaterial?(this._derivedMaterial=i,this._baseMaterial=i.baseMaterial):this._baseMaterial=i}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(i){this.geometry.detail=i}get curveRadius(){return this.geometry.curveRadius}set curveRadius(i){this.geometry.curveRadius=i}get customDepthMaterial(){return q$(this.material).getDepthMaterial()}set customDepthMaterial(i){}get customDistanceMaterial(){return q$(this.material).getDistanceMaterial()}set customDistanceMaterial(i){}_prepareForRender(i){const e=i.isTextOutlineMaterial,t=i.uniforms,n=this.textRenderInfo;if(n){const{sdfTexture:s,blockBounds:a}=n;t.uTroikaSDFTexture.value=s,t.uTroikaSDFTextureSize.value.set(s.image.width,s.image.height),t.uTroikaSDFGlyphSize.value=n.sdfGlyphSize,t.uTroikaSDFExponent.value=n.sdfExponent,t.uTroikaTotalBounds.value.fromArray(a),t.uTroikaUseGlyphColors.value=!e&&!!n.glyphColors;let l,c,u,h=0,d=0,p=0,g=0,v=0;if(e){let{outlineWidth:b,outlineOffsetX:x,outlineOffsetY:C,outlineBlur:S,outlineOpacity:E}=this;h=this._parsePercent(b)||0,d=Math.max(0,this._parsePercent(S)||0),l=E,g=this._parsePercent(x)||0,v=this._parsePercent(C)||0}else p=Math.max(0,this._parsePercent(this.strokeWidth)||0),p&&(u=this.strokeColor,t.uTroikaStrokeColor.value.set(u??G$),c=this.strokeOpacity,c==null&&(c=1)),l=this.fillOpacity;t.uTroikaEdgeOffset.value=h,t.uTroikaPositionOffset.value.set(g,v),t.uTroikaBlurRadius.value=d,t.uTroikaStrokeWidth.value=p,t.uTroikaStrokeOpacity.value=c,t.uTroikaFillOpacity.value=l??1,t.uTroikaCurveRadius.value=this.curveRadius||0;let _=this.clipRect;if(_&&Array.isArray(_)&&_.length===4)t.uTroikaClipRect.value.fromArray(_);else{const b=100*(this.fontSize||.1);t.uTroikaClipRect.value.set(a[0]-b,a[1]-b,a[2]+b,a[3]+b)}this.geometry.applyClipRect(t.uTroikaClipRect.value)}t.uTroikaSDFDebug.value=!!this.debugSDF,i.polygonOffset=!!this.depthOffset,i.polygonOffsetFactor=i.polygonOffsetUnits=this.depthOffset||0;const r=e?this.outlineColor||0:this.color;if(r==null)delete i.color;else{const s=i.hasOwnProperty("color")?i.color:i.color=new ut;r===s._input&&typeof r!="object"||s.set(s._input=r)}let o=this.orientation||fL;if(o!==i._orientation){let s=t.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let a=o!==fL&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(a){let[,l,c,u,h]=a;NI.set(0,0,0)[c]=l==="-"?1:-1,pL.set(0,0,0)[h]=u==="-"?-1:1,V$.lookAt(eke,NI.cross(pL),pL),s.setFromMatrix4(V$)}else s.identity();i._orientation=o}}_parsePercent(i){if(typeof i=="string"){let e=i.match(/^(-?[\d.]+)%$/),t=e?parseFloat(e[1]):NaN;i=(isNaN(t)?0:t/100)*this.fontSize}return i}localPositionToTextCoords(i,e=new et){e.copy(i);const t=this.curveRadius;return t&&(e.x=Math.atan2(i.x,Math.abs(t)-Math.abs(i.z))*Math.abs(t)),e}worldPositionToTextCoords(i,e=new et){return NI.copy(i),this.localPositionToTextCoords(this.worldToLocal(NI),e)}raycast(i,e){const{textRenderInfo:t,curveRadius:n}=this;if(t){const r=t.blockBounds,o=n?Ore():Lre(),s=o.geometry,{position:a,uv:l}=s.attributes;for(let c=0;c<l.count;c++){let u=r[0]+l.getX(c)*(r[2]-r[0]);const h=r[1]+l.getY(c)*(r[3]-r[1]);let d=0;n&&(d=n-Math.cos(u/n)*n,u=Math.sin(u/n)*n),a.setXYZ(c,u,h,d)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,o2.length=0,o.raycast(i,o2);for(let c=0;c<o2.length;c++)o2[c].object=this,e.push(o2[c])}}copy(i){const e=this.geometry;return super.copy(i),this.geometry=e,nke.forEach(t=>{this[t]=i[t]}),this}clone(){return new this.constructor().copy(this)}};Qre.forEach(i=>{const e="_private_"+i;Object.defineProperty(Nre.prototype,i,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})}),new vr,new ut;const rke=ne.forwardRef(({sdfGlyphSize:i=64,anchorX:e="center",anchorY:t="middle",font:n,fontSize:r=1,children:o,characters:s,onSync:a,...l},c)=>{const u=Ih(({invalidate:g})=>g),[h]=ne.useState(()=>new Nre),[d,p]=ne.useMemo(()=>{const g=[];let v="";return ne.Children.forEach(o,_=>{typeof _=="string"||typeof _=="number"?v+=_:g.push(_)}),[g,v]},[o]);return dre(()=>new Promise(g=>function({font:v,characters:_,sdfGlyphSize:b},x){Ure({font:v,sdfGlyphSize:b,text:Array.isArray(_)?_.join(`
`):""+_},x)}({font:n,characters:s},g)),["troika-text",n,s]),ne.useLayoutEffect(()=>{h.sync(()=>{u(),a&&a(h)})}),ne.useEffect(()=>()=>h.dispose(),[h]),ne.createElement("primitive",Lr({object:h,ref:c,font:n,text:p,anchorX:e,anchorY:t,fontSize:r,sdfGlyphSize:i},l),d)}),oke=ne.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:n,enableDamping:r=!0,keyEvents:o=!1,onChange:s,onStart:a,onEnd:l,...c},u)=>{const h=Ih(I=>I.invalidate),d=Ih(I=>I.camera),p=Ih(I=>I.gl),g=Ih(I=>I.events),v=Ih(I=>I.setEvents),_=Ih(I=>I.set),b=Ih(I=>I.get),x=Ih(I=>I.performance),C=e||d,S=n||g.connected||p.domElement,E=ne.useMemo(()=>new URe(C),[C]);return Cre(()=>{E.enabled&&E.update()},-1),ne.useEffect(()=>(o&&E.connect(o===!0?S:o),E.connect(S),()=>{E.dispose()}),[o,S,t,E,h]),ne.useEffect(()=>{const I=F=>{h(),t&&x.regress(),s&&s(F)},M=F=>{a&&a(F)},k=F=>{l&&l(F)};return E.addEventListener("change",I),E.addEventListener("start",M),E.addEventListener("end",k),()=>{E.removeEventListener("start",M),E.removeEventListener("end",k),E.removeEventListener("change",I)}},[s,a,l,E,h,v]),ne.useEffect(()=>{if(i){const I=b().controls;return _({controls:E}),()=>_({controls:I})}},[i,E]),ne.createElement("primitive",Lr({ref:u,object:E,enableDamping:r},c))});var W$,j$,ske=yw.div(W$||(W$=xS([`
  width: 100%;
  height: 100%;
`],[`
  width: 100%;
  height: 100%;
`]))),ake=function(){var i=IRe().progress;return _e.createElement(ERe,{center:!0,style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},_e.createElement(jne,{statusMessage:i+"% loaded"}))},lke=function(i){var e=Ih().camera,t=aQ(i.loader,i.src),n=null;if(t instanceof Lu?n=t:t.scene&&t.scene instanceof Lu?n=t.scene:typeof t!="object"||Array.isArray(t)||t===null||(n=t),n!==null){try{var r=new vr().setFromObject(n),o=r.getSize(new he).length(),s=r.getCenter(new he);e.position.set(s.x,s.y,s.z+1.25*o),e.lookAt(s),console.log("Calculated bounding box of model, re-set camera",{box:r,size:o,center:s})}catch(a){console.error("Error calculating bounding box of model",a)}return _e.createElement("primitive",{object:n,scale:1})}return console.log("Loaded model did not support any available option",{model:t,src:i.src,loader:i.loader}),_e.createElement(rke,{position:[0,0,0],color:"red"},"Failed to load model.")},cke=function(i){var e=Zee("Environment",{Light:QN({ambientIntensity:{min:0,max:5,step:.1,value:1},ambientColor:"#c4c4c4",directionalIntensity:{min:0,max:5,step:.1,value:Math.PI/2},directionalPosition:[0,10,10]})},{collapsed:!0}),t=e.ambientIntensity,n=e.directionalIntensity,r=e.directionalPosition,o=e.ambientColor;return _e.createElement(ske,{style:{backgroundColor:o}},_e.createElement(wRe,{camera:{position:[15,15,15]},style:{width:"100%",height:"100%"}},_e.createElement(ne.Suspense,{fallback:_e.createElement(ake,null)},_e.createElement("ambientLight",{intensity:t,color:o}),_e.createElement("directionalLight",{intensity:n,position:r}),_e.createElement(lke,{src:i.src,loader:i.loader}),_e.createElement(oke,null))))},Uf=yw.div(j$||(j$=xS([`
  padding: 0;
  width: 100%;
  height: 100%;
  text-align: center;
`],[`
  padding: 0;
  width: 100%;
  height: 100%;
  text-align: center;
`]))),uke=function(i){if(!i.src)return _e.createElement(Uf,null,"No 3D file set to display.");console.log("Loading 3D model from ".concat(i.src));var e=i.fileName||i.src.split("/").pop()||"",t=e.split(".").pop();i.src.startsWith("data:")&&!i.fileName&&(t=i.src.split(";")[0].split("/")[1]||"");var n=/^x\-([a-z]+)\-((bin)|(txt)|(text))$/;if(n.test(t)){var r=n.exec(t);r&&r.length>1&&(t=r[1])}var o=null;switch(t.toLowerCase()){case"gltf":case"glb":return o=zY,_e.createElement(Uf,null,_e.createElement(QCe,{src:i.src}));case"obj":o=afe;break;case"fbx":o=upe;break;case"ply":o=lfe;break;case"stl":o=ufe;break;case"xyz":o=hfe;break;case"p3v":case"zip":return _e.createElement(Uf,null,_e.createElement(z5e,{src:i.src}));case"jpg":case"png":case"jpeg":return _e.createElement(Uf,null,_e.createElement("img",{src:i.src,alt:e}));case"mp4":case"ogv":case"webm":return _e.createElement(Uf,null,_e.createElement("video",{src:i.src,controls:!0,autoPlay:!0}));case"mp3":case"wav":case"ogg":return _e.createElement(Uf,null,_e.createElement("audio",{src:i.src,controls:!0,autoPlay:!0}))}return o!==null?_e.createElement(Uf,null,_e.createElement(cke,{src:i.src,loader:o})):_e.createElement(Uf,null,_e.createElement("p",null,"SpecimenViewer3D Component."),_e.createElement("p",{style:{color:"red"}},'Source with type "',t,'" from "',BJ(i.src,25,"…"),'" is currently not supported.'))};function hke(){const e=new URLSearchParams(window.location.search).get("asset");return e?Es.jsx("div",{className:"App specimen-3d-viewer-full-size",children:Es.jsx(uke,{src:e})}):Es.jsx("h1",{children:"No asset specified."})}_Q.createRoot(document.getElementById("root")).render(Es.jsx(ne.StrictMode,{children:Es.jsx(hke,{})}));export{qke as C,K2 as G,fSe as J,rc as O,HEe as R,IEe as W,Mj as Y,$ie as _,AH as a,bt as b,Ce as c,Iw as d,me as e,Nu as f,Ur as g,Hi as h,Jn as i,Gk as j,Xie as k,xr as l,CEe as m,Vke as n,wn as o,zi as p,Kie as q,Rt as u};
